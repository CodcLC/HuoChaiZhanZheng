{"version":3,"sources":["assets\\scripts\\game\\ui\\losePanel.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,2DAAsD;AACtD,mCAAkC;AAClC,uCAAkC;AAClC,8CAAyC;AAEnC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAuC,6BAAM;IAA7C;QAAA,qEA8DC;QAdG,wBAAkB,GAAY,IAAI,CAAC;;IAcvC,CAAC;kBA9DoB,SAAS;IAG1B,0BAAM,GAAN;QACI,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAED,yBAAK,GAAL;QACI,0BAA0B;IAC9B,CAAC;IAES,4BAAQ,GAAlB;QACI,IAAI,CAAC,OAAO,EAAE,CAAA;IAClB,CAAC;IAED,yBAAK,GAAL;QACI,yBAAyB;QACzB,gBAAgB;QAChB,+BAA+B;QAC/B,0DAA0D;QAC1D,uBAAuB;QACvB,QAAQ;QACR,MAAM;QAPV,iBAkBC;QATG,OAAE,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAA,IAAI;YACrB,4BAA4B;YAC5B,IAAI,IAAI,EAAE;gBACN,mBAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAA,CAAC,+BAA+B;gBAE9D,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACpB,qBAAW,CAAC,QAAQ,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC;aAClD;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IACD,6BAAS,GAAT;QACI,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QACnB,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAGO,2BAAO,GAAf;QACI,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAA;QAC9B,WAAS,CAAC,gBAAgB,GAAG,KAAK,CAAA;QAClC,UAAU,CAAC;YACP,mBAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,iCAAiC,EAAE,cAAQ,WAAS,CAAC,gBAAgB,GAAG,IAAI,CAAA,CAAC,CAAC,CAAC,CAAA;QACvH,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAGD,0BAAM,GAAN;QACI,IAAI,IAAI,CAAC,kBAAkB,IAAI,WAAS,CAAC,gBAAgB,EAAE;YACvD,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAA;YAC/B,mBAAM,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAA,CAAC,SAAS;SAC7C;aAAM,EAAE,SAAS;YACd,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAA;YAC9B,WAAS,CAAC,gBAAgB,GAAG,KAAK,CAAA;YAClC,mBAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAA,CAAC,+BAA+B;YAE9D,IAAI,CAAC,SAAS,EAAE,CAAA;SAEnB;IACL,CAAC;;IAtBM,0BAAgB,GAAY,KAAK,CAAC,CAAE,cAAc;IAvCxC,SAAS;QAD7B,OAAO;OACa,SAAS,CA8D7B;IAAD,gBAAC;CA9DD,AA8DC,CA9DsC,gBAAM,GA8D5C;kBA9DoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { Export } from \"../../../syyx_sdk/export_sdk\";\nimport { ad } from \"../../sdk/ad\";\nimport uiBase from \"../../uiBase\";\nimport GameManager from \"../GameManager\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class losePanel extends uiBase {\n\n\n    onLoad() {\n        this.initUi();\n    }\n\n    start() {\n        // ad.recordEnd();        \n    }\n\n    protected onEnable(): void {\n        this.showRet()\n    }\n\n    share() {\n        // ad.recordShare(isok=>{\n        //     if(isok){\n        //         this.node.destroy();\n        //         GameManager.instance.playerController.revive();\n        //         ad.record();\n        //     }\n        // });\n\n        ad.video_show().then(isok => {\n            // audioManager.playBgGame()\n            if (isok) {\n                Export.hide_naive_YSAD('YSBN') // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN\n                \n                this.node.destroy();\n                GameManager.instance.playerController.revive();\n            }\n        });\n    }\n    subgiveUp() {\n        cc.Tween.stopAll();\n        cc.director.loadScene(\"main\");\n    }\n\n    static native_have_show: boolean = false;  // 原生结banner展示\n    private showRet() {\n        this.onNewBackHomeClick = true\n        losePanel.native_have_show = false\n        setTimeout(() => {\n            Export.show_native_YSAD(\"10304001\", \"Canvas/ui/losePanel/fail_parent\", () => { losePanel.native_have_show = true })\n        }, 400);\n    }\n\n    onNewBackHomeClick: boolean = true;\n    giveUp() {\n        if (this.onNewBackHomeClick && losePanel.native_have_show) {\n            this.onNewBackHomeClick = false\n            Export.click_native_YSAD(\"YSBN\") // 触发ysbn\n        } else { // 否则回到游戏\n            this.onNewBackHomeClick = true\n            losePanel.native_have_show = false\n            Export.hide_naive_YSAD('YSBN') // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN\n\n            this.subgiveUp()\n\n        }\n    }\n}\n"]}
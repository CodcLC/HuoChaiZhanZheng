{"version":3,"sources":["assets\\scripts\\game\\damageLabel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport damageTipPool from \"./damageTipPool\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class damageLabel extends cc.Component {\n\n    label:cc.Label=null;\n    damage:number=0;\n    color:cc.Color=cc.Color.GREEN;\n\n    onLoad(){\n        this.label=this.node.getComponent(cc.Label);\n    }\n    onEnable(){\n        this.node.color=this.color;\n        if(this.color.g==255&&this.color.r==0){\n            this.node.getComponent(cc.Label).string=\"+\"+this.damage.toString();\n            this.addHpAciton();\n        }else{\n            this.node.getComponent(cc.Label).string=this.damage.toString();\n            this.damageAction();\n        }\n\n    }\n    addHpAciton(){\n        this.label.fontSize=0;\n        this.label.lineHeight=0;\n        //this.node.opacity=255;\n        cc.tween(this.node)\n        .parallel(\n            cc.tween().by(0.01,{opacity:255}),\n            cc.tween().by(0.5,{y:80})\n        )\n        .by(0.2,{opacity:-255,y:40})\n        .call(()=>{\n            damageTipPool.instance.recoveryDmgLabel(this.node);\n        })\n        .start();\n        cc.tween(this.label)\n        .to(0.1,{fontSize:32,lineHeight:32})\n        .start();\n    }\n    damageAction(){\n        this.node.opacity=255;\n        cc.tween(this.node)\n        .parallel(\n            cc.tween().by(0.4,{y:120}),\n            cc.tween().to(0.06,{scale:1.4}).to(0.1,{scale:1})\n        )\n        .by(0.2,{opacity:-255,y:60})\n        .call(()=>{\n            damageTipPool.instance.recoveryDmgLabel(this.node);\n        })\n        .start();\n/*         cc.tween(this.label)\n        .to(0.06,{fontSize:45,lineHeight:45})\n        .to(0.07,{fontSize:32,lineHeight:32})\n        .start(); */\n    }\n\n    reuse(){\n/*         let size=(this.node.color.g==255&&this.color.r==0)?0:32;\n        this.label.fontSize=size;\n        this.label.lineHeight=size;\n        this.node.opacity=255; */\n    }\n    unuse(){\n        cc.Tween.stopAllByTarget(this.node);\n        if(this.label==null){\n            this.label=this.node.getComponent(cc.Label);\n        }\n        this.node.scale=0;\n/*         this.label.fontSize=0;\n        this.label.lineHeight=0; */\n        this.node.active=false;\n    }\n}\n"]}
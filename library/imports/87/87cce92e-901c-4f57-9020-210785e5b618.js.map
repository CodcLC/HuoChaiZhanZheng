{"version":3,"sources":["assets\\scripts\\game\\spawnEnemy.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,gDAA4C;AAC5C,qDAAgD;AAChD,mCAA8B;AAExB,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAwC,8BAAY;IAApD;QAAA,qEAoCC;QAlCG,eAAS,GAAc,IAAI,CAAC;QAC5B,oBAAc,GAAQ,QAAQ,CAAC;QAC/B,aAAO,GAAQ,CAAC,CAAC;QACjB,aAAO,GAAS,KAAK,CAAC;;IA+B1B,CAAC;IA7BG,2BAAM,GAAN;QACI,IAAI,CAAC,SAAS,GAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IACxD,CAAC;IAED,0BAAK,GAAL;QAAA,iBAgBC;QAfG,IAAG,IAAI,CAAC,cAAc,IAAE,SAAS,EAAC;YAC9B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAC,CAAC,CAAC;SAC/B;QACD,IAAG,CAAC,SAAS,EAAC,UAAU,EAAC,SAAS,EAAC,UAAU,EAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,EAAC;YACtF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAC,CAAC,CAAC;SAC/B;QACD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,UAAU,EAAC;YACzB,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;YACrC,KAAK,EAAC,IAAI;YACV,IAAI,EAAC,YAAY;YACjB,MAAM,EAAC,CAAC,EAAE,CAAC;SACd,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IACD,+BAAU,GAAV;QACI,IAAG,IAAI,CAAC,OAAO;YAAE,OAAO;QACxB,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC;QAClB,gBAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,EAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC3F,IAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAC,CAAC,EAAC;YAC3B,sBAAY,CAAC,SAAS,CAAC,wBAAS,CAAC,UAAU,CAAC,CAAC;SAChD;IACL,CAAC;IAnCgB,UAAU;QAD9B,OAAO;OACa,UAAU,CAoC9B;IAAD,iBAAC;CApCD,AAoCC,CApCuC,EAAE,CAAC,SAAS,GAoCnD;kBApCoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { audioName } from \"../audioNameMgr\";\nimport audioManager from \"../main/audioManager\";\nimport Events from \"./Events\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class spawnEnemy extends cc.Component {\n\n    animation:cc.Animation=null;\n    spawnEnemyName:string=\"enemy1\";\n    enemyHp:number=0;\n    isSpawn:boolean=false;\n\n    onLoad () {\n        this.animation=this.node.getComponent(cc.Animation);\n    }\n\n    start () {\n        if(this.spawnEnemyName==\"enemy10\"){\n            this.animation.node.scale=2;\n        }\n        if([\"enemy39\",\"miniBoss\",\"ladyBug\",\"bigSquid\",\"spiderling\"].includes(this.spawnEnemyName)){\n            this.animation.node.scale=0;\n        }\n        this.animation.on(\"finished\",()=>{\n            this.node.destroy();\n        });\n        this.animation.getClips()[0].events.push({\n            frame:0.14,\n            func:\"spawnEnemy\",\n            params:[\"\"]\n        });\n        this.animation.play();\n    }\n    spawnEnemy(){\n        if(this.isSpawn) return;\n        this.isSpawn=true;\n        Events.instance.spawnEnemy(this.spawnEnemyName,this.node.parent,cc.v2(this.node.position));\n        if(this.animation.node.scale>0){\n            audioManager.playAudio(audioName.CreepSpawn);\n        }\n    }\n}\n"]}
{"version":3,"sources":["assets\\scripts\\game\\ui\\buffPopup.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { Export } from \"../../../syyx_sdk/export_sdk\";\nimport { ad } from \"../../sdk/ad\";\nimport uiBase from \"../../uiBase\";\nimport uiManager from \"./uiManager\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class buffPopup extends uiBase {\n\n\n    @property(cc.Integer)\n    UIType:number = -1\n\n    onLoad () {\n        this.initUi();\n    }\n\n    start () {\n        \n    }\n\n    protected onEnable(): void {\n        this.showRet()\n    }\n\n    wudi(){\n        // audioManager.pauseBgGame()\n        ad.video_show().then(isok=>{\n            // audioManager.playBgGame()\n            if(isok){\n                uiManager.ins.wuDi();\n                this.close();\n            }\n        });\n    }\n    fullHp(){\n        // audioManager.pauseBgGame()\n        ad.video_show().then(isok=>{\n            // audioManager.playBgGame()\n            if(isok){\n                uiManager.ins.fullHp();\n                this.close();\n            }\n        });\n    }\n    doubleDamage(){\n        // audioManager.pauseBgGame()\n        ad.video_show().then(isok=>{\n            // audioManager.playBgGame()\n            if(isok){\n                cc.log(\"doubleDamage..........\")\n                uiManager.ins.doubleDamage();\n                this.subclose();\n            }\n        });\n    }\n    subclose(){\n        Export.hide_naive_YSAD('YSJS') // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN\n        \n        this.node.destroy();\n        cc.director.resume();\n    }\n\n    static native_have_show: boolean = false;  // 原生结banner展示\n    private showRet() {\n        cc.log(\"buff popup ....\")\n        this.onNewBackHomeClick = true\n        buffPopup.native_have_show = false\n        \n        var uistr = \"Canvas/ui/doubleDamagePopup/fail_parent\"\n        if (this.UIType==1){\n            uistr = \"Canvas/ui/doubleDamagePopup/fail_parent\"\n        }else if(this.UIType==2){\n            uistr = \"Canvas/ui/fullHpPopup/fail_parent\"\n        }else if (this.UIType==3){\n            uistr = \"Canvas/ui/wuDiPopup/fail_parent\"\n        }\n        cc.find(uistr).setScale(0.5)\n\n        setTimeout(() => {\n            Export.show_native_YSAD(\"10302001\",uistr , () => { buffPopup.native_have_show = true })\n        }, 400);\n    }\n\n    onNewBackHomeClick: boolean = true;\n    close() {\n        if (this.onNewBackHomeClick && buffPopup.native_have_show) {\n            this.onNewBackHomeClick = false\n            Export.click_native_YSAD(\"YSJS\") // 触发ysbn\n        } else { // 否则回到游戏\n            this.onNewBackHomeClick = true\n            buffPopup.native_have_show = false\n            \n            this.subclose()\n\n        }\n    }\n}\n"]}
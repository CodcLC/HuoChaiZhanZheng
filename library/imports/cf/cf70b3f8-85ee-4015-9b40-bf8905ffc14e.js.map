{"version":3,"sources":["assets\\syyx_sdk\\controller\\ad\\syyx_adv_manager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { ad_oppo_banner } from './ad_oppo_banner';\r\nimport { native_ad_data } from './../../model/model';\r\nimport { e_ad_id, e_ad_native_click_pro_type, e_ad_native_state, e_ad_native_type } from \"../../configs/syyx_sdk_enum\";\r\nimport { syyx_sdk_utils } from \"../../utils/syyx_sdk_utils\";\r\nimport { syyx_manager } from \"../syyx_manager\";\r\nimport { e_syyx_sdk_publish_type, syyx_const } from \"../../configs/syyx_sdk_config\";\r\nimport { ad_banner } from \"./ad_banner\";\r\nimport { ad_native_interstitial } from \"./ad_native_interstitial\";\r\nimport { ad_native_inner_interstitial } from \"./ad_native_inner_interstitial\";\r\nimport { ad_native_icon } from \"./ad_native_icon\";\r\n\r\nimport ad_block from \"./ad_block\";\r\n\r\nexport class syyx_adv_manager {\r\n\r\n    /**\r\n     * 原生池\r\n     */\r\n    static _native_data_cache = []\r\n\r\n    /**\r\n     * 广告adv配置表\r\n     */\r\n    static _adv_config_data\r\n    /**\r\n     * 配置表初始化完毕\r\n     */\r\n    static __adv_config_inited = false\r\n\r\n    /**\r\n     *  积木广告实例\r\n     */\r\n    static _block_instance = {}\r\n\r\n    /**\r\n    * 当前原生展示次数\r\n    */\r\n    static cur_native_show_count = 0\r\n\r\n    /**\r\n    * 登陆时间戳\r\n    */\r\n    static login_timestamp = 0\r\n\r\n    /**\r\n     * 是否已经初始化\r\n     */\r\n    static __inited = false\r\n\r\n    /**\r\n     * 原生点击率状态\r\n     */\r\n    static native_click_state = {}\r\n\r\n    /**\r\n     * 原生类型的上报情况\r\n     */\r\n    static native_report_record = {}\r\n    /**\r\n     * 加载广告配置 \r\n     */\r\n    static load_adv_config() {\r\n        let self = this\r\n        if (!this.__inited) {\r\n            this.__inited = true\r\n            this.login_timestamp = (new Date()).getTime()\r\n            syyx_sdk_utils.load_resource(syyx_manager.__adv_config_file_path, function (data) {\r\n                if (syyx_const.syyx_sdk_publish === e_syyx_sdk_publish_type.in) { // 不会相等\r\n                    self._adv_config_data = data;\r\n                } else {\r\n                    self._adv_config_data = syyx_sdk_utils.parse_csv(data, \"id\");\r\n                }\r\n\r\n                self._adv_config_data['10200001'].oppo_adv_id = syyx_manager.guobao_get_channel_ad_id('SP') // 激励视频\r\n                self._adv_config_data['10302001'].oppo_adv_id = syyx_manager.guobao_get_channel_ad_id('YSJS') // 原生结算 \r\n                self._adv_config_data['10304001'].oppo_adv_id = syyx_manager.guobao_get_channel_ad_id('YSBN') // 原生banner\r\n                self._adv_config_data['10304002'].oppo_adv_id = syyx_manager.guobao_get_channel_ad_id('YSIC') // 原生icon\r\n                self._adv_config_data['10400001'].oppo_adv_id = syyx_manager.guobao_get_channel_ad_id('BN') // 普通banner\r\n                self._adv_config_data['10600002'].oppo_adv_id = syyx_manager.guobao_get_channel_ad_id('HT') // oppo横版互推盒子\r\n                self._adv_config_data['10600003'].oppo_adv_id = syyx_manager.guobao_get_channel_ad_id('JGG') // oppo九宫格互推盒子\r\n                self._adv_config_data['10301001'].oppo_adv_id = syyx_manager.guobao_get_channel_ad_id('YSCP') // 原生插屏\r\n\r\n                self._adv_config_data['10200001'].vivo_adv_id = syyx_manager.guobao_get_channel_ad_id('SP') // 激励视频\r\n                self._adv_config_data['10302001'].vivo_adv_id = syyx_manager.guobao_get_channel_ad_id('YSJS') // 原生结算\r\n                self._adv_config_data['10304001'].vivo_adv_id = syyx_manager.guobao_get_channel_ad_id('YSBN') // 原生banner\r\n                self._adv_config_data['10304002'].vivo_adv_id = syyx_manager.guobao_get_channel_ad_id('YSIC') // 原生icon\r\n                self._adv_config_data['10400001'].vivo_adv_id = syyx_manager.guobao_get_channel_ad_id('BN') // 普通banner\r\n                self._adv_config_data['10600002'].vivo_adv_id = syyx_manager.guobao_get_channel_ad_id('HT') || '' // ov横版互推盒子\r\n                self._adv_config_data['10600003'].vivo_adv_id = syyx_manager.guobao_get_channel_ad_id('JGG') // oppo九宫格互推盒子\r\n                self._adv_config_data['10100001'].vivo_adv_id = syyx_manager.guobao_get_channel_ad_id('CP') // 普通插屏\r\n                self._adv_config_data['10301001'].vivo_adv_id = syyx_manager.guobao_get_channel_ad_id('YSCP') // 原生插屏\r\n\r\n                self.__adv_config_inited = true;\r\n                console.log(\"sdk----- adv config has loaded complete\", self._adv_config_data)\r\n\r\n                //预加载互推广告盒子\r\n                syyx_manager.pre_load_game_portal_box(e_ad_id.game_portal_box, null, null, null, null)\r\n                syyx_manager.preload_video()\r\n            }, this)\r\n\r\n            // 初始化上报记录\r\n            this.init_native_report_record()\r\n\r\n        }\r\n    }\r\n\r\n    static set_banner_height() {\r\n        ad_oppo_banner.set_banner_height()\r\n    }\r\n\r\n    /**\r\n     * 初始化原生上报记录\r\n     */\r\n    static init_native_report_record() {\r\n        this.native_report_record[e_ad_native_type.native_inner_interstitial] = {\r\n            \"start_count\": 0,\r\n            \"show_count\": 0,\r\n            \"click_count\": 0,\r\n        }\r\n        this.native_report_record[e_ad_native_type.native_banner] = {\r\n            \"start_count\": 0,\r\n            \"show_count\": 0,\r\n            \"click_count\": 0,\r\n        }\r\n        this.native_report_record[e_ad_native_type.native_interstitial] = {\r\n            \"start_count\": 0,\r\n            \"show_count\": 0,\r\n            \"click_count\": 0,\r\n        }\r\n        this.native_report_record[e_ad_native_type.native_icon] = {\r\n            \"start_count\": 0,\r\n            \"show_count\": 0,\r\n            \"click_count\": 0,\r\n        }\r\n    }\r\n\r\n    static init_first_banner_cd() {\r\n        ad_banner.init_first_banner_cd()\r\n    }\r\n\r\n    /**\r\n     * 储存原生数据\r\n     * @param native_data 原生数据\r\n     */\r\n    static add_native_data(native_data) {\r\n        for (let i in this._native_data_cache) {\r\n            if (this._native_data_cache[i].id == native_data.id) {\r\n                return\r\n            }\r\n        }\r\n        let length = this.get_oppo_native_cache_max_length()\r\n        //判断缓存数组长度是否超标\r\n        if (this._native_data_cache.length >= length) {\r\n            this._native_data_cache.splice(0, 1)\r\n        }\r\n        this._native_data_cache.push(native_data)\r\n    }\r\n\r\n    /**\r\n     * UI层要展示普通banner或者原生banner\r\n     */\r\n    static show_banner(ad_type?: igc.e_ad_type, ad_pos_id?: string, onLoad?: Function, onShow?: Function, onClose?: Function, onError?: Function) {\r\n        if (!this.__adv_config_inited) {\r\n            return\r\n        }\r\n        ad_banner.show_banner(ad_type, ad_pos_id, onLoad, onShow, onClose, onError)\r\n    }\r\n\r\n    /**\r\n    * ui层要隐藏banner或者原生banner\r\n    */\r\n    static hide_banner() {\r\n        if (!this.__adv_config_inited) {\r\n            return\r\n        }\r\n        ad_banner.hide_banner()\r\n    }\r\n\r\n    /**\r\n     * 展示原生icon\r\n     * @param parent 原生icon父节点\r\n     */\r\n    static show_native_icon(parent, ad_type?: igc.e_ad_type, ad_pos_id?: string, onLoad?: Function, onShow?: Function, onClose?: Function, onError?: Function) {\r\n        if (!this.__adv_config_inited) {\r\n            return\r\n        }\r\n        ad_native_icon.show_native_icon(parent, ad_type, ad_pos_id, onLoad, onShow, onClose, onError)\r\n    }\r\n\r\n    /**\r\n     * 隐藏原生icon\r\n     */\r\n    static hide_native_icon() {\r\n        if (!this.__adv_config_inited) {\r\n            return\r\n        }\r\n        ad_native_icon.hide_native_icon()\r\n    }\r\n\r\n    /**\r\n    *  展示原生插屏\r\n    */\r\n    static show_native_interstitial(ad_type?: igc.e_ad_type, ad_pos_id?: string, onLoad?: Function, onShow?: Function, onClose?: Function, onError?: Function) {\r\n        if (!this.__adv_config_inited) {\r\n            return\r\n        }\r\n\r\n        let __business_config_data = syyx_manager.__business_config_data\r\n        if(__business_config_data && __business_config_data[\"vivo_yscp_switch\"]) { // 原生插屏开关\r\n            if (__business_config_data[\"vivo_yscp_switch\"].value[0] == 0) {\r\n                onError && onError()\r\n                return\r\n            }\r\n        }\r\n        ad_native_interstitial.load_native_interstitial(ad_type, ad_pos_id, onLoad, onShow, onClose, onError)\r\n    }\r\n\r\n    /**\r\n    *  预加载结算原生\r\n    */\r\n    static preload_native_inner_interstitial(ad_type?: igc.e_ad_type, ad_pos_id?: string, onLoad?: Function, onShow?: Function, onClose?: Function, onError?: Function) {\r\n        if (!this.__adv_config_inited) {\r\n            return\r\n        }\r\n        ad_native_inner_interstitial.preload_native_inner_interstitial(ad_type, ad_pos_id, onLoad, onShow, onClose, onError)\r\n    }\r\n\r\n    static set_on_click_inner_interstitial_btn(click_back?) {\r\n        if (!this.__adv_config_inited) {\r\n            return\r\n        }\r\n        ad_native_inner_interstitial.set_on_click_inner_interstitial_btn(click_back)\r\n    }\r\n\r\n    /**\r\n     * 获取加载好的原生数据\r\n     * @param ignore_id  是否需要忽略某个广告id\r\n     */\r\n    static get_native_data(ignore_id = undefined) {\r\n        if (!ad_banner.can_show_first) {\r\n            console.log(\"igc ----- oppo's first native ad is in cd\")\r\n            return undefined\r\n        }\r\n\r\n        //判断各个原生点击率是否超标wednes\r\n        let banner_limit = this.check_is_click_limit(e_ad_native_type.native_banner)\r\n        let inner_limit = this.check_is_click_limit(e_ad_native_type.native_inner_interstitial)\r\n        let interstitial_limit = this.check_is_click_limit(e_ad_native_type.native_interstitial)\r\n\r\n        let cur_data_cache = []\r\n        for (let i in this._native_data_cache) {\r\n            if (this._native_data_cache[i].id != ignore_id) {\r\n\r\n                if (this._native_data_cache[i].native_type == e_ad_native_type.native_banner && !banner_limit) {\r\n                    cur_data_cache.push(this._native_data_cache[i])\r\n                } else if (this._native_data_cache[i].native_type == e_ad_native_type.native_inner_interstitial && !inner_limit) {\r\n                    cur_data_cache.push(this._native_data_cache[i])\r\n                } else if (this._native_data_cache[i].native_type == e_ad_native_type.native_interstitial && !interstitial_limit) {\r\n                    cur_data_cache.push(this._native_data_cache[i])\r\n                }\r\n            }\r\n        }\r\n\r\n        // console.log(\"根据过滤的id和点击率 筛选的池子:\", cur_data_cache)\r\n\r\n        if (this.check_native_data_list_is_reprot(cur_data_cache)) {\r\n            //全部数据都上报曝光过了\r\n            // console.log(\"igc----- syyx_adv_manager use old load native data\")\r\n            return this.get_min_order_native_data(cur_data_cache)\r\n        } else {\r\n            //有数据没有上报过曝光  用最新数据\r\n            return this.get_latest_native_data(cur_data_cache)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 点击上报了—-->移除原生数据\r\n     */\r\n    static remove_native_data(native_data: native_ad_data) {\r\n        for (let i in this._native_data_cache) {\r\n            if (this._native_data_cache[i].id == native_data.id) {\r\n                console.log(\"igc----- syyx_adv_manager remove native_data:\", native_data)\r\n                this._native_data_cache.splice(parseInt(i), 1)\r\n                return\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取加载好的原生数据\r\n     * @param ad_pos_id 配置表广告Id\r\n     */\r\n    static get_local_native_data(ad_pos_id?): native_ad_data {\r\n        return this.get_native_data()\r\n    }\r\n\r\n    /**\r\n     * 上报原生点击\r\n     * @param ad_pos_id \r\n     * @param ad_unit_id \r\n     */\r\n    static report_ad_click(ad_pos_id: string, native_data?) {\r\n        let ad_id = this.get_channel_ad_id(native_data.adPosId)\r\n        if (!ad_id) {\r\n            console.log(\"igc----- syyx_manager report_ad_click ad_id no configure in adv.csv\")\r\n            return\r\n        }\r\n\r\n        if (!native_data) {\r\n            console.log(\"igc----- syyx_adv_mamager report_ad_click native_data is null\")\r\n            return\r\n        }\r\n\r\n        console.log(\"igc ----- has been in report ad click\")\r\n        if (native_data.state != e_ad_native_state.show) {\r\n            console.log(\"igc----- syyx_adv_mamager report_ad_click native_data state is not e_ad_native_state.show\")\r\n            return\r\n        }\r\n\r\n        //记录------原生数据上报记录\r\n        let report_data = this.native_report_record[native_data.native_type]\r\n        report_data.click_count = Math.min(++report_data.click_count, report_data.show_count)\r\n\r\n        let ad_unit_id = native_data.adUnitId\r\n        let param = {\r\n            ad_id: ad_id,\r\n            ad_unit_id: ad_unit_id,\r\n            ad_type: igc.e_ad_type.native,\r\n            ad_pos_id: native_data.adPosId,\r\n            ad_event: ad_id,\r\n            ad_scene: ad_id,\r\n            sub_ad_type: igc.e_ad_native_type.native_banner_dialog\r\n        }\r\n        igc.igc_main.instance.report_ad_click(param)\r\n        //移除上报过点击的数据\r\n        this.remove_native_data(native_data)\r\n\r\n        ad_banner.report_ad_click(ad_pos_id, native_data)\r\n        ad_native_icon.report_ad_click(ad_pos_id, native_data)\r\n        ad_native_interstitial.report_ad_click(ad_pos_id, native_data)\r\n        ad_native_inner_interstitial.report_ad_click(ad_pos_id, native_data)\r\n    }\r\n\r\n    /**\r\n     * 上报原生曝光\r\n     * @param ad_pos_id //配置表广告ID \r\n     * @param ad_unit_id //原生数据上报ID\r\n     */\r\n    static report_ad_show(ad_pos_id: string, native_data?) {\r\n        let ad_id = syyx_adv_manager.get_channel_ad_id(native_data.adPosId)\r\n        if (!ad_id || ad_id == \"1\" || ad_id == \"0\") {\r\n            console.log(\"igc----- syyx_manager report_ad_show ad_id no configure in adv.csv\")\r\n            return\r\n        }\r\n\r\n        if (!native_data) {\r\n            console.log(\"igc----- syyx_adv_mamager report_ad_show native_data is null\")\r\n            return\r\n        }\r\n\r\n        //原生数据展示order +1\r\n        let max_order = syyx_adv_manager.get_native_data_list_max_order()\r\n        native_data.order = max_order + 1\r\n\r\n        if (native_data.state == e_ad_native_state.need_show || syyx_const.syyx_sdk_channel === igc.e_channel_type.hw_qg) {\r\n\r\n            if (native_data.state == e_ad_native_state.need_show) {\r\n                //记录------原生数据上报记录\r\n                let report_data = this.native_report_record[native_data.native_type]\r\n                report_data.show_count++\r\n                report_data.start_count++\r\n            }\r\n\r\n            let param = {\r\n                ad_id: ad_id,\r\n                ad_unit_id: native_data.adUnitId,\r\n                ad_type: igc.e_ad_type.native,\r\n                ad_pos_id: native_data.adPosId,\r\n                ad_event: ad_id,\r\n                ad_scene: ad_id,\r\n                sub_ad_type: igc.e_ad_native_type.native_banner_dialog\r\n            }\r\n            igc.igc_main.instance.report_ad_show(param)\r\n            native_data.state = e_ad_native_state.show // 加载到数据，曝光后state为2。没曝光还是继续可以用原数据展示\r\n        }\r\n\r\n        ad_banner.report_ad_show(ad_pos_id, native_data)\r\n        ad_native_icon.report_ad_show(ad_pos_id, native_data)\r\n        ad_native_interstitial.report_ad_show(ad_pos_id, native_data)\r\n        ad_native_inner_interstitial.report_ad_show(ad_pos_id, native_data)\r\n    }\r\n\r\n    static set_normal_banner_switch(value) {\r\n        ad_banner.set_normal_banner_switch(value)\r\n    }\r\n\r\n    /**\r\n     * 获取手q banner 上移距离\r\n     */\r\n    static get_qq_banner_top_offset() {\r\n        let business_config = syyx_manager.get_business_config()\r\n        if (business_config && business_config[\"banner_top_offset\"]) {\r\n            if (business_config[\"banner_top_offset\"].value) {\r\n                let offset = business_config[\"banner_top_offset\"].value\r\n                return offset[0] + Math.floor(Math.random() * (offset[1] - offset[0]))\r\n            }\r\n        }\r\n        return 0\r\n    }\r\n\r\n    static show_block(style, ad_type?: igc.e_ad_type, ad_pos_id?: string, onLoad?: Function, onShow?: Function, onClose?: Function, onError?: Function) {\r\n        if (!this._block_instance[ad_pos_id]) {\r\n            this._block_instance[ad_pos_id] = new ad_block()\r\n        }\r\n        if (!this.__adv_config_inited) {\r\n            return\r\n        }\r\n        this._block_instance[ad_pos_id].show_block(style, ad_type, ad_pos_id, onLoad, onShow, onClose, onError)\r\n    }\r\n\r\n    static hide_block(ad_pos_id) {\r\n        if (!this.__adv_config_inited) {\r\n            return\r\n        }\r\n        if (this._block_instance[ad_pos_id]) {\r\n            this._block_instance[ad_pos_id].hide_block()\r\n        }\r\n    }\r\n\r\n    static hide_all_block() {\r\n        if (!this.__adv_config_inited) {\r\n            return\r\n        }\r\n        for (let i in this._adv_config_data) {\r\n            if (this._adv_config_data[i].adv_type == igc.e_ad_type.block) {\r\n                let ad_pos_id = this._adv_config_data[i].id\r\n                if (this._block_instance[ad_pos_id]) {\r\n                    this._block_instance[ad_pos_id].hide_block()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 是否开启oppo新规\r\n     */\r\n    static check_is_open_oppo_rule() {\r\n        let business_config = syyx_manager.get_business_config()\r\n        if (syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg || syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg || syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * 增加原生广告展示次数\r\n     */\r\n    static add_native_show_count() {\r\n        if (this.check_is_open_oppo_rule()) {\r\n            this.cur_native_show_count++\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 当前游戏时长\r\n     */\r\n    static get_play_game_time() {\r\n        let cur_timestamp = (new Date()).getTime()\r\n        return (cur_timestamp - this.login_timestamp) / 1000\r\n    }\r\n\r\n    /**\r\n     * 判断当前是否达到展示次数上限\r\n     */\r\n    static check_is_show_count_limit() {\r\n\r\n        if (!this.check_is_open_oppo_rule()) {\r\n            return false\r\n        }\r\n\r\n        let oppo_native_show_limit = [60, 2]\r\n        let business_config = syyx_manager.get_business_config()\r\n        if (business_config && business_config[\"oppo_native_show_limit\"] && business_config[\"oppo_native_show_limit\"].value) {\r\n            oppo_native_show_limit = business_config[\"oppo_native_show_limit\"].value\r\n        }\r\n\r\n        let play_game_time = this.get_play_game_time()\r\n        let cur_show_limit = 2\r\n        if (play_game_time >= 0) {\r\n            cur_show_limit = (Math.floor(play_game_time / oppo_native_show_limit[0]) + 1) * oppo_native_show_limit[1]\r\n        }\r\n        return syyx_adv_manager.cur_native_show_count >= cur_show_limit\r\n    }\r\n\r\n    /**\r\n     * 获取原生数据缓存数组的最大长度\r\n     */\r\n    static get_oppo_native_cache_max_length() {\r\n        let length = 20\r\n        let business_config = syyx_manager.get_business_config()\r\n        if (business_config && business_config[\"oppo_native_cache_length\"] && business_config[\"oppo_native_cache_length\"].value) {\r\n            length = business_config[\"oppo_native_cache_length\"].value[0]\r\n        }\r\n        return length || 20\r\n    }\r\n\r\n    /**\r\n     * 检查全部原生数据是否都为已曝光过的\r\n     */\r\n    static check_native_data_list_is_reprot(native_data_list) {\r\n        if (native_data_list.length > 0) {\r\n            for (let i in native_data_list) {\r\n                if (native_data_list[i].state != e_ad_native_state.show) {\r\n                    return false\r\n                }\r\n            }\r\n        }\r\n        return true\r\n    }\r\n\r\n    /**\r\n     * 最近拉取到的原生数据  或者 没有上报过的数据\r\n     */\r\n    static get_latest_native_data(native_data_list) {\r\n\r\n        for (let i in native_data_list) {\r\n            if (native_data_list[i].state == e_ad_native_state.need_show) {\r\n                return native_data_list[i]\r\n            }\r\n        }\r\n\r\n        if (native_data_list.length > 0) {\r\n            return native_data_list[native_data_list.length - 1]\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /**\r\n     * 获取数据最大的order\r\n     */\r\n    static get_native_data_list_max_order(native_data_list = undefined) {\r\n        let list = []\r\n        let order = 0\r\n        if (native_data_list && native_data_list.length > 0) {\r\n            list = native_data_list\r\n        } else {\r\n            list = this._native_data_cache\r\n        }\r\n        if (list.length > 0) {\r\n            for (let i in list) {\r\n                if (list[i].order > order) {\r\n                    order = list[i].order\r\n                }\r\n            }\r\n        }\r\n        return order || 0\r\n    }\r\n\r\n    /**\r\n     * 获取数据中最小order的数据\r\n     * @param native_data_list 原生数据数组\r\n     */\r\n    static get_min_order_native_data(native_data_list) {\r\n        let data = undefined\r\n        let length = native_data_list.length\r\n        if (length > 0) {\r\n            for (let i in native_data_list) {\r\n                if (!data || native_data_list[i].order <= data.order) {\r\n                    data = native_data_list[i]\r\n                }\r\n            }\r\n        }\r\n        return data\r\n    }\r\n\r\n    /**\r\n    * 检查点击率是否超标\r\n    * @param native_ad_type 原生类型\r\n    */\r\n    static check_is_click_limit(native_ad_type) {\r\n        let self = this\r\n        let is_limit = false\r\n        let report_data = this.native_report_record[native_ad_type]\r\n        //当前已经处于点击率限制冷却时间中\r\n        if (this.native_click_state[native_ad_type] == e_ad_native_click_pro_type.cooling) { \r\n            // console.log(\"igc----- syyx_adv_manager native_type\", native_ad_type, \"is click limit? true!\")\r\n            return true\r\n        }\r\n\r\n        let cur_click_pro = report_data.click_count / report_data.show_count\r\n        let start_count = 10\r\n        let limit_pro = 1\r\n        let cool_time = 60\r\n        let business_config = syyx_manager.get_business_config()\r\n        if (business_config) {\r\n            if (native_ad_type == e_ad_native_type.native_banner) {\r\n                start_count = business_config[\"native_banner_click_pro_limit\"].value[0]\r\n                limit_pro = business_config[\"native_banner_click_pro_limit\"].value[1]\r\n                cool_time = business_config[\"native_banner_click_pro_limit\"].value[2]\r\n            } else if (native_ad_type == e_ad_native_type.native_inner_interstitial) {\r\n                start_count = business_config[\"native_inner_click_pro_limit\"].value[0] // 1000\r\n                limit_pro = business_config[\"native_inner_click_pro_limit\"].value[1] // 0.4\r\n                cool_time = business_config[\"native_inner_click_pro_limit\"].value[2] // 60\r\n            } else if (native_ad_type == e_ad_native_type.native_interstitial) {\r\n                start_count = business_config[\"native_interstitial_click_pro_limit\"].value[0]\r\n                limit_pro = business_config[\"native_interstitial_click_pro_limit\"].value[1]\r\n                cool_time = business_config[\"native_interstitial_click_pro_limit\"].value[2]\r\n            }\r\n\r\n            if (report_data.start_count > 0 && report_data.start_count % start_count == 0) {\r\n                is_limit = cur_click_pro >= limit_pro // 一开始为false\r\n            }\r\n        }\r\n\r\n        if (!this.native_click_state[native_ad_type]) {\r\n            this.native_click_state[native_ad_type] = e_ad_native_click_pro_type.active\r\n        }\r\n        if (is_limit && this.native_click_state[native_ad_type] == e_ad_native_click_pro_type.active) {\r\n            this.native_click_state[native_ad_type] = e_ad_native_click_pro_type.cooling\r\n            console.log(\"igc----- syyx_adv_manager run native click limit cool timer!!!\", cool_time)\r\n            setTimeout(function () {\r\n                //解除点击率限制\r\n                self.native_click_state[native_ad_type] = e_ad_native_click_pro_type.active\r\n                report_data.start_count = 0\r\n            }, cool_time * 1000)\r\n        }\r\n        return is_limit // 一开始为false\r\n    }\r\n\r\n    /**\r\n    * 根据渠道获取广告id\r\n    */\r\n    static get_channel_ad_id(ad_pos_id) {\r\n        if (!this.__adv_config_inited) {\r\n            return \"\"\r\n        }\r\n\r\n        try {\r\n            if (syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg) {\r\n                return this._adv_config_data[ad_pos_id].oppo_adv_id\r\n            } else if (syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {\r\n                return this._adv_config_data[ad_pos_id].vivo_adv_id\r\n            } else if (syyx_const.syyx_sdk_channel === igc.e_channel_type.tt) {\r\n                return this._adv_config_data[ad_pos_id].tt_adv_id\r\n            } else if (syyx_const.syyx_sdk_channel === igc.e_channel_type.qq) {\r\n                return this._adv_config_data[ad_pos_id].qq_adv_id\r\n            } else if (syyx_const.syyx_sdk_channel === igc.e_channel_type.wx) {\r\n                return this._adv_config_data[ad_pos_id].wx_adv_id\r\n            } else if (syyx_const.syyx_sdk_channel === igc.e_channel_type.apk) {\r\n                return this._adv_config_data[ad_pos_id].apk_adv_id\r\n            } else if (syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {\r\n                return \"web_ad_id\"\r\n            }\r\n        } catch (error) {\r\n            console.error(\"adv.csv do not have the ad_id of the ad_pos_id: \" + ad_pos_id)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 是否初始化完成\r\n     */\r\n    static is_inited() {\r\n        return this.__inited\r\n    }\r\n}\r\n\r\n\r\n"]}
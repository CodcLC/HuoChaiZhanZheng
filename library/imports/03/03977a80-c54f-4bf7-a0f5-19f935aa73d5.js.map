{"version":3,"sources":["assets\\scripts\\game\\swordRainCollider.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAGlF,oCAAmC;AACnC,mDAA2D;AAC3D,0CAAqC;AAE/B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA+C,qCAAY;IAA3D;QAAA,qEAgCC;QA9BG,YAAM,GAAW,CAAC,CAAC;QACnB,cAAQ,GAAW,CAAC,CAAC;QACrB,eAAS,GAAc,EAAE,CAAC;;IA4B9B,CAAC;IA1BG,oCAAQ,GAAR;QACI,IAAI,CAAC,MAAM,GAAG,kBAAQ,CAAC,QAAQ,CAAC,eAAe,CAAC;QAChD,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,WAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,CAAC;IAC/D,CAAC;IACD,iCAAK,GAAL;QAAA,iBAIC;QAHG,IAAI,CAAC,YAAY,CAAC;YACd,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,GAAG,EAAE,KAAI,CAAC,QAAQ,CAAC,CAAC;QAC3C,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAED,+BAAG,GAAH;QACI,KAAkB,UAAc,EAAd,KAAA,IAAI,CAAC,SAAS,EAAd,cAAc,EAAd,IAAc,EAAE;YAA7B,IAAI,KAAK,SAAA;YACV,YAAY;YACZ,KAAK,CAAC,YAAY,CAAC,4BAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,2BAAU,CAAC,SAAS,CAAC,CAAC;YACrF,YAAY;YACZ,+EAA+E;SAClF;IACL,CAAC;IACD,4CAAgB,GAAhB,UAAiB,KAAkB,EAAE,IAAiB;QAClD,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC;YAAE,OAAO;QAChD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IACD,2CAAe,GAAf,UAAgB,KAAkB,EAAE,IAAiB;QACjD,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC/C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACpC,CAAC;IA/BgB,iBAAiB;QADrC,OAAO;OACa,iBAAiB,CAgCrC;IAAD,wBAAC;CAhCD,AAgCC,CAhC8C,EAAE,CAAC,SAAS,GAgC1D;kBAhCoB,iBAAiB","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { audioName } from \"../audioNameMgr\";\nimport { data } from \"../sdk/data\";\nimport { attackType, enemyScript } from \"./animationState\";\nimport playerHp from \"./ui/playerHp\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class swordRainCollider extends cc.Component {\n\n    damage: number = 0;\n    interval: number = 0;\n    enemyTemp: cc.Node[] = [];\n\n    onEnable() {\n        this.damage = playerHp.instance.damageSowrdRain;\n        this.interval = Number(data.gameJson(\"swordRainInterval\"));\n    }\n    start() {\n        this.scheduleOnce(() => {\n            this.schedule(this.hit, this.interval);\n        }, 0.2);\n    }\n\n    hit() {\n        for (let enemy of this.enemyTemp) {\n            //@ts-ignore\n            enemy.getComponent(enemyScript[enemy.name]).beHit(this.damage, attackType.swordRain);\n            //@ts-ignore\n            //enemy.getComponent(enemyScript[enemy.name]).playBeHitSound(audioName.slash2);\n        }\n    }\n    onCollisionEnter(other: cc.Collider, self: cc.Collider) {\n        if (this.enemyTemp.includes(other.node)) return;\n        this.enemyTemp.push(other.node);\n    }\n    onCollisionExit(other: cc.Collider, self: cc.Collider) {\n        let index = this.enemyTemp.indexOf(other.node);\n        this.enemyTemp.splice(index, 1);\n    }\n}\n"]}
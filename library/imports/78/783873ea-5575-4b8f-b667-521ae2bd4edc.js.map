{"version":3,"sources":["assets\\scripts\\game\\ui\\winPanel.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,2DAAsD;AACtD,mCAAkC;AAClC,uCAAsC;AACtC,uCAAkC;AAE5B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAsC,4BAAM;IAA5C;QAAA,qEAoEC;QAdG,wBAAkB,GAAY,IAAI,CAAC;;IAcvC,CAAC;iBApEoB,QAAQ;IAGzB,yBAAM,GAAN;QACI,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAED,wBAAK,GAAL;QACI,kBAAkB;IACtB,CAAC;IAES,2BAAQ,GAAlB;QACI,IAAI,CAAC,OAAO,EAAE,CAAA;IAClB,CAAC;IAED,wBAAK,GAAL;QAAA,iBAoBC;QAnBG,yBAAyB;QACzB,gBAAgB;QAChB,6BAA6B;QAC7B,yBAAyB;QACzB,QAAQ;QACR,MAAM;QACN,OAAE,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAA,IAAI;YACrB,4BAA4B;YAC5B,IAAI,IAAI,EAAE;gBACN,mBAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAA,CAAC,+BAA+B;gBAE9D,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBAElB,UAAU,CAAC;oBACP,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;oBACnB,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBAClC,CAAC,EAAE,GAAG,CAAC,CAAC;aACX;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IACD,0BAAO,GAAP,UAAQ,MAAa;QACjB,IAAI,IAAI,GAAC,MAAM,CAAC,WAAI,CAAC,QAAQ,CAAC,MAAM,EAAC,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC;QACrD,WAAI,CAAC,WAAW,CAAC,MAAM,EAAC,MAAM,EAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IACD,4BAAS,GAAT;QACI,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QACnB,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAGO,0BAAO,GAAf;QACI,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAA;QAC9B,UAAQ,CAAC,gBAAgB,GAAG,KAAK,CAAA;QACjC,UAAU,CAAC;YACP,mBAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,gCAAgC,EAAE,cAAQ,UAAQ,CAAC,gBAAgB,GAAG,IAAI,CAAA,CAAC,CAAC,CAAC,CAAA;QACrH,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAGD,yBAAM,GAAN;QACI,IAAI,IAAI,CAAC,kBAAkB,IAAI,UAAQ,CAAC,gBAAgB,EAAE;YACtD,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAA;YAC/B,mBAAM,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAA,CAAC,SAAS;SAC7C;aAAM,EAAE,SAAS;YACd,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAA;YAC9B,UAAQ,CAAC,gBAAgB,GAAG,KAAK,CAAA;YACjC,mBAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAA,CAAC,+BAA+B;YAE9D,IAAI,CAAC,SAAS,EAAE,CAAA;SAEnB;IACL,CAAC;;IAtBM,yBAAgB,GAAY,KAAK,CAAC,CAAE,cAAc;IA7CxC,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAoE5B;IAAD,eAAC;CApED,AAoEC,CApEqC,gBAAM,GAoE3C;kBApEoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { Export } from \"../../../syyx_sdk/export_sdk\";\nimport { ad } from \"../../sdk/ad\";\nimport { data } from \"../../sdk/data\";\nimport uiBase from \"../../uiBase\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class winPanel extends uiBase {\n\n\n    onLoad () {\n        this.initUi();\n    }\n\n    start () {\n        // ad.recordEnd();\n    }\n\n    protected onEnable(): void {\n        this.showRet()\n    }\n\n    share(){\n        // ad.recordShare(isok=>{\n        //     if(isok){\n        //         this.getCoin(300);\n        //         this.giveUp();\n        //     }\n        // });\n        ad.video_show().then(isok => {\n            // audioManager.playBgGame()\n            if (isok) {\n                Export.hide_naive_YSAD('YSBN') // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN\n                \n                this.getCoin(600);\n\n                setTimeout(() => {\n                    cc.Tween.stopAll();\n                    cc.director.loadScene(\"main\");\n                }, 500);\n            }\n        });\n    }\n    getCoin(getNum:number){\n        let coin=Number(data.getCache(\"Base\",\"coin\"))+getNum;\n        data.updateCache(\"Base\",\"coin\",coin);\n    }\n    subgiveUp(){\n        cc.Tween.stopAll();\n        cc.director.loadScene(\"main\");\n    }\n\n    static native_have_show: boolean = false;  // 原生结banner展示\n    private showRet() {\n        this.onNewBackHomeClick = true\n        winPanel.native_have_show = false\n        setTimeout(() => {\n            Export.show_native_YSAD(\"10304001\", \"Canvas/ui/winPanel/fail_parent\", () => { winPanel.native_have_show = true })\n        }, 400);\n    }\n\n    onNewBackHomeClick: boolean = true;\n    giveUp() {\n        if (this.onNewBackHomeClick && winPanel.native_have_show) {\n            this.onNewBackHomeClick = false\n            Export.click_native_YSAD(\"YSBN\") // 触发ysbn\n        } else { // 否则回到游戏\n            this.onNewBackHomeClick = true\n            winPanel.native_have_show = false\n            Export.hide_naive_YSAD('YSBN') // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN\n\n            this.subgiveUp()\n\n        }\n    }\n}\n"]}
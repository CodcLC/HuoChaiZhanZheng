{"version":3,"sources":["assets\\scripts\\game\\ladyBugFx.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { caijiTools } from \"../caijiTools\";\nimport GameManager from \"./GameManager\";\nimport playerController from \"./playerController\";\nimport portal from \"./portal\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class ladyBugFx extends cc.Component {\n\n    @property(cc.ParticleSystem)\n    liquidParticle:cc.ParticleSystem=null;\n\n    speedX:number=0;\n    speedY:number=0;\n    damage:number=0;\n    isRightMove:boolean=false;//是否朝右\n    isCollide:boolean=false;\n    rigibody:cc.RigidBody=null;\n    onLoad(){\n        this.rigibody=this.node.getComponent(cc.RigidBody);\n    }\n    start(){\n        let time=(Math.abs(this.node.y-GameManager.instance.player.y)+40)/this.speedY;\n        let distanceX=Math.abs(this.node.x-GameManager.instance.player.x);\n        this.speedX=distanceX*3;\n        //this.speedX=(Math.abs(this.node.x-GameManager.instance.player.x))/time;\n        this.speedX=this.isRightMove==true?this.speedX:-this.speedX;\n        this.liquidParticle.angle=this.isRightMove==true?-30:-150;\n        this.rigibody.linearVelocity=cc.v2(this.speedX,0);\n    }\n    hit(player:cc.Node){\n        this.createSmoke();\n        player.getComponent(playerController).beHit(this.node,this.damage);\n    }\n    onBeginContact(contact: cc.PhysicsContact, selfCollider: cc.PhysicsCollider, otherCollider: cc.PhysicsCollider) {\n        if(this.isCollide) return;\n        let other = otherCollider.node;\n        if (other.group == \"ground\") {\n            this.createSmoke();\n        }else if (other.group==\"player\"){\n            this.hit(other);\n        }\n    }\n    async createSmoke(){\n        this.isCollide=true;\n        let prefab=await caijiTools.loadPrefab(\"prefabs/ladyBugSmoke\");\n        let smoke=caijiTools.createNode(prefab,this.node.parent);\n        smoke.setPosition(this.node.position);\n        smoke.active=true;\n        this.node.destroy();\n    }\n}\n"]}
{"version":3,"sources":["assets\\syyx_sdk\\syyx_ui\\ctr_test\\syyx_ui_ctr_item.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { syyx_const } from \"../../configs/syyx_sdk_config\";\r\nimport { e_ad_id, e_syyx_ctr_event_type } from \"../../configs/syyx_sdk_enum\";\r\nimport { ad_native_interstitial } from \"../../controller/ad/ad_native_interstitial\";\r\nimport { syyx_adv_manager } from \"../../controller/ad/syyx_adv_manager\";\r\nimport { syyx_ctr_manager } from \"../../controller/ctr_test/syyx_ctr_manager\";\r\nimport { syyx_manager } from \"../../controller/syyx_manager\";\r\nimport { native_ad_data } from \"../../model/model\";\r\nimport { syyx_sdk_api } from \"../../syyx_sdk_api\";\r\nimport { syyx_sdk_utils } from \"../../utils/syyx_sdk_utils\";\r\nimport { syyx_api_request } from \"../../utils/syyx_api\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class syyx_ui_ctr_item extends cc.Component {\r\n\r\n    @property(cc.Sprite)\r\n    game_icon: cc.Sprite = null;\r\n\r\n    @property(cc.Label)\r\n    game_name: cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    reward_icon: cc.Node = null;\r\n\r\n    @property(cc.Label)\r\n    rewardNum: cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    label_bg1: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    label_bg2: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    label_bg3: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    label_bg4: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    label_bg5: cc.Node = null;\r\n\r\n    private index = undefined\r\n    private click_back = undefined\r\n    private app = undefined\r\n\r\n    constructor() {\r\n        super()\r\n    }\r\n\r\n    on_click() {\r\n\r\n        if (syyx_ctr_manager.check_is_ctr_test_compelete()) {\r\n            return\r\n        }\r\n\r\n        if (!this.app) {\r\n            return\r\n        }\r\n        let self = this\r\n\r\n        let dot_data = { // 打点参数\r\n            location_id: syyx_ctr_manager.new_product_location_id,\r\n            uid: syyx_manager.login_user_id,\r\n            config_id: self.app.gc_id, \r\n            icon_id: self.app.iconid\r\n        }\r\n        syyx_ui_ctr_item.click_navigation_dot('AdvertisingClick', dot_data)\r\n\r\n        // // 点击了icon，跳转游戏\r\n        if (window['qg'] && (window['qg'].getSystemInfoSync().platformVersionCode >= 1050) && window['qg'].navigateToMiniGame) {\r\n            window['qg'].navigateToMiniGame({\r\n                pkgName: this.app.package,\r\n                success: function() { // 跳转成功打点\r\n                    syyx_ui_ctr_item.click_navigation_dot('AdvertisingJump', dot_data)\r\n                },\r\n                fail: function (res) {\r\n                    console.log(JSON.stringify(res))\r\n                }\r\n            })\r\n        }\r\n\r\n        let reward_num = syyx_ctr_manager.get_new_products_reward()\r\n        if (reward_num != 0) {\r\n            this.reward_icon.active = true\r\n            this.rewardNum.node.active = true\r\n            this.rewardNum.string = syyx_ctr_manager.get_new_products_reward() + \"\" // 100\r\n            this.reward_icon.getComponent(cc.Animation).play(\"zuanshixiaoshi\")\r\n        }\r\n\r\n        this.click_back && this.click_back()\r\n\r\n    }\r\n\r\n    static click_navigation_dot(type, params) {\r\n        let reqD = {\r\n            log_type: type,\r\n            data: JSON.stringify(params)\r\n        }\r\n        syyx_api_request.apiPost('da_dot', syyx_const.guobao_da_dot_url, reqD, (res) => {\r\n             console.log('跳转打点回调结果-->', res)\r\n        })\r\n    }\r\n\r\n    refresh(index, data, click_back?) {\r\n\r\n        this.app = data\r\n\r\n        if (!this.app) {\r\n            this.node.active = false\r\n            return\r\n        }\r\n\r\n        this.node.off(cc.Node.EventType.TOUCH_END, this.on_click, this)\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.on_click, this)\r\n\r\n        this.label_bg1.active = false\r\n        this.label_bg2.active = false\r\n        this.label_bg3.active = false\r\n        this.label_bg4.active = false\r\n        this.label_bg5.active = false\r\n        this.node.active = true\r\n        this.game_icon.node.active = true\r\n        this.reward_icon.active = false\r\n        this.rewardNum.node.active = false\r\n\r\n        syyx_sdk_utils.set_texture_url(this.game_icon, this.app.icon)\r\n        this.game_name.string = this.app.name;\r\n        // this.game_name.string = '测试名字';\r\n        this.index = index\r\n        this.click_back = click_back\r\n        this.set_label_bg_skin(index)\r\n\r\n        let dot_data = { // 打点参数\r\n            location_id: syyx_ctr_manager.new_product_location_id,\r\n            uid: syyx_manager.login_user_id,\r\n            config_id: this.app.gc_id, \r\n            icon_id: this.app.iconid\r\n        }\r\n\r\n        syyx_ui_ctr_item.click_navigation_dot('AdvertisingExposure', dot_data) // 曝光打点\r\n    }\r\n\r\n    set_label_bg_skin(index: number) {\r\n        if (index != null) {\r\n            switch (index) {\r\n                case 0:\r\n                case 3:\r\n                    this.label_bg5.active = true\r\n                    break;\r\n                case 1:\r\n                    this.label_bg4.active = true\r\n                    break;\r\n                case 2:\r\n                    this.label_bg3.active = true\r\n                    break;\r\n                case 4:\r\n                    this.label_bg2.active = true\r\n                    break;\r\n                case 5:\r\n                    this.label_bg1.active = true\r\n                    break;\r\n                case 6:\r\n                    this.label_bg2.active = true\r\n                    break;\r\n                case 7:\r\n                    this.label_bg5.active = true\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n"]}
{"version":3,"sources":["assets\\scripts\\game\\skillPool.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class skillPool extends cc.Component {\n\n    @property(cc.Prefab)\n    swordItem: cc.Prefab = null;\n    @property(cc.Prefab)\n    swordItem2: cc.Prefab = null;\n    @property(cc.Prefab)\n    swordSmoke: cc.Prefab = null;\n    @property(cc.Prefab)\n    rockPrefab: cc.Prefab = null;\n    @property(cc.Prefab)\n    thunderBallPrefab: cc.Prefab = null;\n\n    swordPool: cc.NodePool = new cc.NodePool(\"swordItem\");\n    sword2Pool: cc.NodePool = new cc.NodePool(\"swordItem2\");\n    swordSmokePool: cc.NodePool = new cc.NodePool(\"swordSmoke\");\n    rockPool: cc.NodePool = new cc.NodePool(\"rock\");\n    thunderBallPool: cc.NodePool = new cc.NodePool(\"thunderBall_burst\");\n\n    static instance: skillPool = null;\n    onLoad() {\n        skillPool.instance = this;\n    }\n    onDisable() {\n        this.rockPool.clear();\n        this.swordPool.clear();\n        this.sword2Pool.clear();\n        this.swordSmokePool.clear();\n        this.thunderBallPool.clear();\n    }\n    start() {\n        this.init();\n    }\n    init() {\n        this.createThunderBall();\n        this.createSword();\n        this.createSword2();\n        this.createSwordSmoke();\n        this.createRock();\n    }\n    createThunderBall() {\n        for (let i = 0; i < 20; i++) {\n            let thunderBall = cc.instantiate(this.thunderBallPrefab);\n            thunderBall.name = thunderBall.name + i;\n            this.thunderBallPool.put(thunderBall);\n        }\n    }\n    createSword() {\n        for (let i = 0; i < 10; i++) {\n            let sword = cc.instantiate(this.swordItem);\n            sword.active = false;\n            this.swordPool.put(sword);\n        }\n    }\n    createSword2() {\n        for (let i = 0; i < 12; i++) {\n            let sword = cc.instantiate(this.swordItem2);\n            this.sword2Pool.put(sword);\n        }\n    }\n    createSwordSmoke() {\n        for (let i = 0; i < 15; i++) {\n            let smoke = cc.instantiate(this.swordSmoke);\n            this.swordSmokePool.put(smoke);\n        }\n    }\n    createRock() {\n        for (let i = 0; i < 50; i++) {\n            let rock = cc.instantiate(this.rockPrefab);\n            this.rockPool.put(rock);\n        }\n    }\n    getThunderBall() {\n        let thunderBall = this.thunderBallPool.get();\n        if (!thunderBall) {\n            thunderBall = cc.instantiate(this.thunderBallPrefab);\n            thunderBall.name = thunderBall.name + this.thunderBallPool.size();\n        }\n        return thunderBall;\n    }\n    recoveryThunderball(node: cc.Node) {\n        this.thunderBallPool.put(node);\n    }\n    getRock() {\n        let rock = this.rockPool.get();\n        if (!rock) {\n            rock = cc.instantiate(this.rockPrefab);\n        }\n        return rock;\n    }\n    recoveryRock(node: cc.Node) {\n        this.rockPool.put(node);\n    }\n    getSwordSmoke() {\n        let smoke = this.swordSmokePool.get();\n        if (!smoke) {\n            smoke = cc.instantiate(this.swordSmoke);\n        }\n        return smoke;\n    }\n    recoverySwordSmoke(node: cc.Node) {\n        this.swordSmokePool.put(node);\n    }\n    getSword1() {\n        let sword1 = this.swordPool.get();\n        if (!sword1) {\n            sword1 = cc.instantiate(this.swordItem);\n        }\n        return sword1;\n    }\n    recoverySword1(node: cc.Node) {\n        this.swordPool.put(node);\n    }\n    getSword2() {\n        let sword2 = this.sword2Pool.get();\n        if (!sword2) {\n            sword2 = cc.instantiate(this.swordItem2);\n        }\n        return sword2;\n    }\n    recoverySword2(node: cc.Node) {\n        this.sword2Pool.put(node);\n    }\n}\n"]}
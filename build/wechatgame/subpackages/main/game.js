window.__require=function t(e,n,i){function o(s,r){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var _=n[s]={exports:{}};e[s][0].call(_.exports,function(t){return o(e[s][1][t]||t)},_,_.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({Constant:[function(t,e,n){"use strict";cc._RF.push(e,"f852bjTRuNJxLtQma6Gkp/Z","Constant");var i=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.RoleState=n.PicItem=n.maxLineLength=n.Levelitem=n.SkinInfo=n.ColliderTag=n.EventName=n.PanelName=n.PageName=n.Turn=n.PlayerDirect=n.KeyAndLock=n.GameState=void 0;var o=cc._decorator,a=o.ccclass,s=(o.property,function(){function t(){}return t.CT_LevelCountPerTheme=10,t.CT_SkinCount=6,t.CT_TotalLevelCount=140,t.levelTheme=0,t.CT_LevelThemeNum=0,t.CT_RewardDiamondCount=20,t.ST_StarNum="StarNum",t.WinStar=3,t.Money=[200,2,350,5,500,10,20],t.LastDailyBonusIndex="LastDailyBonusIndex",t.LastDailyBonusTime="LastDailyBonusTime",t.ST_GameData="GameData",t.ST_CurLevelId1="CurLevelId1",t.ST_CurLevelId2="CurLevelId2",t.ST_CurLevelId3="CurLevelId3",t.ST_CurLevelId4="CurLevelId4",t.ST_CurLevelType="CruLevelType",t.ST_MaxUnlockLevelCount="MaxUnlockLevelCount",t.ST_AudioOn="AudioOn",t.ST_firstLevel="ST_firstLevel",t.ST_CoinCount="CoinCount",t.E_SELECT_SKIN="select_skin",t.ST_Privacy="ST_Privacy",t.ST_ShakeOn="ST_ShakeOn",t.ST_SignOnceOn="SignOnceOn",t.ST_SignOnceOnTime="ST_SignOnceOnTime",t.ST_task="ST_task",t.ST_taskFinish="ST_taskFinish",t.ST_taskTime="ST_task_time",t.ST_taskTimeSec="ST_task_timesec",t.ST_boxTM="ST_boxTM",t.ST_PicItem="ST_PicItem",t.E_TRY_SKIN="try_skin",t.ST_SkinInfo="SkinInfo",t.ST_CurSkinId="ST_CurSkinId",t.ST_LevelItem1="LevelItem1",t.ST_LevelItem2="LevelItem2",t.ST_LevelItem3="LevelItem3",t.ST_LevelItem4="LevelItem4",t.EnergyNum="EnergyNum",t.ST_energyTM="ST_energyTM",t.E_UPDATE_ENERGY="E_UPDATE_ENERGY",t.E_VIEW_SKIN="E_VIEW_SKIN",t.Navigation_Bar="Navigation_Bar",t.E_GAME_LOGIC="E_GAME_LOGIC",t.E_UPDATE_PROGRESS="E_UPDATE_PROGRESS",t.E_DRAWLINE_LENGTH="E_DRAWLINE_LENGTH",t.E_GAME_START="E_GAME_START",t.E_LEVEL_FAILED="E_LEVEL_FAILED",t.E_LEVEL_COMPLETE="E_LEVEL_COMPLETE",t.E_UPDATE_DISTANCE="E_UPDATE_DISTANCE",t.E_GAME_VECTORY="put_game_vectory",t.E_BACK_HOME="back_home",t.E_TOUCH_SCREEN="touch_screen",t.E_UPDATE_COIN="update_coin",t.E_SHOP_UPDATE_COIN="shop_update_coin",t.E_SHOP_OFLOCK="E_SHOP_OFLOCK",i([a],t)}());n.default=s,function(t){t[t.None=-1]="None",t[t.Prepare=0]="Prepare",t[t.Start=1]="Start",t[t.Success=2]="Success",t[t.Failed=3]="Failed"}(n.GameState||(n.GameState={})),function(t){t[t.None=-1]="None",t[t.Blue=0]="Blue",t[t.Pink=1]="Pink",t[t.Purple=2]="Purple",t[t.Red=3]="Red"}(n.KeyAndLock||(n.KeyAndLock={})),function(t){t[t.Unkown=0]="Unkown",t[t.Down=1]="Down",t[t.Top=2]="Top",t[t.Left=3]="Left",t[t.Right=4]="Right"}(n.PlayerDirect||(n.PlayerDirect={})),function(t){t[t.Default=0]="Default",t[t.Turn=1]="Turn",t[t.NoTurn=2]="NoTurn"}(n.Turn||(n.Turn={}));var r=function(){function t(){}return t.UiHome="UiHome",t.UiLoad="UiLoad",t.UiGame="UiGame",t.UiGame2="UiGame2",t.UiGame4="UiGame4",t.UiLevel="UiLevel",t.UiShop="UiShop",t.UiSign="UiSign",t.UiGameLoad="UiGameLoad",t}();n.PageName=r;var c=function(){function t(){}return t.PausePanel="PausePanel",t.CoinTipsPanel="CoinTipsPanel",t.FailedPanel="FailedPanel",t.SucceedPanel="SucceedPanel",t.TrialPanel="TrialPanel",t.EnergyPanel="EnergyPanel",t}();n.PanelName=c;var l=function(){function t(){}return t.EventMsg="EventMsg",t.Win="Win",t.Faid="Faid",t.Static="Static",t.Dynamic="Dynamic",t.GuideHide="GuideHide",t.GuideDisp="GuideDisp",t.BulletOther="BulletOther",t.WinOperate="WinOperate",t.DrawingEnd="DrawingEnd",t.BtnClear="BtnClear",t.BtnDuck="BtnDuck",t.BtnTispShake="BtnTispShake",t}();n.EventName=l;var _=function(){function t(){}return t.line=5,t.target=100,t}();n.ColliderTag=_;var d=function(){function t(t){var e=JSON.parse(t);e?(e.Id?this.Id=parseInt(e.Id):cc.log("Id \u5b57\u6bb5\u4e0d\u5b58\u5728!"),e.State?this.State=parseInt(e.State):cc.log("State \u5b57\u6bb5\u4e0d\u5b58\u5728!"),e.Price?this.Price=parseInt(e.Price):cc.log("Price \u5b57\u6bb5\u4e0d\u5b58\u5728!")):cc.log("\u6784\u5efa SkinInfo \u7684\u5b57\u7b26\u4e32\u4e0d\u5408\u6cd5!")}return t.prototype.ToString=function(){return'{"Id":"'+this.Id+'","State:"'+this.State+'","Price":"'+this.Price+'"}'},t}();n.SkinInfo=d;var h=function(){function t(t){var e=JSON.parse(t);e?(e.Id?this.Id=parseInt(e.Id):cc.log("Id \u5b57\u6bb5\u4e0d\u5b58\u5728!"),e.State?this.State=parseInt(e.State):cc.log("State \u5b57\u6bb5\u4e0d\u5b58\u5728!"),e.Trail?this.Trail=parseInt(e.Trail):cc.log("Trail \u5b57\u6bb5\u4e0d\u5b58\u5728!"),e.TrailState?this.TrailState=parseInt(e.TrailState):cc.log("TrailState \u5b57\u6bb5\u4e0d\u5b58\u5728!"),e.prog?this.prog=parseInt(e.prog):cc.log("TrailState \u5b57\u6bb5\u4e0d\u5b58\u5728!")):cc.log("\u6784\u5efa Levelitem \u7684\u5b57\u7b26\u4e32\u4e0d\u5408\u6cd5!")}return t.prototype.ToString=function(){return'{"Id":"'+this.Id+'","Trail":"'+this.Trail+'","State:"'+this.State+'","TrailState":"'+this.TrailState+'"}'},t}();n.Levelitem=h;n.maxLineLength=function(){};var p=function(){function t(t){var e=JSON.parse(t);e?(e.Id?this.Id=parseInt(e.Id):cc.log("Id \u5b57\u6bb5\u4e0d\u5b58\u5728!"),e.State?this.State=parseInt(e.State):cc.log("State \u5b57\u6bb5\u4e0d\u5b58\u5728!")):cc.log("\u6784\u5efa Levelitem \u7684\u5b57\u7b26\u4e32\u4e0d\u5408\u6cd5!")}return t.prototype.ToString=function(){return'{"Id":"'+this.Id+'","State:"'+this.State+'"}'},t}();n.PicItem=p,function(t){t[t.idle=0]="idle",t[t.move=1]="move",t[t.dead=2]="dead",t[t.finish=3]="finish"}(n.RoleState||(n.RoleState={})),cc._RF.pop()},{}],E10controller:[function(t,e,n){"use strict";cc._RF.push(e,"44ec1xghrhGfoDx/0DVq2+7","E10controller");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c,l=t("../audioNameMgr"),_=t("../caijiTools"),d=t("../main/audioManager"),h=t("./animationState"),p=t("./enemyAnimation"),u=t("./enemyBase"),y=t("./enemyHitCollider"),f=t("./Events"),g=t("./GameManager"),m=t("./ui/bossHp"),v=t("./ui/uiManager"),b=cc._decorator,k=b.ccclass,w=b.property;(function(t){t[t.attack=0]="attack",t[t.skill1=1]="skill1",t[t.skill2=2]="skill2"})(c||(c={}));var x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.dieEffectName="",e.rushSpeed=700,e.moveSpeed=120,e.nowSpeed=0,e.AI_interval=.5,e.stopDistance=300,e.hp=0,e.hpTimes=1,e.beHitForce_y=25e3,e.beHitForce_x=25e3,e.beHitForce_y_shuriken=5e4,e.beHitForce_x_attack3=35e4,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.allowMoveTime=2,e.allowAttackTime=2,e.attackTimes=0,e.skill1_x=0,e.isStartRush=!1,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isMove=!1,e.isWuDi=!1,e.dmgCollider=null,e.isHighLight=!1,e.highLight_A={a:.5},e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(p.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){v.default.ins.showBossHp(m.bossName.enemy10),this.initData(),this.hp=this.hpMax*this.hpTimes,this.idle()},e.prototype.update=function(){if(this.highLightAction(),this.skill2Move(),0!=this.isMove){var t=this.getDistanceX();if(Math.abs(t)<this.stopDistance)this.hit();else{if(this.enemyAnimation.state==h.enemyState.attack)return;this.moveToPlayer()}}},e.prototype.onBeginContact=function(t,e,n){"wall"==n.node.group&&this.skill2End()},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].getComponent(y.default).enemyControl=this,this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(t){void 0===t&&(t=!1),null!=this.dmgCollider&&(this.dmgCollider==c.skill1&&0==t||(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null))},e.prototype.AI_start=function(){var t=this;if(this.allowAttackTime=_.caijiTools.random_int(2,3),this.allowMoveTime=_.caijiTools.random_int(200,500)/100,!this.isDie){if(g.default.instance.playerController.isDie)return this.changeMovState(!1),void this.scheduleOnce(function(){t.AI_start()},1);Math.abs(this.getDistanceX())<this.stopDistance?this.hit():(this.changeDirection(),this.enemyAnimation.changeState(h.enemyState.move,1,!0),this.changeMovState(!0),this.nowSpeed=this.skeleton.node.scaleX>0?-this.moveSpeed:this.moveSpeed,this.scheduleOnce(function(){t.enemyAnimation.state==h.enemyState.move&&t.skill2()},this.allowMoveTime))}},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(t){var e=this;void 0===t&&(t=h.enemyState.idle),this.changeMovState(!1),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(h.enemyState.idle,1,!0,!0),this.scheduleOnce(function(){e.enemyAnimation.state==h.enemyState.idle&&(t==h.enemyState.idle?e.AI_start():e.skill1())},this.AI_interval)},e.prototype.changeDirection=function(){null!=g.default.instance.player&&(this.skeleton.node.scaleX=g.default.instance.player.x-this.node.x>0?-this.scaleX_skeleton:this.scaleX_skeleton)},e.prototype.die=function(){this.isDie=!0,this.endRush(),this.setRigibodySpeed(0,0),this.changeMovState(!1),this.unscheduleAllCallbacks(),this.enemyAnimation.changeState(h.enemyState.die,1,!1,!0),this.dieCount(),d.default.playAudio(l.audioName.E10_death)},e.prototype.getUp=function(){this.enemyAnimation.changeState(h.enemyState.get_up,1,!1,!0)},e.prototype.moveToPlayer=function(){this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0)},e.prototype.hitComplete=function(){var t=this;this.attackTimes<this.allowAttackTime?this.getDistanceX()<=this.stopDistance?this.hit():(this.changeDirection(),this.enemyAnimation.changeState(h.enemyState.move,1,!0),this.changeMovState(!0),this.nowSpeed=this.skeleton.node.scaleX>0?-this.moveSpeed:this.moveSpeed,this.scheduleOnce(function(){t.enemyAnimation.state==h.enemyState.move&&t.skill2()},this.allowMoveTime)):this.skill2()},e.prototype.hit=function(){var t=this;this.attackTimes++,this.changeDirection(),this.changeMovState(!1),this.setRigibodySpeed(0,0),this.showDamageCollider(c.attack),this.enemyAnimation.changeState(h.enemyState.attack,1,!1),this.scheduleOnce(function(){t.enemyAnimation.state==h.enemyState.attack&&t.getDamageCollider().getComponent(y.default).hit(t.node,t.damage)},1.1),this.scheduleOnce(function(){d.default.playAudio(l.audioName.E10_attack)},.6)},e.prototype.hit_rush=function(){this.dmgCollider==c.skill1&&this.getDamageCollider().getComponent(y.default).hit(this.node,this.damage,!0)},e.prototype.skill1=function(){this.skill1_x=g.default.instance.player.x,this.skill1_x=this.skeleton.node.scaleX>0?this.skill1_x+200:this.skill1_x-200,this.isWuDi=!0,this.enemyAnimation.changeState(h.enemyState.skill1,1,!1,!0),this.showDamageCollider(c.skill2),d.default.playAudio(l.audioName.E10_Jump)},e.prototype.frameEvent_skill1=function(t,e){var n=this;"StopMove"==e.data.name?(d.default.playAudio(l.audioName.Spell_Earth_02),this.isWuDi=!1,f.default.instance.screenShake(),this.FX_skill1(),this.getDamageCollider().getComponent(y.default).hit(this.node,Math.floor(1.2*this.damage),!0)):"Move"==e.data.name&&this.scheduleOnce(function(){n.node.x=n.skill1_x,n.skeleton.node.scaleX=n.node.x<g.default.instance.player.x?-n.scaleX_skeleton:n.scaleX_skeleton},.05)},e.prototype.FX_skill1=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return[4,_.caijiTools.loadPrefab("prefabs/FX_E10")];case 1:return t=n.sent(),(e=_.caijiTools.createNode(t,this.node.parent)).setSiblingIndex(g.default.instance.player.getSiblingIndex()+1),e.setPosition(this.node.x,this.node.y-20),e.active=!0,[2]}})})},e.prototype.skill2=function(){var t=this;d.default.playAudio(l.audioName.E10Roar),this.attackTimes=0,this.changeDirection(),this.changeMovState(!1),this.setRigibodySpeed(0,0),this.nowSpeed=this.skeleton.node.scaleX>0?-this.rushSpeed:this.rushSpeed,this.enemyAnimation.changeState(h.enemyState.skill2_start,1,!1,!0),this.scheduleOnce(function(){t.enemyAnimation.state==h.enemyState.skill2_start&&t.startRush()},1.1)},e.prototype.startRush=function(){this.isStartRush=!0,this.showDamageCollider(c.skill1)},e.prototype.endRush=function(){this.isStartRush=!1},e.prototype.skill2Middle=function(){this.setRigibodySpeed(this.nowSpeed,0),this.enemyAnimation.changeState(h.enemyState.skill2_middle,1,!0,!0)},e.prototype.skill2End=function(){var t=this;this.endRush(),this.setRigibodySpeed(0,0),this.hideDamageCollider(!0),this.scheduleOnce(function(){t.isDie||t.enemyAnimation.changeState(h.enemyState.skill2_end,1,!1,!0)},1)},e.prototype.skill2EndComplete=function(){this.idle(h.enemyState.skill1)},e.prototype.skill2Move=function(){0!=this.isStartRush&&(this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0))},e.prototype.footStep=function(){d.default.playAudio(l.audioName.E10Step)},e.prototype.beHit=function(t,e){if(!this.isDie&&!this.isWuDi){this.changeState_beHit(e);var n=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;this.highLight(),f.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.updateHp(t),this.hp<=0&&f.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i))}},e.prototype.updateHp=function(t){this.hp-=t,v.default.ins.bossHp.addHp(-t),this.hp<=0&&(this.hp=0,this.die())},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==h.attackType.attack3;switch(t){case h.attackType.attack1:n=h.enemyState.get_hurt2,this.applyForce(cc.v2(g.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.attack2:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(g.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=h.enemyState.knock_down,this.node.x<g.default.instance.player.x&&g.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>g.default.instance.player.x&&g.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case h.attackType.jumpHit:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(g.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.shuriken:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(g.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case h.attackType.swordRain:n=h.enemyState.get_hurt1}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==h.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.highLightAction=function(){this.isHighLight&&this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,this.highLight_A.a])},e.prototype.highLight=function(){var t=this;this.isHighLight||(this.isHighLight=!0,this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),cc.tween(this.highLight_A).to(.1,{a:0}).call(function(){t.closeHighLight()}).start())},e.prototype.closeHighLight=function(){this.isHighLight=!1,this.highLight_A.a=.5,this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistanceX=function(){return Math.abs(this.node.x-g.default.instance.player.x)},a([w({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([w({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([w(cc.String)],e.prototype,"dieEffectName",void 0),a([k],e)}(u.default);n.default=x,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../main/audioManager":"audioManager","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider","./ui/bossHp":"bossHp","./ui/uiManager":"uiManager"}],E18controller:[function(t,e,n){"use strict";cc._RF.push(e,"4f53ag9w9ZAg6ZLS5et8u2a","E18controller");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,r=t("../audioNameMgr"),c=t("../main/audioManager"),l=t("./animationState"),_=t("./enemyAnimation"),d=t("./enemyBase"),h=t("./enemyHitCollider"),p=t("./Events"),u=t("./GameManager"),y=cc._decorator,f=y.ccclass,g=y.property;(function(t){t[t.attack=0]="attack"})(s||(s={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attackCollider=null,e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.hpNode=null,e.hpBar=null,e.dieEffectName="",e.moveSpeed=100,e.nowSpeed=0,e.AI_interval=1,e.stopDistance=200,e.hp=0,e.hpTimes=1,e.beHitForce_y=25e3,e.beHitForce_x=25e3,e.beHitForce_y_shuriken=5e4,e.beHitForce_x_attack3=35e4,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isMove=!1,e.dmgCollider=null,e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(_.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.initData(),this.attackCollider.getComponent(h.default).enemyControl=this,this.hp=this.hpMax*this.hpTimes,this.idle()},e.prototype.update=function(){if(0!=this.isMove){var t=this.getDistanceX();if(Math.abs(t)<this.stopDistance)this.attack();else{if(this.enemyAnimation.state==l.enemyState.attack)return;this.moveToPlayer()}}},e.prototype.onBeginContact=function(t,e,n){n.node.group},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;if(u.default.instance.playerController.isDie)return this.changeMovState(!1),void this.scheduleOnce(function(){t.AI_start()},1);Math.abs(this.getDistanceX())<this.stopDistance?this.attack():(this.changeDirection(),this.enemyAnimation.changeState(l.enemyState.Move,1,!0,!0,!0),this.changeMovState(!0),this.nowSpeed=this.skeleton.node.scaleX>0?-this.moveSpeed:this.moveSpeed)},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(){var t=this;this.changeMovState(!1),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(l.enemyState.Idle,1,!0,!0,!0),this.scheduleOnce(function(){t.enemyAnimation.state==l.enemyState.Idle&&t.AI_start()},this.AI_interval)},e.prototype.changeDirection=function(){this.skeleton.node.scaleX=u.default.instance.player.x-this.node.x>0?-this.scaleX_skeleton:this.scaleX_skeleton},e.prototype.die=function(){this.isDie=!0,this.node.active=!1,this.hideHp(),this.dieCount()},e.prototype.getUp=function(){this.enemyAnimation.changeState(l.enemyState.get_up,1,!1,!0)},e.prototype.moveToPlayer=function(){this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0)},e.prototype.attack=function(){var t=this;l.enemyState[this.enemyAnimation.state].includes("get_hurt")||(this.changeDirection(),this.changeMovState(!1),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(l.enemyState.Atk,1,!1,!0,!0),this.scheduleOnce(function(){t.showDamageCollider(s.attack)},.5))},e.prototype.Shake=function(t,e){"Shake"==e.data.name&&(c.default.playAudio(r.audioName.E18_Attack),this.hideDamageCollider(),p.default.instance.screenShake(8,0,16))},e.prototype.hit=function(){this.enemyAnimation.state==l.enemyState.Atk&&(this.attackCollider.getComponent(h.default).hit(this.node,this.damage),this.hideDamageCollider())},e.prototype.beHit=function(t,e){this.changeMovState(!1),this.setRigibodySpeed(0),this.checkIsSwordRain(e),this.showHp(),this.changeState_beHit(e);var n=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;p.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.updateHp(t),this.hp<=0&&p.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i))},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==l.attackType.attack3;switch(t){case l.attackType.attack1:n=l.enemyState.get_hurt2,this.applyForce(cc.v2(u.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case l.attackType.attack2:n=l.enemyState.get_hurt1,this.applyForce(cc.v2(u.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case l.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=l.enemyState.knock_down,this.node.x<u.default.instance.player.x&&u.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>u.default.instance.player.x&&u.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case l.attackType.jumpHit:n=l.enemyState.get_hurt1,this.applyForce(cc.v2(u.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case l.attackType.shuriken:n=l.enemyState.get_hurt1,this.applyForce(cc.v2(u.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case l.attackType.swordRain:n=l.enemyState.get_hurt1}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==l.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.updateHp=function(t){this.hp-=t,this.hpBar.progress=this.hp/this.hpMax,this.hp<=0&&(this.hp=0,this.die())},e.prototype.showHp=function(){this.unschedule(this.hideHp),this.hpNode.active=!0,this.scheduleOnce(this.hideHp,2)},e.prototype.hideHp=function(){this.hpNode.active=!1},e.prototype.highLight=function(){this.unschedule(this.closeHighLight),this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),this.scheduleOnce(this.closeHighLight,.15)},e.prototype.closeHighLight=function(){this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistanceX=function(){return this.node.x-u.default.instance.player.x},a([g(cc.Node)],e.prototype,"attackCollider",void 0),a([g({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([g({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([g(cc.Node)],e.prototype,"hpNode",void 0),a([g(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([g(cc.String)],e.prototype,"dieEffectName",void 0),a([f],e)}(d.default);n.default=m,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../main/audioManager":"audioManager","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider"}],E1controller:[function(t,e,n){"use strict";cc._RF.push(e,"678c6psmBlMFaSYGCoDQdQ4","E1controller");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,r=t("../audioNameMgr"),c=t("../caijiTools"),l=t("../main/audioManager"),_=t("./animationState"),d=t("./enemyAnimation"),h=t("./enemyBase"),p=t("./enemyHitCollider"),u=t("./Events"),y=t("./GameManager"),f=cc._decorator,g=f.ccclass,m=f.property;(function(t){t[t.attack=0]="attack"})(s||(s={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.hpNode=null,e.hpBar=null,e.dieEffectName="",e.moveSpeed=150,e.nowSpeed=0,e.AI_interval=1,e.stopDistance=130,e.hp=0,e.hpTimes=1,e.beHitForce_y=25e3,e.beHitForce_x=25e3,e.beHitForce_y_shuriken=5e4,e.beHitForce_x_attack3=35e4,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isMove=!1,e.dmgCollider=null,e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(d.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.initData(),this.hp=this.hpMax*this.hpTimes,this.AI_interval+=Math.random(),this.idle()},e.prototype.update=function(){if(0!=this.isMove){var t=this.getDistanceX();if(Math.abs(t)<this.stopDistance)this.hit();else{if(this.enemyAnimation.state==_.enemyState.attack)return;this.moveToPlayer()}}},e.prototype.onBeginContact=function(t,e,n){n.node.group},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;if(y.default.instance.playerController.isDie)return this.changeMovState(!1),void this.scheduleOnce(function(){t.AI_start()},this.AI_interval);if(Math.abs(this.getDistanceX())<this.stopDistance)this.hit();else{this.changeDirection();var e=["move","move2","run"],n=e[c.caijiTools.random_int(0,e.length-1)];switch(this.enemyAnimation.changeState(_.enemyState[n],1,!0),this.enemyAnimation.state){case _.enemyState.move:case _.enemyState.move2:this.nowSpeed=this.moveSpeed;break;case _.enemyState.run:this.nowSpeed=1.8*this.moveSpeed}this.changeMovState(e.includes(this.skeleton.animation)),this.nowSpeed=this.skeleton.node.scaleX>0?-this.nowSpeed:this.nowSpeed}},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(){var t=this;this.changeMovState(!1),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(_.enemyState.idle,1,!0,!0),this.scheduleOnce(function(){t.enemyAnimation.state==_.enemyState.idle&&t.AI_start()},this.AI_interval)},e.prototype.changeDirection=function(){this.skeleton.node.scaleX=y.default.instance.player.x-this.node.x>0?-this.scaleX_skeleton:this.scaleX_skeleton,this.hpNode.x=this.skeleton.node.scaleX>0?-28:28},e.prototype.die=function(){this.isDie=!0,this.node.active=!1,this.hideHp(),this.dieCount()},e.prototype.getUp=function(){this.enemyAnimation.changeState(_.enemyState.get_up,1,!1,!0)},e.prototype.moveToPlayer=function(){this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0)},e.prototype.hit=function(){var t=this;_.enemyState[this.enemyAnimation.state].includes("get_hurt")||(this.changeDirection(),this.changeMovState(!1),this.setRigibodySpeed(0,0),this.showDamageCollider(s.attack),this.enemyAnimation.changeState(_.enemyState.attack,1,!1),l.default.playAudio(r.audioName.E1_Sword),this.scheduleOnce(function(){t.enemyAnimation.state==_.enemyState.attack&&t.getDamageCollider().getComponent(p.default).hit(t.node,t.damage)},.5))},e.prototype.beHit=function(t,e){this.changeMovState(!1),this.setRigibodySpeed(0),this.highLight(),this.showHp(),this.changeState_beHit(e);var n=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;u.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.updateHp(t),this.hp<=0&&u.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i))},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==_.attackType.attack3;switch(t){case _.attackType.attack1:n=_.enemyState.get_hurt2,this.applyForce(cc.v2(y.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.attack2:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(y.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=_.enemyState.knock_down,this.node.x<y.default.instance.player.x&&y.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>y.default.instance.player.x&&y.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case _.attackType.jumpHit:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(y.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.shuriken:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(y.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case _.attackType.swordRain:n=_.enemyState.get_hurt1}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==_.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.updateHp=function(t){this.hp-=t,this.hpBar.progress=this.hp/this.hpMax,this.hp<=0&&(this.hp=0,this.die())},e.prototype.showHp=function(){this.unschedule(this.hideHp),this.hpNode.active=!0,this.scheduleOnce(this.hideHp,2)},e.prototype.hideHp=function(){this.hpNode.active=!1},e.prototype.highLight=function(){this.unschedule(this.closeHighLight),this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),this.scheduleOnce(this.closeHighLight,.15)},e.prototype.closeHighLight=function(){this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistanceX=function(){return this.node.x-y.default.instance.player.x},a([m({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([m({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([m(cc.Node)],e.prototype,"hpNode",void 0),a([m(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([m(cc.String)],e.prototype,"dieEffectName",void 0),a([g],e)}(h.default);n.default=v,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../main/audioManager":"audioManager","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider"}],E20controller:[function(t,e,n){"use strict";cc._RF.push(e,"fe1afyCfE1MI7Aism487GSA","E20controller");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,r=t("../audioNameMgr"),c=t("../caijiTools"),l=t("../main/audioManager"),_=t("./animationState"),d=t("./enemyAnimation"),h=t("./enemyBase"),p=t("./enemyHitCollider"),u=t("./Events"),y=t("./firePillarCollider"),f=t("./GameManager"),g=cc._decorator,m=g.ccclass,v=g.property;(function(t){t[t.attack=0]="attack"})(s||(s={}));var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firePillar=null,e.tpFx_start=null,e.tpFx_end=null,e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.hpNode=null,e.hpBar=null,e.dieEffectName="",e.moveSpeed=80,e.nowSpeed=0,e.AI_interval=.8,e.stopDistance=400,e.hp=0,e.hpTimes=1,e.beHitForce_y=35e3,e.beHitForce_x=25e3,e.beHitForce_y_shuriken=5e4,e.beHitForce_x_attack3=4e5,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isMove=!1,e.dmgCollider=null,e.isTPCD=!1,e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(d.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.initData(),this.hp=this.hpMax*this.hpTimes,this.AI_interval+=Math.random(),this.idle()},e.prototype.update=function(){if(0!=this.isMove){var t=this.getDistanceX();if(Math.abs(t)<this.stopDistance)this.skill_start();else{if(this.enemyAnimation.state==_.enemyState.attack)return;this.moveToPlayer()}}},e.prototype.onBeginContact=function(t,e,n){n.node.group},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;if(f.default.instance.playerController.isDie)return this.changeMovState(!1),void this.scheduleOnce(function(){t.AI_start()},1);var e=Math.abs(this.getDistanceX());if(e<this.stopDistance)e>150?this.skill_start():this.teleportStart();else{if(c.caijiTools.random_int(1,10)%2==0)return void this.skill_start();this.changeDirection(),this.enemyAnimation.changeState(_.enemyState.move,1,!0,!0,!0),this.changeMovState(!0),this.nowSpeed=this.skeleton.node.scaleX>0?-this.moveSpeed:this.moveSpeed}},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(){var t=this;this.changeMovState(!1),this.changeDirection(),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(_.enemyState.idle,1,!0,!0,!0),this.scheduleOnce(function(){t.enemyAnimation.state==_.enemyState.idle&&t.AI_start()},this.AI_interval)},e.prototype.changeDirection=function(){null!=f.default.instance.player&&(this.skeleton.node.scaleX=f.default.instance.player.x-this.node.x>0?-this.scaleX_skeleton:this.scaleX_skeleton)},e.prototype.die=function(){this.isDie=!0,this.node.active=!1,this.hideHp(),this.dieCount()},e.prototype.moveToPlayer=function(){this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0)},e.prototype.getUp=function(){this.enemyAnimation.changeState(_.enemyState.get_up,1,!1,!0)},e.prototype.knockDown2=function(){var t=this;this.enemyAnimation.changeState(_.enemyState.knock_down2,1,!1,!0),this.scheduleOnce(function(){t.enemyAnimation.state==_.enemyState.knock_down2&&t.getUp()},.5)},e.prototype.skill_start=function(){this.changeMovState(!1),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(_.enemyState.fire_pillar,1,!1,!0,!0)},e.prototype.skill_middle=function(){var t=this;l.default.playAudio(r.audioName.E20Cast),this.openSuperArmor(),this.enemyAnimation.changeState(_.enemyState.fire_pillar2,1,!0,!0),this.scheduleOnce(function(){t.enemyAnimation.state==_.enemyState.fire_pillar2&&t.skill_end()},2.5),this.schedule(function(){t.enemyAnimation.state==_.enemyState.fire_pillar2&&t.createFirePillar(f.default.instance.player.position)},.8,2,.001)},e.prototype.skill_end=function(){this.closeSuperArmor(),this.enemyAnimation.changeState(_.enemyState.fire_pillar3,1,!1,!0)},e.prototype.createFirePillar=function(t){var e=cc.instantiate(this.firePillar);e.setParent(this.node.parent),e.setSiblingIndex(this.node.getSiblingIndex()),e.setPosition(t.x,-194),e.getComponent(y.default).damage=this.damage,e.active=!0},e.prototype.blink=function(t,e){"Blink"==e.data.name?(this.closeCollider(),this.createFX()):this.transportEnd()},e.prototype.teleportStart=function(){this.isTPCD=!0,this.openSuperArmor(),this.enemyAnimation.changeState(_.enemyState.teleport,1,!1,!0,!0),this.scheduleOnce(function(){l.default.playAudio(r.audioName.BlinkStart)},.2)},e.prototype.transportEnd=function(){var t=this;l.default.playAudio(r.audioName.BlinkEnd);var e=0;e=f.default.instance.player.x<700?f.default.instance.player.x+c.caijiTools.random_int(300,cc.winSize.width/1.6):f.default.instance.player.x>1700?f.default.instance.player.x-c.caijiTools.random_int(300,cc.winSize.width/1.6):c.caijiTools.random_int(1,10)%2==0?f.default.instance.player.x+c.caijiTools.random_int(-cc.winSize.width/1.6,-300):f.default.instance.player.x+c.caijiTools.random_int(300,cc.winSize.width/1.6),this.node.x=e,this.createFX(),this.scheduleOnce(function(){t.closeSuperArmor(),t.openCollider()},.2)},e.prototype.createFX=function(){var t=cc.instantiate(this.tpFx_start);t.setParent(this.node.parent),t.setSiblingIndex(this.node.getSiblingIndex()+1),t.setPosition(this.node.x,this.node.y+this.damageLabelOffsetY),t.active=!0},e.prototype.hit=function(){var t=this;_.enemyState[this.enemyAnimation.state].includes("get_hurt")||(this.changeDirection(),this.changeMovState(!1),this.setRigibodySpeed(0,0),this.showDamageCollider(s.attack),this.enemyAnimation.changeState(_.enemyState.attack,1,!1),this.scheduleOnce(function(){t.enemyAnimation.state==_.enemyState.attack&&t.getDamageCollider().getComponent(p.default).hit(t.node,t.damage)},.5))},e.prototype.beHit=function(t,e){this.changeMovState(!1),this.setRigibodySpeed(0),this.highLight(),this.showHp(),this.changeState_beHit(e);var n=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;u.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.updateHp(t),this.hp<=0&&u.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i))},e.prototype.openSuperArmor=function(){this.isSuperArmor=!0},e.prototype.closeSuperArmor=function(){this.isSuperArmor=!1},e.prototype.closeCollider=function(){this.node.opacity=0,this.boxCollider.enabled=!1,this.boxCollider.apply(),this.node.getComponent(cc.BoxCollider).enabled=!1,this.hideHp()},e.prototype.openCollider=function(){this.node.opacity=255,this.boxCollider.enabled=!0,this.boxCollider.apply(),this.node.getComponent(cc.BoxCollider).enabled=!0},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){if(0==this.isTPCD)return this.teleportStart(),void this.scheduleOnce(function(){e.isTPCD=!1},5);var n=null,i=t==_.attackType.attack3;switch(t){case _.attackType.attack1:n=_.enemyState.get_hurt2,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.attack2:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=_.enemyState.knock_down1,this.node.x<f.default.instance.player.x&&f.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>f.default.instance.player.x&&f.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case _.attackType.jumpHit:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.shuriken:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case _.attackType.swordRain:n=_.enemyState.get_hurt1}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==_.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.updateHp=function(t){this.hp-=t,this.hpBar.progress=this.hp/this.hpMax,this.hp<=0&&(this.hp=0,this.die())},e.prototype.showHp=function(){this.unschedule(this.hideHp),this.hpNode.active=!0,this.scheduleOnce(this.hideHp,2)},e.prototype.hideHp=function(){this.hpNode.active=!1},e.prototype.highLight=function(){this.unschedule(this.closeHighLight),this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),this.scheduleOnce(this.closeHighLight,.15)},e.prototype.closeHighLight=function(){this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistanceX=function(){return this.node.x-f.default.instance.player.x},a([v(cc.Prefab)],e.prototype,"firePillar",void 0),a([v(cc.Prefab)],e.prototype,"tpFx_start",void 0),a([v(cc.Prefab)],e.prototype,"tpFx_end",void 0),a([v({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([v({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([v(cc.Node)],e.prototype,"hpNode",void 0),a([v(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([v(cc.String)],e.prototype,"dieEffectName",void 0),a([m],e)}(h.default);n.default=b,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../main/audioManager":"audioManager","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider","./firePillarCollider":"firePillarCollider"}],E29controller:[function(t,e,n){"use strict";cc._RF.push(e,"43030AonwZGtaSXN6Tz+pUA","E29controller");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,r=t("../audioNameMgr"),c=t("../main/audioManager"),l=t("./animationState"),_=t("./enemyAnimation"),d=t("./enemyBase"),h=t("./enemyHitCollider"),p=t("./Events"),u=t("./GameManager"),y=cc._decorator,f=y.ccclass,g=y.property;(function(t){t[t.attack=0]="attack",t[t.bomb=1]="bomb"})(s||(s={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas=null,e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.hpNode=null,e.hpBar=null,e.dieEffectName="",e.moveSpeed=110,e.nowSpeed=0,e.AI_interval=.6,e.stopDistance=100,e.hp=0,e.hpTimes=1,e.beHitForce_y=25e3,e.beHitForce_x=2e4,e.beHitForce_y_shuriken=5e4,e.beHitForce_x_attack3=33e4,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isMove=!1,e.dmgCollider=null,e.alpha={number:0},e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(_.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.initData(),this.hp=this.hpMax*this.hpTimes,this.AI_interval+=Math.random(),this.AI_start()},e.prototype.update=function(){if(this.enemyAnimation.state==l.enemyState["Head-middle"]&&this.setColor([1,0,0,this.alpha.number]),0!=this.isMove){var t=this.getDistanceX();if(Math.abs(t)<this.stopDistance)this.hit();else{if(this.enemyAnimation.state==l.enemyState.Atk)return;this.moveToPlayer()}}},e.prototype.onBeginContact=function(t,e,n){n.node.group},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&this.dmgCollider!=s.bomb&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;u.default.instance.playerController.isDie?this.scheduleOnce(function(){t.AI_start()},1):Math.abs(this.getDistanceX())<this.stopDistance?this.hit():(this.changeDirection(),this.enemyAnimation.changeState(l.enemyState.Move,1.1,!0),this.changeMovState(!0),this.nowSpeed=this.skeleton.node.scaleX>0?-this.moveSpeed:this.moveSpeed)},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(){var t=this;this.isDie||(this.changeMovState(!1),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(l.enemyState.Idle,1,!0,!0),this.scheduleOnce(function(){t.enemyAnimation.state==l.enemyState.Idle&&t.AI_start()},this.AI_interval))},e.prototype.changeDirection=function(){this.skeleton.node.scaleX=u.default.instance.player.x-this.node.x>0?-this.scaleX_skeleton:this.scaleX_skeleton,this.hpNode.x=this.skeleton.node.scaleX>0?8:-8},e.prototype.die=function(){var t=this;this.unscheduleAllCallbacks(),this.isDie=!0,this.hideHp(),this.closeHighLight(),this.setRigibodySpeed(0,0),this.node.getComponent(cc.BoxCollider).enabled=!1,this.enemyAnimation.changeState(l.enemyState.Die,1,!1,!0),this.scheduleOnce(function(){t.rigibody.type=cc.RigidBodyType.Static},0),this.dieCount(),this.scheduleOnce(function(){c.default.playAudio(r.audioName.E29Explosion)},.1)},e.prototype.head_middle=function(){this.startRedColor(),this.showDamageCollider(s.bomb),this.enemyAnimation.changeState(l.enemyState["Head-middle"],1.2,!0,!0),this.scheduleOnce(this.head_end,2.3),cc.tween(this.alpha).repeat(2,cc.tween().to(.65,{number:.7},{easing:"sineOut"}).to(.65,{number:0},{easing:"sineIn"})).start()},e.prototype.head_end=function(){var t=this;this.closeHighLight(),this.enemyAnimation.changeState(l.enemyState["Head-end"],1.3,!1,!0),this.scheduleOnce(function(){t.getDamageCollider()&&t.getDamageCollider().getComponent(h.default).hit(t.node,t.damage)},.45)},e.prototype.Destroy=function(){this.node.destroy()},e.prototype.getUp=function(){var t=this;this.scheduleOnce(function(){t.enemyAnimation.state==l.enemyState["Knock-up-end"]&&t.enemyAnimation.changeState(l.enemyState["Get-up"],1,!1,!0)},.3)},e.prototype.moveToPlayer=function(){this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0)},e.prototype.hit=function(){var t=this;l.enemyState[this.enemyAnimation.state].includes("Hit")||(this.changeDirection(),this.changeMovState(!1),this.setRigibodySpeed(0,0),this.showDamageCollider(s.attack),this.enemyAnimation.changeState(l.enemyState.Atk,1,!1),c.default.playAudio(r.audioName.E29Attack),this.scheduleOnce(function(){t.enemyAnimation.state==l.enemyState.Atk&&(t.getDamageCollider().getComponent(h.default).hit(t.node,t.damage),t.scheduleOnce(function(){t.enemyAnimation.state==l.enemyState.Atk&&t.getDamageCollider().getComponent(h.default).hit(t.node,t.damage)},.8))},1.1))},e.prototype.beHit=function(t,e){if(!this.isDie){this.changeMovState(!1),this.setRigibodySpeed(0),this.highLight(),this.showHp(),this.changeState_beHit(e);var n=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;p.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.updateHp(t),this.hp<=0&&p.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i))}},e.prototype.knockDownLoop=function(){this.enemyAnimation.changeState(l.enemyState["Knock-up-loop"],1,!1,!0)},e.prototype.knockDownEnd=function(){this.enemyAnimation.changeState(l.enemyState["Knock-up-end"],1,!1,!0)},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==l.attackType.attack3;switch(t){case l.attackType.attack1:case l.attackType.attack2:n=l.enemyState.Hit,this.applyForce(cc.v2(u.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case l.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.2),n=l.enemyState["Knock-up-start"],this.node.x<u.default.instance.player.x&&u.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>u.default.instance.player.x&&u.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case l.attackType.jumpHit:n=l.enemyState.Hit,this.applyForce(cc.v2(u.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case l.attackType.shuriken:n=l.enemyState.Hit,this.applyForce(cc.v2(u.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case l.attackType.swordRain:n=l.enemyState.Hit}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==l.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.updateHp=function(t){this.hp-=t,this.hpBar.progress=this.hp/this.hpMax,this.hp<=0&&(this.hp=0,this.die())},e.prototype.showHp=function(){this.unschedule(this.hideHp),this.hpNode.active=!0,this.scheduleOnce(this.hideHp,2)},e.prototype.hideHp=function(){this.hpNode.active=!1},e.prototype.startRedColor=function(){this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,0,0,0])},e.prototype.setColor=function(t){this.skeleton.getMaterial(0).setProperty("highLightColor",t)},e.prototype.highLight=function(){this.unschedule(this.closeHighLight),this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),this.scheduleOnce(this.closeHighLight,.15)},e.prototype.closeHighLight=function(){this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistanceX=function(){return this.node.x-u.default.instance.player.x},a([g({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([g({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([g(cc.Node)],e.prototype,"hpNode",void 0),a([g(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([g(cc.String)],e.prototype,"dieEffectName",void 0),a([f],e)}(d.default);n.default=m,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../main/audioManager":"audioManager","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider"}],E2controller:[function(t,e,n){"use strict";cc._RF.push(e,"f9a40xSQqJKM4RqNHl6mG72","E2controller");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,r=t("../audioNameMgr"),c=t("../main/audioManager"),l=t("./animationState"),_=t("./enemyAnimation"),d=t("./enemyBase"),h=t("./Events"),p=t("./GameManager"),u=cc._decorator,y=u.ccclass,f=u.property;(function(t){t[t.attack=0]="attack"})(s||(s={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.hpNode=null,e.hpBar=null,e.dieEffectName="",e.moveSpeed_fast=180,e.moveSpeed_slow=100,e.nowSpeed=0,e.lastSpeed=100,e.AI_interval=1,e.stopDistance=250,e.hp=0,e.hpTimes=1,e.beHitForce_y=25e3,e.beHitForce_x=25e3,e.beHitForce_y_shuriken=5e4,e.beHitForce_x_attack3=35e4,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isMove=!1,e.dmgCollider=null,e.playerPosition=null,e}return o(e,t),e.prototype.onLoad=function(){this.lastSpeed=this.moveSpeed_slow,this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(_.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.initData(),this.hp=this.hpMax*this.hpTimes,this.AI_interval+=Math.random(),this.AI_start()},e.prototype.update=function(){0!=this.isMove&&this.farAwayPlayer()},e.prototype.lateUpdate=function(){this.isMove},e.prototype.onBeginContact=function(t,e,n){"wall"==n.node.group&&(this.skeleton.node.scaleX=-this.skeleton.node.scaleX)},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;if(p.default.instance.playerController.isDie)this.scheduleOnce(function(){t.AI_start()},1);else if(Math.abs(this.getDistanceX())>this.stopDistance)this.hit();else{this.changeDirection(),this.changeMovState(!0),this.nowSpeed=this.lastSpeed==this.moveSpeed_slow?this.moveSpeed_fast:this.moveSpeed_slow;var e=this.nowSpeed==this.moveSpeed_fast?2:1;this.enemyAnimation.changeState(l.enemyState.move,e,!0),this.lastSpeed=this.nowSpeed,this.scheduleOnce(function(){t.enemyAnimation.state==l.enemyState.move&&t.idle()},2)}},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(t){var e=this;void 0===t&&(t=!0),this.changeMovState(!1),t&&this.comeBackHead(),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(l.enemyState.idle,1,!0,!0),this.scheduleOnce(function(){e.enemyAnimation.state==l.enemyState.idle&&e.AI_start()},this.AI_interval)},e.prototype.changeDirection=function(){this.skeleton.node.scaleX=p.default.instance.player.x>this.node.x?this.scaleX_skeleton:-this.scaleX_skeleton,this.hpNode.x=this.skeleton.node.scaleX>0?-28:28},e.prototype.comeBackHead=function(){this.skeleton.node.scaleX=p.default.instance.player.x>this.node.x?-this.scaleX_skeleton:this.scaleX_skeleton,this.hpNode.x=this.skeleton.node.scaleX>0?-28:28},e.prototype.die=function(){this.isDie=!0,this.node.active=!1,this.hideHp(),this.dieCount()},e.prototype.knockDown2=function(){this.enemyAnimation.changeState(l.enemyState.knock_down2,1,!1,!0)},e.prototype.getUp=function(){this.enemyAnimation.changeState(l.enemyState.get_up,1,!1,!0)},e.prototype.farAwayPlayer=function(){this.nowSpeed=this.skeleton.node.scaleX>0?-Math.abs(this.nowSpeed):Math.abs(this.nowSpeed),this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0)},e.prototype.hit=function(){l.enemyState[this.enemyAnimation.state].includes("get_hurt")||(this.playerPosition=cc.v2(p.default.instance.player.position),this.comeBackHead(),this.changeMovState(!1),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(l.enemyState.attack,1,!1))},e.prototype.shootArrow=function(t,e){if("Fire"==e.data.name){c.default.playAudio(r.audioName.E2Shoot);var n=this.skeleton.node.scaleX>0?this.node.x-35:this.node.x+35,i=this.node.y+110,o=this.skeleton.node.scaleX>0?-25:-155;h.default.instance.createArrow(this.node,cc.v2(n,i),this.playerPosition,o,this.damage)}},e.prototype.beHit=function(t,e){this.changeMovState(!1),this.setRigibodySpeed(0),this.highLight(),this.showHp(),this.changeState_beHit(e);var n=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;h.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.updateHp(t),this.hp<=0&&h.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i))},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==l.attackType.attack3;switch(t){case l.attackType.attack1:n=l.enemyState.get_hurt2,this.applyForce(cc.v2(p.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case l.attackType.attack2:n=l.enemyState.get_hurt1,this.applyForce(cc.v2(p.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case l.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=l.enemyState.knock_down1,this.node.x<p.default.instance.player.x&&p.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>p.default.instance.player.x&&p.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case l.attackType.jumpHit:n=l.enemyState.get_hurt1,this.applyForce(cc.v2(p.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case l.attackType.shuriken:n=l.enemyState.get_hurt1,this.applyForce(cc.v2(p.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case l.attackType.swordRain:n=l.enemyState.get_hurt1}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==l.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.updateHp=function(t){this.hp-=t,this.hpBar.progress=this.hp/this.hpMax,this.hp<=0&&(this.hp=0,this.die())},e.prototype.showHp=function(){this.unschedule(this.hideHp),this.hpNode.active=!0,this.scheduleOnce(this.hideHp,2)},e.prototype.hideHp=function(){this.hpNode.active=!1},e.prototype.highLight=function(){this.unschedule(this.closeHighLight),this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),this.scheduleOnce(this.closeHighLight,.15)},e.prototype.closeHighLight=function(){this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistanceX=function(){return this.node.x-p.default.instance.player.x},a([f({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([f({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([f(cc.Node)],e.prototype,"hpNode",void 0),a([f(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([f(cc.String)],e.prototype,"dieEffectName",void 0),a([y],e)}(d.default);n.default=g,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../main/audioManager":"audioManager","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase"}],E39Laser:[function(t,e,n){"use strict";cc._RF.push(e,"2cee1aH1slEk45kBHCPHTzC","E39Laser");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./E39controller"),r=t("./enemyHitCollider"),c=cc._decorator,l=c.ccclass,_=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.laserCollider=null,e.E39=null,e}return o(e,t),e.prototype.start=function(){this.laserCollider.getComponent(r.default).enemyControl=this.E39},a([_(cc.Node)],e.prototype,"laserCollider",void 0),a([_(s.default)],e.prototype,"E39",void 0),a([l],e)}(cc.Component);n.default=d,cc._RF.pop()},{"./E39controller":"E39controller","./enemyHitCollider":"enemyHitCollider"}],E39controller:[function(t,e,n){"use strict";cc._RF.push(e,"07446vuLudCTZ1bGrDVe7v7","E39controller");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c,l=t("../audioNameMgr"),_=t("../caijiTools"),d=t("../main/audioManager"),h=t("./animationState"),p=t("./E39Laser"),u=t("./enemyAnimation"),y=t("./enemyBase"),f=t("./enemyHitCollider"),g=t("./Events"),m=t("./GameManager"),v=t("./ui/bossHp"),b=t("./ui/uiManager"),k=cc._decorator,w=k.ccclass,x=k.property;(function(t){t[t.laser=0]="laser",t[t.forward=1]="forward",t[t.scratch=2]="scratch"})(c||(c={}));var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.dieEffectName="",e.rushSpeed=700,e.moveSpeed=140,e.nowSpeed=0,e.AI_interval=.5,e.stopDistance=230,e.hp=0,e.hpTimes=1,e.beHitForce_y=25e3,e.beHitForce_x=25e3,e.beHitForce_y_shuriken=5e4,e.beHitForce_x_attack3=35e4,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.allowMoveTime=2,e.allowAttackTime=2,e.attackTimes=0,e.skill1_x=0,e.isStartRush=!1,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isMove=!1,e.isWuDi=!0,e.dmgCollider=null,e.isHighLight=!1,e.highLight_A={a:.5},e.nomalAttackMax=5,e.normalAttackTimes=0,e.lastAttackState=null,e.spiderlingPrefab=null,e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(u.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){var t=this;b.default.ins.showBossHp(v.bossName.enemy39),this.initData(),this.hp=this.hpMax*this.hpTimes,this.scheduleOnce(function(){t.FX_landing()},2.4)},e.prototype.update=function(){if(this.highLightAction(),0!=this.isMove){var t=this.getDistanceX();if(Math.abs(t)<this.stopDistance)this.attack();else{if(this.enemyAnimation.state==h.enemyState.attack)return;this.moveToPlayer()}}},e.prototype.onBeginContact=function(t,e,n){n.node.group},e.prototype.showDamageCollider=function(t){t!=c.laser&&(this.skeleton.node.children[t].getComponent(f.default).enemyControl=this),this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;if(this.stopDistance=_.caijiTools.random_int(150,400),!this.isDie)if(m.default.instance.playerController.isDie){if(this.changeMovState(!1),this.scheduleOnce(function(){t.AI_start()},1),[h.enemyState.Idle,h.enemyState.Idle2,h.enemyState.Idle3].includes(this.enemyAnimation.state))return;this.enemyAnimation.changeState(h.enemyState.Idle,1,!0,!0)}else Math.abs(this.getDistanceX())<this.stopDistance?this.attack():(this.changeDirection(),this.enemyAnimation.changeState(h.enemyState.Move,1,!0,!0,!0),this.changeMovState(!0),this.nowSpeed=this.skeleton.node.scaleX>0?-this.moveSpeed:this.moveSpeed)},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(){switch(this.changeMovState(!1),this.setLinearDamping(0),this.setRigibodySpeed(0,0),_.caijiTools.random_int(1,3)){case 1:this.enemyAnimation.changeState(h.enemyState.Idle,1,!0,!0);break;case 2:this.enemyAnimation.changeState(h.enemyState.Idle2,1,!0,!0);break;case 3:this.enemyAnimation.changeState(h.enemyState.Idle3,1,!0,!0)}d.default.playAudio(l.audioName.E39Above2)},e.prototype.attack=function(){if(this.changeDirection(),this.setRigibodySpeed(0,0),this.changeMovState(!1),this.setLinearDamping(0),this.normalAttackTimes==this.nomalAttackMax)this.initAttackTimes(),this.above1();else{this.normalAttackTimes++;var t=this.getDistanceX(),e=[h.enemyState.Jump_FWD,h.enemyState.Jump_Back,h.enemyState.Scratch];null!=this.lastAttackState&&e.splice(e.indexOf(this.lastAttackState),1);var n=e[_.caijiTools.random_int(0,e.length-1)];switch(t>300&&(n=h.enemyState.Jump_FWD),n){case h.enemyState.Jump_FWD:this.Jump_FWD();break;case h.enemyState.Jump_Back:this.Jump_Back();break;case h.enemyState.Scratch:this.Scratch()}this.lastAttackState=n}},e.prototype.initAttackTimes=function(){this.normalAttackTimes=0,this.nomalAttackMax=_.caijiTools.random_int(4,6)},e.prototype.attackComplete=function(){_.caijiTools.random_int(1,100)<30?this.idle():this.AI_start()},e.prototype.bornComplete=function(){this.closeWuDi(),this.AI_start()},e.prototype.above1Complete=function(){var t=this;d.default.playAudio(l.audioName.E39Above2),this.schedule(this.createSpiderling,.5,6),this.scheduleOnce(function(){t.above2()},4)},e.prototype.createSpiderling=function(){return s(this,void 0,void 0,function(){var t,e,n;return r(this,function(i){switch(i.label){case 0:return null!=this.spiderlingPrefab?[3,2]:(t=this,[4,_.caijiTools.loadPrefab("prefabs/enemys/spiderling")]);case 1:t.spiderlingPrefab=i.sent(),i.label=2;case 2:return e=_.caijiTools.createNode(this.spiderlingPrefab,this.node.parent),n=m.default.instance.player.x+_.caijiTools.random_int(.6*-cc.winSize.width,.6*cc.winSize.width),e.setPosition(n,-182),e.setSiblingIndex(this.node.getSiblingIndex()),e.active=!0,[2]}})})},e.prototype.above2Complete=function(){this.closeWuDi(),this.AI_start()},e.prototype.idleComplete=function(){m.default.instance.playerController.isDie||this.AI_start()},e.prototype.changeDirection=function(){null!=m.default.instance.player&&(this.skeleton.node.scaleX=m.default.instance.player.x-this.node.x>0?-this.scaleX_skeleton:this.scaleX_skeleton)},e.prototype.die=function(){d.default.playAudio(l.audioName.E39_death),this.isDie=!0,this.setRigibodySpeed(0,0),this.changeMovState(!1),this.unscheduleAllCallbacks(),this.enemyAnimation.changeState(h.enemyState.Die,1,!1,!0),this.dieCount()},e.prototype.move=function(){this.enemyAnimation.changeState(h.enemyState.Move,1,!0,!0)},e.prototype.moveToPlayer=function(){this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0)},e.prototype.openWuDi=function(){this.isWuDi=!0},e.prototype.closeWuDi=function(){this.isWuDi=!1},e.prototype.above1=function(){d.default.playAudio(l.audioName.E39Above1),this.openWuDi(),this.enemyAnimation.changeState(h.enemyState.Above1,1,!1,!0)},e.prototype.above2=function(){var t=this;this.node.x=m.default.instance.player.x,this.enemyAnimation.changeState(h.enemyState.Above2,1,!1,!0),this.scheduleOnce(function(){t.FX_landing()},2.4)},e.prototype.Jump_Back=function(){var t=this;d.default.playAudio(l.audioName.E39Jump),this.enemyAnimation.changeState(h.enemyState.Jump_Back,1,!1),this.scheduleOnce(function(){var e=t.skeleton.node.scaleX>0?150:-150;cc.tween(t.node).by(.3,{x:e}).call(function(){t.scheduleOnce(function(){t.enemyAnimation.state==h.enemyState.Jump_Back&&(d.default.playAudio(l.audioName.E39Laser),t.showDamageCollider(c.laser))},.5)}).start()},.5)},e.prototype.Jump_FWD=function(){var t=this;d.default.playAudio(l.audioName.E39Jump),this.enemyAnimation.changeState(h.enemyState.Jump_FWD,1,!1),this.showDamageCollider(c.forward),this.scheduleOnce(function(){var e=t.skeleton.node.scaleX>0?-150:150;cc.tween(t.node).by(.3,{x:e}).call(function(){t.scheduleOnce(function(){t.enemyAnimation.state==h.enemyState.Jump_FWD&&(d.default.playAudio(l.audioName.E39Attack),t.hit(t.damage))},.25)}).start()},.5)},e.prototype.Scratch=function(){var t=this;d.default.playAudio(l.audioName.E39Scratch),this.enemyAnimation.changeState(h.enemyState.Scratch,1,!1),this.showDamageCollider(c.scratch),this.scheduleOnce(function(){t.enemyAnimation.state==h.enemyState.Scratch&&t.hit(t.damage)},.6)},e.prototype.Staggered=function(){this.enemyAnimation.changeState(h.enemyState.Staggered,1,!1)},e.prototype.StaggeredReset=function(){this.enemyAnimation.changeState(h.enemyState.StaggeredReset,1,!1)},e.prototype.FX_landing=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return d.default.playAudio(l.audioName.Spell_Earth_02),[4,_.caijiTools.loadPrefab("prefabs/landingFX_enemy39")];case 1:return t=n.sent(),(e=_.caijiTools.createNode(t,this.node.parent)).setSiblingIndex(this.node.getSiblingIndex()+1),e.setPosition(this.node.x,this.node.y),e.active=!0,this.scheduleOnce(function(){e.destroy()},2),g.default.instance.screenShake(),[2]}})})},e.prototype.footStep=function(){},e.prototype.beHit=function(t,e){if(!this.isDie&&!this.isWuDi){this.changeState_beHit(e);var n=this.skeleton.node.scaleX>0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;this.highLight(),g.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.updateHp(t),this.hp<=0&&g.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i))}},e.prototype.hit=function(t){this.dmgCollider!=c.laser&&this.getDamageCollider().getComponent(f.default).hit(this.node,t)},e.prototype.laserHit=function(){this.dmgCollider==c.laser&&(this.getDamageCollider().getComponent(p.default).laserCollider.getComponent(f.default).hit(this.node,this.damage),this.hideDamageCollider())},e.prototype.updateHp=function(t){this.hp-=t,b.default.ins.bossHp.addHp(-t),this.hp<=0&&(this.hp=0,this.die())},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==h.attackType.attack3;switch(t){case h.attackType.attack1:n=h.enemyState.get_hurt2,this.applyForce(cc.v2(m.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.attack2:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(m.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=h.enemyState.knock_down,this.node.x<m.default.instance.player.x&&m.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>m.default.instance.player.x&&m.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case h.attackType.jumpHit:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(m.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.shuriken:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(m.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case h.attackType.swordRain:n=h.enemyState.get_hurt1}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==h.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.highLightAction=function(){this.isHighLight&&this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,this.highLight_A.a])},e.prototype.highLight=function(){var t=this;this.isHighLight||(this.isHighLight=!0,this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),cc.tween(this.highLight_A).to(.1,{a:0}).call(function(){t.closeHighLight()}).start())},e.prototype.closeHighLight=function(){this.isHighLight=!1,this.highLight_A.a=.5,this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistanceX=function(){return Math.abs(this.node.x-m.default.instance.player.x)},a([x({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([x({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([x(cc.String)],e.prototype,"dieEffectName",void 0),a([w],e)}(y.default);n.default=S,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../main/audioManager":"audioManager","./E39Laser":"E39Laser","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider","./ui/bossHp":"bossHp","./ui/uiManager":"uiManager"}],Events:[function(t,e,n){"use strict";cc._RF.push(e,"31948+aNUhEiKhWI9P9ptKR","Events");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../caijiTools"),l=t("../sdk/data"),_=t("./arrow"),d=t("./cameraControl"),h=t("./damageLabel"),p=t("./damageTipPool"),u=t("./enemyBase"),y=t("./GameManager"),f=t("./spawnEnemy"),g=cc._decorator,m=g.ccclass,v=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DropBloodProbability=0,e}var n;return o(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return null==n._instance&&(n._instance=new n),n._instance},enumerable:!1,configurable:!0}),e.prototype.init=function(){n.instance.DropBloodProbability=Number(l.data.gameJson("DropBloodProbability"))},e.prototype.createSpawnEnemyEffect=function(t,e,n){return s(this,void 0,void 0,function(){var i,o;return r(this,function(a){switch(a.label){case 0:return[4,c.caijiTools.loadPrefab("prefabs/spawnEnemy")];case 1:return i=a.sent(),(o=c.caijiTools.createNode(i,e)).setPosition(n),o.getComponent(f.default).spawnEnemyName=t,o.active=!0,[2]}})})},e.prototype.spawnEnemy=function(t,e,n){return s(this,void 0,void 0,function(){var i,o;return r(this,function(a){switch(a.label){case 0:return[4,c.caijiTools.loadPrefab("prefabs/enemys/"+t)];case 1:return(i=a.sent())&&((o=c.caijiTools.createNode(i,e)).setPosition(n),o.setSiblingIndex(y.default.instance.player.getSiblingIndex()),o.active=!0),[2]}})})},e.prototype.dropCoin=function(t,e){return s(this,void 0,void 0,function(){var n,i,o,a;return r(this,function(s){switch(s.label){case 0:return n=Number(l.data.gameJson("enemyData",t.name,u.enemyAttribute.dropCoinNumber)),[4,c.caijiTools.loadPrefab("prefabs/coin_drop")];case 1:for(i=s.sent(),o=0;o<n;o++)(a=c.caijiTools.createNode(i,t.parent)).setPosition(e),a.setSiblingIndex(t.getSiblingIndex()+1),a.active=!0;return[2]}})})},e.prototype.dropBloodBottle=function(t,e){return s(this,void 0,void 0,function(){var i,o;return r(this,function(a){switch(a.label){case 0:return c.caijiTools.random_int(0,100)/100>n.instance.DropBloodProbability?[2]:[4,c.caijiTools.loadPrefab("prefabs/dropBloodBottle")];case 1:return i=a.sent(),(o=c.caijiTools.createNode(i,t.parent)).setParent(t.parent),o.setPosition(e),o.setSiblingIndex(y.default.instance.player.getSiblingIndex()+1),o.active=!0,[2]}})})},e.prototype.showAddHp_player=function(t,e,n,i){return void 0===i&&(i=!1),s(this,void 0,void 0,function(){var o;return r(this,function(a){switch(a.label){case 0:return i?this.createAddHpEffect_revive():this.createAddHpEffect_normal(),[4,p.default.instance.getDamageLabel()];case 1:return(o=a.sent()).setParent(y.default.instance.node),o.setPosition(t.x+n,t.y+80),o.getComponent(h.default).damage=e,o.getComponent(h.default).color=cc.Color.GREEN,o.active=!0,[2]}})})},e.prototype.showDamageLabel_player=function(t,e,n){return s(this,void 0,void 0,function(){var i;return r(this,function(o){switch(o.label){case 0:return[4,p.default.instance.getDamageLabel()];case 1:return(i=o.sent()).setParent(y.default.instance.node),i.setPosition(t.x+n,t.y+130),i.getComponent(h.default).damage=Math.floor(e),i.getComponent(h.default).color=cc.Color.RED,i.active=!0,[2]}})})},e.prototype.showDamageLabel_enemy=function(t,e,n){return s(this,void 0,void 0,function(){var i;return r(this,function(o){switch(o.label){case 0:return this.showDamageEffect(t,n),[4,p.default.instance.getDamageLabel()];case 1:return(i=o.sent()).setParent(y.default.instance.node),i.setPosition(n.x,n.y+60),i.getComponent(h.default).damage=Math.floor(e),i.getComponent(h.default).color=cc.Color.WHITE,i.active=!0,[2]}})})},e.prototype.showDamageEffect=function(t,e){return s(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return[4,p.default.instance.getDamageEffect()];case 1:return(t=n.sent()).setParent(y.default.instance.node.parent),t.setPosition(e),t.active=!0,[2]}})})},e.prototype.createEnemyDieEffect=function(t,e,i){return s(this,void 0,void 0,function(){var o,a;return r(this,function(s){switch(s.label){case 0:return n.instance.dropCoin(t,i),n.instance.dropBloodBottle(t,i),""==e?[2]:[4,c.caijiTools.loadPrefab("prefabs/"+e)];case 1:return o=s.sent(),(a=c.caijiTools.createNode(o,t.parent,!1)).setPosition(i),a.setSiblingIndex(t.getSiblingIndex()),a.active=!0,[2]}})})},e.prototype.createAddHpEffect_revive=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return[4,c.caijiTools.loadPrefab("prefabs/heal")];case 1:return t=n.sent(),(e=c.caijiTools.createNode(t,y.default.instance.player)).setPosition(0,-30),e.active=!0,this.scheduleOnce(function(){0!=e.isValid&&e.destroy()},2),[2]}})})},e.prototype.createAddHpEffect_normal=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return[4,c.caijiTools.loadPrefab("prefabs/addHpEffect")];case 1:return t=n.sent(),(e=c.caijiTools.createNode(t,y.default.instance.player)).setPosition(0,-30),e.active=!0,this.scheduleOnce(function(){0!=e.isValid&&e.destroy()},2),[2]}})})},e.prototype.showEnemyHitEffect=function(t,e,n){return s(this,void 0,void 0,function(){var i,o,a;return r(this,function(s){switch(s.label){case 0:return i=c.caijiTools.random_int(1,2),[4,c.caijiTools.loadPrefab("prefabs/enemyHitEffect"+i)];case 1:return o=s.sent(),(a=c.caijiTools.createNode(o,y.default.instance.player)).setParent(t),a.setPosition(e),a.scaleX=n,a.active=!0,this.scheduleOnce(function(){0!=a.isValid&&a.destroy()},1),[2]}})})},e.prototype.createArrow=function(t,e,n,i,o){return s(this,void 0,void 0,function(){var a,s;return r(this,function(r){switch(r.label){case 0:return[4,c.caijiTools.loadPrefab("prefabs/arrow")];case 1:return a=r.sent(),(s=c.caijiTools.createNode(a,t.parent)).getComponent(_.default).damage=o,s.getComponent(_.default).enemy=t,s.getComponent(_.default).playerPosition=n,s.setSiblingIndex(t.getSiblingIndex()),s.setPosition(e),s.angle=i,s.active=!0,[2]}})})},e.prototype.screenShake=function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=0),void 0===n&&(n=20),cc.Tween.stopAllByTarget(d.default.instance.cameraNode),d.default.instance.node.y=0,c.caijiTools.screenShake(d.default.instance.cameraNode,t,e,n)},e.prototype.showReviveFx=function(t){return s(this,void 0,void 0,function(){var e,n;return r(this,function(i){switch(i.label){case 0:return[4,c.caijiTools.loadPrefab("prefabs/fx_revive")];case 1:return e=i.sent(),(n=cc.instantiate(e)).setParent(t.parent),n.setSiblingIndex(t.getSiblingIndex()+1),n.setPosition(t.x,t.y-20),n.active=!0,[2]}})})},e._instance=null,n=a([m],e)}(cc.Component));n.default=v,cc._RF.pop()},{"../caijiTools":"caijiTools","../sdk/data":"data","./GameManager":"GameManager","./arrow":"arrow","./cameraControl":"cameraControl","./damageLabel":"damageLabel","./damageTipPool":"damageTipPool","./enemyBase":"enemyBase","./spawnEnemy":"spawnEnemy"}],FX_E10:[function(t,e,n){"use strict";cc._RF.push(e,"fccddo9GAxC/qpe35IrWLzW","FX_E10");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[1].getComponent(sp.Skeleton)},e.prototype.start=function(){for(var t=0;t<4;t++)this.skeleton._skeleton.slots[t].color.a=0},a([r],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],FX_flagThunder:[function(t,e,n){"use strict";cc._RF.push(e,"b2c3fAOhHxB9Y94CRUWHYBp","FX_flagThunder");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./enemyHitCollider"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damage=0,e}return o(e,t),e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.node.getComponent(s.default).hit(t.node,t.damage)},0),this.scheduleOnce(function(){t.node.destroy()},2)},a([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./enemyHitCollider":"enemyHitCollider"}],FX_revive:[function(t,e,n){"use strict";cc._RF.push(e,"2e8a0lyOdNJY79/UntXWudK","FX_revive");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../caijiTools"),l=cc._decorator,_=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e}return o(e,t),e.prototype.onLoad=function(){this.animation=this.node.getComponent(cc.Animation)},e.prototype.start=function(){},e.prototype.animationFinished=function(){var t=this;this.createLightFx(),this.scheduleOnce(function(){t.node.destroy()},2)},e.prototype.createLightFx=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return[4,c.caijiTools.loadPrefab("prefabs/fx_reviveLight")];case 1:return t=n.sent(),(e=cc.instantiate(t)).setParent(this.node.parent),e.setPosition(this.node.x,this.node.y+110),e.active=!0,[2]}})})},a([_],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../caijiTools":"caijiTools"}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"78b34W9Q5dInarRdIRvyQXm","GameManager");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c,l=t("../caijiTools"),_=t("../main/audioManager"),d=t("../sdk/ad"),h=t("../sdk/data"),p=t("./coinDrop"),u=t("./damageTipPool"),y=t("./Events"),f=t("./ui/uiManager"),g=cc._decorator,m=g.ccclass;g.property,function(t){t[t.Map1_bambooForest1=0]="Map1_bambooForest1",t[t.Map2_bambooForest2=1]="Map2_bambooForest2",t[t.Map3_OldVillage1=2]="Map3_OldVillage1",t[t.Map4_OldVillage2=3]="Map4_OldVillage2",t[t.Map5_OldState1=4]="Map5_OldState1",t[t.Map6_OldState2=5]="Map6_OldState2"}(c||(c={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map=null,e.player=null,e.playerController=null,e.playerSpawnM=null,e.enemySpawnM=null,e.needKillEnemyAmount=0,e.killEnemyAmoun=0,e.dropCoins=[],e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,u.default.instance.init(),l.caijiTools.openPhysicsSystem(0,!1)},e.prototype.onDisable=function(){_.default.pauseBgGame()},e.prototype.start=function(){d.ad.record(),_.default.playBgGame(),this.init()},e.prototype.init=function(){var t=Number(h.data.getCache("Base","choseLevel")),e=Number(h.data.gameJson("levelData",t.toString(),"map"));this.loadMap(c[e]),y.default.instance.init()},e.prototype.killEnemyCount=function(){this.killEnemyAmoun++,console.log("\u602a\u7269\u6280\u672f",this.killEnemyAmoun,this.needKillEnemyAmount),this.killEnemyAmoun==this.needKillEnemyAmount&&f.default.ins.win()},e.prototype.pickUpCoin=function(){for(var t=0,e=this.dropCoins;t<e.length;t++)e[t].getComponent(p.default).startMoveToPlayer();this.dropCoins=[]},e.prototype.loadMap=function(t){return s(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return[4,l.caijiTools.loadPrefab("prefabs/maps/"+t)];case 1:return e=n.sent(),this.map=l.caijiTools.createNode(e,this.node.parent),this.map.setSiblingIndex(this.node.getSiblingIndex()),f.default.ins.loadingEnd(),[2]}})})},e.prototype.spawnPlayer=function(){this.playerSpawnM.spawnPlayer()},e.prototype.createSpawnEnemy=function(t,e,n){y.default.instance.createSpawnEnemyEffect(t,e,n)},e.prototype.spawnEnemy=function(t,e,n){y.default.instance.spawnEnemy(t,e,n)},e.prototype.levelCompletEvent=function(){var t=Number(h.data.getCache("Base","choseLevel")),e=Number(h.data.getCache("levelStar",t.toString()))+1;e=e>3?3:e,h.data.updateCache("levelStar",t.toString(),e),100!=t&&h.data.updateCache("levelUnlock",t.toString(),1)},e.instance=null,n=a([m],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../caijiTools":"caijiTools","../main/audioManager":"audioManager","../sdk/ad":"ad","../sdk/data":"data","./Events":"Events","./coinDrop":"coinDrop","./damageTipPool":"damageTipPool","./ui/uiManager":"uiManager"}],Joystick:[function(t,e,n){"use strict";cc._RF.push(e,"ce242gXaJRMQoU3t8b/OxK2","Joystick");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../GameManager"),r=cc._decorator,c=r.ccclass,l=r.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.midNode=null,e.joyBk=null,e.maxR=100,e.zoom=.3,e.joyCallBack=new cc.Component.EventHandler,e.isKeyTouch_a=!1,e.isKeyTouch_d=!1,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.goBackMid()},e.prototype.init=function(){this.joyCallBack.target=s.default.instance.player,this.joyCallBack.component="playerController",this.joyCallBack.handler="move",this.binEvent()},e.prototype.binEvent=function(){this.joyBk.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.joyBk.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.joyBk.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.joyBk.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.keyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.keyUp,this)},e.prototype.removeEvent=function(){this.joyBk.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.joyBk.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.joyBk.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.joyBk.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.keyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.keyUp,this)},e.prototype.goBackMid=function(){this.midNode.setPosition(0,0)},e.prototype.onTouchStart=function(t){var e=this.node.convertToNodeSpaceAR(cc.v2(t.getLocation()));e=cc.v2(e.x*this.zoom,0),this.clampPos(e),this.midNode.setPosition(e),this.joyCallBack.emit([e])},e.prototype.onTouchMove=function(t){var e=this.node.convertToNodeSpaceAR(cc.v2(t.getLocation()));e=cc.v2(e.x*this.zoom,0),this.clampPos(e),this.midNode.setPosition(e),this.joyCallBack.emit([e])},e.prototype.onTouchEnd=function(){this.goBackMid(),this.joyCallBack.emit([cc.v2(0,0)])},e.prototype.keyDown=function(t){switch(t.keyCode){case cc.macro.KEY.a:this.isKeyTouch_a=!0,this.midNode.setPosition(-40,0),this.joyCallBack.emit([cc.v2(-1,0)]);break;case cc.macro.KEY.d:this.isKeyTouch_d=!0,this.midNode.setPosition(40,0),this.joyCallBack.emit([cc.v2(1,0)])}},e.prototype.keyUp=function(t){switch(t.keyCode){case cc.macro.KEY.a:if(this.isKeyTouch_d)return this.isKeyTouch_a=!1,this.isKeyTouch_d=!0,this.midNode.setPosition(40,0),void this.joyCallBack.emit([cc.v2(1,0)]);this.isKeyTouch_a=!1,this.goBackMid(),this.joyCallBack.emit([cc.v2(0,0)]);break;case cc.macro.KEY.d:if(this.isKeyTouch_a)return this.isKeyTouch_d=!1,this.isKeyTouch_a=!0,this.midNode.setPosition(-40,0),void this.joyCallBack.emit([cc.v2(-1,0)]);this.isKeyTouch_d=!1,this.goBackMid(),this.joyCallBack.emit([cc.v2(0,0)])}},e.prototype.clampPos=function(t){var e=t.mag();if(e>this.maxR){var n=this.maxR/e;t.x*=n,t.y*=n}},e.prototype.couvertToAngle=function(t){var e=Math.atan2(t.y,t.x);return cc.misc.radiansToDegrees(e)},e.instance=null,a([l({type:cc.Node,displayName:"\u79fb\u52a8\u4e2d\u5fc3\u8282\u70b9"})],e.prototype,"midNode",void 0),a([l({type:cc.Node,displayName:"\u6447\u6746\u80cc\u666f\u8282\u70b9"})],e.prototype,"joyBk",void 0),a([l({displayName:"\u6447\u6746\u6d3b\u52a8\u534a\u5f84"})],e.prototype,"maxR",void 0),n=a([c],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../GameManager":"GameManager"}],Msg:[function(t,e,n){"use strict";cc._RF.push(e,"41c29stRcNAHIP7/d1825in","Msg");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return o(e,t),n=e,e.tweeNode=function(t){cc.tween(t).to(.3,{scale:1},{easing:"backOut"}).start()},e.Show=function(t){n.isShow||(n.isShow=!0,n.okbtn_callback=null,cc.loader.loadRes(this.tipsPanelPrefab,cc.Prefab,function(e,i){if(n.isShow=!1,e)cc.error(e);else if(i){var o=cc.instantiate(i);if(o){cc.find("Canvas").addChild(o),o.active=!0,o.position=cc.Vec3.ZERO;var a=cc.find("Label",o).getComponent(cc.Label);a.string=t,o.scale=0,n.tweeNode(o),a.scheduleOnce(function(){o.destroy()},1.5)}}}))},e.tipsPanelPrefab="prefabs/ui/TipsPanel",e.isShow=!1,e.okbtn_callback=null,n=a([r],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],UIPrivacy:[function(t,e,n){"use strict";cc._RF.push(e,"ff1f5Wp8KpH3rpTWjh7NokH","UIPrivacy");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./sdk/data"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BackBtn=null,e.OKBtn=null,e.ScaleNode=null,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){this._onLoad()},e.prototype._onLoad=function(){this.ScaleNode=cc.find("ScaleNode",this.node),this._start()},e.prototype._start=function(){this.onOpen()},e.prototype.onOpen=function(){this.ScaleNode.scale=0,this.tweeNode(this.ScaleNode)},e.prototype.tweeNode=function(t){cc.tween(t).to(.3,{scale:1},{easing:"backOut"}).start()},e.prototype.OneceGet=function(){s.data.setPrivacyOn(!0),n.okbtn_callback&&n.okbtn_callback(),this.close()},e.prototype.Back=function(){s.data.setPrivacyOn(!1);try{qg.exitApplication({success:function(){console.log("\u9000\u51fa\u6210\u529f\uff01")},fail:function(){console.log("\u9000\u51fa\u5931\u8d25\uff01")},complete:function(){console.log("\u9000\u51fa\u6267\u884c\u5b8c\u6210\uff01")}})}catch(t){cc.log("GameExit erro:",JSON.stringify(t))}},e.prototype.close=function(){cc.game.targetOff(this),this.node.destroy()},e.prototype.onDestroy=function(){cc.game.targetOff(this)},e.ShowPanel=function(t){void 0===t&&(t=null),n.isShow||(n.isShow=!0,n.okbtn_callback=null,cc.loader.loadRes("prefabs/ui/UIPrivacy",cc.Prefab,function(e,i){if(n.isShow=!1,t&&(n.okbtn_callback=t),e)cc.error(e);else if(i){var o=cc.instantiate(i);o&&(cc.find("Canvas").addChild(o),o.active=!0,o.position=cc.Vec3.ZERO)}}))},e.native_have_show=!1,e.isShow=!1,e.okbtn_callback=null,n=a([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./sdk/data":"data"}],UiSign:[function(t,e,n){"use strict";cc._RF.push(e,"811a9SEvgBAZKo44LWnnu5j","UiSign");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../syyx_sdk/export_sdk"),r=t("../Msg"),c=t("../sdk/ad"),l=t("../sdk/data"),_=cc._decorator,d=_.ccclass,h=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BackBtn=null,e.DoubleBtn=null,e.BtnSign=null,e._canBonus=!1,e.ScaleNode=null,e.EndSign=[],e.MoneyNum=[500,1e3,1500,2e3,3e3,5e3,1e4],e.isTurn=!1,e.onNewBackHomeClick=!0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){this._onLoad()},e.prototype._onLoad=function(){this.BackBtn=cc.find("ScaleNode/BackBtn",this.node),this.DoubleBtn=cc.find("ScaleNode/BtnDouble",this.node),this.BtnSign=cc.find("ScaleNode/BtnSign",this.node),this.ScaleNode=cc.find("ScaleNode",this.node),this._start()},e.prototype._start=function(){for(var t=0;t<7;t++){var e=this.ScaleNode.getChildByName("SignBtn"+(t+1)).getChildByName("dui");this.EndSign.push(e)}this._updatePanel(),this._hideAllSignBtn(),this.onOpen()},e.prototype.tweeNode=function(t){cc.tween(t).to(.3,{scale:1},{easing:"backOut"}).start()},e.prototype.tweeNodeOut=function(t,e){if(void 0===e&&(e=null),t){t.active=!0;var n=cc.tween(t);n=n.to(.3,{scale:0},{easing:"backIn"}),e&&(n=n.call(function(){e()})),n.start()}},e.prototype.onOpen=function(){this.node.scale=0,this.tweeNode(this.node),this.onNewBackHomeClick=!0,n.native_have_show=!1,setTimeout(function(){s.Export.show_native_YSAD("10304001","Canvas/signPanel/fail_parent",function(){n.native_have_show=!0})},400),this._checkCanBonus(),0==this._canBonus?this.BackBtn.active=!0:this.BackBtn.active=!1},e.prototype.DoubleGet=function(){var t=this;this._checkCanBonus(),0!=this._canBonus?c.ad.video_show().then(function(e){if(t.BackBtn.active=!0,e){l.data.updateCache("Base","isGetDailyReward",1);var n=Number(l.data.getCache("Base","loginDays"));n>=7&&(n=0),n+=1,l.data.updateCache("Base","loginDays",n);var i=2*t.MoneyNum[n-1],o=Number(l.data.getCache("Base","coin"))+i;l.data.updateCache("Base","coin",o),r.default.Show("\u606d\u559c\u83b7\u5f97"+i+"\u91d1\u5e01"),t._updateSignBtn(n),t.scheduleOnce(function(){t._checkCanBonus(),t._hideAllSignBtn()},0)}}):r.default.Show("\u4eca\u65e5\u5df2\u7b7e\u5230,\u8bf7\u660e\u65e5\u518d\u6765!")},e.prototype.OneceGet=function(){var t=this;if(this._checkCanBonus(),this._canBonus){this.BackBtn.active=!0,l.data.updateCache("Base","isGetDailyReward",1);var e=Number(l.data.getCache("Base","loginDays"));e>=7&&(e=0),e+=1,l.data.updateCache("Base","loginDays",e);var n=this.MoneyNum[e-1],i=Number(l.data.getCache("Base","coin"))+n;l.data.updateCache("Base","coin",i),r.default.Show("\u606d\u559c\u83b7\u5f97"+n+"\u91d1\u5e01"),this._updateSignBtn(e),this.scheduleOnce(function(){t._checkCanBonus(),t._hideAllSignBtn()},0)}else r.default.Show("\u4eca\u65e5\u5df2\u7b7e\u5230,\u8bf7\u660e\u65e5\u518d\u6765!")},e.prototype.Back=function(){this.onNewBackHomeClick&&n.native_have_show?(this.onNewBackHomeClick=!1,s.Export.click_native_YSAD("YSBN")):(this.onNewBackHomeClick=!0,n.native_have_show=!1,s.Export.hide_naive_YSAD("YSBN"),this.close())},e.prototype.close=function(){var t=this;n.okbtn_callback&&n.okbtn_callback(),cc.game.targetOff(this),this.tweeNodeOut(this.node,function(){t.node.destroy()})},e.prototype._checkCanBonus=function(){var t=Number(l.data.getCache("Base","isGetDailyReward"));cc.log("_checkCanBonus isReward:",t),this._canBonus=0==t},e.prototype._updatePanel=function(){if(this._checkCanBonus(),1==this._canBonus){var t=Number(l.data.getCache("Base","loginDays"));console.log(t+"\u7b2c\u51e0\u5929"),this._updateSignBtn(t)}},e.prototype._updateSignBtn=function(t){for(var e=0;e<7;e++)e<t?this.EndSign[e].active=!0:e>t&&(this.EndSign[e].active=!1)},e.prototype._hideAllSignBtn=function(){for(var t=Number(l.data.getCache("Base","loginDays")),e=0;e<7;e++)e==t&&this._canBonus?this.EndSign[e].active=!1:e!=t||this._canBonus?e<t?this.EndSign[e].active=!0:e>t&&(this.EndSign[e].active=!1):this.EndSign[e].active=!1},e.prototype.onDestroy=function(){cc.game.targetOff(this)},e.ShowPanel=function(t){void 0===t&&(t=null),n.isShow||(n.isShow=!0,n.okbtn_callback=null,cc.loader.loadRes("prefabs/ui/signPanel",cc.Prefab,function(e,i){if(n.isShow=!1,n.okbtn_callback=t,e)cc.error(e);else if(i){var o=cc.instantiate(i);o&&(cc.find("Canvas").addChild(o),o.active=!0,o.position=cc.Vec3.ZERO)}}))},e.native_have_show=!1,e.isShow=!1,e.okbtn_callback=null,n=a([d],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../../syyx_sdk/export_sdk":"export_sdk","../Msg":"Msg","../sdk/ad":"ad","../sdk/data":"data"}],_bytedance:[function(t,e,n){"use strict";cc._RF.push(e,"3d777sa/qtFhYMyFULXuslS","_bytedance"),Object.defineProperty(n,"__esModule",{value:!0}),n.ch_bytedance=void 0;var i="_bytedance.ts",o=function(){function t(){this.recordTimeStamp=0,this.videoPath="",this.recordTimeLength=0,this.appIdParam="",this.bannerAdParam="",this.vedioAdParam="",this.insertAdParam="",this.shareRecordDesc=[],this.bannerAd=null,this.videoAd=null,this.bannerBox=null,this.OnVideoCallBackListener=null,this.sdkInitEnd=!1,this.insertAdTime=0,this.recordManager=null,this.show_start=!1,this.show_end=!1,this.userQuery="",console.log(i,"init platform channel: bytedance")}return t.getInstance=function(){return null==this.Instance&&(this.Instance=new t),this.Instance},t.prototype.initRecordListener=function(){var t=this;this.recordManager=tt.getGameRecorderManager(),this.recordManager.onStart(function(){t.videoPath="",t.recordTimeStamp=Math.floor((new Date).getTime()),t.showToast(t.show_start,"\u5f55\u5236\u5f00\u59cb","success",800)}),this.recordManager.onError(function(t){console.warn(i,"\u5f55\u5c4f\u5931\u8d25:",t.errMsg)}),this.recordManager.onStop(function(e){t.recordTimeLength=Math.floor((new Date).getTime())-t.recordTimeStamp,t.recordTimeLength>=3e3&&(t.videoPath=e.videoPath,t.showToast(t.show_end,"\u5f55\u5236\u5b8c\u6210","success",1e3))})},t.prototype.luzhiVideo_start=function(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=300),void 0===n&&(n=!1),this.show_start=t,this.recordManager.start({duration:e,isMarkOpen:n})},t.prototype.luzhiVideo_stop=function(t){void 0===t&&(t=!0),this.show_end=t,this.recordManager.stop()},t.prototype.luzhiVideo_share=function(t,e){void 0===e&&(e="k1=v1&k2=v2"),null==t||null==this.videoPath||this.recordTimeLength<3e3?null==t?console.warn(i,"\u5206\u4eab\u56de\u8c03\u4e3anull!"):null==this.videoPath?console.warn(i,"\u4e0d\u5b58\u5728\u672a\u5206\u53d1\u7684\u89c6\u9891!"):console.warn(i,"\u5f55\u5236\u65f6\u95f4\u5c0f\u4e8e3\u79d2!"):(this.userQuery=e,this.video_share(t,this.userQuery))},t.prototype.video_share=function(t,e){void 0===e&&(e="k1=v1&k2=v2");var n=this;tt.shareAppMessage({channel:"video",query:e,extra:{videoPath:n.videoPath,video_title:n.shareRecordDesc[1],videoTopics:[n.shareRecordDesc[0]],hashtag_list:[n.shareRecordDesc[0]],withVideoId:!1,videoTag:""},success:function(){t(!0),n.videoPath="",n.recordTimeLength=0,n.showToast(!0,"\u5206\u4eab\u6210\u529f","success",1e3)},fail:function(e){console.warn(i,"\u5206\u4eab\u5931\u8d25:"+JSON.stringify(e)),t(!1),n.showToast(!0,"\u5206\u4eab\u5931\u8d25","fail",1e3)}})},t.prototype.getVideoInfo=function(t){var e=this;tt.request({url:"https://gate.ssdk.com/developer/api/get_video_info",method:"POST",data:{alias_ids:[t]},success:function(n){n.data.data[0].video_info.cover_url?console.log(n.data.data[0].video_info):setTimeout(function(){e.getVideoInfo(t)},5e3)}})},t.prototype.showToast=function(t,e,n,i){void 0===t&&(t=!1),void 0===n&&(n="none"),void 0===i&&(i=1e3),t&&tt.showToast({title:e,icon:n,duration:i})},t.prototype.buttonShare=function(t){tt.shareAppMessage({success:function(){t(!0),console.log(i,"\u5206\u4eab\u6210\u529f!")},fail:function(e){t(!1),console.warn(i,"\u5206\u4eab\u5931\u8d25:"+JSON.stringify(e))}})},t.prototype.shakeDevice=function(){tt.vibrateShort({fail:function(t){console.warn(i,"\u9707\u52a8\u5931\u8d25:"+t)}})},t.prototype.shakeDeviceLong=function(){tt.vibrateLong({fail:function(t){console.warn(i,"\u9707\u52a8\u5931\u8d25:"+t)}})},t.prototype.showTTGameIcon=function(){var t=tt.getSystemInfoSync();return"ios"!==t.platform&&-1!==["Douyin","Toutiao","news_article_lite"].indexOf(t.appName)},t.prototype.openMoreGame=function(){tt.onMoreGamesModalClose(function(){console.warn(i,"modal closed!")}),tt.onNavigateToMiniProgram(function(t){console.log(t.errCode),console.log(t.errMsg)}),"ios"!==tt.getSystemInfoSync().platform&&tt.showMoreGamesModal({appLaunchOptions:[{appId:this.appIdParam,query:"foo=bar&baz=qux",extraData:{}}],success:function(){console.log(i,"success")},fail:function(t){console.log(i,""+JSON.stringify(t))}})},t.prototype.initAdParams=function(t){if(!this.sdkInitEnd){this.sdkInitEnd=!0,this.initRecordListener(),this.appIdParam=t.appId,this.insertAdParam=t.insertId,this.bannerAdParam=t.bannerId,this.vedioAdParam=t.videoId,this.shareRecordDesc=t.shareDesc;try{this.initBannerAd()}catch(e){console.warn(i,"Init ad params:"+e)}}},t.prototype.initGameBanner=function(){var t=tt.getSystemInfoSync(),e=t.windowWidth,n=(t.windowHeight,e);this.bannerBox=tt.createMoreGamesBanner({style:{width:n,verticalAlign:"bottom",horizontalAlign:"center"},appLaunchOptions:[{appId:this.appIdParam,query:"foo=bar&baz=qux",extraData:{}}]}),this.bannerBox.show(),this.bannerBox.onTap(function(){console.log(i,"\u70b9\u51fb\u8df3\u8f6c\u6e38\u620f\u76d2\u5b50")})},t.prototype.gameBanner_show=function(){this.bannerBox?this.bannerBox.show():this.initGameBanner()},t.prototype.gameBanner_hide=function(){this.bannerBox&&this.bannerBox.hide()},t.prototype.initBannerAd=function(){var t=this,e=tt.getSystemInfoSync(),n=e.windowWidth,o=e.windowHeight,a=120;this.bannerAd=tt.createBannerAd({adUnitId:this.bannerAdParam,style:{width:a,top:o-a/16*9}}),this.bannerAd.onError(function(t){switch(t.errCode){case 1e3:console.warn(i,"\u540e\u7aef\u9519\u8bef\u8c03\u7528\u5931\u8d25");break;case 1001:console.warn(i,"\u53c2\u6570\u9519\u8bef");break;case 1002:console.warn(i,"\u5e7f\u544a\u5355\u5143\u65e0\u6548");break;case 1003:console.warn(i,"\u5185\u90e8\u9519\u8bef");break;case 1004:console.warn(i,"\u65e0\u5408\u9002\u7684\u5e7f\u544a, \u5c1d\u8bd5\u91cd\u65b0\u52a0\u8f7d");break;case 1005:console.warn(i,"\u5e7f\u544a\u6b63\u5728\u88ab\u5ba1\u6838\uff0c\u65e0\u6cd5\u5c55\u73b0\u5e7f\u544a");break;case 1007:console.warn(i,"\u5e7f\u544a\u80fd\u529b\u88ab\u7981\u7528");break;case 1008:console.warn(i,"\u5e7f\u544a\u5355\u5143\u5df2\u5173\u95ed");break;case 120002:console.warn(i,"\u5e7f\u544a\u53d1\u9001\u7684\u6b21\u6570\u5df2\u8fbe\u5f53\u65e5\u4e0a\u9650")}}),this.bannerAd.style.left=(n-a)/2,this.bannerAd.onResize(function(e){console.log(i,e.width,e.height),0!=e.width&&0!=e.height&&a!=e.width&&(a=e.width,t.bannerAd.style.top=o-e.height,t.bannerAd.style.left=(n-e.width)/2)}),this.bannerAd.onLoad(function(){console.log(i,"banner\u5e7f\u544a\u62c9\u53d6\u5b8c\u6210!")})},t.prototype.bannerAd_show=function(){this.bannerAd&&this.bannerAd.show()},t.prototype.bannerAd_hide=function(){this.bannerAd&&(this.bannerAd.hide(),this.initBannerAd())},t.prototype.showLoading=function(){tt.showLoading({title:"\u8bf7\u6c42\u4e2d\uff0c\u8bf7\u7a0d\u540e..."})},t.prototype.hideLoading=function(){tt.hideLoading({})},t.prototype.initVideo=function(){var t=this;this.videoAd=tt.createRewardedVideoAd({adUnitId:this.vedioAdParam,multiton:!1,multitonRewardedMsg:"\u89c2\u770b\u4e0b\u4e00\u4e2a\u53ef\u9886\u53d6\u66f4\u591a\u5956\u52b1"}),this.videoAd.onError(function(t){switch(t.errCode){case 1e3:console.warn(i,"\u540e\u7aef\u9519\u8bef\u8c03\u7528\u5931\u8d25");break;case 1001:console.warn(i,"\u53c2\u6570\u9519\u8bef");break;case 1002:console.warn(i,"\u5e7f\u544a\u5355\u5143\u65e0\u6548");break;case 1003:console.warn(i,"\u5185\u90e8\u9519\u8bef");break;case 1004:console.warn(i,"\u65e0\u5408\u9002\u7684\u5e7f\u544a, \u5c1d\u8bd5\u91cd\u65b0\u52a0\u8f7d");break;case 1005:console.warn(i,"\u5e7f\u544a\u6b63\u5728\u88ab\u5ba1\u6838\uff0c\u65e0\u6cd5\u5c55\u73b0\u5e7f\u544a");break;case 1007:console.warn(i,"\u5e7f\u544a\u80fd\u529b\u88ab\u7981\u7528");break;case 1008:console.warn(i,"\u5e7f\u544a\u5355\u5143\u5df2\u5173\u95ed");break;case 120002:console.warn(i,"\u5e7f\u544a\u53d1\u9001\u7684\u6b21\u6570\u5df2\u8fbe\u5f53\u65e5\u4e0a\u9650");break;default:console.warn(i,"\u89c6\u9891\u5e7f\u544a\u9519\u8bef:https://microapp._bytedance.com/docs/zh-CN/mini-game/develop/open-capacity/ads/rewarded-video-ad/rewarded-video-ad-on-error#%E9%94%99%E8%AF%AF%E7%A0%81%E8%AF%A6%E6%83%85")}}),this.videoAd.onClose(function(e){e.isEnded?t.OnVideoCallBackListener(!0):t.OnVideoCallBackListener(!1)}),this.videoAd.onLoad(function(){t.videoAd.show(),t.hideLoading()}),this.videoAd.load(),this.showLoading()},t.prototype.videoAd_show=function(t){this.OnVideoCallBackListener=t,null!=this.videoAd?(this.showLoading(),this.videoAd.load()):this.initVideo()},t.prototype.insterAd_show=function(){var t=(new Date).getTime();if(t-this.insertAdTime<35e3)console.log(i,"\u5e7f\u544a\u51b7\u5374\u4e2d...");else{this.insertAdTime=t;var e=tt.createInterstitialAd({adUnitId:this.insertAdParam});e.onError(function(t){switch(t.errCode){case 2001:console.warn(i,"\u5c0f\u7a0b\u5e8f\u542f\u52a8\u4e00\u5b9a\u65f6\u95f4\u5185\u4e0d\u5141\u8bb8\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");break;case 2002:console.warn(i,"\u8ddd\u79bb\u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u6216\u8005\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u4e0a\u6b21\u64ad\u653e\u65f6\u95f4\u95f4\u9694\u4e0d\u8db3\uff0c\u4e0d\u5141\u8bb8\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");break;case 2003:console.warn(i,"\u5f53\u524d\u6b63\u5728\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6216\u8005\u63d2\u5c4f\u5e7f\u544a\uff0c\u4e0d\u5141\u8bb8\u518d\u6b21\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");break;case 2004:console.warn(i,"\u8be5\u9879\u9519\u8bef\u4e0d\u662f\u5f00\u53d1\u8005\u7684\u5f02\u5e38\u60c5\u51b5\uff0c\u6216\u56e0\u5c0f\u7a0b\u5e8f\u9875\u9762\u5207\u6362\u5bfc\u81f4\u5e7f\u544a\u6e32\u67d3\u5931\u8d25");break;case 2005:console.warn(i,"\u63d2\u5c4f\u5e7f\u544a\u5b9e\u4f8b\u4e0d\u5141\u8bb8\u8de8\u9875\u9762\u8c03\u7528")}}),e.onClose(function(){e.destroy()}),e.load().then(function(){e.show()})}},t.prototype.reportAnalytics=function(t,e){void 0===e&&(e={}),tt.reportAnalytics(t,e)},t.prototype.showFavoriteGuide=function(){tt.showFavoriteGuide({type:"bar",content:"\u4e00\u952e\u6dfb\u52a0\u5230\u300c\u6211\u7684\u5c0f\u7a0b\u5e8f\u300d",position:"bottom",success:function(t){console.log("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u6210\u529f",t.errMsg)},fail:function(t){console.log("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u5931\u8d25",t.errMsg)}})},t.prototype.openAwemeUserProfile=function(t){tt.openAwemeUserProfile({success:function(){t(!0)},fail:function(){t(!1)}})},t.prototype.login=function(){tt.login({force:!0,success:function(){console.log(i,"\u767b\u5f55\u6210\u529f"),t.Instance.getUserInfo()},fail:function(){console.warn(i,"\u767b\u5f55\u5931\u8d25")}})},t.prototype.getUserInfo=function(){tt.getUserInfo({withCredentials:!1,success:function(t){console.log(i,"\u7528\u6237\u4fe1\u606f\u83b7\u53d6\u6210\u529f:",t.userInfo)},fail:function(t){console.warn(i,"\u7528\u6237\u4fe1\u606f\u83b7\u53d6\u5931\u8d25:",t)}})},t}();n.ch_bytedance=o,cc._RF.pop()},{}],_oppo:[function(t,e,n){"use strict";cc._RF.push(e,"5f56fwWgFJHeJLqFUCoLqCS","_oppo"),Object.defineProperty(n,"__esModule",{value:!0}),n.ch_oppo=void 0;var i=t("../../syyx_sdk/export_sdk"),o="_oppo.ts",a=function(){function t(){this.bannerId="",this.videoId="",this.bannerAd=null,this.videoAd=null,this.OnVideoCallBackListener=null,this.bannerAd_showNum=20,this.sdkInitEnd=!1,this.initTime=0,console.log(o,"init platform channel: oppo_play")}return t.getInstance=function(){return null==this.Instance&&(this.Instance=new t,this.Instance.initTime=(new Date).getTime()),this.Instance},t.prototype.initAdParams=function(t){this.sdkInitEnd||(this.sdkInitEnd=!0,this.bannerId=t.bannerId,this.videoId=t.videoId,this.initVideoAd(),this.initBannerAd())},t.prototype.initBannerAd=function(){var t=this,e=qg.createBannerAd({posId:this.bannerId});this.bannerAd=e,this.bannerAd.onHide(function(){t.bannerAd_showNum-=1,console.log(o,"banner \u5e7f\u544a\u9690\u85cf!")}),this.bannerAd.onShow(function(){console.log(o,"banner \u5e7f\u544a\u663e\u793a!")}),this.bannerAd.onError(function(t){switch(t.errCode){case 1001:console.warn(o,"1.\u4f20\u53c2\u662f\u5426\u6709\u8bef!"),console.warn(o,"2.\u662f\u5426\u4f7f\u7528\u4e86\u4e0d\u652f\u6301\u7684\u65b9\u6cd5\u64cd\u4f5c!"),console.warn(o,"3.\u4e0d\u8981\u91cd\u590d\u62c9\u53d6\u5e7f\u544a\uff0c\u6211\u4eec\u5236\u5b9a\u9650\u5236!"),console.warn(o,"4.\u5e7f\u544a\u8d44\u6e90\u4f4d\u662f\u5426\u6ca1\u6709\u7533\u8bf7!");break;case 1002:console.warn(o,"\u5e7f\u544a\u5fc5\u987b\u572819/14\u4e4b\u540e\u7684Android\u7248\u672c\u4e0a\u663e\u793a\uff0c\u4e00\u822c\u662f\u5305\u540d\u9519\u8bef\u5bfc\u81f4\u7684!");break;case 1003:console.warn(o,"\u65e0\u5e7f\u544a\u8fd4\u56de!");break;case 1004:console.warn(o,"1.OPPO\u5f00\u653e\u5e73\u53f0\u67e5\u770b\u5e7f\u544a\u662f\u5426\u5f02\u5e38\uff0c\u5f02\u5e38\u5219\u91cd\u65b0\u7533\u8bf7!"),console.warn(o,"1.\u68c0\u67e5\u624b\u673a\u8bbe\u7f6e\u7684\u65f6\u95f4\u662f\u5426\u665a\u4e8e\u73b0\u5728\u5b9e\u9645\u7684\u65f6\u95f4\uff0c\u82e5\u662f\uff0c\u8bf7\u8bbe\u7f6e\u4e0e\u5317\u4eac\u65f6\u95f4\u76f8\u540c!"),console.warn(o,"1.\u5728\u5305\u540d\u6b63\u786e\u60c5\u51b5\u4e0b\uff0c\u6982\u7387\u6027\u504f\u79fb20003\u62a5\u9519\u5c5e\u4e8e\u6b63\u5e38\u73b0\u8c61\uff0c\u62a5\u9519\u4e0e\u5e7f\u544a\u586b\u5145\u7387/\u77ed\u65f6\u95f4\u4ea4\u66ff\u62c9\u53d6\u5e7f\u544a\u6709\u5173\uff0c\u8bf7\u4e0a\u67b6\u540e\u524d\u5f80OPPO\u5e7f\u544a\u8054\u76df\u540e\u53f0\uff0c\u67e5\u770b\u5e7f\u544a\u6570\u636e\u662f\u5426\u6b63\u5e38\uff08\u586b\u5145\u7387\u662f\u5426\u6b63\u5e38\uff09\uff1b\u7ee7\u7eed\u62c9\u53d6\u5e7f\u544a\uff0c\u662f\u4f1a\u62c9\u53d6\u4e0d\u5230\u5e7f\u544a\uff0c\u56e0\u4e3a\u6211\u4eec\u5bf9\u62c9\u53d6\u9891\u6b21\u4f5c\u4e86\u9650\u5236!")}})},t.prototype.bannerAd_show=function(){this.bannerAd_showNum<=0||(new Date).getTime()-this.initTime<6e4||this.bannerAd.show()},t.prototype.bannerAd_hide=function(){this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destroy(),this.initBannerAd())},t.prototype.initVideoAd=function(){var t=this;this.videoAd=qg.createRewardedVideoAd({posId:t.videoId}),this.videoAd.onLoad(function(){t.videoAd.show()}),this.videoAd.onError(function(t){switch(t.errCode){case 1001:console.warn(o,"1.\u4f20\u53c2\u662f\u5426\u6709\u8bef!"),console.warn(o,"2.\u662f\u5426\u4f7f\u7528\u4e86\u4e0d\u652f\u6301\u7684\u65b9\u6cd5\u64cd\u4f5c!"),console.warn(o,"3.\u4e0d\u8981\u91cd\u590d\u62c9\u53d6\u5e7f\u544a\uff0c\u6211\u4eec\u5236\u5b9a\u9650\u5236!"),console.warn(o,"4.\u5e7f\u544a\u8d44\u6e90\u4f4d\u662f\u5426\u6ca1\u6709\u7533\u8bf7!");break;case 1002:console.warn(o,"\u5e7f\u544a\u5fc5\u987b\u572819/14\u4e4b\u540e\u7684Android\u7248\u672c\u4e0a\u663e\u793a\uff0c\u4e00\u822c\u662f\u5305\u540d\u9519\u8bef\u5bfc\u81f4\u7684!");break;case 1003:console.warn(o,"\u65e0\u5e7f\u544a\u8fd4\u56de!");break;case 1004:console.warn(o,"1.OPPO\u5f00\u653e\u5e73\u53f0\u67e5\u770b\u5e7f\u544a\u662f\u5426\u5f02\u5e38\uff0c\u5f02\u5e38\u5219\u91cd\u65b0\u7533\u8bf7!"),console.warn(o,"1.\u68c0\u67e5\u624b\u673a\u8bbe\u7f6e\u7684\u65f6\u95f4\u662f\u5426\u665a\u4e8e\u73b0\u5728\u5b9e\u9645\u7684\u65f6\u95f4\uff0c\u82e5\u662f\uff0c\u8bf7\u8bbe\u7f6e\u4e0e\u5317\u4eac\u65f6\u95f4\u76f8\u540c!"),console.warn(o,"1.\u5728\u5305\u540d\u6b63\u786e\u60c5\u51b5\u4e0b\uff0c\u6982\u7387\u6027\u504f\u79fb20003\u62a5\u9519\u5c5e\u4e8e\u6b63\u5e38\u73b0\u8c61\uff0c\u62a5\u9519\u4e0e\u5e7f\u544a\u586b\u5145\u7387/\u77ed\u65f6\u95f4\u4ea4\u66ff\u62c9\u53d6\u5e7f\u544a\u6709\u5173\uff0c\u8bf7\u4e0a\u67b6\u540e\u524d\u5f80OPPO\u5e7f\u544a\u8054\u76df\u540e\u53f0\uff0c\u67e5\u770b\u5e7f\u544a\u6570\u636e\u662f\u5426\u6b63\u5e38\uff08\u586b\u5145\u7387\u662f\u5426\u6b63\u5e38\uff09\uff1b\u7ee7\u7eed\u62c9\u53d6\u5e7f\u544a\uff0c\u662f\u4f1a\u62c9\u53d6\u4e0d\u5230\u5e7f\u544a\uff0c\u56e0\u4e3a\u6211\u4eec\u5bf9\u62c9\u53d6\u9891\u6b21\u4f5c\u4e86\u9650\u5236!")}qg.showToast({title:"\u6682\u65f6\u6ca1\u6709\u89c6\u9891\u5e7f\u544a\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01",icon:"none",duration:2e3})}),this.videoAd.onClose(function(e){e.isEnded?t.OnVideoCallBackListener(!0):t.OnVideoCallBackListener(!1)})},t.prototype.videoAd_show=function(t){i.Export.show_video(function(){cc.log("\u770b\u5b8c\u89c6\u9891\uff0c\u9700\u8981\u5728\u6b64\u5199\u4e0a\u653e\u53d1\u5956\u52b1\u4ee3\u7801"),t&&t(!0)},function(){t&&t(!1)})},t.prototype._oppoPush=function(t){void 0===t&&(t=""),qg.navigateToMiniGame({pkgName:t})},t.prototype.shakeDevice=function(){qg.vibrateShort({})},t}();n.ch_oppo=a,cc._RF.pop()},{"../../syyx_sdk/export_sdk":"export_sdk"}],_qq:[function(t,e,n){"use strict";cc._RF.push(e,"0d1ddHwb0pAhrbL0w6o11mM","_qq"),Object.defineProperty(n,"__esModule",{value:!0}),n.ch_qq=void 0;var i="_qq.ts",o=function(){function t(){this.videoAd=null,this.bannerAd=null,this.insertAd=null,this.appBoxAd=null,this.videoAdId="",this.insertAdId="",this.bannerAdId="",this.appBoxAdId="",this.OnVideoCallBackListener=null,this.sdkInitEnd=!1,console.log(i,"init platform channel: _qq_play")}return t.getInstance=function(){return null==this.Instance&&(this.Instance=new t),this.Instance},t.prototype.initAdParams=function(t){this.sdkInitEnd||(this.sdkInitEnd=!0,this.insertAdId=t.insertId,this.bannerAdId=t.bannerId,this.videoAdId=t.videoId,this.appBoxAdId=t.appBoxId,this.initBannerAd())},t.prototype.buttonShare=function(e,n,i){t.shareAppMessage({title:i,imageUrl:n,query:"key1=val1",success:function(){e(!0)},fail:function(){e(!1)}})},t.prototype.initVideoAd=function(){var e=this;this.videoAd=t.createRewardedVideoAd({adUnitId:this.videoAdId}),this.videoAd.onError(function(t){console.warn(i,"\u6fc0\u52b1\u89c6\u9891\u9519\u8bef:",JSON.stringify(t))}),this.videoAd.onLoad(function(){e.videoAd.show()}),this.videoAd.load(),this.videoAd.onClose(function(t){t&&t.isEnded?e.OnVideoCallBackListener(!0):e.OnVideoCallBackListener(!1)})},t.prototype.initBannerAd=function(){var e=this,n=null;t.getSystemInfo({success:function(t){n=t,console.log(i,t.windowWidth),console.log(i,t.windowHeight)}}),this.bannerAd=t.createBannerAd({adUnitId:this.bannerAdId,style:{left:0,top:n.windowHeight-150,width:150,height:200}}),this.bannerAd.onResize(function(t){console.log("onResize",t.width,t.height),e.bannerAd.style.left=(n.windowWidth-t.width)/2,e.bannerAd.style.top=n.windowHeight-t.height,e.bannerAd.style.left=(n.windowWidth-t.width)/2,e.bannerAd.style.top=n.windowHeight-t.height}),this.bannerAd.onError(function(t){console.warn(i,"bannerAd onError!",t)}),this.bannerAd.onLoad(function(t){console.warn(i,"bannerAd onLoad!",t)})},t.prototype.insertAd_show=function(){var e=this;null!=this.insertAd&&this.insertAd.destroy(),this.insertAd=t.createInterstitialAd({adUnitId:this.insertAdId}),this.insertAd.load().then(function(){e.insertAd.show()}),this.insertAd.onError(function(t){console.warn(i,"\u63d2\u5c4f\u5e7f\u544a\u9519\u8bef:"+JSON.stringify(t))})},t.prototype.creatAppBoxAd=function(){this.appBoxAd=t.createAppBox({adUnitId:this.appBoxAdId})},t.prototype.appBoxAdShow=function(){var t=this;this.creatAppBoxAd(),this.appBoxAd.load().then(function(){t.appBoxAd.show()})},t.prototype.appBoxDestroy=function(){this.appBoxAd.destroy(),this.appBoxAd=null},t.prototype.videoAd_show=function(t){this.OnVideoCallBackListener=t,null!=this.videoAd?this.videoAd.load():this.initVideoAd()},t.prototype.bannerAd_hide=function(){this.bannerAd.hide(),this.bannerAd.destroy(),this.initBannerAd()},t.prototype.bannerAd_show=function(){this.bannerAd.show().then(function(){console.log(i,"banner\u5e7f\u544a\u663e\u793a\u6210\u529f!")}).catch(function(t){console.warn(i,"banner\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898:"+t)})},t.prototype.shakeDevice=function(){t.vibrateShort()},t}();n.ch_qq=o,cc._RF.pop()},{}],_vivo:[function(t,e,n){"use strict";cc._RF.push(e,"5d57fhYn05IhJPkcocEaSWw","_vivo"),Object.defineProperty(n,"__esModule",{value:!0}),n.ch_vivo=void 0;var i="_vivo.ts",o=function(){function t(){this.videoId="",this.bannerId="",this.insertId="",this.nativeId="",this.videoAd=null,this.bannerAd=null,this.OnVideoCallBackListener=null,this.sdkInitEnd=!1,this.showAdLastTime=0,console.log(i,"init platform channel: vivo_play")}return t.getInstance=function(){return null==this.Instance&&(this.Instance=new t),this.Instance},t.prototype.initAdParams=function(t){this.sdkInitEnd||(this.sdkInitEnd=!0,this.insertId=t.insertId,this.bannerId=t.bannerId,this.videoId=t.videoId,this.nativeId=t.nativeId,this.initBannderAd())},t.prototype.initBannderAd=function(){var t=qg.createBannerAd({posId:this.bannerId,style:{}});this.bannerAd=t,this.bannerAd.onError(function(t){console.warn(i,"banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25:"+JSON.stringify(t))})},t.prototype.bannerAd_show=function(){this.bannerAd&&this.bannerAd.show()},t.prototype.bannerAd_hide=function(){this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destroy(),this.initBannderAd())},t.prototype.initVideoAd=function(){var t=this;this.videoAd=qg.createRewardedVideoAd({posId:this.videoId}),this.videoAd.onLoad(function(){cc.audioEngine.pauseAll(),t.videoAd.show(),t.showAdLastTime=(new Date).getTime()}),this.videoAd.onClose(function(e){cc.audioEngine.resumeAll(),e&&e.isEnded?t.OnVideoCallBackListener(!0):t.OnVideoCallBackListener(!1)}),this.videoAd.onError(function(t){console.warn(i,"\u89c6\u9891\u5e7f\u544a\u9519\u8bef:"+JSON.stringify(t))}),this.videoAd.load()},t.prototype.videoAd_show=function(t){(new Date).getTime()-this.showAdLastTime<6e4?qg.showToast({message:"\u6bcf\u5206\u949f\u53ea\u80fd\u770b\u4e00\u6b21\u89c6\u9891"}):(this.OnVideoCallBackListener=t,null!=this.videoAd?this.videoAd.load():this.initVideoAd())},t.prototype.insertAd_show=function(){var t=qg.createInterstitialAd({posId:this.insertId});t.onError(function(t){console.warn(i,"\u63d2\u5c4f\u5e7f\u544a\u9519\u8bef:"+JSON.stringify(t))}),t.show()},t.prototype.shakeDevice=function(){qg.vibrateShort()},t.prototype.nativeAdShow=function(t){var e=qg.createNativeAd({posId:this.nativeId});e.onLoad(function(n){console.log(i,"\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210-onload\u89e6\u53d1:"+JSON.stringify(n));var o=null;n&&n.adList&&(o=n.adList.pop(),e.reportAdShow({adId:o.adId}),null!=o.icon&&null!=o.imgUrlList[0]&&t(o.icon,o.imgUrlList[0],function(){console.log(i,"_vivo \u539f\u751f\u70b9\u51fb"),e.reportAdClick({adId:o.adId})}))}),e.onError(function(t){switch(t.errCode){case-3:console.log(i,"\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25---\u8c03\u7528\u592a\u9891\u7e41:"+JSON.stringify(t));break;default:console.log(i,"\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5f02\u5e38:"+JSON.stringify(t))}}),e.load().then(function(){console.log(i,"VIVO\u539f\u751f\u52a0\u8f7d\u6210\u529f")}).catch(function(t){console.warn(i,"VIVO\u539f\u751f\u52a0\u8f7d\u5931\u8d25:"+JSON.stringify(t))})},t}();n.ch_vivo=o,cc._RF.pop()},{}],_wechat:[function(t,e,n){"use strict";cc._RF.push(e,"4f52a3polJI36cAFEkf9tS5","_wechat"),Object.defineProperty(n,"__esModule",{value:!0}),n.ch_wechat=void 0;var i="_wechat.ts",o=function(){function t(){this.videoAd=null,this.bannerAd=null,this.videoId="",this.bannerId="",this.insertId="",this.sdkInitEnd=!1,this.onVideoAdCallBack=null,this.insertAdTime=0,console.log(i,"init platform channel: _wechat")}return t.getInstance=function(){return null==this.Instance&&(this.Instance=new t),this.Instance},t.prototype.initAdParams=function(t){this.sdkInitEnd||(this.sdkInitEnd=!0,this.insertId=t.insertId,this.bannerId=t.bannerId,this.videoId=t.videoId)},t.prototype.initBannerAd=function(){var t=this,e=wx.getSystemInfoSync(),n=e.windowWidth,o=e.windowHeight,a=120;this.bannerAd=wx.createBannerAd({adUnitId:this.bannerId,adIntervals:120,style:{width:a,top:o-a/16*9}}),this.bannerAd.onError(function(t){switch(t.errCode){case 1e3:console.warn(i,"\u540e\u7aef\u9519\u8bef\u8c03\u7528\u5931\u8d25");break;case 1001:console.warn(i,"\u53c2\u6570\u9519\u8bef");break;case 1002:console.warn(i,"\u5e7f\u544a\u5355\u5143\u65e0\u6548");break;case 1003:console.warn(i,"\u5185\u90e8\u9519\u8bef");break;case 1004:console.warn(i,"\u65e0\u5408\u9002\u7684\u5e7f\u544a, \u5c1d\u8bd5\u91cd\u65b0\u52a0\u8f7d");break;case 1005:console.warn(i,"\u5e7f\u544a\u6b63\u5728\u88ab\u5ba1\u6838\uff0c\u65e0\u6cd5\u5c55\u73b0\u5e7f\u544a");break;case 1007:console.warn(i,"\u5e7f\u544a\u80fd\u529b\u88ab\u7981\u7528");break;case 1008:console.warn(i,"\u5e7f\u544a\u5355\u5143\u5df2\u5173\u95ed")}}),this.bannerAd.style.left=(n-a)/2,this.bannerAd.onResize(function(e){console.log(i,e.width,e.height),0!=e.width&&0!=e.height&&a!=e.width&&(a=e.width,t.bannerAd.style.top=o-e.height,t.bannerAd.style.left=(n-e.width)/2)}),this.bannerAd.onLoad(function(){console.log(i,"banner\u5e7f\u544a\u62c9\u53d6\u5b8c\u6210!")})},t.prototype.bannerAd_show=function(){this.bannerAd&&this.bannerAd.show()},t.prototype.bannerAd_hide=function(){this.bannerAd&&(this.bannerAd.hide(),this.initBannerAd())},t.prototype.initVideoAd=function(){var t=this;wx.createRewardedVideoAd||(this.videoAd=wx.createRewardedVideoAd({adUnitId:this.videoId,multiton:!1}),this.videoAd.onClose(function(e){e&&e.isEnded?t.onVideoAdCallBack(!0):t.onVideoAdCallBack(!1)}),this.videoAd.onError(function(t){switch(t.errCode){case 1e3:console.warn(i,"\u540e\u7aef\u63a5\u53e3\u8c03\u7528\u5931\u8d25");break;case 1001:console.warn(i,"\u53c2\u6570\u9519\u8bef");break;case 1002:console.warn(i,"\u5e7f\u544a\u5355\u5143\u65e0\u6548");break;case 1003:console.warn(i,"\u5185\u90e8\u9519\u8bef");break;case 1004:console.warn(i,"\u65e0\u5408\u9002\u7684\u5e7f\u544a");break;case 1005:console.warn(i,"\u5e7f\u544a\u7ec4\u4ef6\u5ba1\u6838\u4e2d");break;case 1006:console.warn(i,"\u5e7f\u544a\u7ec4\u4ef6\u88ab\u9a73\u56de");break;case 1007:console.warn(i,"\u5e7f\u544a\u7ec4\u4ef6\u88ab\u5c01\u7981");break;case 1008:console.warn(i,"\u5e7f\u544a\u5355\u5143\u5df2\u5173\u95ed")}}),this.videoAd.onLoad(function(){t.videoAd.show()}),this.videoAd.load())},t.prototype.videoAd_show=function(t){this.onVideoAdCallBack=t,null!=this.videoAd?this.videoAd.load():this.initVideoAd()},t.prototype.insterAd_show=function(){var t=(new Date).getTime();if(t-this.insertAdTime<3e4)console.log(i,"\u5e7f\u544a\u51b7\u5374\u4e2d...");else{this.insertAdTime=t;var e=tt.createInterstitialAd({adUnitId:this.insertId});e.onError(function(t){switch(t.errCode){case 1e3:console.warn(i,"\u540e\u7aef\u63a5\u53e3\u8c03\u7528\u5931\u8d25");break;case 1001:console.warn(i,"\u53c2\u6570\u9519\u8bef");break;case 1002:console.warn(i,"\u5e7f\u544a\u5355\u5143\u65e0\u6548");break;case 1003:console.warn(i,"\u5185\u90e8\u9519\u8bef");break;case 1004:console.warn(i,"\u65e0\u5408\u9002\u7684\u5e7f\u544a");break;case 1005:console.warn(i,"\u5e7f\u544a\u7ec4\u4ef6\u5ba1\u6838\u4e2d");break;case 1006:console.warn(i,"\u5e7f\u544a\u7ec4\u4ef6\u88ab\u9a73\u56de");break;case 1007:console.warn(i,"\u5e7f\u544a\u7ec4\u4ef6\u88ab\u5c01\u7981");break;case 1008:console.warn(i,"\u5e7f\u544a\u5355\u5143\u5df2\u5173\u95ed")}}),e.onClose(function(){e.destroy()}),e.load().then(function(){e.show()})}},t.Instance=null,t}();n.ch_wechat=o,cc._RF.pop()},{}],ad_banner:[function(t,e,n){"use strict";cc._RF.push(e,"b97e0ZjqchKMJ52/081T9XS","ad_banner"),Object.defineProperty(n,"__esModule",{value:!0}),n.ad_banner=void 0;var i=t("./../../configs/syyx_sdk_enum"),o=t("../../utils/syyx_sdk_utils"),a=t("../syyx_manager"),s=t("../../configs/syyx_sdk_config"),r=t("./syyx_adv_manager"),c=t("./ad_oppo_banner"),l=function(){function t(){}return t.init_first_banner_cd=function(){var t=this;if(s.syyx_const.syyx_sdk_channel==igc.e_channel_type.oppo_qg){var e=0;this._business_config_data=a.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.adv_banner_cd&&(e=this._business_config_data.adv_banner_cd.value[0],this.can_show_first=e<=0,console.log("igc----- the banner's cd in oppo is",e)),this.first_banner_timer_id&&clearTimeout(this.first_banner_timer_id),this.first_banner_timer_id=setTimeout(function(){t.can_show_first=!0,t.need_show&&t._ad_param&&t.show_banner(t._ad_param.ad_type,t._ad_param.ad_pos_id,t._ad_param.onLoad,t._ad_param.onShow,t._ad_param.onClose,t._ad_param.onError)},1e3*e)}},t.run_timer=function(){this.is_run_timer||(this.is_run_timer=!0,this.timer_func())},t.timer_func=function(){var t=this;this._business_config_data=a.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.banner_cool_time&&(this.auto_update_cd=this._business_config_data.banner_cool_time.value),this.load_native_banner();var e=o.syyx_sdk_utils.get_random_number(this.auto_update_cd);console.log("sdk------ next time to refresh banner is",e),this.timer_id&&clearTimeout(this.timer_id),this.timer_id=setTimeout(function(){t.timer_func()},1e3*e)},t.show_banner=function(t,e,n,i,o,a){this.need_show=!0,this._normal_banner_id=e,this._native_banner_id=r.syyx_adv_manager._adv_config_data[e].backup_id,this._ad_param={ad_type:t,ad_pos_id:e,onLoad:n,onShow:i,onClose:o,onError:a},this.can_show_first?r.syyx_adv_manager.check_is_open_oppo_rule()?c.ad_oppo_banner.show_banner(t,e,n,i,o,a):r.syyx_adv_manager.get_channel_ad_id(e)&&this.run_timer():console.log("igc----- banner is in cooling time ")},t.check_need_show_banner=function(){return this.need_show},t.auto_show_banner=function(){this._ad_param&&this._ad_param.ad_type&&this._ad_param.ad_pos_id?this.show_banner(this._ad_param.ad_type,this._ad_param.ad_pos_id,this._ad_param.onLoad,this._ad_param.onShow,this._ad_param.onClose,this._ad_param.onError):this.show_banner(igc.e_ad_type.banner,i.e_ad_id.banner_hall,void 0,void 0,void 0,void 0)},t.hide_banner=function(){this.need_show=!1,r.syyx_adv_manager.check_is_open_oppo_rule()?c.ad_oppo_banner.hide_banner():this.can_show_first?(this.is_run_timer=!1,this.hide_normal_banner(),this.timer_id&&clearTimeout(this.timer_id),this.timer_id=void 0):console.log("igc----- banner is in cooling time ")},t.load_native_banner=function(){this.need_show?this._native_banner_id||this.show_normal_banner():this.hide_banner()},t.report_ad_click=function(t,e){r.syyx_adv_manager.check_is_open_oppo_rule()&&c.ad_oppo_banner.report_ad_click(t,e)},t.report_ad_show=function(t,e){r.syyx_adv_manager.check_is_open_oppo_rule()&&c.ad_oppo_banner.report_ad_show(t,e)},t.get_easy_click_protect_count=function(){var t=0;return this._business_config_data=a.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.native_banner_click_protect&&(t=this._business_config_data.native_banner_click_protect.value[0]),t},t.set_banenr_protect_model=function(){this.cur_protect_count=0},t.get_is_easy_click_model=function(){var t=this.get_easy_click_protect_count();if(t>0&&this.cur_protect_count>=0&&(this.cur_protect_count++,this.cur_protect_count<=t))return!1;if(this._business_config_data=a.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.native_banner_click_switch&&1==this._business_config_data.native_banner_click_switch.value[0]){var e=this._business_config_data.native_banner_click_pro.value[0];return Math.random()<=e}return!1},t.set_normal_banner_switch=function(t){r.syyx_adv_manager.check_is_open_oppo_rule()&&c.ad_oppo_banner.set_normal_banner_switch(t)},t.show_normal_banner=function(){if(this._business_config_data&&this._business_config_data.show_normal_banner_switch&&0==this._business_config_data.show_normal_banner_switch.value[0])console.log("igc ----- normal banner switch is close");else if(this.can_show_vivo_banner||s.syyx_const.syyx_sdk_channel!==igc.e_channel_type.vivo_qg){var t=this;a.syyx_manager.create_ad(igc.e_ad_type.banner,t._normal_banner_id,function(){t._ad_param.onLoad&&t._ad_param.onLoad()},function(){t.normal_banner_showing=!0,t.need_show?t._ad_param.onShow&&t._ad_param.onShow():t.hide_normal_banner()},function(){t._ad_param.onClose&&t._ad_param.onClose()},function(e,n){console.log("igc------syyx_adv_manager show_normal_banner onError",n),t._ad_param.onError&&t._ad_param.onError(e,n)})}else console.log("igc----- vivo ad_banner show_normal_banner create too often!!!")},t.hide_normal_banner=function(){var t=this;t._normal_banner_id&&(t.normal_banner_showing&&s.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg&&(t.can_show_vivo_banner=!1,this.banner_timer_id&&clearTimeout(this.banner_timer_id),this.banner_timer_id=setTimeout(function(){t.can_show_vivo_banner=!0},11e3)),t.normal_banner_showing=!1,a.syyx_manager.destroy_ad(igc.e_ad_type.banner,t._normal_banner_id))},t.finger_close_banner=function(){var t=this;if(this.is_oppo_vivo_hw()&&this._business_config_data&&this._business_config_data.finger_close_banner_switch){if(r.syyx_adv_manager.check_is_open_oppo_rule())return void c.ad_oppo_banner.finger_close_banner();if(1==this._business_config_data.finger_close_banner_switch.value[0]){var e=this._business_config_data.finger_close_banner_switch.value[1]||60;this.hide_banner(),this.can_show_first=!1,setTimeout(function(){t.can_show_first=!0},1e3*e)}}},t.is_oppo_vivo_hw=function(){return s.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg||s.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg||s.syyx_const.syyx_sdk_channel===igc.e_channel_type.web},t._business_config_data={},t._native_banner_id=void 0,t._normal_banner_id=void 0,t.auto_update_cd=[20,20],t.is_run_timer=!1,t.need_show=!0,t.can_show_first=!0,t.first_banner_timer_id=void 0,t.normal_banner_showing=!1,t.can_show_vivo_banner=!0,t.cur_protect_count=-1,t}();n.ad_banner=l,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../utils/syyx_sdk_utils":"syyx_sdk_utils","../syyx_manager":"syyx_manager","./../../configs/syyx_sdk_enum":"syyx_sdk_enum","./ad_oppo_banner":"ad_oppo_banner","./syyx_adv_manager":"syyx_adv_manager"}],ad_block:[function(t,e,n){"use strict";cc._RF.push(e,"5c619pCq/9P2LwGNx2Vh9gI","ad_block"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../syyx_manager"),o=t("../../configs/syyx_sdk_config"),a=t("../../utils/syyx_sdk_utils"),s=t("./syyx_adv_manager"),r=function(){function t(){this._business_config_data={},this.auto_update_cd=[20,20],this.is_run_timer=!1,this.need_show=!0}return t.prototype.run_timer=function(){var t=o.syyx_const.syyx_sdk_channel===igc.e_channel_type.qq||o.syyx_const.syyx_sdk_channel===igc.e_channel_type.web;!this.is_run_timer&&t&&(this.is_run_timer=!0,this.timer_func())},t.prototype.timer_func=function(){var t=this;if(this._business_config_data=i.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.banner_cool_time&&(this.auto_update_cd=this._business_config_data.banner_cool_time.value),this.hide_block(),this.need_show=!0,this.load_block(),this._ad_param&&this._ad_param.style&&this._ad_param.style.auto_update){var e=a.syyx_sdk_utils.get_random_number(this.auto_update_cd);console.log("igc------syyx_ui_block next time to refresh right side block's  cd",e),this.timer_id&&clearTimeout(this.timer_id),this.timer_id=setTimeout(function(){t.timer_func()},1e3*e)}},t.prototype.show_block=function(t,e,n,i,o,a,r){this._ad_pos_id=n,this._ad_param={style:t,ad_type:e,ad_pos_id:n,onLoad:i,onShow:o,onClose:a,onError:r};var c=s.syyx_adv_manager.get_channel_ad_id(n);c&&"1"!=c&&"0"!=c?this.run_timer():console.log("igc----- ad_block native_interstitial_id no configure in adv.csv")},t.prototype.hide_block=function(){this.need_show=!1,this.destroy_timer(),i.syyx_manager.hide_ad(igc.e_ad_type.block,this._ad_pos_id)},t.prototype.destroy_timer=function(){this.is_run_timer=!1,this.timer_id&&clearTimeout(this.timer_id),this.timer_id=void 0},t.prototype.load_block=function(){var t=this;if(this.need_show){var e=5;this._business_config_data&&this._business_config_data.block_bottom_offset&&this._business_config_data.block_bottom_offset.value[0]>0&&(e=this._business_config_data.block_bottom_offset);var n=void 0;this._ad_param.style.vertical_center_y>=-888888&&(n=this._ad_param.style.vertical_center_y);var i=void 0;this._ad_param.style.vertical_right>=0&&(i=this._ad_param.style.vertical_right);var o={ad_type:igc.e_ad_type.block,ad_id:s.syyx_adv_manager.get_channel_ad_id(this._ad_pos_id),ad_pos_id:this._ad_pos_id,ad_event:this._ad_pos_id,ad_scene:this._ad_pos_id,style:{left:this._ad_param.style.left>=20?this._ad_param.style.left:20,top:this._ad_param.style.top>=50?this._ad_param.style.top:50},vertical_center_y:n,vertical_right:i,bottom_offset:e,size:this._ad_param.style.size||5,orientation:this._ad_param.style.orientation||"landscape",onShow:function(){console.error("igc-----syyx_adv_manager-------load_block onShow"),t.need_show||t.hide_block()},onError:function(e,n){console.error("igc-----syyx_adv_manager-------load_block onError",n),t._ad_param.onError&&t._ad_param.onError(e,n)}};igc.igc_main.instance.create_ad(o)}else this.hide_block()},t}();n.default=r,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../utils/syyx_sdk_utils":"syyx_sdk_utils","../syyx_manager":"syyx_manager","./syyx_adv_manager":"syyx_adv_manager"}],ad_native_icon:[function(t,e,n){"use strict";cc._RF.push(e,"f723a+cF1VHgKqwDDNUF9YK","ad_native_icon"),Object.defineProperty(n,"__esModule",{value:!0}),n.ad_native_icon=void 0;var i=t("../../model/model"),o=t("../../configs/syyx_sdk_enum"),a=t("../syyx_manager"),s=t("../../configs/syyx_sdk_config"),r=t("./syyx_adv_manager"),c=t("../../utils/syyx_sdk_utils"),l=t("./ad_banner"),_=function(){function t(){}return t.run_timer=function(){!this.is_run_timer&&this.is_oppo_vivo()&&(this.is_run_timer=!0,this.timer_func())},t.timer_func=function(){var t=this;this._business_config_data=a.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.native_icon_cool_time&&(this.auto_update_cd=this._business_config_data.native_icon_cool_time.value),this.load_native_icon();var e=c.syyx_sdk_utils.get_random_number(this.auto_update_cd);this.timer_id&&clearTimeout(this.timer_id),this.timer_id=setTimeout(function(){t.timer_func()},1e3*e)},t.report_ad_click=function(t){this._ad_pos_id==t&&(console.log("igc ----- has in native icon 's report click "),this._business_config_data=a.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.native_icon_report_click_update_switch&&1==this._business_config_data.native_icon_report_click_update_switch.value[0]&&(this.destroy_timer(),this.icon_parent&&this.show_native_icon(this.icon_parent,this._ad_param.ad_type,this._ad_param.ad_pos_id,this._ad_param.onLoad,this._ad_param.onShow,this._ad_param.onClose,this._ad_param.onError)))},t.report_ad_show=function(){this._ad_pos_id},t.show_native_icon=function(t,e,n,i,o,s,c){this._ad_pos_id=n,this._ad_param={ad_type:e,ad_pos_id:n,onLoad:i,onShow:o,onClose:s,onError:c},this.need_show=!0,this.icon_parent=t,r.syyx_adv_manager.get_channel_ad_id(n)&&(this._business_config_data=a.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.native_icon_switch&&(1==this._business_config_data.native_icon_switch.value[0]?this.run_timer():console.log("sdk----- config - native icon is close")))},t.hide_native_icon=function(){this.need_show=!1,this.icon_parent=void 0,this.hide_native_icon_ui(),this.destroy_timer()},t.destroy_timer=function(){this.is_run_timer=!1,this.timer_id&&clearTimeout(this.timer_id),this.timer_id=void 0},t.load_native_icon=function(t){var e=this;if(l.ad_banner.can_show_first)if(this.need_show){var n=this.get_native_data();if(n&&n.state==o.e_ad_native_state.need_show)this.show_native_icon_ui();else{if(s.syyx_const.syyx_sdk_channel===igc.e_channel_type.web){var _=new i.native_ad_data;return _.id=igc.utils_manager.get_random_name(),_.adPosId=this._ad_pos_id,_.adId=c.syyx_sdk_utils.get_random_number([100,200]),_.adUnitId=c.syyx_sdk_utils.get_random_number([0,1e5]),_.imgUrlList="https://static-cdn.llewan.com/h5/ddsdk/plugin/share_img.jpg",_.title="\u539f\u751ficon\u6807\u9898"+c.syyx_sdk_utils.get_random_number([100,200]),_.desc="\u539f\u751ficon\u63cf\u8ff0"+c.syyx_sdk_utils.get_random_number([100,200]),_.state=o.e_ad_native_state.need_show,_.native_type=o.e_ad_native_type.native_icon,this.add_native_data(_),this._ad_param.onLoad&&this._ad_param.onLoad({},_),this.show_native_icon_ui(),void(t&&t())}a.syyx_manager.create_ad(igc.e_ad_type.native,this._ad_pos_id,function(t,n){if(console.log("igc-----syyx_adv_manager-------load_native_icon on_load",n),null!=n&&n[0]){var a=0;s.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg&&(a=n.length-1);var l;l=s.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg?c.syyx_sdk_utils.format_remote_texture_url(n[a].iconUrlList[0]):c.syyx_sdk_utils.format_remote_texture_url(n[a].imgUrlList[0]);var _=new i.native_ad_data;_.id=igc.utils_manager.get_random_name(),_.adPosId=e._ad_pos_id,_.adId=r.syyx_adv_manager.get_channel_ad_id(e._ad_pos_id),_.adUnitId=n[a].adUnitId,_.imgUrlList=l,_.title=n[a].title,_.desc=n[a].desc,_.state=o.e_ad_native_state.need_show,_.native_type=o.e_ad_native_type.native_icon,e.add_native_data(_),e._ad_param.onLoad&&e._ad_param.onLoad({},_),e.show_native_icon_ui()}},function(){},function(){},function(t,n){console.error("igc-----syyx_adv_manager-------load_native_icon onError",n),e.get_native_data()&&e.show_native_icon_ui(),e._ad_param.onError&&e._ad_param.onError()})}}else this.hide_native_icon_ui();else console.log("igc----- is in oppo first ad cd")},t.show_native_icon_ui=function(){var t=this;if(t.hide_native_icon_ui(),this.need_show)if(this.icon_parent){if(this.is_oppo_vivo()){var e=this.get_native_data();this.need_show&&e&&a.syyx_manager.create_native_icon(function(n){n.show&&n.show(t.icon_parent,e)})}}else console.log("igc----- the native icon's parent node is not exist");else console.log("igc----- the current interface doesn't need to show native icon so that do not refresh native data")},t.hide_native_icon_ui=function(){this.is_oppo_vivo()&&a.syyx_manager.create_native_icon(function(t){t.hide&&t.hide()})},t.is_oppo_vivo=function(){return s.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg||s.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg||s.syyx_const.syyx_sdk_channel===igc.e_channel_type.web},t.get_native_data=function(){return r.syyx_adv_manager.check_is_open_oppo_rule()?r.syyx_adv_manager.check_native_data_list_is_reprot(this._native_data_list)?(console.log("igc----- ad_native_icon use old load native data"),r.syyx_adv_manager.get_min_order_native_data(this._native_data_list)):r.syyx_adv_manager.get_latest_native_data(this._native_data_list):this._native_data_list[0]},t.add_native_data=function(t){if(r.syyx_adv_manager.check_is_open_oppo_rule()){for(var e in this._native_data_list)if(this._native_data_list[e].adUnitId==t.adUnitId)return;var n=r.syyx_adv_manager.get_oppo_native_cache_max_length();this._native_data_list.length>=n&&this._native_data_list.splice(0,1),this._native_data_list.push(t)}else this._native_data_list[0]=t},t._native_data_list=[],t._business_config_data={},t.auto_update_cd=[20,20],t.is_run_timer=!1,t.need_show=!0,t}();n.ad_native_icon=_,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../configs/syyx_sdk_enum":"syyx_sdk_enum","../../model/model":"model","../../utils/syyx_sdk_utils":"syyx_sdk_utils","../syyx_manager":"syyx_manager","./ad_banner":"ad_banner","./syyx_adv_manager":"syyx_adv_manager"}],ad_native_inner_interstitial:[function(t,e,n){"use strict";cc._RF.push(e,"e99f1odQZ1M3Z/ZTQyYK1KD","ad_native_inner_interstitial"),Object.defineProperty(n,"__esModule",{value:!0}),n.ad_native_inner_interstitial=void 0;var i=t("../../model/model"),o=t("../../configs/syyx_sdk_enum"),a=t("../syyx_manager"),s=t("../../configs/syyx_sdk_config"),r=t("./syyx_adv_manager"),c=t("../../utils/syyx_sdk_utils"),l=function(){function t(){}return t.report_ad_click=function(t){var e=this;if(this._ad_pos_id||(console.log("igc----- ad_native_inner_interstitial  report_ad_click this.ad_pos_id is null!!"),this._ad_pos_id=o.e_ad_id.native_inner_interstitial_success),this._ad_pos_id==t){if(s.syyx_const.syyx_sdk_channel===igc.e_channel_type.hw_qg)return console.log("igc ------ hw hide inner interstitial"),void a.syyx_manager.hide_native_inner_interstitial();console.log("igc ----- has in inner interstitial's report click "),this._business_config_data=a.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.native_inner_report_click_update_switch&&(1==this._business_config_data.native_inner_report_click_update_switch.value[0]?this.preload_native_inner_interstitial(igc.e_ad_type.native,t,function(t,n){console.log("igc----- ad_native_inner_interstitial click update success"),e.update_native_inner_interstitial_ui(n)},function(){},function(){},function(){var t=e.get_native_data();t?e.update_native_inner_interstitial_ui(t):a.syyx_manager.hide_native_inner_interstitial()}):a.syyx_manager.hide_native_inner_interstitial())}},t.report_ad_show=function(t,e){this._ad_pos_id||(console.log("igc----- ad_native_inner_interstitial  report_ad_click this.ad_pos_id is null!!"),this._ad_pos_id=o.e_ad_id.native_inner_interstitial_success),this._ad_pos_id==t&&(this._last_ad_id=e.id)},t.preload_native_inner_interstitial=function(t,e,n,l,_,d){var h=this;if(this._ad_pos_id=e,this._ad_param={ad_type:t,ad_pos_id:e,onLoad:n,onShow:l,onClose:_,onError:d},r.syyx_adv_manager.check_is_click_limit(o.e_ad_native_type.native_inner_interstitial)){var p=this.get_native_data();p?n&&n({},p):d&&d()}else if(this._business_config_data=a.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.native_inner_interstitial_switch&&0==this._business_config_data.native_inner_interstitial_switch.value[0])console.log("sdk-----remote - config -ysjs- is close!!!");else if(r.syyx_adv_manager.get_channel_ad_id(e)){var u=r.syyx_adv_manager.get_latest_native_data(this._native_data_list);if(u&&u.state==o.e_ad_native_state.need_show)n&&n({},u);else if(r.syyx_adv_manager.check_is_show_count_limit()){console.log("igc----- ad_native_inner_interstitial preload_native_inner_interstitial is show limit!!");var y=this.get_native_data();y?n&&n({},y):a.syyx_manager.hide_native_inner_interstitial()}else{if(s.syyx_const.syyx_sdk_channel===igc.e_channel_type.web){var f=new i.native_ad_data;return f.id=igc.utils_manager.get_random_name(),f.adPosId=e,f.adId=c.syyx_sdk_utils.get_random_number([100,200])+"",f.adUnitId=c.syyx_sdk_utils.get_random_number([0,1e5])+"",f.imgUrlList="https://static-cdn.llewan.com/h5/ddsdk/plugin/share_img.jpg",f.title="\u7ed3\u7b97\u539f\u751f\u6807\u9898"+c.syyx_sdk_utils.get_random_number([100,200]),f.desc="\u7ed3\u7b97\u539f\u751f\u63cf\u8ff0"+c.syyx_sdk_utils.get_random_number([100,200]),f.state=o.e_ad_native_state.need_show,f.native_type=o.e_ad_native_type.native_inner_interstitial,this.add_native_data(f),n&&n({},f),r.syyx_adv_manager.add_native_show_count(),this.update_native_inner_interstitial_ui(f),void console.log("igc-----syyx_adv_manager-------load_native_inner_interstitial on_load",f)}a.syyx_manager.create_ad(igc.e_ad_type.native,e,function(t,a){if(console.log("igc-----syyx_adv_manager-------load_native_inner_interstitial on_load",a),null!=a&&a[0]){var l=0;s.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg&&(l=a.length-1);var _=new i.native_ad_data;_.id=igc.utils_manager.get_random_name(),_.adPosId=e,_.adId=r.syyx_adv_manager.get_channel_ad_id(e),_.adUnitId=a[l].adUnitId,_.imgUrlList=c.syyx_sdk_utils.format_remote_texture_url(a[l].imgUrlList[0]),_.title=a[l].title,_.desc=a[l].desc,_.state=o.e_ad_native_state.need_show,_.native_type=o.e_ad_native_type.native_inner_interstitial,h.add_native_data(_),n&&n({},_),r.syyx_adv_manager.add_native_show_count(),c.syyx_sdk_utils.preload_native_texture(_.imgUrlList),h.update_native_inner_interstitial_ui(_)}else d&&d()},function(){},function(){},function(t,e){console.error("igc-----syyx_adv_manager-------load_native_inner_interstitial onError",e),d&&d()})}}},t.update_native_inner_interstitial_ui=function(t){a.syyx_manager.load_view(i.syyx_view.inner_interstitial,function(e){t&&e.report_click_update_view(t)})},t.get_native_data_by_limit_model=function(){return r.syyx_adv_manager.check_native_data_list_is_reprot(this._native_data_list)?(console.log("igc----- ad_native_inner_interstitial use old load native data"),r.syyx_adv_manager.get_min_order_native_data(this._native_data_list)):r.syyx_adv_manager.get_latest_native_data(this._native_data_list)},t.get_native_data=function(){return r.syyx_adv_manager.get_native_data()},t.add_native_data=function(t){r.syyx_adv_manager.check_is_open_oppo_rule()?r.syyx_adv_manager.add_native_data(t):this._native_data_list[0]=t},t.set_on_click_inner_interstitial_btn=function(t){if(void 0===t&&(t=void 0),this._business_config_data=a.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.native_inner_institial_click_wrap){var e=this._business_config_data.native_inner_institial_click_wrap.value;if(e&&(-1==this.next_click_wrap_count&&(this.next_click_wrap_count=e[0]),this.show_count>=this.next_click_wrap_count))return console.log("igc----- native_inner_interstitial is easy click!"),this.next_click_wrap_count=this.show_count+e[1]+Math.floor(Math.random()*(e[2]-e[1]+1)),this.next_click_wrap_count<e[0]&&(this.next_click_wrap_count=e[0]),console.log("igc----- native_inner_interstitial next easy click count\uff1a",this.next_click_wrap_count),void a.syyx_manager.click_native_inner_interstitial(t)}console.log("igc----- native_inner_interstitial easy click is close!"),t&&t()},t._last_ad_id=void 0,t._native_data_list=[],t._business_config_data={},t.next_click_wrap_count=-1,t.show_count=0,t}();n.ad_native_inner_interstitial=l,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../configs/syyx_sdk_enum":"syyx_sdk_enum","../../model/model":"model","../../utils/syyx_sdk_utils":"syyx_sdk_utils","../syyx_manager":"syyx_manager","./syyx_adv_manager":"syyx_adv_manager"}],ad_native_interstitial:[function(t,e,n){"use strict";cc._RF.push(e,"3b56b/goeRIKbMeVg+fS/Yl","ad_native_interstitial"),Object.defineProperty(n,"__esModule",{value:!0}),n.ad_native_interstitial=void 0;var i=t("../../model/model"),o=t("../../configs/syyx_sdk_enum"),a=t("../../utils/syyx_sdk_utils"),s=t("../syyx_manager"),r=t("../../configs/syyx_sdk_config"),c=t("./ad_banner"),l=t("./syyx_adv_manager"),_=t("../../syyx_sdk_api"),d=function(){function t(){}return t.check_is_click_wrap=function(){if(this._business_config_data=s.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.native_interstitial_click_wrap){var t=_.syyx_sdk_api.get_business_data_by_key("native_interstitial_click_wrap");if(!t)return!1;if(-1==this.next_click_wrap_count&&(this.next_click_wrap_count=t[0]),this.show_count==this.next_click_wrap_count)return console.log("igc----- native_interstitial is easy click!"),this.next_click_wrap_count+=t[1]+Math.floor(Math.random()*(t[2]-t[1]+1)),console.log("igc----- native_interstitial next easy click count\uff1a",this.next_click_wrap_count),!0}return!1},t.report_ad_click=function(t){this._ad_pos_id||(console.log("igc----- ad_native_interstitial  report_ad_click this.ad_pos_id is null!!"),this._ad_pos_id=o.e_ad_id.native_interstitial_hall),this._ad_pos_id==t&&(this.hide_native_interstitial_ui(),this._business_config_data=s.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.native_interstitial_report_click_update_switch&&1==this._business_config_data.native_interstitial_report_click_update_switch.value[0]&&this.load_native_interstitial(this._ad_param.ad_type,this._ad_param.ad_pos_id,this._ad_param.onLoad,this._ad_param.onShow,this._ad_param.onClose,this._ad_param.onError))},t.report_ad_show=function(t,e){this._ad_pos_id||(console.log("igc----- ad_native_interstitial  report_ad_click this.ad_pos_id is null!!"),this._ad_pos_id=o.e_ad_id.native_interstitial_hall),this._ad_pos_id==t&&(this._last_ad_id=e.id,c.ad_banner.hide_banner())},t.check_can_load_native_interstitial=function(){return this._business_config_data=s.syyx_manager.get_business_config(),!this._business_config_data||!this._business_config_data.load_native_interstitial_rule||(this.show_count+1)%this._business_config_data.load_native_interstitial_rule.value[0]==0},t.load_native_interstitial=function(t,e,n,_,d,h){var p=this;if(c.ad_banner.can_show_first)if(l.syyx_adv_manager.check_is_click_limit(o.e_ad_native_type.native_interstitial))this.hide_native_interstitial_ui();else if(this._ad_pos_id=e,this._ad_param={ad_type:t,ad_pos_id:e,onLoad:n,onShow:_,onClose:d,onError:h},l.syyx_adv_manager.get_channel_ad_id(e)){if(!this.check_can_load_native_interstitial())return console.log("igc-----syyx_adv_manager------ limit load_native_interstitial!!!"),console.error("igc-----syyx_adv_manager-------load_native_interstitial onError"),h&&h(),void p.load_native_interstitial_error();var u=l.syyx_adv_manager.get_latest_native_data(this._native_data_list);if(u&&u.state==o.e_ad_native_state.need_show)return p.show_native_interstitial_ui(u),n&&n({},u),void(_&&_());if(r.syyx_const.syyx_sdk_channel===igc.e_channel_type.web){var y=new i.native_ad_data;return y.id=igc.utils_manager.get_random_name(),y.adPosId=e,y.adId="1",y.adUnitId=a.syyx_sdk_utils.get_random_number([0,1e5]),y.imgUrlList="https://static-cdn.llewan.com/h5/ddsdk/plugin/share_img.jpg",y.title="\u539f\u751f\u63d2\u5c4f\u6807\u9898"+a.syyx_sdk_utils.get_random_number([200,300]),y.desc="\u539f\u751f\u63d2\u5c4f\u63cf\u8ff0"+a.syyx_sdk_utils.get_random_number([200,300]),y.state=o.e_ad_native_state.need_show,y.native_type=o.e_ad_native_type.native_interstitial,this.add_native_data(y),this.show_native_interstitial_ui(y),n&&n({},y),void(_&&_())}s.syyx_manager.create_ad(igc.e_ad_type.native,e,function(t,s){if(console.log("igc-----syyx_adv_manager-------load_native_interstitial on_load",s),null!=s&&s[0]){var c=0;r.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg&&(c=s.length-1);var d=new i.native_ad_data;d.id=igc.utils_manager.get_random_name(),d.adPosId=e,d.adId=l.syyx_adv_manager.get_channel_ad_id(e),d.adUnitId=s[c].adUnitId,d.imgUrlList=a.syyx_sdk_utils.format_remote_texture_url(s[c].imgUrlList[0]),d.title=s[c].title,d.desc=s[c].desc,d.state=o.e_ad_native_state.need_show,d.native_type=o.e_ad_native_type.native_interstitial,p.add_native_data(d),p.show_native_interstitial_ui(d),n&&n({},d),_&&_()}else h&&h()},function(){},function(){},function(t,e){h&&h(),console.error("igc-----syyx_adv_manager-------load_native_interstitial onError",e),p.load_native_interstitial_error()})}else console.log("igc----- ad_native_interstitial native_interstitial_id no configure in adv.csv");else console.log("igc----- is in oppo first ad cd")},t.load_native_interstitial_error=function(){var t;(t=this.check_can_load_native_interstitial()?l.syyx_adv_manager.get_native_data(this._last_ad_id):this.get_native_data(this._last_ad_id,o.e_ad_native_type.native_interstitial))?this.show_native_interstitial_ui(t):this.show_normal_interstitial()},t.load_normal_interstitial_error=function(){var t;(t=this.check_can_load_native_interstitial()?l.syyx_adv_manager.get_native_data():this.get_native_data(void 0,o.e_ad_native_type.native_interstitial))&&this.show_native_interstitial_ui(t)},t.show_normal_interstitial=function(){var t=this;this._normal_ad_pos_id=l.syyx_adv_manager._adv_config_data[o.e_ad_id.native_interstitial_hall].backup_id||void 0,r.syyx_const.syyx_sdk_channel==igc.e_channel_type.vivo_qg&&this._normal_ad_pos_id&&s.syyx_manager.create_ad(igc.e_ad_type.interstitial,this._normal_ad_pos_id,function(){c.ad_banner.hide_banner()},function(){},function(){},function(){t.load_normal_interstitial_error()})},t.show_native_interstitial_ui=function(t){_.syyx_sdk_api.create_interstitial(function(e){e.show&&e.show(t)})},t.hide_native_interstitial_ui=function(){_.syyx_sdk_api.load_view(i.syyx_view.interstitial,function(t){t.hide&&t.hide()})},t.add_native_data=function(t){l.syyx_adv_manager.check_is_open_oppo_rule()?l.syyx_adv_manager.add_native_data(t):this._native_data_list[0]=t},t.get_native_data=function(t,e){if(void 0===t&&(t=void 0),void 0===e&&(e=void 0),c.ad_banner.can_show_first){var n=l.syyx_adv_manager.check_is_click_limit(o.e_ad_native_type.native_banner),i=l.syyx_adv_manager.check_is_click_limit(o.e_ad_native_type.native_inner_interstitial),a=l.syyx_adv_manager.check_is_click_limit(o.e_ad_native_type.native_interstitial),r=[];for(var _ in l.syyx_adv_manager._native_data_cache)l.syyx_adv_manager._native_data_cache[_].id!=t&&l.syyx_adv_manager._native_data_cache[_].native_type!=e&&((l.syyx_adv_manager._native_data_cache[_].native_type!=o.e_ad_native_type.native_banner||n)&&(l.syyx_adv_manager._native_data_cache[_].native_type!=o.e_ad_native_type.native_inner_interstitial||i)&&(l.syyx_adv_manager._native_data_cache[_].native_type!=o.e_ad_native_type.native_interstitial||a)||r.push(l.syyx_adv_manager._native_data_cache[_]));var d=[],h=[];for(var _ in r)r[_].native_type==o.e_ad_native_type.native_banner?d.push(r[_]):r[_].native_type==o.e_ad_native_type.native_inner_interstitial&&h.push(r[_]);if(this._business_config_data=s.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.first_use_natibe_banner)if(1==this._business_config_data.first_use_natibe_banner.value[0]){if(d.length>0)return this.get_cur_data(d);if(h.length>0)return this.get_cur_data(h)}else{if(h.length>0)return this.get_cur_data(h);if(d.length>0)return this.get_cur_data(d)}}else console.log("igc ----- oppo's first native ad is in cd")},t.get_cur_data=function(t){return l.syyx_adv_manager.check_native_data_list_is_reprot(t)?(console.log("igc----- syyx_adv_manager use old load native data"),l.syyx_adv_manager.get_min_order_native_data(t)):(console.log("igc----- syyx_adv_manager use new load native data"),l.syyx_adv_manager.get_latest_native_data(t))},t._last_ad_id=void 0,t._native_data_list=[],t._business_config_data={},t.show_count=0,t.next_click_wrap_count=-1,t}();n.ad_native_interstitial=d,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../configs/syyx_sdk_enum":"syyx_sdk_enum","../../model/model":"model","../../syyx_sdk_api":"syyx_sdk_api","../../utils/syyx_sdk_utils":"syyx_sdk_utils","../syyx_manager":"syyx_manager","./ad_banner":"ad_banner","./syyx_adv_manager":"syyx_adv_manager"}],ad_oppo_banner:[function(t,e,n){"use strict";cc._RF.push(e,"10196p68lVF/5YENwMuBOG3","ad_oppo_banner"),Object.defineProperty(n,"__esModule",{value:!0}),n.ad_oppo_banner=void 0;var i=t("../../configs/syyx_sdk_config"),o=t("../../configs/syyx_sdk_enum"),a=t("../../model/model"),s=t("../../utils/syyx_sdk_utils"),r=t("../syyx_manager"),c=t("./ad_banner"),l=t("./syyx_adv_manager"),_=function(){function t(){}return t.get_oppo_banner_show_update_time=function(){var t=l.syyx_adv_manager.get_play_game_time(),e=void 0;if(this._business_config_data=r.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.oppo_banner_cool_time&&(e=this._business_config_data.oppo_banner_cool_time.value),!e||e.length<=0)return 10;var n=0,i=[];for(var o in e)if(i=e[o],e[o][0]<=t&&e[o][1]>=t){n=e[o][2];break}return n||i[2]},t.run_timer=function(){var t=this;this.is_run_timer?this._cur_native_data&&!this.need_load?this.show_native_banner_ui():this.load_native_banner():(this.is_run_timer=!0,this._business_config_data=r.syyx_manager.get_business_config(),t.load_native_banner(),setInterval(function(){t.banner_showing&&t.banner_show_time++,t.banner_show_time>0&&t.banner_show_time%30==0&&(console.log("igc----- update_native_banner"),t.load_native_banner())},1e3))},t.set_banner_height=function(){this.is_oppo_vivo()&&r.syyx_manager.load_view(a.syyx_view.native_banner,function(t){t&&t.set_banner_height&&t.set_banner_height(!1)})},t.check_need_strong_load_native_banner=function(){var t=!1;return this._business_config_data=r.syyx_manager.get_business_config(),this._business_config_data&&this._business_config_data.banner_strong_update_switch&&(t=1==this._business_config_data.banner_strong_update_switch.value[0]),t},t.show_banner=function(t,e,n,i,o,a){this.need_show||(this.check_need_strong_load_native_banner()&&(this.need_load=!0),this.need_show=!0),this._normal_banner_id=e,this._native_banner_id=l.syyx_adv_manager._adv_config_data[e].backup_id,this._ad_param={ad_type:t,ad_pos_id:e,onLoad:n,onShow:i,onClose:o,onError:a},c.ad_banner.can_show_first?l.syyx_adv_manager.get_channel_ad_id(e)?this.run_timer():console.log("igc----- ad_oppo_banner normal_banner_id no configure in adv.csv"):console.log("igc----- banner is in cooling time ")},t.hide_banner=function(){this.need_show=!1,this.banner_showing=!1,c.ad_banner.can_show_first?(this.hide_native_banner_ui(),this.hide_normal_banner()):console.log("igc----- banner is in cooling time ")},t.load_native_banner=function(){var t=this;if(this.need_load=!1,this.banner_timer_id&&clearTimeout(this.banner_timer_id),this.update_cd=this.get_oppo_banner_show_update_time(),this.hide_native_banner_ui(),this.need_show)if(this.update_cur_native_data(this._last_ad_id),l.syyx_adv_manager.check_is_click_limit(o.e_ad_native_type.native_banner))this._cur_native_data?t.show_native_banner_ui():t.set_show_error_model();else{if(l.syyx_adv_manager.check_is_show_count_limit())return console.log("igc----- ad_oppo_banner show native is show limit !!!"),void(this._cur_native_data?t.show_native_banner_ui():t.set_show_error_model());if(i.syyx_const.syyx_sdk_channel!==igc.e_channel_type.vivo_qg&&i.syyx_const.syyx_sdk_channel!==igc.e_channel_type.oppo_qg)if(this._business_config_data&&this._business_config_data.native_banner_open_switch&&0==this._business_config_data.native_banner_open_switch.value[0])t.show_normal_banner();else{if(i.syyx_const.syyx_sdk_channel===igc.e_channel_type.web){var e=new a.native_ad_data;return e.id=igc.utils_manager.get_random_name(),e.adPosId=t._native_banner_id,e.adId="1",e.adUnitId=s.syyx_sdk_utils.get_random_number([0,1e5]),e.imgUrlList="https://static-cdn.llewan.com/h5/ddsdk/plugin/share_img.jpg",e.title="banner\u6d4b\u8bd5\u6807\u9898"+s.syyx_sdk_utils.get_random_number([0,100]),e.desc="banner\u6d4b\u8bd5\u63cf\u8ff0"+s.syyx_sdk_utils.get_random_number([0,100]),e.state=o.e_ad_native_state.need_show,e.native_type=o.e_ad_native_type.native_banner,this.add_native_data(e),console.log("igc------syyx_adv_manager-------native_banner on_load web",e),t.show_native_banner_ui(),t._ad_param.onLoad&&t._ad_param.onLoad(),void l.syyx_adv_manager.add_native_show_count()}t._native_banner_id&&this.is_oppo_vivo()?this._cur_native_data&&this._cur_native_data.state==o.e_ad_native_state.need_show?t.show_native_banner_ui():r.syyx_manager.create_ad(igc.e_ad_type.native,t._native_banner_id,function(e,n){if(console.log("igc------syyx_adv_manager-------native_banner on_load",n),null!=n&&n[0]){var r=0;i.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg&&(r=n.length-1);var c=new a.native_ad_data;c.id=igc.utils_manager.get_random_name(),c.adPosId=t._native_banner_id,c.adId=l.syyx_adv_manager.get_channel_ad_id(t._native_banner_id),c.adUnitId=n[r].adUnitId,c.imgUrlList=s.syyx_sdk_utils.format_remote_texture_url(n[r].imgUrlList[0]),c.title=n[r].title,c.desc=n[r].desc,c.state=o.e_ad_native_state.need_show,c.native_type=o.e_ad_native_type.native_banner,t.add_native_data(c),t.show_native_banner_ui(),t._ad_param.onLoad&&t._ad_param.onLoad(),l.syyx_adv_manager.add_native_show_count()}else t.load_native_banner_error()},function(){},function(){},function(e,n){console.error("igc-----syyx_adv_manager-------native_banner onError",n),t.load_native_banner_error()}):t.show_normal_banner()}else t.show_normal_banner()}else t.hide_banner()},t.report_ad_click=function(t){this._native_banner_id==t&&this._business_config_data&&this._business_config_data.native_banner_report_click_update_switch&&1==this._business_config_data.native_banner_report_click_update_switch.value[0]&&(this.need_show=!0,this.load_native_banner())},t.report_ad_show=function(t,e){this._native_banner_id||(this._native_banner_id=o.e_ad_id.native_banner),this._native_banner_id==t&&(this._last_ad_id=e.id)},t.show_native_banner_ui=function(){var t=this;this.hide_normal_banner(),this.need_show&&r.syyx_manager.create_native_banner(function(e){t._cur_native_data&&(t.banner_showing=!0,t._ad_param.onShow&&t._ad_param.onShow(),e.show&&e.show(t._cur_native_data))})},t.hide_native_banner_ui=function(){this.is_oppo_vivo()&&r.syyx_manager.load_view(a.syyx_view.native_banner,function(t){t&&t.hide&&t.hide()})},t.load_native_banner_error=function(){this.update_cur_native_data(this._last_ad_id),this._cur_native_data?this.show_native_banner_ui():this.show_normal_banner()},t.load_normal_banner_error=function(){this.banner_showing=!1,this.need_show&&(this.update_cur_native_data(),this._cur_native_data?this.show_native_banner_ui():this.set_show_error_model())},t.set_normal_banner_switch=function(t){this.normal_banner_switch=t,t||this.hide_normal_banner()},t.show_normal_banner=function(){if(!this._business_config_data||!this._business_config_data.show_normal_banner_switch||0!=this._business_config_data.show_normal_banner_switch.value[0]){if(!this.normal_banner_switch)return console.log("igc----- vivo ad_banner show_normal_banner normal_banner_switch is close!!!"),void this.load_normal_banner_error();var t=this;if(!this.can_show_vivo_banner&&i.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg)return console.log("igc----- vivo ad_banner show_normal_banner create too often!!!"),console.log("igc----- vivo ad_banner show_normal_banner so that use old native banner data!!!"),void this.load_normal_banner_error();r.syyx_manager.create_ad(igc.e_ad_type.banner,t._normal_banner_id,function(){t._ad_param.onLoad&&t._ad_param.onLoad()},function(){t.normal_banner_showing=!0,console.log("igc----- show_normal_banner success"),t.hide_native_banner_ui(),t.banner_showing=t.need_show,t.need_show?(t._ad_param.onShow&&t._ad_param.onShow(),l.syyx_adv_manager.add_native_show_count()):t.hide_normal_banner()},function(){t._ad_param.onClose&&t._ad_param.onClose()},function(e,n){console.error("igc------syyx_adv_manager show_normal_banner onError",n),t._ad_param.onError&&t._ad_param.onError(e,n),t.load_normal_banner_error()})}},t.set_show_error_model=function(){var t=this;l.syyx_adv_manager.check_is_open_oppo_rule()&&(this.banner_timer_id&&clearTimeout(this.banner_timer_id),this.banner_timer_id=setTimeout(function(){t.update_cur_native_data(),t.need_show&&!t._cur_native_data&&t.load_native_banner()},1e3*this.update_cd))},t.hide_normal_banner=function(){var t=this;t._normal_banner_id&&(t.normal_banner_showing&&i.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg&&(t.can_show_vivo_banner=!1,this.normal_banner_timer_id&&clearTimeout(this.normal_banner_timer_id),this.normal_banner_timer_id=setTimeout(function(){t.can_show_vivo_banner=!0},11e3)),t.normal_banner_showing=!1,r.syyx_manager.destroy_ad(igc.e_ad_type.banner,t._normal_banner_id))},t.finger_close_banner=function(){if(this.is_oppo_vivo()&&this._business_config_data&&this._business_config_data.finger_close_banner_switch&&1==this._business_config_data.finger_close_banner_switch.value[0]){var t=this._business_config_data.finger_close_banner_switch.value[1]||60;this.hide_banner(),c.ad_banner.can_show_first=!1,setTimeout(function(){c.ad_banner.can_show_first=!0},1e3*t)}},t.update_cur_native_data=function(t){void 0===t&&(t=void 0),this.banner_show_time=0,this._cur_native_data=l.syyx_adv_manager.get_native_data(t)},t.add_native_data=function(t){l.syyx_adv_manager.add_native_data(t),this.update_cur_native_data(this._last_ad_id)},t.is_oppo_vivo=function(){return i.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg||i.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg||i.syyx_const.syyx_sdk_channel===igc.e_channel_type.web},t._last_ad_id=void 0,t._business_config_data={},t._native_banner_id=void 0,t._normal_banner_id=void 0,t.update_cd=5,t.is_run_timer=!1,t.need_show=!0,t.banner_showing=!1,t.banner_show_time=0,t._cur_native_data=void 0,t.normal_banner_showing=!1,t.can_show_vivo_banner=!0,t.normal_banner_switch=!0,t.need_load=!1,t}();n.ad_oppo_banner=_,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../configs/syyx_sdk_enum":"syyx_sdk_enum","../../model/model":"model","../../utils/syyx_sdk_utils":"syyx_sdk_utils","../syyx_manager":"syyx_manager","./ad_banner":"ad_banner","./syyx_adv_manager":"syyx_adv_manager"}],ad:[function(t,e,n){"use strict";cc._RF.push(e,"b526cnt/yNC3IcjXoisdWGD","ad"),Object.defineProperty(n,"__esModule",{value:!0}),n.ad=void 0;var i=t("./_bytedance"),o=t("./_oppo"),a=t("./_qq"),s=t("./_vivo"),r=t("./_wechat");(function(t){var e=cc.sys.platform,n=!0;t.init=function(t){void 0===t&&(t=!1),n=t},t.video_show=function(){return new Promise(function(t){if(n)t(!0);else switch(e){case cc.sys.WECHAT_GAME:r.ch_wechat.getInstance().videoAd_show(t);break;case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().videoAd_show(t);break;case cc.sys.OPPO_GAME:o.ch_oppo.getInstance().videoAd_show(t);break;case cc.sys.VIVO_GAME:s.ch_vivo.getInstance().videoAd_show(t);break;case cc.sys.QQ_PLAY:a.ch_qq.getInstance().videoAd_show(t);break;default:t(!0)}})},t.banner_show=function(){if(!n)switch(e){case cc.sys.WECHAT_GAME:r.ch_wechat.getInstance().bannerAd_show();break;case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().bannerAd_show();break;case cc.sys.OPPO_GAME:o.ch_oppo.getInstance().bannerAd_show();break;case cc.sys.VIVO_GAME:s.ch_vivo.getInstance().bannerAd_show();break;case cc.sys.QQ_PLAY:a.ch_qq.getInstance().bannerAd_show()}},t.banner_hide=function(){if(!n)switch(e){case cc.sys.WECHAT_GAME:r.ch_wechat.getInstance().bannerAd_hide();break;case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().bannerAd_hide();break;case cc.sys.OPPO_GAME:o.ch_oppo.getInstance().bannerAd_hide();break;case cc.sys.VIVO_GAME:s.ch_vivo.getInstance().bannerAd_hide();break;case cc.sys.QQ_PLAY:a.ch_qq.getInstance().bannerAd_hide()}},t.insert=function(){switch(e){case cc.sys.WECHAT_GAME:r.ch_wechat.getInstance().insterAd_show();break;case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().insterAd_show();break;case cc.sys.VIVO_GAME:s.ch_vivo.getInstance().insertAd_show();break;case cc.sys.QQ_PLAY:a.ch_qq.getInstance().insertAd_show()}},t.native_show=function(t){switch(e){case cc.sys.VIVO_GAME:s.ch_vivo.getInstance().nativeAdShow(t)}},t.bannerGameBox_show=function(){switch(e){case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().gameBanner_show()}},t.bannerGameBox_hide=function(){switch(e){case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().gameBanner_hide()}},t.record=function(t,o,a){if(void 0===t&&(t=!1),void 0===o&&(o=300),void 0===a&&(a=!1),!n)switch(e){case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().luzhiVideo_start(t,o,a)}},t.recordEnd=function(t){if(void 0===t&&(t=!0),!n)switch(e){case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().luzhiVideo_stop(t)}},t.recordShare=function(t,o){if(void 0===o&&(o=""),n)t(!0);else switch(e){case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().luzhiVideo_share(t,o);break;default:t(!0)}},t.shakeDevice=function(){switch(e){case cc.sys.WECHAT_GAME:break;case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().shakeDevice();break;case cc.sys.OPPO_GAME:o.ch_oppo.getInstance().shakeDevice();break;case cc.sys.VIVO_GAME:s.ch_vivo.getInstance().shakeDevice();break;case cc.sys.QQ_PLAY:a.ch_qq.getInstance().shakeDevice()}},t.shakeDeviceLong=function(){switch(e){case cc.sys.WECHAT_GAME:break;case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().shakeDeviceLong()}},t.share=function(t,n,o){switch(void 0===n&&(n=null),void 0===o&&(o=null),e){case cc.sys.WECHAT_GAME:break;case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().buttonShare(t);break;case cc.sys.QQ_PLAY:a.ch_qq.getInstance().buttonShare(t,n,o);break;default:t(!0)}},t.showTTGameIcon=function(){switch(e){case cc.sys.BYTEDANCE_GAME:return i.ch_bytedance.getInstance().showTTGameIcon();default:return!0}},t.openMoreGame=function(){switch(e){case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().openMoreGame()}},t.reportAnalytics=function(t,n){switch(void 0===n&&(n={}),e){case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().reportAnalytics(t,n)}},t.openAwemeUserProfile=function(){return new Promise(function(t){switch(e){case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().openAwemeUserProfile(t);break;default:t(!0)}})},t.openSubscribeBanner=function(){switch(e){case cc.sys.BYTEDANCE_GAME:i.ch_bytedance.getInstance().showFavoriteGuide()}},t.loadSubpackage=function(t,e){cc.assetManager.loadBundle(t,function(t,n){t?console.log("load bundle error:",t):e(n)})}})(n.ad||(n.ad={})),cc._RF.pop()},{"./_bytedance":"_bytedance","./_oppo":"_oppo","./_qq":"_qq","./_vivo":"_vivo","./_wechat":"_wechat"}],animationState:[function(t,e,n){"use strict";cc._RF.push(e,"b2b6dv65NlEX59AqpnS1KOt","animationState"),Object.defineProperty(n,"__esModule",{value:!0}),n.enemyState=n.enemyScript=n.attackType=n.skillFrameEventTime=n.frameEvent_enemy=n.frameEvent=n.enemyName=n.playerAnimationState=void 0,function(t){t[t.appear=0]="appear",t[t.attack1=1]="attack1",t[t.attack2=2]="attack2",t[t.attack3=3]="attack3",t[t.bow_attack=4]="bow_attack",t[t.bow_attack_fast=5]="bow_attack_fast",t[t.bow_attack_to_idle=6]="bow_attack_to_idle",t[t.dash_air=7]="dash_air",t[t.die=8]="die",t[t.double_jump=9]="double_jump",t[t.get_hurt=10]="get_hurt",t[t.get_up=11]="get_up",t[t.idle=12]="idle",t[t.idle_to_move=13]="idle_to_move",t[t.jump_attack1=14]="jump_attack1",t[t.jump_attack2=15]="jump_attack2",t[t.jump_attack3=16]="jump_attack3",t[t.jump_attack4=17]="jump_attack4",t[t.jump_demo=18]="jump_demo",t[t.jump_down=19]="jump_down",t[t.jump_end=20]="jump_end",t[t.jump_start=21]="jump_start",t[t.jump_to_move=22]="jump_to_move",t[t.knock_up1=23]="knock_up1",t[t.knock_up2=24]="knock_up2",t[t.knock_up3=25]="knock_up3",t[t.move=26]="move",t[t.move1=27]="move1",t[t.move2=28]="move2",t[t.pose_shadow=29]="pose_shadow",t[t.revive=30]="revive",t[t.roll=31]="roll",t[t.roll_air=32]="roll_air",t[t.roll_to_idle=33]="roll_to_idle",t[t.roll_to_move=34]="roll_to_move",t[t.skill203_air=35]="skill203_air",t[t.skill203_ground=36]="skill203_ground",t[t.skill203_old=37]="skill203_old",t[t.skill207_air=38]="skill207_air",t[t.skill207_ground=39]="skill207_ground",t[t.ultimate=40]="ultimate"}(n.playerAnimationState||(n.playerAnimationState={})),function(t){t.enemy1="enemy1",t.enemy2="enemy2",t.enemy29="enemy29",t.enemy10="enemy10",t.ladyBug="ladyBug",t.bigSquid="bigSquid",t.enemy39="enemy39",t.spiderling="spiderling",t.shader="shader",t.enemy20="enemy20",t.enemy18="enemy18",t.miniBoss="miniBoss",t.miniBossFlag="miniBossFlag"}(n.enemyName||(n.enemyName={})),function(t){t.nail1="AddForceUp",t.nail2="AnimationEnd",t.attack1="Attack1",t.attack2="Attack2",t.attack3="Attack3",t.move="FootStep",t.get_up="GetUp",t.nail6="LockDirection",t.nail7="MoveForward",t.nail8="RollComplete",t.skill203_air="SkillComplete",t.skill203_ground="SkillComplete",t.skill207_air="SkillComplete",t.skill207_ground="SkillComplete",t.nail10="StopMove"}(n.frameEvent||(n.frameEvent={})),n.frameEvent_enemy={enemy1:{},enemy2:{attack:"shootArrow"},enemy29:{},ladyBug:{Atk:"fire"},enemy10:{skill2_start:"footStep",skill2_middle:"footStep",skill1:"frameEvent_skill1"},bigSquid:{},enemy39:{Move:"footStep"},spiderling:{Fall:"attack_fall"},shader:{},enemy20:{teleport:"blink"},enemy18:{Atk:"Shake"},miniBoss:{},miniBossFlag:{}},n.skillFrameEventTime={skill203_air:.5,skill203_ground:.48,skill207_air:.43,skill207_ground:.43,attack1:.123,attack2:.23},function(t){t[t.attack1=0]="attack1",t[t.attack2=1]="attack2",t[t.attack3=2]="attack3",t[t.jumpHit=3]="jumpHit",t[t.shuriken=4]="shuriken",t[t.swordRain=5]="swordRain"}(n.attackType||(n.attackType={})),n.enemyScript={enemy1:"E1controller",enemy2:"E2controller",ladyBug:"ladyBug",enemy29:"E29controller",enemy10:"E10controller",bigSquid:"bigSquidController",enemy39:"E39controller",spiderling:"spiderlingController",shader:"shaderController",enemy20:"E20controller",enemy18:"E18controller",miniBoss:"miniBossController",miniBossFlag:"miniBossFlag"},function(t){t[t.attack=0]="attack",t[t.get_hurt1=1]="get_hurt1",t[t.get_hurt2=2]="get_hurt2",t[t.get_up=3]="get_up",t[t.idle=4]="idle",t[t.knock_down=5]="knock_down",t[t.move=6]="move",t[t.move2=7]="move2",t[t.run=8]="run",t[t.knock_down1=9]="knock_down1",t[t.knock_down2=10]="knock_down2",t[t.Atk=11]="Atk",t[t.Behit=12]="Behit",t[t.Idle=13]="Idle",t[t["Die-middle"]=14]="Die-middle",t[t["Die-start"]=15]="Die-start",t[t.Die_end=16]="Die_end",t[t.Die=17]="Die",t[t["Get-up"]=18]="Get-up",t[t["Head-end"]=19]="Head-end",t[t["Head-middle"]=20]="Head-middle",t[t.Hit=21]="Hit",t[t["Knock-up-end"]=22]="Knock-up-end",t[t["Knock-up-loop"]=23]="Knock-up-loop",t[t["Knock-up-start"]=24]="Knock-up-start",t[t.Move=25]="Move",t[t.die=26]="die",t[t.get_hurt=27]="get_hurt",t[t.skill1=28]="skill1",t[t.skill2_end=29]="skill2_end",t[t.skill2_middle=30]="skill2_middle",t[t.skill2_start=31]="skill2_start",t[t.Attack=32]="Attack",t[t.Attack_End=33]="Attack_End",t[t.Die1=34]="Die1",t[t.Die2=35]="Die2",t[t.Die3=36]="Die3",t[t.Pre_Attack=37]="Pre_Attack",t[t.Above1=38]="Above1",t[t.Above2=39]="Above2",t[t.Born=40]="Born",t[t.Get_Hit=41]="Get_Hit",t[t.Idle2=42]="Idle2",t[t.Idle3=43]="Idle3",t[t.Jump_Back=44]="Jump_Back",t[t.Jump_FWD=45]="Jump_FWD",t[t.Scratch=46]="Scratch",t[t.Staggered=47]="Staggered",t[t.StaggeredReset=48]="StaggeredReset",t[t.Fall=49]="Fall",t[t.Get_up=50]="Get_up",t[t.Knock_up1=51]="Knock_up1",t[t.Knock_up2=52]="Knock_up2",t[t.Knock_up3=53]="Knock_up3",t[t.Stop=54]="Stop",t[t.Warning=55]="Warning",t[t["Skill-End"]=56]="Skill-End",t[t["Skill-Middle"]=57]="Skill-Middle",t[t["Skill-Start"]=58]="Skill-Start",t[t.fire_pillar=59]="fire_pillar",t[t.fire_pillar2=60]="fire_pillar2",t[t.fire_pillar3=61]="fire_pillar3",t[t.teleport=62]="teleport",t[t.appear=63]="appear",t[t.blink_end=64]="blink_end",t[t.blink_start=65]="blink_start",t[t.call_of_lighting=66]="call_of_lighting",t[t.laugh=67]="laugh",t[t.lighting_chase_end=68]="lighting_chase_end",t[t.lighting_chase_middle=69]="lighting_chase_middle",t[t.lighting_chase_start=70]="lighting_chase_start",t[t.staggered_end=71]="staggered_end",t[t.staggered_middle=72]="staggered_middle",t[t.staggered_start=73]="staggered_start",t[t.storm_burst=74]="storm_burst",t[t.thunder_jolt=75]="thunder_jolt",t[t.appear2=76]="appear2",t[t.warning=77]="warning"}(n.enemyState||(n.enemyState={})),cc._RF.pop()},{}],arrow:[function(t,e,n){"use strict";cc._RF.push(e,"ed69cR0Xx9JtLNKx4qGNDOH","arrow");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../caijiTools"),r=t("./playerController"),c=cc._decorator,l=c.ccclass,_=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.force=1800,e.speedX=0,e.speedY={num:0},e.damage=0,e.a=0,e.enemy=null,e.isHit=!1,e.isTweenEnd=!1,e.rigibody=null,e.time=0,e.playerPosition=null,e}return o(e,t),e.prototype.onLoad=function(){this.rigibody=this.node.getComponent(cc.RigidBody)},e.prototype.start=function(){var t=this,e=s.caijiTools.getDirection(this.node.angle+90).normalizeSelf();this.speedX=e.x*this.force,this.speedY.num=e.y*this.force,this.time=Math.abs(this.playerPosition.x-this.node.x)/Math.abs(this.speedX),this.time=this.time<.15?this.time-.06:this.time-.09,this.a=2*this.speedY.num/this.time,cc.tween(this.speedY).to(this.time,{num:-this.speedY.num}).call(function(){t.isTweenEnd=!0}).start()},e.prototype.update=function(t){if(!this.isHit){this.isTweenEnd&&(this.speedY.num-=this.a*t*.9),this.rigibody.linearVelocity=cc.v2(this.speedX,this.speedY.num);var e=this.rigibody.linearVelocity,n=s.caijiTools.getAngleDependY(e.x,e.y);this.node.angle=-n-90}},e.prototype.onCollisionEnter=function(t){if("player"==t.node.group){if(this.isHit)return;this.isHit=!0,t.node.getComponent(r.default).beHit(this.enemy,this.damage)}},e.prototype.onBeginContact=function(t,e,n){var i=this;"ground"==n.node.group&&(this.isHit=!0,this.Destroy(),this.rigibody.linearVelocity=cc.v2(.3*this.rigibody.linearVelocity.x,.3*this.rigibody.linearVelocity.y),this.scheduleOnce(function(){i.rigibody.linearVelocity=cc.v2(0,0),i.rigibody.type=cc.RigidBodyType.Static},0))},e.prototype.Destroy=function(){var t=this;this.scheduleOnce(function(){cc.tween(t.node).to(.3,{opacity:0}).call(function(){t.node.destroy()}).start()},1)},a([l],e)}(cc.Component));n.default=_,cc._RF.pop()},{"../caijiTools":"caijiTools","./playerController":"playerController"}],audioManager:[function(t,e,n){"use strict";cc._RF.push(e,"b7eaaFSsWZPCYj2cXENLj3r","audioManager");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../audioNameMgr"),l=t("../caijiTools"),_=t("../sdk/data"),d=cc._decorator,h=d.ccclass,p=d.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onSprite_audio=null,e.offSprite_audio=null,e.soundSwitch=null,e.isHaveBgm=!0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.start=function(){this.init()},e.prototype.onDisable=function(){this.bgOff()},e.prototype.onEnable=function(){if(0!=n.isAudioInit){var t=Number(_.data.getCache("Base","sound"));cc.log("soundOnOrOff:",t),-1==n.audioNumber_bgMenu?0==t&&cc.audioEngine.pause(n.audioNumber_bgMenu):1==t&&cc.audioEngine.resume(n.audioNumber_bgMenu)}},e.prototype.init=function(){return s(this,void 0,void 0,function(){var t,e,i;return r(this,function(o){switch(o.label){case 0:return t=null,this.soundSwitch.active=!0,e=Number(_.data.getCache("Base","sound")),this.soundSwitch.getComponent(cc.Sprite).spriteFrame=0==e?this.offSprite_audio:this.onSprite_audio,1==n.isAudioInit?[2]:(n.isAudioInit=!0,0==this.isHaveBgm?[2]:-1!=n.audioNumber_bgMenu?[3,2]:[4,l.caijiTools.loadAudioClipBundle("sounds",c.audioName.bgm_main)]);case 1:return t=o.sent(),i=cc.audioEngine.play(t,!0,1*n.now_Volume),n.audioNumber_bgMenu=i,0==e&&cc.audioEngine.pause(n.audioNumber_bgMenu),[3,3];case 2:1==e&&cc.audioEngine.resume(n.audioNumber_bgMenu),o.label=3;case 3:return[2]}})})},e.prototype.bgOff=function(){cc.audioEngine.pause(n.audioNumber_bgMenu)},e.playBgGame=function(){return s(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:return 0!=Number(_.data.getCache("Base","sound"))?[3,1]:[3,4];case 1:return-1!=n.audioNumber_bgGame?[3,3]:[4,l.caijiTools.loadAudioClipBundle("sounds",c.audioName.bgm_game)];case 2:return t=e.sent(),n.audioNumber_bgGame=cc.audioEngine.play(t,!0,1*n.now_Volume),[3,4];case 3:cc.audioEngine.resume(n.audioNumber_bgGame),e.label=4;case 4:return[2]}})})},e.pauseBgGame=function(){-1!=n.audioNumber_bgGame&&cc.audioEngine.pause(n.audioNumber_bgGame)},e.prototype.soundControl=function(){0!=n.isAudioInit&&(0==Number(_.data.getCache("Base","sound"))?(_.data.updateCache("Base","sound",1),this.soundSwitch.getComponent(cc.Sprite).spriteFrame=this.onSprite_audio,this.isHaveBgm&&cc.audioEngine.resume(n.audioNumber_bgMenu)):(_.data.updateCache("Base","sound",0),this.soundSwitch.getComponent(cc.Sprite).spriteFrame=this.offSprite_audio,this.isHaveBgm&&cc.audioEngine.pause(n.audioNumber_bgMenu)))},e.playAudio=function(t,e,i){return void 0===e&&(e=null),void 0===i&&(i=null),s(this,void 0,void 0,function(){var o,a,s,c;return r(this,function(r){switch(r.label){case 0:return o=Number(_.data.getCache("Base","sound")),cc.log("playAudio onoff:",o,cc.audioEngine.getMaxAudioInstance()),1!=o?[3,2]:(a=null!=e&&e,s=null==i?1:i,n.audioClips.get(t)?[2,cc.audioEngine.play(n.audioClips.get(t),a,s*n.now_Volume)]:[4,l.caijiTools.loadAudioClipBundle("sounds",t)]);case 1:if(c=r.sent())return n.audioClips.set(t,c),[2,cc.audioEngine.play(c,a,s*n.now_Volume)];cc.log("playAudio load fail:",t),r.label=2;case 2:return[2]}})})},e.stopAudio=function(t){cc.audioEngine.pause(t)},e.shock=function(){Number(_.data.getCache("Base","shock"))},e.audioNumber_bgMenu=-1,e.audioNumber_bgGame=-1,e.now_Volume=1,e.isAudioInit=!1,e.instance=null,e.audioClips=new Map,a([p(cc.SpriteFrame)],e.prototype,"onSprite_audio",void 0),a([p(cc.SpriteFrame)],e.prototype,"offSprite_audio",void 0),a([p(cc.Node)],e.prototype,"soundSwitch",void 0),n=a([h],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../sdk/data":"data"}],audioNameMgr:[function(t,e,n){"use strict";cc._RF.push(e,"793dfQxBiNLhZDsejfqqRa4","audioNameMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.audioName=void 0,function(t){t.bgm_main="bgm_main",t.bgm_game="bgm_game",t.getCoin="getCoin",t.button="select",t.airslash1="airslash1",t.BlinkEnd="BlinkEnd",t.BlinkStart="BlinkStart",t.Cast203="Cast203",t.CreepSpawn="CreepSpawn",t.cursor="cursor",t.Dash="Dash",t.drum_1_deeper="drum_1_deeper",t.E1_Sword="E1_Sword",t.E2_Flee="E2_Flee",t.E2Shoot="E2Shoot",t.E10_attack="E10_attack",t.E10_death="E10_death",t.E10_Jump="E10_Jump",t.E10Roar="E10Roar",t.E10Step="E10Step",t.E15="E15",t.E18_Attack="E18_Attack",t.E20Cast="E20Cast",t.E20FirePillar="E20FirePillar",t.E24_Shoot="E24_Shoot",t.E25Attack="E25Attack",t.E25Die="E25Die",t.E27castLightning="E27castLightning",t.E27JoltCast="E27JoltCast",t.E27Lightning="E27Lightning",t.E27LightningJolt="E27LightningJolt",t.E27LightningTotemFall="E27LightningTotemFall",t.E27StormBurst="E27StormBurst",t.E27TotemCast="E27TotemCast",t.E29Attack="E29Attack",t.E29Explosion="E29Explosion",t.E38Attack="E38Attack",t.E38AttackEnd="E38AttackEnd",t.E38Fade="E38Fade",t.E39_death="E39_death",t.E39Above1="E39Above1",t.E39Above2="E39Above2",t.E39AboveLand="E39AboveLand",t.E39Attack="E39Attack",t.E39Jump="E39Jump",t.E39Laser="E39Laser",t.E39Scratch="E39Scratch",t.E39Step="E39Step",t.E40Alert="E40Alert",t.E40Born="E40Born",t.E40Exposion="E40Exposion",t.E40Start="E40Start",t.highlight_3="highlight_3",t.jump="jump",t.Jumpland="Jumpland",t.Kunai="Kunai",t.rolldash="rolldash",t.Run="Run",t.select="select",t.shurikenfly2="shurikenfly2",t.SkeletonCharge="SkeletonCharge",t.Skillcast207Shuriken="Skillcast207Shuriken",t.slash1="slash1",t.slash2="slash2",t.slash3="slash3",t.Spell_Earth_02="Spell_Earth_02",t.SpinAttack="SpinAttack",t.StopMove="StopMove",t.swoosh1="swoosh1",t.swoosh2="swoosh2",t.thrust1="thrust1",t.ThunderTotemStruck="ThunderTotemStruck"}(n.audioName||(n.audioName={})),cc._RF.pop()},{}],bigSquidController:[function(t,e,n){"use strict";cc._RF.push(e,"ef252EcV+JEdJiKrqrwrsmr","bigSquidController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c,l=t("../audioNameMgr"),_=t("../caijiTools"),d=t("../main/audioManager"),h=t("./animationState"),p=t("./enemyAnimation"),u=t("./enemyBase"),y=t("./enemyHitCollider"),f=t("./Events"),g=t("./GameManager"),m=t("./ladyBugFx"),v=cc._decorator,b=v.ccclass,k=v.property;(function(t){t[t.attack=0]="attack"})(c||(c={}));var w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.hpNode=null,e.hpBar=null,e.dieEffectName="",e.rushSpeed=2e3,e.moveSpeed=350,e.nowSpeed=0,e.AI_interval=.5,e.stopDistance=250,e.stopDistance_y=200,e.hp=0,e.hpTimes=1,e.beHitForce_y=0,e.beHitForce_x=0,e.beHitForce_y_shuriken=0,e.beHitForce_x_attack3=0,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isSuperArmor=!1,e.isMove=!1,e.dmgCollider=null,e.rushDirect=null,e.rushDistance=0,e.rushStartPos=null,e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[1].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[1].getComponent(p.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.initData(),this.hp=this.hpMax*this.hpTimes;var t=g.default.instance.player.x+_.caijiTools.random_int(-cc.winSize.width/1.3,cc.winSize.width/1.3),e=cc.winSize.height/2+_.caijiTools.random_int(30,100);this.node.setPosition(t,e),this.AI_start()},e.prototype.update=function(){if(this.checkRushEnd(),0!=this.isMove){var t=this.getDistance();if(Math.abs(t)<this.stopDistance)this.rigibody.linearVelocity=cc.v2(0,0),this.changeMovState(!1),this.preAttack();else{if(this.enemyAnimation.state==h.enemyState.Atk)return;this.moveToPlayer()}}},e.prototype.onBeginContact=function(t,e,n){var i=n.node;"ground"==i.group?this.enemyAnimation.state==h.enemyState.Die2?(this.rigibody.enabledContactListener=!1,this.die_end()):this.rushEnd():"wall"==i.group&&(t.disabled=!0)},e.prototype.checkRushEnd=function(){this.enemyAnimation.state==h.enemyState.Attack&&(this.rigibody.linearVelocity=cc.v2(this.rushDirect.x*this.rushSpeed,this.rushDirect.y*this.rushSpeed),this.node.position.sub(this.rushStartPos).len()>=this.rushDistance&&this.rushEnd())},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].getComponent(y.default).enemyControl=this,this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;if(this.changeDirection(),this.stopDistance=_.caijiTools.random_int(250,400),g.default.instance.playerController.isDie)this.scheduleOnce(function(){t.AI_start()},1);else if(Math.abs(this.getDistance())<this.stopDistance+100){var e=this.skeleton.node.scaleX<0?g.default.instance.player.x-_.caijiTools.random_int(200,400):g.default.instance.player.x+_.caijiTools.random_int(200,400),n=g.default.instance.player.y+_.caijiTools.random_int(150,300),i=cc.v3(e,n).sub(this.node.position).len();cc.tween(this.node).to(i/300,{position:cc.v3(e,n)}).call(function(){var e=Math.abs(t.getDistance());e>200&&e<=400?t.preAttack():t.idle()}).start()}else this.changeStopDistanceY(),this.changeMovState(!0)},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeStopDistanceY=function(){this.stopDistance_y=_.caijiTools.random_int(200,350)},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(){var t=this;this.skeleton.node.angle=0,this.changeMovState(!1),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(h.enemyState.Idle,1,!0,!0),this.scheduleOnce(function(){t.AI_start()},this.AI_interval)},e.prototype.changeDirection=function(){this.skeleton.node.scaleX=g.default.instance.player.x>this.node.x?-this.scaleX_skeleton:this.scaleX_skeleton},e.prototype.die=function(){this.isDie||(d.default.playAudio(l.audioName.E25Die),this.node.children[0].active=!1,this.unscheduleAllCallbacks(),cc.Tween.stopAllByTarget(this.node),this.closeHighLight(),this.isDie=!0,this.hideHp(),this.enemyAnimation.changeState(h.enemyState.Die1,1,!1),this.dieCount())},e.prototype.die_middle=function(){this.rigibody.gravityScale=5,this.rigibody.linearVelocity=cc.v2(0,-1e3),this.enemyAnimation.changeState(h.enemyState.Die2,1,!1)},e.prototype.die_end=function(){this.enemyAnimation.changeState(h.enemyState.Die3,1,!1,!0)},e.prototype.Destory=function(){this.node.destroy()},e.prototype.getUp=function(){this.enemyAnimation.changeState(h.enemyState.get_up,1,!1,!0)},e.prototype.moveToPlayer=function(){this.changeDirection();var t=cc.v3(g.default.instance.player.x,g.default.instance.player.y+55).sub(this.node.position).normalizeSelf();this.rigibody.linearVelocity=cc.v2(this.moveSpeed*t.x,this.moveSpeed*t.y)},e.prototype.preAttack=function(){d.default.playAudio(l.audioName.E25Attack);var t=cc.v3(g.default.instance.player.x,g.default.instance.player.y+55);this.changeDirection(),this.rushDirect=t.sub(this.node.position).normalizeSelf(),this.enemyAnimation.changeState(h.enemyState.Pre_Attack,1,!1,!0)},e.prototype.rush=function(){var t=this;this.rushStartPos=this.node.position,this.rushDistance=this.getDistance()+70;var e=_.caijiTools.getAngleDependY(this.rushDirect.x,this.rushDirect.y);this.skeleton.node.scaleX>0?this.skeleton.node.angle=-e-90:this.skeleton.node.angle=90-e,this.enemyAnimation.changeState(h.enemyState.Attack,1,!1,!0),this.node.children[0].active=!0,this.showDamageCollider(c.attack),this.scheduleOnce(function(){t.node.children[0].getComponent(cc.MotionStreak).color=cc.color(255,255,255,255)},.05)},e.prototype.rushEnd=function(){this.hideDamageCollider(),this.node.children[0].active=!1,this.node.children[0].getComponent(cc.MotionStreak).color=cc.color(255,255,255,0),this.idle()},e.prototype.hit=function(){this.getDamageCollider().getComponent(y.default).hit(this.node,this.damage),this.hideDamageCollider()},e.prototype.fire=function(t,e){"Fire"==e.data.name&&this.createFX()},e.prototype.createFX=function(){return s(this,void 0,void 0,function(){var t,e,n,i;return r(this,function(o){switch(o.label){case 0:return t=this.skeleton.node.scaleX>0?this.node.x-40:this.node.x+40,e=this.node.y-40,[4,_.caijiTools.loadPrefab("prefabs/ladyBugFX")];case 1:return n=o.sent(),(i=_.caijiTools.createNode(n,this.node.parent)).setSiblingIndex(this.node.getSiblingIndex()+1),i.setPosition(t,e),i.getComponent(m.default).isRightMove=!(this.skeleton.node.scaleX>0),i.getComponent(m.default).damage=this.damage,i.active=!0,[2]}})})},e.prototype.beHit=function(t,e){if(!this.isDie){this.changeMovState(!1),this.setRigibodySpeed(0),this.highLight(),this.showHp(),this.changeState_beHit(e);var n=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;f.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.hp<=0&&f.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i)),this.updateHp(t)}},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==h.attackType.attack3;switch(t){case h.attackType.attack1:n=h.enemyState.get_hurt2,this.applyForce(cc.v2(g.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.attack2:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(g.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=h.enemyState.knock_down,this.node.x<g.default.instance.player.x&&g.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>g.default.instance.player.x&&g.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case h.attackType.jumpHit:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(g.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.shuriken:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(g.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case h.attackType.swordRain:n=h.enemyState.get_hurt1}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==h.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.updateHp=function(t){this.hp-=t,this.hpBar.progress=this.hp/this.hpMax,this.hp<=0&&(this.hp=0,this.die())},e.prototype.showHp=function(){this.unschedule(this.hideHp),this.hpNode.active=!0,this.scheduleOnce(this.hideHp,2)},e.prototype.hideHp=function(){this.hpNode.active=!1},e.prototype.highLight=function(){this.unschedule(this.closeHighLight),this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),this.scheduleOnce(this.closeHighLight,.15)},e.prototype.closeHighLight=function(){this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistance=function(){return this.node.position.sub(g.default.instance.player.position).len()},e.prototype.getDistanceX=function(){return this.node.x-g.default.instance.player.x},e.prototype.getDistanceY=function(){return Math.abs(this.node.y-g.default.instance.player.y)},a([k({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([k({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([k(cc.Node)],e.prototype,"hpNode",void 0),a([k(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([k(cc.String)],e.prototype,"dieEffectName",void 0),a([b],e)}(u.default);n.default=w,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../main/audioManager":"audioManager","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider","./ladyBugFx":"ladyBugFx"}],bossHp:[function(t,e,n){"use strict";cc._RF.push(e,"f162fRFpUVC35TR9UWfJWgb","bossHp");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.bossName=void 0;var c=t("../../caijiTools"),l=t("../../sdk/data"),_=t("../enemyBase"),d=cc._decorator,h=d.ccclass,p=d.property;(function(t){t.enemy10="enemy10",t.enemy39="enemy39",t.miniBoss="miniBoss"})(n.bossName||(n.bossName={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hpBar=null,e.headIcon=null,e.hpNumLabel=null,e.nowHpNode=null,e.nextHpNode=null,e.hpMax=0,e.barWidth=0,e.bossName="",e.hpNum=5,e.hp=0,e.everyValue=0,e.acitonSpeed=.8,e.hpBarShadow=null,e.hpBarNode=null,e.isLockAction=!1,e.headIconPosition={enemy10:cc.v2(-16,-42.5),enemy39:cc.v2(-6,-42.5),miniBoss:cc.v2(-13.4,-60)},e.hpBarColor={5:{color:cc.color(158,24,196),colorDark:cc.color(99,0,127)},4:{color:cc.color(95,108,237),colorDark:cc.color(0,12,129)},3:{color:cc.color(53,168,94),colorDark:cc.color(18,94,45)},2:{color:cc.color(152,146,42),colorDark:cc.color(113,108,27)},1:{color:cc.color(172,0,29),colorDark:cc.color(113,0,19)}},e}return o(e,t),e.prototype.onLoad=function(){this.hpBarShadow=this.nowHpNode.children[0],this.hpBarNode=this.nowHpNode.children[1]},e.prototype.update=function(){this.hpBarShadow.width=cc.misc.lerp(this.hpBarShadow.width,this.hpBarNode.width,.06)},e.prototype.init=function(t){this.barWidth=this.hpBar.totalLength,this.hpMax=Number(l.data.gameJson("enemyData",this.bossName,_.enemyAttribute.hp)),this.hp=this.hpMax,this.hpNum=5,this.everyValue=this.hp/this.hpNum,this.updateHpNum(),this.updateHeadIcon(t),this.updateNowHpBar(),this.updateNextHpBar()},e.prototype.updateNowHpBar=function(){this.hpBar.progress=1,this.nowHpNode.children[0].width=this.barWidth,this.nowHpNode.children[1].width=this.barWidth,this.nowHpNode.children[0].color=this.hpBarColor[this.hpNum].color,this.nowHpNode.children[1].color=this.hpBarColor[this.hpNum].colorDark},e.prototype.updateNextHpBar=function(){1==this.hpNum?this.nextHpNode.children[0].opacity=0:this.nextHpNode.children[0].color=this.hpBarColor[this.hpNum-1].colorDark},e.prototype.addHp=function(t){if(t=Math.floor(t),this.hp+=t,this.hp<=0)return this.hpNumLabel.string="x0",void this.hpBarToZeroAction(!1);this.hp=this.hp>this.hpMax?this.hpMax:this.hp,this.isLockAction||(Math.ceil(this.hp/this.everyValue)<this.hpNum?this.hpBarToZeroAction():this.hpBarAction())},e.prototype.enterNextHp=function(){this.isLockAction=!1,this.hpNum--,this.updateHpNum(),this.updateNowHpBar(),this.updateNextHpBar(),this.hpBarAction()},e.prototype.hpBarAction=function(){cc.Tween.stopAllByTarget(this.hpBar);var t=this.hpBar.progress,e=this.hp%this.everyValue/this.everyValue,n=(t-(e=0==e?1:e))/this.acitonSpeed;cc.tween(this.hpBar).to(n,{progress:e},{easing:"quadOut"}).start()},e.prototype.hpBarToZeroAction=function(t){var e=this;void 0===t&&(t=!0),this.isLockAction=!0,cc.Tween.stopAllByTarget(this.hpBar);var n=this.hpBar.progress/this.acitonSpeed*.5;cc.tween(this.hpBar).to(n,{progress:0},{easing:"quadOut"}).call(function(){0!=t&&e.enterNextHp()}).start()},e.prototype.increseHpNum=function(){},e.prototype.updateHpNum=function(){this.hpNumLabel.string="x"+this.hpNum.toString()},e.prototype.updateHeadIcon=function(t){return s(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return[4,c.caijiTools.loadSpriteFrame("bossHead/"+this.bossName)];case 1:return e=n.sent(),this.headIcon.spriteFrame=e,this.headIcon.node.setPosition(this.headIconPosition[this.bossName]),t(),[2]}})})},a([p(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([p(cc.Sprite)],e.prototype,"headIcon",void 0),a([p(cc.Label)],e.prototype,"hpNumLabel",void 0),a([p(cc.Node)],e.prototype,"nowHpNode",void 0),a([p(cc.Node)],e.prototype,"nextHpNode",void 0),a([h],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../caijiTools":"caijiTools","../../sdk/data":"data","../enemyBase":"enemyBase"}],buffPopup:[function(t,e,n){"use strict";cc._RF.push(e,"700fbEzyEFJnasPygdD6hzp","buffPopup");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../syyx_sdk/export_sdk"),r=t("../../sdk/ad"),c=t("../../uiBase"),l=t("./uiManager"),_=cc._decorator,d=_.ccclass,h=_.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.UIType=-1,e.onNewBackHomeClick=!0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){this.initUi()},e.prototype.start=function(){},e.prototype.onEnable=function(){this.showRet()},e.prototype.wudi=function(){var t=this;r.ad.video_show().then(function(e){e&&(l.default.ins.wuDi(),t.close())})},e.prototype.fullHp=function(){var t=this;r.ad.video_show().then(function(e){e&&(l.default.ins.fullHp(),t.close())})},e.prototype.doubleDamage=function(){var t=this;r.ad.video_show().then(function(e){e&&(cc.log("doubleDamage.........."),l.default.ins.doubleDamage(),t.subclose())})},e.prototype.subclose=function(){s.Export.hide_naive_YSAD("YSJS"),this.node.destroy(),cc.director.resume()},e.prototype.showRet=function(){cc.log("buff popup ...."),this.onNewBackHomeClick=!0,n.native_have_show=!1;var t="Canvas/ui/doubleDamagePopup/fail_parent";1==this.UIType?t="Canvas/ui/doubleDamagePopup/fail_parent":2==this.UIType?t="Canvas/ui/fullHpPopup/fail_parent":3==this.UIType&&(t="Canvas/ui/wuDiPopup/fail_parent"),cc.find(t).setScale(.5),setTimeout(function(){s.Export.show_native_YSAD("10302001",t,function(){n.native_have_show=!0})},400)},e.prototype.close=function(){this.onNewBackHomeClick&&n.native_have_show?(this.onNewBackHomeClick=!1,s.Export.click_native_YSAD("YSJS")):(this.onNewBackHomeClick=!0,n.native_have_show=!1,this.subclose())},e.native_have_show=!1,a([h(cc.Integer)],e.prototype,"UIType",void 0),n=a([d],e)}(c.default);n.default=p,cc._RF.pop()},{"../../../syyx_sdk/export_sdk":"export_sdk","../../sdk/ad":"ad","../../uiBase":"uiBase","./uiManager":"uiManager"}],caijiTools:[function(t,e,n){"use strict";cc._RF.push(e,"3b539O4uiZOPq4nkPn4HvON","caijiTools");var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.caijiTools=void 0;var a=t("./audioNameMgr"),s=t("./dontDestroy"),r=t("./main/audioManager"),c=t("./sdk/data");(function(){}.prototype=cc.Button.prototype)._onTouchBegan=function(t){this.interactable&&this.enabledInHierarchy&&("offsound"!=t.target.getComponent(cc.Button).clickEvents[0].customEventData&&r.default.playAudio(a.audioName.button,!1,.6),this._pressed&&(cc.Component.EventHandler.emitEvents(this.clickEvents,t),this.node.emit("click",this)),this._pressed=!0,this._updateState(),t.stopPropagation())},function(t){t.loadAudioClip=function(e){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,t.loadResources(e,cc.AudioClip)];case 1:return[2,n.sent()]}})})},t.loadAudioClipBundle=function(e,n){return i(this,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return[4,t.loadBundleRes(e,n,cc.AudioClip)];case 1:return[2,i.sent()]}})})},t.loadSkeleton=function(e){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,t.loadResources(e,sp.SkeletonData)];case 1:return[2,n.sent()]}})})},t.loadSpriteFrame=function(e){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,t.loadResources(e,cc.SpriteFrame)];case 1:return[2,n.sent()]}})})},t.loadSpriteFrameBundle=function(e,n){return i(this,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return[4,t.loadBundleRes(e,n,cc.SpriteFrame)];case 1:return[2,i.sent()]}})})},t.loadUrlTxture=function(e){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,t.loadUrlResources(e,cc.Texture2D)];case 1:return[2,n.sent()]}})})},t.loadPrefab=function(e){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,t.loadResources(e,cc.Prefab)];case 1:return[2,n.sent()]}})})},t.loadResources=function(t,e){return new Promise(function(n){cc.resources.load(t,e,function(e,i){if(e)return console.log("\u52a0\u8f7d\u8d44\u6e90\u5931\u8d25\uff01"+t),void n(null);n(i)})})},t.loadBundleRes=function(t,e,n){return new Promise(function(i){var o=cc.assetManager.getBundle(t);o?o.load(e,n,function(n,o){n&&cc.log("loadBundleRes:",t,e," fail:",n),i(o)}):(cc.log("loadBundleRes first:",t),cc.assetManager.loadBundle(t,function(a,s){a?cc.log("loadBundleRes first:",t," fail:",a):(o=s).load(e,n,function(n,o){n&&cc.log("loadBundleRes first:",t,e," fail:",n),i(o)})}))})},t.loadBundlePackage=function(t,e){cc.assetManager.loadBundle(t,function(n){n?console.log(n):e(t)})},t.loadUrlResources=function(t,e){return new Promise(function(n){cc.assetManager.loadRemote(t,e,function(e,i){e?console.log("\u52a0\u8f7durl\u8d44\u6e90\u5931\u8d25\uff01"+t):n(i)})})},t.addCoin=function(e,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var o=Number(c.data.getCache("Base","coin")),a={a:o};o+=e,c.data.updateCache("Base","coin",o),t.showGetCoinTip(e),null!=n&&(n.unscheduleAllCallbacks(),cc.tween(a).to(1,{a:o},{progress:function(t,e,i,o){var a=cc.misc.lerp(t,e,o);return n.string=a.toFixed(0),a},easing:"cubicOut"}).start()),null!=i&&cc.resources.load("prefab/addLable",cc.Prefab,function(t,n){if(null==t){var o=cc.instantiate(n);o.setParent(i),o.setPosition(cc.v2(i.width/2,-i.height/2)),o.getComponent(cc.Label).string=e>0?"+"+e:e.toString(),o.active=!0,cc.tween(o).to(.1,{scale:.8}).by(.5,{position:cc.v3(0,70),opacity:-255}).call(function(){o.destroy()}).start()}else cc.log(t)})},t.showGetCoinTip=function(e){return i(this,void 0,void 0,function(){var n,i;return o(this,function(o){switch(o.label){case 0:return[4,t.loadPrefab("prefabs/ui/getCoinTip")];case 1:return(n=o.sent())?((i=t.createNode(n,cc.find("Canvas"))).getComponent("getCoinTip").addNum=e,i.setPosition(0,cc.winSize.height/2*.2),i.active=!0,[2]):[2]}})})},t.showGetPowerTip=function(e){return i(this,void 0,void 0,function(){var n,i;return o(this,function(o){switch(o.label){case 0:return[4,t.loadPrefab("prefabs/ui/getPowerTip")];case 1:return(n=o.sent())?((i=t.createNode(n,cc.find("Canvas"))).getComponent("getPowerTip").addNum=e,i.setPosition(0,cc.winSize.height/2*.2),i.active=!0,[2]):[2]}})})},t.addPower=function(e,n){void 0===n&&(n=null);var i=Number(c.data.getCache("Base","power")),o={a:i};i+=e,c.data.updateCache("Base","power",i),s.default.instance.checkPowerIsFull(),t.showGetPowerTip(e),null!=n&&(n.unscheduleAllCallbacks(),cc.tween(o).to(.5,{a:i},{progress:function(t,e,i,o){var a=cc.misc.lerp(t,e,o);return n.string=a.toFixed(0),a},easing:"cubicOut"}).start())},t.isCoinEnough=function(t){return Number(c.data.getCache("Base","coin"))>=t},t.isPowerEnough=function(t){return Number(c.data.getCache("Base","power"))>=t},t.showUnlockSkin=function(e,n){return i(this,void 0,void 0,function(){var i;return o(this,function(o){switch(o.label){case 0:return c.data.updateCache("Base","inUsingSkin",e),c.data.updateCache("skins",e.toString(),1),[4,t.loadPrefab("prefabs/ui/"+n)];case 1:return i=o.sent(),t.createNode(i,cc.find("Canvas"),!0).getComponent(n).skinIndex=e,[2]}})})},t.showPopup=function(e,n,a,s){return void 0===a&&(a=!0),void 0===s&&(s=!1),i(this,void 0,void 0,function(){var i;return o(this,function(o){switch(o.label){case 0:return[4,t.loadPrefab("prefabs/ui/"+e)];case 1:return(i=o.sent())?[2,t.createNode(i,n,a,s)]:[2]}})})},t.createNode=function(t,e,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);var o=cc.instantiate(t);return o.setParent(e),o.setPosition(0,0),i&&(o.zIndex=cc.macro.MAX_ZINDEX),o.active=n,o},t.updatePowerTimer=function(t,e,n){var i=c.data.getCache("Base","power");t.string=i,s.default.instance.isTimer&&0==e.node.active?e.node.active=!0:0==s.default.instance.isTimer&&1==e.node.active&&(e.node.active=!1),Number(i)>=n||(s.default.instance.sec>=10?e.string="0"+s.default.instance.min+":"+s.default.instance.sec:e.string="0"+s.default.instance.min+":0"+s.default.instance.sec)},t.screenShake=function(t,e,n,i){void 0===e&&(e=6),void 0===n&&(n=5),void 0===i&&(i=10);var o=0,a=n,s=i,r=function(c,l){o++,cc.tween(t).by(.03,{y:l}).by(.03,{y:-l}).call(function(){o<e&&r(a-=n/e,s-=i/e)}).start()};r(a,s)},t.changeBulidCamera_posY=function(t){var e=(1/t.zoomRatio-1)*cc.winSize.height/2;t.node.y=e},t.getAngleBetweenTwoVec=function(t,e){return 180*t.normalize().signAngle(e.normalize())/Math.PI},t.getAngleDependY=function(t,e){return 180*Math.atan2(t,e)/Math.PI},t.getDirection=function(t){var e=Math.sin(-t*Math.PI/180),n=Math.cos(-t*Math.PI/180);return cc.v2(e,n)},t.getBezierPositions=function(t,e,n,i){for(var o=new Array,a=0;a<i;a++)o[a]=cc.v2();for(var s=0;s<i;s++){var r=s/i;o[s].x=1*Math.pow(1-r,2)*Math.pow(r,0)*t.x+2*Math.pow(1-r,1)*Math.pow(r,1)*e.x+1*Math.pow(1-r,0)*Math.pow(r,2)*n.x,o[s].y=1*Math.pow(1-r,2)*Math.pow(r,0)*t.y+2*Math.pow(1-r,1)*Math.pow(r,1)*e.y+1*Math.pow(1-r,0)*Math.pow(r,2)*n.y}return o},t.cutPicture=function(e,n,i){void 0===i&&(i=null);var o=null!=i?i.width:cc.winSize.width,a=null!=i?i.height:cc.winSize.height,s=new cc.RenderTexture,r=cc.game._renderContext;s.initWithSize(o,a,r.STENCIL_INDEX8),e.targetTexture=s,e.render();var c=new Uint8Array(o*a*4),l=s.readPixels(c),_=s.width,d=s.height,h=t.filpYImage(l,_,d),p=new cc.Texture2D;p.initWithData(h,cc.Texture2D.RGBA8888,_,d);var u=new cc.SpriteFrame;u.setTexture(p),n.getComponent(cc.Sprite).spriteFrame=u,n.setContentSize(cc.size(o,a)),e.targetTexture=null},t.cutPicture_height=function(t,e,n,i){var o=cc.winSize.width,a=cc.winSize.height,s=new cc.RenderTexture,r=cc.game._renderContext;s.initWithSize(o,a,r.STENCIL_INDEX8),t.targetTexture=s,t.render();var c=new Uint8Array(o*a*4),l=n,_=i,d=s.readPixels(c,0,l,o,_),h=s.width,p=this.filpYImage(d,h,_),u=new cc.Texture2D;u.initWithData(p,cc.Texture2D.RGBA8888,h,_);var y=new cc.SpriteFrame;y.setTexture(u),e.getComponent(cc.Sprite).spriteFrame=y,e.setContentSize(cc.size(o,_))},t.filpYImage=function(t,e,n){for(var i=new Uint8Array(e*n*4),o=4*e,a=0;a<n;a++)for(var s=(n-1-a)*e*4,r=a*e*4,c=0;c<o;c++)i[r+c]=t[s+c];return i},t.setCameraTexture=function(t,e){var n=new cc.RenderTexture;n.initWithSize(t.node.width,t.node.height);var i=new cc.SpriteFrame;i.setTexture(n),e.targetTexture=n,t.spriteFrame=i},t.playSkeletonAnimation=function(t,e,n,i){void 0===i&&(i=!1),e!=t.animation&&(t.setAnimation(0,e,i),t.timeScale=n)},t.drawGraphics=function(t,e){for(var n=0;n<t.length;n++){var i=e.node.convertToNodeSpaceAR(t[n]);0==n?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y),e.stroke()}},t.loadSubPackge=function(t){var e=function(t){return new Promise(function(e,n){tt.loadSubpackage({name:t,success:function(){cc.assetManager.loadBundle(t,function(i){i?n(i):e(t+"\u52a0\u8f7d\u5b8c\u6210")})},fail:function(t){n(t)}})})},n=[];return t.forEach(function(t){n.push(e(t))}),Promise.all(n)},t.BindButtonClickListener=function(t,e,n,i,o){void 0===o&&(o="");var a=new cc.Component.EventHandler;a.target=t,a.component=e,a.handler=n,""!=o&&(a.customEventData=o),i.getComponent(cc.Button).clickEvents.push(a)},t.openPhysicsSystem=function(t,e){void 0===t&&(t=1),void 0===e&&(e=!1);var n=cc.director.getPhysicsManager(),i=cc.director.getCollisionManager();n.enabled=!0,i.enabled=!0,i.enabledDebugDraw=0!=e,n.debugDrawFlags=1==t?1:0},t.random_int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t}}(n.caijiTools||(n.caijiTools={})),cc._RF.pop()},{"./audioNameMgr":"audioNameMgr","./dontDestroy":"dontDestroy","./main/audioManager":"audioManager","./sdk/data":"data"}],cameraControl:[function(t,e,n){"use strict";cc._RF.push(e,"0c02ciEqSJJmLZwwwoTkkhj","cameraControl");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./GameManager"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cameraNode=null,e.mainCamera=null,e.offsetX=0,e.y_min=-200,e.y_max=90,e.maxOffsetX=[1300,50,1e3,0,320,250,250,800,450,0,1e3,1100,650,1e3,1e3,1e3,0,1100,1800,1100],e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.cameraNode=this.node,this.offsetX=0,this.mainCamera=this.node.getComponent(cc.Camera)},e.prototype.start=function(){},e.prototype.update=function(){if(null!=s.default.instance.playerController){var t=s.default.instance.player.parent.convertToWorldSpaceAR(s.default.instance.player.position),e=this.node.parent.convertToNodeSpaceAR(t);this.changeCameraX(e)}},e.prototype.changeCameraY=function(t,e){var n=0;t.y-320>70?(n=(n=e.y-70)>this.y_max?this.y_max:n,this.node.y=cc.misc.lerp(this.node.y,n,.05)):t.y<250&&(n=(n=e.y+70)<this.y_min?this.y_min:n,this.node.y=cc.misc.lerp(this.node.y,n,.1))},e.prototype.changeCameraX=function(t){if(Math.abs(t.x-this.node.x)>=this.offsetX){if(this.node.x<=0&&this.node.x>t.x||this.node.x>=this.maxOffsetX[0]&&this.node.x<t.x)return;var e=t.x>this.node.x?t.x-this.offsetX:t.x+this.offsetX;this.node.x=cc.misc.lerp(this.node.x,e,.1)}},e.prototype.getPlayerPosInBuildCamera=function(t){var e=new cc.Vec2,n=t.parent.convertToWorldSpaceAR(t.getPosition());return this.mainCamera.getWorldToScreenPoint(n,e),e},e.prototype.changeCameraView=function(t,e,n){cc.tween(this.node).to(t,{position:e},{easing:"sineOut"}).start(),cc.tween(this.mainCamera).to(t,{zoomRatio:n},{easing:"sineOut"}).start()},e.instance=null,n=a([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./GameManager":"GameManager"}],choseLevelPanel:[function(t,e,n){"use strict";cc._RF.push(e,"5411eznvA9CNJhuceRQ964e","choseLevelPanel");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../uiBase"),r=cc._decorator,c=r.ccclass,l=r.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelItem=null,e.layouts=[],e.levelNum=100,e.nowPage=1,e.maxPage=0,e}return o(e,t),e.prototype.onLoad=function(){this.initUi()},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.maxPage=Math.ceil(this.levelNum/8);for(var t=0;t<this.maxPage;t++)for(var e=this.levelNum-8*t>=8?8:this.levelNum-8*t,n=1;n<=e;n++){var i=cc.instantiate(this.levelItem);i.setParent(this.layouts[t]),i.name=(n+8*t).toString(),i.active=!0}},e.prototype.next=function(){this.nowPage!=this.maxPage&&(this.layouts[this.nowPage-1].active=!1,this.nowPage++,this.layouts[this.nowPage-1].active=!0)},e.prototype.last=function(){1!=this.nowPage&&(this.layouts[this.nowPage-1].active=!1,this.nowPage--,this.layouts[this.nowPage-1].active=!0)},e.prototype.close=function(){this.node.destroy()},a([l(cc.Prefab)],e.prototype,"levelItem",void 0),a([l(cc.Node)],e.prototype,"layouts",void 0),a([c],e)}(s.default);n.default=_,cc._RF.pop()},{"../uiBase":"uiBase"}],coinDrop:[function(t,e,n){"use strict";cc._RF.push(e,"f1a83cX+ipL2ZseGzqWEkm5","coinDrop");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../caijiTools"),r=t("../sdk/data"),c=t("./GameManager"),l=cc._decorator,_=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinNumer=1,e.targetPosition=null,e.isPickUpTime=!1,e.rigibody=null,e.circleCollider=null,e.speed=1200,e.isDropFloor=!1,e}return o(e,t),e.prototype.onLoad=function(){this.rigibody=this.node.getComponent(cc.RigidBody),this.circleCollider=this.node.getComponent(cc.PhysicsCircleCollider)},e.prototype.start=function(){var t=this;c.default.instance.dropCoins.push(this.node),this.addForce(),this.scheduleOnce(function(){t.startMoveToPlayer()},1.5)},e.prototype.addForce=function(){var t=150*s.caijiTools.random_int(-60,60),e=150*s.caijiTools.random_int(30,60);this.rigibody.applyForceToCenter(cc.v2(t,e),!0)},e.prototype.startMoveToPlayer=function(){this.isPickUpTime=!0,this.closeDamping()},e.prototype.update=function(){this.isPickUpTime&&this.moveToPlayer()},e.prototype.lateUpdate=function(){if(this.rigibody.linearVelocity.len()<10){if(0==this.circleCollider.restitution)return;this.rigibody.linearVelocity=cc.v2(0,0),this.circleCollider.restitution=0,this.circleCollider.apply()}},e.prototype.onBeginContact=function(t,e,n){var i=n.node;"ground"==i.group?this.openDamping():"player"==i.group&&(t.disabled=!0)},e.prototype.addCoin=function(){var t=Number(r.data.getCache("Base","coin"))+this.coinNumer;r.data.updateCache("Base","coin",t)},e.prototype.moveToPlayer=function(){this.targetPosition=cc.v3(c.default.instance.player.x,c.default.instance.player.y+70);var t=this.targetPosition.sub(this.node.position).normalizeSelf();this.rigibody.linearVelocity=cc.v2(t.x*this.speed,t.y*this.speed),this.targetPosition.sub(this.node.position).len()<15&&(this.addCoin(),this.node.active=!1,this.node.destroy())},e.prototype.openDamping=function(){this.isDropFloor||(this.isDropFloor=!0,this.rigibody.linearDamping=2,this.rigibody.angularDamping=2)},e.prototype.closeDamping=function(){this.rigibody.linearDamping=0},a([_],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../caijiTools":"caijiTools","../sdk/data":"data","./GameManager":"GameManager"}],damageEffect:[function(t,e,n){"use strict";cc._RF.push(e,"996a64NhE9I8K6SbtCym/DI","damageEffect");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../caijiTools"),r=t("./damageTipPool"),c=cc._decorator,l=c.ccclass,_=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){var t=this;this.node.getComponent(cc.Animation).on("finished",function(){r.default.instance.recoveryDmgEffect(t.node)})},e.prototype.onEnable=function(){this.node.getComponent(cc.Animation).play()},e.prototype.reuse=function(){this.node.angle=s.caijiTools.random_int(0,360)},e.prototype.unuse=function(){this.node.active=!1},a([l],e)}(cc.Component));n.default=_,cc._RF.pop()},{"../caijiTools":"caijiTools","./damageTipPool":"damageTipPool"}],damageLabel:[function(t,e,n){"use strict";cc._RF.push(e,"2ba7dBjhcBPT4tDUpx3sf4S","damageLabel");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./damageTipPool"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.damage=0,e.color=cc.Color.GREEN,e}return o(e,t),e.prototype.onLoad=function(){this.label=this.node.getComponent(cc.Label)},e.prototype.onEnable=function(){this.node.color=this.color,255==this.color.g&&0==this.color.r?(this.node.getComponent(cc.Label).string="+"+this.damage.toString(),this.addHpAciton()):(this.node.getComponent(cc.Label).string=this.damage.toString(),this.damageAction())},e.prototype.addHpAciton=function(){var t=this;this.label.fontSize=0,this.label.lineHeight=0,cc.tween(this.node).parallel(cc.tween().by(.01,{opacity:255}),cc.tween().by(.5,{y:80})).by(.2,{opacity:-255,y:40}).call(function(){s.default.instance.recoveryDmgLabel(t.node)}).start(),cc.tween(this.label).to(.1,{fontSize:32,lineHeight:32}).start()},e.prototype.damageAction=function(){var t=this;this.node.opacity=255,cc.tween(this.node).parallel(cc.tween().by(.4,{y:120}),cc.tween().to(.06,{scale:1.4}).to(.1,{scale:1})).by(.2,{opacity:-255,y:60}).call(function(){s.default.instance.recoveryDmgLabel(t.node)}).start()},e.prototype.reuse=function(){},e.prototype.unuse=function(){cc.Tween.stopAllByTarget(this.node),null==this.label&&(this.label=this.node.getComponent(cc.Label)),this.node.scale=0,this.node.active=!1},a([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./damageTipPool":"damageTipPool"}],damageTipPool:[function(t,e,n){"use strict";cc._RF.push(e,"e86e1AR5HlPdqrmQHBKyG3/","damageTipPool");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../caijiTools"),l=cc._decorator,_=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelPre=null,e.effectPre=null,e.damgeLabelPool=new cc.NodePool("damageLabel"),e.damageEffectPool=new cc.NodePool("damageEffect"),e}var n;return o(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return null==n._instance&&(n._instance=new n),n._instance},enumerable:!1,configurable:!0}),e.prototype.init=function(){return s(this,void 0,void 0,function(){var t,e,i,o,a;return r(this,function(s){switch(s.label){case 0:return n.instance.damgeLabelPool.size()>0?[2]:(t=n.instance,[4,c.caijiTools.loadPrefab("prefabs/damageLabel")]);case 1:return t.labelPre=s.sent(),e=n.instance,[4,c.caijiTools.loadPrefab("prefabs/damgeEffect")];case 2:for(e.effectPre=s.sent(),i=0;i<15;i++)o=cc.instantiate(n.instance.effectPre),a=cc.instantiate(n.instance.labelPre),n.instance.damageEffectPool.put(o),n.instance.damgeLabelPool.put(a);return[2]}})})},e.prototype.getDamageLabel=function(){return s(this,void 0,void 0,function(){var t;return r(this,function(){return(t=n.instance.damgeLabelPool.get())||(t=cc.instantiate(n.instance.labelPre)),[2,t]})})},e.prototype.recoveryDmgLabel=function(t){n.instance.damgeLabelPool.put(t)},e.prototype.getDamageEffect=function(){return s(this,void 0,void 0,function(){var t;return r(this,function(){return(t=n.instance.damageEffectPool.get())||(t=cc.instantiate(n.instance.effectPre)),[2,t]})})},e.prototype.recoveryDmgEffect=function(t){n.instance.damageEffectPool.put(t)},e._instance=null,n=a([_],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../caijiTools":"caijiTools"}],data:[function(t,e,n){"use strict";cc._RF.push(e,"ad17bPytDRIYpGu6OVsKux4","data");var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.data=void 0;var a=t("./Constant");(function(t){var e=cc.sys.platform,n="json/player_data",s="dxcs",r="ST_GameDataxx",c=null,l=null,_={};function d(t,e){_[t]=e,p()}function h(t,e){return _[t]?_[t]:e}function p(){cc.sys.localStorage.setItem(r,JSON.stringify(_))}function u(t,e){t?e("<\u52a0\u8f7d\u7f13\u5b58\u73a9\u5bb6\u6570\u636e>"):y(e)}function y(t){g(n).then(function(e){c=e,t("<\u52a0\u8f7d\u7f13\u5b58\u73a9\u5bb6\u6570\u636e>")})}function f(){var t=JSON.stringify(c);switch(console.log("\u5f00\u59cb\u4fdd\u5b58\u73a9\u5bb6\u6570\u636e",e==cc.sys.WECHAT_GAME),e){case cc.sys.WECHAT_GAME:wx.setStorage({key:s,data:t});break;default:cc.sys.localStorage.setItem(s,t)}}function g(t){return new Promise(function(e){cc.resources.load(t,cc.JsonAsset,function(n,i){n?(console.log(n),e("\u52a0\u8f7d:"+t+"\u5931\u8d25!")):e(i.json)})})}t.init=function(t){return void 0===t&&(t=!1),i(this,void 0,Promise,function(){var n;return o(this,function(i){switch(i.label){case 0:return cc.sys.isBrowser&&cc.sys.localStorage.clear(),c&&l?[2,Promise.resolve(["\u6570\u636e\u5df2\u52a0\u8f7d"])]:t?[4,new Promise(function(t,n){switch(e){case cc.sys.WECHAT_GAME:wx.clearStorage({success:function(){t()},fail:function(){n()}});break;default:cc.sys.localStorage.removeItem(s),t()}})]:[3,2];case 1:i.sent(),i.label=2;case 2:return(n=[]).push(new Promise(function(t){g("json/gamebase_data").then(function(e){l=e,t("\u52a0\u8f7d\u6e38\u620f\u6570\u636e")})}),new Promise(function(t){switch(console.log("\u5f00\u59cb\u52a0\u8f7d\u73a9\u5bb6\u6570\u636e",e==cc.sys.WECHAT_GAME),e){case cc.sys.WECHAT_GAME:wx.getStorage({key:s,success:function(n){console.log("\u6210\u529f\u52a0\u8f7d\u73a9\u5bb6\u6570\u636e~~~~~~~~~~~~~~",s,e,n),u(c=JSON.parse(n.data),t)},fail:function(n){console.log("\u672a\u80fd\u6210\u529f\u52a0\u8f7d\u73a9\u5bb6\u6570\u636e~~~~~~~~~~~~~~",s,e,n),y(t)}});break;default:try{var n=cc.sys.localStorage.getItem(s);u(c=JSON.parse(n),t)}catch(i){console.log(i)}}})),cc.sys.localStorage.getItem(r)?_=JSON.parse(cc.sys.localStorage.getItem(r)):(_[a.default.ST_Privacy]="0",_[a.default.ST_SignOnceOn]="0",_[a.default.ST_SignOnceOnTime]="0",_[a.default.ST_ShakeOn]="1"),[2,Promise.all(n)]}})})},t.gameJson=function(t,e,n,i){return null!=i?l[t][e][n][i]:null!=n&&null==i?l[t][e][n]:null!=e&&null==n?l[t][e]:null!=t&&null==e?l[t]:void 0},t.getCache=function(t,e,n,i){return null!=i?c[t][e][n][i]:null!=n&&null==i?c[t][e][n]:null!=e&&null==n?c[t][e]:null!=t&&null==e?c[t]:void 0},t.updateCache=function(t,e,n,i,o){null!=o&&(c[String(t)][String(e)][String(n)][String(i)]=o),null!=i&&null==o&&(c[String(t)][String(e)][String(n)]=i),null!=n&&null==i&&(c[String(t)][String(e)]=n),null!=e&&null==n&&(c[String(t)]=e),f()},t._setItem=d,t._getItem=h,t._save=p,t.getShakeOn=function(){return"1"==h(a.default.ST_ShakeOn,"1")},t.setShakeOn=function(t){d(a.default.ST_ShakeOn,t?"1":"0")},t.getPrivacyOn=function(){return"1"==h(a.default.ST_Privacy,"1")},t.setPrivacyOn=function(t){d(a.default.ST_Privacy,t?"1":"0")},t.getSignOnceOn=function(){var t=h(a.default.ST_SignOnceOnTime,"0");return t||(t="0"),(new Date).toDateString()==t&&"1"==h(a.default.ST_SignOnceOn,"1")},t.setSignOnceOn=function(t){d(a.default.ST_SignOnceOnTime,(new Date).toDateString()),d(a.default.ST_SignOnceOn,t?"1":"0")},t.addCache=function(t,e,n,i,o){var a,r=new Object;null!=o&&(c[t][e][n][i]?console.log("\u6dfb\u52a0\u5931\u8d25,\u5df2\u5b58\u5728\u952e\u503c\u5bf9:"+i+"="+o):(r[String(i)]=o,Object.assign(c[t][e][n],r),a=JSON.stringify(c),console.log("\u6dfb\u52a0\u5b57\u6bb5:"+i+"="+o))),null!=i&&null==o&&(c[t][e][n]?console.log("\u6dfb\u52a0\u5931\u8d25,\u5df2\u5b58\u5728\u952e\u503c\u5bf9:"+n+"="+i):(r[String(n)]=i,Object.assign(c[t][e],r),a=JSON.stringify(c),console.log("\u6dfb\u52a0\u5b57\u6bb5:"+n+"="+i))),null!=n&&null==i&&(c[t][e]?console.log("\u6dfb\u52a0\u5931\u8d25,\u5df2\u5b58\u5728\u952e\u503c\u5bf9:"+e+"="+n):(r[String(e)]=n,Object.assign(c[t],r),a=JSON.stringify(c),console.log("\u6dfb\u52a0\u5b57\u6bb5:"+e+"="+n))),null!=e&&null==n&&(c[t]?console.log("\u6dfb\u52a0\u5931\u8d25,\u5df2\u5b58\u5728\u952e\u503c\u5bf9:"+t+"="+e):(r[String(t)]=e,Object.assign(c,r),a=JSON.stringify(c),console.log("\u6dfb\u52a0\u5b57\u6bb5:"+t+"="+e))),console.log("\u5b57\u6bb5\u6dfb\u52a0\u6210\u529f!"),cc.sys.localStorage.setItem(s,a)}})(n.data||(n.data={})),cc._RF.pop()},{"./Constant":"Constant"}],dontDestroy:[function(t,e,n){"use strict";cc._RF.push(e,"78688IvLOJD5bJjjgJ7Gmkb","dontDestroy");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./caijiTools"),l=t("./sdk/data"),_=cc._decorator,d=_.ccclass,h=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadingPanel=null,e.times=120,e.Timer=0,e.nowPower=0,e.maxPower=5,e.isTimer=!1,e.min=0,e.sec=0,e.rainBowData={istart:!1,timerMax:300,timer:300},e}var n;return o(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new n),this._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.Timer=this.times},e.prototype.start=function(){cc.game.addPersistRootNode(this.node),this.schedule(function(){var t=(new Date).getTime()/1e3;l.data.updateCache("Base","exitTime",t)},1)},e.prototype.getLoadingPanel=function(){return s(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:return[4,c.caijiTools.loadPrefab("prefab/loading")];case 1:return t=e.sent(),n.instance.loadingPanel=cc.instantiate(t),n.instance.loadingPanel.setParent(cc.find("dontDestroy")),n.instance.loadingPanel.setPosition(cc.winSize.width/2,cc.winSize.height/2),n.instance.loadingPanel.children[0].setContentSize(cc.winSize),[2]}})})},e.prototype.checkPowerIsFull=function(){this.nowPower=Number(l.data.getCache("Base","power")),0!=n.instance.isTimer?this.nowPower>=this.maxPower&&(this.unschedule(this.scheduleFun),n.instance.isTimer=!1):this.nowPower<this.maxPower&&(n.instance.isTimer=!0,this.startTimer())},e.prototype.startTimer=function(){n.instance.min=0,n.instance.min=0,this.Timer=this.times,this.unschedule(this.scheduleFun),this.schedule(this.scheduleFun,1,this.times)},e.prototype.scheduleFun=function(){this.Timer=this.Timer-1,n.instance.min=Math.floor(this.Timer/60),n.instance.sec=this.Timer%60,0==this.Timer&&(this.nowPower++,l.data.updateCache("Base","power",this.nowPower),this.Timer=this.times,this.nowPower<this.maxPower?this.startTimer():(this.Timer=this.times,n.instance.isTimer=!1))},e.prototype.rainBowSchedule=function(){1!=n.instance.rainBowData.istart&&(n.instance.rainBowData.istart=!0,n.instance.rainBowData.timer=n.instance.rainBowData.timerMax,this.schedule(function(){n.instance.rainBowData.timer--},1,n.instance.rainBowData.timerMax-1))},n=a([d],e)}(cc.Component));n.default=h,cc._RF.pop()},{"./caijiTools":"caijiTools","./sdk/data":"data"}],dropBloodBottle:[function(t,e,n){"use strict";cc._RF.push(e,"0675bN9UYNGM7cJdm6ys4IM","dropBloodBottle");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./GameManager"),r=t("./ui/playerHp"),c=cc._decorator,l=c.ccclass,_=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hp=100,e.forceX=3e4,e.forceY=2e4,e.rigibody=null,e.isMoveToPlayer=!1,e.speed=500,e.targetPosition=null,e}return o(e,t),e.prototype.onLoad=function(){this.rigibody=this.node.getComponent(cc.RigidBody)},e.prototype.start=function(){this.forceX=this.node.x>s.default.instance.player.x?this.forceX:-this.forceX,this.rigibody.applyForceToCenter(cc.v2(this.forceX,this.forceY),!1)},e.prototype.update=function(){this.isMoveToPlayer&&this.moveToPlayer()},e.prototype.onBeginContact=function(t,e,n){var i=n.node;if("ground"==i.group)this.rigibody.linearVelocity=cc.v2(0,0);else if("player"==i.group&&"player"==i.name){if(s.default.instance.playerController.isDie)return;t.disabled=!0,this.isMoveToPlayer=!0}},e.prototype.moveToPlayer=function(){this.targetPosition=cc.v3(s.default.instance.player.x,s.default.instance.player.y+70);var t=this.targetPosition.sub(this.node.position).normalizeSelf();this.rigibody.linearVelocity=cc.v2(t.x*this.speed,t.y*this.speed),this.targetPosition.sub(this.node.position).len()<10&&(this.addHp(),this.node.active=!1,this.node.destroy())},e.prototype.addHp=function(){this.rigibody.enabledContactListener=!1,r.default.instance.addHp(this.hp),this.node.destroy()},a([l],e)}(cc.Component));n.default=_,cc._RF.pop()},{"./GameManager":"GameManager","./ui/playerHp":"playerHp"}],enemyAnimation:[function(t,e,n){"use strict";cc._RF.push(e,"1931dRGmupPKK6G9f0Yp5yl","enemyAnimation");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./animationState"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemyName="",e.state=s.enemyState.idle,e.skeleton=null,e.enemyController=null,e.lockState=[s.enemyState.knock_down,s.enemyState.knock_down1,s.enemyState.knock_down2,s.enemyState.get_up,s.enemyState.Get_up,s.enemyState["Get-up"],s.enemyState["Knock-up-start"],s.enemyState["Knock-up-loop"],s.enemyState["Knock-up-end"],s.enemyState.Knock_up1,s.enemyState.Knock_up2,s.enemyState.Knock_up3],e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.getComponent(sp.Skeleton),this.enemyName=this.enemyController.node.name},e.prototype.start=function(){this["setAnimationCompleteEvent_"+this.enemyController.node.name]()},e.prototype.changeState=function(t,e,n,i,o){void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=!1),this.lockState.includes(s.enemyState[this.skeleton.animation])&&0==i||(this.state=t,this.state!=s.enemyState.attack&&this.state!=s.enemyState.Atk&&this.enemyController.hideDamageCollider(),this.playAnimation(this.getAnimationName(t),e,n,o))},e.prototype.playAnimation=function(t,e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),null!=this.skeleton.findAnimation(t)){i&&this.skeleton.setMix(this.skeleton.animation,t,.1);var o=this.skeleton.setAnimation(0,t,n);this.skeleton.timeScale=e,this.setTrackEntryEnvet(o,t)}},e.prototype.getAnimationName=function(t){return s.enemyState[t]},e.prototype.debugAnimationName=function(){for(var t=0,e=this.skeleton.skeletonData._skeletonCache.animations;t<e.length;t++){var n=e[t];console.log(n.name)}},e.prototype.setTrackEntryEnvet=function(t,e){null!=s.frameEvent_enemy[this.enemyName][e]&&this.skeleton.setTrackEventListener(t,this.enemyController[s.frameEvent_enemy[this.enemyName][e]].bind(this.enemyController))},e.prototype.setAnimationCompleteEvent_enemy1=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.get_hurt1:case s.enemyState.get_hurt2:t.enemyController.idle();break;case s.enemyState.knock_down:t.enemyController.getUp();break;case s.enemyState.get_up:case s.enemyState.attack:t.enemyController.idle()}})},e.prototype.setAnimationCompleteEvent_enemy2=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.get_hurt1:case s.enemyState.get_hurt2:t.enemyController.idle(!1);break;case s.enemyState.knock_down1:t.enemyController.knockDown2();break;case s.enemyState.knock_down2:t.enemyController.getUp();break;case s.enemyState.get_up:case s.enemyState.attack:t.enemyController.idle()}})},e.prototype.setAnimationCompleteEvent_ladyBug=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.Atk:t.enemyController.idle();break;case s.enemyState.Behit:break;case s.enemyState["Die-start"]:t.enemyController.die_middle();break;case s.enemyState.Die_end:t.enemyController.Destory()}})},e.prototype.setAnimationCompleteEvent_enemy29=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.Atk:case s.enemyState.Hit:t.enemyController.idle();break;case s.enemyState["Knock-up-start"]:t.enemyController.knockDownLoop();break;case s.enemyState["Knock-up-loop"]:t.enemyController.knockDownEnd();break;case s.enemyState["Knock-up-end"]:t.enemyController.getUp();break;case s.enemyState["Get-up"]:t.enemyController.idle();break;case s.enemyState.Die:t.enemyController.head_middle();break;case s.enemyState["Head-end"]:t.enemyController.Destroy()}})},e.prototype.setAnimationCompleteEvent_enemy10=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.attack:t.enemyController.hitComplete();break;case s.enemyState.skill2_start:t.enemyController.skill2Middle();break;case s.enemyState.skill2_end:t.enemyController.skill2EndComplete();break;case s.enemyState.skill1:t.enemyController.idle()}})},e.prototype.setAnimationCompleteEvent_bigSquid=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.Pre_Attack:t.enemyController.rush();break;case s.enemyState.Die1:t.enemyController.die_middle();break;case s.enemyState.Die3:t.enemyController.Destory()}})},e.prototype.setAnimationCompleteEvent_enemy39=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.Born:t.enemyController.bornComplete();break;case s.enemyState.Idle:case s.enemyState.Idle2:case s.enemyState.Idle3:t.enemyController.idleComplete();break;case s.enemyState.Jump_Back:case s.enemyState.Jump_FWD:case s.enemyState.Scratch:t.enemyController.attackComplete();break;case s.enemyState.Above1:t.enemyController.above1Complete();break;case s.enemyState.Above2:t.enemyController.above2Complete();break;case s.enemyState.Die3:t.enemyController.Destory();break;case s.enemyState.Staggered:t.enemyController.StaggeredReset()}})},e.prototype.setAnimationCompleteEvent_spiderling=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.Fall:t.enemyController.born();break;case s.enemyState.Born:t.enemyController.bornComplete();break;case s.enemyState.Knock_up1:t.enemyController.Knock_up2();break;case s.enemyState.Knock_up2:t.enemyController.Knock_up3();break;case s.enemyState.Knock_up3:t.enemyController.getUp();break;case s.enemyState.Get_Hit:if(t.state!=s.enemyState.Get_Hit)return;t.enemyController.idle();break;case s.enemyState.Get_up:t.enemyController.idle()}})},e.prototype.setAnimationCompleteEvent_shader=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.Atk:t.enemyController.idle();break;case s.enemyState["Skill-Start"]:case s.enemyState["Skill-Middle"]:t.enemyController.closeCollider();break;case s.enemyState["Skill-End"]:t.enemyController.idle()}})},e.prototype.setAnimationCompleteEvent_enemy20=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.get_hurt1:case s.enemyState.get_hurt2:t.enemyController.idle();break;case s.enemyState.knock_down1:t.enemyController.knockDown2();break;case s.enemyState.get_up:t.enemyController.idle(),t.scheduleOnce(function(){t.state==s.enemyState.idle&&t.enemyController.skill_start()},.5);break;case s.enemyState.fire_pillar:t.enemyController.skill_middle();break;case s.enemyState.fire_pillar3:case s.enemyState.teleport:t.enemyController.idle()}})},e.prototype.setAnimationCompleteEvent_enemy18=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.Atk:t.enemyController.idle()}})},e.prototype.setAnimationCompleteEvent_miniBoss=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.appear:t.enemyController.appearFinished();break;case s.enemyState.blink_start:t.enemyController.binkStartCompelete();break;case s.enemyState.blink_end:case s.enemyState.storm_burst:case s.enemyState.thunder_jolt:t.enemyController.idle();break;case s.enemyState.lighting_chase_start:t.enemyController.lighting_chase_middle();break;case s.enemyState.lighting_chase_end:case s.enemyState.call_of_lighting:case s.enemyState.laugh:t.enemyController.idle()}})},e.prototype.setAnimationCompleteEvent_miniBossFlag=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(s.enemyState[t.skeleton.animation]){case s.enemyState.appear:t.enemyController.appearFinished();break;case s.enemyState.die:t.enemyController.dieEnd()}})},a([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./animationState":"animationState"}],enemyBase:[function(t,e,n){"use strict";cc._RF.push(e,"adb3ap23ThHSafkgOKlkl0P","enemyBase");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.enemyAttribute=void 0;var s,r=t("../main/audioManager"),c=t("../sdk/data"),l=t("./GameManager"),_=cc._decorator,d=_.ccclass;_.property,function(t){t.hp="hp",t.damage="damage",t.dropCoinNumber="dropCoinNumber",t.isSuperArmor="isSuperArmor"}(s=n.enemyAttribute||(n.enemyAttribute={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hpMax=0,e.swordRainHitCd=.1,e.damage=0,e.isSuperArmor=!1,e.isWuDi=!1,e}return o(e,t),e.prototype.initData=function(){var t=Number(c.data.getCache("Base","choseLevel")),e=Number(c.data.getCache("levelStar",t.toString())),n=Number(c.data.gameJson("enemyHpTimes",e.toString())),i=Number(c.data.gameJson("enemyDamageTimes",e.toString()));this.swordRainHitCd=Number(c.data.gameJson("swordRainInterval")),this.hpMax=Number(c.data.gameJson("enemyData",this.node.name,s.hp)),this.damage=Number(c.data.gameJson("enemyData",this.node.name,s.damage)),this.isSuperArmor=c.data.gameJson("enemyData",this.node.name,s.isSuperArmor),this.hpMax*=n,this.damage*=i},e.prototype.dieCount=function(){l.default.instance.killEnemyCount()},e.prototype.playBeHitSound=function(t){this.isWuDi||r.default.playAudio(t)},a([d],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../main/audioManager":"audioManager","../sdk/data":"data","./GameManager":"GameManager"}],enemyDieEffect:[function(t,e,n){"use strict";cc._RF.push(e,"5f3ce52MshLyYdrlbm7o2pi","enemyDieEffect");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../caijiTools"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.force_x=1e4,e.force_y=17e3,e.animation=null,e}return o(e,t),e.prototype.onLoad=function(){this.animation=this.node.getComponent(cc.Animation)},e.prototype.start=function(){var t=this;this.play(),this.scheduleOnce(function(){t.node.destroy()},2)},e.prototype.play=function(){var t=0,e=0;this.node.children[0].angle=s.caijiTools.random_int(0,360),this.animation.play();for(var n=0,i=this.node.children[1].children;n<i.length;n++){var o=i[n];t=s.caijiTools.random_int(-50,50)/100,e=s.caijiTools.random_int(30,100)/100;var a=cc.v2(t,e).normalizeSelf(),r=o.getComponent(cc.RigidBody);r.applyAngularImpulse(s.caijiTools.random_int(-500,500),!1),r.applyForceToCenter(cc.v2(a.x*this.force_x,a.y*this.force_y),!0)}},a([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../caijiTools":"caijiTools"}],enemyHitCollider:[function(t,e,n){"use strict";cc._RF.push(e,"4228fWsEGBIiYISQtcKtF0Q","enemyHitCollider");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./animationState"),r=t("./playerController"),c=t("./ui/bossHp"),l=cc._decorator,_=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemyControl=null,e.player=null,e}return o(e,t),e.prototype.onDisable=function(){this.player=null},e.prototype.hit=function(t,e,n){void 0===n&&(n=!1),this.player&&this.player.getComponent(r.default).beHit(t,e,n)},e.prototype.onCollisionEnter=function(t){"player"==t.node.group&&(this.player=t.node,null!=this.enemyControl&&(this.enemyControl.node.name==c.bossName.enemy10?this.enemyControl.hit_rush():this.enemyControl.node.name==s.enemyName.bigSquid?this.enemyControl.hit():this.enemyControl.node.name==c.bossName.enemy39?this.enemyControl.laserHit():this.enemyControl.node.name==s.enemyName.enemy18&&this.enemyControl.hit()))},e.prototype.onCollisionExit=function(){this.player=null},a([_],e)}(cc.Component));n.default=d,cc._RF.pop()},{"./animationState":"animationState","./playerController":"playerController","./ui/bossHp":"bossHp"}],enemySpawn:[function(t,e,n){"use strict";cc._RF.push(e,"50b2bcGe+lFubTTFthSithz","enemySpawn");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c,l=t("../caijiTools"),_=t("../sdk/data"),d=t("./GameManager"),h=t("./spawnEnemy"),p=cc._decorator,u=p.ccclass;p.property,function(t){t.wave="wave",t.amount="amount",t.enemyNames="enemyNames"}(c||(c={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nowLevel=0,e.difficulty=0,e.levelData=null,e.waveInterval=0,e.wave=0,e.amount=0,e.enemyNames=[],e.spawnEnemyIntervalMin=.8,e.spawnEnemyIntervalMax=1.5,e.hadSpwanWave=0,e.hadSpwanAmount=0,e}return o(e,t),e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.init=function(){d.default.instance.enemySpawnM=this,this.nowLevel=Number(_.data.getCache("Base","choseLevel")),this.difficulty=Number(_.data.getCache("levelStar",this.nowLevel.toString())),this.waveInterval=Number(_.data.gameJson("waveInterval")),this.levelData=_.data.gameJson("levelData",this.nowLevel.toString()),this.wave=this.levelData.enemySpawn[c.wave],this.amount=this.levelData.enemySpawn[c.amount],this.enemyNames=this.levelData.enemySpawn[c.enemyNames],d.default.instance.needKillEnemyAmount=this.wave*this.amount[this.difficulty]},e.prototype.startSpwan=function(){var t=this;this.hadSpwanWave++,this.hadSpwanAmount=0,this.scheduleSpawn(),this.hadSpwanWave<this.wave&&this.scheduleOnce(function(){t.startSpwan()},this.waveInterval+1.5*this.amount[this.difficulty])},e.prototype.scheduleSpawn=function(){var t=this;this.hadSpwanAmount++,console.log(this.hadSpwanAmount,this.hadSpwanWave,this.wave);var e=this.enemyNames[l.caijiTools.random_int(0,this.enemyNames.length-1)];this.scheduleOnce(function(){t.spawnEnemy(e),t.hadSpwanAmount<t.amount[t.difficulty]&&t.scheduleSpawn()},l.caijiTools.random_int(50,120)/100)},e.prototype.spawnEnemy=function(t){return s(this,void 0,void 0,function(){var e,n,i;return r(this,function(o){switch(o.label){case 0:return[4,l.caijiTools.loadPrefab("prefabs/spawnEnemy")];case 1:return e=o.sent(),(n=l.caijiTools.createNode(e,this.node,!1)).setSiblingIndex(d.default.instance.player.getSiblingIndex()),n.getComponent(h.default).spawnEnemyName=t,(i=d.default.instance.player.x+l.caijiTools.random_int(-cc.winSize.width/2,cc.winSize.width/2))<-300?i=d.default.instance.player.x+l.caijiTools.random_int(0,cc.winSize.width/2):i>1600&&(i=d.default.instance.player.x+l.caijiTools.random_int(-cc.winSize.width/2,0)),n.setPosition(i,-177),n.active=!0,[2]}})})},a([u],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../caijiTools":"caijiTools","../sdk/data":"data","./GameManager":"GameManager","./spawnEnemy":"spawnEnemy"}],export_sdk:[function(t,e,n){"use strict";cc._RF.push(e,"75e8aIgoh1OSp7kQoP30AQL","export_sdk"),Object.defineProperty(n,"__esModule",{value:!0}),n.Export=void 0;var i=t("../syyx_sdk/syyx_sdk_api"),o=function(){function t(){}return t.preload_YSAD=function(t){console.log("preload_YSAD----------------");var e=i.syyx_sdk_api.get_business_data_by_key("native_banner_open_switch");e&&(1==e[0]?i.syyx_sdk_api.preload_native_inner_interstitial(t,function(t,e){console.log("igc-----show show_native on_load-----------------111:"+JSON.stringify(e))},function(){console.log("igc-----show show_native onShow")},function(){},function(t,e){console.log("\u9884\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u5931\u8d25:"+JSON.stringify(e))}):console.log("preload_YSAD----------------no open"))},t.show_video=function(t,e){var n=i.syyx_sdk_api.get_business_data_by_key("video_open_switch");n&&1==n[0]?i.syyx_sdk_api.show_video("10200001",function(){console.log("igc-----show show_video on_load")},function(){console.log("igc-----show show_video onShow")},function(n,o){console.log("igc-----show show_video onClose:"+JSON.stringify(o)),o.isEnded?(console.log("igc---\u89c6\u9891\u5df2\u770b\u5b8c\u53d1\u653e\u5956\u52b1--\u9700\u8981\u53d1\u5956\u52b1"),t&&t()):(console.log("igc---\u89c6\u9891\u672a\u770b\u5b8c"),i.syyx_sdk_api.create_toast("\u89c6\u9891\u672a\u770b\u5b8c"),e&&e())},function(t,e){console.log("igc-----show show_video onError:"+JSON.stringify(e))},!0):console.log("igc---video --------no open")},t.show_native_YSAD=function(t,e,n){var o=i.syyx_sdk_api.get_business_data_by_key("native_inner_interstitial_switch");o&&1==o[0]&&(i.syyx_sdk_api.get_local_native_data(t)?(console.log("igc-----\u52a0\u8f7d\u5230\u539f\u751f\u6570\u636e  \u53ef\u4ee5\u5c55\u793a------"),i.syyx_sdk_api.show_native_inner_interstitial(t,cc.find(e),function(){},function(){console.log("igc----- \u7ed3\u7b97\u539f\u751f\u5df2\u663e\u793a------"),n&&n()},function(){console.log("igc----- \u7ed3\u7b97\u539f\u751f\u9690\u85cf")})):console.log("igc-----\u672a\u52a0\u8f7d\u5230\u539f\u751f\u6570\u636e \u4e0d\u5c55\u793a\u7ed3\u7b97\u539f\u751f-------"))},t.click_native_YSAD=function(t){"YSBN"==t?i.syyx_sdk_api.click_native_banner():i.syyx_sdk_api.click_native_inner_interstitial()},t.hide_naive_YSAD=function(t){i.syyx_sdk_api.hide_native_inner_interstitial(),i.syyx_sdk_api.hide_native_banner(),"YSBN"==t?this.preload_YSAD("10304001"):this.preload_YSAD("10302001")},t}();n.Export=o,cc._RF.pop()},{"../syyx_sdk/syyx_sdk_api":"syyx_sdk_api"}],firePillarCollider:[function(t,e,n){"use strict";cc._RF.push(e,"ca9d7SQpQBO0YLL7wMxolKH","firePillarCollider");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../audioNameMgr"),r=t("../main/audioManager"),c=t("./enemyHitCollider"),l=cc._decorator,_=l.ccclass,d=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fireSmoke1=null,e.fireSmoke2=null,e.damage=0,e.interval=.3,e.enemyHitCollider=null,e.isStay=!1,e}return o(e,t),e.prototype.onLoad=function(){this.enemyHitCollider=this.node.getComponent(c.default)},e.prototype.start=function(){var t=this;r.default.playAudio(s.audioName.E20FirePillar,!1,.5),this.scheduleOnce(function(){t.fireSmoke2.active=!0},.23),this.scheduleOnce(function(){t.fireSmoke1.getComponent(cc.Animation).stop(),t.fireSmoke2.getComponent(cc.Animation).stop(),cc.tween(t.fireSmoke1).to(.1,{opacity:0}).start(),cc.tween(t.fireSmoke2).to(.1,{opacity:0}).start(),t.node.getComponent(cc.BoxCollider).enabled=!1},4),this.scheduleOnce(function(){t.node.children[1].active=!0,t.node.children[0].active=!1,t.node.getComponent(cc.BoxCollider).enabled=!0},.8)},e.prototype.hit=function(){var t=this;this.enemyHitCollider.hit(this.node,this.damage),this.scheduleOnce(function(){t.isStay&&t.hit()},this.interval)},e.prototype.onCollisionEnter=function(){var t=this;this.isStay=!0,this.scheduleOnce(function(){t.hit()},0)},e.prototype.onCollisionExit=function(){this.isStay=!1},a([d(cc.Node)],e.prototype,"fireSmoke1",void 0),a([d(cc.Node)],e.prototype,"fireSmoke2",void 0),a([_],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../main/audioManager":"audioManager","./enemyHitCollider":"enemyHitCollider"}],httputils:[function(t,e){"use strict";cc._RF.push(e,"c606dYj5MlEIIf1EFZ8BrCH","httputils");var n={http_request_wx:function(t,e,n,i,o,a,s){wx.request({url:e,method:t,data:i,header:n,success:function(t){console.log(" console.log(res.header);"),console.log(t.s),console.log(t.data),s?a.call(s,t.statusCode,t.data):a(t.statusCode,t.data)},fail:function(t){console.log("http_request_wx fail",t),t&&t.statusCode&&304===t.statusCode?s?a.call(s,t.statusCode,t.data):a(t.statusCode,t.data):s?a.call(s,-1,null):a(-1,null)}})},http_request_qq_new:function(t,e,n,i,o,a,s){qq.request({url:e,method:t,data:i,header:n,success:function(t){console.log(" console.log(res.header);"),console.log(t.s),console.log(t.data),s?a.call(s,t.statusCode,t.data):a(t.statusCode,t.data)},fail:function(t){console.log("http_request_qq fail",t),t&&t.statusCode&&304===t.statusCode?s?a.call(s,t.statusCode,t.data):a(t.statusCode,t.data):s?a.call(s,-1,null):a(-1,null)}})},http_request_qq:function(t,e,n,i,o,a,s){console.log("http_request_qq:",t,e,n,i),BK.Http.request({url:e,method:t,headers:n,body:i,success:function(t){console.log("statusCode",JSON.stringify(t),t.statusCode),s?a.call(s,t.statusCode,t.jsonObject()):a(t.statusCode,t.jsonObject())},fail:function(t){console.log("http_request_qq fail",t.msg),res&&res.statusCode&&304===res.statusCode?s?a.call(s,res.statusCode,res.data):a(res.statusCode,res.data):s?a.call(s,-1,null):a(-1,null)},complete:function(){console.log("http_request_qq complete")},uploadProgress:function(t,e){console.log("http_request_qq upload progress",t/e)},downloadProgress:function(t,e){console.log("http_request_qq download progress",t/e)}}),console.log("http_request_qq finished:",s)},http_request:function(t,e,n,i,o,a,s){if(a){var r=new XMLHttpRequest;if(r.onreadystatechange=function(){var t;4==r.readyState&&(o?200==this.status&&((t=new ByteBuffer(r.response.length,!1)).writeBytes(r.response,"binary"),t=t.view):t=r.responseText,s?a.call(s,r.status,t):a(r.status,t))},r.open(t,e,!0),null!=n)for(var c in n)r.setRequestHeader(c,n[c]);if(null!=o&&o&&(r.responseType="arraybuffer"),i){var l=i;r.send(l)}else r.send()}},decode:function(t){var e,n,i,o,a,s,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=new Array,l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)(e=r.indexOf(t.charAt(l++))<<2|(o=r.indexOf(t.charAt(l++)))>>4)>128&&(e-=256),(n=(15&o)<<4|(a=r.indexOf(t.charAt(l++)))>>2)>128&&(n-=256),(i=(3&a)<<6|(s=r.indexOf(t.charAt(l++))))>128&&(i-=256),c.push(e),64!=a&&c.push(n),64!=s&&c.push(i);return c}};window.HttpUtils=n,cc._RF.pop()},{}],initLoading:[function(t,e,n){"use strict";cc._RF.push(e,"2ad15n162lFCLXoodReaQy3","initLoading");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../syyx_sdk/export_sdk"),r=t("../syyx_sdk/syyx_sdk_api"),c=t("./caijiTools"),l=t("./sdk/ad"),_=t("./sdk/data"),d=cc._decorator,h=d.ccclass,p=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.successNum=0,e.bundleName=["game","sp_enemy","sp_others","sounds"],e.actionTime=1,e.version="1.0.1",e}return o(e,t),e.prototype.start=function(){var t=this;_.data.init(!1).then(function(){t.addNewData()}),l.ad.init(!1),this.loadBundle(),this.initSDK()},e.prototype.initSDK=function(){console.log("init SDK...."),r.syyx_sdk_api.init(function(t,e){!0===t&&(e.load_init_complete,e.load_local_complete&&setTimeout(function(){s.Export.preload_YSAD("10304001")},600),e.load_remote_complete&&console.log("sdk-----business_config data:"+JSON.stringify(e.business_config)))}.bind(this))},e.prototype.unlockAllLevel=function(){for(var t=0;t<20;t++)_.data.updateCache("levelUnlock",t.toString(),1)},e.prototype.loadBundle=function(){for(var t=this,e=this,n=0,i=this.bundleName;n<i.length;n++){var o=i[n];c.caijiTools.loadBundlePackage(o,function(){e.successNum++,e.successNum==e.bundleName.length&&(cc.director.getTotalTime()<1e3?t.scheduleOnce(function(){t.enterMain()},.5):t.enterMain())})}},e.prototype.enterMain=function(){for(var t=0,e=this.node.children;t<e.length;t++){var n=e[t];0!=n.childrenCount&&cc.tween(n.children[0]).to(this.actionTime,{color:cc.color(0,0,0)}).start(),cc.tween(n).to(this.actionTime,{color:cc.color(0,0,0)}).start()}this.scheduleOnce(function(){cc.director.loadScene("main")},this.actionTime)},e.prototype.addNewData=function(){_.data.getCache("Base","version")!=this.version&&_.data.updateCache("Base","version",this.version)},a([h],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../syyx_sdk/export_sdk":"export_sdk","../syyx_sdk/syyx_sdk_api":"syyx_sdk_api","./caijiTools":"caijiTools","./sdk/ad":"ad","./sdk/data":"data"}],ladyBugFx:[function(t,e,n){"use strict";cc._RF.push(e,"25086OybqJGWJ4DaXZ8IcjK","ladyBugFx");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../caijiTools"),l=t("./GameManager"),_=t("./playerController"),d=cc._decorator,h=d.ccclass,p=d.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.liquidParticle=null,e.speedX=0,e.speedY=0,e.damage=0,e.isRightMove=!1,e.isCollide=!1,e.rigibody=null,e}return o(e,t),e.prototype.onLoad=function(){this.rigibody=this.node.getComponent(cc.RigidBody)},e.prototype.start=function(){Math.abs(this.node.y-l.default.instance.player.y),this.speedY;var t=Math.abs(this.node.x-l.default.instance.player.x);this.speedX=3*t,this.speedX=1==this.isRightMove?this.speedX:-this.speedX,this.liquidParticle.angle=1==this.isRightMove?-30:-150,this.rigibody.linearVelocity=cc.v2(this.speedX,0)},e.prototype.hit=function(t){this.createSmoke(),t.getComponent(_.default).beHit(this.node,this.damage)},e.prototype.onBeginContact=function(t,e,n){if(!this.isCollide){var i=n.node;"ground"==i.group?this.createSmoke():"player"==i.group&&this.hit(i)}},e.prototype.createSmoke=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return this.isCollide=!0,[4,c.caijiTools.loadPrefab("prefabs/ladyBugSmoke")];case 1:return t=n.sent(),(e=c.caijiTools.createNode(t,this.node.parent)).setPosition(this.node.position),e.active=!0,this.node.destroy(),[2]}})})},a([p(cc.ParticleSystem)],e.prototype,"liquidParticle",void 0),a([h],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../caijiTools":"caijiTools","./GameManager":"GameManager","./playerController":"playerController"}],ladyBug:[function(t,e,n){"use strict";cc._RF.push(e,"e055666c3FBwKvInY3xe1FC","ladyBug");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c,l=t("../audioNameMgr"),_=t("../caijiTools"),d=t("../main/audioManager"),h=t("./animationState"),p=t("./enemyAnimation"),u=t("./enemyBase"),y=t("./Events"),f=t("./GameManager"),g=t("./ladyBugFx"),m=cc._decorator,v=m.ccclass,b=m.property;(function(t){t[t.attack=0]="attack"})(c||(c={}));var k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.hpNode=null,e.hpBar=null,e.dieEffectName="",e.moveSpeed=300,e.nowSpeed=0,e.AI_interval=1,e.stopDistance=250,e.stopDistance_y=200,e.hp=0,e.hpTimes=1,e.beHitForce_y=0,e.beHitForce_x=0,e.beHitForce_y_shuriken=0,e.beHitForce_x_attack3=0,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isSuperArmor=!1,e.isMove=!1,e.dmgCollider=null,e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(p.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.initData(),this.hp=this.hpMax*this.hpTimes;var t=f.default.instance.player.x+_.caijiTools.random_int(-cc.winSize.width/2,cc.winSize.width/2),e=cc.winSize.height/2+_.caijiTools.random_int(30,100);this.node.setPosition(t,e),this.AI_start()},e.prototype.update=function(){var t=this;if(0!=this.isMove){var e=this.getDistance();if(Math.abs(e)<this.stopDistance)if(this.rigibody.linearVelocity=cc.v2(0,0),this.changeMovState(!1),Math.abs(this.getDistanceX())<50){var n=this.skeleton.node.scaleX>0?-100:100;cc.tween(this.node).by(.5,{x:n}).call(function(){t.hit()}).start()}else this.hit();else{if(this.enemyAnimation.state==h.enemyState.Atk)return;this.moveToPlayer()}}},e.prototype.onBeginContact=function(t,e,n){var i=n.node;"ground"==i.group?(this.rigibody.enabledContactListener=!1,this.die_end()):"wall"==i.group&&(t.disabled=!0)},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;if(f.default.instance.playerController.isDie)this.scheduleOnce(function(){t.AI_start()},1);else if(Math.abs(this.getDistance())<this.stopDistance+50)if(Math.abs(this.getDistanceX())<50){var e=this.skeleton.node.scaleX>0?-150:150;cc.tween(this.node).by(.5,{x:e}).call(function(){t.hit()}).start()}else{var n=this.skeleton.node.scaleX<0?f.default.instance.player.x-_.caijiTools.random_int(150,400):f.default.instance.player.x+_.caijiTools.random_int(100,300),i=f.default.instance.player.y+_.caijiTools.random_int(150,400),o=cc.v3(n,i).sub(this.node.position).len();cc.tween(this.node).to(o/300,{position:cc.v3(n,i)}).call(function(){t.hit()}).start()}else this.changeStopDistanceY(),this.changeMovState(!0),this.changeDirection()},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeStopDistanceY=function(){this.stopDistance_y=_.caijiTools.random_int(200,250)},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(){var t=this;this.changeMovState(!1),this.changeDirection(),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(h.enemyState.Idle,1,!0,!0),this.scheduleOnce(function(){t.AI_start()},this.AI_interval)},e.prototype.changeDirection=function(){this.skeleton.node.scaleX=f.default.instance.player.x>this.node.x?-this.scaleX_skeleton:this.scaleX_skeleton},e.prototype.die=function(){this.isDie||(this.unscheduleAllCallbacks(),cc.Tween.stopAllByTarget(this.node),this.closeHighLight(),this.isDie=!0,this.hideHp(),this.enemyAnimation.changeState(h.enemyState["Die-start"],1,!1),this.dieCount())},e.prototype.die_middle=function(){this.rigibody.gravityScale=5,this.rigibody.linearVelocity=cc.v2(0,-1300)},e.prototype.die_end=function(){this.enemyAnimation.changeState(h.enemyState.Die_end,1,!1)},e.prototype.Destory=function(){this.node.destroy()},e.prototype.getUp=function(){this.enemyAnimation.changeState(h.enemyState.get_up,1,!1,!0)},e.prototype.moveToPlayer=function(){this.changeDirection();var t=f.default.instance.player.position.sub(this.node.position).normalizeSelf();t.y=this.getDistanceY()<=this.stopDistance_y?0:t.y,this.rigibody.linearVelocity=cc.v2(this.moveSpeed*t.x,this.moveSpeed*t.y)},e.prototype.hit=function(){h.enemyState[this.enemyAnimation.state].includes("get_hurt")||(this.changeDirection(),this.changeMovState(!1),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(h.enemyState.Atk,1,!1))},e.prototype.fire=function(t,e){"Fire"==e.data.name&&this.createFX()},e.prototype.createFX=function(){return s(this,void 0,void 0,function(){var t,e,n,i;return r(this,function(o){switch(o.label){case 0:return d.default.playAudio(l.audioName.E24_Shoot),t=this.skeleton.node.scaleX>0?this.node.x-40:this.node.x+40,e=this.node.y-40,[4,_.caijiTools.loadPrefab("prefabs/ladyBugFX")];case 1:return n=o.sent(),(i=_.caijiTools.createNode(n,this.node.parent)).setSiblingIndex(this.node.getSiblingIndex()+1),i.setPosition(t,e),i.getComponent(g.default).isRightMove=!(this.skeleton.node.scaleX>0),i.getComponent(g.default).damage=this.damage,i.active=!0,[2]}})})},e.prototype.beHit=function(t,e){this.changeMovState(!1),this.setRigibodySpeed(0),this.highLight(),this.showHp(),this.changeState_beHit(e);var n=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;y.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.updateHp(t),this.hp<=0&&y.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i))},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==h.attackType.attack3;switch(t){case h.attackType.attack1:n=h.enemyState.get_hurt2,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.attack2:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=h.enemyState.knock_down,this.node.x<f.default.instance.player.x&&f.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>f.default.instance.player.x&&f.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case h.attackType.jumpHit:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case h.attackType.shuriken:n=h.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case h.attackType.swordRain:n=h.enemyState.get_hurt1}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==h.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.updateHp=function(t){this.hp-=t,this.hpBar.progress=this.hp/this.hpMax,this.hp<=0&&(this.hp=0,this.die())},e.prototype.showHp=function(){this.unschedule(this.hideHp),this.hpNode.active=!0,this.scheduleOnce(this.hideHp,2)},e.prototype.hideHp=function(){this.hpNode.active=!1},e.prototype.highLight=function(){this.unschedule(this.closeHighLight),this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),this.scheduleOnce(this.closeHighLight,.15)},e.prototype.closeHighLight=function(){this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistance=function(){return this.node.position.sub(f.default.instance.player.position).len()},e.prototype.getDistanceX=function(){return this.node.x-f.default.instance.player.x},e.prototype.getDistanceY=function(){return Math.abs(this.node.y-f.default.instance.player.y)},a([b({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([b({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([b(cc.Node)],e.prototype,"hpNode",void 0),a([b(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([b(cc.String)],e.prototype,"dieEffectName",void 0),a([v],e)}(u.default);n.default=k,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../main/audioManager":"audioManager","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./ladyBugFx":"ladyBugFx"}],levelInit:[function(t,e,n){"use strict";cc._RF.push(e,"aa2170aQm5NArAIpoFbEq0N","levelInit");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./cameraControl"),r=cc._decorator,c=r.ccclass,l=r.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgLayers=[],e.cameraNode=null,e}return o(e,t),e.prototype.onLoad=function(){this.cameraNode=s.default.instance.cameraNode},e.prototype.start=function(){},e.prototype.update=function(){this.bgLayers[0].x=.8*this.cameraNode.position.x,this.bgLayers[1].x=.75*this.cameraNode.position.x,this.bgLayers[2].x=.62*this.cameraNode.position.x,4==this.bgLayers.length&&(this.bgLayers[3].x=.56*this.cameraNode.position.x)},a([l(cc.Node)],e.prototype,"bgLayers",void 0),a([c],e)}(cc.Component);n.default=_,cc._RF.pop()},{"./cameraControl":"cameraControl"}],levelItem:[function(t,e,n){"use strict";cc._RF.push(e,"42340IEHFFFwa5Q6nUxcL07","levelItem");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../caijiTools"),l=t("../sdk/data"),_=t("./mainMenu"),d=cc._decorator,h=d.ccclass,p=d.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starSpr=null,e.levelSpr=null,e.levellab=null,e.level=0,e}return o(e,t),e.prototype.start=function(){this.init()},e.prototype.init=function(){this.level=Number(this.node.name);var t=l.data.getCache("levelUnlock")[this.level-1];this.node.getComponent(cc.Button).interactable=t,this.node.getChildByName("lock").active=!t,this.updateLevel(),this.updateStar()},e.prototype.updateLevel=function(){return s(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:return[4,c.caijiTools.loadSpriteFrame("choseLevel/level"+this.node.name)];case 1:return t=e.sent(),this.levelSpr.getComponent(cc.Sprite).spriteFrame=t,this.levellab.string=this.toChinesNum(this.level),[2]}})})},e.prototype.toChinesNum=function(t){var e=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"],n=["","\u5341","\u767e","\u5343","\u4e07"];t=parseInt(t);var i=function(t){var i=t.toString().split("").reverse(),o="",a=[];i.forEach(function(t,i){a.unshift("0"===t?e[t]:e[t]+n[i])});var s=[];return a.forEach(function(t,e){"\u96f6"!==t&&s.push(e)}),a.length>1?a.forEach(function(t,e){"\u96f6"===a[a.length-1]?e<=s[s.length-1]&&(o+=t):o+=t}):o=a[0],o},o=Math.floor(t/1e4),a=t%1e4;return o?i(o)+"\u4e07"+i(a):i(t)},e.prototype.updateStar=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return t=l.data.getCache("levelStar")[this.level],[4,c.caijiTools.loadSpriteFrame("choseLevel/star"+t)];case 1:return e=n.sent(),this.starSpr.getComponent(cc.Sprite).spriteFrame=e,[2]}})})},e.prototype.chose=function(){l.data.updateCache("Base","choseLevel",this.node.name),_.default.ins.maskAction_go()},a([p(cc.Sprite)],e.prototype,"starSpr",void 0),a([p(cc.Sprite)],e.prototype,"levelSpr",void 0),a([p(cc.Label)],e.prototype,"levellab",void 0),a([h],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../caijiTools":"caijiTools","../sdk/data":"data","./mainMenu":"mainMenu"}],losePanel:[function(t,e,n){"use strict";cc._RF.push(e,"850f224PuZAba6r+xv96GbT","losePanel");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../syyx_sdk/export_sdk"),r=t("../../sdk/ad"),c=t("../../uiBase"),l=t("../GameManager"),_=cc._decorator,d=_.ccclass,h=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onNewBackHomeClick=!0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){this.initUi()},e.prototype.start=function(){},e.prototype.onEnable=function(){this.showRet()},e.prototype.share=function(){var t=this;r.ad.video_show().then(function(e){e&&(s.Export.hide_naive_YSAD("YSBN"),t.node.destroy(),l.default.instance.playerController.revive())})},e.prototype.subgiveUp=function(){cc.Tween.stopAll(),cc.director.loadScene("main")},e.prototype.showRet=function(){this.onNewBackHomeClick=!0,n.native_have_show=!1,setTimeout(function(){s.Export.show_native_YSAD("10304001","Canvas/ui/losePanel/fail_parent",function(){n.native_have_show=!0})},400)},e.prototype.giveUp=function(){this.onNewBackHomeClick&&n.native_have_show?(this.onNewBackHomeClick=!1,s.Export.click_native_YSAD("YSBN")):(this.onNewBackHomeClick=!0,n.native_have_show=!1,s.Export.hide_naive_YSAD("YSBN"),this.subgiveUp())},e.native_have_show=!1,n=a([d],e)}(c.default));n.default=h,cc._RF.pop()},{"../../../syyx_sdk/export_sdk":"export_sdk","../../sdk/ad":"ad","../../uiBase":"uiBase","../GameManager":"GameManager"}],mEventMgr:[function(t,e,n){"use strict";cc._RF.push(e,"bc5a2yLCYdAIr02rKaNGft3","mEventMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.mEMgr=void 0;var i=t("./mEvent"),o="mEventMgr.ts",a=function(){function t(){this._eventList=null,this._eventList=new Map}return t.getInstance=function(){return null==t._Instance&&(t._Instance=new t),t._Instance},t.prototype.on=function(t,e,n){var a=this._eventList.get(t);if(a)for(var s=0;s<a.length;s++){var r=a[s];if(r.callback===e&&r.target===n)return void console.log(o,"\u5df2\u5b58\u5728\u76f8\u540c\u7684\u76d1\u542c\u4e8b\u4ef6")}else a=new Array;var c=new i.default;c.name=t,c.callback=e,c.target=n,a.push(c),this._eventList.set(t,a)},t.prototype.off=function(t,e,n){var i=this._eventList.get(t);if(i)for(var a=i.length-1;a>=0;a--){var s=i[a];s.callback===e&&s.target===n&&(i.splice(a,1),console.log("release event:"+t))}else console.log(o,"\u4e8b\u4ef6\u961f\u5217\u4e3a\u7a7a")},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this._eventList.get(t);if(i)for(var a=i.length-1;a>=0;a--){var s=i[a];s.callback&&s.target&&s.callback.apply(s.target,e)}else console.log(o,"\u6ca1\u6709\u76f8\u5173\u76d1\u542c\u4e8b\u4ef6:"+t)},t._Instance=null,t}();n.mEMgr=a.getInstance(),cc._RF.pop()},{"./mEvent":"mEvent"}],mEvent:[function(t,e,n){"use strict";cc._RF.push(e,"cb57f2/+g9OQbh9Ml1nBxYQ","mEvent"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(t,e,n){this.name=t,this.callback=e,this.target=n},cc._RF.pop()},{}],mainMenu:[function(t,e,n){"use strict";cc._RF.push(e,"11723XeRwBAgZXm1L5OcCA9","mainMenu");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../syyx_sdk/export_sdk"),l=t("../../syyx_sdk/syyx_sdk_api"),_=t("../Msg"),d=t("../UIPrivacy"),h=t("../audioNameMgr"),p=t("../caijiTools"),u=t("../sdk/ad"),y=t("../sdk/data"),f=t("../uiBase"),g=t("./UiSign"),m=t("./audioManager"),v=cc._decorator,b=v.ccclass,k=v.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask_go=null,e.mask_enter=null,e.coinLabel=null,e.BtnDesktop=null,e.onNewBackHomeClick=!0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.ins=this},e.prototype.start=function(){this.init()},e.prototype.init=function(){var t=this;this.maskAction_enter(),this.updateCoin(this.coinLabel),this.onNewBackHomeClick=!0,n.native_have_show=!1,y.data.getPrivacyOn()?this.showOnece():d.default.ShowPanel(function(){t.showOnece()}),n.isCkeck(this.BtnDesktop)},e.prototype.showPrivacy=function(){d.default.ShowPanel()},e.prototype.maskAction_go=function(){this.mask_go.x=cc.winSize.width/2,this.mask_go.width=cc.winSize.width+1064,this.mask_go.active=!0;var t=this.mask_go.scaleX*this.mask_go.width;cc.tween(this.mask_go).by(.6,{x:-t}).call(function(){cc.director.loadScene("game")}).start()},e.prototype.maskAction_enter=function(){this.mask_enter.x=-cc.winSize.width/2,this.mask_enter.width=cc.winSize.width+1064,this.mask_enter.active=!0;var t=this.mask_enter.scaleX*this.mask_enter.width;cc.tween(this.mask_enter).by(.6,{x:t}).start()},e.prototype.openUpgradePanel=function(){return s(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,p.caijiTools.showPopup(f.uiName.upgradePanel,this.node)];case 1:return t.sent().setSiblingIndex(this.node.childrenCount-3),[2]}})})},e.prototype.openSignInPanel=function(){return s(this,void 0,void 0,function(){var t=this;return r(this,function(){return c.Export.hide_naive_YSAD("YSBN"),g.default.ShowPanel(function(){t.updateCoin(t.coinLabel),n.showAd()}),[2]})})},e.prototype.choseLevel=function(){return s(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,p.caijiTools.showPopup(f.uiName.choseLevelPanel,this.node)];case 1:return t.sent().setSiblingIndex(this.node.childrenCount-3),[2]}})})},e.prototype.substartGame=function(){this.maskAction_go();for(var t=y.data.getCache("levelUnlock"),e=0;e<t.length;e++)if(0==t[e]){e>=16?y.data.updateCache("Base","choseLevel",15):y.data.updateCache("Base","choseLevel",e);break}},e.prototype.startGame=function(){this.onNewBackHomeClick&&n.native_have_show?(this.onNewBackHomeClick=!1,c.Export.click_native_YSAD("YSBN")):(this.onNewBackHomeClick=!0,n.native_have_show=!1,c.Export.hide_naive_YSAD("YSBN"),cc.log("-----------\u5f00\u59cb\u6e38\u620f-------------"),this.substartGame())},e.prototype.updateCoin=function(t){var e=Number(y.data.getCache("Base","coin"));t.string=e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()},e.prototype.watchAdGetCoin=function(){var t=this;u.ad.video_show().then(function(e){if(e){m.default.playAudio(h.audioName.getCoin);var n=Number(y.data.getCache("Base","coin"))+500;y.data.updateCache("Base","coin",n),t.updateCoin(t.coinLabel)}})},e.prototype.checkTodayDate=function(){var t=new Date;if(t.toLocaleDateString()!=y.data.getCache("Base","todayDate")){Number(y.data.getCache("Base","power")),y.data.updateCache("Base","todayDate",t.toLocaleDateString()),y.data.updateCache("Base","isGetDailyReward",0),y.data.updateCache("Base","isGetLoginReward",0);var e=Number(y.data.getCache("Base","loginDays"));e>=7&&(e=0),y.data.updateCache("Base","loginDays",e),this.checkHadSign()}else this.checkHadSign()},e.prototype.checkHadSign=function(){0==Number(y.data.getCache("Base","isGetDailyReward"))&&this.openSignInPanel()},e.prototype._checkCanBonus=function(){var t=Number(y.data.getCache("Base","isGetDailyReward"));return cc.log("_checkCanBonus isReward:",t),0==t},e.showAd=function(){setTimeout(function(){c.Export.show_native_YSAD("10304001","Canvas/fail_parent",function(){n.native_have_show=!0})},400)},e.prototype.showOnece=function(){var t=this;0==y.data.getSignOnceOn()&&this._checkCanBonus()?(g.default.ShowPanel(function(){t.updateCoin(t.coinLabel),n.showAd()}),y.data.setSignOnceOn(!0)):n.showAd()},e.isCkeck=function(t){t&&l.syyx_sdk_api.check_is_add_desktop(function(){t.active=!0},function(){t.active=!1})},e.prototype.show_game_portal_box=function(){l.syyx_sdk_api.show_game_portal_box("10600003",null,null,null,function(){_.default.Show("\u8bf7\u52ff\u9891\u7e41\u70b9\u51fb")})},e.prototype.showDesktop=function(){n.addDesktop(this.BtnDesktop)},e.addDesktop=function(t){var e=function(){l.syyx_sdk_api.check_is_add_desktop(function(){console.log("\u70b9\u51fb\u4e86\u53d6\u6d88\u6dfb\u52a0\u684c\u9762\u56fe\u6807")},function(){t.active=!1,console.log("\u6dfb\u52a0\u684c\u9762\u56fe\u6807\u6210\u529f")})},n=function(){console.log("\u4e0d\u80fd\u6dfb\u52a0\u684c\u9762"),_.default.Show("\u8bf7\u52ff\u9891\u7e41\u70b9\u51fb")},i=function(){console.log("\u5f39\u51fa\u6dfb\u52a0\u684c\u9762\u5931\u8d25"),_.default.Show("\u8bf7\u52ff\u9891\u7e41\u70b9\u51fb")},o=function(){t.active=!1};l.syyx_sdk_api.check_is_add_desktop(function(){l.syyx_sdk_api.add_desktop(e,n,i,o)},function(){t.active=!1})},e.ins=null,e.native_have_show=!1,a([k(cc.Node)],e.prototype,"mask_go",void 0),a([k(cc.Node)],e.prototype,"mask_enter",void 0),a([k(cc.Label)],e.prototype,"coinLabel",void 0),a([k(cc.Node)],e.prototype,"BtnDesktop",void 0),n=a([b],e)}(cc.Component);n.default=w,cc._RF.pop()},{"../../syyx_sdk/export_sdk":"export_sdk","../../syyx_sdk/syyx_sdk_api":"syyx_sdk_api","../Msg":"Msg","../UIPrivacy":"UIPrivacy","../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../sdk/ad":"ad","../sdk/data":"data","../uiBase":"uiBase","./UiSign":"UiSign","./audioManager":"audioManager"}],md5:[function(t,e){"use strict";cc._RF.push(e,"f24edcNJ/RFR63miKZCkVWa","md5"),window.md5=function(t){function e(t,e,n){return t&e|~t&n}function n(t,e,n){return n&t|~n&e}function i(t,e,n){return t^e^n}function o(t,e,n){return e^(t|~n)}function a(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function s(t){for(var e=[],n=0;n<t.length;n++)if(t.charCodeAt(n)<=127)e.push(t.charCodeAt(n));else for(var i=encodeURIComponent(t.charAt(n)).substr(1).split("%"),o=0;o<i.length;o++)e.push(parseInt(i[o],16));return e}function r(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}var c=null,l=null;function _(t,e){return 4294967295&t+e}return"string"==typeof t?c=s(t):t.constructor==Array?0===t.length?c=t:"string"==typeof t[0]?c=function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(s(t[n]));return e}(t):"number"==typeof t[0]?c=t:l=typeof t[0]:"undefined"!=typeof ArrayBuffer?t instanceof ArrayBuffer?c=r(new Uint8Array(t)):t instanceof Uint8Array||t instanceof Int8Array?c=r(t):t instanceof Uint32Array||t instanceof Int32Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Float32Array||t instanceof Float64Array?c=r(new Uint8Array(t.buffer)):l=typeof t:l=typeof t,l&&alert("MD5 type mismatch, cannot process "+l),function(){function t(t,e,n,i){var o=m;m=g,f=_(g=f,function(t){return t<<i&4294967295|t>>>32-i}(_(y,_(t,_(e,n))))),y=o}var s=c.length;c.push(128);var r=c.length%64;if(56<r){for(var l=0;l<64-r;l++)c.push(0);r=c.length%64}for(l=0;l<56-r;l++)c.push(0);c=c.concat(function(t){for(var e=[],n=0;n<8;n++)e.push(255&t),t>>>=8;return e}(8*s));var d=1732584193,h=4023233417,p=2562383102,u=271733878,y=0,f=0,g=0,m=0;for(l=0;l<c.length/64;l++){y=d;var v=64*l;t(e(f=h,g=p,m=u),3614090360,a(c,v),7),t(e(f,g,m),3905402710,a(c,4+v),12),t(e(f,g,m),606105819,a(c,8+v),17),t(e(f,g,m),3250441966,a(c,12+v),22),t(e(f,g,m),4118548399,a(c,16+v),7),t(e(f,g,m),1200080426,a(c,20+v),12),t(e(f,g,m),2821735955,a(c,24+v),17),t(e(f,g,m),4249261313,a(c,28+v),22),t(e(f,g,m),1770035416,a(c,32+v),7),t(e(f,g,m),2336552879,a(c,36+v),12),t(e(f,g,m),4294925233,a(c,40+v),17),t(e(f,g,m),2304563134,a(c,44+v),22),t(e(f,g,m),1804603682,a(c,48+v),7),t(e(f,g,m),4254626195,a(c,52+v),12),t(e(f,g,m),2792965006,a(c,56+v),17),t(e(f,g,m),1236535329,a(c,60+v),22),t(n(f,g,m),4129170786,a(c,4+v),5),t(n(f,g,m),3225465664,a(c,24+v),9),t(n(f,g,m),643717713,a(c,44+v),14),t(n(f,g,m),3921069994,a(c,v),20),t(n(f,g,m),3593408605,a(c,20+v),5),t(n(f,g,m),38016083,a(c,40+v),9),t(n(f,g,m),3634488961,a(c,60+v),14),t(n(f,g,m),3889429448,a(c,16+v),20),t(n(f,g,m),568446438,a(c,36+v),5),t(n(f,g,m),3275163606,a(c,56+v),9),t(n(f,g,m),4107603335,a(c,12+v),14),t(n(f,g,m),1163531501,a(c,32+v),20),t(n(f,g,m),2850285829,a(c,52+v),5),t(n(f,g,m),4243563512,a(c,8+v),9),t(n(f,g,m),1735328473,a(c,28+v),14),t(n(f,g,m),2368359562,a(c,48+v),20),t(i(f,g,m),4294588738,a(c,20+v),4),t(i(f,g,m),2272392833,a(c,32+v),11),t(i(f,g,m),1839030562,a(c,44+v),16),t(i(f,g,m),4259657740,a(c,56+v),23),t(i(f,g,m),2763975236,a(c,4+v),4),t(i(f,g,m),1272893353,a(c,16+v),11),t(i(f,g,m),4139469664,a(c,28+v),16),t(i(f,g,m),3200236656,a(c,40+v),23),t(i(f,g,m),681279174,a(c,52+v),4),t(i(f,g,m),3936430074,a(c,v),11),t(i(f,g,m),3572445317,a(c,12+v),16),t(i(f,g,m),76029189,a(c,24+v),23),t(i(f,g,m),3654602809,a(c,36+v),4),t(i(f,g,m),3873151461,a(c,48+v),11),t(i(f,g,m),530742520,a(c,60+v),16),t(i(f,g,m),3299628645,a(c,8+v),23),t(o(f,g,m),4096336452,a(c,v),6),t(o(f,g,m),1126891415,a(c,28+v),10),t(o(f,g,m),2878612391,a(c,56+v),15),t(o(f,g,m),4237533241,a(c,20+v),21),t(o(f,g,m),1700485571,a(c,48+v),6),t(o(f,g,m),2399980690,a(c,12+v),10),t(o(f,g,m),4293915773,a(c,40+v),15),t(o(f,g,m),2240044497,a(c,4+v),21),t(o(f,g,m),1873313359,a(c,32+v),6),t(o(f,g,m),4264355552,a(c,60+v),10),t(o(f,g,m),2734768916,a(c,24+v),15),t(o(f,g,m),1309151649,a(c,52+v),21),t(o(f,g,m),4149444226,a(c,16+v),6),t(o(f,g,m),3174756917,a(c,44+v),10),t(o(f,g,m),718787259,a(c,8+v),15),t(o(f,g,m),3951481745,a(c,36+v),21),d=_(d,y),h=_(h,f),p=_(p,g),u=_(u,m)}return function(t,e,n,i){for(var o,a="",s=0,r=0,c=3;0<=c;c--)s=255&(r=arguments[c]),s<<=8,s|=255&(r>>>=8),s<<=8,s|=255&(r>>>=8),s<<=8,a+=(o=((s|=r>>>=8)>>>0).toString(16),"00000000".substr(0,8-o.length)+o);return a}(u,p,h,d).toUpperCase()}()},cc._RF.pop()},{}],miniBossController:[function(t,e,n){"use strict";cc._RF.push(e,"4e037uL5fBG7J2DBKqTqMrj","miniBossController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,r=t("../audioNameMgr"),c=t("../caijiTools"),l=t("../main/audioManager"),_=t("./animationState"),d=t("./E39Laser"),h=t("./enemyAnimation"),p=t("./enemyBase"),u=t("./enemyHitCollider"),y=t("./Events"),f=t("./GameManager"),g=t("./thunder_chase"),m=t("./thunder_jolt"),v=t("./ui/bossHp"),b=t("./ui/uiManager"),k=cc._decorator,w=k.ccclass,x=k.property;(function(t){t[t.laser=0]="laser",t[t.forward=1]="forward",t[t.scratch=2]="scratch"})(s||(s={}));var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thunder_jolt_prefab=null,e.thunder_one_prefab=null,e.thunder_many_prefab1=null,e.thunder_many_prefab2=null,e.flag_prefab=null,e.tpFx_start=null,e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.dieEffectName="",e.rushSpeed=700,e.moveSpeed=140,e.nowSpeed=0,e.AI_interval=.7,e.stopDistance=400,e.hp=0,e.hpTimes=1,e.beHitForce_y=25e3,e.beHitForce_x=25e3,e.beHitForce_y_shuriken=5e4,e.beHitForce_x_attack3=35e4,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.allowMoveTime=2,e.allowAttackTime=2,e.attackTimes=0,e.skill1_x=0,e.isStartRush=!1,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isMove=!1,e.isWuDi=!0,e.dmgCollider=null,e.isHighLight=!1,e.highLight_A={a:.5},e.nomalAttackMax=5,e.normalAttackTimes=0,e.lastAttackState=null,e.spiderlingPrefab=null,e.attackType=[],e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(h.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){b.default.ins.showBossHp(v.bossName.miniBoss),this.initData(),this.hp=this.hpMax*this.hpTimes,l.default.playAudio(r.audioName.ThunderTotemStruck)},e.prototype.appearFinished=function(){this.isWuDi=!1,this.idle()},e.prototype.update=function(){if(this.highLightAction(),0!=this.isMove){var t=this.getDistanceX();if(Math.abs(t)<this.stopDistance)this.attack();else{if(this.enemyAnimation.state==_.enemyState.attack)return;this.moveToPlayer()}}},e.prototype.onBeginContact=function(t,e,n){"wall"==n.node.group&&(t.disabled=!0)},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;if(!this.isDie)if(f.default.instance.playerController.isDie){if(this.changeMovState(!1),this.scheduleOnce(function(){t.AI_start()},1),[_.enemyState.idle].includes(this.enemyAnimation.state))return;this.enemyAnimation.changeState(_.enemyState.idle,1,!0,!0)}else Math.abs(this.getDistanceX())<this.stopDistance?this.attack():(this.changeDirection(),this.enemyAnimation.changeState(_.enemyState.move,1,!0,!0,!0),this.changeMovState(!0),this.nowSpeed=this.skeleton.node.scaleX>0?-this.moveSpeed:this.moveSpeed)},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(){var t=this;this.changeMovState(!1),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(_.enemyState.idle,1,!0,!0),this.scheduleOnce(function(){t.enemyAnimation.state==_.enemyState.idle&&t.AI_start()},this.AI_interval)},e.prototype.attack=function(){if(this.changeDirection(),this.setRigibodySpeed(0,0),this.changeMovState(!1),this.setLinearDamping(0),this.normalAttackTimes++,this.getDistanceX()<150)this.blinkStart();else{0==this.attackType.length&&(this.attackType=[_.enemyState.call_of_lighting,_.enemyState.lighting_chase_start,_.enemyState.storm_burst,_.enemyState.thunder_jolt]);var t=c.caijiTools.random_int(0,this.attackType.length-1),e=this.attackType[t];e==this.lastAttackState&&(e=0==t?this.attackType[t+1]:(this.attackType.length,this.attackType[t-1])),this[_.enemyState[e]](),this.attackType.splice(this.attackType.indexOf(e),1),this.lastAttackState=e}},e.prototype.call_of_lighting=function(){var t=this;l.default.playAudio(r.audioName.E27TotemCast),this.enemyAnimation.changeState(_.enemyState.call_of_lighting,1,!1),this.scheduleOnce(function(){t.FX_flag()},1.3)},e.prototype.lighting_chase_start=function(){f.default.instance.playerController.thunder_chase_cd=!1,this.enemyAnimation.changeState(_.enemyState.lighting_chase_start,1,!1)},e.prototype.lighting_chase_middle=function(){var t=this;l.default.playAudio(r.audioName.E27Lightning),this.enemyAnimation.changeState(_.enemyState.lighting_chase_middle,1,!0),this.schedule(function(){t.FX_thunerBall_pos()},.55,8),this.scheduleOnce(function(){t.lighting_chase_end()},5)},e.prototype.lighting_chase_end=function(){this.enemyAnimation.changeState(_.enemyState.lighting_chase_end,1,!0)},e.prototype.thunder_jolt=function(){var t=this;l.default.playAudio(r.audioName.E27JoltCast),this.enemyAnimation.changeState(_.enemyState.thunder_jolt,1,!1),this.scheduleOnce(function(){t.FX_thunder_jolt()},1)},e.prototype.storm_burst=function(){this.enemyAnimation.changeState(_.enemyState.storm_burst,1,!1),this.FX_thunder_stormBurst1()},e.prototype.blinkStart=function(){this.setRigibodySpeed(0),this.changeMovState(!1),this.enemyAnimation.changeState(_.enemyState.blink_start,1,!1,!0),this.scheduleOnce(function(){l.default.playAudio(r.audioName.BlinkStart)},.2)},e.prototype.binkStartCompelete=function(){this.createTPFX(),this.teleportEnd()},e.prototype.teleportEnd=function(){l.default.playAudio(r.audioName.BlinkEnd);var t=0;t=f.default.instance.player.x<350?f.default.instance.player.x+c.caijiTools.random_int(400,cc.winSize.width/1.6):f.default.instance.player.x>1150?f.default.instance.player.x-c.caijiTools.random_int(400,cc.winSize.width/1.5):c.caijiTools.random_int(1,10)%2==0?f.default.instance.player.x+c.caijiTools.random_int(-cc.winSize.width/1.6,-400):f.default.instance.player.x+c.caijiTools.random_int(400,cc.winSize.width/1.5),this.node.x=t,this.createTPFX(),this.enemyAnimation.changeState(_.enemyState.blink_end,1,!1,!0)},e.prototype.createTPFX=function(){var t=cc.instantiate(this.tpFx_start);t.setParent(this.node.parent),t.setSiblingIndex(this.node.getSiblingIndex()+1),t.setPosition(this.node.x,this.node.y+this.damageLabelOffsetY),t.active=!0},e.prototype.FX_flag=function(){var t=cc.instantiate(this.flag_prefab);t.setParent(this.node.parent),t.setSiblingIndex(this.node.getSiblingIndex()),t.setPosition(f.default.instance.player.x,-162),t.active=!0},e.prototype.FX_thunder_jolt=function(){var t=cc.instantiate(this.thunder_jolt_prefab);t.setParent(this.node.parent),t.setSiblingIndex(f.default.instance.player.getSiblingIndex()+1),t.getComponent(m.default).damage=this.damage;var e=this.skeleton.node.scaleX>0?this.node.x-140:this.node.x+140,n=this.node.y+130;t.setPosition(e,n),t.active=!0;var i=this.skeleton.node.scaleX>0?-5e4:5e4,o=Math.abs(3*i);t.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(i,o),!0)},e.prototype.FX_thunerBall_pos=function(){var t=cc.instantiate(this.thunder_one_prefab);t.setParent(this.node.parent),t.setSiblingIndex(f.default.instance.player.getSiblingIndex()+1),t.setPosition(f.default.instance.player.x,this.node.y+60),t.getComponent(g.default).damage=this.damage/4,t.active=!0},e.prototype.FX_thunder_stormBurst1=function(){var t=this,e=cc.instantiate(this.thunder_many_prefab1);e.setParent(this.node.parent),e.setSiblingIndex(f.default.instance.player.getSiblingIndex()+1);var n=this.skeleton.node.scaleX>0?this.node.x-140:this.node.x+140,i=this.node.y+130;e.setPosition(n,i),e.active=!0,this.scheduleOnce(function(){e.children[0].getComponent(cc.ParticleSystem3D).stop(),t.FX_thunder_stormBurst2(e.getSiblingIndex()+1),t.scheduleOnce(function(){e.destroy()},1)},.5)},e.prototype.FX_thunder_stormBurst2=function(t){var e=cc.instantiate(this.thunder_many_prefab2);e.setParent(this.node.parent),e.setSiblingIndex(t);var n=this.skeleton.node.scaleX>0?this.node.x-140:this.node.x+140,i=this.node.y+130;e.setPosition(n,i),e.active=!0},e.prototype.changeDirection=function(){null!=f.default.instance.player&&(this.skeleton.node.scaleX=f.default.instance.player.x-this.node.x>0?-this.scaleX_skeleton:this.scaleX_skeleton)},e.prototype.laugh=function(){this.enemyAnimation.changeState(_.enemyState.laugh,1,!1,!0)},e.prototype.die=function(){this.isDie=!0,this.setRigibodySpeed(0,0),this.changeMovState(!1),this.unscheduleAllCallbacks(),this.enemyAnimation.changeState(_.enemyState.die,1,!1,!0),this.dieCount()},e.prototype.move=function(){this.enemyAnimation.changeState(_.enemyState.Move,1,!0,!0)},e.prototype.moveToPlayer=function(){this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0)},e.prototype.openWuDi=function(){this.isWuDi=!0},e.prototype.closeWuDi=function(){this.isWuDi=!1},e.prototype.footStep=function(){},e.prototype.beHit=function(t,e){if(!this.isDie&&!this.isWuDi){this.changeState_beHit(e);var n=this.skeleton.node.scaleX>0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;this.highLight(),y.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.updateHp(t),this.hp<=0&&y.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i))}},e.prototype.hit=function(t){this.dmgCollider!=s.laser&&this.getDamageCollider().getComponent(u.default).hit(this.node,t)},e.prototype.laserHit=function(){this.dmgCollider==s.laser&&(this.getDamageCollider().getComponent(d.default).laserCollider.getComponent(u.default).hit(this.node,this.damage),this.hideDamageCollider())},e.prototype.updateHp=function(t){this.hp-=t,b.default.ins.bossHp.addHp(-t),this.hp<=0&&(this.hp=0,this.die())},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==_.attackType.attack3;switch(t){case _.attackType.attack1:n=_.enemyState.get_hurt2,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.attack2:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=_.enemyState.knock_down,this.node.x<f.default.instance.player.x&&f.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>f.default.instance.player.x&&f.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case _.attackType.jumpHit:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.shuriken:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case _.attackType.swordRain:n=_.enemyState.get_hurt1}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==_.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.highLightAction=function(){this.isHighLight&&this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,this.highLight_A.a])},e.prototype.highLight=function(){var t=this;this.isHighLight||(this.isHighLight=!0,this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),cc.tween(this.highLight_A).to(.1,{a:0}).call(function(){t.closeHighLight()}).start())},e.prototype.closeHighLight=function(){this.isHighLight=!1,this.highLight_A.a=.5,this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistanceX=function(){return Math.abs(this.node.x-f.default.instance.player.x)},a([x(cc.Prefab)],e.prototype,"thunder_jolt_prefab",void 0),a([x(cc.Prefab)],e.prototype,"thunder_one_prefab",void 0),a([x(cc.Prefab)],e.prototype,"thunder_many_prefab1",void 0),a([x(cc.Prefab)],e.prototype,"thunder_many_prefab2",void 0),a([x(cc.Prefab)],e.prototype,"flag_prefab",void 0),a([x(cc.Prefab)],e.prototype,"tpFx_start",void 0),a([x({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([x({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([x(cc.String)],e.prototype,"dieEffectName",void 0),a([w],e)}(p.default);n.default=S,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../main/audioManager":"audioManager","./E39Laser":"E39Laser","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider","./thunder_chase":"thunder_chase","./thunder_jolt":"thunder_jolt","./ui/bossHp":"bossHp","./ui/uiManager":"uiManager"}],miniBossFlag:[function(t,e,n){"use strict";cc._RF.push(e,"e3b681/uxlMAKcudJJn8jsX","miniBossFlag");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,r=t("../audioNameMgr"),c=t("../caijiTools"),l=t("../main/audioManager"),_=t("./animationState"),d=t("./enemyAnimation"),h=t("./enemyBase"),p=t("./enemyHitCollider"),u=t("./Events"),y=t("./FX_flagThunder"),f=t("./GameManager"),g=cc._decorator,m=g.ccclass,v=g.property;(function(t){t[t.attack=0]="attack"})(s||(s={}));var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thunderPre=null,e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.hpNode=null,e.hpBar=null,e.dieEffectName="",e.moveSpeed=150,e.nowSpeed=0,e.AI_interval=1,e.stopDistance=130,e.hp=0,e.hpTimes=1,e.beHitForce_y=25e3,e.beHitForce_x=25e3,e.beHitForce_y_shuriken=5e4,e.beHitForce_x_attack3=35e4,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.isDie=!1,e.isWuDu=!0,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isMove=!1,e.dmgCollider=null,e.isWarning=!1,e.warn_a={a:0},e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(d.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.initData(),this.hp=this.hpMax*this.hpTimes,l.default.playAudio(r.audioName.E27LightningTotemFall)},e.prototype.appearFinished=function(){this.isWuDu=!1,this.idle()},e.prototype.update=function(){if(this.warningAction(),0!=this.isMove){var t=this.getDistanceX();if(Math.abs(t)<this.stopDistance)this.hit();else{if(this.enemyAnimation.state==_.enemyState.attack)return;this.moveToPlayer()}}},e.prototype.onBeginContact=function(t,e,n){n.node.group},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;if(f.default.instance.playerController.isDie)return this.changeMovState(!1),void this.scheduleOnce(function(){t.AI_start()},1);if(Math.abs(this.getDistanceX())<this.stopDistance)this.hit();else{this.changeDirection();var e=["move","move2","run"],n=e[c.caijiTools.random_int(0,e.length-1)];switch(this.enemyAnimation.changeState(_.enemyState[n],1,!0),this.enemyAnimation.state){case _.enemyState.move:case _.enemyState.move2:this.nowSpeed=this.moveSpeed;break;case _.enemyState.run:this.nowSpeed=1.8*this.moveSpeed}this.changeMovState(e.includes(this.skeleton.animation)),this.nowSpeed=this.skeleton.node.scaleX>0?-this.nowSpeed:this.nowSpeed}},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(){var t=this;this.changeMovState(!1),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(_.enemyState.idle,1,!0),this.scheduleOnce(function(){t.enemyAnimation.state==_.enemyState.idle&&t.warning()},2)},e.prototype.warning=function(){this.isWarning=!0,this.skeleton.setAttachment("images/totem/eff_light","images/totem/eff_light"),this.skeleton.setAttachment("images/totem/eff_light2","images/totem/eff_light"),cc.tween(this.warn_a).repeatForever(cc.tween().to(.1,{a:1},{easing:"sineOut"}).to(.1,{a:.1},{easing:"sineIn"})).start(),this.scheduleOnce(this.bomb,2)},e.prototype.warningAction=function(){0!=this.isWarning&&(this.skeleton._skeleton.slots[4].color.a=this.warn_a.a,this.skeleton._skeleton.slots[5].color.a=this.warn_a.a)},e.prototype.changeDirection=function(){this.skeleton.node.scaleX=f.default.instance.player.x-this.node.x>0?-this.scaleX_skeleton:this.scaleX_skeleton},e.prototype.die=function(){this.isDie||(this.isDie=!0,this.isWarning=!1,this.hideHp(),this.skeleton._skeleton.slots[4].color.a=0,this.skeleton._skeleton.slots[5].color.a=0,this.enemyAnimation.changeState(_.enemyState.die,1,!1,!0),this.dieCount())},e.prototype.bomb=function(){this.isDie||(this.isDie=!0,this.isWarning=!1,this.hideHp(),this.skeleton._skeleton.slots[4].color.a=0,this.skeleton._skeleton.slots[5].color.a=0,this.enemyAnimation.changeState(_.enemyState.die,1,!1,!0),this.FX_thunder())},e.prototype.FX_thunder=function(){l.default.playAudio(r.audioName.ThunderTotemStruck);var t=cc.instantiate(this.thunderPre);t.setParent(this.node.parent),t.setPosition(this.node.position),t.setSiblingIndex(f.default.instance.player.getSiblingIndex()+1),t.getComponent(y.default).damage=this.damage,t.active=!0},e.prototype.dieEnd=function(){this.node.destroy()},e.prototype.getUp=function(){this.enemyAnimation.changeState(_.enemyState.get_up,1,!1,!0)},e.prototype.moveToPlayer=function(){this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0)},e.prototype.hit=function(){var t=this;_.enemyState[this.enemyAnimation.state].includes("get_hurt")||(this.changeDirection(),this.changeMovState(!1),this.setRigibodySpeed(0,0),this.showDamageCollider(s.attack),this.enemyAnimation.changeState(_.enemyState.attack,1,!1),this.scheduleOnce(function(){t.enemyAnimation.state==_.enemyState.attack&&t.getDamageCollider().getComponent(p.default).hit(t.node,t.damage)},.5))},e.prototype.beHit=function(t,e){if(!this.isDie&&!this.isWuDu){this.changeMovState(!1),this.setRigibodySpeed(0),this.highLight(),this.showHp(),this.changeState_beHit(e);var n=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;u.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.updateHp(t),this.hp<=0&&u.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i))}},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==_.attackType.attack3;switch(t){case _.attackType.attack1:n=_.enemyState.get_hurt2,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.attack2:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=_.enemyState.knock_down,this.node.x<f.default.instance.player.x&&f.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>f.default.instance.player.x&&f.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case _.attackType.jumpHit:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.shuriken:n=_.enemyState.get_hurt1,this.applyForce(cc.v2(f.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case _.attackType.swordRain:n=_.enemyState.get_hurt1}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==_.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.updateHp=function(t){this.hp-=t,this.hpBar.progress=this.hp/this.hpMax,this.hp<=0&&(this.hp=0,this.die())},e.prototype.showHp=function(){this.unschedule(this.hideHp),this.hpNode.active=!0,this.scheduleOnce(this.hideHp,2)},e.prototype.hideHp=function(){this.hpNode.active=!1},e.prototype.highLight=function(){this.unschedule(this.closeHighLight),this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),this.scheduleOnce(this.closeHighLight,.15)},e.prototype.closeHighLight=function(){this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistanceX=function(){return this.node.x-f.default.instance.player.x},a([v(cc.Prefab)],e.prototype,"thunderPre",void 0),a([v({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([v({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([v(cc.Node)],e.prototype,"hpNode",void 0),a([v(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([v(cc.String)],e.prototype,"dieEffectName",void 0),a([m],e)}(h.default);n.default=b,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../main/audioManager":"audioManager","./Events":"Events","./FX_flagThunder":"FX_flagThunder","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider"}],model:[function(t,e,n){"use strict";cc._RF.push(e,"22f98UduLZP4ogQj7etrn5S","model"),Object.defineProperty(n,"__esModule",{value:!0}),n.launch_options=n.push_param=n.native_ad_data=n.syyx_view=void 0,function(t){t[t.native_banner=0]="native_banner",t[t.inner_interstitial=1]="inner_interstitial",t[t.inner_interstitial_bn=2]="inner_interstitial_bn",t[t.interstitial=3]="interstitial",t[t.native_icon=4]="native_icon",t[t.toast=5]="toast",t[t.ctr_test=6]="ctr_test"}(n.syyx_view||(n.syyx_view={}));n.native_ad_data=function(){this.order=0};n.push_param=function(){};n.launch_options=function(){},cc._RF.pop()},{}],pausePanel:[function(t,e,n){"use strict";cc._RF.push(e,"90fe2Gwff5DxZN5PPMgLRBv","pausePanel");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../uiBase"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.initUi()},e.prototype.start=function(){cc.director.pause()},e.prototype.resume=function(){cc.director.resume(),this.node.destroy()},e.prototype.backToMain=function(){cc.director.resume(),cc.director.loadScene("main")},a([c],e)}(s.default));n.default=l,cc._RF.pop()},{"../../uiBase":"uiBase"}],playerColliderAttack1:[function(t,e,n){"use strict";cc._RF.push(e,"c6cfa/Wi6lE/Jia0/lKz1xr","playerColliderAttack1");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../audioNameMgr"),r=t("../main/audioManager"),c=t("./animationState"),l=cc._decorator,_=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemys=[],e.enemysHadHit=[],e}return o(e,t),e.prototype.onDisable=function(){this.enemys=[],this.enemysHadHit=[]},e.prototype.hit=function(t,e){if(r.default.playAudio(s.audioName.swoosh1),0!=this.enemys.length)for(var n=0,i=this.enemys;n<i.length;n++){var o=i[n];this.enemysHadHit.includes(o)||(o.getComponent(c.enemyScript[o.name]).beHit(t,e),this.enemysHadHit.push(o),o.getComponent(c.enemyScript[o.name]).playBeHitSound(s.audioName.slash1))}},e.prototype.onCollisionEnter=function(t){this.enemys.push(t.node)},e.prototype.onCollisionExit=function(t){var e=this.enemys.indexOf(t.node);this.enemys.splice(e,1)},a([_],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../main/audioManager":"audioManager","./animationState":"animationState"}],playerColliderAttack2:[function(t,e,n){"use strict";cc._RF.push(e,"0249eb320lOdppO9lEMwV3p","playerColliderAttack2");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../audioNameMgr"),r=t("../main/audioManager"),c=t("./animationState"),l=cc._decorator,_=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemys=[],e.enemysHadHit=[],e}return o(e,t),e.prototype.onDisable=function(){this.enemys=[],this.enemysHadHit=[]},e.prototype.hit=function(t,e){r.default.playAudio(s.audioName.swoosh2);for(var n=0,i=this.enemys;n<i.length;n++){var o=i[n];this.enemysHadHit.includes(o)||(o.getComponent(c.enemyScript[o.name]).beHit(t,e),this.enemysHadHit.push(o),o.getComponent(c.enemyScript[o.name]).playBeHitSound(s.audioName.slash2))}},e.prototype.onCollisionEnter=function(t){this.enemys.push(t.node)},e.prototype.onCollisionExit=function(t){var e=this.enemys.indexOf(t.node);this.enemys.splice(e,1)},a([_],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../main/audioManager":"audioManager","./animationState":"animationState"}],playerColliderAttack3:[function(t,e,n){"use strict";cc._RF.push(e,"1d764ug2jtPmqVFN/mUvbFW","playerColliderAttack3");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../audioNameMgr"),r=t("./animationState"),c=t("./GameManager"),l=t("./ui/playerHp"),_=cc._decorator,d=_.ccclass,h=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemys=[],e.enemysHadHit=[],e}return o(e,t),e.prototype.onDisable=function(){this.enemys=[],this.enemysHadHit=[]},e.prototype.hit=function(t,e,n){t.getComponent(r.enemyScript[t.name]).beHit(e,n),t.getComponent(r.enemyScript[t.name]).playBeHitSound(s.audioName.slash3)},e.prototype.onCollisionEnter=function(t){if(!this.enemysHadHit.includes(t.node)){var e=l.default.instance.damageScale*c.default.instance.playerController.damageScaleZoom*c.default.instance.playerController.damage3ScaleTimes;this.hit(t.node,e,r.attackType.attack3),this.enemysHadHit.push(t.node)}},e.prototype.onCollisionExit=function(t){var e=this.enemys.indexOf(t.node);this.enemys.splice(e,1)},a([d],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","./GameManager":"GameManager","./animationState":"animationState","./ui/playerHp":"playerHp"}],playerColliderJumpHit:[function(t,e,n){"use strict";cc._RF.push(e,"be6f58OW0RIcYpgBaaEZRyR","playerColliderJumpHit");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../audioNameMgr"),r=t("./animationState"),c=t("./GameManager"),l=t("./ui/playerHp"),_=cc._decorator,d=_.ccclass,h=_.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitInterval=.15,e.timer=0,e.damageScale=0,e.enemys=[],e.enemysHadHit=[],e}return o(e,t),e.prototype.onDisable=function(){this.timer=0,this.enemys=[],this.enemysHadHit=[]},e.prototype.onEnable=function(){this.damageScale=l.default.instance.damageScale*c.default.instance.playerController.damageScaleZoom},e.prototype.start=function(){this.hitInterval=this.hitInterval-(l.default.instance.speedTimes-1)/15},e.prototype.update=function(t){this.timer+=t,this.timer>=this.hitInterval&&(this.hit(this.damageScale,r.attackType.jumpHit),this.timer=0)},e.prototype.hit=function(t,e){for(var n=0,i=this.enemys;n<i.length;n++){var o=i[n];o.getComponent(r.enemyScript[o.name]).beHit(t,e),o.getComponent(r.enemyScript[o.name]).playBeHitSound(s.audioName.airslash1)}},e.prototype.onCollisionEnter=function(t){this.enemys.push(t.node)},e.prototype.onCollisionExit=function(t){var e=this.enemys.indexOf(t.node);this.enemys.splice(e,1)},a([h({type:cc.Float,displayName:"\u653b\u51fb\u95f4\u9694"})],e.prototype,"hitInterval",void 0),a([d],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","./GameManager":"GameManager","./animationState":"animationState","./ui/playerHp":"playerHp"}],playerCollider:[function(t,e,n){"use strict";cc._RF.push(e,"d90ddg5K2ZCTaUAEfzGYdUA","playerCollider");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./playerController"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerController=null,e.isFlying=!1,e}return o(e,t),e.prototype.onLoad=function(){this.playerController=this.node.getComponent(s.default)},e.prototype.onBeginContact=function(t,e,n){var i=n.node;"ground"==i.group?(this.isFlying=!1,this.playerController.dropToGround()):"wall"==i.group&&t.setFriction(0)},e.prototype.onEndContact=function(t,e,n){"ground"==n.node.group&&(this.isFlying=!0)},a([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./playerController":"playerController"}],playerControlEvent:[function(t,e,n){"use strict";cc._RF.push(e,"5e014wZt6BDQ7e81nuiqTaG","playerControlEvent");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../GameManager"),r=cc._decorator,c=r.ccclass,l=r.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rollCD=0,e.skill1CD=0,e.skill2CD=0,e.buttons=[],e.inited=!1,e.isRollCd=!1,e.isSkill1Cd=!1,e.isSkill2Cd=!1,e.isContinueAttack=!1,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.init=function(){cc.tween(this.node).to(.5,{opacity:255}).start(),this.bindingEvent()},e.prototype.bindingEvent=function(){this.buttons[0].on(cc.Node.EventType.TOUCH_START,this.attack,this),this.buttons[0].on(cc.Node.EventType.TOUCH_END,this.attackTouchEnd,this),this.buttons[0].on(cc.Node.EventType.TOUCH_CANCEL,this.attackTouchEnd,this),this.buttons[1].on(cc.Node.EventType.TOUCH_START,this.roll,this),this.buttons[2].on(cc.Node.EventType.TOUCH_START,this.jump,this),this.buttons[3].on(cc.Node.EventType.TOUCH_START,this.skill1,this),this.buttons[4].on(cc.Node.EventType.TOUCH_START,this.skill2,this)},e.prototype.removeEvent=function(){this.isContinueAttack=!1,this.buttons[0].off(cc.Node.EventType.TOUCH_START,this.attack,this),this.buttons[0].off(cc.Node.EventType.TOUCH_END,this.attackTouchEnd,this),this.buttons[0].off(cc.Node.EventType.TOUCH_CANCEL,this.attackTouchEnd,this),this.buttons[1].off(cc.Node.EventType.TOUCH_START,this.roll,this),this.buttons[2].off(cc.Node.EventType.TOUCH_START,this.jump,this),this.buttons[3].off(cc.Node.EventType.TOUCH_START,this.skill1,this),this.buttons[4].off(cc.Node.EventType.TOUCH_START,this.skill2,this)},e.prototype.attack=function(){this.isContinueAttack=!0,s.default.instance.playerController.attack()},e.prototype.attackTouchEnd=function(){this.isContinueAttack=!1},e.prototype.roll=function(t){var e=this;this.isRollCd||(this.isRollCd=!0,s.default.instance.playerController.roll(),this.cdAnimation(t.target,this.rollCD),this.scheduleOnce(function(){e.isRollCd=!1},this.rollCD))},e.prototype.jump=function(){s.default.instance.playerController.jump()},e.prototype.skill1=function(t){var e=this;this.isSkill1Cd||s.default.instance.playerController.skeleton.animation.includes("skill")||(this.isSkill1Cd=!0,s.default.instance.playerController.skill1(),this.cdAnimation(t.target,this.skill1CD),this.scheduleOnce(function(){e.isSkill1Cd=!1},this.skill1CD))},e.prototype.skill2=function(t){var e=this;this.isSkill2Cd||s.default.instance.playerController.skeleton.animation.includes("skill")||(this.isSkill2Cd=!0,s.default.instance.playerController.skill2(),this.cdAnimation(t.target,this.skill2CD),this.scheduleOnce(function(){e.isSkill2Cd=!1},this.skill2CD))},e.prototype.cdAnimation=function(t,e){var n=t.getChildByName("cdNode");n.active=!0;var i=n.getChildByName("cd").getComponent(cc.ProgressBar),o=n.getChildByName("timer").getComponent(cc.Label),a={time:e};this.timerLabelTween(e,a,o,n),this.progressBarTween(i,e)},e.prototype.timerLabelTween=function(t,e,n,i){var o=this;cc.tween(e).to(t,{time:0},{progress:function(t,e,i,o){var a=cc.misc.lerp(t,e,o);return n.string=a.toFixed(1),a}}).call(function(){i.active=!1,o.isRollCd=!1}).start()},e.prototype.progressBarTween=function(t,e){cc.tween(t).to(e,{progress:1}).call(function(){t.progress=0}).start()},e.instance=null,a([l(cc.Integer)],e.prototype,"rollCD",void 0),a([l(cc.Integer)],e.prototype,"skill1CD",void 0),a([l(cc.Integer)],e.prototype,"skill2CD",void 0),a([l(cc.Node)],e.prototype,"buttons",void 0),n=a([c],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../GameManager":"GameManager"}],playerController:[function(t,e,n){"use strict";cc._RF.push(e,"9b86dezfV1Hpq8QB97rPm4O","playerController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c,l=t("../audioNameMgr"),_=t("../caijiTools"),d=t("../main/audioManager"),h=t("../sdk/data"),p=t("./animationState"),u=t("./Events"),y=t("./GameManager"),f=t("./playerCollider"),g=t("./playerColliderAttack1"),m=t("./playerColliderAttack2"),v=t("./playerPandant"),b=t("./swordRain"),k=t("./ui/Joystick"),w=t("./ui/playerControlEvent"),x=t("./ui/playerHp"),S=t("./ui/uiManager");(function(t){t[t.attack1=0]="attack1",t[t.attack2=1]="attack2",t[t.attack3=2]="attack3",t[t.jumpHit=3]="jumpHit"})(c||(c={}));var C=cc._decorator,A=C.ccclass,O=C.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.damageScaleZoom=1,e.damage2ScaleTimes=1.3,e.damage3ScaleTimes=2.5,e.damageShurikenScaleTimes=5,e.damageSwordRainScaleTimes=1,e.playerCollider=null,e.moveSpeedBase=460,e.speed=460,e.offesetX_aatack3=250,e.rigibody=null,e.moveVector=cc.v2(0,0),e.scaleX=0,e.state=p.playerAnimationState.idle,e.comboAttack=0,e.jumpTimes=0,e.jumpForce_y=34e4,e.jumpForce_x=3e4,e.roll1Force=4e5,e.roll2Force=26e4,e.rollDirection=0,e.lastAttackTime=0,e.attack1Finish=!0,e.dmgCollider=null,e.isDie=!1,e.isWuDi=!0,e.finalEnemy=null,e.jumpSoundId=-1,e.thunder_chase_cd=!1,e.ground=null,e.moveState=[p.playerAnimationState.move,p.playerAnimationState.idle_to_move,p.playerAnimationState.double_jump,p.playerAnimationState.jump_to_move,p.playerAnimationState.jump_start,p.playerAnimationState.jump_down,p.playerAnimationState.jump_attack1,p.playerAnimationState.jump_attack2,p.playerAnimationState.jump_attack3,p.playerAnimationState.roll_to_move],e.disallowChangeScalex=[p.playerAnimationState.attack1,p.playerAnimationState.attack2,p.playerAnimationState.pose_shadow,p.playerAnimationState.attack3,p.playerAnimationState.get_up,p.playerAnimationState.skill203_air,p.playerAnimationState.skill203_ground,p.playerAnimationState.skill207_air,p.playerAnimationState.skill207_ground,p.playerAnimationState.revive,p.playerAnimationState.die,p.playerAnimationState.knock_up1,p.playerAnimationState.knock_up2,p.playerAnimationState.knock_up3,p.playerAnimationState.bow_attack_fast],e.disallowRoll=[p.playerAnimationState.skill203_air,p.playerAnimationState.skill203_ground,p.playerAnimationState.skill207_air,p.playerAnimationState.skill207_ground,p.playerAnimationState.revive,p.playerAnimationState.die,p.playerAnimationState.knock_up1,p.playerAnimationState.knock_up2,p.playerAnimationState.knock_up3,p.playerAnimationState.ultimate],e.wudi=[p.playerAnimationState.roll,p.playerAnimationState.roll_air,p.playerAnimationState.skill203_air,p.playerAnimationState.skill203_ground,p.playerAnimationState.skill207_air,p.playerAnimationState.revive,p.playerAnimationState.die,p.playerAnimationState.skill207_ground],e.jumpSoundState=[p.playerAnimationState.jump_attack1,p.playerAnimationState.jump_attack2,p.playerAnimationState.jump_attack3],e}return o(e,t),e.prototype.onLoad=function(){this.scaleX=Math.abs(this.skeleton.node.scaleX),this.rigibody=this.node.getComponent(cc.RigidBody),this.playerCollider=this.node.getComponent(f.default),this.speed=Number(h.data.getCache("Base","playerMoveSpeed")),this.ground=this.node.parent.getChildByName("ground")},e.prototype.start=function(){this.setAnimationCompleteEvent(),this.setFrameEventTime()},e.prototype.appearEnd=function(){this.isWuDi=!1,S.default.ins.showUi(),k.default.instance.init(),w.default.instance.init(),y.default.instance.enemySpawnM.startSpwan(),this.idle(),this.createPandant(),setTimeout(function(){S.default.ins.showDoubleDamagePopup()},3e3)},e.prototype.createPandant=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return[4,_.caijiTools.loadPrefab("prefabs/pendant")];case 1:return t=n.sent(),(e=cc.instantiate(t)).setParent(this.node.parent),e.setSiblingIndex(this.node.getSiblingIndex()+1),e.getComponent(v.default).player=this.node,e.getComponent(v.default).init(),[2]}})})},e.prototype.update=function(){this.playerMove()},e.prototype.playerMove=function(){if(this.state!=p.playerAnimationState.die)if(0!=this.moveVector.x||this.state!=p.playerAnimationState.move){if(this.moveState.includes(this.state)&&0!=this.moveVector.x){this.changeDirection();var t=this.skeleton.node.scaleX>0?this.speed:-this.speed;this.rigibody.linearVelocity=cc.v2(t,this.rigibody.linearVelocity.y)}this.skeleton.animation==p.playerAnimationState[p.playerAnimationState.idle]&&0!=this.moveVector.x&&this.attack1Finish&&this.changeState(p.playerAnimationState.idle_to_move)}else this.idle()},e.prototype.move=function(t){if(this.moveVector=t,0!=this.moveVector.x){if(this.disallowChangeScalex.includes(this.state))return;if(this.skeleton.node.scaleX=t.x>0?this.scaleX:-this.scaleX,this.skeleton.node.scaleX==this.rollDirection)return;switch(this.state){case p.playerAnimationState.roll:case p.playerAnimationState.roll_air:this.playerCollider.isFlying?this.changeState(p.playerAnimationState.jump_down):this.changeState(p.playerAnimationState.move);break;case p.playerAnimationState.roll_to_idle:case p.playerAnimationState.roll_to_move:this.changeState(p.playerAnimationState.move)}}},e.prototype.changeDirection=function(){0!=this.moveVector.x&&(this.skeleton.node.scaleX=this.moveVector.x>0?this.scaleX:-this.scaleX)},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.beHit=function(t,e,n){if(void 0===n&&(n=!1),!this.isDie){var i=t.x>this.node.x?-1:1,o=_.caijiTools.random_int(-40,40);this.wudi.includes(this.state)||this.isWuDi?this.isWuDi&&(u.default.instance.showDamageLabel_player(this.node,0,o),u.default.instance.showEnemyHitEffect(this.node.parent,cc.v2(this.node.x+_.caijiTools.random_int(-15,15),this.node.y+60),i)):(this.finalEnemy=t,this.highLight(),x.default.instance.updateHp(e),u.default.instance.showDamageLabel_player(this.node,e,o),u.default.instance.showEnemyHitEffect(this.node.parent,cc.v2(this.node.x+_.caijiTools.random_int(-15,15),this.node.y+60),i),n&&0==this.isDie&&(w.default.instance.removeEvent(),this.changeState(p.playerAnimationState.knock_up1)))}},e.prototype.highLight=function(){this.unschedule(this.closeHighLight),this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[.8,0,0,.5]),this.scheduleOnce(this.closeHighLight,.2)},e.prototype.closeHighLight=function(){this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.die=function(){w.default.instance.removeEvent(),S.default.ins.lose(),this.changeState(p.playerAnimationState.die),this.closeBoxCollider(),this.skeleton.node.scaleX=this.finalEnemy.x>this.node.x?this.scaleX:-this.scaleX},e.prototype.revive=function(){this.changeState(p.playerAnimationState.revive),u.default.instance.showReviveFx(this.node)},e.prototype.closeBoxCollider=function(){this.isDie=!0,this.node.getComponent(cc.BoxCollider).enabled=!1},e.prototype.openBoxCollider=function(){this.isDie=!1,this.node.getComponent(cc.BoxCollider).enabled=!0,x.default.instance.addHp(x.default.instance.hp_max,!0),this.changeState(p.playerAnimationState.idle),this.openWuDi(5),w.default.instance.bindingEvent()},e.prototype.openWuDi=function(t){var e=this;this.isWuDi=!0;var n=this.node.getChildByName("shield");n.active=!0;for(var i=0,o=n.children;i<o.length;i++){var a=o[i];a.getComponent(cc.ParticleSystem3D)&&(a.getComponent(cc.ParticleSystem3D).loop=!0)}this.scheduleOnce(function(){e.closeWuDi()},t-2)},e.prototype.closeWuDi=function(){for(var t=this,e=this.node.getChildByName("shield"),n=0,i=e.children;n<i.length;n++){var o=i[n];o.getComponent(cc.ParticleSystem3D)&&(o.getComponent(cc.ParticleSystem3D).loop=!1)}this.scheduleOnce(function(){t.isWuDi=!1,e.active=!1},2)},e.prototype.idle=function(){this.jumpTimes=0,this.changeState(p.playerAnimationState.idle)},e.prototype.attack=function(){switch(0==this.playerCollider.isFlying&&this.addCombo(),this.state){case p.playerAnimationState.move:case p.playerAnimationState.idle:case p.playerAnimationState.idle_to_move:this.changeState(p.playerAnimationState.attack1);break;default:if(this.playerCollider.isFlying){if(this.getAnimationName(this.state).includes("jump_attack")||this.getAnimationName(this.state).includes("skill"))return;this.jumpAttack()}}},e.prototype.addCombo=function(){this.lastAttackTime=0==this.lastAttackTime?cc.director.getTotalTime()/1e3:this.lastAttackTime,(cc.director.getTotalTime()/1e3-this.lastAttackTime<.3/x.default.instance.speedTimes||0==this.comboAttack)&&this.comboAttack++,this.comboAttack=this.comboAttack>3?3:this.comboAttack,this.lastAttackTime=cc.director.getTotalTime()/1e3},e.prototype.resetCombo=function(){this.comboAttack=0},e.prototype.roll=function(){this.disallowRoll.includes(this.state)||(this.rollDirection=this.skeleton.node.scaleX,0==this.playerCollider.isFlying?this.roll_1():this.rigibody.linearVelocity.y>0?this.roll_2():this.roll_1())},e.prototype.roll_1=function(){d.default.playAudio(l.audioName.rolldash),this.rigibody.linearDamping=3;var t=this.skeleton.node.scaleX>0?this.roll1Force:-this.roll1Force;this.rigibody.linearVelocity=cc.v2(0,this.rigibody.linearVelocity.y),this.rigibody.applyForce(cc.v2(t,0),this.rigibody.getWorldCenter(),!0),2==this.jumpTimes&&this.rigibody.applyForce(cc.v2(0,-1e5),this.rigibody.getWorldCenter(),!0),this.changeState(p.playerAnimationState.roll)},e.prototype.roll_2=function(){d.default.playAudio(l.audioName.rolldash),this.rigibody.linearDamping=-.5;var t=this.skeleton.node.scaleX>0?this.roll2Force:-this.roll2Force;this.rigibody.linearVelocity=cc.v2(0,this.rigibody.linearVelocity.y),this.rigibody.applyForce(cc.v2(t,1e4),this.rigibody.getWorldCenter(),!0),this.changeState(p.playerAnimationState.roll_air)},e.prototype.jump=function(){if(!(this.jumpTimes>=2)){var t=this.skeleton.node.scaleX>0?this.jumpForce_x:-this.jumpForce_x;switch(t=0==this.moveVector.x?0:t,this.rigibody.linearDamping=1,this.state){case p.playerAnimationState.idle:case p.playerAnimationState.idle_to_move:case p.playerAnimationState.move:this.jump_1(t);break;case p.playerAnimationState.jump_start:case p.playerAnimationState.jump_down:this.jump_2(t);break;case p.playerAnimationState.jump_end:case p.playerAnimationState.jump_to_move:this.jump_1(t);break;default:var e=this.jumpTimes+1;if(this.getAnimationName(this.state).includes("roll"))return void this["jump_"+e](t);if(this.getAnimationName(this.state).includes("jump_attack"))return void this["jump_"+e](t);if(this.getAnimationName(this.state).includes("attack"))return void this.jump_1(t)}}},e.prototype.jump_1=function(t){d.default.playAudio(l.audioName.jump,!1,.6),this.jumpTimes++,this.rigibody.applyForce(cc.v2(t,this.jumpForce_y),this.rigibody.getWorldCenter(),!0),this.changeState(p.playerAnimationState.jump_start)},e.prototype.jump_2=function(t){d.default.playAudio(l.audioName.jump,!1,.6),this.jumpTimes++,this.rigibody.linearVelocity=cc.v2(this.rigibody.linearVelocity.x,0),this.rigibody.applyForce(cc.v2(t,this.jumpForce_y),this.rigibody.getWorldCenter(),!0),this.changeState(p.playerAnimationState.double_jump)},e.prototype.jumpAttack=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return t=this.rigibody.linearVelocity.y<=0?.7*this.jumpForce_y:this.jumpForce_y,this.rigibody.linearVelocity=cc.v2(this.rigibody.linearVelocity.x,0),this.rigibody.applyForce(cc.v2(0,t),this.rigibody.getWorldCenter(),!0),this.rigibody.linearDamping=0==t?12:0,this.changeState(p.playerAnimationState.jump_attack1),e=this,[4,d.default.playAudio(l.audioName.SpinAttack,!1)];case 1:return e.jumpSoundId=n.sent(),[2]}})})},e.prototype.dropToGround=function(){this.jumpTimes=0,this.rigibody.linearDamping=0,this.resetCombo(),d.default.playAudio(l.audioName.Jumpland),this.state!=p.playerAnimationState.idle&&this.state!=p.playerAnimationState.die&&(this.getAnimationName(this.state).includes("roll")?this.state==p.playerAnimationState.roll_air&&(this.rigibody.linearVelocity=cc.v2(0,0),0==this.moveVector.x?this.changeState(p.playerAnimationState.jump_end):this.changeState(p.playerAnimationState.jump_to_move)):this.getAnimationName(this.state).includes("jump_attack")?this.changeState(p.playerAnimationState.jump_attack3):0!=this.moveVector.x?this.changeState(p.playerAnimationState.jump_to_move):(this.rigibody.linearVelocity=cc.v2(0,0),this.changeState(p.playerAnimationState.jump_end)))},e.prototype.skill1=function(){0==this.skeleton.animation.includes("skill")&&(this.resetCombo(),this.rigibody.linearVelocity=cc.v2(0,0),d.default.playAudio(l.audioName.Skillcast207Shuriken),this.playerCollider.isFlying?(this.closeGravity(),this.changeState(p.playerAnimationState.skill207_air)):this.changeState(p.playerAnimationState.skill207_ground))},e.prototype.createShuriken=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return[4,_.caijiTools.loadPrefab("prefabs/shuriken")];case 1:return t=n.sent(),(e=_.caijiTools.createNode(t,this.node.parent)).setPosition(this.node.x,this.node.y+70),e.setSiblingIndex(e.getSiblingIndex()-1),[2]}})})},e.prototype.skill2=function(){0==this.skeleton.animation.includes("skill")&&(this.resetCombo(),this.rigibody.linearVelocity=cc.v2(0,0),this.playerCollider.isFlying?(this.closeGravity(),this.changeState(p.playerAnimationState.skill203_air)):this.changeState(p.playerAnimationState.skill203_ground))},e.prototype.createSwordRain=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return[4,_.caijiTools.loadPrefab("prefabs/swordRain")];case 1:return t=n.sent(),(e=_.caijiTools.createNode(t,this.node.parent)).setSiblingIndex(this.ground.getSiblingIndex()),e.setPosition(this.node.x,230),e.getComponent(b.default).isRight=this.skeleton.node.scaleX>0,[2]}})})},e.prototype.closeGravity=function(){this.rigibody.type=cc.RigidBodyType.Kinematic},e.prototype.openGravity=function(){var t=this;this.rigibody.type=cc.RigidBodyType.Dynamic,this.scheduleOnce(function(){t.rigibody.applyForce(cc.v2(0,-18e4),t.rigibody.getWorldCenter(),!0)},0)},e.prototype.setFriction=function(t){this.node.getComponent(cc.PhysicsBoxCollider).friction=t,this.node.getComponent(cc.PhysicsBoxCollider).apply()},e.prototype.changeState=function(t){this.hideDamageCollider(),0==this.getAnimationName(t).includes("attack")&&this.resetCombo(),-1!=this.jumpSoundId&&0==this.jumpSoundState.includes(t)&&(d.default.stopAudio(this.jumpSoundId),this.jumpSoundId=-1),this.state=t,this["enterStateEvent_"+this.getAnimationName(t)](t),w.default.instance.isContinueAttack&&this.state==p.playerAnimationState.idle&&(this.changeDirection(),this.changeState(p.playerAnimationState.attack1))},e.prototype.getAnimationName=function(t){return p.playerAnimationState[t]},e.prototype.playAnimation=function(t,e,n){var i=this;if(void 0===n&&(n=!1),t!=this.skeleton.animation){"attack1"==this.skeleton.animation&&"idle"==t?(this.skeleton.setMix(this.skeleton.animation,t,.3),this.scheduleOnce(function(){i.attack1Finish=!0},.1)):this.skeleton.animation;var o=this.skeleton.setAnimation(0,t,n);this.setTrackEntryEnvet(o,t),this.skeleton.timeScale=e}},e.prototype.setAnimationCompleteEvent=function(){var t=this;this.skeleton.setCompleteListener(function(){switch(p.playerAnimationState[t.skeleton.animation]){case p.playerAnimationState.appear:t.appearEnd();break;case p.playerAnimationState.idle_to_move:t.anyToIdleOrJump();break;case p.playerAnimationState.pose_shadow:t.changeState(p.playerAnimationState.attack3);break;case p.playerAnimationState.attack3:t.idle();break;case p.playerAnimationState.jump_start:t.changeState(p.playerAnimationState.jump_down);break;case p.playerAnimationState.double_jump:t.rigibody.linearDamping=-3;break;case p.playerAnimationState.jump_end:t.changeState(p.playerAnimationState.idle);break;case p.playerAnimationState.jump_to_move:t.changeState(p.playerAnimationState.move);break;case p.playerAnimationState.jump_attack1:t.changeState(p.playerAnimationState.jump_attack2);break;case p.playerAnimationState.jump_attack3:t.anyToIdleOrJump();break;case p.playerAnimationState.roll:t.rollToIdleOrMove();break;case p.playerAnimationState.roll_to_idle:t.idle();break;case p.playerAnimationState.roll_to_move:t.changeState(p.playerAnimationState.move);break;case p.playerAnimationState.revive:t.openBoxCollider();break;case p.playerAnimationState.knock_up1:t.changeState(p.playerAnimationState.knock_up2);break;case p.playerAnimationState.knock_up2:t.changeState(p.playerAnimationState.knock_up3);break;case p.playerAnimationState.knock_up3:t.scheduleOnce(function(){t.state==p.playerAnimationState.knock_up3&&t.changeState(p.playerAnimationState.get_up)},.2);break;case p.playerAnimationState.get_up:t.idle(),w.default.instance.bindingEvent();break;default:t.skeleton.animation.includes("skill")&&(t.playerCollider.isFlying?(t.openGravity(),t.changeState(p.playerAnimationState.jump_down)):t.changeState(p.playerAnimationState.idle))}})},e.prototype.rollToIdleOrMove=function(){0==this.moveVector.x?this.changeState(p.playerAnimationState.roll_to_idle):this.changeState(p.playerAnimationState.roll_to_move)},e.prototype.anyToIdleOrJump=function(){0==this.moveVector.x?this.changeState(p.playerAnimationState.idle):this.changeState(p.playerAnimationState.move)},e.prototype.setAnimationFrameEvent=function(t){null!=p.frameEvent[t]&&this.skeleton.setEventListener(this[p.frameEvent[t]].bind(this))},e.prototype.setTrackEntryEnvet=function(t,e){null!=p.frameEvent[e]&&this.skeleton.setTrackEventListener(t,this[p.frameEvent[e]].bind(this))},e.prototype.setFrameEventTime=function(){this.skeleton.findAnimation("skill207_ground").timelines[59].frames[0]=p.skillFrameEventTime.skill207_ground,this.skeleton.findAnimation("skill207_air").timelines[65].frames[0]=p.skillFrameEventTime.skill207_air,this.skeleton.findAnimation("skill203_ground").timelines[56].frames[0]=p.skillFrameEventTime.skill203_ground,this.skeleton.findAnimation("skill203_air").timelines[58].frames[0]=p.skillFrameEventTime.skill203_air,this.skeleton.findAnimation("attack1").timelines[68].frames[2]=p.skillFrameEventTime.attack1,this.skeleton.findAnimation("attack2").timelines[72].frames[2]=p.skillFrameEventTime.attack2},e.prototype.AddForceUp=function(){console.log("AddForceUp")},e.prototype.AnimationEnd=function(){console.log("AnimationEnd")},e.prototype.Attack1=function(t,e){if("StopMove"==e.data.name){var n=x.default.instance.damageScale*this.damageScaleZoom;this.skeleton.node.children[this.dmgCollider].getComponent(g.default).hit(n,p.attackType.attack1)}},e.prototype.Attack2=function(t,e){if("StopMove"==e.data.name){var n=x.default.instance.damageScale*this.damageScaleZoom*this.damage2ScaleTimes;this.skeleton.node.children[this.dmgCollider].getComponent(m.default).hit(n,p.attackType.attack2)}},e.prototype.Attack3=function(){},e.prototype.FootStep=function(t,e){e.time>.2||d.default.playAudio(l.audioName.Run)},e.prototype.GetUp=function(){},e.prototype.LockDirection=function(){},e.prototype.MoveForward=function(){},e.prototype.RollComplete=function(){},e.prototype.SkillComplete=function(){this.skeleton.animation.includes("207")?this.createShuriken():(this.createSwordRain(),d.default.playAudio(l.audioName.Kunai))},e.prototype.StopMove=function(){d.default.playAudio(l.audioName.StopMove)},e.prototype.enterStateEvent_idle=function(t){this.rigibody.linearVelocity=cc.v2(0,this.rigibody.linearVelocity.y),this.playAnimation(p.playerAnimationState[t],1,!0)},e.prototype.enterStateEvent_idle_to_move=function(t){this.playAnimation(p.playerAnimationState[t],3,!1)},e.prototype.enterStateEvent_move=function(t){this.playAnimation(p.playerAnimationState[t],1.2,!0)},e.prototype.enterStateEvent_attack1=function(t){var e=this;this.showDamageCollider(c.attack1),this.attack1Finish=!1,this.rigibody.linearVelocity=cc.v2(0,this.rigibody.linearVelocity.y),this.node.x=this.skeleton.node.scaleX>0?this.node.x+0:this.node.x-0,this.playAnimation(p.playerAnimationState[t],1*x.default.instance.speedTimes,!1),this.scheduleOnce(function(){p.playerAnimationState[e.skeleton.animation]==p.playerAnimationState.attack1&&(w.default.instance.isContinueAttack||e.comboAttack>1?e.changeState(p.playerAnimationState.attack2):e.changeState(p.playerAnimationState.idle))},.26/x.default.instance.speedTimes)},e.prototype.enterStateEvent_attack2=function(t){var e=this;this.showDamageCollider(c.attack2),this.attack1Finish=!0,this.playAnimation(p.playerAnimationState[t],1*x.default.instance.speedTimes,!1),this.changeDirection();var n=this.skeleton.node.scaleX>0?this.offesetX_aatack3:-this.offesetX_aatack3;this.rigibody.linearVelocity=cc.v2(n,0),this.scheduleOnce(function(){p.playerAnimationState[e.skeleton.animation]==p.playerAnimationState.attack2&&(w.default.instance.isContinueAttack||e.comboAttack>2?e.changeState(p.playerAnimationState.pose_shadow):e.changeState(p.playerAnimationState.idle))},.32/x.default.instance.speedTimes)},e.prototype.enterStateEvent_pose_shadow=function(t){var e=this;d.default.playAudio(l.audioName.thrust1),this.playAnimation(p.playerAnimationState[t],1,!1),this.changeDirection(),this.rigibody.linearVelocity=cc.v2(0,0),this.scheduleOnce(function(){p.playerAnimationState[e.skeleton.animation]==p.playerAnimationState.pose_shadow&&e.changeState(p.playerAnimationState.attack3)},.05)},e.prototype.enterStateEvent_attack3=function(t){var e=this;this.state=t,this.playAnimation(p.playerAnimationState[t],1.1*x.default.instance.speedTimes,!1),this.scheduleOnce(function(){if(p.playerAnimationState[e.skeleton.animation]==p.playerAnimationState.attack3){var t=e.skeleton.node.scaleX>0?800*x.default.instance.speedTimes:-800*x.default.instance.speedTimes;e.rigibody.linearVelocity=cc.v2(t,0),e.showDamageCollider(c.attack3)}e.scheduleOnce(function(){e.hideDamageCollider(),p.playerAnimationState[e.skeleton.animation]==p.playerAnimationState.attack3&&(e.rigibody.linearVelocity=cc.v2(0,0))},.2/x.default.instance.speedTimes)},.24/x.default.instance.speedTimes)},e.prototype.enterStateEvent_jump_start=function(t){this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_double_jump=function(t){this.rigibody.linearDamping=1,this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_jump_down=function(t){this.rigibody.linearDamping=0,this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_jump_end=function(t){this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_jump_to_move=function(t){this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_jump_attack1=function(t){this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_jump_attack2=function(t){this.showDamageCollider(c.jumpHit),this.playAnimation(p.playerAnimationState[t],1.3*x.default.instance.speedTimes,!0)},e.prototype.enterStateEvent_jump_attack3=function(t){this.rigibody.linearVelocity=cc.v2(0,0),this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_roll=function(t){this.playAnimation(p.playerAnimationState[t],1.3,!1)},e.prototype.enterStateEvent_roll_air=function(t){this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_roll_to_idle=function(t){this.rigibody.linearVelocity=cc.v2(0,this.rigibody.linearVelocity.y),this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_roll_to_move=function(t){this.rigibody.linearVelocity=cc.v2(0,this.rigibody.linearVelocity.y),this.playAnimation(p.playerAnimationState[t],1.1,!1)},e.prototype.enterStateEvent_skill203_air=function(t){this.playAnimation(p.playerAnimationState[t],1*x.default.instance.speedTimes,!1)},e.prototype.enterStateEvent_skill203_ground=function(t){this.playAnimation(p.playerAnimationState[t],1*x.default.instance.speedTimes,!1)},e.prototype.enterStateEvent_skill207_air=function(t){this.playAnimation(p.playerAnimationState[t],1*x.default.instance.speedTimes,!1)},e.prototype.enterStateEvent_skill207_ground=function(t){this.playAnimation(p.playerAnimationState[t],1*x.default.instance.speedTimes,!1)},e.prototype.enterStateEvent_die=function(t){this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_revive=function(t){this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_knock_up1=function(t){this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_knock_up2=function(t){this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_knock_up3=function(t){this.playAnimation(p.playerAnimationState[t],1,!1)},e.prototype.enterStateEvent_get_up=function(t){this.playAnimation(p.playerAnimationState[t],1,!1)},a([O(sp.Skeleton)],e.prototype,"skeleton",void 0),a([A],e)}(cc.Component);n.default=P,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../main/audioManager":"audioManager","../sdk/data":"data","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./playerCollider":"playerCollider","./playerColliderAttack1":"playerColliderAttack1","./playerColliderAttack2":"playerColliderAttack2","./playerPandant":"playerPandant","./swordRain":"swordRain","./ui/Joystick":"Joystick","./ui/playerControlEvent":"playerControlEvent","./ui/playerHp":"playerHp","./ui/uiManager":"uiManager"}],playerHp:[function(t,e,n){"use strict";cc._RF.push(e,"93dcdNkO0BIy5Y7Sm4Qsff/","playerHp");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../sdk/data"),r=t("../Events"),c=t("../GameManager"),l=t("./uiManager"),_=cc._decorator,d=_.ccclass,h=_.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hpLabel=null,e.hpBar=null,e.cursor=null,e.bar=null,e.damageScale=0,e.damageShuriken=0,e.damageSowrdRain=0,e.hp_max=0,e.hp_now=0,e.damageLv=0,e.healthLv=0,e.speedLv=0,e.damageIncremental=.2,e.healthIncremental=.2,e.speedIncremental=.1,e.speedTimes=0,e.isOpenFullHp=!1,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.isOpenFullHp=!1,this.damageLv=Number(s.data.getCache("attributeLv","damage")),this.healthLv=Number(s.data.getCache("attributeLv","health")),this.speedLv=Number(s.data.getCache("attributeLv","speed")),this.hp_max=Number(s.data.getCache("Base","playerHp"))*(1+this.healthLv*this.healthIncremental),this.damageScale=Number(s.data.getCache("Base","playerDamage"))*(1+this.damageLv*this.damageIncremental),this.damageShuriken=Number(s.data.getCache("Base","shurikenDamage"))*(1+this.damageLv*this.damageIncremental),this.damageSowrdRain=Number(s.data.getCache("Base","swordRainDamage"))*(1+this.damageLv*this.damageIncremental),this.hp_now=this.hp_max,this.speedTimes=1+this.speedLv/10,this.updateLabel()},e.prototype.fullHp=function(){this.addHp(this.hp_max-this.hp_now)},e.prototype.addHp=function(t,e){void 0===e&&(e=!1),t=Math.floor(t),this.hp_now+=t,this.hp_now=this.hp_now>this.hp_max?this.hp_max:this.hp_now,this.updateLabel();var n=c.default.instance.playerController.skeleton.node.scaleX>0?-35:35;r.default.instance.showAddHp_player(c.default.instance.player,t,n,e)},e.prototype.updateHp=function(t){t=Math.floor(t),this.createBarFadeOut(),this.hp_now-=t,this.hp_now=this.hp_now<0?0:this.hp_now,this.updateLabel(),this.hp_now<=0&&(this.hp_now=0,c.default.instance.playerController.die()),0==c.default.instance.playerController.isDie&&0==this.isOpenFullHp&&this.hp_now<this.hp_max/3&&(this.isOpenFullHp=!0,l.default.ins.showFullHpPopup())},e.prototype.updateLabel=function(){this.hpBar.progress=this.hp_now/this.hp_max,this.cursor.x=300*this.hpBar.progress,this.hpLabel.string=this.hp_now+"/"+this.hp_max},e.prototype.createBarFadeOut=function(){var t=cc.instantiate(this.bar);t.setParent(this.bar.parent),t.setPosition(this.bar.position),cc.tween(t).to(.3,{opacity:0,color:cc.Color.WHITE}).call(function(){t.destroy()}).start()},e.instance=null,a([h(cc.Label)],e.prototype,"hpLabel",void 0),a([h(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([h(cc.Node)],e.prototype,"cursor",void 0),a([h(cc.Node)],e.prototype,"bar",void 0),n=a([d],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../sdk/data":"data","../Events":"Events","../GameManager":"GameManager","./uiManager":"uiManager"}],playerPandant:[function(t,e,n){"use strict";cc._RF.push(e,"67fc6T27PNOl4l9vGJy/Vcn","playerPandant");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./playerController"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.player=null,e.playerControl=null,e.distanceX=80,e.distanceY=80,e.isInit=!1,e}return o(e,t),e.prototype.onLoad=function(){this.animation=this.node.getComponent(cc.Animation)},e.prototype.start=function(){},e.prototype.init=function(){this.playerControl=this.player.getComponent(s.default),this.node.setPosition(this.player.x-this.distanceX,this.player.y+this.distanceY),this.node.active=!0,this.isInit=!0},e.prototype.update=function(){this.isInit&&this.follow()},e.prototype.follow=function(){var t=cc.v3(0,this.player.y+this.distanceY);this.playerControl.skeleton.node.scaleX>0?t.x=this.player.x-this.distanceX:t.x=this.player.x+this.distanceX,this.node.position=this.node.position.lerp(t,.1)},a([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./playerController":"playerController"}],playerSpawn:[function(t,e,n){"use strict";cc._RF.push(e,"9045fAEbe1Ht5kZtSuD9rSn","playerSpawn");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../caijiTools"),l=t("./GameManager"),_=t("./playerController"),d=cc._decorator,h=d.ccclass,p=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){l.default.instance.playerSpawnM=this},e.prototype.start=function(){},e.prototype.spawnPlayer=function(){return s(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return[4,c.caijiTools.loadPrefab("prefabs/player")];case 1:return t=n.sent(),(e=cc.instantiate(t)).setParent(this.node.parent),e.setPosition(this.node.position),e.setSiblingIndex(this.node.getSiblingIndex()),l.default.instance.player=e,l.default.instance.playerController=e.getComponent(_.default),e.active=!0,[2]}})})},a([h],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../caijiTools":"caijiTools","./GameManager":"GameManager","./playerController":"playerController"}],portal:[function(t,e,n){"use strict";cc._RF.push(e,"1544c+y5cFCNo+OsDl+SB1Q","portal");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){},e.prototype.onBeginContact=function(t,e,n){n.node.group},a([r],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],reviveFx:[function(t,e,n){"use strict";cc._RF.push(e,"50e61VEAuBOrYQ2gv7vr8RK","reviveFx");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.getComponent(sp.Skeleton)},e.prototype.start=function(){},a([r],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],rock:[function(t,e,n){"use strict";cc._RF.push(e,"c999aTfBeZFsaHFnMLh4J53","rock");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../caijiTools"),r=t("./skillPool"),c=cc._decorator,l=c.ccclass,_=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.tween=function(){for(var t=this,e=function(t){t.scale=.3+s.caijiTools.random_int(-10,10)/100;var e=s.caijiTools.random_int(-500,500)/10,i=s.caijiTools.random_int(-500,500)/10;t.setPosition(e,i);var o=cc.v2(e,i).normalizeSelf();n.scheduleOnce(function(){t.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(1200*o.x,1200*o.y),!0)},0),n.scheduleOnce(function(){cc.tween(t).to(.3,{scale:0}).start()},.5)},n=this,i=0,o=this.node.children;i<o.length;i++)e(o[i]);this.scheduleOnce(function(){r.default.instance.recoveryRock(t.node)},2)},e.prototype.reuse=function(){},e.prototype.unuse=function(){},a([l],e)}(cc.Component));n.default=_,cc._RF.pop()},{"../caijiTools":"caijiTools","./skillPool":"skillPool"}],shaderController:[function(t,e,n){"use strict";cc._RF.push(e,"fbec0pG4BtN/LdY2nKQkmJi","shaderController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,r=t("../caijiTools"),c=t("./animationState"),l=t("./enemyAnimation"),_=t("./enemyBase"),d=t("./enemyHitCollider"),h=t("./Events"),p=t("./GameManager"),u=cc._decorator,y=u.ccclass,f=u.property;(function(t){t[t.attack=0]="attack",t[t.skill=1]="skill"})(s||(s={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.smokeFX=null,e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.hpNode=null,e.hpBar=null,e.dieEffectName="",e.moveSpeed=80,e.nowSpeed=0,e.AI_interval=.7,e.stopDistance=130,e.hp=0,e.hpTimes=1,e.beHitForce_y=25e3,e.beHitForce_x=25e3,e.beHitForce_y_shuriken=5e4,e.beHitForce_x_attack3=35e4,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.allowAttackTimes=3,e.nowAttackTimes=3,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isMove=!1,e.isWuDi=!1,e.dmgCollider=null,e.smokeParticle_Black=null,e.smokeParticle_Red=null,e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(l.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider),this.smokeParticle_Black=this.smokeFX.getComponent(cc.ParticleSystem3D),this.smokeParticle_Red=this.smokeFX.children[0].getComponent(cc.ParticleSystem3D)},e.prototype.onEnable=function(){this.node.y=-216},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.initData(),this.hp=this.hpMax*this.hpTimes,this.AI_interval+=Math.random(),this.idle(),cc.tween(this.node).to(.2,{y:-165.4}).start()},e.prototype.update=function(){if(0!=this.isMove){var t=this.getDistanceX();if(Math.abs(t)<this.stopDistance)this.hit();else{if(this.enemyAnimation.state==c.enemyState.attack)return;this.moveToPlayer()}}},e.prototype.onBeginContact=function(t,e,n){n.node.group},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;if(p.default.instance.playerController.isDie)return this.changeMovState(!1),void this.scheduleOnce(function(){t.AI_start()},1);Math.abs(this.getDistanceX())<this.stopDistance?this.hit():(this.changeDirection(),this.changeMovState(!0),this.nowSpeed=this.skeleton.node.scaleX>0?-this.moveSpeed:this.moveSpeed)},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(){var t=this;this.changeMovState(!1),this.changeDirection(),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.enemyAnimation.changeState(c.enemyState.Idle,1,!0),this.scheduleOnce(function(){t.enemyAnimation.state==c.enemyState.Idle&&t.AI_start()},this.AI_interval)},e.prototype.changeDirection=function(){null!=p.default.instance.player&&(this.skeleton.node.scaleX=p.default.instance.player.x>this.node.x?-this.scaleX_skeleton:this.scaleX_skeleton)},e.prototype.die=function(){this.isDie=!0,this.node.active=!1,this.hideHp()},e.prototype.getUp=function(){this.enemyAnimation.changeState(c.enemyState.get_up,1,!1,!0)},e.prototype.moveToPlayer=function(){this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0)},e.prototype.skillStart=function(){this.enemyAnimation.changeState(c.enemyState["Skill-Start"],1,!1),this.scheduleOnce(this.skillMiddle,2.5)},e.prototype.skillMiddle=function(){var t=this,e=p.default.instance.playerController.skeleton.node.scaleX>0?p.default.instance.player.x+130:p.default.instance.player.x-130;this.node.x=e,this.changeDirection(),this.openCollider(),this.enemyAnimation.changeState(c.enemyState["Skill-Middle"],1,!1),this.scheduleOnce(this.skillEnd,1.7),this.showDamageCollider(s.skill),this.scheduleOnce(function(){t.enemyAnimation.state==c.enemyState["Skill-Middle"]&&(t.getDamageCollider().getComponent(d.default).hit(t.node,1.7*t.damage),t.getDamageCollider().getComponent(d.default).player&&h.default.instance.screenShake(8,0,12))},.2)},e.prototype.skillEnd=function(){var t=0;t=p.default.instance.player.x<700?p.default.instance.player.x+r.caijiTools.random_int(300,cc.winSize.width/1.5):p.default.instance.player.x>1700?p.default.instance.player.x-r.caijiTools.random_int(200,cc.winSize.width/1.5):r.caijiTools.random_int(1,10)%2==0?p.default.instance.player.x+r.caijiTools.random_int(-cc.winSize.width/1.5,-200):p.default.instance.player.x+r.caijiTools.random_int(200,cc.winSize.width/1.5),this.node.x=t,this.openCollider(),this.changeDirection(),this.enemyAnimation.changeState(c.enemyState["Skill-End"],1,!1)},e.prototype.hit=function(){var t=this;this.changeDirection(),this.changeMovState(!1),this.setRigibodySpeed(0,0),this.nowAttackTimes<this.allowAttackTimes?(this.nowAttackTimes++,this.showDamageCollider(s.attack),this.enemyAnimation.changeState(c.enemyState.Atk,1,!1),this.scheduleOnce(function(){t.enemyAnimation.state==c.enemyState.Atk&&(t.getDamageCollider().getComponent(d.default).player&&h.default.instance.screenShake(8,0,12),t.getDamageCollider().getComponent(d.default).hit(t.node,t.damage))},.5)):(this.nowAttackTimes=0,this.skillStart())},e.prototype.beHit=function(t,e){this.highLight(),this.showHp(),this.changeState_beHit(e);var n=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+1.2*this.damageLabelOffsetY;h.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.updateHp(t),this.hp<=0&&h.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(n,i))},e.prototype.closeCollider=function(){this.boxCollider.enabled=!1,this.boxCollider.apply(),this.node.getComponent(cc.BoxCollider).enabled=!1,this.hideHp(),this.smokeParticle_Black.startColor.color.a=0,this.smokeParticle_Red.startColor.color.a=0,this.smokeParticle_Red.clear()},e.prototype.openCollider=function(){this.boxCollider.enabled=!0,this.boxCollider.apply(),this.node.getComponent(cc.BoxCollider).enabled=!0,cc.tween(this.smokeParticle_Black.startColor.color).to(.2,{a:150}).start(),cc.tween(this.smokeParticle_Red.startColor.color).to(.05,{a:150}).start()},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==c.attackType.attack3;switch(t){case c.attackType.attack1:n=c.enemyState.get_hurt2,this.applyForce(cc.v2(p.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case c.attackType.attack2:n=c.enemyState.get_hurt1,this.applyForce(cc.v2(p.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case c.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=c.enemyState.knock_down,this.node.x<p.default.instance.player.x&&p.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>p.default.instance.player.x&&p.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case c.attackType.jumpHit:n=c.enemyState.get_hurt1,this.applyForce(cc.v2(p.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case c.attackType.shuriken:n=c.enemyState.get_hurt1,this.applyForce(cc.v2(p.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case c.attackType.swordRain:n=c.enemyState.get_hurt1}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==c.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.updateHp=function(t){this.hp-=t,this.hpBar.progress=this.hp/this.hpMax,this.hp<=0&&(this.hp=0,this.die())},e.prototype.showHp=function(){this.unschedule(this.hideHp),this.hpNode.active=!0,this.scheduleOnce(this.hideHp,2)},e.prototype.hideHp=function(){this.hpNode.active=!1},e.prototype.highLight=function(){this.unschedule(this.closeHighLight),this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),this.scheduleOnce(this.closeHighLight,.15)},e.prototype.closeHighLight=function(){this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistanceX=function(){return this.node.x-p.default.instance.player.x},a([f(cc.Node)],e.prototype,"smokeFX",void 0),a([f({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([f({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([f(cc.Node)],e.prototype,"hpNode",void 0),a([f(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([f(cc.String)],e.prototype,"dieEffectName",void 0),a([y],e)}(_.default);n.default=g,cc._RF.pop()},{"../caijiTools":"caijiTools","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider"}],shuriken:[function(t,e,n){"use strict";cc._RF.push(e,"78986FsJpZB9JQMZsy5ONiF","shuriken");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../audioNameMgr"),r=t("./animationState"),c=t("./GameManager"),l=t("./ui/playerHp"),_=cc._decorator,d=_.ccclass,h=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damage=0,e.speed=2300,e.rigibody=null,e.enemysHadHit=[],e}return o(e,t),e.prototype.onLoad=function(){this.rigibody=this.node.getComponent(cc.RigidBody),this.damage=l.default.instance.damageShuriken},e.prototype.start=function(){var t=this,e=c.default.instance.playerController.skeleton.node.scaleX>0?this.speed:-this.speed;this.rigibody.linearVelocity=cc.v2(e,0),this.scheduleOnce(function(){t.node.destroy()},3)},e.prototype.onBeginContact=function(t,e,n){var i=n.node;if("enemy"==i.group){if(this.enemysHadHit.includes(i))return;i.getComponent(r.enemyScript[i.name]).beHit(this.damage,r.attackType.shuriken),this.enemysHadHit.push(i),i.getComponent(r.enemyScript[i.name]).playBeHitSound(s.audioName.airslash1)}},a([d],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","./GameManager":"GameManager","./animationState":"animationState","./ui/playerHp":"playerHp"}],skillPool:[function(t,e,n){"use strict";cc._RF.push(e,"10733spul5GZYFDkfpWJtA/","skillPool");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.swordItem=null,e.swordItem2=null,e.swordSmoke=null,e.rockPrefab=null,e.thunderBallPrefab=null,e.swordPool=new cc.NodePool("swordItem"),e.sword2Pool=new cc.NodePool("swordItem2"),e.swordSmokePool=new cc.NodePool("swordSmoke"),e.rockPool=new cc.NodePool("rock"),e.thunderBallPool=new cc.NodePool("thunderBall_burst"),e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.onDisable=function(){this.rockPool.clear(),this.swordPool.clear(),this.sword2Pool.clear(),this.swordSmokePool.clear(),this.thunderBallPool.clear()},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.createThunderBall(),this.createSword(),this.createSword2(),this.createSwordSmoke(),this.createRock()},e.prototype.createThunderBall=function(){for(var t=0;t<20;t++){var e=cc.instantiate(this.thunderBallPrefab);e.name=e.name+t,this.thunderBallPool.put(e)}},e.prototype.createSword=function(){for(var t=0;t<10;t++){var e=cc.instantiate(this.swordItem);e.active=!1,this.swordPool.put(e)}},e.prototype.createSword2=function(){for(var t=0;t<12;t++){var e=cc.instantiate(this.swordItem2);this.sword2Pool.put(e)}},e.prototype.createSwordSmoke=function(){for(var t=0;t<15;t++){var e=cc.instantiate(this.swordSmoke);this.swordSmokePool.put(e)}},e.prototype.createRock=function(){for(var t=0;t<50;t++){var e=cc.instantiate(this.rockPrefab);this.rockPool.put(e)}},e.prototype.getThunderBall=function(){var t=this.thunderBallPool.get();return t||((t=cc.instantiate(this.thunderBallPrefab)).name=t.name+this.thunderBallPool.size()),t},e.prototype.recoveryThunderball=function(t){this.thunderBallPool.put(t)},e.prototype.getRock=function(){var t=this.rockPool.get();return t||(t=cc.instantiate(this.rockPrefab)),t},e.prototype.recoveryRock=function(t){this.rockPool.put(t)},e.prototype.getSwordSmoke=function(){var t=this.swordSmokePool.get();return t||(t=cc.instantiate(this.swordSmoke)),t},e.prototype.recoverySwordSmoke=function(t){this.swordSmokePool.put(t)},e.prototype.getSword1=function(){var t=this.swordPool.get();return t||(t=cc.instantiate(this.swordItem)),t},e.prototype.recoverySword1=function(t){this.swordPool.put(t)},e.prototype.getSword2=function(){var t=this.sword2Pool.get();return t||(t=cc.instantiate(this.swordItem2)),t},e.prototype.recoverySword2=function(t){this.sword2Pool.put(t)},e.instance=null,a([c(cc.Prefab)],e.prototype,"swordItem",void 0),a([c(cc.Prefab)],e.prototype,"swordItem2",void 0),a([c(cc.Prefab)],e.prototype,"swordSmoke",void 0),a([c(cc.Prefab)],e.prototype,"rockPrefab",void 0),a([c(cc.Prefab)],e.prototype,"thunderBallPrefab",void 0),n=a([r],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],spawnEnemy:[function(t,e,n){"use strict";cc._RF.push(e,"87ccekukBxPV5AgIQeF5bYY","spawnEnemy");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../audioNameMgr"),r=t("../main/audioManager"),c=t("./Events"),l=cc._decorator,_=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.spawnEnemyName="enemy1",e.enemyHp=0,e.isSpawn=!1,e}return o(e,t),e.prototype.onLoad=function(){this.animation=this.node.getComponent(cc.Animation)},e.prototype.start=function(){var t=this;"enemy10"==this.spawnEnemyName&&(this.animation.node.scale=2),["enemy39","miniBoss","ladyBug","bigSquid","spiderling"].includes(this.spawnEnemyName)&&(this.animation.node.scale=0),this.animation.on("finished",function(){t.node.destroy()}),this.animation.getClips()[0].events.push({frame:.14,func:"spawnEnemy",params:[""]}),this.animation.play()},e.prototype.spawnEnemy=function(){this.isSpawn||(this.isSpawn=!0,c.default.instance.spawnEnemy(this.spawnEnemyName,this.node.parent,cc.v2(this.node.position)),this.animation.node.scale>0&&r.default.playAudio(s.audioName.CreepSpawn))},a([_],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../main/audioManager":"audioManager","./Events":"Events"}],spiderlingController:[function(t,e,n){"use strict";cc._RF.push(e,"3c2b2qSASdDAb0yATGO+Rap","spiderlingController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,r=t("../audioNameMgr"),c=t("../caijiTools"),l=t("../main/audioManager"),_=t("./animationState"),d=t("./enemyAnimation"),h=t("./enemyBase"),p=t("./enemyHitCollider"),u=t("./Events"),y=t("./GameManager"),f=cc._decorator,g=f.ccclass,m=f.property;(function(t){t[t.fall=0]="fall",t[t.bomb=1]="bomb"})(s||(s={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.landingFx=null,e.damageLabelOffsetX=0,e.damageLabelOffsetY=0,e.hpNode=null,e.hpBar=null,e.dieEffectName="",e.moveSpeed=150,e.nowSpeed=0,e.AI_interval=.2,e.stopDistance=30,e.hp=0,e.hpTimes=1,e.beHitForce_y=0,e.beHitForce_x=0,e.beHitForce_y_shuriken=0,e.beHitForce_x_attack3=1e5,e.beHitForce_y_attack3=0,e.scaleX_skeleton=0,e.isDie=!1,e.skeleton=null,e.enemyAnimation=null,e.rigibody=null,e.boxCollider=null,e.isSwordRainCd=!1,e.isMove=!1,e.dmgCollider=null,e.isWarning=!1,e.isWuDi=!0,e.warn_a={a:0},e}return o(e,t),e.prototype.onLoad=function(){this.skeleton=this.node.children[0].getComponent(sp.Skeleton),this.scaleX_skeleton=Math.abs(this.skeleton.node.scaleX),this.enemyAnimation=this.node.children[0].getComponent(d.default),this.enemyAnimation.enemyController=this,this.rigibody=this.node.getComponent(cc.RigidBody),this.boxCollider=this.node.getComponent(cc.PhysicsBoxCollider)},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.initData(),this.hp=this.hpMax*this.hpTimes,this.enemyAnimation.changeState(_.enemyState.Fall,1,!1),this.showDamageCollider(s.fall),l.default.playAudio(r.audioName.E40Start)},e.prototype.update=function(){if(this.warningAnimation(),0!=this.isMove){var t=this.getDistanceX();if(Math.abs(t)<this.stopDistance)this.idle();else{if(this.enemyAnimation.state==_.enemyState.attack)return;this.moveToPlayer()}}},e.prototype.warningAnimation=function(){this.isWarning&&(this.skeleton._skeleton.slots[4].color.a=this.warn_a.a)},e.prototype.startWarning=function(){l.default.playAudio(r.audioName.E40Alert,!1,.6),this.skeleton.setAttachment("Untitled-4","Untitled-4"),this.isWarning=!0,cc.tween(this.warn_a).repeatForever(cc.tween().to(.1,{a:1}).to(.1,{a:.1})).start(),this.scheduleOnce(this.die,2.5)},e.prototype.stopWarn=function(){this.isWarning=!1,cc.Tween.stopAllByTarget(this.warn_a),this.warn_a.a=0},e.prototype.onBeginContact=function(t,e,n){"wall"==n.node.group&&(t.disabled=!0)},e.prototype.showDamageCollider=function(t){this.skeleton.node.children[t].active=!0,this.dmgCollider=t},e.prototype.getDamageCollider=function(){return this.skeleton.node.children[this.dmgCollider]},e.prototype.hideDamageCollider=function(){null!=this.dmgCollider&&(this.skeleton.node.children[this.dmgCollider].active=!1,this.dmgCollider=null)},e.prototype.AI_start=function(){var t=this;if(this.changeDirection(),y.default.instance.playerController.isDie)return this.changeMovState(!1),void this.scheduleOnce(function(){t.AI_start()},1);Math.abs(this.getDistanceX())<this.stopDistance?this.idle():(this.changeDirection(),this.enemyAnimation.changeState(_.enemyState.Move,1,!0),this.changeMovState(!0),this.nowSpeed=this.skeleton.node.scaleX>0?-this.moveSpeed:this.moveSpeed)},e.prototype.AI_stop=function(){this.idle()},e.prototype.changeMovState=function(t){this.isMove=t},e.prototype.idle=function(){var t=this;this.enemyAnimation.state!=_.enemyState.Stop&&this.enemyAnimation.changeState(_.enemyState.Stop,1,!0,!0),this.changeMovState(!1),this.setLinearDamping(0),this.setRigibodySpeed(0,0),this.scheduleOnce(function(){t.enemyAnimation.state==_.enemyState.Stop&&t.AI_start()},this.AI_interval)},e.prototype.changeDirection=function(){this.skeleton.node.scaleX=y.default.instance.player.x-this.node.x>0?-this.scaleX_skeleton:this.scaleX_skeleton},e.prototype.die=function(){var t=this;if(!this.isDie){l.default.playAudio(r.audioName.E40Exposion,!1,.6),this.isDie=!0,this.node.opacity=0,this.node.getComponent(cc.BoxCollider).enabled=!1,this.hideHp(),this.showDamageCollider(s.bomb),this.unscheduleAllCallbacks(),cc.Tween.stopAllByTarget(this.node),this.scheduleOnce(function(){t.getDamageCollider()&&t.getDamageCollider().getComponent(p.default).hit(t.node,t.damage,!0)},0);var e=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,n=this.node.y+this.damageLabelOffsetY;u.default.instance.createEnemyDieEffect(this.node,this.dieEffectName,cc.v2(e,n)),this.scheduleOnce(function(){t.node.destroy()},1)}},e.prototype.moveToPlayer=function(){this.rigibody.linearVelocity=cc.v2(this.nowSpeed,0)},e.prototype.born=function(){l.default.playAudio(r.audioName.E40Born),this.enemyAnimation.changeState(_.enemyState.Born,1,!1,!0)},e.prototype.bornComplete=function(){this.isWuDi=!1,this.idle(),this.scheduleOnce(this.startWarning,2)},e.prototype.attack_fall=function(){this.getDamageCollider().getComponent(p.default).hit(this.node,this.damage);var t=c.caijiTools.createNode(this.landingFx,this.node.parent);t.setSiblingIndex(this.node.getSiblingIndex()+1),t.setPosition(this.node.position),t.active=!0},e.prototype.Knock_up2=function(){this.enemyAnimation.changeState(_.enemyState.Knock_up2,1,!1,!0)},e.prototype.Knock_up3=function(){this.enemyAnimation.changeState(_.enemyState.Knock_up3,1,!1,!0)},e.prototype.getUp=function(){this.enemyAnimation.changeState(_.enemyState.Get_up,1,!1,!0)},e.prototype.hit=function(){var t=this;_.enemyState[this.enemyAnimation.state].includes("get_hurt")||(this.changeDirection(),this.changeMovState(!1),this.setRigibodySpeed(0,0),this.showDamageCollider(s.fall),this.enemyAnimation.changeState(_.enemyState.attack,1,!1),this.scheduleOnce(function(){t.enemyAnimation.state==_.enemyState.attack&&t.getDamageCollider().getComponent(p.default).hit(t.node,t.damage)},.5))},e.prototype.beHit=function(t,e){if(!this.isWuDi&&(this.changeMovState(!1),this.setRigibodySpeed(0),0!=this.checkIsSwordRain(e))){this.highLight(),this.showHp(),this.changeState_beHit(e);var n=this.node.scaleX<0?this.node.x+this.damageLabelOffsetX:this.node.x-this.damageLabelOffsetX,i=this.node.y+this.damageLabelOffsetY;u.default.instance.showDamageLabel_enemy(this.node,t,cc.v2(n,i)),this.hp,this.updateHp(t)}},e.prototype.setRigibodySpeed=function(t,e){void 0===e&&(e=0),this.rigibody.linearVelocity=cc.v2(t,e)},e.prototype.changeState_beHit=function(t){var e=this;if(!this.isSuperArmor){var n=null,i=t==_.attackType.attack3;switch(t){case _.attackType.attack1:case _.attackType.attack2:n=_.enemyState.Get_Hit,this.applyForce(cc.v2(y.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.attack3:this.setLinearDamping(0),this.scheduleOnce(function(){e.setLinearDamping(5)},.4),n=_.enemyState.Knock_up1,this.node.x<y.default.instance.player.x&&y.default.instance.playerController.skeleton.node.scaleX<0?this.applyForce(cc.v2(-this.beHitForce_x_attack3,this.beHitForce_y_attack3)):this.node.x>y.default.instance.player.x&&y.default.instance.playerController.skeleton.node.scaleX>0&&this.applyForce(cc.v2(this.beHitForce_x_attack3,this.beHitForce_y_attack3));break;case _.attackType.jumpHit:n=_.enemyState.Get_Hit,this.applyForce(cc.v2(y.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,0));break;case _.attackType.shuriken:n=_.enemyState.Get_Hit,this.applyForce(cc.v2(y.default.instance.player.x>this.node.x?-this.beHitForce_x:this.beHitForce_x,this.beHitForce_y_shuriken));break;case _.attackType.swordRain:n=_.enemyState.Get_Hit}this.enemyAnimation.changeState(n,1,!1,i)}},e.prototype.setLinearDamping=function(t){this.rigibody.linearDamping=t},e.prototype.setFriction=function(t){void 0===t&&(t=0),this.boxCollider.friction=t,this.boxCollider.apply()},e.prototype.applyForce=function(t){this.isSuperArmor||this.rigibody.applyForceToCenter(t,!0)},e.prototype.checkIsSwordRain=function(t){var e=this;if(t==_.attackType.swordRain){if(this.isSwordRainCd)return 0;this.isSwordRainCd=!0,this.scheduleOnce(function(){e.isSwordRainCd=!1},this.swordRainHitCd)}return 1},e.prototype.updateHp=function(t){this.hp-=t,this.hpBar.progress=this.hp/this.hpMax,this.hp<=0&&(this.hp=0,this.die())},e.prototype.showHp=function(){this.unschedule(this.hideHp),this.hpNode.active=!0,this.scheduleOnce(this.hideHp,2)},e.prototype.hideHp=function(){this.hpNode.active=!1},e.prototype.highLight=function(){this.unschedule(this.closeHighLight),this.skeleton.getMaterial(0).setProperty("beHit",1),this.skeleton.getMaterial(0).setProperty("highLightColor",[1,1,1,.5]),this.scheduleOnce(this.closeHighLight,.15)},e.prototype.closeHighLight=function(){this.skeleton.getMaterial(0).setProperty("beHit",0)},e.prototype.getDistanceX=function(){return this.node.x-y.default.instance.player.x},a([m(cc.Prefab)],e.prototype,"landingFx",void 0),a([m({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cx\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetX",void 0),a([m({type:cc.Float,tooltip:"\u4f24\u5bb3\u6548\u679cy\u8f74\u504f\u79fb\u503c"})],e.prototype,"damageLabelOffsetY",void 0),a([m(cc.Node)],e.prototype,"hpNode",void 0),a([m(cc.ProgressBar)],e.prototype,"hpBar",void 0),a([m(cc.String)],e.prototype,"dieEffectName",void 0),a([g],e)}(h.default);n.default=v,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../caijiTools":"caijiTools","../main/audioManager":"audioManager","./Events":"Events","./GameManager":"GameManager","./animationState":"animationState","./enemyAnimation":"enemyAnimation","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider"}],swordItem2:[function(t,e,n){"use strict";cc._RF.push(e,"1a6fdJ+JNVKzJV7W1ODlljC","swordItem2");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../caijiTools"),r=t("./skillPool"),c=cc._decorator,l=c.ccclass,_=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRight=!1,e.rightAngle=48,e.leftAngle=-48,e.offsetX=74,e.offsetY=-67,e.isDestory=!1,e.movex1=0,e.movey1=0,e.movex2=0,e.movey2=0,e}return o(e,t),e.prototype.onLoad=function(){this.movex1=12*this.offsetX,this.movey1=12*this.offsetY,this.movex2=.1*this.offsetX,this.movey2=.1*this.offsetY},e.prototype.init=function(){this.movex1=this.isRight?Math.abs(this.movex1):-Math.abs(this.movex1),this.movex2=this.isRight?Math.abs(this.movex2):-Math.abs(this.movex2)},e.prototype.tween=function(){var t=this;this.init(),this.node.scaleX=s.caijiTools.random_int(3,6)/10,this.node.scaleY=20*this.node.scaleX,this.node.angle=this.isRight?this.rightAngle:this.leftAngle,cc.tween(this.node).by(.1,{position:cc.v3(this.movex1,this.movey1)}).start(),this.scheduleOnce(function(){t.changeColor()},.05)},e.prototype.changeColor=function(){var t=this;this.node.color=cc.Color.BLACK,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).parallel(cc.tween().by(.08,{opacity:-255}),cc.tween().by(.1,{position:cc.v3(this.movex2,this.movey2)})).call(function(){r.default.instance.recoverySword2(t.node)}).start()},e.prototype.reuse=function(){this.isDestory=!1},e.prototype.unuse=function(){this.node.color=cc.Color.WHITE,this.node.opacity=255},a([l],e)}(cc.Component));n.default=_,cc._RF.pop()},{"../caijiTools":"caijiTools","./skillPool":"skillPool"}],swordItem:[function(t,e,n){"use strict";cc._RF.push(e,"01e05IoNoRJAa0EdrjqKjl7","swordItem");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../caijiTools"),r=t("./rock"),c=t("./skillPool"),l=t("./swordSmoke"),_=cc._decorator,d=_.ccclass,h=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRight=!1,e.isDestory=!1,e.rightAngle=138,e.leftAngle=42,e.offsetX=74,e.offsetY=-67,e.movex1=0,e.movey1=0,e.movex2=0,e.movey2=0,e.damage=0,e.enemysHadHit=[],e}return o(e,t),e.prototype.onLoad=function(){this.movex1=.3*this.offsetX,this.movey1=.3*this.offsetY,this.movex2=5*this.offsetX,this.movey2=5*this.offsetY},e.prototype.onEnable=function(){},e.prototype.init=function(){this.movex1=this.isRight?Math.abs(this.movex1):-Math.abs(this.movex1),this.movex2=this.isRight?Math.abs(this.movex2):-Math.abs(this.movex2)},e.prototype.tween=function(){var t=this;this.init();var e=s.caijiTools.random_int(50,60)/10;this.node.angle=this.isRight?this.rightAngle:this.leftAngle,cc.tween(this.node).by(.04,{scale:1}).by(.12,{position:cc.v3(this.movex1,this.movey1)}).parallel(cc.tween().by(.1,{scaleX:e},{easing:"sineIn"}),cc.tween().by(.1,{scaleY:-.5,position:cc.v3(this.movex2,this.movey2)})).start(),this.scheduleOnce(function(){c.default.instance.recoverySword1(t.node)},.25)},e.prototype.createSmoke=function(t,e){var n=c.default.instance.getSwordSmoke(),i=this.node.parent.parent.convertToNodeSpaceAR(t);i.x=i.x+s.caijiTools.random_int(-300,100)/10,i.y=i.y+s.caijiTools.random_int(100,500)/10,n.setParent(this.node.parent.parent),n.setSiblingIndex(e.getSiblingIndex()-1),n.setPosition(i),n.getComponent(l.default).tween(),n.active=!0,this.createRock(i),c.default.instance.recoverySword1(this.node)},e.prototype.createRock=function(t){var e=c.default.instance.getRock();e.setParent(this.node.parent.parent),e.setPosition(t),e.getComponent(r.default).tween(),e.setSiblingIndex(e.getSiblingIndex()-1),e.active=!0},e.prototype.reuse=function(){cc.Tween.stopAllByTarget(this.node),this.isDestory=!1},e.prototype.unuse=function(){this.node.scale=0,this.enemysHadHit=[]},a([d],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../caijiTools":"caijiTools","./rock":"rock","./skillPool":"skillPool","./swordSmoke":"swordSmoke"}],swordRainCollider:[function(t,e,n){"use strict";cc._RF.push(e,"03977qAxU9L96D1Gfk1qnPV","swordRainCollider");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../sdk/data"),r=t("./animationState"),c=t("./ui/playerHp"),l=cc._decorator,_=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damage=0,e.interval=0,e.enemyTemp=[],e}return o(e,t),e.prototype.onEnable=function(){this.damage=c.default.instance.damageSowrdRain,this.interval=Number(s.data.gameJson("swordRainInterval"))},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.schedule(t.hit,t.interval)},.2)},e.prototype.hit=function(){for(var t=0,e=this.enemyTemp;t<e.length;t++){var n=e[t];n.getComponent(r.enemyScript[n.name]).beHit(this.damage,r.attackType.swordRain)}},e.prototype.onCollisionEnter=function(t){this.enemyTemp.includes(t.node)||this.enemyTemp.push(t.node)},e.prototype.onCollisionExit=function(t){var e=this.enemyTemp.indexOf(t.node);this.enemyTemp.splice(e,1)},a([_],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../sdk/data":"data","./animationState":"animationState","./ui/playerHp":"playerHp"}],swordRain:[function(t,e,n){"use strict";cc._RF.push(e,"e9412Qt87xH/J1fRyb224Iq","swordRain");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../caijiTools"),r=t("./rock"),c=t("./skillPool"),l=t("./swordItem"),_=t("./swordItem2"),d=t("./swordSmoke"),h=cc._decorator,p=h.ccclass,u=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRight=!1,e.offsetForward_x1=400,e.offsetReverse_x1=1500,e.offsetForward_x2=500,e.offsetReverse_x2=1600,e.duration=1.8,e.smokeX_min=0,e.smokeX_max=0,e}return o(e,t),e.prototype.start=function(){var t=this;this.isRight?(this.smokeX_min=250,this.smokeX_max=580):(this.smokeX_max=-250,this.smokeX_min=-580),this.isRight?this.node.children[0].active=!0:this.node.children[1].active=!0,this.schedule(this.createSword,.06),this.scheduleOnce(function(){t.schedule(t.createSword2,.04),t.schedule(t.createSmoke,.06)},.3),this.scheduleOnce(function(){t.destory()},this.duration)},e.prototype.destory=function(){var t=this;this.unscheduleAllCallbacks(),cc.tween(this.node).to(.2,{opacity:0}).call(function(){t.node.children[0].active=!1,t.node.children[1].active=!1,t.scheduleOnce(function(){t.node.destroy()},1)}).start()},e.prototype.createSword=function(){for(var t=0;t<2;t++){var e=c.default.instance.getSword1();e.setParent(this.node),e.setPosition(this.getRandomX_sword1()/10,s.caijiTools.random_int(-500,1100)/10),e.active=!0,e.getComponent(l.default).isRight=this.isRight,e.getComponent(l.default).tween()}},e.prototype.createSword2=function(){for(var t=0;t<3;t++){var e=c.default.instance.getSword2();e.setParent(this.node),e.setSiblingIndex(cc.macro.MIN_ZINDEX),e.setPosition(this.getRandomX_sword2()/10,s.caijiTools.random_int(-700,1300)/10),e.active=!0,e.getComponent(_.default).isRight=this.isRight,e.getComponent(_.default).tween()}},e.prototype.getRandomX_sword1=function(){return this.isRight?s.caijiTools.random_int(-this.offsetReverse_x1,this.offsetForward_x1):s.caijiTools.random_int(-this.offsetForward_x1,this.offsetReverse_x1)},e.prototype.getRandomX_sword2=function(){return this.isRight?s.caijiTools.random_int(-this.offsetReverse_x2,this.offsetForward_x2):s.caijiTools.random_int(-this.offsetForward_x2,this.offsetReverse_x2)},e.prototype.createSmoke=function(){var t=c.default.instance.getSwordSmoke(),e=cc.v2(0,0);e.x=s.caijiTools.random_int(this.smokeX_min,this.smokeX_max),e.y=s.caijiTools.random_int(-370,-420),t.setParent(this.node),t.setPosition(e),t.getComponent(d.default).tween(),t.active=!0,this.createRock(e)},e.prototype.createRock=function(t){var e=c.default.instance.getRock();e.setParent(this.node),e.setPosition(t),e.getComponent(r.default).tween(),e.active=!0},a([p],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../caijiTools":"caijiTools","./rock":"rock","./skillPool":"skillPool","./swordItem":"swordItem","./swordItem2":"swordItem2","./swordSmoke":"swordSmoke"}],swordSmoke:[function(t,e,n){"use strict";cc._RF.push(e,"ef6c5quedBNi5aAkI6Szgxv","swordSmoke");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../caijiTools"),r=t("./skillPool"),c=cc._decorator,l=c.ccclass,_=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.tween=function(){var t=this,e=.4*Math.random();this.node.scale=s.caijiTools.random_int(60,100)/100,cc.tween(this.node).by(.03,{scale:e}).by(.05,{opacity:-255}).call(function(){r.default.instance.recoverySwordSmoke(t.node)}).start()},e.prototype.reuse=function(){},e.prototype.unuse=function(){this.node.opacity=255,this.node.active=!1},a([l],e)}(cc.Component));n.default=_,cc._RF.pop()},{"../caijiTools":"caijiTools","./skillPool":"skillPool"}],syyx_adv_manager:[function(t,e,n){"use strict";cc._RF.push(e,"cf70bP4he5AFZtAv4kF/8FO","syyx_adv_manager"),Object.defineProperty(n,"__esModule",{value:!0}),n.syyx_adv_manager=void 0;var i=t("./ad_oppo_banner"),o=t("../../configs/syyx_sdk_enum"),a=t("../../utils/syyx_sdk_utils"),s=t("../syyx_manager"),r=t("../../configs/syyx_sdk_config"),c=t("./ad_banner"),l=t("./ad_native_interstitial"),_=t("./ad_native_inner_interstitial"),d=t("./ad_native_icon"),h=t("./ad_block"),p=function(){function t(){}return t.load_adv_config=function(){var t=this;this.__inited||(this.__inited=!0,this.login_timestamp=(new Date).getTime(),a.syyx_sdk_utils.load_resource(s.syyx_manager.__adv_config_file_path,function(e){r.syyx_const.syyx_sdk_publish===r.e_syyx_sdk_publish_type.in?t._adv_config_data=e:t._adv_config_data=a.syyx_sdk_utils.parse_csv(e,"id"),t._adv_config_data[10200001].oppo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("SP"),t._adv_config_data[10302001].oppo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("YSJS"),t._adv_config_data[10304001].oppo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("YSBN"),t._adv_config_data[10304002].oppo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("YSIC"),t._adv_config_data[10400001].oppo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("BN"),t._adv_config_data[10600002].oppo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("HT"),t._adv_config_data[10600003].oppo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("JGG"),t._adv_config_data[10301001].oppo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("YSCP"),t._adv_config_data[10200001].vivo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("SP"),t._adv_config_data[10302001].vivo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("YSJS"),t._adv_config_data[10304001].vivo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("YSBN"),t._adv_config_data[10304002].vivo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("YSIC"),t._adv_config_data[10400001].vivo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("BN"),t._adv_config_data[10600002].vivo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("HT")||"",t._adv_config_data[10600003].vivo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("JGG"),t._adv_config_data[10100001].vivo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("CP"),t._adv_config_data[10301001].vivo_adv_id=s.syyx_manager.guobao_get_channel_ad_id("YSCP"),t.__adv_config_inited=!0,console.log("sdk----- adv config has loaded complete",t._adv_config_data),s.syyx_manager.pre_load_game_portal_box(o.e_ad_id.game_portal_box,null,null,null,null),s.syyx_manager.preload_video()},this),this.init_native_report_record())},t.set_banner_height=function(){i.ad_oppo_banner.set_banner_height()},t.init_native_report_record=function(){this.native_report_record[o.e_ad_native_type.native_inner_interstitial]={start_count:0,show_count:0,click_count:0},this.native_report_record[o.e_ad_native_type.native_banner]={start_count:0,show_count:0,click_count:0},this.native_report_record[o.e_ad_native_type.native_interstitial]={start_count:0,show_count:0,click_count:0},this.native_report_record[o.e_ad_native_type.native_icon]={start_count:0,show_count:0,click_count:0}},t.init_first_banner_cd=function(){c.ad_banner.init_first_banner_cd()},t.add_native_data=function(t){for(var e in this._native_data_cache)if(this._native_data_cache[e].id==t.id)return;var n=this.get_oppo_native_cache_max_length();this._native_data_cache.length>=n&&this._native_data_cache.splice(0,1),this._native_data_cache.push(t)},t.show_banner=function(t,e,n,i,o,a){this.__adv_config_inited&&c.ad_banner.show_banner(t,e,n,i,o,a)},t.hide_banner=function(){this.__adv_config_inited&&c.ad_banner.hide_banner()},t.show_native_icon=function(t,e,n,i,o,a,s){this.__adv_config_inited&&d.ad_native_icon.show_native_icon(t,e,n,i,o,a,s)},t.hide_native_icon=function(){this.__adv_config_inited&&d.ad_native_icon.hide_native_icon()},t.show_native_interstitial=function(t,e,n,i,o,a){if(this.__adv_config_inited){var r=s.syyx_manager.__business_config_data;r&&r.vivo_yscp_switch&&0==r.vivo_yscp_switch.value[0]?a&&a():l.ad_native_interstitial.load_native_interstitial(t,e,n,i,o,a)}},t.preload_native_inner_interstitial=function(t,e,n,i,o,a){this.__adv_config_inited&&_.ad_native_inner_interstitial.preload_native_inner_interstitial(t,e,n,i,o,a)},t.set_on_click_inner_interstitial_btn=function(t){this.__adv_config_inited&&_.ad_native_inner_interstitial.set_on_click_inner_interstitial_btn(t)},t.get_native_data=function(t){if(void 0===t&&(t=void 0),c.ad_banner.can_show_first){var e=this.check_is_click_limit(o.e_ad_native_type.native_banner),n=this.check_is_click_limit(o.e_ad_native_type.native_inner_interstitial),i=this.check_is_click_limit(o.e_ad_native_type.native_interstitial),a=[];for(var s in this._native_data_cache)this._native_data_cache[s].id!=t&&((this._native_data_cache[s].native_type!=o.e_ad_native_type.native_banner||e)&&(this._native_data_cache[s].native_type!=o.e_ad_native_type.native_inner_interstitial||n)&&(this._native_data_cache[s].native_type!=o.e_ad_native_type.native_interstitial||i)||a.push(this._native_data_cache[s]));return this.check_native_data_list_is_reprot(a)?this.get_min_order_native_data(a):this.get_latest_native_data(a)}console.log("igc ----- oppo's first native ad is in cd")},t.remove_native_data=function(t){for(var e in this._native_data_cache)if(this._native_data_cache[e].id==t.id)return console.log("igc----- syyx_adv_manager remove native_data:",t),void this._native_data_cache.splice(parseInt(e),1)},t.get_local_native_data=function(){return this.get_native_data()},t.report_ad_click=function(t,e){var n=this.get_channel_ad_id(e.adPosId);if(n)if(e)if(console.log("igc ----- has been in report ad click"),e.state==o.e_ad_native_state.show){var i=this.native_report_record[e.native_type];i.click_count=Math.min(++i.click_count,i.show_count);var a={ad_id:n,ad_unit_id:e.adUnitId,ad_type:igc.e_ad_type.native,ad_pos_id:e.adPosId,ad_event:n,ad_scene:n,sub_ad_type:igc.e_ad_native_type.native_banner_dialog};igc.igc_main.instance.report_ad_click(a),this.remove_native_data(e),c.ad_banner.report_ad_click(t,e),d.ad_native_icon.report_ad_click(t,e),l.ad_native_interstitial.report_ad_click(t,e),_.ad_native_inner_interstitial.report_ad_click(t,e)}else console.log("igc----- syyx_adv_mamager report_ad_click native_data state is not e_ad_native_state.show");else console.log("igc----- syyx_adv_mamager report_ad_click native_data is null");else console.log("igc----- syyx_manager report_ad_click ad_id no configure in adv.csv")},t.report_ad_show=function(e,n){var i=t.get_channel_ad_id(n.adPosId);if(i&&"1"!=i&&"0"!=i)if(n){var a=t.get_native_data_list_max_order();if(n.order=a+1,n.state==o.e_ad_native_state.need_show||r.syyx_const.syyx_sdk_channel===igc.e_channel_type.hw_qg){if(n.state==o.e_ad_native_state.need_show){var s=this.native_report_record[n.native_type];s.show_count++,s.start_count++}var h={ad_id:i,ad_unit_id:n.adUnitId,ad_type:igc.e_ad_type.native,ad_pos_id:n.adPosId,ad_event:i,ad_scene:i,sub_ad_type:igc.e_ad_native_type.native_banner_dialog};igc.igc_main.instance.report_ad_show(h),n.state=o.e_ad_native_state.show}c.ad_banner.report_ad_show(e,n),d.ad_native_icon.report_ad_show(e,n),l.ad_native_interstitial.report_ad_show(e,n),_.ad_native_inner_interstitial.report_ad_show(e,n)}else console.log("igc----- syyx_adv_mamager report_ad_show native_data is null");else console.log("igc----- syyx_manager report_ad_show ad_id no configure in adv.csv")},t.set_normal_banner_switch=function(t){c.ad_banner.set_normal_banner_switch(t)},t.get_qq_banner_top_offset=function(){var t=s.syyx_manager.get_business_config();if(t&&t.banner_top_offset&&t.banner_top_offset.value){var e=t.banner_top_offset.value;return e[0]+Math.floor(Math.random()*(e[1]-e[0]))}return 0},t.show_block=function(t,e,n,i,o,a,s){this._block_instance[n]||(this._block_instance[n]=new h.default),this.__adv_config_inited&&this._block_instance[n].show_block(t,e,n,i,o,a,s)},t.hide_block=function(t){this.__adv_config_inited&&this._block_instance[t]&&this._block_instance[t].hide_block()},t.hide_all_block=function(){if(this.__adv_config_inited)for(var t in this._adv_config_data)if(this._adv_config_data[t].adv_type==igc.e_ad_type.block){var e=this._adv_config_data[t].id;this._block_instance[e]&&this._block_instance[e].hide_block()}},t.check_is_open_oppo_rule=function(){return s.syyx_manager.get_business_config(),r.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg||r.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg||r.syyx_const.syyx_sdk_channel===igc.e_channel_type.web},t.add_native_show_count=function(){this.check_is_open_oppo_rule()&&this.cur_native_show_count++},t.get_play_game_time=function(){return((new Date).getTime()-this.login_timestamp)/1e3},t.check_is_show_count_limit=function(){if(!this.check_is_open_oppo_rule())return!1;var e=[60,2],n=s.syyx_manager.get_business_config();n&&n.oppo_native_show_limit&&n.oppo_native_show_limit.value&&(e=n.oppo_native_show_limit.value);var i=this.get_play_game_time(),o=2;return i>=0&&(o=(Math.floor(i/e[0])+1)*e[1]),t.cur_native_show_count>=o},t.get_oppo_native_cache_max_length=function(){var t=20,e=s.syyx_manager.get_business_config();return e&&e.oppo_native_cache_length&&e.oppo_native_cache_length.value&&(t=e.oppo_native_cache_length.value[0]),t||20},t.check_native_data_list_is_reprot=function(t){if(t.length>0)for(var e in t)if(t[e].state!=o.e_ad_native_state.show)return!1;return!0},t.get_latest_native_data=function(t){for(var e in t)if(t[e].state==o.e_ad_native_state.need_show)return t[e];if(t.length>0)return t[t.length-1]},t.get_native_data_list_max_order=function(t){void 0===t&&(t=void 0);var e,n=0;if((e=t&&t.length>0?t:this._native_data_cache).length>0)for(var i in e)e[i].order>n&&(n=e[i].order);return n||0},t.get_min_order_native_data=function(t){var e=void 0;if(t.length>0)for(var n in t)(!e||t[n].order<=e.order)&&(e=t[n]);return e},t.check_is_click_limit=function(t){var e=this,n=!1,i=this.native_report_record[t];if(this.native_click_state[t]==o.e_ad_native_click_pro_type.cooling)return!0;var a=i.click_count/i.show_count,r=10,c=1,l=60,_=s.syyx_manager.get_business_config();return _&&(t==o.e_ad_native_type.native_banner?(r=_.native_banner_click_pro_limit.value[0],c=_.native_banner_click_pro_limit.value[1],l=_.native_banner_click_pro_limit.value[2]):t==o.e_ad_native_type.native_inner_interstitial?(r=_.native_inner_click_pro_limit.value[0],c=_.native_inner_click_pro_limit.value[1],l=_.native_inner_click_pro_limit.value[2]):t==o.e_ad_native_type.native_interstitial&&(r=_.native_interstitial_click_pro_limit.value[0],c=_.native_interstitial_click_pro_limit.value[1],l=_.native_interstitial_click_pro_limit.value[2]),i.start_count>0&&i.start_count%r==0&&(n=a>=c)),this.native_click_state[t]||(this.native_click_state[t]=o.e_ad_native_click_pro_type.active),n&&this.native_click_state[t]==o.e_ad_native_click_pro_type.active&&(this.native_click_state[t]=o.e_ad_native_click_pro_type.cooling,console.log("igc----- syyx_adv_manager run native click limit cool timer!!!",l),setTimeout(function(){e.native_click_state[t]=o.e_ad_native_click_pro_type.active,i.start_count=0},1e3*l)),n},t.get_channel_ad_id=function(t){if(!this.__adv_config_inited)return"";try{if(r.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg)return this._adv_config_data[t].oppo_adv_id;if(r.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg)return this._adv_config_data[t].vivo_adv_id;if(r.syyx_const.syyx_sdk_channel===igc.e_channel_type.tt)return this._adv_config_data[t].tt_adv_id;if(r.syyx_const.syyx_sdk_channel===igc.e_channel_type.qq)return this._adv_config_data[t].qq_adv_id;if(r.syyx_const.syyx_sdk_channel===igc.e_channel_type.wx)return this._adv_config_data[t].wx_adv_id;if(r.syyx_const.syyx_sdk_channel===igc.e_channel_type.apk)return this._adv_config_data[t].apk_adv_id;if(r.syyx_const.syyx_sdk_channel===igc.e_channel_type.web)return"web_ad_id"}catch(e){console.error("adv.csv do not have the ad_id of the ad_pos_id: "+t)}},t.is_inited=function(){return this.__inited},t._native_data_cache=[],t.__adv_config_inited=!1,t._block_instance={},t.cur_native_show_count=0,t.login_timestamp=0,t.__inited=!1,t.native_click_state={},t.native_report_record={},t}();n.syyx_adv_manager=p,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../configs/syyx_sdk_enum":"syyx_sdk_enum","../../utils/syyx_sdk_utils":"syyx_sdk_utils","../syyx_manager":"syyx_manager","./ad_banner":"ad_banner","./ad_block":"ad_block","./ad_native_icon":"ad_native_icon","./ad_native_inner_interstitial":"ad_native_inner_interstitial","./ad_native_interstitial":"ad_native_interstitial","./ad_oppo_banner":"ad_oppo_banner"}],syyx_api:[function(t,e,n){"use strict";cc._RF.push(e,"3fc16rAqjNEub4MPr/nriNb","syyx_api"),Object.defineProperty(n,"__esModule",{value:!0}),n.syyx_api_request=void 0;var i=t("../configs/syyx_sdk_config"),o=function(){function t(){}return t.apiPost=function(t,e,n,o){if("da_dot"==t){n.game=i.syyx_const.guobao_init_game,n.version=i.syyx_const.version;var a=(new Date).getTime();n.ts=a;var s=window.md5(a.toString().substr(9,4)+i.syyx_const.guobao_init_game.substr(0,2)+i.syyx_const.version.substr(0,1)+i.syyx_const.md5_key);n.sign=s.toLowerCase()}var r="";for(var c in n)r+=c+"="+("object"==typeof n[c]&&null!==n[c]?JSON.stringify(n[c]):n[c])+"&";var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4==l.readyState)if(l.status>=200&&l.status<400){var t=l.responseText;if(t){var e=JSON.parse(t);o(e)}else o(null)}else o(null)},l.onabort=l.onerror=l.ontimeout=function(){o(null)},l.open("POST",e,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(r)},t}();n.syyx_api_request=o,cc._RF.pop()},{"../configs/syyx_sdk_config":"syyx_sdk_config"}],syyx_cc_ui_manager:[function(t,e,n){"use strict";cc._RF.push(e,"bb705sFh0pOW7QLeqXqVo9W","syyx_cc_ui_manager"),Object.defineProperty(n,"__esModule",{value:!0}),n.syyx_cc_ui_manager=void 0;var i=t("../model/model"),o=t("../configs/syyx_sdk_enum"),a=t("./syyx_manager"),s=t("../utils/syyx_sdk_utils"),r=t("../syyx_ui/ad/syyx_ui_banner"),c=t("../syyx_ui/ad/syyx_ui_interstitial"),l=t("../syyx_ui/ad/syyx_ui_inner_interstitial"),_=t("../syyx_ui/ad/syyx_ui_native_icon"),d=t("../syyx_ui/ad/syyx_ui_toast"),h=t("../syyx_ui/ctr_test/syyx_ui_ctr"),p=function(){function t(){}return t.load_ui_prefabs=function(t,e){var n=this,i=this._prefab_view[t];if(i&&i.node)e&&e(this._prefab_view[t]);else{var o=a.syyx_manager._ui_prefab_config,r=this.get_prefab_path(t);if(r){if(this._load_call_back_list[t]||(this._load_call_back_list[t]=[]),this._load_call_back_list[t].push(e),this._prefab_loading_state[t])return void console.log("igc----- syyx_cc_ui_manager prefab is loading , please wait",r);this._prefab_loading_state[t]=!0,s.syyx_sdk_utils.load_resource(r,function(e){n._prefab_loading_state[t]=!1;var i=cc.instantiate(e).getComponent(n.get_prefab_class(t));for(var a in n._prefab_view[t]=i,o&&o[t].cocos_auto_scale&&s.syyx_sdk_utils.set_default_scale(i),n._load_call_back_list[t])n._load_call_back_list[t][a]&&n._load_call_back_list[t][a](i);n._load_call_back_list[t]=[],console.log("igc----- syyx_cc_ui_manmager load prefab",r)},n,function(){n._prefab_loading_state[t]=!1,console.log("igc----- syyx_cc_ui_manmager load prefab failed!!",r),n._load_call_back_list[t]=[]})}}},t.get_prefab_path=function(t){switch(t){case i.syyx_view.native_banner:return o.syyx_prefab_path.native_banner;case i.syyx_view.interstitial:return cc.view.getVisibleSize().height>cc.view.getVisibleSize().width?o.syyx_prefab_path.interstitial:o.syyx_prefab_path.interstitial_h;case i.syyx_view.inner_interstitial:return o.syyx_prefab_path.inner_interstitial;case i.syyx_view.inner_interstitial_bn:return o.syyx_prefab_path.inner_interstitial_bn;case i.syyx_view.native_icon:return o.syyx_prefab_path.native_icon;case i.syyx_view.toast:return o.syyx_prefab_path.toast;case i.syyx_view.ctr_test:return cc.view.getVisibleSize().height>cc.view.getVisibleSize().width?o.syyx_prefab_path.ctr_test:o.syyx_prefab_path.ctr_test_h;default:return void console.log("igc-----get_prefab_path fail",t)}},t.get_prefab_class=function(t){switch(t){case i.syyx_view.native_banner:return r.default;case i.syyx_view.interstitial:return c.default;case i.syyx_view.inner_interstitial:case i.syyx_view.inner_interstitial_bn:return l.default;case i.syyx_view.native_icon:return _.default;case i.syyx_view.toast:return d.default;case i.syyx_view.ctr_test:return h.default;default:return void console.log("igc-----get_prefab_path fail",t)}},t._prefab_view={},t._prefab_loading_state={},t._load_call_back_list={},t}();n.syyx_cc_ui_manager=p,cc._RF.pop()},{"../configs/syyx_sdk_enum":"syyx_sdk_enum","../model/model":"model","../syyx_ui/ad/syyx_ui_banner":"syyx_ui_banner","../syyx_ui/ad/syyx_ui_inner_interstitial":"syyx_ui_inner_interstitial","../syyx_ui/ad/syyx_ui_interstitial":"syyx_ui_interstitial","../syyx_ui/ad/syyx_ui_native_icon":"syyx_ui_native_icon","../syyx_ui/ad/syyx_ui_toast":"syyx_ui_toast","../syyx_ui/ctr_test/syyx_ui_ctr":"syyx_ui_ctr","../utils/syyx_sdk_utils":"syyx_sdk_utils","./syyx_manager":"syyx_manager"}],syyx_ctr_manager:[function(t,e,n){"use strict";cc._RF.push(e,"0635aJi+aNFGYzSUNL32/hy","syyx_ctr_manager"),Object.defineProperty(n,"__esModule",{value:!0}),n.syyx_ctr_manager=void 0;var i=t("../../configs/syyx_sdk_config"),o=t("../syyx_manager"),a=t("../../model/model"),s=function(){function t(){}return t.load_ctr_config=function(){var t=o.syyx_manager._guobao_init_config_data,e=[],n="";if(t.length>0)for(var i=0,a=t;i<a.length;i++){var s=a[i];if("self"==s.type){e=s.data,n=s.gc_status,this.new_product_location_id=s.location_id;break}}var r={list:e,open_switch:n};this.on_load_ctr(!0,"",5,JSON.stringify(r))},t.on_load_ctr=function(t,e,n,o){!0===t?(this.ctr_data=JSON.parse(o),localStorage.setItem(i.syyx_const.local_ctr_config_version,n),localStorage.setItem(i.syyx_const.local_ctr_config_data,o),this.__remote_ctr_inited=!0):localStorage.getItem(i.syyx_const.local_ctr_config_data)&&(this.__remote_ctr_inited=!0),console.log("sdk--\u65b0\u54c1----- syyx_ctr_manager",this.ctr_data)},t.set_ctr_test_compelete=function(){this.ctr_test_compelete=!0},t.check_is_ctr_test_compelete=function(){return this.ctr_test_compelete},t.show_new_products=function(t){this.ctr_test_compelete?console.log("igc----- syyx_ctr_manager test compelete!"):this.check_is_open()&&o.syyx_manager.load_view(a.syyx_view.ctr_test,function(e){e&&e.show&&e.show(t)})},t.get_new_products_reward=function(){var t=o.syyx_manager.get_business_config();return t&&t.ctr_test_reward_count?t.ctr_test_reward_count.value[0]:100},t.check_is_open=function(){return!(!this.ctr_data||1!=this.ctr_data.open_switch)||(console.log("igc----- syyx_ctr_manager is close"),!1)},t.get_ctr_data=function(){if(this.check_is_open())return this.ctr_data},t.__ctr_version="__ctr_version",t.__remote_ctr_inited=!1,t.ctr_data=null,t.new_product_location_id="",t.ctr_test_compelete=!1,t}();n.syyx_ctr_manager=s,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../model/model":"model","../syyx_manager":"syyx_manager"}],syyx_manager:[function(t,e,n){"use strict";cc._RF.push(e,"f45d9w9PTpJYqKH+oHpCxSM","syyx_manager"),Object.defineProperty(n,"__esModule",{value:!0}),n.syyx_manager=void 0;var i=t("../configs/syyx_sdk_config"),o=t("../configs/syyx_sdk_enum"),a=t("../model/model"),s=t("../utils/syyx_sdk_utils"),r=t("./ad/ad_banner"),c=t("./ad/syyx_adv_manager"),l=t("./ctr_test/syyx_ctr_manager"),_=t("./syyx_cc_ui_manager"),d=t("../utils/syyx_api"),h=function(){function t(){}return t.init=function(t){var e,n=this,o=this.__game_init_file_path;if(window.qq)e=igc.e_channel_type.qq;else if(window.hbs)e=igc.e_channel_type.hw_qg;else if(window.tt)e=igc.e_channel_type.tt;else if(window.qg&&!window.hbs){var a=window.qg.getProvider();"OPPO"==a?e=igc.e_channel_type.oppo_qg:"vivo"==a&&(e=igc.e_channel_type.vivo_qg)}else e=window.wx?igc.e_channel_type.wx:window.loadingView?igc.e_channel_type.apk:igc.e_channel_type.web;console.log("sdk-----channel type 1.web 2.oppo 4.vivo 5.qq 7.apk  8.tt  10:hw_qg \uff1a",e),i.syyx_const.syyx_sdk_channel=e,s.syyx_sdk_utils.load_resource(o,function(o){console.log("sdk-----syyx_game_init.json",o),i.syyx_const.syyx_sdk_publish===i.e_syyx_sdk_publish_type.out&&(i.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg?(i.init_config.oppo_qg.app_id=o.syyx_app_id,i.init_config.oppo_qg.app_version=o.channel[e].app_version,i.init_config.oppo_qg.pkg_name=o.channel[e].pkg_name,i.init_config.oppo_qg.stat_key=o.stat_key,i.init_config.oppo_qg.configAppSecKey=o.config_key,i.syyx_const.guobao_init_game=i.syyx_const.game_name_oppo,window.qg&&window.qg.login({pkgName:i.init_config.oppo_qg.pkg_name,success:function(t){n.login_user_id=t.uid},fail:function(){n.login_user_id="4444444"}})):i.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg?(i.init_config.vivo_qg.app_id=o.syyx_app_id,i.init_config.vivo_qg.app_version=o.channel[e].app_version,i.init_config.vivo_qg.pkg_name=o.channel[e].pkg_name,i.init_config.vivo_qg.stat_key=o.stat_key,i.init_config.vivo_qg.configAppSecKey=o.config_key,i.syyx_const.guobao_init_game=i.syyx_const.game_name_vivo):(i.init_config.web.app_id=o.syyx_app_id,i.init_config.web.app_version="123",i.init_config.web.pkg_name="123",i.init_config.web.stat_key=o.stat_key,i.init_config.web.configAppSecKey=o.config_key,i.syyx_const.guobao_init_game=i.syyx_const.game_name_oppo),igc.igc_main.instance.init_wrap(i.syyx_const.syyx_sdk_channel,i.init_config)),n.__syyx_app_id=o.syyx_app_id,n.__game_init_data=o,n.__business_config_file_path=o.business_config_file_path,n.__adv_config_file_path=o.adv_config_file_path,n.__ui_prefab_config_path=o.ui_prefab_config_path,n.__init_callback=t,n.__init_callback&&(console.log("igc ----- game_init.json has loaded"),n.__init_callback(!0,{business_config:null,load_init_complete:!0,load_local_complete:!1,load_remote_complete:!1})),d.syyx_api_request.apiPost("init",i.syyx_const.guobao_init_apiUrl,{game:i.syyx_const.guobao_init_game},function(t){if(console.log("res------------",t),1==t.c){n._guobao_init_config_data=t.d;for(var e=0,i=n._guobao_init_config_data;e<i.length;e++){var o=i[e];if("official"==o.type){n.adIdMap.has(o.key)||n.adIdMap.set(o.key,[]);var a={adv_id:o.adv_id,gc_status:o.gc_status};n.adIdMap.get(o.key).push(JSON.stringify(a))}}}else console.log("sdk\u521d\u59cb\u5316\u5931\u8d25, \u7528\u9ed8\u8ba4\u7684");n.load_config()})},this)},t.get_app_version=function(){var t=i.syyx_const.syyx_sdk_channel+"",e="";return this.__game_init_data&&this.__game_init_data.channel[t]?e=this.__game_init_data.channel[t].app_version:(e="0.0.0.0",console.error("igc----- can not find app_version in syyx_game_init.json"),console.error("igc----- channel_type  ",t)),e},t.get_syyx_app_id=function(){return this.__syyx_app_id||""},t.GetButtonsData=function(){var t=[];if(this._guobao_init_config_data)for(var e=0,n=this._guobao_init_config_data;e<n.length;e++){var i=n[e];"button"==i.type&&t.push(i)}return t},t.get_is_new_player=function(){return this.__is_new_player||0},t.get_user_id=function(){return this.__user_id||""},t.init_remote_config_compelete=function(){1!=this.__local_business_config_inited||this.init_completed_tag?this.__remote_business_config_inited&&!this.refresh_completed_tag&&(c.syyx_adv_manager.load_adv_config(),c.syyx_adv_manager.init_first_banner_cd(),this.__inited=!0,this.__init_callback&&(this.refresh_completed_tag=!0,console.log("igc ----- remote data has been back"),this.__init_callback(!0,{business_config:this.__business_config_data,load_init_complete:!1,load_local_complete:!1,load_remote_complete:!0}))):(c.syyx_adv_manager.load_adv_config(),c.syyx_adv_manager.init_first_banner_cd(),this.__inited=!0,this.__init_callback&&(this.init_completed_tag=!0,console.log("igc ----- local data has been back"),this.__init_callback(!0,{business_config:this.__business_config_data,load_init_complete:!1,load_local_complete:!0,load_remote_complete:!1})))},t.check_user_start_game_type=function(){var t=localStorage.getItem("is_old_player");if(this.__is_new_player="1"!=t,"1"==t?console.log("igc----- old bird--------------"):(console.log("igc----- new fish--------------"),localStorage.setItem("is_old_player","1")),i.syyx_const.syyx_sdk_channel!==igc.e_channel_type.web){var e=this.get_launch_options_sync();e&&e.query&&(e.query.type==igc.e_share_type.card||e.query.type==igc.e_share_type.record)&&("1"==t?igc.e_share_event_id.old_player:igc.e_share_event_id.new_player)}},t.init_param=function(t,e){if(""!=t&&null!=t&&""!=e&&null!=e){if(!this.has_init_param){this.has_init_param=!0,this.__user_id=e+"",igc.stat_manager.instance.set_uid(t,e,"1");var n=localStorage.getItem("syyx_igc_uid"+igc.igc_main.instance.app_config.game_param.app_id);n&&""!=n?this.send_user_login():(this.send_user_register(),setTimeout(this.send_user_login,1e3),localStorage.setItem("syyx_igc_uid"+igc.igc_main.instance.app_config.game_param.app_id,e)),this.check_user_start_game_type(),this.set_stat_inited()}}else console.error("igc----- init_param user_id is undefined!")},t.is_inited=function(){return this.__inited},t.send_user_register=function(){},t.send_user_event=function(t,e,n,i,o,a,s,r,c){this.__stat_inited||this.__stat_data_cache.unshift({event_id:t,event_type:e,place_id:n,place_type:i,extra:o,str1:a,str2:s,extra2:r,str3:c})},t.set_stat_inited=function(){if(!this.__is_stat_delay){var t=this;this.__is_stat_delay=!0,setTimeout(function(){t.__stat_inited=!0,t.send_stat_event_cache()},1e3)}},t.send_stat_event_cache=function(){this.__stat_data_cache&&this.__stat_data_cache.length>0&&(this.__stat_data_cache.pop(),setTimeout(function(){},100))},t.hide=function(t){this.load_view(t,function(t){t.hide&&t.hide()})},t.show=function(t,e,n,i){void 0===e&&(e=-1),void 0===i&&(i=0),this.load_view(t,function(t){t.show(e,n,i)})},t.send_user_login=function(){},t.on_load_game_configs=function(t,e,n){1==t&&(localStorage.setItem(i.syyx_const.local_business_config_version,n),this.__remote_business_config_inited=!0),this.init_remote_config_compelete()},t.load_config=function(){var e=this;s.syyx_sdk_utils.load_resource(t.__ui_prefab_config_path,function(t){e._ui_prefab_config=igc.igc_resources_utils.parse_csv(t,"id"),console.log("sdk-----ui prefabs have loaded",e._ui_prefab_config),e.load_business_config(),l.syyx_ctr_manager.load_ctr_config()},this,function(){console.log("igc-----ui prefabs loading failed"),e.load_business_config(),l.syyx_ctr_manager.load_ctr_config()})},t.load_business_config=function(){var t=this.get_app_version(),e=this.get_syyx_app_id()+this.__business_version;localStorage.setItem(i.syyx_const.local_business_config_version,null),localStorage.setItem(e,t),this.on_load_local_business_config(),this.on_load_game_configs(!0,"",3,"")},t.create_native_banner=function(t){return c.syyx_adv_manager.__adv_config_inited?this.create_view(a.syyx_view.native_banner,t):null},t.create_inner_interstitial=function(t){return c.syyx_adv_manager.__adv_config_inited?this.create_view(a.syyx_view.inner_interstitial,t):null},t.create_inner_interstitial_bn=function(t){return c.syyx_adv_manager.__adv_config_inited?this.create_view(a.syyx_view.inner_interstitial_bn,t):null},t.create_interstitial=function(t){return c.syyx_adv_manager.__adv_config_inited?this.create_view(a.syyx_view.interstitial,t):null},t.create_native_icon=function(t){return c.syyx_adv_manager.__adv_config_inited?this.create_view(a.syyx_view.native_icon,t):(console.log("igc----- ad initialization is not achieve---\x3edo not call interface too early  :create_native_icon"),null)},t.create_toast=function(t){this.create_view(a.syyx_view.toast,function(e){e&&e.show&&e.show(t)})},t.create_view=function(t,e){this.load_view(t,e)},t.load_view=function(t,e){window.Laya||_.syyx_cc_ui_manager.load_ui_prefabs(t,e)},t.get_business_config=function(){if(this.__local_business_config_inited||this.__remote_business_config_inited)return this.__business_config_data},t.login_channel=function(t){var e=this;this.has_login_channel||(this.has_login_channel=!0,igc.igc_main.instance.only_login_channel(function(n){if(n&&n.channel_user_info&&n.channel_user_info.uid){var i=localStorage.getItem("syyx_igc_uid"+igc.igc_main.instance.app_config.game_param.app_id);i&&""!=i||(e.send_user_register(),setTimeout(e.send_user_login,1e3),e.__user_id=n.channel_user_info.uid,localStorage.setItem("syyx_igc_uid"+igc.igc_main.instance.app_config.game_param.app_id,n.channel_user_info.uid))}e.check_user_start_game_type(),e.set_stat_inited(),t&&t(n)}))},t.get_business_data_by_key=function(e){var n=t.get_business_config();if(n&&n[e])return n[e].value},t.create_ad=function(t,e,n,i,o,a,s){var r=c.syyx_adv_manager.get_channel_ad_id(e);if(r){var l={ad_type:t,ad_id:r,ad_pos_id:e,ad_event:r,ad_scene:r,top_offset:0,sub_ad_type:s||igc.e_ad_native_type.native_banner_normal,onLoad:n,onShow:i,onClose:o,onError:a};return igc.igc_main.instance.create_ad(l)}console.log("sdk----- syyx_manager create_ad ad_id no configure in adv.csv")},t.create_heng_fu_ad=function(t,e,n,i,o,a){var s=c.syyx_adv_manager.get_channel_ad_id(e);if(s)if(this.__business_config_data&&this.__business_config_data.vivo_hengfu_switch&&0==this.__business_config_data.vivo_hengfu_switch.value[0])a&&a();else if(window.qg.getSystemInfoSync().platformVersionCode>=1092){var r=null;(r=window.qg.createBoxBannerAd({posId:s})).onLoad(function(){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),n&&n()}),r.onError(function(t){console.log("\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t),a&&a(t)}),r.show().then(function(){i&&i()}).catch(function(t){a&&a(t)}),this.boxBannerAd_vivo=r}else console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API")},t.hide_boxBannerAd_vivo=function(){var t=this.boxBannerAd_vivo;t&&t.destroy()},t.hide_game_portal_box_vivo=function(){var t=this.game_portal_box_vivo;t&&(t.isDestroyed=!0,t.destroy())},t.show_ad=function(t,e,n,i,o,a,s){var r=c.syyx_adv_manager.get_channel_ad_id(e);if(r&&"1"!=r&&"0"!=r){var l={ad_type:t,ad_id:r,ad_pos_id:e,ad_event:r,ad_scene:r,sub_ad_type:s||igc.e_ad_native_type.native_banner_normal,onLoad:n,onShow:i,onClose:o,onError:a};return igc.igc_main.instance.show_ad(l)}console.log("igc----- syyx_manager show_ad ad_id no configure in adv.csv")},t.destroy_ad=function(t,e,n){var i=c.syyx_adv_manager.get_channel_ad_id(e);if(i){var o={ad_type:t,ad_id:i,ad_pos_id:e,sub_ad_type:n||igc.e_ad_native_type.native_banner_normal,ad_event:i,ad_scene:i};return igc.igc_main.instance.destroy_ad(o)}},t.hide_ad=function(t,e){var n=c.syyx_adv_manager.get_channel_ad_id(e);if(n&&"1"!=n&&"0"!=n){var i={ad_type:t,ad_id:n,ad_pos_id:e,ad_event:n,ad_scene:n};return igc.igc_main.instance.hide_ad(i)}console.log("igc----- syyx_manager hide_ad ad_id no configure in adv.csv")},t.report_native_inner_interstitial_click=function(t){if(r.ad_banner.can_show_first){var e=this.get_local_native_data(t);this.create_inner_interstitial(function(t){e&&t.report_click()})}else console.log("igc----- is in oppo first ad cd ")},t.hide_native_inner_interstitial=function(){this.load_view(a.syyx_view.inner_interstitial,function(t){t.node.parent&&t.hide&&t.hide()})},t.hide_native_banner=function(){this.load_view(a.syyx_view.inner_interstitial_bn,function(t){t.node.parent&&t.hide&&t.hide()})},t.support_game_box=function(){if(i.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg){var e=t.get_system_info_sync();if(e&&e.platformVersion)return e.platformVersion>=1076}return!1},t.report_ad_show=function(t,e){return c.syyx_adv_manager.report_ad_show(t,e)},t.report_ad_click=function(t,e){return c.syyx_adv_manager.report_ad_click(t,e)},t.preload_video=function(){i.syyx_const.syyx_sdk_channel===igc.e_channel_type.hw_qg&&t.create_ad(igc.e_ad_type.video,o.e_ad_id.video_add_gold,function(){},function(){},function(){},function(){})},t.show_native_inner_interstitial=function(t,e,n,i,o,a){if(void 0===a&&(a=!0),r.ad_banner.can_show_first){var s=this.get_local_native_data(t);"10304001"==t?this.create_inner_interstitial_bn(function(t){s&&t.show(e,s,n,i,o,a)}):this.create_inner_interstitial(function(t){s&&t.show(e,s,n,i,o,a)})}else console.log("igc----- is in oppo first ad cd ")},t.click_native_inner_interstitial=function(t){this.create_inner_interstitial(function(e){e&&e.node&&e.node.parent?e.report_click():t&&t()})},t.click_native_banner=function(t){this.create_inner_interstitial_bn(function(e){e&&e.node&&e.node.parent?e.report_click():t&&t()})},t.get_local_native_data=function(t){return c.syyx_adv_manager.get_local_native_data(t)},t.show_video=function(e,n,o,a,s,r){if(void 0===r&&(r=!1),i.syyx_const.syyx_sdk_channel!==igc.e_channel_type.web)return this.__business_config_data&&this.__business_config_data.video_open_switch&&0==this.__business_config_data.video_open_switch.value[0]?(r&&t.create_toast("\u76ee\u524d\u6682\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),void(s&&s())):void(i.syyx_const.syyx_sdk_channel===igc.e_channel_type.hw_qg?t.show_ad(igc.e_ad_type.video,e,n,o,function(t,e){e.isEnded,a&&a(t,e)},function(){r&&t.create_toast("\u6682\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),s&&s()}):t.create_ad(igc.e_ad_type.video,e,n,o,function(t,e){e.isEnded,a&&a(t,e)},function(){r&&t.create_toast("\u76ee\u524d\u6682\u65f6\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),s&&s()}));a&&a(null,{isEnded:!0})},t.check_can_add_desktop=function(){return igc.igc_main.instance.check_can_add_desktop({})},t.check_is_add_desktop=function(t,e){var n={can_add:t,has_add:e};return igc.igc_main.instance.check_is_add_desktop(n)},t.add_desktop=function(t,e,n,i){var o={on_success:t,on_failed:e,on_failed_back:n,has_create:i};return igc.igc_main.instance.add_desktop(o)},t.on_show=function(t){return igc.igc_main.instance.on_show({on_show:t})},t.on_hide=function(t){return igc.igc_main.instance.on_hide({on_hide:t})},t.get_system_info_sync=function(){return igc.igc_main.instance.get_system_info_sync()},t.get_launch_options_sync=function(){return igc.igc_main.instance.get_launch_options_sync()},t.exit_mini_program=function(){return igc.igc_main.instance.exit_mini_program()},t.navigate_to_mini_program=function(t,e){var n={app_id:t,success:e};return igc.igc_main.instance.navigate_to_mini_program(n)},t.share=function(t,e,n,i,o,a){var s={title:t,imageUrl:e,query:n,desc:i,success:o,fail:a};return igc.igc_main.instance.share(s)},t.on_share_app_message=function(t,e){var n={title:t,imageUrl:e};return igc.igc_main.instance.on_share_app_message(n)},t.start_record_screen=function(t,e,n){var i={time:t,is_clip_end:e,clip_time:n};return igc.igc_main.instance.start_record_screen(i)},t.stop_record_screen=function(){return igc.igc_main.instance.stop_record_screen()},t.pause_record_screen=function(){return igc.igc_main.instance.pause_record_screen()},t.resume_record_screen=function(){return igc.igc_main.instance.resume_record_screen()},t.share_record_screen=function(t,e,n,i,o,a,s){var r={videoTopics:t,title:e,desc:n,imageUrl:i,query:o,fail:a,success:s};return igc.igc_main.instance.share_record_screen(r)},t.get_record_video=function(){return igc.igc_main.instance.get_record_video()},t.get_adid_gc_statuc=function(t){if(this.adIdMap.has(t)){var e=this.adIdMap.get(t),n=JSON.parse(e[0]);return Boolean(n)?n.gc_status:null}return null},t.guobao_get_channel_ad_id=function(t){if(this.adIdMap.has(t)){var e=this.adIdMap.get(t),n=JSON.parse(e[0]);return Boolean(n)?n.adv_id:null}return null},t.on_load_local_business_config=function(){var t=this;s.syyx_sdk_utils.load_resource(this.__business_config_file_path,function(e){var n=igc.igc_resources_utils.parse_csv(e,"id");n.native_icon_switch={desc:"\u539f\u751ficon\u5f00\u5173",id:"native_icon_switch",value:[1]},n.native_icon_trap_pro={desc:"\u539f\u751ficon\u6613\u70b9\u51fb\u6982\u7387",id:"native_icon_trap_pro",value:[1]},n.banner_cool_time={desc:"banner\u81ea\u52a8\u5237\u65b0\u65f6\u95f4",id:"banner_cool_time",value:[20,20]},n.native_icon_cool_time={desc:"\u539f\u751ficon\u81ea\u52a8\u5237\u65b0\u65f6\u95f4",id:"native_icon_cool_time",value:[20,20]},n.adv_banner_cd={desc:"\u539f\u751f\u53cabanner\u5e7f\u544a\u51b7\u5374\uff08\u79d2\uff09",id:"adv_banner_cd",value:[2]},n.banner_top_offset={desc:"\u624bQ\u6e20\u9053\u666e\u901abanner\u4e0a\u79fb\u8ddd\u79bb",id:"banner_top_offset",value:[0,0]},n.native_banner_open_switch={desc:"\u662f\u5426\u542f\u7528\u539f\u751fbanner\u5e7f\u544a\u5f00\u5173",id:"native_banner_open_switch",value:[1]},n.native_banner_click_switch={desc:"\u662f\u5426\u542f\u7528\u539f\u751fbanner\u6613\u70b9\u51fb\u5904\u7406",id:"native_banner_click_switch",value:[0]},n.native_banner_click_pro={desc:"\u539f\u751fbanner\u6613\u70b9\u51fb\u89e6\u53d1\u6982\u7387",id:"native_banner_click_pro",value:[0]},n.native_banner_click_protect={desc:"\u539f\u751fbanner\u6613\u70b9\u51fb\u4fdd\u62a4",id:"native_banner_click_protect",value:[3]},n.native_institial_white_easy_click={desc:"\u539f\u751f\u63d2\u5c4f\u70b9\u51fb\u7a7a\u767d\u8df3\u8f6c",id:"native_institial_white_easy_click",value:[0]},n.native_banner_report_click_update_switch={desc:"\u539f\u751fBanner\u70b9\u51fb\u4e0a\u62a5\u540e\u7acb\u5373\u5237\u65b0",id:"native_banner_report_click_update_switch",value:[1]},n.native_icon_report_click_update_switch={desc:"\u539f\u751ficon\u70b9\u51fb\u4e0a\u62a5\u540e\u7acb\u5373\u5237\u65b0",id:"native_icon_report_click_update_switch",value:[1]},n.native_inner_report_click_update_switch={desc:"\u7ed3\u7b97\u539f\u751f\u70b9\u51fb\u4e0a\u62a5\u540e\u7acb\u5373\u5237\u65b0",id:"native_inner_report_click_update_switch",value:[1]},n.native_interstitial_report_click_update_switch={desc:"\u539f\u751f\u63d2\u5c4f\u70b9\u51fb\u4e0a\u62a5\u540e\u7acb\u5373\u5237\u65b0",id:"native_interstitial_report_click_update_switch",value:[1]},n.show_normal_banner_switch={desc:"\u662f\u5426\u5f00\u542f\u5c55\u793a\u666e\u901abanner\u5f00\u5173",id:"show_normal_banner_switch",value:[1]},n.native_icon_trap_pro={desc:"\u539f\u751ficon\u6613\u70b9\u51fb\u6982\u7387",id:"native_icon_trap_pro",value:[0]},n.finger_close_banner_switch={desc:"\u5173\u95edBanner\u540e\u4e0d\u518d\u5c55\u793a",id:"finger_close_banner_switch",value:[0,60]},n.native_inner_institial_click_close_pro={desc:"\u5173\u95ed\u7ed3\u7b97\u539f\u751f\u6613\u8df3\u8f6c\u6982\u7387",id:"native_inner_institial_click_close_pro",value:[0]},n.native_institial_click_close_pro={desc:"\u5173\u95ed\u539f\u751f\u63d2\u5c4f\u6613\u8df3\u8f6c\u6982\u7387",id:"native_institial_click_close_pro",value:[0]},n.open_oppo_new_rule={desc:"\u662f\u5426\u5f00\u542foppo\u65b0\u89c4",id:"open_oppo_new_rule",value:[1]},n.oppo_banner_cool_time={desc:"oppoBanner\u7d2f\u8ba1\u5c55\u793a\u5237\u65b0\u65f6\u95f4",id:"oppo_banner_cool_time",value:[[0,120,10],[121,180,11],[181,240,12]]},n.oppo_native_show_limit={desc:"oppo\u539f\u751f\u5c55\u793a\u9650\u5236",id:"oppo_native_show_limit",value:[60,60]},n.oppo_native_cache_length={desc:"oppo\u539f\u751f\u6570\u636e\u7f13\u5b58\u6570\u7ec4\u957f\u5ea6",id:"oppo_native_cache_length",value:[5]},n.native_inner_interstitial_switch={desc:"\u7ed3\u7b97\u539f\u751f\u5f00\u5173",id:"native_inner_interstitial_switch",value:[1]},n.native_banner_click_pro_limit={desc:"\u539f\u751fbanner\u70b9\u51fb\u7387\u9650\u5236",id:"native_banner_click_pro_limit",value:[1e3,.4,60]},n.native_inner_click_pro_limit={desc:"\u7ed3\u7b97\u539f\u751f\u70b9\u51fb\u7387\u9650\u5236",id:"native_inner_click_pro_limit",value:[1e3,.4,60]},n.native_interstitial_click_pro_limit={desc:"\u539f\u751f\u63d2\u5c4f\u70b9\u51fb\u7387\u9650\u5236",id:"native_interstitial_click_pro_limit",value:[1e3,.4,60]},n.native_interstitial_click_wrap={desc:"\u539f\u751f\u63d2\u5c4f\u5c55\u793a\u7b56\u7565",id:"native_interstitial_click_wrap",value:[1e3,2,5]},n.native_inner_institial_click_wrap={desc:"\u7ed3\u7b97\u539f\u751f\u5c55\u793a\u7b56\u7565",id:"native_inner_institial_click_wrap",value:[1e3,2,5]},n.banner_strong_update_switch={desc:"banner\u5f3a\u5236\u5237\u65b0\u5f00\u5173",id:"banner_strong_update_switch",value:[0]},n.native_banner_height_open_rule={desc:"\u539f\u751fbanner\u9ad8\u5ea6\u542f\u52a8\u89c4\u5219",id:"native_banner_height_open_rule",value:[2,3,5]},n.native_banner_height_rule={desc:"\u539f\u751fbanner\u9ad8\u5ea6\u89c4\u5219",id:"native_banner_height_rule",value:[200,320,1.3]},n.load_native_interstitial_rule={desc:"\u539f\u751f\u63d2\u5c4f\u52a0\u8f7d\u89c4\u5219\uff08\u7b2cX\u6b21\u53bb\u52a0\u8f7d\uff09",id:"load_native_interstitial_rule",value:[3]},n.first_use_natibe_banner={desc:"\u539f\u751f\u63d2\u5c4f\u4f18\u5148\u4f7f\u7528\u539f\u751fBanner",id:"first_use_natibe_banner",value:[1]},n.ctr_test_open={desc:"ctr\u5f00\u542f\u5f00\u5173",id:"ctr_test_open",value:[1]},n.ctr_test_close_button_delay={desc:"ctr\u6d4b\u8bd5\u5173\u95ed\u6309\u94ae\u5ef6\u8fdf",id:"ctr_test_close_button_delay",value:[1]},n.ctr_test_reward_count={desc:"ctr\u6d4b\u8bd5\u5956\u52b1\u6570\u91cf",id:"ctr_test_reward_count",value:[100]},n.banner_click_mask_open_rule={desc:"banner\u70b9\u51fb\u533a\u57df\u7f29\u653e\u89c4\u5219",id:"banner_click_mask_open_rule",value:[2,1,2]},n.banner_click_mask_scale={desc:"banner\u70b9\u51fb\u533a\u57df\u7f29\u653e\u500d\u6570",id:"banner_click_mask_scale",value:[1.5]},n.banner_click_mask_scale={desc:"banner\u70b9\u51fb\u533a\u57df\u7f29\u653e\u500d\u6570",id:"banner_click_mask_scale",value:[1.5]},n.video_open_switch={desc:"\u89c6\u9891\u5f00\u5173",id:"video_open_switch",value:[1]},n.vivo_cp_switch={desc:"\u63d2\u5c4f\u5f00\u5173",id:"vivo_cp_switch",value:[1]},n.vivo_yscp_switch={desc:"\u539f\u751f\u63d2\u5c4f\u5f00\u5173",id:"vivo_yscp_switch",value:[1]},n.vivo_hengfu_switch={desc:"vivo\u6a2a\u5e45\u4e92\u63a8",id:"vivo_hengfu_switch",value:[1]},n.jgg_switch={desc:"ov\u4e5d\u5bab\u683c\u4e92\u63a8",id:"jgg_switch",value:[1]};var i=t.get_adid_gc_statuc("YSBN"),o=t.get_adid_gc_statuc("BN"),a=t.get_adid_gc_statuc("YSJS"),r=t.get_adid_gc_statuc("SP"),c=t.get_adid_gc_statuc("JSYM"),l=t.get_adid_gc_statuc("YSIC"),_=t.get_adid_gc_statuc("HT")||0,d=t.get_adid_gc_statuc("JGG")||0,h=t.get_adid_gc_statuc("CP")||0,p=t.get_adid_gc_statuc("YSCP")||0;n.native_banner_open_switch.value[0]=i,n.show_normal_banner_switch.value[0]=o,n.native_inner_interstitial_switch.value[0]=a,n.video_open_switch.value[0]=r,n.ctr_test_open.value[0]=c,n.native_icon_switch.value[0]=l,n.vivo_cp_switch.value[0]=h,n.vivo_yscp_switch.value[0]=p,n.vivo_hengfu_switch.value[0]=_,n.jgg_switch.value[0]=d,t.__remote_business_config_inited?(s.syyx_sdk_utils.replace_data(n,t.__business_config_data),console.log("sdk----- bussiness config is--- ",n),t.__business_config_data=n):(t.__business_config_data=n,console.log("sdk-----local bussiness config is ",n)),t.__local_business_config_inited=!0,t.init_remote_config_compelete()},this)},t.pre_load_game_portal_box=function(e,n,i,o){var a=this;this.support_game_box()&&t.create_ad(igc.e_ad_type.app_box,e,null,null,function(){o&&o(),setTimeout(function(){a.pre_load_game_portal_box(e,null,null,null,null)},500)},null,igc.e_ad_app_box_type.portal_box)},t.show_game_portal_box=function(e,n,i,o,a,s){void 0===s&&(s=!1);var r=this;if(this.__business_config_data&&this.__business_config_data.jgg_switch&&0==this.__business_config_data.jgg_switch.value[0])return s&&t.create_toast("\u52a0\u8f7d\u4e2d\uff0c\u7a0d\u540e\u518d\u8bd5"),void(a&&a());t.show_ad(igc.e_ad_type.app_box,e,n,i,function(){o&&o(),setTimeout(function(){r.pre_load_game_portal_box(e,null,null,null,null)},500)},function(){s&&t.create_toast("\u52a0\u8f7d\u4e2d\uff0c\u7a0d\u540e\u518d\u8bd5"),a&&a()},igc.e_ad_app_box_type.portal_box)},t.show_game_portal_box_vivo=function(e,n,i,o,a,s){void 0===s&&(s=!1);var r=c.syyx_adv_manager.get_channel_ad_id(e);if(r){if(this.__business_config_data&&this.__business_config_data.jgg_switch&&0==this.__business_config_data.jgg_switch.value[0])return s&&t.create_toast("\u52a0\u8f7d\u4e2d\uff0c\u7a0d\u540e\u518d\u8bd5"),void(a&&a());if(window.qg.getSystemInfoSync().platformVersionCode>=1092){var l=null;(l=window.qg.createBoxPortalAd({posId:r})).onLoad(function(){console.log("vivo\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),n&&n()}),l.onError(function(t){console.log("vivo\u4e5d\u5bab\u683c\u52a0\u8f7d\u5931\u8d25",t),a&&a(t)}),l.onClose(function(){console.log("close"),l.isDestroyed||l.show()}),l.show().then(function(){i&&i()}).catch(function(t){a&&a(t)}),this.game_portal_box_vivo=l}else console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API")}},t.show_original_module=function(t,e,n,i,o,a){var s=this,r=c.syyx_adv_manager.get_channel_ad_id(t);if(r)if(window.qg.getSystemInfoSync().platformVersionCode<1091)n&&n("\u4f4e\u4e8e1092\u7248\u672c\u4e0d\u652f\u6301");else{if(o&&a)var l=window.qg.createCustomAd({posId:r,style:{left:a,top:o}});else l=window.qg.createCustomAd({posId:r});l.onError(function(t){n&&n(t),console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)}),l.onClose(function(){i&&i(),console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5173\u95ed\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570")}),l.show().then(function(){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210"),e&&e(),s.original_module_data=l}).catch(function(t){n&&n(t),console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t))})}},t.destory_original_module=function(){this.original_module_data&&(this.original_module_data.hide(),this.original_module_data.destroy()),this.mCustomAD&&this.mCustomAD.hide(),this.mCustomAD&&this.mCustomAD.destroy(),this.mCustomAD=null},t.GetSystemInfoSync2=function(){return null==this.systemVersion2&&(this.systemVersion2=window.qg.getSystemInfoSync().platformVersionCode),this.systemVersion2},t.show_original_module_oppo=function(t,e,n,i,o,a){var s=c.syyx_adv_manager.get_channel_ad_id(t);if(s)if(window.qg.getSystemInfoSync().platformVersionCode<1092)console.log("\u7248\u672c\u8fc7\u4f4e \u4e0d\u652f\u6301\u539f\u751f\u6a21\u677f\u5e7f\u544a");else if(Boolean(e)&&3==e.length){if(null==this.mCustomAD){var r=window.qg.createCustomAd({adUnitId:s,style:{top:e[0],left:e[1],width:e[2]}}),l=this;r.onLoad(function(){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),n&&n(),r.offLoad()}),r.onShow(function(){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u663e\u793a"),r.offShow(),i&&i()}),r.onHide(function(){console.log("customAd\u5e7f\u544a\u9690\u85cf"),r.offHide(),a&&a(),r.destroy(),l.mCustomAD=null}),r.show().then(function(){console.log("show success"),l.mCustomAD=r}).catch(function(t){console.log("show fail with:"+t.errCode+","+t.errMsg),l.mCustomAD=null,o&&o(t)})}}else console.log("\u53c2\u6570\u68c0\u6d4b\u9519\u8bef opencustomad style")},t.show_new_products=function(e){if(i.syyx_const.syyx_sdk_channel!==igc.e_channel_type.vivo_qg){var n=t.get_business_config();n&&n.ctr_test_open&&0==n.ctr_test_open.value[0]||l.syyx_ctr_manager.show_new_products(e)}},t.__syyx_app_id=0,t.viewMap={},t.func_open={},t.boxBannerAd_vivo=null,t.game_portal_box_vivo=null,t.adIdMap=new Map,t.__game_init_file_path="syyx_configs/syyx_game_init.json",t.__business_config_file_path="",t.__adv_config_file_path="",t.__business_version="__business_version",t.__init_callback=void 0,t.login_user_id="",t.has_init_param=!1,t.has_login_channel=!1,t.__game_init_data=void 0,t.__business_config_data={},t._guobao_init_config_data=[],t.__local_business_config_inited=!1,t.__remote_business_config_inited=!1,t.remote_business_config_data=null,t.original_module_data=null,t.mCustomAD=null,t.__is_new_player=!1,t.init_completed_tag=!1,t.refresh_completed_tag=!1,t.__stat_inited=!1,t.__is_stat_delay=!1,t.__stat_data_cache=[],t.__user_id="",t.systemVersion2=null,t}();n.syyx_manager=h,cc._RF.pop()},{"../configs/syyx_sdk_config":"syyx_sdk_config","../configs/syyx_sdk_enum":"syyx_sdk_enum","../model/model":"model","../utils/syyx_api":"syyx_api","../utils/syyx_sdk_utils":"syyx_sdk_utils","./ad/ad_banner":"ad_banner","./ad/syyx_adv_manager":"syyx_adv_manager","./ctr_test/syyx_ctr_manager":"syyx_ctr_manager","./syyx_cc_ui_manager":"syyx_cc_ui_manager"}],syyx_sdk_api:[function(t,e,n){"use strict";cc._RF.push(e,"43f24/rXFNOy5rvA7uQxzfv","syyx_sdk_api"),Object.defineProperty(n,"__esModule",{value:!0}),n.syyx_sdk_api=void 0;var i=t("./configs/syyx_sdk_config"),o=t("./controller/ad/ad_native_interstitial"),a=t("./controller/ad/syyx_adv_manager"),s=t("./controller/syyx_manager"),r=t("./model/model"),c=function(){function t(){}return t.init=function(t){console.log("sdk--------------------syyx_apk version"+i.syyx_const.syyx_sdk_version),s.syyx_manager.init(t)},t.login_channel=function(t){s.syyx_manager.login_channel(t)},t.init_param=function(t,e){s.syyx_manager.init_param(t,e)},t.get_business_data_by_key=function(t){return s.syyx_manager.get_business_data_by_key(t)},t.send_user_register=function(){},t.send_user_login=function(){},t.send_hall_event=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n="")},t.send_chapter_event=function(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n="")},t.send_settlement_event=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n="")},t.send_other_event=function(t,e,n,i,o,a,s){void 0===n&&(n=""),void 0===i&&(i=""),void 0===o&&(o=""),void 0===a&&(a=""),void 0===s&&(s="")},t.is_inited=function(){return s.syyx_manager.is_inited()},t.create_native_banner=function(t){return s.syyx_manager.create_native_banner(t)},t.create_interstitial=function(t){return s.syyx_manager.create_interstitial(t)},t.create_inner_interstitial=function(t){return s.syyx_manager.create_inner_interstitial(t)},t.create_native_icon=function(t){return s.syyx_manager.create_native_icon(t)},t.create_toast=function(t){return s.syyx_manager.create_toast(t)},t.hide=function(t){s.syyx_manager.hide(t)},t.show=function(t,e,n,i){void 0===e&&(e=-1),void 0===i&&(i=0),s.syyx_manager.show(t,e,n,i)},t.load_view=function(t,e){return s.syyx_manager.load_view(t,e)},t.create_ad=function(){return!1},t.destroy_ad=function(t,e){return s.syyx_manager.destroy_ad(t,e)},t.hide_ad=function(t,e){return s.syyx_manager.hide_ad(t,e)},t.report_ad_show=function(t,e){return s.syyx_manager.report_ad_show(t,e)},t.report_ad_click=function(t,e){return s.syyx_manager.report_ad_click(t,e)},t.get_local_native_data=function(t){return a.syyx_adv_manager.get_local_native_data(t)},t.get_channel_ad_id=function(t){return a.syyx_adv_manager.get_channel_ad_id(t)},t.show_banner=function(t,e,n,i,o){a.syyx_adv_manager.show_banner(igc.e_ad_type.banner,t,e,n,i,o)},t.set_banner_height=function(){a.syyx_adv_manager.set_banner_height()},t.hide_banner=function(){a.syyx_adv_manager.hide_banner()},t.set_normal_banner_switch=function(t){void 0===t&&(t=!0),a.syyx_adv_manager.set_normal_banner_switch(t)},t.show_video=function(t,e,n,o,a,r){i.syyx_const.syyx_sdk_channel!==igc.e_channel_type.web?s.syyx_manager.show_video(t,e,n,o,a,r):o&&o(null,{isEnded:!0})},t.show_interstitial=function(t,e,n,i,o){s.syyx_manager.__business_config_data&&s.syyx_manager.__business_config_data.vivo_cp_switch&&0==s.syyx_manager.__business_config_data.vivo_cp_switch.value[0]?o&&o():s.syyx_manager.create_ad(igc.e_ad_type.interstitial,t,e,n,i,o)},t.show_native_interstitial=function(t,e,n,i,o){a.syyx_adv_manager.show_native_interstitial(igc.e_ad_type.native,t,e,n,i,o)},t.hide_native_interstitial=function(){o.ad_native_interstitial.hide_native_interstitial_ui()},t.preload_native_inner_interstitial=function(t,e,n,i,o){a.syyx_adv_manager.preload_native_inner_interstitial(igc.e_ad_type.native,t,e,n,i,o)},t.show_native_inner_interstitial=function(t,e,n,i,o,a){void 0===a&&(a=!0),s.syyx_manager.show_native_inner_interstitial(t,e,n,i,o,a)},t.click_native_inner_interstitial=function(){console.log("\u4e0a\u62a5ysjs-----------"),s.syyx_manager.click_native_inner_interstitial()},t.click_native_banner=function(){s.syyx_manager.click_native_banner()},t.set_on_click_inner_interstitial_btn=function(t){a.syyx_adv_manager.set_on_click_inner_interstitial_btn(t)},t.hide_native_inner_interstitial=function(){console.log("-- use \u9690\u85cf\u539f\u751f\u5e7f\u544a\u63a5\u53e3 ----------"),s.syyx_manager.hide_native_inner_interstitial()},t.hide_native_banner=function(){s.syyx_manager.hide_native_banner()},t.show_native_icon=function(t,e,n,i,o,s){a.syyx_adv_manager.show_native_icon(t,igc.e_ad_type.native,e,n,i,o,s)},t.hide_native_icon=function(){a.syyx_adv_manager.hide_native_icon()},t.support_game_box=function(){return s.syyx_manager.support_game_box()},t.show_game_banner_box=function(t,e,n,o,a){i.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg?s.syyx_manager.create_ad(igc.e_ad_type.app_box,t,e,n,o,a,igc.e_ad_app_box_type.banner_box):i.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg&&s.syyx_manager.create_heng_fu_ad(igc.e_ad_type.app_box,t,e,n,o,a,igc.e_ad_app_box_type.banner_box)},t.hide_game_banner_box=function(t){i.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg?s.syyx_manager.destroy_ad(igc.e_ad_type.app_box,t,igc.e_ad_app_box_type.banner_box):i.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg&&s.syyx_manager.hide_boxBannerAd_vivo()},t.hide_game_portal_box=function(t){i.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg?s.syyx_manager.destroy_ad(igc.e_ad_type.app_box,t,igc.e_ad_app_box_type.portal_box):i.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg&&s.syyx_manager.hide_game_portal_box_vivo()},t.show_game_portal_box=function(t,e,n,o,a,r){i.syyx_const.syyx_sdk_channel===igc.e_channel_type.oppo_qg?s.syyx_manager.show_game_portal_box(t,e,n,o,a,r):i.syyx_const.syyx_sdk_channel===igc.e_channel_type.vivo_qg?s.syyx_manager.show_game_portal_box_vivo(t,e,n,o,a,r):s.syyx_manager.show_game_portal_box(t,e,n,o,a,r)},t.show_original_module_vivo=function(t,e,n,i,o,a){if("10301001"==t){if(s.syyx_manager.__business_config_data&&s.syyx_manager.__business_config_data.vivo_yscp_switch&&0==s.syyx_manager.__business_config_data.vivo_yscp_switch.value[0])return void(n&&n())}else if("10302001"==t){if(s.syyx_manager.__business_config_data&&s.syyx_manager.__business_config_data.native_inner_interstitial_switch&&0==s.syyx_manager.__business_config_data.native_inner_interstitial_switch.value[0])return void(n&&n())}else if("10304001"==t&&s.syyx_manager.__business_config_data&&s.syyx_manager.__business_config_data.native_banner_open_switch&&0==s.syyx_manager.__business_config_data.native_banner_open_switch.value[0])return void(n&&n());s.syyx_manager.show_original_module(t,e,n,i,o,a)},t.show_original_module_oppo=function(t,e,n,i,o,a){if("10301001"==t){if(s.syyx_manager.__business_config_data&&s.syyx_manager.__business_config_data.vivo_yscp_switch&&0==s.syyx_manager.__business_config_data.vivo_yscp_switch.value[0])return void(o&&o())}else if("10302001"==t){if(s.syyx_manager.__business_config_data&&s.syyx_manager.__business_config_data.native_inner_interstitial_switch&&0==s.syyx_manager.__business_config_data.native_inner_interstitial_switch.value[0])return void(o&&o())}else if("10304001"==t&&s.syyx_manager.__business_config_data&&s.syyx_manager.__business_config_data.native_banner_open_switch&&0==s.syyx_manager.__business_config_data.native_banner_open_switch.value[0])return void(o&&o());s.syyx_manager.show_original_module_oppo(t,e,n,i,o,a)},t.destory_original_module=function(){s.syyx_manager.destory_original_module()},t.show_app_box=function(t,e,n,i,o){s.syyx_manager.create_ad(igc.e_ad_type.app_box,t,e,n,i,o)},t.show_block=function(t,e,n,i,o,s){a.syyx_adv_manager.show_block(t,igc.e_ad_type.block,e,n,i,o,s)},t.hide_block=function(t){a.syyx_adv_manager.hide_block(t)},t.hide_all_block=function(){a.syyx_adv_manager.hide_all_block()},t.show_new_products=function(t){s.syyx_manager.show_new_products(t)},t.check_can_add_desktop=function(){return s.syyx_manager.check_can_add_desktop()},t.check_is_add_desktop=function(t,e){return s.syyx_manager.check_is_add_desktop(t,e)},t.add_desktop=function(t,e,n,i){return s.syyx_manager.add_desktop(t,e,n,i)},t.on_show=function(t){return s.syyx_manager.on_show(t)},t.on_hide=function(t){return s.syyx_manager.on_hide(t)},t.get_system_info_sync=function(){return s.syyx_manager.get_system_info_sync()},t.get_launch_options_sync=function(){var t=s.syyx_manager.get_launch_options_sync(),e=new r.launch_options;return e.scene=t.scene||"",e.query=t.query||{},e.referrerInfo=t.referrerInfo||{},e.entryDataHash=t.entryDataHash||{},e.extra=t.extra||{},e},t.exit_mini_program=function(){return s.syyx_manager.exit_mini_program()},t.navigate_to_mini_program=function(t,e){return s.syyx_manager.navigate_to_mini_program(t,e)},t.share=function(t,e,n,i,o,a){return s.syyx_manager.share(t,e,n,i,o,a)},t.on_share_app_message=function(t,e){return s.syyx_manager.on_share_app_message(t,e)},t.start_record_screen=function(t,e,n){return s.syyx_manager.start_record_screen(t,e,n)},t.stop_record_screen=function(){return s.syyx_manager.stop_record_screen()},t.pause_record_screen=function(){return s.syyx_manager.pause_record_screen()},t.resume_record_screen=function(){return s.syyx_manager.resume_record_screen()},t.share_record_screen=function(t,e,n,i,o,a,r){return s.syyx_manager.share_record_screen(t,e,n,i,o,a,r)},t.get_record_video=function(){return s.syyx_manager.get_record_video()},t.get_is_new_player=function(){return s.syyx_manager.get_is_new_player()},t.get_syyx_app_id=function(){return s.syyx_manager.get_syyx_app_id()},t.GetButtonsData=function(){return s.syyx_manager.GetButtonsData()},t.get_screen_ratio=function(){if(window.cc){if(cc.view.getVisibleSize().width>cc.view.getVisibleSize().height)return cc.view.getVisibleSize().height/1080;if(cc.view.getVisibleSize().width<=cc.view.getVisibleSize().height)return cc.view.getVisibleSize().width/1080}return 1},t}();n.syyx_sdk_api=c,cc._RF.pop()},{"./configs/syyx_sdk_config":"syyx_sdk_config","./controller/ad/ad_native_interstitial":"ad_native_interstitial","./controller/ad/syyx_adv_manager":"syyx_adv_manager","./controller/syyx_manager":"syyx_manager","./model/model":"model"}],syyx_sdk_config:[function(t,e,n){"use strict";var i;cc._RF.push(e,"6a660kouH9LHJs5I4q8x25q","syyx_sdk_config"),Object.defineProperty(n,"__esModule",{value:!0}),n.syyx_const=n.e_syyx_sdk_publish_type=n.init_config=void 0,n.init_config={web:{app_id:6e5,app_version:"1.0.0.0",pkg_name:"",channel_type:1,channel_id:0,engin_type:2,engin_version:"2.0.10",log_level:0,pay_key:"",login_key:"",plat_key:"123",stat_key:"",pay_url:"",pay_query_url:"",pay_last_query_url:"",login_url:"",ws_url:"",ws_cert_url:"",stat_event_url:"",batch_stat_event_url:"",configUrl:"",configAppSecKey:"",retry_connect:!1,basic_config_version:"",is_login_soon:!1,is_auto_relogin_full:!1,has_red_envelop:!1,has_multual_push:!1},oppo_qg:{app_id:6e5,ad_app_id:0,app_version:"1.0.0.0",pkg_name:"",channel_type:2,channel_id:1,engin_type:2,engin_version:"2.0.10",log_level:0,pay_key:"",login_key:"",plat_key:"123",stat_key:"",pay_url:"",pay_query_url:"",pay_last_query_url:"",login_url:"",ws_url:"",ws_cert_url:"",stat_event_url:"",batch_stat_event_url:"",configUrl:"",configAppSecKey:"",retry_connect:!1,basic_config_version:"",is_login_soon:!1,is_auto_relogin_full:!1,has_red_envelop:!1,has_multual_push:!1},vivo_qg:{app_id:6e5,ad_app_id:0,app_version:"1.0.0.0",pkg_name:"",channel_type:4,channel_id:2,engin_type:1,engin_version:"2.0.10",log_level:0,pay_key:"",login_key:"",plat_key:"123",stat_key:"",pay_url:"",pay_query_url:"",pay_last_query_url:"",login_url:"",ws_url:"",ws_cert_url:"",stat_event_url:"",batch_stat_event_url:"",configUrl:"",configAppSecKey:"",retry_connect:!1,basic_config_version:"",is_login_soon:!1,is_auto_relogin_full:!1,has_red_envelop:!1,has_multual_push:!1,needAuth:!1},tt:{app_id:6e5,ad_app_id:0,app_version:"1.0.0.0",pkg_name:"",channel_type:8,channel_id:10,engin_type:2,engin_version:"2.0.10",log_level:0,pay_key:"",login_key:"",plat_key:"123",stat_key:"",pay_url:"",pay_query_url:"",pay_last_query_url:"",login_url:"",ws_url:"",ws_cert_url:"",stat_event_url:"https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",batch_stat_event_url:"https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",configUrl:"https://tpf-common-config-api.syyx.com:37110/api/config",configAppSecKey:"",retry_connect:!1,basic_config_version:"",is_login_soon:!1,is_auto_relogin_full:!1,has_red_envelop:!1,has_multual_push:!1,needAuth:!1},qq:{app_id:6e5,ad_app_id:0,app_version:"1.0.0.0",pkg_name:"",channel_type:5,channel_id:8,engin_type:2,engin_version:"2.0.10",log_level:0,pay_key:"",login_key:"",plat_key:"123",stat_key:"",pay_url:"",pay_query_url:"",pay_last_query_url:"",login_url:"",ws_url:"",ws_cert_url:"",stat_event_url:"https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",batch_stat_event_url:"https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",configUrl:"https://tpf-common-config-api.syyx.com:37110/api/config",configAppSecKey:"",retry_connect:!1,basic_config_version:"",is_login_soon:!1,is_auto_relogin_full:!1,has_red_envelop:!1,has_multual_push:!1,needAuth:!1},apk:{app_id:6e5,ad_app_id:0,app_version:"1.0.0.0",pkg_name:"",channel_type:7,channel_id:11,engin_type:2,engin_version:"2.0.10",log_level:0,pay_key:"",login_key:"",plat_key:"123",stat_key:"",pay_url:"",pay_query_url:"",pay_last_query_url:"",login_url:"",ws_url:"",ws_cert_url:"",stat_event_url:"https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",batch_stat_event_url:"https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",configUrl:"https://tpf-common-config-api.syyx.com:37110/api/config",configAppSecKey:"",retry_connect:!1,basic_config_version:"",is_login_soon:!1,is_auto_relogin_full:!1,has_red_envelop:!1,has_multual_push:!1},wx:{app_id:6e5,ad_app_id:0,app_version:"1.0.0.0",pkg_name:"",channel_type:5,channel_id:8,engin_type:2,engin_version:"2.0.10",log_level:0,pay_key:"",login_key:"",plat_key:"123",stat_key:"",pay_url:"",pay_query_url:"",pay_last_query_url:"",login_url:"",ws_url:"",ws_cert_url:"",stat_event_url:"https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",batch_stat_event_url:"https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",configUrl:"https://tpf-common-config-api.syyx.com:37110/api/config",configAppSecKey:"",retry_connect:!1,basic_config_version:"",is_login_soon:!1,is_auto_relogin_full:!1,has_red_envelop:!1,has_multual_push:!1,needAuth:!1},hw_qg:{app_id:103490213,ad_app_id:0,app_version:"1.0.0.0",pkg_name:"",channel_type:10,channel_id:14,engin_type:2,engin_version:"2.0.10",log_level:0,pay_key:"",login_key:"",plat_key:"123",stat_key:"",pay_url:"",pay_query_url:"",pay_last_query_url:"",login_url:"",ws_url:"",ws_cert_url:"",stat_event_url:"https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",batch_stat_event_url:"https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",configUrl:"https://tpf-common-config-api.syyx.com:37110/api/config",configAppSecKey:"",retry_connect:!1,basic_config_version:"",is_login_soon:!1,is_auto_relogin_full:!1,has_red_envelop:!1,has_multual_push:!1,needAuth:!1},_debug:!1},function(t){t[t.in=1]="in",t[t.out=2]="out"}(i=n.e_syyx_sdk_publish_type||(n.e_syyx_sdk_publish_type={})),n.syyx_const={syyx_sdk_version:"1.0.0.0",syyx_sdk_publish:i.out,syyx_sdk_channel:igc.e_channel_type.oppo_qg,syyx_sdk_tag:"2021_05_07_15_50",remote_business_config_key:"business_config",local_business_config_version:"syyx_business_config_version",local_business_config_data:"syyx_business_config_data",remote_ctr_config_key:"multual_push_v5",local_ctr_config_version:"syyx_ctr_config_version",local_ctr_config_data:"syyx_ctr_config_data",guobao_init_apiUrl:"https://game.llewan.com:1899/config/getCommon",guobao_da_dot_url:"https://log.llewan.com:1999/Log/common",version:"1.0.0",llewan_sdk_version:"1.0.0",md5_key:"$5dfjr$%dsadsfdsii",guobao_init_game:"",game_name_oppo:"daxiachuanshuo-oppo",game_name_vivo:"konmgbuhuayuan-vivo"},cc._RF.pop()},{}],syyx_sdk_enum:[function(t,e,n){"use strict";cc._RF.push(e,"fc2a6XHmnJK65cXBf0IwQF/","syyx_sdk_enum"),Object.defineProperty(n,"__esModule",{value:!0}),n.e_ad_id=n.syyx_prefab_path=n.e_settlement_stat_type=n.e_hall_stat_type=n.e_chapter_result_type=n.e_stat_event_id=n.e_stat_event_type=n.e_ad_native_click_pro_type=n.e_ad_native_state=n.e_ad_native_type=n.e_syyx_ctr_event_type=void 0,function(t){t[t.show=30002]="show",t[t.click=30001]="click"}(n.e_syyx_ctr_event_type||(n.e_syyx_ctr_event_type={})),function(t){t[t.native_banner=1]="native_banner",t[t.native_inner_interstitial=2]="native_inner_interstitial",t[t.native_interstitial=3]="native_interstitial",t[t.native_icon=4]="native_icon"}(n.e_ad_native_type||(n.e_ad_native_type={})),function(t){t[t.none=0]="none",t[t.need_show=1]="need_show",t[t.show=2]="show",t[t.click=3]="click"}(n.e_ad_native_state||(n.e_ad_native_state={})),function(t){t[t.none=1]="none",t[t.cooling=2]="cooling",t[t.active=3]="active"}(n.e_ad_native_click_pro_type||(n.e_ad_native_click_pro_type={})),function(t){t.hall="10001",t.chapter="10002",t.result="10003"}(n.e_stat_event_type||(n.e_stat_event_type={})),function(t){t.none="0",t.win_click_native_adv="10001",t.lose_click_native_adv="10002"}(n.e_stat_event_id||(n.e_stat_event_id={})),function(t){t.enter_chapter="1000000",t.win="1000001",t.lose="1000002"}(n.e_chapter_result_type||(n.e_chapter_result_type={})),(n.e_hall_stat_type||(n.e_hall_stat_type={})).enter_hall="1",(n.e_settlement_stat_type||(n.e_settlement_stat_type={})).enter_settlement="1",function(t){t.native_banner="syyx_prefab/ad/ui_banner",t.inner_interstitial="syyx_prefab/ad/ui_inner_interstitial",t.inner_interstitial_bn="syyx_prefab/ad/ui_inner_interstitial_bn",t.interstitial="syyx_prefab/ad/ui_interstitial",t.interstitial_h="syyx_prefab/ad/ui_interstitial_h",t.native_icon="syyx_prefab/ad/ui_native_icon",t.toast="syyx_prefab/ad/ui_toast",t.ctr_test="syyx_prefab/ctr/ui_ctr",t.ctr_test_h="syyx_prefab/ctr/ui_ctr_h"}(n.syyx_prefab_path||(n.syyx_prefab_path={})),function(t){t.interstitial_hall="10100001",t.video_add_gold="10200001",t.video_add_diamond="10200002",t.video_forging="10200004",t.video_luck_draw="10200005",t.native_interstitial_hall="10301001",t.native_inner_interstitial_success="10302001",t.native_banner="10304001",t.native_icon="10304002",t.banner_hall="10400001",t.appbox_hall="10600001",t.game_banner_box="10600002",t.game_portal_box="10600003",t.bottom_block="10900001",t.left_block="10900002",t.right_block="10900003"}(n.e_ad_id||(n.e_ad_id={})),cc._RF.pop()},{}],syyx_sdk_utils:[function(t,e,n){"use strict";cc._RF.push(e,"abeaaOecZpIHIRvM5TgixKt","syyx_sdk_utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.syyx_sdk_utils=void 0;var i=t("../configs/syyx_sdk_config"),o=function(){function t(){}return t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log("syyx_sdk: ",JSON.stringify(t))},t.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.init_config._debug&&console.error("syyx_sdk: ",JSON.stringify(t))},t.get_random_number=function(t){return t[0]+Math.floor(Math.random()*(t[1]-t[0]))},t.set_default_scale=function(t){var e=this.get_screen_ratio();e*=t.node.scaleX,t.node.setScale(e,e),console.log("igc-----screen ratio is ",e)},t.get_screen_ratio=function(){if(window.cc){if(cc.view.getVisibleSize().width>cc.view.getVisibleSize().height)return cc.view.getVisibleSize().height/1080;if(cc.view.getVisibleSize().width<=cc.view.getVisibleSize().height)return cc.view.getVisibleSize().width/1080}return 1},t.get_largest_zorder=function(){return 32767},t.get_size=function(t){return window.Laya?{width:t.width*t.scaleX,height:t.height*t.scaleY}:{}},t.get_stage=function(){if(!window.Laya)return window.cc.director.getScene();window.Laya.stage},t.parse_csv=function(t,e){return i.syyx_const.syyx_sdk_publish===i.e_syyx_sdk_publish_type.in?t:igc.igc_resources_utils.parse_csv(t,e)},t.load_resource=function(t,e,n,i){void 0===n&&(n=void 0),window.Laya?window.Laya.loader.load(t,window.Laya.Handler.create(n,function(n){n?e&&e(n):console.error("igc-----load_resource fail",t)})):window.cc.loader.loadRes(t,function(n,o){var a=o;-1!=t.indexOf("json")&&(a=o.json),n?i&&i():o?e&&e(a):(console.error("igc-----load_resource fail",t),i&&i())})},t.load_resource_texture=function(t,e){window.cc&&cc.loader.loadRes(t,cc.SpriteFrame,function(n,i){null==n&&cc.isValid(e)&&cc.isValid(e.node)?e.spriteFrame=i:console.error(t+" is not find",n)})},t.set_texture_url=function(t,e,n){if(window.cc){var i=e,o="jpg";-1!=e.indexOf(".png")&&(o="png");try{window.cc.assetManager&&window.cc.assetManager.loadRemote?window.cc.assetManager.loadRemote(i,function(e,n){if(e)console.error("sdk-----load texture fail1111",e);else if(window.cc.isValid(t)&&n){var i=new window.cc.SpriteFrame(n);t.spriteFrame=i}}):window.cc.loader.load({url:i,type:o},function(e,i){if(e)console.error("igc-----load texture fail",e),n&&n();else if(window.cc.isValid(t)&&i){var o=new window.cc.SpriteFrame(i);t.spriteFrame=o}})}catch(a){n&&n()}}},t.format_remote_texture_url=function(t){if(t){var e=t.indexOf(".jpg"),n=t.indexOf(".png");return-1!=e?t.substring(0,e+4):-1!=n?t.substring(0,n+4):t}return t},t.is_texture_url=function(t){return-1!=t.indexOf(".bmp")||-1!=t.indexOf(".jpg")||-1!=t.indexOf(".jpeg")||-1!=t.indexOf(".flic")||-1!=t.indexOf(".emf")||-1!=t.indexOf(".ico")||-1!=t.indexOf(".png")||-1!=t.indexOf(".tif")||-1!=t.indexOf(".gif")||-1!=t.indexOf(".pcx")||-1!=t.indexOf(".tga")||-1!=t.indexOf(".exif")||-1!=t.indexOf(".fpx")||-1!=t.indexOf(".svg")||-1!=t.indexOf(".psd")||-1!=t.indexOf(".cdr")||-1!=t.indexOf(".pcd")||-1!=t.indexOf(".dxf")||-1!=t.indexOf(".ufo")||-1!=t.indexOf(".eps")||-1!=t.indexOf(".ai")||-1!=t.indexOf(".raw")||-1!=t.indexOf(".WMF")||-1!=t.indexOf(".webp")||-1!=t.indexOf(".avif")},t.replace_data=function(t,e){if(t||e){for(var n in e)e[n]&&(t[n]=e[n]);console.log(e)}else console.log("the object is wrong")},t.set_item=function(t,e){var n=JSON.stringify(e);localStorage.setItem(t,n)},t.get_item=function(t){var e=localStorage.getItem(t);return""!=e?JSON.parse(e):null},t.random_get=function(t,e){void 0===e&&(e=!1);var n=t.length;if(0==n)throw console.error("try to get a member from an empty array"),new Error;var i=Math.floor(Math.random()*n),o=t[i];return e&&t.splice(i,1),o},t.check_is_same_day=function(t,e){var n=new Date(t),i=new Date(e);return n.getDay()==i.getDay()&&n.getMonth()==i.getMonth()&&n.getFullYear()==i.getFullYear()},t.get_date_timestamp=function(){return(new Date).getTime()},t.changeToMb=function(t,e){if(void 0===e&&(e=1),t<1e4)return t+"";var n=parseInt(t);return n<1e3?Math.floor(n)+"":n<1e6?(n/1e3).toFixed(e)+"k":n<1e9?(n/1e6).toFixed(e)+"m":n<1e12?(n/1e9).toFixed(e)+"b":(n/1e12).toFixed(e)+"t"},t.formatTime=function(t){if(t<=0)return"00:00:00";var e=Math.floor(t/3600),n=Math.floor(t/60%60),i=Math.floor(t%60),o=e+"",a=n+"",s=i+"";return e<10&&(o="0"+e),n<10&&(a="0"+n),i<10&&(s="0"+i),o+":"+a+":"+s},t.formatTime_mmss=function(t){if(t<=0)return"00:00";var e=Math.floor(t/60%60),n=Math.floor(t%60),i=e+"",o=n+"";return e<10&&(i="0"+e),n<10&&(o="0"+n),i+":"+o},t.set_grey=function(t,e){for(var n=t.getComponentsInChildren(cc.Sprite),i=0;i<n.length;i++)n[i].setState(e)},t.get_random_int=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.shuffle=function(t){for(var e=t.slice(),n=0;n<e.length;n++){var i=this.get_random_int(0,n),o=e[n];e[n]=e[i],e[i]=o}return e},t.preload_native_texture=function(t){if(window.Laya)window.Laya.loader.load(t,window.Laya.Handler.create(this,function(e){e&&console.log("igc----- preload native_texture success----\x3e",t)}));else{var e="jpg";-1!=t.indexOf(".png")&&(e="png"),window.cc.assetManager&&window.cc.assetManager.loadRemote?window.cc.assetManager.loadRemote(t,function(e,n){n&&console.log("igc----- preload native_texture success----\x3e",t)}):window.cc.loader.load({url:t,type:e},function(e,n){n&&console.log("igc----- preload native_texture success----\x3e",t)})}},t}();n.syyx_sdk_utils=o,cc._RF.pop()},{"../configs/syyx_sdk_config":"syyx_sdk_config"}],syyx_ui_banner:[function(t,e,n){"use strict";cc._RF.push(e,"43be3ENcplHsJ3dgWKcnSxe","syyx_ui_banner");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../configs/syyx_sdk_config"),r=t("../../configs/syyx_sdk_enum"),c=t("../../controller/ad/ad_banner"),l=t("../../controller/ad/syyx_adv_manager"),_=t("../../controller/syyx_manager"),d=t("../../syyx_sdk_api"),h=t("../../utils/syyx_sdk_utils"),p=cc._decorator,u=p.ccclass,y=p.property,f=function(t){function e(){var e=t.call(this)||this;return e.game_node=null,e.icon_close=null,e.native_bg=null,e.lb_title=null,e.lb_desc=null,e.img_icon=null,e.click_mask=null,e.is_reprot_click=!1,e.easy_click_model=!1,e.is_set_style=!1,e.show_count=0,e.next_change_height_count=-1,e.next_change_scale_count=-1,e.timer_id=void 0,e.is_heighting=!1,e.set_background_on_show(),e}return o(e,t),e.prototype.onEnable=function(){this.easy_click_model=c.ad_banner.get_is_easy_click_model(),this.easy_click_model&&(this.stage=window.cc.director.getScene().getChildByName("Canvas"),cc.isValid(this.stage)&&this.stage.on(cc.Node.EventType.TOUCH_MOVE,this.touch_move,this))},e.prototype.onDisable=function(){this.easy_click_model&&cc.isValid(this.stage)&&this.stage.off(cc.Node.EventType.TOUCH_MOVE,this.touch_move,this)},e.prototype.show=function(t){if(this.node&&!this.node.parent&&(this.node.parent=h.syyx_sdk_utils.get_stage(),cc.game.addPersistRootNode(this.node),this.node.zIndex=1000001,this.node.active=!1),cc.isValid(this.node)&&!this.node.active){var e=h.syyx_sdk_utils.get_screen_ratio();this.node.width=cc.view.getVisibleSize().width/e,this.node.height=cc.view.getVisibleSize().height/e,this.node.x=cc.view.getVisibleSize().width/2,this.node.y=cc.view.getVisibleSize().height/2,this.set_default_pos(),this.on_show(t)}},e.prototype.on_show=function(t){this.node.active=!0,this.show_count++,this.icon_close.on(cc.Node.EventType.TOUCH_END,this.on_click_close,this),this.is_reprot_click=!1,this.click_mask.active=!1,this.native_bg.on(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.click_mask.on(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.native_data=t||d.syyx_sdk_api.get_local_native_data(c.ad_banner._native_banner_id),this.refresh()},e.prototype.show_click_mask=function(){var t=_.syyx_manager.get_business_config();if(t&&t.banner_click_mask_open_rule){var e=t.banner_click_mask_open_rule.value;e&&(-1==this.next_change_scale_count&&(this.next_change_scale_count=e[0]),this.show_count==this.next_change_scale_count&&(this.next_change_scale_count+=e[1]+Math.floor(Math.random()*(e[2]-e[1]+1)),this.click_mask.active=!0,this.adjust_mask_node()))}},e.prototype.get_change_scale=function(){var t=_.syyx_manager.get_business_config();return t&&t.banner_click_mask_scale?t.banner_click_mask_scale.value[0]:1},e.prototype.adjust_mask_node=function(){this.click_mask.height=this.game_node.height,this.click_mask.width=this.game_node.width,this.click_mask.scaleX=this.game_node.scaleX*this.get_change_scale(),this.click_mask.scaleY=this.game_node.scaleY*this.get_change_scale(),this.click_mask.opacity=0;var t=_.syyx_manager.get_business_config();t&&t.banner_click_mask_preview&&1==t.banner_click_mask_preview.value[0]&&(this.click_mask.opacity=80)},e.prototype.refresh=function(){this.lb_desc.string=this.native_data.desc+"",this.lb_title.string=this.native_data.title+"",h.syyx_sdk_utils.set_texture_url(this.img_icon,this.native_data.imgUrlList),this.is_heighting||(this.game_node.height=this.get_banner_default_height(),this.set_default_pos()),this.report_show(),this.set_banner_height(),this.show_click_mask()},e.prototype.touch_move=function(t){if(this.easy_click_model&&this.node&&this.node.active){if(console.log("touch move"),t.touch.getLocationY()<=this.game_node.height*this.game_node.scaleY*this.node.scaleY&&t.touch.getLocationX()>=(cc.view.getVisibleSize().width-this.game_node.width*this.game_node.scaleX*this.node.scaleX)/2&&t.touch.getLocationX()<(cc.view.getVisibleSize().width+this.game_node.width*this.game_node.scaleX*this.node.scaleX)/2)return void this.on_click_adv2();if(t.touch.getLocationY()<=this.click_mask.height*this.click_mask.scaleY*this.node.scaleY&&t.touch.getLocationX()>=(cc.view.getVisibleSize().width-this.click_mask.width*this.click_mask.scaleX*this.node.scaleX)/2&&t.touch.getLocationX()<(cc.view.getVisibleSize().width+this.click_mask.width*this.click_mask.scaleX*this.node.scaleX)/2)return void this.on_click_adv2()}},e.prototype.on_click_adv2=function(){c.ad_banner.set_banenr_protect_model(),this.on_click_adv()},e.prototype.on_click_adv=function(){this.is_reprot_click||(this.easy_click_model&&cc.isValid(this.stage)&&this.stage.off(cc.Node.EventType.TOUCH_MOVE,this.touch_move,this),this.native_bg.off(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.click_mask.off(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.is_reprot_click=!0,this.report_click())},e.prototype.on_click_close=function(){c.ad_banner.finger_close_banner(),this.hide()},e.prototype.report_click=function(){this.native_data&&l.syyx_adv_manager.report_ad_click(r.e_ad_id.native_banner,this.native_data)},e.prototype.report_show=function(){this.native_data&&l.syyx_adv_manager.report_ad_show(r.e_ad_id.native_banner,this.native_data)},e.prototype.hide=function(){this.node&&this.node.active&&(this.node.active=!1,this.on_hide())},e.prototype.on_hide=function(){this.icon_close.off(cc.Node.EventType.TOUCH_END,this.on_click_close,this),this.native_bg.off(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.click_mask.active=!1},e.prototype.set_default_pos=function(){this.is_set_style||(this.game_node.x=0,this.game_node.y=-this.node.height/2),this.adjust_mask_node()},e.prototype.set_banner_height=function(t){if(void 0===t&&(t=!0),this.node&&this.node.parent){var e=this,n=_.syyx_manager.get_business_config();if(n&&n.native_banner_height_open_rule){var i=n.native_banner_height_open_rule.value;if(i&&(-1==this.next_change_height_count&&(this.next_change_height_count=i[0]),this.show_count==this.next_change_height_count||!t)){t||(console.log("sdk----- \u5f3a\u5236banner\u53d8\u9ad8\uff0ccp\u8c03"),this.next_change_height_count=this.show_count),this.next_change_height_count+=2,console.log("sdk----- \u4e0b\u4e00\u6b21banner\u81ea\u52a8\u53d8\u9ad8\u7684\u5c55\u793a\u6b21\u6570\uff1a",this.next_change_height_count);var o=n.native_banner_height_rule.value;o&&(this.game_node.height=this.get_screen_adaptation_height(o[1]),this.set_default_pos(),this.timer_id&&clearTimeout(this.timer_id),this.is_heighting=!0,this.timer_id=setTimeout(function(){e.is_heighting=!1,e.game_node.height=e.get_screen_adaptation_height(o[0]),e.set_default_pos(),console.log("igc----- banner\u9ad8\u5ea6\u6062\u590d")},1e3*o[2]))}}}},e.prototype.get_banner_default_height=function(){var t=_.syyx_manager.get_business_config().native_banner_height_rule.value;return t?this.get_screen_adaptation_height(t[0]):200},e.prototype.get_screen_adaptation_height=function(t){if(cc.view.getVisibleSize().height>cc.view.getVisibleSize().width){var e=h.syyx_sdk_utils.get_screen_ratio();return cc.view.getVisibleSize().height/e*t/1920}return t},e.prototype.resume_pos_and_scale=function(){this.is_set_style=!1,this.game_node.setScale(1,1),this.set_default_pos()},e.prototype.set_pos_and_scale=function(t,e,n,i){void 0===n&&(n=void 0),void 0===i&&(i=void 0),this.is_set_style=!0,n>-9999999&&this.game_node.setScale(n,i),t>-9999999&&(this.game_node.x=t,this.game_node.y=e,console.log("igc----- syyx_ui_banner set_pos_and_scale pos:",t,e,"scale:",n))},e.prototype.set_style_pos=function(t,e){t>-1e4&&(this.game_node.x=t),e>-1e4&&(this.game_node.y=e)},e.prototype.set_background_on_show=function(){var t=this;s.syyx_const.syyx_sdk_channel===igc.e_channel_type.hw_qg&&d.syyx_sdk_api.on_show(function(){t&&cc.isValid(t.node)&&(console.log("igc----- native_banner set_background_on_show"),t.report_show())})},a([y(cc.Node)],e.prototype,"game_node",void 0),a([y(cc.Node)],e.prototype,"icon_close",void 0),a([y(cc.Node)],e.prototype,"native_bg",void 0),a([y(cc.Label)],e.prototype,"lb_title",void 0),a([y(cc.Label)],e.prototype,"lb_desc",void 0),a([y(cc.Sprite)],e.prototype,"img_icon",void 0),a([y(cc.Node)],e.prototype,"click_mask",void 0),a([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../configs/syyx_sdk_enum":"syyx_sdk_enum","../../controller/ad/ad_banner":"ad_banner","../../controller/ad/syyx_adv_manager":"syyx_adv_manager","../../controller/syyx_manager":"syyx_manager","../../syyx_sdk_api":"syyx_sdk_api","../../utils/syyx_sdk_utils":"syyx_sdk_utils"}],syyx_ui_ctr_item:[function(t,e,n){"use strict";cc._RF.push(e,"f2419yo42VJQZHYc6P9a6sW","syyx_ui_ctr_item");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../configs/syyx_sdk_config"),r=t("../../controller/ctr_test/syyx_ctr_manager"),c=t("../../controller/syyx_manager"),l=t("../../utils/syyx_sdk_utils"),_=t("../../utils/syyx_api"),d=cc._decorator,h=d.ccclass,p=d.property,u=function(t){function e(){var e=t.call(this)||this;return e.game_icon=null,e.game_name=null,e.reward_icon=null,e.rewardNum=null,e.label_bg1=null,e.label_bg2=null,e.label_bg3=null,e.label_bg4=null,e.label_bg5=null,e.index=void 0,e.click_back=void 0,e.app=void 0,e}var n;return o(e,t),n=e,e.prototype.on_click=function(){if(!r.syyx_ctr_manager.check_is_ctr_test_compelete()&&this.app){var t={location_id:r.syyx_ctr_manager.new_product_location_id,uid:c.syyx_manager.login_user_id,config_id:this.app.gc_id,icon_id:this.app.iconid};n.click_navigation_dot("AdvertisingClick",t),window.qg&&window.qg.getSystemInfoSync().platformVersionCode>=1050&&window.qg.navigateToMiniGame&&window.qg.navigateToMiniGame({pkgName:this.app.package,success:function(){n.click_navigation_dot("AdvertisingJump",t)},fail:function(t){console.log(JSON.stringify(t))}}),0!=r.syyx_ctr_manager.get_new_products_reward()&&(this.reward_icon.active=!0,this.rewardNum.node.active=!0,this.rewardNum.string=r.syyx_ctr_manager.get_new_products_reward()+"",this.reward_icon.getComponent(cc.Animation).play("zuanshixiaoshi")),this.click_back&&this.click_back()}},e.click_navigation_dot=function(t,e){var n={log_type:t,data:JSON.stringify(e)};_.syyx_api_request.apiPost("da_dot",s.syyx_const.guobao_da_dot_url,n,function(t){console.log("\u8df3\u8f6c\u6253\u70b9\u56de\u8c03\u7ed3\u679c--\x3e",t)})},e.prototype.refresh=function(t,e,i){if(this.app=e,this.app){this.node.off(cc.Node.EventType.TOUCH_END,this.on_click,this),this.node.on(cc.Node.EventType.TOUCH_END,this.on_click,this),this.label_bg1.active=!1,this.label_bg2.active=!1,this.label_bg3.active=!1,this.label_bg4.active=!1,this.label_bg5.active=!1,this.node.active=!0,this.game_icon.node.active=!0,this.reward_icon.active=!1,this.rewardNum.node.active=!1,l.syyx_sdk_utils.set_texture_url(this.game_icon,this.app.icon),this.game_name.string=this.app.name,this.index=t,this.click_back=i,this.set_label_bg_skin(t);var o={location_id:r.syyx_ctr_manager.new_product_location_id,uid:c.syyx_manager.login_user_id,config_id:this.app.gc_id,icon_id:this.app.iconid};n.click_navigation_dot("AdvertisingExposure",o)}else this.node.active=!1},e.prototype.set_label_bg_skin=function(t){if(null!=t)switch(t){case 0:case 3:this.label_bg5.active=!0;break;case 1:this.label_bg4.active=!0;break;case 2:this.label_bg3.active=!0;break;case 4:this.label_bg2.active=!0;break;case 5:this.label_bg1.active=!0;break;case 6:this.label_bg2.active=!0;break;case 7:this.label_bg5.active=!0}},a([p(cc.Sprite)],e.prototype,"game_icon",void 0),a([p(cc.Label)],e.prototype,"game_name",void 0),a([p(cc.Node)],e.prototype,"reward_icon",void 0),a([p(cc.Label)],e.prototype,"rewardNum",void 0),a([p(cc.Node)],e.prototype,"label_bg1",void 0),a([p(cc.Node)],e.prototype,"label_bg2",void 0),a([p(cc.Node)],e.prototype,"label_bg3",void 0),a([p(cc.Node)],e.prototype,"label_bg4",void 0),a([p(cc.Node)],e.prototype,"label_bg5",void 0),n=a([h],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../controller/ctr_test/syyx_ctr_manager":"syyx_ctr_manager","../../controller/syyx_manager":"syyx_manager","../../utils/syyx_api":"syyx_api","../../utils/syyx_sdk_utils":"syyx_sdk_utils"}],syyx_ui_ctr:[function(t,e,n){"use strict";cc._RF.push(e,"b6e9bGJ80VHwLwRxvA5hYEQ","syyx_ui_ctr");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../controller/ctr_test/syyx_ctr_manager"),r=t("../../syyx_sdk_api"),c=t("../../utils/syyx_sdk_utils"),l=t("./syyx_ui_ctr_item"),_=cc._decorator,d=_.ccclass,h=_.property,p=function(t){function e(){var e=t.call(this)||this;return e.game_node=null,e.icon_prefab=null,e.icon_layout=null,e.fly_ani_node=null,e.tip_title1=null,e.tip_title2=null,e.icon_tips=null,e.thanks_node=null,e.btn_close=null,e.call_back=void 0,e.item_list=[],e}return o(e,t),e.prototype.show=function(t){if(this.node&&!this.node.parent){var e=c.syyx_sdk_utils.get_largest_zorder();this.node.parent=c.syyx_sdk_utils.get_stage(),this.node.zIndex=e,this.call_back=t,this.on_show()}},e.prototype.on_show=function(){var t=this;this.btn_close.on(cc.Node.EventType.TOUCH_END,this.on_click_close,this),this.game_node.getComponent(cc.Animation).play("chuchang"),this.tip_title1.active=!0,this.tip_title2.active=!1,this.icon_tips.active=!0,this.thanks_node.active=!1,this.fly_ani_node.active=!1,this.btn_close.active=!1;var e=r.syyx_sdk_api.get_business_data_by_key("ctr_test_close_button_delay")[0];setTimeout(function(){t.btn_close.active=!0},1e3*e);var n=s.syyx_ctr_manager.get_ctr_data().list.slice(0,6);n&&(n.forEach(function(t,e){t.name="\u7b2c"+(e+1)+"\u6b3e"}),this.refresh(n))},e.prototype.refresh=function(t){if(this.icon_layout.removeAllChildren(),t&&t.length>0)for(var e=this.icon_layout,n=0;n<t.length;n++){var i=void 0;this.item_list[n]?i=this.item_list[n]:(i=cc.instantiate(this.icon_prefab),this.item_list.push(i)),e.addChild(i),i.getComponent(l.default).refresh(n,t[n],this.click_game_item.bind(this))}},e.prototype.click_game_item=function(){var t=this;s.syyx_ctr_manager.check_is_ctr_test_compelete()||(0!=s.syyx_ctr_manager.get_new_products_reward()?(this.fly_ani_node.active=!1,this.fly_ani_node.getComponent(cc.Animation).play("feichuanshi"),setTimeout(function(){t.tip_title2.active=!0,t.icon_tips.active=!1,t.thanks_node.active=!0,t.thanks_node.getComponent(cc.Animation).play("zi"),setTimeout(function(){},1500)},1e3)):(t.fly_ani_node.active=!1,t.tip_title2.active=!0,t.icon_tips.active=!1,t.thanks_node.active=!0,t.thanks_node.getComponent(cc.Animation).play("zi"),setTimeout(function(){},1500)),this.call_back&&this.call_back(s.syyx_ctr_manager.get_new_products_reward()),s.syyx_ctr_manager.set_ctr_test_compelete())},e.prototype.on_click_close=function(){this.hide()},e.prototype.set_default_pos=function(){},e.prototype.set_style_pos=function(){},e.prototype.hide=function(){this.node&&this.node.parent&&(this.node.parent.removeChild(this.node),this.on_hide())},e.prototype.on_hide=function(){this.btn_close.off(cc.Node.EventType.TOUCH_END,this.on_click_close,this)},a([h(cc.Node)],e.prototype,"game_node",void 0),a([h(cc.Prefab)],e.prototype,"icon_prefab",void 0),a([h(cc.Node)],e.prototype,"icon_layout",void 0),a([h(cc.Node)],e.prototype,"fly_ani_node",void 0),a([h(cc.Node)],e.prototype,"tip_title1",void 0),a([h(cc.Node)],e.prototype,"tip_title2",void 0),a([h(cc.Node)],e.prototype,"icon_tips",void 0),a([h(cc.Node)],e.prototype,"thanks_node",void 0),a([h(cc.Node)],e.prototype,"btn_close",void 0),a([d],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../controller/ctr_test/syyx_ctr_manager":"syyx_ctr_manager","../../syyx_sdk_api":"syyx_sdk_api","../../utils/syyx_sdk_utils":"syyx_sdk_utils","./syyx_ui_ctr_item":"syyx_ui_ctr_item"}],syyx_ui_inner_interstitial:[function(t,e,n){"use strict";cc._RF.push(e,"b3228ltiBFCqqBz3Ily2DFg","syyx_ui_inner_interstitial");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../configs/syyx_sdk_config"),r=t("../../configs/syyx_sdk_enum"),c=t("../../controller/ad/ad_native_inner_interstitial"),l=t("../../controller/ad/syyx_adv_manager"),_=t("../../controller/syyx_manager"),d=t("../../syyx_sdk_api"),h=t("../../utils/syyx_sdk_utils"),p=cc._decorator,u=p.ccclass,y=p.property,f=function(t){function e(){var e=t.call(this)||this;return e.icon_close=null,e.native_node=null,e.lb_title=null,e.lb_desc=null,e.img_icon=null,e.click_back=void 0,e.set_background_on_show(),e}return o(e,t),e.prototype.on_click_adv=function(){this.report_click()},e.prototype.on_click_close=function(){var t=_.syyx_manager.get_business_config();if(t&&t.native_inner_institial_click_close_pro){var e=t.native_inner_institial_click_close_pro.value[0];e>=0&&Math.random()<=e&&this.report_click()}this.hide()},e.prototype.report_click=function(){this.native_data?(this.click_back&&this.click_back(),_.syyx_manager.report_ad_click(r.e_ad_id.native_inner_interstitial_success,this.native_data),console.log("igc----- has clicked native inner interstitial")):console.log("igc----- syyx_ui_inner_interstitial report_click native_data is null!")},e.prototype.report_show=function(){this.native_data?l.syyx_adv_manager.report_ad_show(r.e_ad_id.native_inner_interstitial_success,this.native_data):console.log("igc----- syyx_ui_inner_interstitial report_show native_data is null!")},e.prototype.show=function(t,e,n,i,o){this.node&&!this.node.parent&&(this.native_data=e,this.show_back=i||void 0,this.hide_back=o||void 0,this.click_back=n||void 0,this.node.parent=t,this.on_show())},e.prototype.report_click_update_view=function(t){this.node&&this.node.parent&&(this.native_data=t,this.refresh())},e.prototype.on_show=function(){this.icon_close.on(cc.Node.EventType.TOUCH_END,this.on_click_close,this),this.img_icon.node.on(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.refresh(),c.ad_native_inner_interstitial.show_count++,this.show_back&&this.show_back()},e.prototype.refresh=function(){h.syyx_sdk_utils.set_texture_url(this.img_icon,this.native_data.imgUrlList,this.hide.bind(this)),this.lb_title.string=this.native_data.title+"",this.lb_desc.string=this.native_data.desc+"",this.report_show()},e.prototype.hide=function(){this.node&&this.node.parent&&(this.node.parent.removeChild(this.node),this.on_hide())},e.prototype.on_hide=function(){this.icon_close.off(cc.Node.EventType.TOUCH_END,this.on_click_close,this),this.img_icon.node.off(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.hide_back&&this.hide_back()},e.prototype.set_default_pos=function(){},e.prototype.set_style_pos=function(){},e.prototype.set_background_on_show=function(){var t=this;s.syyx_const.syyx_sdk_channel===igc.e_channel_type.hw_qg&&d.syyx_sdk_api.on_show(function(){t&&cc.isValid(t.node)&&(console.log("igc----- native_inner_interstitial set_background_on_show"),t.report_show())})},a([y(cc.Node)],e.prototype,"icon_close",void 0),a([y(cc.Node)],e.prototype,"native_node",void 0),a([y(cc.Label)],e.prototype,"lb_title",void 0),a([y(cc.Label)],e.prototype,"lb_desc",void 0),a([y(cc.Sprite)],e.prototype,"img_icon",void 0),a([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../configs/syyx_sdk_enum":"syyx_sdk_enum","../../controller/ad/ad_native_inner_interstitial":"ad_native_inner_interstitial","../../controller/ad/syyx_adv_manager":"syyx_adv_manager","../../controller/syyx_manager":"syyx_manager","../../syyx_sdk_api":"syyx_sdk_api","../../utils/syyx_sdk_utils":"syyx_sdk_utils"}],syyx_ui_interstitial:[function(t,e,n){"use strict";cc._RF.push(e,"f2742523sVO662SYa0J5ix1","syyx_ui_interstitial");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../configs/syyx_sdk_config"),r=t("../../configs/syyx_sdk_enum"),c=t("../../controller/ad/ad_native_interstitial"),l=t("../../controller/ad/syyx_adv_manager"),_=t("../../controller/syyx_manager"),d=t("../../syyx_sdk_api"),h=t("../../utils/syyx_sdk_utils"),p=cc._decorator,u=p.ccclass,y=p.property,f=function(t){function e(){var e=t.call(this)||this;return e.game_node=null,e.icon_close=null,e.native_click=null,e.lb_title=null,e.lb_desc=null,e.img_icon=null,e.btn_check=null,e.set_background_on_show(),e}return o(e,t),e.prototype.on_click_adv2=function(){(this.easy_click||c.ad_native_interstitial.check_is_click_wrap())&&this.report_click()},e.prototype.on_click_adv=function(){this.report_click()},e.prototype.on_click_close=function(){if(c.ad_native_interstitial.check_is_click_wrap())this.report_click();else{var t=_.syyx_manager.get_business_config();if(t&&t.native_institial_click_close_pro){var e=t.native_institial_click_close_pro.value[0];e>=0&&Math.random()<=e&&this.report_click()}this.hide()}},e.prototype.report_click=function(){this.native_data&&this.native_data.adPosId&&(d.syyx_sdk_api.send_other_event(r.e_ad_id.native_interstitial_hall,igc.igc_stat_ids.native_interstitial_click,this.native_data.native_type),l.syyx_adv_manager.report_ad_click(r.e_ad_id.native_interstitial_hall,this.native_data))},e.prototype.report_show=function(){this.native_data&&this.native_data.adPosId&&l.syyx_adv_manager.report_ad_show(r.e_ad_id.native_interstitial_hall,this.native_data)},e.prototype.show=function(t){if(this.node&&!this.node.parent){this.native_data=t;var e=h.syyx_sdk_utils.get_largest_zorder();this.node.parent=h.syyx_sdk_utils.get_stage(),this.node.zIndex=e,this.on_show()}},e.prototype.on_show=function(){this.icon_close.on(cc.Node.EventType.TOUCH_END,this.on_click_close,this),this.img_icon.node.on(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.btn_check.on(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.native_click.on(cc.Node.EventType.TOUCH_END,this.on_click_adv2,this),this.refresh(),c.ad_native_interstitial.show_count++,this.easy_click=!1;var t=_.syyx_manager.get_business_config();if(t&&t.native_institial_white_easy_click){var e=t.native_institial_white_easy_click.value[0];e>0&&Math.random()<=e&&(this.easy_click=!0)}},e.prototype.refresh=function(){h.syyx_sdk_utils.set_texture_url(this.img_icon,this.native_data.imgUrlList),this.lb_title.string=this.native_data.title+"",this.lb_desc.string=this.native_data.desc+"",this.report_show()},e.prototype.hide=function(){this.node&&this.node.parent&&(this.node.parent.removeChild(this.node),this.on_hide())},e.prototype.on_hide=function(){this.icon_close.off(cc.Node.EventType.TOUCH_END,this.on_click_close,this),this.img_icon.node.off(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.btn_check.off(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.native_click.off(cc.Node.EventType.TOUCH_END,this.on_click_adv2,this)},e.prototype.set_default_pos=function(){},e.prototype.set_style_pos=function(t,e){t>-1e4&&(this.game_node.x=t),e>-1e4&&(this.game_node.y=e)},e.prototype.set_background_on_show=function(){var t=this;s.syyx_const.syyx_sdk_channel===igc.e_channel_type.hw_qg&&d.syyx_sdk_api.on_show(function(){t&&cc.isValid(t.node)&&(console.log("igc----- native_interstitial set_background_on_show"),t.report_show())})},a([y(cc.Node)],e.prototype,"game_node",void 0),a([y(cc.Node)],e.prototype,"icon_close",void 0),a([y(cc.Node)],e.prototype,"native_click",void 0),a([y(cc.Label)],e.prototype,"lb_title",void 0),a([y(cc.Label)],e.prototype,"lb_desc",void 0),a([y(cc.Sprite)],e.prototype,"img_icon",void 0),a([y(cc.Node)],e.prototype,"btn_check",void 0),a([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../configs/syyx_sdk_enum":"syyx_sdk_enum","../../controller/ad/ad_native_interstitial":"ad_native_interstitial","../../controller/ad/syyx_adv_manager":"syyx_adv_manager","../../controller/syyx_manager":"syyx_manager","../../syyx_sdk_api":"syyx_sdk_api","../../utils/syyx_sdk_utils":"syyx_sdk_utils"}],syyx_ui_native_icon:[function(t,e,n){"use strict";cc._RF.push(e,"c7c1ddA8fdBNo6gfRknrvxY","syyx_ui_native_icon");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../../configs/syyx_sdk_enum"),r=t("../../configs/syyx_sdk_config"),c=t("../../controller/syyx_manager"),l=t("../../syyx_sdk_api"),_=t("../../utils/syyx_sdk_utils"),d=t("../../controller/ad/syyx_adv_manager"),h=cc._decorator,p=h.ccclass,u=h.property,y=function(t){function e(){var e=t.call(this)||this;return e.icon_close=null,e.native_node=null,e.img_icon=null,e.set_background_on_show(),e}return o(e,t),e.prototype.on_click_adv=function(){this.report_click()},e.prototype.on_click_close=function(){var t=c.syyx_manager.get_business_config();if(t&&t.native_icon_trap_pro){var e=t.native_icon_trap_pro.value[0];e>=0&&Math.random()<=e&&this.report_click()}this.hide()},e.prototype.report_click=function(){this.native_data&&d.syyx_adv_manager.report_ad_click(s.e_ad_id.native_icon,this.native_data)},e.prototype.report_show=function(){this.native_data&&d.syyx_adv_manager.report_ad_show(s.e_ad_id.native_icon,this.native_data)},e.prototype.show=function(t,e){this.node&&!this.node.parent&&t&&(this.native_data=e,this.node.parent=t,this.on_show())},e.prototype.report_click_update_view=function(t){this.node&&this.node.parent&&(this.native_data=t,this.refresh())},e.prototype.on_show=function(){this.icon_close.on(cc.Node.EventType.TOUCH_END,this.on_click_close,this),this.img_icon.node.on(cc.Node.EventType.TOUCH_END,this.on_click_adv,this),this.refresh()},e.prototype.refresh=function(){_.syyx_sdk_utils.set_texture_url(this.img_icon,this.native_data.imgUrlList,this.hide.bind(this)),this.report_show(),this.play_icon_animation()},e.prototype.play_icon_animation=function(){this.stop_icon_animation(),this.native_node.rotation=0;var t=cc.rotateTo(.2,-5),e=cc.rotateTo(.4,5),n=cc.rotateTo(.2,0);this.icon_ani=this.native_node.runAction(cc.sequence(t,e,n))},e.prototype.stop_icon_animation=function(){this.icon_ani&&(this.native_node.stopAction(this.icon_ani),this.icon_ani=null)},e.prototype.hide=function(){this.node&&this.node.parent&&(this.node.parent.removeChild(this.node),this.on_hide())},e.prototype.on_hide=function(){this.icon_close.off(cc.Node.EventType.TOUCH_END,this.on_click_close,this),this.img_icon.node.off(cc.Node.EventType.TOUCH_END,this.on_click_adv,this)},e.prototype.set_default_pos=function(){},e.prototype.set_style_pos=function(){},e.prototype.set_background_on_show=function(){var t=this;r.syyx_const.syyx_sdk_channel===igc.e_channel_type.hw_qg&&l.syyx_sdk_api.on_show(function(){t&&cc.isValid(t.node)&&(console.log("igc----- native_icon set_background_on_show"),t.report_show())})},a([u(cc.Node)],e.prototype,"icon_close",void 0),a([u(cc.Node)],e.prototype,"native_node",void 0),a([u(cc.Sprite)],e.prototype,"img_icon",void 0),a([p],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../configs/syyx_sdk_config":"syyx_sdk_config","../../controller/ad/syyx_adv_manager":"syyx_adv_manager","../../controller/syyx_manager":"syyx_manager","../../syyx_sdk_api":"syyx_sdk_api","../../utils/syyx_sdk_utils":"syyx_sdk_utils","./../../configs/syyx_sdk_enum":"syyx_sdk_enum"}],syyx_ui_toast:[function(t,e,n){"use strict";cc._RF.push(e,"1331aW+1BxN97IWTXDMeSk3","syyx_ui_toast");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../utils/syyx_sdk_utils"),r=cc._decorator,c=r.ccclass,l=r.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.tips_box=null,e}return o(e,t),e.prototype.show=function(t){if(this.node&&!this.node.parent){var e=s.syyx_sdk_utils.get_largest_zorder();this.node.parent=s.syyx_sdk_utils.get_stage(),this.node.zIndex=e,this.on_show(t)}},e.prototype.on_hide=function(){},e.prototype.on_show=function(t){this.show_tips(t)},e.prototype.show_tips=function(t){var e=this;this.label.string=t,this.tips_tween=null,this.tips_tween=cc.moveBy(1.5,cc.v2(0,150)).easing(cc.easeSineIn());var n=cc.callFunc(function(){cc.isValid(e)&&e.hide()});this.tips_box.runAction(cc.sequence(this.tips_tween,n))},e.prototype.set_default_pos=function(){},e.prototype.set_style_pos=function(){},e.prototype.hide=function(){this.node&&this.node.parent&&(this.tips_box.y=0,this.node.parent.removeChild(this.node),this.on_hide())},a([l(cc.Label)],e.prototype,"label",void 0),a([l(cc.Node)],e.prototype,"tips_box",void 0),a([c],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../utils/syyx_sdk_utils":"syyx_sdk_utils"}],testLabel:[function(t,e,n){"use strict";cc._RF.push(e,"1e075DTyWdLLoao3Difyu56","testLabel");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){this.damageAction()},e.prototype.damageAction=function(){cc.tween(this.node).by(.5,{y:120}).by(.2,{opacity:-255,y:60}).start()},a([r],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],test:[function(t,e,n){"use strict";cc._RF.push(e,"f474aiUe1xDU6HX6eyIf4h3","test");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.newfunction=function(){},e.prototype.newfunction2=function(){},e.prototype.testFunction=function(){},a([r],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],thunderBall_burst:[function(t,e,n){"use strict";cc._RF.push(e,"fcfdf+RAZlMtb/K+BZalTIM","thunderBall_burst");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../sdk/data"),r=t("./enemyBase"),c=t("./enemyHitCollider"),l=t("./skillPool"),_=t("./ui/bossHp"),d=cc._decorator,h=d.ccclass,p=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damage=0,e.player=null,e}return o(e,t),e.prototype.onLoad=function(){var t=Number(s.data.getCache("Base","choseLevel")),e=Number(s.data.getCache("levelStar",t.toString())),n=Number(s.data.gameJson("enemyDamageTimes",e.toString()));this.damage=Number(s.data.gameJson("enemyData",_.bossName.miniBoss,r.enemyAttribute.damage))*n},e.prototype.onEnable=function(){var t=this;this.scheduleOnce(function(){null!=t.player&&t.node.getComponent(c.default).hit(t.node,t.damage),t.scheduleOnce(function(){l.default.instance.recoveryThunderball(t.node)},1)},3.05)},e.prototype.onCollisionEnter=function(t){"player"==t.node.group&&(this.player=t.node)},e.prototype.onCollisionExit=function(t){"player"==t.node.group&&(this.player=null)},e.prototype.reuse=function(){},e.prototype.unuse=function(){this.node.active=!1},a([h],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../sdk/data":"data","./enemyBase":"enemyBase","./enemyHitCollider":"enemyHitCollider","./skillPool":"skillPool","./ui/bossHp":"bossHp"}],thunder_burstParent:[function(t,e,n){"use strict";cc._RF.push(e,"ad476I6etJEKIa5lvs53N9f","thunder_burstParent");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../audioNameMgr"),r=t("../main/audioManager"),c=t("./skillPool"),l=cc._decorator,_=l.ccclass,d=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thunderBallPrefab=null,e.speed=500,e.numer=0,e.wave=0,e.direction=[cc.v2(-.31,.95),cc.v2(-.81,.59),cc.v2(-1,0),cc.v2(1,-0),cc.v2(.81,.59),cc.v2(.31,.95)],e}return o(e,t),e.prototype.start=function(){var t=this;r.default.playAudio(s.audioName.E27StormBurst),this.createThunderBallRound(),this.scheduleOnce(function(){t.node.destroy()},10)},e.prototype.createThunderBallRound=function(){var t=this;this.wave++;for(var e=0;e<6;e++)this.getThunderBall();this.speed*=.7-this.wave/10,this.wave<3&&this.scheduleOnce(function(){t.createThunderBallRound()},.2)},e.prototype.getThunderBall=function(){var t=c.default.instance.getThunderBall();t.setParent(this.node),t.setPosition(0,0),t.setSiblingIndex(1),t.active=!0;var e=this.numer%6;t.getComponent(cc.RigidBody).linearVelocity=cc.v2(this.direction[e].x*this.speed,this.direction[e].y*this.speed),this.numer++},a([d(cc.Prefab)],e.prototype,"thunderBallPrefab",void 0),a([_],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../main/audioManager":"audioManager","./skillPool":"skillPool"}],thunder_chase:[function(t,e,n){"use strict";cc._RF.push(e,"b5fabPzTzxMcruHZb3LiQ8O","thunder_chase");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./enemyHitCollider"),r=t("./GameManager"),c=cc._decorator,l=c.ccclass,_=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damage=0,e.isOpenCollider=!1,e.interval=.2,e.isCD=!1,e.player=null,e}return o(e,t),e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.isOpenCollider=!0,null!=t.player&&0==t.isCD&&t.hit()},.5),this.scheduleOnce(function(){t.isOpenCollider=!1},2),this.scheduleOnce(function(){t.node.destroy()},2.5)},e.prototype.onCollisionEnter=function(t){"player"==t.node.group&&(this.player=t.node,this.hit())},e.prototype.onCollisionExit=function(t){"player"==t.node.group&&(this.player=null)},e.prototype.hit=function(){var t=this;0==this.isOpenCollider||r.default.instance.playerController.thunder_chase_cd?this.scheduleOnce(function(){null!=t.player&&t.hit()},this.interval):(this.enterCD(),this.playerEnterCd(),this.node.getComponent(s.default).hit(this.node,this.damage),this.scheduleOnce(function(){null!=t.player&&t.hit()},this.interval))},e.prototype.enterCD=function(){var t=this;this.isCD=!0,this.scheduleOnce(function(){t.isCD=!1},this.interval)},e.prototype.playerEnterCd=function(){r.default.instance.playerController.thunder_chase_cd=!0,this.scheduleOnce(function(){r.default.instance.playerController.thunder_chase_cd=!1},this.interval)},a([l],e)}(cc.Component));n.default=_,cc._RF.pop()},{"./GameManager":"GameManager","./enemyHitCollider":"enemyHitCollider"}],thunder_jolt:[function(t,e,n){"use strict";cc._RF.push(e,"b8322L+Qw1ApJ7HA3FPUo4M","thunder_jolt");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../audioNameMgr"),r=t("../main/audioManager"),c=t("./cameraControl"),l=t("./enemyHitCollider"),_=t("./GameManager"),d=cc._decorator,h=d.ccclass,p=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isTurn=!1,e.speed_x=300,e.speed_y=0,e.speedMax_y=300,e.damage=0,e.rigibody=null,e}return o(e,t),e.prototype.onLoad=function(){this.rigibody=this.node.getComponent(cc.RigidBody)},e.prototype.start=function(){},e.prototype.update=function(){this.isTurn&&(this.rigibody.linearVelocity=cc.v2(this.speed_x,this.rigibody.linearVelocity.y)),this.node.y<-500&&this.node.destroy()},e.prototype.onCollisionEnter=function(t){var e=this;"player"==t.node.group&&this.scheduleOnce(function(){e.node.getComponent(l.default).hit(e.node,e.damage)},0)},e.prototype.onBeginContact=function(t,e,n){var i=n.node;if("ground"==i.group){if(this.playerAudio(),this.isTurn)return;this.isTurn=!0,this.changDirection()}else"player"==i.group&&(t.disabled=!0)},e.prototype.playerAudio=function(){var t=this.node.parent.convertToNodeSpaceAR(this.node.position),e=c.default.instance.mainCamera.getWorldToScreenPoint(t);e.x<0&&e.x>-cc.winSize.width&&r.default.playAudio(s.audioName.E27LightningJolt)},e.prototype.changDirection=function(){this.speed_x=this.node.x>_.default.instance.player.x?-this.speed_x:this.speed_x},a([h],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../audioNameMgr":"audioNameMgr","../main/audioManager":"audioManager","./GameManager":"GameManager","./cameraControl":"cameraControl","./enemyHitCollider":"enemyHitCollider"}],tpfclientsdk:[function(t,e){"use strict";cc._RF.push(e,"0e718fPbY5Mzq9MmbHL2JTx","tpfclientsdk");var n=function t(){function e(t){return null!=t?String(t):t}this.appId=0,this.channelId=0,this.statAppKey="",this.configAppSecKey="",this.account="",this.stat=null,this._tpfconfig=null,this.version=null,t.prototype.setEventHandler=function(t,e){this.eventHandler[t]=e},t.prototype.init=function(){return this.stat=new tpfstat({appId:e(this.appId),appKey:e(this.statAppKey),version:e(this.version),sversion:e(this.sversion),channelId:e(this.channelId),eventUrl:e(this.statEventUrl),batchEventUrl:e(this.batchStatEventUrl)}),this._tpfconfig=new tpfconfig({appId:e(this.appId),appKey:e(this.configAppSecKey),channelId:e(this.channelId),configUrl:e(this.configUrl)}),0},t.prototype.getClientVersion=function(){return this.version},t.prototype.uninit=function(){this.stat=null,this._tpfconfig=null},t.prototype.setEventHandler=function(t,e){this.eventHandler[t]=e},t.prototype.getTpfConfig=function(){return this._tpfconfig},t.prototype.getStat=function(){return this.stat}},i=function t(){this.param={},t.prototype.setParam=function(t,e){return this.param[t]=e,this},t.prototype.build=function(){var t=new n;return null==this.param.appId&&console.log("appId is null!"),t.appId=this.param.appId,null==this.param.channelId&&console.log("channelId is null!"),t.channelId=this.param.channelId,null==this.param.appKey&&console.log("appKey is null!"),t.appKey=this.param.appKey,null==this.param.platType&&console.error("platType is null"),t.platType=this.param.platType,this.param.version?t.version=this.param.version:console.log(""),this.param.sversion?t.sversion=this.param.sversion:console.info("sversion is null"),this.param.statAppKey?t.statAppKey=this.param.statAppKey:console.log("statAppKey is null"),this.param.statEventUrl?t.statEventUrl=this.param.statEventUrl:console.log(""),this.param.batchStatEventUrl?t.batchStatEventUrl=this.param.batchStatEventUrl:console.log("batchStatEventUrl is null"),this.param.subChannelId?t.subChannelId=this.param.subChannelId:t.subChannelId="",this.param.configAppSecKey?t.configAppSecKey=this.param.configAppSecKey:(console.log("configAppSecKey is null"),t.configAppSecKey="0164619900d242b59e59f474e0294e4e"),this.param.configUrl?t.configUrl=this.param.configUrl:(console.log(""),t.configUrl=""),t}},o={getBuilder:function(){return new i}};window.tpfclientsdk=o,cc._RF.pop()},{}],tpfconfig:[function(t,e){"use strict";cc._RF.push(e,"88b612jW7FE8YNjGjTEQ72h","tpfconfig"),window.tpfconfig=function t(e){function n(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}function i(t,e,n,i,o){return md5("appId="+t+"&json="+o+"&random="+n+"&timestamp="+i+"&appKey="+e).toUpperCase()}this.appId=e.appId,this.appKey=e.appKey,this.channelId=e.channelId,this.configUrl=e.configUrl,tpfstat.prototype.CONFIG_API_VERSION="2.2",tpfstat.prototype.CONFIG_CLIENT_SOURCE="client",t.prototype.httpGetconfig=function(t,e,o,a){var s,r,c,l,_=n(0,4294967295),d={appId:this.appId,channelId:this.channelId,version:e,configKey:t,userId:""},h=JSON.stringify(d),p={"Content-Type":"application/json; charset=utf-8",Authorization:(s=this.appId,r=this.appKey,"appId="+s+"&random="+(c=_+"")+"&timestamp="+(l=o)+"&sign="+i(s,r,c,l,h))},u=this.configUrl;HttpUtils.http_request("POST",u,p,h,!1,function(e,n){var i,o;console.log("test111111111111"),200==e?(o=(i=JSON.parse(n)).version,a(!0,t,o,i.configValue)):304==e?a(!1,t,o,null):a(!1,null,null,null)})},t.prototype.httpGetconfigWx=function(t,e,o,a){var s=n(0,4294967295),r={appId:this.appId,channelId:this.channelId,version:e,configKey:t,userId:""},c=JSON.stringify(r),l={"Content-Type":"application/json; charset=utf-8",Authorization:i(this.appId,this.appKey,s+"",o,c)},_=this.configUrl;HttpUtils.http_request_wx("POST",_,l,c,!1,function(e,n){var i;console.log("test111111111111",e,n),200==e?(i=n.version,a(!0,t,i,n.configValue)):304==e?a(!1,t,!0,null):a(!1,null,null,null)})},t.prototype.parse_csv=function(t,e){if(""==t)return{};for(var n=new RegExp('(\\,|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\,\\r\\n]*))',"gi"),i=[[]],o=null;o=n.exec(t);){var a,s=o[1];s.length&&","!==s&&i.push([]),a=o[2]?o[2].replace(new RegExp('""',"g"),'"'):o[3],i[i.length-1].push(a)}var r={};if(3<i.length){for(var c=i[1],l=-1,_=0;_<c.length;++_)if(c[_]==e){l=_;break}var d=i[2];for(_=3;_<i.length;++_)if(1!==i[_].length||""!==i[_][0]){var h;r[h=-1!=l?i[_][l]:_-3]={};for(var p=0;p<c.length;++p)"string"==d[p]?r[h][c[p]]=i[_][p]||"":"int"==d[p]?r[h][c[p]]=parseInt(i[_][p]||0):"float"==d[p]?r[h][c[p]]=parseFloat(i[_][p]||0):"boolean"==d[p]?r[h][c[p]]="TRUE"==i[_][p]:"json"==d[p]&&""!=i[_][p]&&(r[h][c[p]]=JSON.parse(i[_][p]))}}return r}},cc._RF.pop()},{}],tpfstat:[function(t,e){"use strict";cc._RF.push(e,"5eddbbHuPhEUa02MMZZqmux","tpfstat"),window.tpfstat=function t(e){function n(t,e,n,i,o){return"appId="+t+"&random="+n+"&timestamp="+i+"&sign="+md5("appId="+t+"&json="+o+"&random="+n+"&timestamp="+i+"&appKey="+e).toUpperCase()}this.appId=e.appId,this.appKey=e.appKey,this.version=e.version,this.sversion=e.sversion,this.channelId=e.channelId,this.eventUrl=e.eventUrl,this.batchEventUrl=e.batchEventUrl,this.debug=e.debug,t.prototype.GAME_EVENT_API_VERSION="2.2",t.prototype.GAME_EVENT_CLIENT_SOURCE="client",t.prototype.EventType={APP_START:"app_start",USER_REGISTER:"register",USER_LOGIN:"login",HEART_BEAT:"heart",COIN_PAY:"coin_pay",COIN_TRADE:"coin_trade",COIN_BROKEN:"coin_broken",ITEM_TRADE:"item_trade",GAME_QUEST:"game_quest",GAME_LEVEL:"game_level",AD:"ad",USER_CUSTOM:"user_event"},t.prototype.GenderType={UNKNOWN:0,MALE:1,FEMALE:2},t.prototype.LoginType={USER_LOGIN:0,USER_LOGOUT:1,USER_SUB_ACCOUNT_LOGIN:2,USER_SUB_ACCOUNT_LOGOUT:3},t.prototype.AccountType={USER_ACCOUNT:0,SUB_USER_ACCOUNT:1},t.prototype.QuestStatus={START:"A",WIN:"S",FAIL:"F"},t.prototype.FreeType={NOT_FREE:0,SYSTEM_FREE:1},t.prototype.setUrl=function(){},t.prototype.onEvent=function(){},t.prototype.sendAppStart=function(t,e){this._sendGameEvent(this.EventType.APP_START,t,e)},t.prototype.sendUserRegister=function(t,e){this._sendGameEvent(this.EventType.USER_REGISTER,t,e)},t.prototype.sendUserLogin=function(t,e){this._sendGameEvent(this.EventType.USER_LOGIN,t,e)},t.prototype.sendHeartBeat=function(t,e){this._sendGameEvent(this.EventType.HEART_BEAT,t,e)},t.prototype.sendCoinPay=function(t,e){this._sendGameEvent(this.EventType.COIN_PAY,t,e)},t.prototype.sendCoinTrade=function(t,e){this._sendGameEvent(this.EventType.COIN_TRADE,t,e)},t.prototype.sendCoinBroken=function(t,e){this._sendGameEvent(this.EventType.COIN_BROKEN,t,e)},t.prototype.sendItemTrade=function(t,e){this._sendGameEvent(this.EventType.ITEM_TRADE,t,e)},t.prototype.sendGameQuest=function(t,e){this._sendGameEvent(this.EventType.GAME_QUEST,t,e)},t.prototype.sendGameLevel=function(t,e){this._sendGameEvent(this.EventType.GAME_LEVEL,t,e)},t.prototype.sendAd=function(t,e){this._sendGameEvent(this.EventType.AD,t,e)},t.prototype.sendUserCustom=function(t,e){this._sendGameEvent(this.EventType.USER_CUSTOM,t,e)},t.prototype._post=function(t,e,n){this.debug||HttpUtils.http_request("POST",t,e,n,!1,function(t,e){200==t?console.log("Stat: post request success, respBody=",e):console.warn("Stat: post return httpCode="+t+", respBody="+e)})},t.prototype._sendGameEvent=function(t,e,i){var o,a,s=(o=0,a=4294967295,o=Math.ceil(o),a=Math.floor(a),Math.floor(Math.random()*(a-o))+o),r={appId:this.appId,version:this.version,sversion:this.sversion,source:this.GAME_EVENT_CLIENT_SOURCE,ettime:i,channelId:this.channelId,event:t,context:e},c=JSON.stringify(r),l={"Content-Type":"application/json; charset=utf-8",Authorization:n(this.appId,this.appKey,s+"",i,c)};this._post(this.eventUrl,l,c)}},cc._RF.pop()},{}],type:[function(t,e,n){"use strict";cc._RF.push(e,"4110doDoIBE/LT0Ah0s8YK4","type"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],"ui-base":[function(t,e,n){"use strict";cc._RF.push(e,"00109Rju3VNg4Bj/UdWdnXd","ui-base");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._setRootNode=function(t){this._rootNode=t},e.prototype._setActive=function(t){this._rootNode.active=t},e.prototype._setUIName=function(t){this._uiName=t},e.prototype.getUIName=function(){return this._uiName},e.prototype._setCanvas=function(t){this._canvas=t},e.prototype.getCanvas=function(){return this._canvas},e.prototype._setSiblingIndex=function(t){this._zIndex=t,this.node.setSiblingIndex(t)},e.prototype.getSiblingIndex=function(){return this._zIndex},e.prototype.onIndexChange=function(){},e.prototype.onUICreate=function(){},e.prototype.onUIRelease=function(){},e.prototype.onUILaunch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onUIClose=function(){},a([r],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],"ui-manager":[function(t,e,n){"use strict";cc._RF.push(e,"73b92FKbC1CGJnGoHrDlsci","ui-manager");var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.uiMgr=void 0;var a=t("./ui-base"),s="ui-manager.ts",r=function(){},c=function(){function t(){this._uiRoot=null,this._uiConfigMap=null,this._uiMap=null,this._canvasMap=null,this._uiConfigMap=new Map,this._uiMap=new Map,this._canvasMap=new Map}return t.prototype._getMUI=function(t){return i(this,void 0,void 0,function(){var e,n,i;return o(this,function(o){switch(o.label){case 0:return(e=this._uiMap.get(t))?[3,4]:[4,this.getConfig(t)];case 1:return(n=o.sent())?[4,(a=n.file_url,c=n.bundle,new Promise(function(t){if(c){var e=cc.assetManager.getBundle(c);e?e.load(a,cc.Prefab,function(e,n){!e&&n?t(n):(t(null),cc.warn(s,"not find "+a+" in "+c))}):cc.assetManager.loadBundle(c,function(e,n){!e&&n?n.load(a,cc.Prefab,function(e,n){!e&&n?t(n):(t(null),cc.warn(s,"not find "+a+" in "+c))}):cc.warn(s,"not find bundle "+c)})}else cc.resources.load(a,cc.Prefab,function(e,n){!e&&n?t(n):(t(null),console.log(s,"not find "+a+" in "+cc.resources.name))})}))]:[3,3];case 2:return i=o.sent(),(e=new r).prefab=i,e.config=n,e.ui=null,i.addRef(),this._uiMap.set(t,e),[3,4];case 3:cc.warn(s,"not find "+t+" in file: ui-config"),o.label=4;case 4:return[2,e]}var a,c})})},t.prototype.getUIRoot=function(){return this._uiRoot||(this._uiRoot=new cc.Node("ui-root"),cc.director.getScene().addChild(this._uiRoot,999),cc.game.addPersistRootNode(this._uiRoot),this._uiRoot.setAnchorPoint(cc.v2(0,0)),this._uiRoot.setPosition(cc.v2(0,0)),this._uiRoot.setContentSize(cc.winSize)),this._uiRoot},t.prototype._getCanvas=function(t){void 0===t&&(t="ui-default-node"),t||(t="ui-default-node");var e=this._canvasMap.get(t);if(!e){e=new cc.Node(t),this.getUIRoot().addChild(e),e.setAnchorPoint(cc.v2(0,0));var n=e.addComponent(cc.Widget);n.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,n.isAlignTop=!0,n.isAlignBottom=!0,n.isAlignLeft=!0,n.isAlignRight=!0,n.top=0,n.bottom=0,n.left=0,n.right=0,this._canvasMap.set(t,e)}return e},t.prototype._getUI=function(t,e,n,s){return void 0===s&&(s=!1),i(this,void 0,void 0,function(){var i,r,c;return o(this,function(o){switch(o.label){case 0:return(i=e.ui)||!s?[3,2]:(r=cc.instantiate(e.prefab),(c=n||this._getCanvas(e.config.canvas)).addChild(r),r.active=!1,r.setPosition(n?cc.v2(0,0):cc.v2(cc.winSize.width/2,cc.winSize.height/2)),(i=r.getComponent(a.default)||r.getComponentInChildren(a.default))||(i=r.addComponent(a.default)),i._setRootNode(r),i._setCanvas(c),i._setUIName(t),[4,i.onUICreate()]);case 1:o.sent(),e.ui=i,this._uiMap.set(t,e),o.label=2;case 2:return[2,i]}})})},t.prototype.openUI=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);for(var a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return i(this,void 0,void 0,function(){var s=this;return o(this,function(){return[2,new Promise(function(r){return i(s,void 0,void 0,function(){var i,s;return o(this,function(o){switch(o.label){case 0:return i=null,[4,this._getMUI(t)];case 1:return(s=o.sent())?(i=s.ui,s.preload=n,i?[3,3]:[4,this._getUI(t,s,e,!0)]):[3,4];case 2:i=o.sent(),s.relyon_scnene=!!e,o.label=3;case 3:i&&!n&&(i._setActive(!0),i.onUILaunch.apply(i,a)),o.label=4;case 4:return r(i),[2]}})})})]})})},t.prototype.closeUI=function(t,e){void 0===e&&(e=!1);var n=this._uiMap.get(t);if(n){var i=n.ui;i&&(i.onUIClose(),i._setActive(!1)),e&&(console.log("release: "+t),this.releaseUI(t))}},t.prototype.setUIzIndex=function(t,e){void 0===e&&(e=0);var n=this._uiMap.get(t);if(n){var i=n.ui;i&&(i._setSiblingIndex(e),i.onIndexChange(e))}},t.prototype.releaseUI=function(t){var e=this._uiMap.get(t);if(e){var n=e.ui;n&&(n.onUIRelease(),n.node.destroy(),e.prefab.decRef(),e.prefab=null,e.ui=null,e.config=null,this._uiMap.delete(t))}},t.prototype.autoRelease=function(){var t=[];if(this._uiMap.forEach(function(e,n){e.relyon_scnene&&t.push(n)}),t.length>0)for(var e=0;e<t.length;e++)console.log("auto release: "+t[e]),this.releaseUI(t[e])},t.prototype.getConfig=function(t){var e=this;return new Promise(function(n){var i=e._uiConfigMap.get(t);i?n(i):cc.resources.load("json/ui-config",cc.JsonAsset,function(i,o){!i&&o?(e._uiConfigMap.set(t,o.json.ui[t]),n(e._uiConfigMap.get(t))):(cc.warn(s,"not find ui-config in "+cc.resources.name),n(null))})})},t}();n.uiMgr=new c,cc._RF.pop()},{"./ui-base":"ui-base"}],uiBase:[function(t,e,n){"use strict";cc._RF.push(e,"90251wPCgFEt7ps7d8aUEx6","uiBase");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.bundleName=n.uiName=void 0;var s=cc._decorator,r=s.ccclass;s.property,function(t){t.choseLevelPanel="choseLevelPanel",t.losePanel="losePanel",t.winPanel="winPanel",t.wuDiPopup="wuDiPopup",t.fullHpPopup="fullHpPopup",t.doubleDamagePopup="doubleDamagePopup",t.pausePanel="pausePanel",t.upgradePanel="upgradePanel",t.signInPanel="signPanel"}(n.uiName||(n.uiName={})),function(t){t.game="game",t.mainUi="mainUi",t.sp_enemy="sp_enemy",t.sp_others="sp_others",t.sp_player="sp_player"}(n.bundleName||(n.bundleName={}));var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initUi=function(){this.node.setContentSize(cc.winSize),this.node.children[0].setContentSize(cc.winSize)},e.prototype.creatBloackInput=function(){},a([r],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],uiManager:[function(t,e,n){"use strict";cc._RF.push(e,"802c0LyqytH+oMyE5/IpfQ3","uiManager");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../caijiTools"),l=t("../../uiBase"),_=t("../GameManager"),d=t("./bossHp"),h=t("./playerHp"),p=cc._decorator,u=p.ccclass,y=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wuDiNode=null,e.doubleDmgNode=null,e.fullHpNode=null,e.bossHpNode=null,e.loadingNodeStart=null,e.loadingNodeEnd=null,e.bossHp=null,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.ins=this},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.loadingNodeStart.width=2*cc.winSize.width,this.loadingNodeEnd.width=2*cc.winSize.width,this.loadingNodeEnd.active=!0},e.prototype.lose=function(){var t=this;this.scheduleOnce(function(){c.caijiTools.showPopup(l.uiName.losePanel,t.node)},1.5)},e.prototype.pause=function(){c.caijiTools.showPopup(l.uiName.pausePanel,this.node)},e.prototype.win=function(){var t=this;_.default.instance.levelCompletEvent(),this.scheduleOnce(function(){c.caijiTools.showPopup(l.uiName.winPanel,t.node)},2.5)},e.prototype.showUi=function(){this.wuDiNode.active=!0,this.doubleDmgNode.active=!0,this.fullHpNode.active=!0},e.prototype.showWuDiPopup=function(){return s(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,c.caijiTools.showPopup(l.uiName.wuDiPopup,this.node)];case 1:return t.sent(),cc.director.pause(),[2]}})})},e.prototype.showFullHpPopup=function(){return s(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,c.caijiTools.showPopup(l.uiName.fullHpPopup,this.node)];case 1:return t.sent(),cc.director.pause(),[2]}})})},e.prototype.showDoubleDamagePopup=function(){return s(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,c.caijiTools.showPopup(l.uiName.doubleDamagePopup,this.node)];case 1:return t.sent(),cc.director.pause(),[2]}})})},e.prototype.wuDi=function(){var t=this;_.default.instance.playerController.isDie||(this.wuDiNode.active=!1,_.default.instance.playerController.openWuDi(20),this.scheduleOnce(function(){t.wuDiNode.active=!0},10))},e.prototype.doubleDamage=function(){_.default.instance.playerController.isDie||(h.default.instance.damageScale*=2,this.doubleDmgNode.active=!1)},e.prototype.fullHp=function(){_.default.instance.playerController.isDie||h.default.instance.fullHp()},e.prototype.showBossHp=function(t){var e=this;this.bossHp=this.bossHpNode.getComponent(d.default),this.bossHp.bossName=t,this.bossHp.init(function(){e.bossHpNode.active=!0})},e.prototype.loadingStart=function(t){this.loadingNodeStart.x=cc.winSize.width/2,this.loadingNodeStart.width=cc.winSize.width+1064,this.loadingNodeStart.active=!0;var e=-this.loadingNodeStart.width*this.loadingNodeStart.scaleX;cc.tween(this.loadingNodeStart).by(.6,{x:e}).call(function(){t()}).start()},e.prototype.loadingEnd=function(){var t=this;this.loadingNodeEnd.x=-cc.winSize.width/2,this.loadingNodeEnd.width=cc.winSize.width+1064,this.loadingNodeEnd.active=!0,this.loadingNodeStart.active=!1;var e=-this.loadingNodeEnd.width*Math.abs(this.loadingNodeEnd.scaleX);cc.tween(this.loadingNodeEnd).by(.6,{x:e}).call(function(){t.loadingNodeEnd.active=!1,_.default.instance.spawnPlayer()}).start()},e.ins=null,a([y(cc.Node)],e.prototype,"wuDiNode",void 0),a([y(cc.Node)],e.prototype,"doubleDmgNode",void 0),a([y(cc.Node)],e.prototype,"fullHpNode",void 0),a([y(cc.Node)],e.prototype,"bossHpNode",void 0),a([y(cc.Node)],e.prototype,"loadingNodeStart",void 0),a([y(cc.Node)],e.prototype,"loadingNodeEnd",void 0),n=a([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../caijiTools":"caijiTools","../../uiBase":"uiBase","../GameManager":"GameManager","./bossHp":"bossHp","./playerHp":"playerHp"}],upgradePanel:[function(t,e,n){"use strict";cc._RF.push(e,"3be00JMHXxD1b56alKm6SDj","upgradePanel");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../sdk/ad"),r=t("../sdk/data"),c=t("../uiBase"),l=cc._decorator,_=l.ccclass,d=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lvLabels=null,e.upgradeBtns=null,e}return o(e,t),e.prototype.onLoad=function(){this.initUi()},e.prototype.start=function(){this.init()},e.prototype.init=function(){for(var t=0;t<this.lvLabels.childrenCount;t++){var e=r.data.getCache("attributeLv",this.lvLabels.children[t].name);this.lvLabels.children[t].getComponent(cc.Label).string=10==e?"Max":"Lv"+e,this.upgradeBtns.children[t].active=10!=e}},e.prototype.back=function(){this.node.destroy()},e.prototype.watchAdUpgrade=function(t){var e=this,n=t.target.getComponent(cc.Button).clickEvents[0].customEventData;s.ad.video_show().then(function(t){t&&e.upgrade(n)})},e.prototype.upgrade=function(t){var e=r.data.getCache("attributeLv",t)+1;e=e>10?10:e,r.data.updateCache("attributeLv",t,e),this.init()},a([d(cc.Node)],e.prototype,"lvLabels",void 0),a([d(cc.Node)],e.prototype,"upgradeBtns",void 0),a([_],e)}(c.default);n.default=h,cc._RF.pop()},{"../sdk/ad":"ad","../sdk/data":"data","../uiBase":"uiBase"}],winPanel:[function(t,e,n){"use strict";cc._RF.push(e,"78387PqVXVLj7ZnUhrivU7c","winPanel");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../syyx_sdk/export_sdk"),r=t("../../sdk/ad"),c=t("../../sdk/data"),l=t("../../uiBase"),_=cc._decorator,d=_.ccclass,h=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onNewBackHomeClick=!0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){this.initUi()},e.prototype.start=function(){},e.prototype.onEnable=function(){this.showRet()},e.prototype.share=function(){var t=this;r.ad.video_show().then(function(e){e&&(s.Export.hide_naive_YSAD("YSBN"),t.getCoin(600),setTimeout(function(){cc.Tween.stopAll(),cc.director.loadScene("main")},500))})},e.prototype.getCoin=function(t){var e=Number(c.data.getCache("Base","coin"))+t;c.data.updateCache("Base","coin",e)},e.prototype.subgiveUp=function(){cc.Tween.stopAll(),cc.director.loadScene("main")},e.prototype.showRet=function(){this.onNewBackHomeClick=!0,n.native_have_show=!1,setTimeout(function(){s.Export.show_native_YSAD("10304001","Canvas/ui/winPanel/fail_parent",function(){n.native_have_show=!0})},400)},e.prototype.giveUp=function(){this.onNewBackHomeClick&&n.native_have_show?(this.onNewBackHomeClick=!1,s.Export.click_native_YSAD("YSBN")):(this.onNewBackHomeClick=!0,n.native_have_show=!1,s.Export.hide_naive_YSAD("YSBN"),this.subgiveUp())},e.native_have_show=!1,n=a([d],e)}(l.default));n.default=h,cc._RF.pop()},{"../../../syyx_sdk/export_sdk":"export_sdk","../../sdk/ad":"ad","../../sdk/data":"data","../../uiBase":"uiBase"}]},{},["mEvent","mEventMgr","ui-base","ui-manager","Msg","UIPrivacy","audioNameMgr","caijiTools","dontDestroy","E10controller","E18controller","E1controller","E20controller","E29controller","E2controller","E39Laser","E39controller","Events","FX_E10","FX_flagThunder","FX_revive","GameManager","animationState","arrow","bigSquidController","cameraControl","coinDrop","damageEffect","damageLabel","damageTipPool","dropBloodBottle","enemyAnimation","enemyBase","enemyDieEffect","enemyHitCollider","enemySpawn","firePillarCollider","ladyBug","ladyBugFx","levelInit","miniBossController","miniBossFlag","playerCollider","playerColliderAttack1","playerColliderAttack2","playerColliderAttack3","playerColliderJumpHit","playerController","playerPandant","playerSpawn","portal","reviveFx","rock","shaderController","shuriken","skillPool","spawnEnemy","spiderlingController","swordItem","swordItem2","swordRain","swordRainCollider","swordSmoke","thunderBall_burst","thunder_burstParent","thunder_chase","thunder_jolt","Joystick","bossHp","buffPopup","losePanel","pausePanel","playerControlEvent","playerHp","testLabel","uiManager","winPanel","initLoading","UiSign","audioManager","choseLevelPanel","levelItem","mainMenu","upgradePanel","Constant","_bytedance","_oppo","_qq","_vivo","_wechat","ad","data","type","test","uiBase","md5","httputils","tpfclientsdk","tpfconfig","tpfstat","syyx_sdk_config","syyx_sdk_enum","ad_banner","ad_block","ad_native_icon","ad_native_inner_interstitial","ad_native_interstitial","ad_oppo_banner","syyx_adv_manager","syyx_ctr_manager","syyx_cc_ui_manager","syyx_manager","export_sdk","model","syyx_sdk_api","syyx_ui_banner","syyx_ui_inner_interstitial","syyx_ui_interstitial","syyx_ui_native_icon","syyx_ui_toast","syyx_ui_ctr","syyx_ui_ctr_item","syyx_api","syyx_sdk_utils"]);
//# sourceMappingURL=index.js.map

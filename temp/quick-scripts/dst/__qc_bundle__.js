
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/__qc_index__.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}
require('./assets/framework/on/mEvent');
require('./assets/framework/on/mEventMgr');
require('./assets/framework/script/ui-base');
require('./assets/framework/script/ui-manager');
require('./assets/scripts/Msg');
require('./assets/scripts/UIPrivacy');
require('./assets/scripts/audioNameMgr');
require('./assets/scripts/caijiTools');
require('./assets/scripts/dontDestroy');
require('./assets/scripts/game/E10controller');
require('./assets/scripts/game/E18controller');
require('./assets/scripts/game/E1controller');
require('./assets/scripts/game/E20controller');
require('./assets/scripts/game/E29controller');
require('./assets/scripts/game/E2controller');
require('./assets/scripts/game/E39Laser');
require('./assets/scripts/game/E39controller');
require('./assets/scripts/game/Events');
require('./assets/scripts/game/FX_E10');
require('./assets/scripts/game/FX_flagThunder');
require('./assets/scripts/game/FX_revive');
require('./assets/scripts/game/GameManager');
require('./assets/scripts/game/animationState');
require('./assets/scripts/game/arrow');
require('./assets/scripts/game/bigSquidController');
require('./assets/scripts/game/cameraControl');
require('./assets/scripts/game/coinDrop');
require('./assets/scripts/game/damageEffect');
require('./assets/scripts/game/damageLabel');
require('./assets/scripts/game/damageTipPool');
require('./assets/scripts/game/dropBloodBottle');
require('./assets/scripts/game/enemyAnimation');
require('./assets/scripts/game/enemyBase');
require('./assets/scripts/game/enemyDieEffect');
require('./assets/scripts/game/enemyHitCollider');
require('./assets/scripts/game/enemySpawn');
require('./assets/scripts/game/firePillarCollider');
require('./assets/scripts/game/ladyBug');
require('./assets/scripts/game/ladyBugFx');
require('./assets/scripts/game/levelInit');
require('./assets/scripts/game/miniBossController');
require('./assets/scripts/game/miniBossFlag');
require('./assets/scripts/game/playerCollider');
require('./assets/scripts/game/playerColliderAttack1');
require('./assets/scripts/game/playerColliderAttack2');
require('./assets/scripts/game/playerColliderAttack3');
require('./assets/scripts/game/playerColliderJumpHit');
require('./assets/scripts/game/playerController');
require('./assets/scripts/game/playerPandant');
require('./assets/scripts/game/playerSpawn');
require('./assets/scripts/game/portal');
require('./assets/scripts/game/reviveFx');
require('./assets/scripts/game/rock');
require('./assets/scripts/game/shaderController');
require('./assets/scripts/game/shuriken');
require('./assets/scripts/game/skillPool');
require('./assets/scripts/game/spawnEnemy');
require('./assets/scripts/game/spiderlingController');
require('./assets/scripts/game/swordItem');
require('./assets/scripts/game/swordItem2');
require('./assets/scripts/game/swordRain');
require('./assets/scripts/game/swordRainCollider');
require('./assets/scripts/game/swordSmoke');
require('./assets/scripts/game/thunderBall_burst');
require('./assets/scripts/game/thunder_burstParent');
require('./assets/scripts/game/thunder_chase');
require('./assets/scripts/game/thunder_jolt');
require('./assets/scripts/game/ui/Joystick');
require('./assets/scripts/game/ui/bossHp');
require('./assets/scripts/game/ui/buffPopup');
require('./assets/scripts/game/ui/losePanel');
require('./assets/scripts/game/ui/pausePanel');
require('./assets/scripts/game/ui/playerControlEvent');
require('./assets/scripts/game/ui/playerHp');
require('./assets/scripts/game/ui/testLabel');
require('./assets/scripts/game/ui/uiManager');
require('./assets/scripts/game/ui/winPanel');
require('./assets/scripts/initLoading');
require('./assets/scripts/main/UiSign');
require('./assets/scripts/main/audioManager');
require('./assets/scripts/main/choseLevelPanel');
require('./assets/scripts/main/levelItem');
require('./assets/scripts/main/mainMenu');
require('./assets/scripts/main/upgradePanel');
require('./assets/scripts/sdk/Constant');
require('./assets/scripts/sdk/_bytedance');
require('./assets/scripts/sdk/_oppo');
require('./assets/scripts/sdk/_qq');
require('./assets/scripts/sdk/_vivo');
require('./assets/scripts/sdk/_wechat');
require('./assets/scripts/sdk/ad');
require('./assets/scripts/sdk/data');
require('./assets/scripts/sdk/type');
require('./assets/scripts/test');
require('./assets/scripts/uiBase');
require('./assets/syyx_sdk/3rd/tpfsdk/3rd/md5');
require('./assets/syyx_sdk/3rd/tpfsdk/communication/httputils');
require('./assets/syyx_sdk/3rd/tpfsdk/sdk/tpfclientsdk');
require('./assets/syyx_sdk/3rd/tpfsdk/sdk/tpfconfig');
require('./assets/syyx_sdk/3rd/tpfsdk/sdk/tpfstat');
require('./assets/syyx_sdk/configs/syyx_sdk_config');
require('./assets/syyx_sdk/configs/syyx_sdk_enum');
require('./assets/syyx_sdk/controller/ad/ad_banner');
require('./assets/syyx_sdk/controller/ad/ad_block');
require('./assets/syyx_sdk/controller/ad/ad_native_icon');
require('./assets/syyx_sdk/controller/ad/ad_native_inner_interstitial');
require('./assets/syyx_sdk/controller/ad/ad_native_interstitial');
require('./assets/syyx_sdk/controller/ad/ad_oppo_banner');
require('./assets/syyx_sdk/controller/ad/syyx_adv_manager');
require('./assets/syyx_sdk/controller/ctr_test/syyx_ctr_manager');
require('./assets/syyx_sdk/controller/syyx_cc_ui_manager');
require('./assets/syyx_sdk/controller/syyx_manager');
require('./assets/syyx_sdk/export_sdk');
require('./assets/syyx_sdk/model/model');
require('./assets/syyx_sdk/syyx_sdk_api');
require('./assets/syyx_sdk/syyx_ui/ad/syyx_ui_banner');
require('./assets/syyx_sdk/syyx_ui/ad/syyx_ui_inner_interstitial');
require('./assets/syyx_sdk/syyx_ui/ad/syyx_ui_interstitial');
require('./assets/syyx_sdk/syyx_ui/ad/syyx_ui_native_icon');
require('./assets/syyx_sdk/syyx_ui/ad/syyx_ui_toast');
require('./assets/syyx_sdk/syyx_ui/ctr_test/syyx_ui_ctr');
require('./assets/syyx_sdk/syyx_ui/ctr_test/syyx_ui_ctr_item');
require('./assets/syyx_sdk/utils/syyx_api');
require('./assets/syyx_sdk/utils/syyx_sdk_utils');

                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/animationState.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b2b6dv65NlEX59AqpnS1KOt', 'animationState');
// scripts/game/animationState.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.enemyState = exports.enemyScript = exports.attackType = exports.skillFrameEventTime = exports.frameEvent_enemy = exports.frameEvent = exports.enemyName = exports.playerAnimationState = void 0;
var playerAnimationState;
(function (playerAnimationState) {
    playerAnimationState[playerAnimationState["appear"] = 0] = "appear";
    playerAnimationState[playerAnimationState["attack1"] = 1] = "attack1";
    playerAnimationState[playerAnimationState["attack2"] = 2] = "attack2";
    playerAnimationState[playerAnimationState["attack3"] = 3] = "attack3";
    playerAnimationState[playerAnimationState["bow_attack"] = 4] = "bow_attack";
    playerAnimationState[playerAnimationState["bow_attack_fast"] = 5] = "bow_attack_fast";
    playerAnimationState[playerAnimationState["bow_attack_to_idle"] = 6] = "bow_attack_to_idle";
    playerAnimationState[playerAnimationState["dash_air"] = 7] = "dash_air";
    playerAnimationState[playerAnimationState["die"] = 8] = "die";
    playerAnimationState[playerAnimationState["double_jump"] = 9] = "double_jump";
    playerAnimationState[playerAnimationState["get_hurt"] = 10] = "get_hurt";
    playerAnimationState[playerAnimationState["get_up"] = 11] = "get_up";
    playerAnimationState[playerAnimationState["idle"] = 12] = "idle";
    playerAnimationState[playerAnimationState["idle_to_move"] = 13] = "idle_to_move";
    playerAnimationState[playerAnimationState["jump_attack1"] = 14] = "jump_attack1";
    playerAnimationState[playerAnimationState["jump_attack2"] = 15] = "jump_attack2";
    playerAnimationState[playerAnimationState["jump_attack3"] = 16] = "jump_attack3";
    playerAnimationState[playerAnimationState["jump_attack4"] = 17] = "jump_attack4";
    playerAnimationState[playerAnimationState["jump_demo"] = 18] = "jump_demo";
    playerAnimationState[playerAnimationState["jump_down"] = 19] = "jump_down";
    playerAnimationState[playerAnimationState["jump_end"] = 20] = "jump_end";
    playerAnimationState[playerAnimationState["jump_start"] = 21] = "jump_start";
    playerAnimationState[playerAnimationState["jump_to_move"] = 22] = "jump_to_move";
    playerAnimationState[playerAnimationState["knock_up1"] = 23] = "knock_up1";
    playerAnimationState[playerAnimationState["knock_up2"] = 24] = "knock_up2";
    playerAnimationState[playerAnimationState["knock_up3"] = 25] = "knock_up3";
    playerAnimationState[playerAnimationState["move"] = 26] = "move";
    playerAnimationState[playerAnimationState["move1"] = 27] = "move1";
    playerAnimationState[playerAnimationState["move2"] = 28] = "move2";
    playerAnimationState[playerAnimationState["pose_shadow"] = 29] = "pose_shadow";
    playerAnimationState[playerAnimationState["revive"] = 30] = "revive";
    playerAnimationState[playerAnimationState["roll"] = 31] = "roll";
    playerAnimationState[playerAnimationState["roll_air"] = 32] = "roll_air";
    playerAnimationState[playerAnimationState["roll_to_idle"] = 33] = "roll_to_idle";
    playerAnimationState[playerAnimationState["roll_to_move"] = 34] = "roll_to_move";
    playerAnimationState[playerAnimationState["skill203_air"] = 35] = "skill203_air";
    playerAnimationState[playerAnimationState["skill203_ground"] = 36] = "skill203_ground";
    playerAnimationState[playerAnimationState["skill203_old"] = 37] = "skill203_old";
    playerAnimationState[playerAnimationState["skill207_air"] = 38] = "skill207_air";
    playerAnimationState[playerAnimationState["skill207_ground"] = 39] = "skill207_ground";
    playerAnimationState[playerAnimationState["ultimate"] = 40] = "ultimate"; //大招
})(playerAnimationState = exports.playerAnimationState || (exports.playerAnimationState = {}));
var enemyName;
(function (enemyName) {
    enemyName["enemy1"] = "enemy1";
    enemyName["enemy2"] = "enemy2";
    enemyName["enemy29"] = "enemy29";
    enemyName["enemy10"] = "enemy10";
    enemyName["ladyBug"] = "ladyBug";
    enemyName["bigSquid"] = "bigSquid";
    enemyName["enemy39"] = "enemy39";
    enemyName["spiderling"] = "spiderling";
    enemyName["shader"] = "shader";
    enemyName["enemy20"] = "enemy20";
    enemyName["enemy18"] = "enemy18";
    enemyName["miniBoss"] = "miniBoss";
    enemyName["miniBossFlag"] = "miniBossFlag"; //雷电法王招雷旗
})(enemyName = exports.enemyName || (exports.enemyName = {}));
//玩家帧事件 nail为未绑定状态
var frameEvent;
(function (frameEvent) {
    frameEvent["nail1"] = "AddForceUp";
    frameEvent["nail2"] = "AnimationEnd";
    frameEvent["attack1"] = "Attack1";
    frameEvent["attack2"] = "Attack2";
    frameEvent["attack3"] = "Attack3";
    frameEvent["move"] = "FootStep";
    frameEvent["get_up"] = "GetUp";
    frameEvent["nail6"] = "LockDirection";
    frameEvent["nail7"] = "MoveForward";
    frameEvent["nail8"] = "RollComplete";
    frameEvent["skill203_air"] = "SkillComplete";
    frameEvent["skill203_ground"] = "SkillComplete";
    frameEvent["skill207_air"] = "SkillComplete";
    frameEvent["skill207_ground"] = "SkillComplete";
    frameEvent["nail10"] = "StopMove";
})(frameEvent = exports.frameEvent || (exports.frameEvent = {}));
//怪物帧事件（怪物名-动画名-帧事件方法名）
exports.frameEvent_enemy = {
    "enemy1": {},
    "enemy2": {
        "attack": "shootArrow"
    },
    "enemy29": {},
    "ladyBug": {
        "Atk": "fire"
    },
    "enemy10": {
        "skill2_start": "footStep",
        "skill2_middle": "footStep",
        "skill1": "frameEvent_skill1"
    },
    "bigSquid": {},
    "enemy39": {
        "Move": "footStep"
    },
    "spiderling": {
        "Fall": "attack_fall"
    },
    "shader": {},
    "enemy20": {
        "teleport": "blink"
    },
    "enemy18": {
        "Atk": "Shake"
    },
    "miniBoss": {},
    "miniBossFlag": {}
};
//玩家触发技能的帧时间
exports.skillFrameEventTime = {
    skill203_air: 0.5,
    skill203_ground: 0.48,
    skill207_air: 0.43,
    skill207_ground: 0.43,
    attack1: 0.123,
    attack2: 0.23
};
//玩家伤害类型
var attackType;
(function (attackType) {
    attackType[attackType["attack1"] = 0] = "attack1";
    attackType[attackType["attack2"] = 1] = "attack2";
    attackType[attackType["attack3"] = 2] = "attack3";
    attackType[attackType["jumpHit"] = 3] = "jumpHit";
    attackType[attackType["shuriken"] = 4] = "shuriken";
    attackType[attackType["swordRain"] = 5] = "swordRain";
})(attackType = exports.attackType || (exports.attackType = {}));
//怪物名对应的控制脚本名（玩家攻击判定时获取怪物脚本组件）
exports.enemyScript = {
    "enemy1": "E1controller",
    "enemy2": "E2controller",
    "ladyBug": "ladyBug",
    "enemy29": "E29controller",
    "enemy10": "E10controller",
    "bigSquid": "bigSquidController",
    "enemy39": "E39controller",
    "spiderling": "spiderlingController",
    "shader": "shaderController",
    "enemy20": "E20controller",
    "enemy18": "E18controller",
    "miniBoss": "miniBossController",
    "miniBossFlag": "miniBossFlag"
};
//enemy状态
var enemyState;
(function (enemyState) {
    enemyState[enemyState["attack"] = 0] = "attack";
    enemyState[enemyState["get_hurt1"] = 1] = "get_hurt1";
    enemyState[enemyState["get_hurt2"] = 2] = "get_hurt2";
    enemyState[enemyState["get_up"] = 3] = "get_up";
    enemyState[enemyState["idle"] = 4] = "idle";
    enemyState[enemyState["knock_down"] = 5] = "knock_down";
    enemyState[enemyState["move"] = 6] = "move";
    enemyState[enemyState["move2"] = 7] = "move2";
    enemyState[enemyState["run"] = 8] = "run";
    //attack,  //E2----------弓箭手
    //get_hurt1,
    //get_hurt2,
    //get_up,
    //idle,
    enemyState[enemyState["knock_down1"] = 9] = "knock_down1";
    enemyState[enemyState["knock_down2"] = 10] = "knock_down2";
    //move
    enemyState[enemyState["Atk"] = 11] = "Atk";
    enemyState[enemyState["Behit"] = 12] = "Behit";
    enemyState[enemyState["Idle"] = 13] = "Idle";
    enemyState[enemyState["Die-middle"] = 14] = "Die-middle";
    enemyState[enemyState["Die-start"] = 15] = "Die-start";
    enemyState[enemyState["Die_end"] = 16] = "Die_end";
    //Atk,   //E29----------匕首怪
    enemyState[enemyState["Die"] = 17] = "Die";
    enemyState[enemyState["Get-up"] = 18] = "Get-up";
    enemyState[enemyState["Head-end"] = 19] = "Head-end";
    enemyState[enemyState["Head-middle"] = 20] = "Head-middle";
    enemyState[enemyState["Hit"] = 21] = "Hit";
    //Idle,
    enemyState[enemyState["Knock-up-end"] = 22] = "Knock-up-end";
    enemyState[enemyState["Knock-up-loop"] = 23] = "Knock-up-loop";
    enemyState[enemyState["Knock-up-start"] = 24] = "Knock-up-start";
    enemyState[enemyState["Move"] = 25] = "Move";
    //attack,  掌击 //E10-------------胖子boss
    enemyState[enemyState["die"] = 26] = "die";
    enemyState[enemyState["get_hurt"] = 27] = "get_hurt";
    //idle,
    //move,
    enemyState[enemyState["skill1"] = 28] = "skill1";
    enemyState[enemyState["skill2_end"] = 29] = "skill2_end";
    enemyState[enemyState["skill2_middle"] = 30] = "skill2_middle";
    enemyState[enemyState["skill2_start"] = 31] = "skill2_start";
    enemyState[enemyState["Attack"] = 32] = "Attack";
    enemyState[enemyState["Attack_End"] = 33] = "Attack_End";
    enemyState[enemyState["Die1"] = 34] = "Die1";
    enemyState[enemyState["Die2"] = 35] = "Die2";
    enemyState[enemyState["Die3"] = 36] = "Die3";
    //Idle,
    //Move,
    enemyState[enemyState["Pre_Attack"] = 37] = "Pre_Attack";
    //get_hurt1
    enemyState[enemyState["Above1"] = 38] = "Above1";
    enemyState[enemyState["Above2"] = 39] = "Above2";
    enemyState[enemyState["Born"] = 40] = "Born";
    //Die,
    enemyState[enemyState["Get_Hit"] = 41] = "Get_Hit";
    //Idle,  
    enemyState[enemyState["Idle2"] = 42] = "Idle2";
    enemyState[enemyState["Idle3"] = 43] = "Idle3";
    enemyState[enemyState["Jump_Back"] = 44] = "Jump_Back";
    enemyState[enemyState["Jump_FWD"] = 45] = "Jump_FWD";
    //Move,
    enemyState[enemyState["Scratch"] = 46] = "Scratch";
    enemyState[enemyState["Staggered"] = 47] = "Staggered";
    enemyState[enemyState["StaggeredReset"] = 48] = "StaggeredReset";
    //Attack,  //spiderling-----------小蜘蛛
    //Born,
    //Die,
    enemyState[enemyState["Fall"] = 49] = "Fall";
    //Get_Hit,
    enemyState[enemyState["Get_up"] = 50] = "Get_up";
    //Idle,
    enemyState[enemyState["Knock_up1"] = 51] = "Knock_up1";
    enemyState[enemyState["Knock_up2"] = 52] = "Knock_up2";
    enemyState[enemyState["Knock_up3"] = 53] = "Knock_up3";
    //Move,
    enemyState[enemyState["Stop"] = 54] = "Stop";
    enemyState[enemyState["Warning"] = 55] = "Warning";
    //Atk,  //shader----------------卡赞
    //Behit,
    //Die,
    //Idle,
    enemyState[enemyState["Skill-End"] = 56] = "Skill-End";
    enemyState[enemyState["Skill-Middle"] = 57] = "Skill-Middle";
    enemyState[enemyState["Skill-Start"] = 58] = "Skill-Start";
    enemyState[enemyState["fire_pillar"] = 59] = "fire_pillar";
    enemyState[enemyState["fire_pillar2"] = 60] = "fire_pillar2";
    enemyState[enemyState["fire_pillar3"] = 61] = "fire_pillar3";
    //get_hurt1,
    //get_hurt2,
    //get_up,
    //idle,
    //knock_down1,
    //knock_down2,
    //move,
    enemyState[enemyState["teleport"] = 62] = "teleport";
    //Atk,   //enemy18--------------棒槌怪
    //Behit,
    //Idle,
    //Move,
    enemyState[enemyState["appear"] = 63] = "appear";
    enemyState[enemyState["blink_end"] = 64] = "blink_end";
    enemyState[enemyState["blink_start"] = 65] = "blink_start";
    enemyState[enemyState["call_of_lighting"] = 66] = "call_of_lighting";
    //die,
    //get_hurt,
    //idle,
    enemyState[enemyState["laugh"] = 67] = "laugh";
    enemyState[enemyState["lighting_chase_end"] = 68] = "lighting_chase_end";
    enemyState[enemyState["lighting_chase_middle"] = 69] = "lighting_chase_middle";
    enemyState[enemyState["lighting_chase_start"] = 70] = "lighting_chase_start";
    //move,
    enemyState[enemyState["staggered_end"] = 71] = "staggered_end";
    enemyState[enemyState["staggered_middle"] = 72] = "staggered_middle";
    enemyState[enemyState["staggered_start"] = 73] = "staggered_start";
    enemyState[enemyState["storm_burst"] = 74] = "storm_burst";
    enemyState[enemyState["thunder_jolt"] = 75] = "thunder_jolt";
    enemyState[enemyState["appear2"] = 76] = "appear2";
    enemyState[enemyState["warning"] = 77] = "warning";
    //die,
    //idle
})(enemyState = exports.enemyState || (exports.enemyState = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcYW5pbWF0aW9uU3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsSUFBWSxvQkEwQ1g7QUExQ0QsV0FBWSxvQkFBb0I7SUFDNUIsbUVBQU0sQ0FBQTtJQUNOLHFFQUFPLENBQUE7SUFDUCxxRUFBTyxDQUFBO0lBQ1AscUVBQU8sQ0FBQTtJQUNQLDJFQUFVLENBQUE7SUFDVixxRkFBZSxDQUFBO0lBQ2YsMkZBQWtCLENBQUE7SUFDbEIsdUVBQVEsQ0FBQTtJQUNSLDZEQUFHLENBQUE7SUFDSCw2RUFBVyxDQUFBO0lBQ1gsd0VBQVEsQ0FBQTtJQUNSLG9FQUFNLENBQUE7SUFDTixnRUFBSSxDQUFBO0lBQ0osZ0ZBQVksQ0FBQTtJQUNaLGdGQUFZLENBQUE7SUFDWixnRkFBWSxDQUFBO0lBQ1osZ0ZBQVksQ0FBQTtJQUNaLGdGQUFZLENBQUE7SUFDWiwwRUFBUyxDQUFBO0lBQ1QsMEVBQVMsQ0FBQTtJQUNULHdFQUFRLENBQUE7SUFDUiw0RUFBVSxDQUFBO0lBQ1YsZ0ZBQVksQ0FBQTtJQUNaLDBFQUFTLENBQUE7SUFDVCwwRUFBUyxDQUFBO0lBQ1QsMEVBQVMsQ0FBQTtJQUNULGdFQUFJLENBQUE7SUFDSixrRUFBSyxDQUFBO0lBQ0wsa0VBQUssQ0FBQTtJQUNMLDhFQUFXLENBQUE7SUFDWCxvRUFBTSxDQUFBO0lBQ04sZ0VBQUksQ0FBQTtJQUNKLHdFQUFRLENBQUE7SUFDUixnRkFBWSxDQUFBO0lBQ1osZ0ZBQVksQ0FBQTtJQUNaLGdGQUFZLENBQUE7SUFDWixzRkFBZSxDQUFBO0lBQ2YsZ0ZBQVksQ0FBQTtJQUNaLGdGQUFZLENBQUE7SUFDWixzRkFBZSxDQUFBO0lBQ2Ysd0VBQVEsQ0FBQSxDQUFBLElBQUk7QUFDaEIsQ0FBQyxFQTFDVyxvQkFBb0IsR0FBcEIsNEJBQW9CLEtBQXBCLDRCQUFvQixRQTBDL0I7QUFDRCxJQUFZLFNBY1g7QUFkRCxXQUFZLFNBQVM7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QUFVLEdBQVYsa0JBQVUsS0FBVixrQkFBVSxRQXVJckIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWluaUJvc3MgZnJvbSBcIi4vbWluaUJvc3NGbGFnXCJcblxuZXhwb3J0IGVudW0gcGxheWVyQW5pbWF0aW9uU3RhdGV7XG4gICAgYXBwZWFyLC8v5LuO5aSp6ICM6ZmNXG4gICAgYXR0YWNrMSxcbiAgICBhdHRhY2syLFxuICAgIGF0dGFjazMsXG4gICAgYm93X2F0dGFjaywvL+aFouW8k1xuICAgIGJvd19hdHRhY2tfZmFzdCwvL+W/q+W8k1xuICAgIGJvd19hdHRhY2tfdG9faWRsZSxcbiAgICBkYXNoX2FpciwvL+epuuS4reWGsuWHu1xuICAgIGRpZSxcbiAgICBkb3VibGVfanVtcCwvL+S6jOi/nui3s1xuICAgIGdldF9odXJ0LFxuICAgIGdldF91cCwvL+i1t+i6q1xuICAgIGlkbGUsXG4gICAgaWRsZV90b19tb3ZlLFxuICAgIGp1bXBfYXR0YWNrMSwvL+epuuS4reaZruaUu+i1t+aJi1xuICAgIGp1bXBfYXR0YWNrMiwvL+epuuS4reaXi+i9rOaUu+WHu1xuICAgIGp1bXBfYXR0YWNrMywvL+epuuS4reaXi+i9rOaUu+WHu+iQveWcsFxuICAgIGp1bXBfYXR0YWNrNCxcbiAgICBqdW1wX2RlbW8sXG4gICAganVtcF9kb3duLC8v6ZmN6JC9XG4gICAganVtcF9lbmQsLy9pZGxl6JC95ZywXG4gICAganVtcF9zdGFydCwvL+i1t+i3s1xuICAgIGp1bXBfdG9fbW92ZSwvL21vdmXokL3lnLBcbiAgICBrbm9ja191cDEsLy/ooqvlh7vlgJLlnLBcbiAgICBrbm9ja191cDIsXG4gICAga25vY2tfdXAzLFxuICAgIG1vdmUsIC8v5aWU6LeR5Yqo5L2cMVxuICAgIG1vdmUxLC8v5aWU6LeR5Yqo5L2cMlxuICAgIG1vdmUyLC8v5aWU6LeR5Yqo5L2cM1xuICAgIHBvc2Vfc2hhZG93LC8v56ys5LiJ5qyh5YWx5Ye75Yay5Ye7cG9zZVxuICAgIHJldml2ZSxcbiAgICByb2xsLC8v5Zyw5LiK57+75ruaXG4gICAgcm9sbF9haXIsLy/nqbrkuK3nv7vmu5ogIOi3s+i3g+WQjueri+WNs+e/u+a7muaXtlxuICAgIHJvbGxfdG9faWRsZSxcbiAgICByb2xsX3RvX21vdmUsXG4gICAgc2tpbGwyMDNfYWlyLCAvL+epuuS4reWJkembqOaKgFxuICAgIHNraWxsMjAzX2dyb3VuZCwvL+WcsOS4iuWJkembqOaKgFxuICAgIHNraWxsMjAzX29sZCxcbiAgICBza2lsbDIwN19haXIsLy/nqbrkuK3miZTpo57plZZcbiAgICBza2lsbDIwN19ncm91bmQsLy/lnLDkuIrmiZTpo57plZZcbiAgICB1bHRpbWF0ZS8v5aSn5oubXG59XG5leHBvcnQgZW51bSBlbmVteU5hbWV7XG4gICAgZW5lbXkxPVwiZW5lbXkxXCIsICAvL+aZrumAmuaAqlxuICAgIGVuZW15Mj1cImVuZW15MlwiLCAgLy/lvJPnrq3miYtcbiAgICBlbmVteTI5PVwiZW5lbXkyOVwiLCAvL+WMlemmluaAqlxuICAgIGVuZW15MTA9XCJlbmVteTEwXCIsIC8v6IOW5a2QYm9zc1xuICAgIGxhZHlCdWc9XCJsYWR5QnVnXCIsIC8v55Oi6JmrXG4gICAgYmlnU3F1aWQ9XCJiaWdTcXVpZFwiLCAvL+iaiuWtkFxuICAgIGVuZW15Mzk9XCJlbmVteTM5XCIsICAvL+icmOibm+Wls+eOi2Jvc3NcbiAgICBzcGlkZXJsaW5nPVwic3BpZGVybGluZ1wiLCAvL+Wwj+icmOibm1xuICAgIHNoYWRlcj1cInNoYWRlclwiLCAgLy/ljaHotZ5cbiAgICBlbmVteTIwPVwiZW5lbXkyMFwiLCAvL+Wls+W3q1xuICAgIGVuZW15MTg9XCJlbmVteTE4XCIsIC8v5qOS5qeM5oCqXG4gICAgbWluaUJvc3M9XCJtaW5pQm9zc1wiLC8v6Zu355S15rOV546LYm9zc1xuICAgIG1pbmlCb3NzRmxhZz1cIm1pbmlCb3NzRmxhZ1wiLy/pm7fnlLXms5Xnjovmi5vpm7fml5dcbn1cbi8v546p5a625bin5LqL5Lu2IG5haWzkuLrmnKrnu5HlrprnirbmgIFcbmV4cG9ydCBlbnVtIGZyYW1lRXZlbnR7XG4gICAgbmFpbDE9XCJBZGRGb3JjZVVwXCIsXG4gICAgbmFpbDI9XCJBbmltYXRpb25FbmRcIixcbiAgICBhdHRhY2sxPVwiQXR0YWNrMVwiLFxuICAgIGF0dGFjazI9XCJBdHRhY2syXCIsXG4gICAgYXR0YWNrMz1cIkF0dGFjazNcIixcbiAgICBtb3ZlPVwiRm9vdFN0ZXBcIixcbiAgICBnZXRfdXA9XCJHZXRVcFwiLFxuICAgIG5haWw2PVwiTG9ja0RpcmVjdGlvblwiLFxuICAgIG5haWw3PVwiTW92ZUZvcndhcmRcIixcbiAgICBuYWlsOD1cIlJvbGxDb21wbGV0ZVwiLFxuICAgIHNraWxsMjAzX2Fpcj1cIlNraWxsQ29tcGxldGVcIixcbiAgICBza2lsbDIwM19ncm91bmQ9XCJTa2lsbENvbXBsZXRlXCIsXG4gICAgc2tpbGwyMDdfYWlyPVwiU2tpbGxDb21wbGV0ZVwiLFxuICAgIHNraWxsMjA3X2dyb3VuZD1cIlNraWxsQ29tcGxldGVcIixcbiAgICBuYWlsMTA9XCJTdG9wTW92ZVwiXG59XG4vL+aAqueJqeW4p+S6i+S7tu+8iOaAqueJqeWQjS3liqjnlLvlkI0t5bin5LqL5Lu25pa55rOV5ZCN77yJXG5leHBvcnQgY29uc3QgZnJhbWVFdmVudF9lbmVteT17XG4gICAgXCJlbmVteTFcIjp7fSxcbiAgICBcImVuZW15MlwiOntcbiAgICAgICAgXCJhdHRhY2tcIjpcInNob290QXJyb3dcIlxuICAgIH0sXG4gICAgXCJlbmVteTI5XCI6e30sXG4gICAgXCJsYWR5QnVnXCI6e1xuICAgICAgICBcIkF0a1wiOlwiZmlyZVwiXG4gICAgfSxcbiAgICBcImVuZW15MTBcIjp7XG4gICAgICAgIFwic2tpbGwyX3N0YXJ0XCI6XCJmb290U3RlcFwiLFxuICAgICAgICBcInNraWxsMl9taWRkbGVcIjpcImZvb3RTdGVwXCIsXG4gICAgICAgIFwic2tpbGwxXCI6XCJmcmFtZUV2ZW50X3NraWxsMVwiXG4gICAgfSxcbiAgICBcImJpZ1NxdWlkXCI6e30sXG4gICAgXCJlbmVteTM5XCI6e1xuICAgICAgICBcIk1vdmVcIjpcImZvb3RTdGVwXCJcbiAgICB9LFxuICAgIFwic3BpZGVybGluZ1wiOntcbiAgICAgICAgXCJGYWxsXCI6XCJhdHRhY2tfZmFsbFwiXG4gICAgfSxcbiAgICBcInNoYWRlclwiOnt9LFxuICAgIFwiZW5lbXkyMFwiOntcbiAgICAgICAgXCJ0ZWxlcG9ydFwiOlwiYmxpbmtcIlxuICAgIH0sXG4gICAgXCJlbmVteTE4XCI6e1xuICAgICAgICBcIkF0a1wiOlwiU2hha2VcIlxuICAgIH0sXG4gICAgXCJtaW5pQm9zc1wiOntcbiAgICB9LFxuICAgIFwibWluaUJvc3NGbGFnXCI6e31cbn1cbi8v546p5a626Kem5Y+R5oqA6IO955qE5bin5pe26Ze0XG5leHBvcnQgY29uc3Qgc2tpbGxGcmFtZUV2ZW50VGltZT17XG4gICAgc2tpbGwyMDNfYWlyOjAuNSxcbiAgICBza2lsbDIwM19ncm91bmQ6MC40OCxcbiAgICBza2lsbDIwN19haXI6MC40MyxcbiAgICBza2lsbDIwN19ncm91bmQ6MC40MyxcbiAgICBhdHRhY2sxOjAuMTIzLFxuICAgIGF0dGFjazI6MC4yM1xufVxuLy/njqnlrrbkvKTlrrPnsbvlnotcbmV4cG9ydCBlbnVtIGF0dGFja1R5cGV7XG4gICAgYXR0YWNrMSxcbiAgICBhdHRhY2syLFxuICAgIGF0dGFjazMsXG4gICAganVtcEhpdCxcbiAgICBzaHVyaWtlbixcbiAgICBzd29yZFJhaW5cbn1cbi8v5oCq54mp5ZCN5a+55bqU55qE5o6n5Yi26ISa5pys5ZCN77yI546p5a625pS75Ye75Yik5a6a5pe26I635Y+W5oCq54mp6ISa5pys57uE5Lu277yJXG5leHBvcnQgY29uc3QgZW5lbXlTY3JpcHQ9e1xuICAgIFwiZW5lbXkxXCI6XCJFMWNvbnRyb2xsZXJcIixcbiAgICBcImVuZW15MlwiOlwiRTJjb250cm9sbGVyXCIsXG4gICAgXCJsYWR5QnVnXCI6XCJsYWR5QnVnXCIsXG4gICAgXCJlbmVteTI5XCI6XCJFMjljb250cm9sbGVyXCIsXG4gICAgXCJlbmVteTEwXCI6XCJFMTBjb250cm9sbGVyXCIsXG4gICAgXCJiaWdTcXVpZFwiOlwiYmlnU3F1aWRDb250cm9sbGVyXCIsXG4gICAgXCJlbmVteTM5XCI6XCJFMzljb250cm9sbGVyXCIsXG4gICAgXCJzcGlkZXJsaW5nXCI6XCJzcGlkZXJsaW5nQ29udHJvbGxlclwiLFxuICAgIFwic2hhZGVyXCI6XCJzaGFkZXJDb250cm9sbGVyXCIsXG4gICAgXCJlbmVteTIwXCI6XCJFMjBjb250cm9sbGVyXCIsXG4gICAgXCJlbmVteTE4XCI6XCJFMThjb250cm9sbGVyXCIsXG4gICAgXCJtaW5pQm9zc1wiOlwibWluaUJvc3NDb250cm9sbGVyXCIsXG4gICAgXCJtaW5pQm9zc0ZsYWdcIjpcIm1pbmlCb3NzRmxhZ1wiXG59XG4vL2VuZW1554q25oCBXG5leHBvcnQgZW51bSBlbmVteVN0YXRle1xuICAgIGF0dGFjaywgICAvL0UxLS0tLS0tLS0tLeaZrumAmuaAqlxuICAgIGdldF9odXJ0MSwvL+iiq+WHu+WJjeWAvlxuICAgIGdldF9odXJ0MiwvL+iiq+WHu+WQjuS7sFxuICAgIGdldF91cCwvL+i1t+i6q1xuICAgIGlkbGUsXG4gICAga25vY2tfZG93biwvL+WHu+mjnlxuICAgIG1vdmUsLy/mi7/liIDotbBcbiAgICBtb3ZlMiwvL+S4vuWIgOi1sFxuICAgIHJ1biwvL+S4vuWIgOi3kVxuXG4gICAgLy9hdHRhY2ssICAvL0UyLS0tLS0tLS0tLeW8k+eureaJi1xuICAgIC8vZ2V0X2h1cnQxLFxuICAgIC8vZ2V0X2h1cnQyLFxuICAgIC8vZ2V0X3VwLFxuICAgIC8vaWRsZSxcbiAgICBrbm9ja19kb3duMSwvL+WAkuWcsOWKqOS9nFxuICAgIGtub2NrX2Rvd24yLC8v6Lq65bC4XG4gICAgLy9tb3ZlXG5cbiAgICBBdGssICAgLy9sYWR5QnVnLS0tLS0tLS0tLeeTouiZq1xuICAgIEJlaGl0LFxuICAgIElkbGUsXG4gICAgXCJEaWUtbWlkZGxlXCIsXG4gICAgXCJEaWUtc3RhcnRcIixcbiAgICBcIkRpZV9lbmRcIixcblxuICAgIC8vQXRrLCAgIC8vRTI5LS0tLS0tLS0tLeWMlemmluaAqlxuICAgIERpZSwgICAvL+atu+S6oeaOieWktFxuICAgIFwiR2V0LXVwXCIsXG4gICAgXCJIZWFkLWVuZFwiLCAvL+WktOeIhueCuFxuICAgIFwiSGVhZC1taWRkbGVcIiwvL+WktOe8qeaUvlxuICAgIEhpdCwgICAgICAgLy/ooqvlh7tcbiAgICAvL0lkbGUsXG4gICAgXCJLbm9jay11cC1lbmRcIiwgLy/lgJLlnLBcbiAgICBcIktub2NrLXVwLWxvb3BcIiwvL+WHu+mjnuepuuS4remdmeatouWKqOS9nFxuICAgIFwiS25vY2stdXAtc3RhcnRcIiwvL+WHu+mjnuW8gOWni1xuICAgIE1vdmUsXG5cbiAgICAvL2F0dGFjaywgIOaOjOWHuyAvL0UxMC0tLS0tLS0tLS0tLS3og5blrZBib3NzXG4gICAgZGllLFxuICAgIGdldF9odXJ0LFxuICAgIC8vaWRsZSxcbiAgICAvL21vdmUsXG4gICAgc2tpbGwxLCAgLy/ms7DlsbHljovpobZcbiAgICBza2lsbDJfZW5kLC8v5Yay5Ye757uT5p2fXG4gICAgc2tpbGwyX21pZGRsZSwvL+WGsuWHu+S/neaMgVxuICAgIHNraWxsMl9zdGFydCwgIC8v5Yay5Ye75byA5aeLXG5cbiAgICBBdHRhY2ssICAvL2JpZ1NxdWlkLS0tLS3omorlrZBcbiAgICBBdHRhY2tfRW5kLFxuICAgIERpZTEsXG4gICAgRGllMixcbiAgICBEaWUzLFxuICAgIC8vSWRsZSxcbiAgICAvL01vdmUsXG4gICAgUHJlX0F0dGFjaywgLy/lh4blpIfmlLvlh7vliqjkvZxcbiAgICAvL2dldF9odXJ0MVxuXG4gICAgQWJvdmUxLCAgLy/otbfot7MgICBlbmVteTM5LS0tLS0tLS0tLeicmOibm+Wls+eOi1xuICAgIEFib3ZlMiwgIC8v6ZmN6JC9XG4gICAgQm9ybiwgIFxuICAgIC8vRGllLFxuICAgIEdldF9IaXQsXG4gICAgLy9JZGxlLCAgXG4gICAgSWRsZTIsXG4gICAgSWRsZTMsXG4gICAgSnVtcF9CYWNrLCAgLy/lkI7ot7PnnLznnZvlj5HlsITmv4DlhYlcbiAgICBKdW1wX0ZXRCwgICAvL+WJjei3s+eIquWHu1xuICAgIC8vTW92ZSxcbiAgICBTY3JhdGNoLCAgLy/ohb/lh7tcbiAgICBTdGFnZ2VyZWQsICAvL+iZmuW8sVxuICAgIFN0YWdnZXJlZFJlc2V0LFxuXG4gICAgLy9BdHRhY2ssICAvL3NwaWRlcmxpbmctLS0tLS0tLS0tLeWwj+icmOibm1xuICAgIC8vQm9ybixcbiAgICAvL0RpZSxcbiAgICBGYWxsLFxuICAgIC8vR2V0X0hpdCxcbiAgICBHZXRfdXAsXG4gICAgLy9JZGxlLFxuICAgIEtub2NrX3VwMSxcbiAgICBLbm9ja191cDIsXG4gICAgS25vY2tfdXAzLFxuICAgIC8vTW92ZSxcbiAgICBTdG9wLFxuICAgIFdhcm5pbmcsXG5cbiAgICAvL0F0aywgIC8vc2hhZGVyLS0tLS0tLS0tLS0tLS0tLeWNoei1nlxuICAgIC8vQmVoaXQsXG4gICAgLy9EaWUsXG4gICAgLy9JZGxlLFxuICAgIFwiU2tpbGwtRW5kXCIsICAvL+aNouS9jee9ruWHuueOsFxuICAgIFwiU2tpbGwtTWlkZGxlXCIsIC8v5Ye6546wLeaWqeWHuy3pmpDouqtcbiAgICBcIlNraWxsLVN0YXJ0XCIsICAvL+S4vuWIgOmakOi6q1xuXG4gICAgZmlyZV9waWxsYXIsICAgIC8v6a2U5rOV5byA5aeLICAgIC8vZW5lbXkyMC0tLS0tLS0tLS0tLS3lpbPlt6tcbiAgICBmaXJlX3BpbGxhcjIsICAgLy/prZTms5XmjIHnu61cbiAgICBmaXJlX3BpbGxhcjMsICAgLy/prZTms5Xnu5PmnZ9cbiAgICAvL2dldF9odXJ0MSxcbiAgICAvL2dldF9odXJ0MixcbiAgICAvL2dldF91cCxcbiAgICAvL2lkbGUsXG4gICAgLy9rbm9ja19kb3duMSxcbiAgICAvL2tub2NrX2Rvd24yLFxuICAgIC8vbW92ZSxcbiAgICB0ZWxlcG9ydCwgIC8v5Lyg6YCBXG5cbiAgICAvL0F0aywgICAvL2VuZW15MTgtLS0tLS0tLS0tLS0tLeajkuanjOaAqlxuICAgIC8vQmVoaXQsXG4gICAgLy9JZGxlLFxuICAgIC8vTW92ZSxcblxuICAgIGFwcGVhciwgIC8vbWluaUJvc3MtLS0tLS0tLS0tLS3pm7fnlLXms5XnjotcbiAgICBibGlua19lbmQsICAvL+eerOenu+e7k+adn1xuICAgIGJsaW5rX3N0YXJ0LCAgLy/nnqznp7vlvIDlp4tcbiAgICBjYWxsX29mX2xpZ2h0aW5nLCAgLy/lj6zllKTml5fluJxcbiAgICAvL2RpZSxcbiAgICAvL2dldF9odXJ0LFxuICAgIC8vaWRsZSxcbiAgICBsYXVnaCxcbiAgICBsaWdodGluZ19jaGFzZV9lbmQsXG4gICAgbGlnaHRpbmdfY2hhc2VfbWlkZGxlLCAvL+aMgee7reWPrOWUpOmdmeaAgembt+eQg++8iOaMgee7reWkmuauteS8pOWus++8iVxuICAgIGxpZ2h0aW5nX2NoYXNlX3N0YXJ0LFxuICAgIC8vbW92ZSxcbiAgICBzdGFnZ2VyZWRfZW5kLFxuICAgIHN0YWdnZXJlZF9taWRkbGUsXG4gICAgc3RhZ2dlcmVkX3N0YXJ0LFxuICAgIHN0b3JtX2J1cnN0LCAgLy/lj6zllKTmianmlaPpm7fnkIPvvIjniIbngrjljZXmrrXkvKTlrrPvvIlcbiAgICB0aHVuZGVyX2pvbHQsICAgLy/lj6zllKTmu5rpm7dcblxuICAgIGFwcGVhcjIsICAvL+aXl+W4nFxuICAgIHdhcm5pbmcsXG4gICAgLy9kaWUsXG4gICAgLy9pZGxlXG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ui/bossHp.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f162fRFpUVC35TR9UWfJWgb', 'bossHp');
// scripts/game/ui/bossHp.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.bossName = void 0;
var caijiTools_1 = require("../../caijiTools");
var data_1 = require("../../sdk/data");
var enemyBase_1 = require("../enemyBase");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var bossName;
(function (bossName) {
    bossName["enemy10"] = "enemy10";
    bossName["enemy39"] = "enemy39";
    bossName["miniBoss"] = "miniBoss";
})(bossName = exports.bossName || (exports.bossName = {}));
var bossHp = /** @class */ (function (_super) {
    __extends(bossHp, _super);
    function bossHp() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.hpBar = null;
        _this.headIcon = null;
        _this.hpNumLabel = null;
        _this.nowHpNode = null;
        _this.nextHpNode = null;
        _this.hpMax = 0;
        _this.barWidth = 0;
        _this.bossName = "";
        _this.hpNum = 5; //血条剩余量
        _this.hp = 0; //血量
        _this.everyValue = 0; //每条血条的血量
        _this.acitonSpeed = 0.8; //血条削减动画速度
        _this.hpBarShadow = null; //血条削减影子
        _this.hpBarNode = null; //血条
        _this.isLockAction = false;
        _this.headIconPosition = {
            "enemy10": cc.v2(-16, -42.5),
            "enemy39": cc.v2(-6, -42.5),
            "miniBoss": cc.v2(-13.4, -60)
        };
        _this.hpBarColor = {
            5: {
                color: cc.color(158, 24, 196),
                colorDark: cc.color(99, 0, 127)
            },
            4: {
                color: cc.color(95, 108, 237),
                colorDark: cc.color(0, 12, 129)
            },
            3: {
                color: cc.color(53, 168, 94),
                colorDark: cc.color(18, 94, 45)
            },
            2: {
                color: cc.color(152, 146, 42),
                colorDark: cc.color(113, 108, 27)
            },
            1: {
                color: cc.color(172, 0, 29),
                colorDark: cc.color(113, 0, 19)
            }
        };
        return _this;
    }
    bossHp.prototype.onLoad = function () {
        this.hpBarShadow = this.nowHpNode.children[0];
        this.hpBarNode = this.nowHpNode.children[1];
    };
    bossHp.prototype.update = function () {
        this.hpBarShadow.width = cc.misc.lerp(this.hpBarShadow.width, this.hpBarNode.width, 0.06);
    };
    bossHp.prototype.init = function (func) {
        this.barWidth = this.hpBar.totalLength;
        this.hpMax = Number(data_1.data.gameJson("enemyData", this.bossName, enemyBase_1.enemyAttribute.hp));
        this.hp = this.hpMax;
        this.hpNum = 5;
        this.everyValue = this.hp / this.hpNum;
        this.updateHpNum();
        this.updateHeadIcon(func);
        this.updateNowHpBar();
        this.updateNextHpBar();
    };
    bossHp.prototype.updateNowHpBar = function () {
        this.hpBar.progress = 1;
        this.nowHpNode.children[0].width = this.barWidth;
        this.nowHpNode.children[1].width = this.barWidth;
        this.nowHpNode.children[0].color = this.hpBarColor[this.hpNum]["color"];
        this.nowHpNode.children[1].color = this.hpBarColor[this.hpNum]["colorDark"];
    };
    bossHp.prototype.updateNextHpBar = function () {
        if (this.hpNum == 1) {
            this.nextHpNode.children[0].opacity = 0;
        }
        else {
            this.nextHpNode.children[0].color = this.hpBarColor[this.hpNum - 1]["colorDark"];
        }
    };
    bossHp.prototype.addHp = function (addValue) {
        addValue = Math.floor(addValue);
        this.hp += addValue;
        if (this.hp <= 0) {
            //死亡
            this.hpNumLabel.string = "x0";
            this.hpBarToZeroAction(false);
            return;
        }
        this.hp = this.hp > this.hpMax ? this.hpMax : this.hp;
        if (this.isLockAction)
            return;
        var nowHpNum = Math.ceil(this.hp / this.everyValue);
        if (nowHpNum < this.hpNum) {
            this.hpBarToZeroAction();
        }
        else {
            this.hpBarAction();
        }
    };
    //进入下一血条
    bossHp.prototype.enterNextHp = function () {
        this.isLockAction = false;
        this.hpNum--;
        this.updateHpNum();
        this.updateNowHpBar();
        this.updateNextHpBar();
        this.hpBarAction();
    };
    bossHp.prototype.hpBarAction = function () {
        cc.Tween.stopAllByTarget(this.hpBar);
        var nowProgress = this.hpBar.progress;
        var toProgress = (this.hp % this.everyValue) / this.everyValue;
        toProgress = toProgress == 0 ? 1 : toProgress;
        var time = (nowProgress - toProgress) / this.acitonSpeed;
        cc.tween(this.hpBar)
            .to(time, { progress: toProgress }, { easing: "quadOut" })
            .start();
    };
    bossHp.prototype.hpBarToZeroAction = function (isEnterNextHp) {
        var _this = this;
        if (isEnterNextHp === void 0) { isEnterNextHp = true; }
        this.isLockAction = true;
        cc.Tween.stopAllByTarget(this.hpBar);
        var nowProgress = this.hpBar.progress;
        var time = nowProgress / this.acitonSpeed * 0.5;
        cc.tween(this.hpBar)
            .to(time, { progress: 0 }, { easing: "quadOut" })
            .call(function () {
            if (isEnterNextHp == false)
                return;
            _this.enterNextHp();
        })
            .start();
    };
    //增加血条
    bossHp.prototype.increseHpNum = function () {
    };
    bossHp.prototype.updateHpNum = function () {
        this.hpNumLabel.string = "x" + this.hpNum.toString();
    };
    bossHp.prototype.updateHeadIcon = function (func) {
        return __awaiter(this, void 0, void 0, function () {
            var icon;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadSpriteFrame("bossHead/" + this.bossName)];
                    case 1:
                        icon = _a.sent();
                        this.headIcon.spriteFrame = icon;
                        this.headIcon.node.setPosition(this.headIconPosition[this.bossName]);
                        func();
                        return [2 /*return*/];
                }
            });
        });
    };
    __decorate([
        property(cc.ProgressBar)
    ], bossHp.prototype, "hpBar", void 0);
    __decorate([
        property(cc.Sprite)
    ], bossHp.prototype, "headIcon", void 0);
    __decorate([
        property(cc.Label)
    ], bossHp.prototype, "hpNumLabel", void 0);
    __decorate([
        property(cc.Node)
    ], bossHp.prototype, "nowHpNode", void 0);
    __decorate([
        property(cc.Node)
    ], bossHp.prototype, "nextHpNode", void 0);
    bossHp = __decorate([
        ccclass
    ], bossHp);
    return bossHp;
}(cc.Component));
exports.default = bossHp;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdWlcXGJvc3NIcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0NBQThDO0FBQzlDLHVDQUFzQztBQUN0QywwQ0FBOEM7QUFFeEMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFDNUMsSUFBWSxRQUlYO0FBSkQsV0FBWSxRQUFRO0lBQ2hCLCtCQUFtQixDQUFBO0lBQ25CLCtCQUFpQixDQUFBO0lBQ2pCLGlDQUFtQixDQUFBO0FBQ3ZCLENBQUMsRUFKVyxRQUFRLEdBQVIsZ0JBQVEsS0FBUixnQkFBUSxRQUluQjtBQUVEO0lBQW9DLDBCQUFZO0lBQWhEO1FBQUEscUVBa0pDO1FBL0lHLFdBQUssR0FBbUIsSUFBSSxDQUFDO1FBRTdCLGNBQVEsR0FBYyxJQUFJLENBQUM7UUFFM0IsZ0JBQVUsR0FBYSxJQUFJLENBQUM7UUFFNUIsZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQixnQkFBVSxHQUFZLElBQUksQ0FBQztRQUUzQixXQUFLLEdBQVEsQ0FBQyxDQUFDO1FBQ2YsY0FBUSxHQUFRLENBQUMsQ0FBQztRQUNsQixjQUFRLEdBQVcsRUFBRSxDQUFDO1FBQ3RCLFdBQUssR0FBVyxDQUFDLENBQUMsQ0FBQSxPQUFPO1FBQ3pCLFFBQUUsR0FBVyxDQUFDLENBQUMsQ0FBQSxJQUFJO1FBQ25CLGdCQUFVLEdBQVcsQ0FBQyxDQUFDLENBQUEsU0FBUztRQUNoQyxpQkFBVyxHQUFRLEdBQUcsQ0FBQyxDQUFBLFVBQVU7UUFDakMsaUJBQVcsR0FBUyxJQUFJLENBQUMsQ0FBQSxRQUFRO1FBQ2pDLGVBQVMsR0FBUyxJQUFJLENBQUMsQ0FBQSxJQUFJO1FBQzNCLGtCQUFZLEdBQVMsS0FBSyxDQUFDO1FBaUczQixz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QUM7UUFDdkIsQ0FBQyxDQUFDO2FBQ0QsS0FBSyxFQUFFLENBQUM7SUFDYixDQUFDO0lBQ0QsTUFBTTtJQUNOLDZCQUFZLEdBQVo7SUFFQSxDQUFDO0lBQ0QsNEJBQVcsR0FBWDtRQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFFLEdBQUcsR0FBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3ZELENBQUM7SUFDSywrQkFBYyxHQUFwQixVQUFxQixJQUFJOzs7Ozs0QkFDVixxQkFBTSx1QkFBVSxDQUFDLGVBQWUsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFBOzt3QkFBcEUsSUFBSSxHQUFHLFNBQTZEO3dCQUN4RSxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7d0JBQ2pDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7d0JBQ3JFLElBQUksRUFBRSxDQUFDOzs7OztLQUNWO0lBbkhEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7eUNBQ0k7SUFFN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzs0Q0FDTztJQUUzQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzhDQUNTO0lBRTVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NkNBQ1E7SUFFMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs4Q0FDUztJQVhWLE1BQU07UUFEMUIsT0FBTztPQUNhLE1BQU0sQ0FrSjFCO0lBQUQsYUFBQztDQWxKRCxBQWtKQyxDQWxKbUMsRUFBRSxDQUFDLFNBQVMsR0FrSi9DO2tCQWxKb0IsTUFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vLi4vY2FpamlUb29sc1wiO1xuaW1wb3J0IHsgZGF0YSB9IGZyb20gXCIuLi8uLi9zZGsvZGF0YVwiO1xuaW1wb3J0IHsgZW5lbXlBdHRyaWJ1dGUgfSBmcm9tIFwiLi4vZW5lbXlCYXNlXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5leHBvcnQgZW51bSBib3NzTmFtZSB7XG4gICAgZW5lbXkxMCA9IFwiZW5lbXkxMFwiLFxuICAgIGVuZW15Mzk9XCJlbmVteTM5XCIsXG4gICAgbWluaUJvc3M9XCJtaW5pQm9zc1wiXG59XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgYm9zc0hwIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcbiAgICBocEJhcjogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXG4gICAgaGVhZEljb246IGNjLlNwcml0ZSA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGhwTnVtTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBub3dIcE5vZGU6IGNjLk5vZGUgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIG5leHRIcE5vZGU6IGNjLk5vZGUgPSBudWxsO1xuXG4gICAgaHBNYXg6bnVtYmVyPTA7XG4gICAgYmFyV2lkdGg6bnVtYmVyPTA7XG4gICAgYm9zc05hbWU6IHN0cmluZyA9IFwiXCI7XG4gICAgaHBOdW06IG51bWJlciA9IDU7Ly/ooYDmnaHliankvZnph49cbiAgICBocDogbnVtYmVyID0gMDsvL+ihgOmHj1xuICAgIGV2ZXJ5VmFsdWU6IG51bWJlciA9IDA7Ly/mr4/mnaHooYDmnaHnmoTooYDph49cbiAgICBhY2l0b25TcGVlZDpudW1iZXI9MC44Oy8v6KGA5p2h5YmK5YeP5Yqo55S76YCf5bqmXG4gICAgaHBCYXJTaGFkb3c6Y2MuTm9kZT1udWxsOy8v6KGA5p2h5YmK5YeP5b2x5a2QXG4gICAgaHBCYXJOb2RlOmNjLk5vZGU9bnVsbDsvL+ihgOadoVxuICAgIGlzTG9ja0FjdGlvbjpib29sZWFuPWZhbHNlO1xuXG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5ocEJhclNoYWRvdz10aGlzLm5vd0hwTm9kZS5jaGlsZHJlblswXTtcbiAgICAgICAgdGhpcy5ocEJhck5vZGU9dGhpcy5ub3dIcE5vZGUuY2hpbGRyZW5bMV07XG4gICAgfVxuICAgIHVwZGF0ZSgpe1xuICAgICAgICB0aGlzLmhwQmFyU2hhZG93LndpZHRoPWNjLm1pc2MubGVycCh0aGlzLmhwQmFyU2hhZG93LndpZHRoLHRoaXMuaHBCYXJOb2RlLndpZHRoLDAuMDYpO1xuICAgIH1cbiAgICBpbml0KGZ1bmMpIHtcbiAgICAgICAgdGhpcy5iYXJXaWR0aD10aGlzLmhwQmFyLnRvdGFsTGVuZ3RoO1xuICAgICAgICB0aGlzLmhwTWF4ID0gTnVtYmVyKGRhdGEuZ2FtZUpzb24oXCJlbmVteURhdGFcIiwgdGhpcy5ib3NzTmFtZSwgZW5lbXlBdHRyaWJ1dGUuaHApKTtcbiAgICAgICAgdGhpcy5ocD10aGlzLmhwTWF4O1xuICAgICAgICB0aGlzLmhwTnVtID0gNTtcbiAgICAgICAgdGhpcy5ldmVyeVZhbHVlID0gdGhpcy5ocCAvIHRoaXMuaHBOdW07XG4gICAgICAgIHRoaXMudXBkYXRlSHBOdW0oKTtcbiAgICAgICAgdGhpcy51cGRhdGVIZWFkSWNvbihmdW5jKTtcbiAgICAgICAgdGhpcy51cGRhdGVOb3dIcEJhcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZU5leHRIcEJhcigpO1xuICAgIH1cbiAgICB1cGRhdGVOb3dIcEJhcigpIHtcbiAgICAgICAgdGhpcy5ocEJhci5wcm9ncmVzcz0xO1xuICAgICAgICB0aGlzLm5vd0hwTm9kZS5jaGlsZHJlblswXS53aWR0aD10aGlzLmJhcldpZHRoO1xuICAgICAgICB0aGlzLm5vd0hwTm9kZS5jaGlsZHJlblsxXS53aWR0aD10aGlzLmJhcldpZHRoO1xuICAgICAgICB0aGlzLm5vd0hwTm9kZS5jaGlsZHJlblswXS5jb2xvcj10aGlzLmhwQmFyQ29sb3JbdGhpcy5ocE51bV1bXCJjb2xvclwiXTtcbiAgICAgICAgdGhpcy5ub3dIcE5vZGUuY2hpbGRyZW5bMV0uY29sb3I9dGhpcy5ocEJhckNvbG9yW3RoaXMuaHBOdW1dW1wiY29sb3JEYXJrXCJdO1xuICAgIH1cbiAgICB1cGRhdGVOZXh0SHBCYXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmhwTnVtID09IDEpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dEhwTm9kZS5jaGlsZHJlblswXS5vcGFjaXR5PTA7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5uZXh0SHBOb2RlLmNoaWxkcmVuWzBdLmNvbG9yPXRoaXMuaHBCYXJDb2xvclt0aGlzLmhwTnVtLTFdW1wiY29sb3JEYXJrXCJdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEhwKGFkZFZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgYWRkVmFsdWU9TWF0aC5mbG9vcihhZGRWYWx1ZSk7XG4gICAgICAgIHRoaXMuaHAgKz0gYWRkVmFsdWU7XG4gICAgICAgIGlmKHRoaXMuaHA8PTApe1xuICAgICAgICAgICAgLy/mrbvkuqFcbiAgICAgICAgICAgIHRoaXMuaHBOdW1MYWJlbC5zdHJpbmcgPVwieDBcIjtcbiAgICAgICAgICAgIHRoaXMuaHBCYXJUb1plcm9BY3Rpb24oZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaHA9dGhpcy5ocD50aGlzLmhwTWF4P3RoaXMuaHBNYXg6dGhpcy5ocDtcbiAgICAgICAgaWYodGhpcy5pc0xvY2tBY3Rpb24pIHJldHVybjtcbiAgICAgICAgbGV0IG5vd0hwTnVtPU1hdGguY2VpbCh0aGlzLmhwL3RoaXMuZXZlcnlWYWx1ZSk7XG4gICAgICAgIGlmKG5vd0hwTnVtPHRoaXMuaHBOdW0pe1xuICAgICAgICAgICAgdGhpcy5ocEJhclRvWmVyb0FjdGlvbigpOyBcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmhwQmFyQWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy/ov5vlhaXkuIvkuIDooYDmnaFcbiAgICBlbnRlck5leHRIcCgpIHtcbiAgICAgICAgdGhpcy5pc0xvY2tBY3Rpb249ZmFsc2U7XG4gICAgICAgIHRoaXMuaHBOdW0tLTtcbiAgICAgICAgdGhpcy51cGRhdGVIcE51bSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZU5vd0hwQmFyKCk7XG4gICAgICAgIHRoaXMudXBkYXRlTmV4dEhwQmFyKCk7XG4gICAgICAgIHRoaXMuaHBCYXJBY3Rpb24oKTtcbiAgICB9XG4gICAgaHBCYXJBY3Rpb24oKXtcbiAgICAgICAgY2MuVHdlZW4uc3RvcEFsbEJ5VGFyZ2V0KHRoaXMuaHBCYXIpO1xuICAgICAgICBsZXQgbm93UHJvZ3Jlc3M9dGhpcy5ocEJhci5wcm9ncmVzcztcbiAgICAgICAgbGV0IHRvUHJvZ3Jlc3M9KHRoaXMuaHAldGhpcy5ldmVyeVZhbHVlKS90aGlzLmV2ZXJ5VmFsdWU7XG4gICAgICAgIHRvUHJvZ3Jlc3M9dG9Qcm9ncmVzcz09MD8xOnRvUHJvZ3Jlc3M7XG4gICAgICAgIGxldCB0aW1lPShub3dQcm9ncmVzcy10b1Byb2dyZXNzKS90aGlzLmFjaXRvblNwZWVkO1xuICAgICAgICBjYy50d2Vlbih0aGlzLmhwQmFyKVxuICAgICAgICAudG8odGltZSx7cHJvZ3Jlc3M6dG9Qcm9ncmVzc30se2Vhc2luZzpcInF1YWRPdXRcIn0pXG4gICAgICAgIC5zdGFydCgpO1xuICAgIH1cbiAgICBocEJhclRvWmVyb0FjdGlvbihpc0VudGVyTmV4dEhwOmJvb2xlYW49dHJ1ZSl7XG4gICAgICAgIHRoaXMuaXNMb2NrQWN0aW9uPXRydWU7XG4gICAgICAgIGNjLlR3ZWVuLnN0b3BBbGxCeVRhcmdldCh0aGlzLmhwQmFyKTtcbiAgICAgICAgbGV0IG5vd1Byb2dyZXNzPXRoaXMuaHBCYXIucHJvZ3Jlc3M7XG4gICAgICAgIGxldCB0aW1lPW5vd1Byb2dyZXNzL3RoaXMuYWNpdG9uU3BlZWQqMC41O1xuICAgICAgICBjYy50d2Vlbih0aGlzLmhwQmFyKVxuICAgICAgICAudG8odGltZSx7cHJvZ3Jlc3M6MH0se2Vhc2luZzpcInF1YWRPdXRcIn0pXG4gICAgICAgIC5jYWxsKCgpPT57XG4gICAgICAgICAgICBpZihpc0VudGVyTmV4dEhwPT1mYWxzZSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5lbnRlck5leHRIcCgpO1xuICAgICAgICB9KVxuICAgICAgICAuc3RhcnQoKTtcbiAgICB9XG4gICAgLy/lop7liqDooYDmnaFcbiAgICBpbmNyZXNlSHBOdW0oKXtcblxuICAgIH1cbiAgICB1cGRhdGVIcE51bSgpIHtcbiAgICAgICAgdGhpcy5ocE51bUxhYmVsLnN0cmluZyA9XCJ4XCIrIHRoaXMuaHBOdW0udG9TdHJpbmcoKTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlSGVhZEljb24oZnVuYykge1xuICAgICAgICBsZXQgaWNvbiA9IGF3YWl0IGNhaWppVG9vbHMubG9hZFNwcml0ZUZyYW1lKFwiYm9zc0hlYWQvXCIgKyB0aGlzLmJvc3NOYW1lKTtcbiAgICAgICAgdGhpcy5oZWFkSWNvbi5zcHJpdGVGcmFtZSA9IGljb247XG4gICAgICAgIHRoaXMuaGVhZEljb24ubm9kZS5zZXRQb3NpdGlvbih0aGlzLmhlYWRJY29uUG9zaXRpb25bdGhpcy5ib3NzTmFtZV0pO1xuICAgICAgICBmdW5jKCk7XG4gICAgfVxuICAgIGhlYWRJY29uUG9zaXRpb24gPSB7XG4gICAgICAgIFwiZW5lbXkxMFwiOiBjYy52MigtMTYsIC00Mi41KSxcbiAgICAgICAgXCJlbmVteTM5XCI6IGNjLnYyKC02LCAtNDIuNSksXG4gICAgICAgIFwibWluaUJvc3NcIjogY2MudjIoLTEzLjQsIC02MClcbiAgICB9XG4gICAgaHBCYXJDb2xvcj17XG4gICAgICAgIDU6e1xuICAgICAgICAgICAgY29sb3I6Y2MuY29sb3IoMTU4LCAyNCwgMTk2KSxcbiAgICAgICAgICAgIGNvbG9yRGFyazpjYy5jb2xvcig5OSwgMCwgMTI3KVxuICAgICAgICB9LFxuICAgICAgICA0OntcbiAgICAgICAgICAgIGNvbG9yOmNjLmNvbG9yKDk1LCAxMDgsIDIzNyksXG4gICAgICAgICAgICBjb2xvckRhcms6Y2MuY29sb3IoMCwgMTIsIDEyOSlcbiAgICAgICAgfSxcbiAgICAgICAgMzp7XG4gICAgICAgICAgICBjb2xvcjpjYy5jb2xvcig1MywgMTY4LCA5NCksXG4gICAgICAgICAgICBjb2xvckRhcms6Y2MuY29sb3IoMTgsIDk0LCA0NSlcbiAgICAgICAgfSxcbiAgICAgICAgMjp7XG4gICAgICAgICAgICBjb2xvcjpjYy5jb2xvcigxNTIsIDE0NiwgNDIpLFxuICAgICAgICAgICAgY29sb3JEYXJrOmNjLmNvbG9yKDExMywgMTA4LCAyNylcbiAgICAgICAgfSxcbiAgICAgICAgMTp7XG4gICAgICAgICAgICBjb2xvcjpjYy5jb2xvcigxNzIsIDAsIDI5KSxcbiAgICAgICAgICAgIGNvbG9yRGFyazpjYy5jb2xvcigxMTMsIDAsIDE5KVxuICAgICAgICB9XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/main/audioManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b7eaaFSsWZPCYj2cXENLj3r', 'audioManager');
// scripts/main/audioManager.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var data_1 = require("../sdk/data");
var audioClipPath = "sounds/";
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var audioManager = /** @class */ (function (_super) {
    __extends(audioManager, _super);
    function audioManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.onSprite_audio = null;
        _this.offSprite_audio = null;
        _this.soundSwitch = null;
        _this.isHaveBgm = true;
        return _this;
    }
    audioManager_1 = audioManager;
    audioManager.prototype.onLoad = function () {
        audioManager_1.instance = this;
    };
    audioManager.prototype.start = function () {
        this.init();
    };
    audioManager.prototype.onDisable = function () {
        this.bgOff();
    };
    audioManager.prototype.onEnable = function () {
        if (audioManager_1.isAudioInit == false)
            return;
        var soundOnOrOff = Number(data_1.data.getCache("Base", "sound"));
        cc.log("soundOnOrOff:", soundOnOrOff);
        if (audioManager_1.audioNumber_bgMenu == -1) {
            if (soundOnOrOff == 0) {
                cc.audioEngine.pause(audioManager_1.audioNumber_bgMenu);
            }
        }
        else {
            if (soundOnOrOff == 1) {
                cc.audioEngine.resume(audioManager_1.audioNumber_bgMenu);
            }
        }
    };
    audioManager.prototype.init = function () {
        return __awaiter(this, void 0, void 0, function () {
            var bg, soundOnOrOff, id;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        bg = null;
                        this.soundSwitch.active = true;
                        soundOnOrOff = Number(data_1.data.getCache("Base", "sound"));
                        this.soundSwitch.getComponent(cc.Sprite).spriteFrame = soundOnOrOff == 0 ? this.offSprite_audio : this.onSprite_audio;
                        if (audioManager_1.isAudioInit == true)
                            return [2 /*return*/];
                        audioManager_1.isAudioInit = true;
                        if (this.isHaveBgm == false)
                            return [2 /*return*/];
                        if (!(audioManager_1.audioNumber_bgMenu == -1)) return [3 /*break*/, 2];
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadAudioClipBundle("sounds", audioNameMgr_1.audioName.bgm_main)];
                    case 1:
                        bg = _a.sent();
                        id = cc.audioEngine.play(bg, true, 1 * audioManager_1.now_Volume);
                        audioManager_1.audioNumber_bgMenu = id;
                        if (soundOnOrOff == 0) {
                            cc.audioEngine.pause(audioManager_1.audioNumber_bgMenu);
                        }
                        return [3 /*break*/, 3];
                    case 2:
                        if (soundOnOrOff == 1) {
                            cc.audioEngine.resume(audioManager_1.audioNumber_bgMenu);
                        }
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    audioManager.prototype.bgOff = function () {
        cc.audioEngine.pause(audioManager_1.audioNumber_bgMenu);
    };
    audioManager.playBgGame = function () {
        return __awaiter(this, void 0, void 0, function () {
            var bg;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(Number(data_1.data.getCache("Base", "sound")) == 0)) return [3 /*break*/, 1];
                        return [3 /*break*/, 4];
                    case 1:
                        if (!(audioManager_1.audioNumber_bgGame == -1)) return [3 /*break*/, 3];
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadAudioClipBundle("sounds", audioNameMgr_1.audioName.bgm_game)];
                    case 2:
                        bg = _a.sent();
                        audioManager_1.audioNumber_bgGame = cc.audioEngine.play(bg, true, 1 * audioManager_1.now_Volume);
                        return [3 /*break*/, 4];
                    case 3:
                        cc.audioEngine.resume(audioManager_1.audioNumber_bgGame);
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    audioManager.pauseBgGame = function () {
        if (audioManager_1.audioNumber_bgGame == -1)
            return;
        cc.audioEngine.pause(audioManager_1.audioNumber_bgGame);
    };
    audioManager.prototype.soundControl = function () {
        if (audioManager_1.isAudioInit == false)
            return;
        if (Number(data_1.data.getCache("Base", "sound")) == 0) {
            data_1.data.updateCache("Base", "sound", 1);
            this.soundSwitch.getComponent(cc.Sprite).spriteFrame = this.onSprite_audio;
            if (this.isHaveBgm)
                cc.audioEngine.resume(audioManager_1.audioNumber_bgMenu);
        }
        else {
            data_1.data.updateCache("Base", "sound", 0);
            this.soundSwitch.getComponent(cc.Sprite).spriteFrame = this.offSprite_audio;
            if (this.isHaveBgm)
                cc.audioEngine.pause(audioManager_1.audioNumber_bgMenu);
        }
    };
    /*     shockControl(){
            if(Number(AppData.Instance.getCache("Base","shock"))==0){
                AppData.Instance.updateCache("Base","shock",1);
                this.shockSwitch.children[0].getComponent(cc.Sprite).spriteFrame=this.onSprite_shock;
                audioManager.shock();
            }else{
                AppData.Instance.updateCache("Base","shock",0);
                this.shockSwitch.children[0].getComponent(cc.Sprite).spriteFrame=this.offSprite_shock;
            }
        } */
    audioManager.playAudio = function (Name, isLoop, audioSize) {
        if (isLoop === void 0) { isLoop = null; }
        if (audioSize === void 0) { audioSize = null; }
        return __awaiter(this, void 0, void 0, function () {
            var onoff, isloop, size, AudioClip;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        onoff = Number(data_1.data.getCache("Base", "sound"));
                        cc.log("playAudio onoff:", onoff, cc.audioEngine.getMaxAudioInstance());
                        if (!(onoff == 1)) return [3 /*break*/, 2];
                        isloop = isLoop == null ? false : isLoop;
                        size = audioSize == null ? 1 : audioSize;
                        if (audioManager_1.audioClips.get(Name)) {
                            // let id = cc.audioEngine.play(audioManager.audioClips.get(Name), isloop,size * audioManager.now_Volume);
                            // cc.audioEngine.setFinishCallback(id,()=>{
                            //     cc.audioEngine.uncache(audioManager.audioClips.get(Name))
                            //     cc.log("playAudio cache uncache....",Name,id)
                            // })
                            // cc.log("playAudio cache:",Name,"id:",id,",size:",size,cc.audioEngine.getMaxAudioInstance())
                            return [2 /*return*/, cc.audioEngine.play(audioManager_1.audioClips.get(Name), isloop, size * audioManager_1.now_Volume)];
                        }
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadAudioClipBundle("sounds", Name)];
                    case 1:
                        AudioClip = _a.sent();
                        if (AudioClip) {
                            audioManager_1.audioClips.set(Name, AudioClip);
                            // let id = cc.audioEngine.play(AudioClip, isloop,size * audioManager.now_Volume);    
                            // cc.audioEngine.setFinishCallback(id,()=>{
                            //     cc.audioEngine.uncache(audioManager.audioClips.get(Name))
                            //     cc.log("playAudio uncache....",Name,id)
                            // })            
                            // cc.log("playAudio remote :",Name,"id:",id,",size:",size,cc.audioEngine.getMaxAudioInstance())
                            return [2 /*return*/, cc.audioEngine.play(AudioClip, isloop, size * audioManager_1.now_Volume)];
                        }
                        else {
                            cc.log("playAudio load fail:", Name);
                        }
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    audioManager.stopAudio = function (id) {
        cc.audioEngine.pause(id);
    };
    audioManager.shock = function () {
        if (Number(data_1.data.getCache("Base", "shock")) == 1) {
        }
    };
    var audioManager_1;
    audioManager.audioNumber_bgMenu = -1;
    audioManager.audioNumber_bgGame = -1;
    audioManager.now_Volume = 1;
    audioManager.isAudioInit = false;
    audioManager.instance = null;
    audioManager.audioClips = new Map;
    __decorate([
        property(cc.SpriteFrame)
    ], audioManager.prototype, "onSprite_audio", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], audioManager.prototype, "offSprite_audio", void 0);
    __decorate([
        property(cc.Node)
    ], audioManager.prototype, "soundSwitch", void 0);
    audioManager = audioManager_1 = __decorate([
        ccclass
    ], audioManager);
    return audioManager;
}(cc.Component));
exports.default = audioManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcbWFpblxcYXVkaW9NYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLGdEQUE0QztBQUM1Qyw0Q0FBMkM7QUFDM0Msb0NBQW1DO0FBRW5DLElBQU0sYUFBYSxHQUFRLFNBQVMsQ0FBQztBQUMvQixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUEwQyxnQ0FBWTtJQUF0RDtRQUFBLHFFQThJQztRQTVJRyxvQkFBYyxHQUFnQixJQUFJLENBQUM7UUFFbkMscUJBQWUsR0FBZ0IsSUFBSSxDQUFDO1FBRXBDLGlCQUFXLEdBQVMsSUFBSSxDQUFDO1FBRXpCLGVBQVMsR0FBUyxJQUFJLENBQUM7O0lBc0kzQixDQUFDO3FCQTlJb0IsWUFBWTtJQWU3Qiw2QkFBTSxHQUFOO1FBQ0ksY0FBWSxDQUFDLFFBQVEsR0FBQyxJQUFJLENBQUM7SUFFL0IsQ0FBQztJQUNELDRCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUNELGdDQUFTLEdBQVQ7UUFDSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVELCtCQUFRLEdBQVI7UUFDSSxJQUFHLGNBQVksQ0FBQyxXQUFXLElBQUcsS0FBSztZQUFFLE9BQU87UUFDNUMsSUFBSSxZQUFZLEdBQUcsTUFBTSxDQUFDLFdBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDekQsRUFBRSxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVB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cmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCB7IGF1ZGlvTmFtZSB9IGZyb20gXCIuLi9hdWRpb05hbWVNZ3JcIjtcbmltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vY2FpamlUb29sc1wiO1xuaW1wb3J0IHsgZGF0YSB9IGZyb20gXCIuLi9zZGsvZGF0YVwiO1xuXG5jb25zdCBhdWRpb0NsaXBQYXRoOnN0cmluZz1cInNvdW5kcy9cIjtcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGF1ZGlvTWFuYWdlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxuICAgIG9uU3ByaXRlX2F1ZGlvOmNjLlNwcml0ZUZyYW1lPW51bGw7XG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxuICAgIG9mZlNwcml0ZV9hdWRpbzpjYy5TcHJpdGVGcmFtZT1udWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIHNvdW5kU3dpdGNoOmNjLk5vZGU9bnVsbDtcblxuICAgIGlzSGF2ZUJnbTpib29sZWFuPXRydWU7XG4gICAgc3RhdGljIGF1ZGlvTnVtYmVyX2JnTWVudTpudW1iZXI9LTE7XG4gICAgc3RhdGljIGF1ZGlvTnVtYmVyX2JnR2FtZTpudW1iZXI9LTE7XG4gICAgc3RhdGljIG5vd19Wb2x1bWU6bnVtYmVyPTE7XG4gICAgc3RhdGljIGlzQXVkaW9Jbml0OmJvb2xlYW49ZmFsc2U7XG4gICAgc3RhdGljIGluc3RhbmNlOmF1ZGlvTWFuYWdlcj1udWxsO1xuICAgIHN0YXRpYyBhdWRpb0NsaXBzOk1hcDxzdHJpbmcsY2MuQXVkaW9DbGlwPj1uZXcgTWFwO1xuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5pbnN0YW5jZT10aGlzO1xuICAgICAgICBcbiAgICB9XG4gICAgc3RhcnQgKCkge1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgb25EaXNhYmxlKCl7XG4gICAgICAgIHRoaXMuYmdPZmYoKTtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpIHsgICAgICAgIFxuICAgICAgICBpZihhdWRpb01hbmFnZXIuaXNBdWRpb0luaXQ9PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICBsZXQgc291bmRPbk9yT2ZmID0gTnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJCYXNlXCIsXCJzb3VuZFwiKSk7XG4gICAgICAgIGNjLmxvZyhcInNvdW5kT25Pck9mZjpcIixzb3VuZE9uT3JPZmYpXG4gICAgICAgIGlmKGF1ZGlvTWFuYWdlci5hdWRpb051bWJlcl9iZ01lbnU9PS0xKXsgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKHNvdW5kT25Pck9mZj09MCl7XG4gICAgICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2UoYXVkaW9NYW5hZ2VyLmF1ZGlvTnVtYmVyX2JnTWVudSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYoc291bmRPbk9yT2ZmPT0xKXtcbiAgICAgICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWUoYXVkaW9NYW5hZ2VyLmF1ZGlvTnVtYmVyX2JnTWVudSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBpbml0KCl7XG4gICAgICAgIGxldCBiZzpjYy5BdWRpb0NsaXA9bnVsbDtcbiAgICAgICAgdGhpcy5zb3VuZFN3aXRjaC5hY3RpdmU9dHJ1ZTtcbiAgICAgICAgbGV0IHNvdW5kT25Pck9mZj1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcInNvdW5kXCIpKTtcbiAgICAgICAgdGhpcy5zb3VuZFN3aXRjaC5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZT1zb3VuZE9uT3JPZmY9PTA/dGhpcy5vZmZTcHJpdGVfYXVkaW86dGhpcy5vblNwcml0ZV9hdWRpbztcbiAgICAgICAgaWYoYXVkaW9NYW5hZ2VyLmlzQXVkaW9Jbml0PT10cnVlKSByZXR1cm47XG4gICAgICAgIGF1ZGlvTWFuYWdlci5pc0F1ZGlvSW5pdD10cnVlO1xuICAgICAgICBpZih0aGlzLmlzSGF2ZUJnbT09ZmFsc2UpIHJldHVybjtcbiAgICAgICAgaWYoYXVkaW9NYW5hZ2VyLmF1ZGlvTnVtYmVyX2JnTWVudT09LTEpe1xuICAgICAgICAgICAgYmc9YXdhaXQgY2FpamlUb29scy5sb2FkQXVkaW9DbGlwQnVuZGxlKFwic291bmRzXCIsYXVkaW9OYW1lLmJnbV9tYWluKTtcbiAgICAgICAgICAgIGxldCBpZD1jYy5hdWRpb0VuZ2luZS5wbGF5KGJnLCB0cnVlLDEgKiBhdWRpb01hbmFnZXIubm93X1ZvbHVtZSk7XG4gICAgICAgICAgICBhdWRpb01hbmFnZXIuYXVkaW9OdW1iZXJfYmdNZW51PWlkO1xuICAgICAgICAgICAgaWYoc291bmRPbk9yT2ZmPT0wKXtcbiAgICAgICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wYXVzZShhdWRpb01hbmFnZXIuYXVkaW9OdW1iZXJfYmdNZW51KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpZihzb3VuZE9uT3JPZmY9PTEpe1xuICAgICAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnJlc3VtZShhdWRpb01hbmFnZXIuYXVkaW9OdW1iZXJfYmdNZW51KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBiZ09mZigpe1xuICAgICAgICBjYy5hdWRpb0VuZ2luZS5wYXVzZShhdWRpb01hbmFnZXIuYXVkaW9OdW1iZXJfYmdNZW51KTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIHBsYXlCZ0dhbWUoKXtcbiAgICAgICAgaWYoTnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJCYXNlXCIsXCJzb3VuZFwiKSk9PTApe1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGlmKGF1ZGlvTWFuYWdlci5hdWRpb051bWJlcl9iZ0dhbWU9PS0xKXtcbiAgICAgICAgICAgICAgICBsZXQgYmc9YXdhaXQgY2FpamlUb29scy5sb2FkQXVkaW9DbGlwQnVuZGxlKFwic291bmRzXCIsYXVkaW9OYW1lLmJnbV9nYW1lKTtcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIuYXVkaW9OdW1iZXJfYmdHYW1lPWNjLmF1ZGlvRW5naW5lLnBsYXkoYmcsIHRydWUsMSAqIGF1ZGlvTWFuYWdlci5ub3dfVm9sdW1lKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnJlc3VtZShhdWRpb01hbmFnZXIuYXVkaW9OdW1iZXJfYmdHYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgcGF1c2VCZ0dhbWUoKXtcbiAgICAgICAgaWYoYXVkaW9NYW5hZ2VyLmF1ZGlvTnVtYmVyX2JnR2FtZT09LTEpIHJldHVybjtcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2UoYXVkaW9NYW5hZ2VyLmF1ZGlvTnVtYmVyX2JnR2FtZSk7XG4gICAgfVxuICAgIHNvdW5kQ29udHJvbCgpe1xuICAgICAgICBpZihhdWRpb01hbmFnZXIuaXNBdWRpb0luaXQ9PWZhbHNlKSByZXR1cm47XG4gICAgICAgIGlmKE51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwic291bmRcIikpPT0wKXtcbiAgICAgICAgICAgIGRhdGEudXBkYXRlQ2FjaGUoXCJCYXNlXCIsXCJzb3VuZFwiLDEpO1xuICAgICAgICAgICAgdGhpcy5zb3VuZFN3aXRjaC5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZT10aGlzLm9uU3ByaXRlX2F1ZGlvO1xuICAgICAgICAgICAgaWYodGhpcy5pc0hhdmVCZ20pXG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWUoYXVkaW9NYW5hZ2VyLmF1ZGlvTnVtYmVyX2JnTWVudSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZGF0YS51cGRhdGVDYWNoZShcIkJhc2VcIixcInNvdW5kXCIsMCk7XG4gICAgICAgICAgICB0aGlzLnNvdW5kU3dpdGNoLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lPXRoaXMub2ZmU3ByaXRlX2F1ZGlvO1xuICAgICAgICAgICAgaWYodGhpcy5pc0hhdmVCZ20pXG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wYXVzZShhdWRpb01hbmFnZXIuYXVkaW9OdW1iZXJfYmdNZW51KTtcbiAgICAgICAgfVxuICAgIH1cbi8qICAgICBzaG9ja0NvbnRyb2woKXtcbiAgICAgICAgaWYoTnVtYmVyKEFwcERhdGEuSW5zdGFuY2UuZ2V0Q2FjaGUoXCJCYXNlXCIsXCJzaG9ja1wiKSk9PTApe1xuICAgICAgICAgICAgQXBwRGF0YS5JbnN0YW5jZS51cGRhdGVDYWNoZShcIkJhc2VcIixcInNob2NrXCIsMSk7XG4gICAgICAgICAgICB0aGlzLnNob2NrU3dpdGNoLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lPXRoaXMub25TcHJpdGVfc2hvY2s7XG4gICAgICAgICAgICBhdWRpb01hbmFnZXIuc2hvY2soKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBBcHBEYXRhLkluc3RhbmNlLnVwZGF0ZUNhY2hlKFwiQmFzZVwiLFwic2hvY2tcIiwwKTtcbiAgICAgICAgICAgIHRoaXMuc2hvY2tTd2l0Y2guY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWU9dGhpcy5vZmZTcHJpdGVfc2hvY2s7XG4gICAgICAgIH1cbiAgICB9ICovXG4gICAgc3RhdGljIGFzeW5jIHBsYXlBdWRpbyhOYW1lLGlzTG9vcDpib29sZWFuPW51bGwsYXVkaW9TaXplOm51bWJlcj1udWxsKXtcbiAgICAgICAgbGV0IG9ub2ZmID0gTnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJCYXNlXCIsXCJzb3VuZFwiKSkgXG4gICAgICAgIGNjLmxvZyhcInBsYXlBdWRpbyBvbm9mZjpcIixvbm9mZixjYy5hdWRpb0VuZ2luZS5nZXRNYXhBdWRpb0luc3RhbmNlKCkpXG4gICAgICAgIGlmKG9ub2ZmID09IDEgKSB7XG4gICAgICAgICAgICBsZXQgaXNsb29wPWlzTG9vcD09bnVsbD9mYWxzZTppc0xvb3A7XG4gICAgICAgICAgICBsZXQgc2l6ZT1hdWRpb1NpemU9PW51bGw/MTphdWRpb1NpemU7XG4gICAgICAgICAgICBpZihhdWRpb01hbmFnZXIuYXVkaW9DbGlwcy5nZXQoTmFtZSkpe1xuICAgICAgICAgICAgICAgIC8vIGxldCBpZCA9IGNjLmF1ZGlvRW5naW5lLnBsYXkoYXVkaW9NYW5hZ2VyLmF1ZGlvQ2xpcHMuZ2V0KE5hbWUpLCBpc2xvb3Asc2l6ZSAqIGF1ZGlvTWFuYWdlci5ub3dfVm9sdW1lKTtcbiAgICAgICAgICAgICAgICAvLyBjYy5hdWRpb0VuZ2luZS5zZXRGaW5pc2hDYWxsYmFjayhpZCwoKT0+e1xuICAgICAgICAgICAgICAgIC8vICAgICBjYy5hdWRpb0VuZ2luZS51bmNhY2hlKGF1ZGlvTWFuYWdlci5hdWRpb0NsaXBzLmdldChOYW1lKSlcbiAgICAgICAgICAgICAgICAvLyAgICAgY2MubG9nKFwicGxheUF1ZGlvIGNhY2hlIHVuY2FjaGUuLi4uXCIsTmFtZSxpZClcbiAgICAgICAgICAgICAgICAvLyB9KVxuICAgICAgICAgICAgICAgIC8vIGNjLmxvZyhcInBsYXlBdWRpbyBjYWNoZTpcIixOYW1lLFwiaWQ6XCIsaWQsXCIsc2l6ZTpcIixzaXplLGNjLmF1ZGlvRW5naW5lLmdldE1heEF1ZGlvSW5zdGFuY2UoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY2MuYXVkaW9FbmdpbmUucGxheShhdWRpb01hbmFnZXIuYXVkaW9DbGlwcy5nZXQoTmFtZSksIGlzbG9vcCxzaXplICogYXVkaW9NYW5hZ2VyLm5vd19Wb2x1bWUpOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IEF1ZGlvQ2xpcD1hd2FpdCBjYWlqaVRvb2xzLmxvYWRBdWRpb0NsaXBCdW5kbGUoXCJzb3VuZHNcIixOYW1lKTtcbiAgICAgICAgICAgIGlmIChBdWRpb0NsaXApe1xuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5hdWRpb0NsaXBzLnNldChOYW1lLEF1ZGlvQ2xpcCk7XG4gICAgICAgICAgICAgICAgLy8gbGV0IGlkID0gY2MuYXVkaW9FbmdpbmUucGxheShBdWRpb0NsaXAsIGlzbG9vcCxzaXplICogYXVkaW9NYW5hZ2VyLm5vd19Wb2x1bWUpOyAgICBcbiAgICAgICAgICAgICAgICAvLyBjYy5hdWRpb0VuZ2luZS5zZXRGaW5pc2hDYWxsYmFjayhpZCwoKT0+e1xuICAgICAgICAgICAgICAgIC8vICAgICBjYy5hdWRpb0VuZ2luZS51bmNhY2hlKGF1ZGlvTWFuYWdlci5hdWRpb0NsaXBzLmdldChOYW1lKSlcbiAgICAgICAgICAgICAgICAvLyAgICAgY2MubG9nKFwicGxheUF1ZGlvIHVuY2FjaGUuLi4uXCIsTmFtZSxpZClcbiAgICAgICAgICAgICAgICAvLyB9KSAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIGNjLmxvZyhcInBsYXlBdWRpbyByZW1vdGUgOlwiLE5hbWUsXCJpZDpcIixpZCxcIixzaXplOlwiLHNpemUsY2MuYXVkaW9FbmdpbmUuZ2V0TWF4QXVkaW9JbnN0YW5jZSgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBjYy5hdWRpb0VuZ2luZS5wbGF5KEF1ZGlvQ2xpcCwgaXNsb29wLHNpemUgKiBhdWRpb01hbmFnZXIubm93X1ZvbHVtZSk7ICAgIFxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgY2MubG9nKFwicGxheUF1ZGlvIGxvYWQgZmFpbDpcIixOYW1lKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBzdG9wQXVkaW8oaWQ6bnVtYmVyKXtcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2UoaWQpO1xuICAgIH1cbiAgICBzdGF0aWMgc2hvY2soKXtcbiAgICAgICAgaWYoTnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJCYXNlXCIsXCJzaG9ja1wiKSk9PTEpe1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/sdk/_wechat.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4f52a3polJI36cAFEkf9tS5', '_wechat');
// scripts/sdk/_wechat.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ch_wechat = void 0;
var TAG = '_wechat.ts';
var _wechat = /** @class */ (function () {
    function _wechat() {
        this.videoAd = null;
        this.bannerAd = null;
        this.videoId = "";
        this.bannerId = "";
        this.insertId = "";
        this.sdkInitEnd = false;
        this.onVideoAdCallBack = null;
        this.insertAdTime = 0;
        console.log(TAG, 'init platform channel: _wechat');
    }
    _wechat.getInstance = function () {
        if (this.Instance == null) {
            this.Instance = new _wechat();
        }
        return this.Instance;
    };
    _wechat.prototype.initAdParams = function (param) {
        if (this.sdkInitEnd) {
            return;
        }
        this.sdkInitEnd = true;
        this.insertId = param.insertId;
        this.bannerId = param.bannerId;
        this.videoId = param.videoId;
    };
    _wechat.prototype.initBannerAd = function () {
        var _this = this;
        // @ts-ignore
        var _a = wx.getSystemInfoSync(), windowWidth = _a.windowWidth, windowHeight = _a.windowHeight;
        var targetBannerAdWidth = 120;
        // 创建一个居于屏幕底部正中的广告
        // @ts-ignore
        this.bannerAd = wx.createBannerAd({
            adUnitId: this.bannerId,
            adIntervals: 120,
            style: {
                width: targetBannerAdWidth,
                top: windowHeight - (targetBannerAdWidth / 16 * 9),
            }
        });
        this.bannerAd.onError(function (err) {
            switch (err['errCode']) {
                case 1000:
                    console.warn(TAG, '后端错误调用失败');
                    break;
                case 1001:
                    console.warn(TAG, '参数错误');
                    break;
                case 1002:
                    console.warn(TAG, '广告单元无效');
                    break;
                case 1003:
                    console.warn(TAG, '内部错误');
                    break;
                case 1004:
                    console.warn(TAG, '无合适的广告, 尝试重新加载');
                    break;
                case 1005:
                    console.warn(TAG, '广告正在被审核，无法展现广告');
                    break;
                case 1007:
                    console.warn(TAG, '广告能力被禁用');
                    break;
                case 1008:
                    console.warn(TAG, '广告单元已关闭');
                    break;
                default:
                    break;
            }
        });
        // 也可以手动修改属性以调整广告尺寸
        this.bannerAd.style.left = (windowWidth - targetBannerAdWidth) / 2;
        // 尺寸调整时会触发回调
        // 注意：如果在回调里再次调整尺寸，要确保不要触发死循环！！！
        this.bannerAd.onResize(function (size) {
            console.log(TAG, size.width, size.height);
            if (size.width == 0 || size.height == 0) {
                return;
            }
            // 如果一开始设置的 banner 宽度超过了系统限制，可以在此处加以调整
            if (targetBannerAdWidth != size.width) {
                targetBannerAdWidth = size.width;
                _this.bannerAd.style.top = windowHeight - (size.height);
                _this.bannerAd.style.left = (windowWidth - size.width) / 2;
            }
        });
        //广告组件成功拉取广告素材时会触发load事件的监听器
        this.bannerAd.onLoad(function () {
            console.log(TAG, "banner广告拉取完成!");
        });
    };
    _wechat.prototype.bannerAd_show = function () {
        if (this.bannerAd) {
            this.bannerAd.show();
        }
    };
    _wechat.prototype.bannerAd_hide = function () {
        if (this.bannerAd) {
            this.bannerAd.hide();
            this.initBannerAd();
        }
    };
    _wechat.prototype.initVideoAd = function () {
        var _this = this;
        //@ts-ignore
        if (wx.createRewardedVideoAd) {
            return;
        }
        //@ts-ignore
        this.videoAd = wx.createRewardedVideoAd({
            adUnitId: this.videoId,
            multiton: false
        });
        this.videoAd.onClose(function (res) {
            if (res && res.isEnded) {
                _this.onVideoAdCallBack(true);
            }
            else {
                _this.onVideoAdCallBack(false);
            }
        });
        this.videoAd.onError(function (err) {
            switch (err.errCode) {
                case 1000:
                    console.warn(TAG, "\u540E\u7AEF\u63A5\u53E3\u8C03\u7528\u5931\u8D25");
                    break;
                case 1001:
                    console.warn(TAG, "\u53C2\u6570\u9519\u8BEF");
                    break;
                case 1002:
                    console.warn(TAG, "\u5E7F\u544A\u5355\u5143\u65E0\u6548");
                    break;
                case 1003:
                    console.warn(TAG, "\u5185\u90E8\u9519\u8BEF");
                    break;
                case 1004:
                    console.warn(TAG, "\u65E0\u5408\u9002\u7684\u5E7F\u544A");
                    break;
                case 1005:
                    console.warn(TAG, "\u5E7F\u544A\u7EC4\u4EF6\u5BA1\u6838\u4E2D");
                    break;
                case 1006:
                    console.warn(TAG, "\u5E7F\u544A\u7EC4\u4EF6\u88AB\u9A73\u56DE");
                    break;
                case 1007:
                    console.warn(TAG, "\u5E7F\u544A\u7EC4\u4EF6\u88AB\u5C01\u7981");
                    break;
                case 1008:
                    console.warn(TAG, "\u5E7F\u544A\u5355\u5143\u5DF2\u5173\u95ED");
                    break;
            }
        });
        this.videoAd.onLoad(function (res) {
            _this.videoAd.show();
        });
        this.videoAd.load();
    };
    _wechat.prototype.videoAd_show = function (onVideoCall) {
        this.onVideoAdCallBack = onVideoCall;
        this.videoAd != null ? this.videoAd.load() : this.initVideoAd();
    };
    _wechat.prototype.insterAd_show = function () {
        var time = new Date().getTime();
        if (time - this.insertAdTime < 30000) {
            console.log(TAG, '广告冷却中...');
            return;
        }
        this.insertAdTime = time;
        //@ts-ignore
        var interstitialAd = tt.createInterstitialAd({
            adUnitId: this.insertId
        });
        interstitialAd.onError(function (err) {
            switch (err.errCode) {
                case 1000:
                    console.warn(TAG, "\u540E\u7AEF\u63A5\u53E3\u8C03\u7528\u5931\u8D25");
                    break;
                case 1001:
                    console.warn(TAG, "\u53C2\u6570\u9519\u8BEF");
                    break;
                case 1002:
                    console.warn(TAG, "\u5E7F\u544A\u5355\u5143\u65E0\u6548");
                    break;
                case 1003:
                    console.warn(TAG, "\u5185\u90E8\u9519\u8BEF");
                    break;
                case 1004:
                    console.warn(TAG, "\u65E0\u5408\u9002\u7684\u5E7F\u544A");
                    break;
                case 1005:
                    console.warn(TAG, "\u5E7F\u544A\u7EC4\u4EF6\u5BA1\u6838\u4E2D");
                    break;
                case 1006:
                    console.warn(TAG, "\u5E7F\u544A\u7EC4\u4EF6\u88AB\u9A73\u56DE");
                    break;
                case 1007:
                    console.warn(TAG, "\u5E7F\u544A\u7EC4\u4EF6\u88AB\u5C01\u7981");
                    break;
                case 1008:
                    console.warn(TAG, "\u5E7F\u544A\u5355\u5143\u5DF2\u5173\u95ED");
                    break;
            }
        });
        interstitialAd.onClose(function () {
            interstitialAd.destroy();
        });
        interstitialAd.load().then(function () {
            interstitialAd.show();
        });
    };
    _wechat.Instance = null;
    return _wechat;
}());
exports.ch_wechat = _wechat;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcc2RrXFxfd2VjaGF0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLElBQUksR0FBRyxHQUFHLFlBQVksQ0FBQztBQUN2QjtJQVVJO1FBUlEsWUFBTyxHQUFRLElBQUksQ0FBQztRQUNwQixhQUFRLEdBQVEsSUFBSSxDQUFDO1FBQ3JCLFlBQU8sR0FBVyxFQUFFLENBQUM7UUFDckIsYUFBUSxHQUFXLEVBQUUsQ0FBQztRQUN0QixhQUFRLEdBQVcsRUFBRSxDQUFDO1FBQ3RCLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFDNUIsc0JBQWlCLEdBQWEsSUFBSSxDQUFDO1FBQ25DLGlCQUFZLEdBQUcsQ0FBQyxDQUFDO1FBRXJCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLGdDQUFnQyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUNhLG1CQUFXLEdBQXpCO1FBQ0ksSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksRUFBRTtZQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7U0FDakM7UUFDRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztJQUNELDhCQUFZLEdBQVosVUFBYSxLQUFZO1FBQ3JCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNqQixPQUFPO1NBQ1Y7UUFDRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO1FBQy9CLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztJQUNqQyxDQUFDO0lBQ0QsOEJBQVksR0FBWjtRQUFBLGlCQWdFQztRQS9ERyxhQUFhO1FBQ1AsSUFBQSxLQUFnQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUs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QyxJQUFJLENBQUMsR0FBRyxFQUFFLDRDQUFTLENBQUMsQ0FBQztvQkFDN0IsTUFBTTtnQkFDVixLQUFLLElBQUk7b0JBQ0wsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsNENBQVMsQ0FBQyxDQUFDO29CQUM3QixNQUFNO2dCQUNWLEtBQUssSUFBSTtvQkFDTCxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSw0Q0FBUyxDQUFDLENBQUM7b0JBQzdCLE1BQU07Z0JBQ1YsS0FBSyxJQUFJO29CQUNMLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLDRDQUFTLENBQUMsQ0FBQztvQkFDN0IsTUFBTTthQUNiO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDSCxjQUFjLENBQUMsT0FBTyxDQUFDO1lBQ25CLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM3QixDQUFDLENBQUMsQ0FBQztRQUNILGNBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUM7WUFDdkIsY0FBYyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQzFCLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQWhOYyxnQkFBUSxHQUFZLElBQUksQ0FBQztJQWlONUMsY0FBQztDQWxORCxBQWtOQyxJQUFBO0FBQ1ksUUFBQSxTQUFTLEdBQUcsT0FBTyxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyYW0gfSBmcm9tIFwiLi90eXBlXCI7XG5cbnZhciBUQUcgPSAnX3dlY2hhdC50cyc7XG5jbGFzcyBfd2VjaGF0IHtcbiAgICBwcml2YXRlIHN0YXRpYyBJbnN0YW5jZTogX3dlY2hhdCA9IG51bGw7XG4gICAgcHJpdmF0ZSB2aWRlb0FkOiBhbnkgPSBudWxsO1xuICAgIHByaXZhdGUgYmFubmVyQWQ6IGFueSA9IG51bGw7XG4gICAgcHJpdmF0ZSB2aWRlb0lkOiBzdHJpbmcgPSBcIlwiO1xuICAgIHByaXZhdGUgYmFubmVySWQ6IHN0cmluZyA9IFwiXCI7XG4gICAgcHJpdmF0ZSBpbnNlcnRJZDogc3RyaW5nID0gXCJcIjtcbiAgICBwcml2YXRlIHNka0luaXRFbmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIG9uVmlkZW9BZENhbGxCYWNrOiBGdW5jdGlvbiA9IG51bGw7XG4gICAgcHJpdmF0ZSBpbnNlcnRBZFRpbWUgPSAwO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhUQUcsICdpbml0IHBsYXRmb3JtIGNoYW5uZWw6IF93ZWNoYXQnKTtcbiAgICB9XG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBfd2VjaGF0IHtcbiAgICAgICAgaWYgKHRoaXMuSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5JbnN0YW5jZSA9IG5ldyBfd2VjaGF0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuSW5zdGFuY2U7XG4gICAgfVxuICAgIGluaXRBZFBhcmFtcyhwYXJhbTogcGFyYW0pIHtcbiAgICAgICAgaWYgKHRoaXMuc2RrSW5pdEVuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2RrSW5pdEVuZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5zZXJ0SWQgPSBwYXJhbS5pbnNlcnRJZDtcbiAgICAgICAgdGhpcy5iYW5uZXJJZCA9IHBhcmFtLmJhbm5lcklkO1xuICAgICAgICB0aGlzLnZpZGVvSWQgPSBwYXJhbS52aWRlb0lkO1xuICAgIH1cbiAgICBpbml0QmFubmVyQWQoKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgeyB3aW5kb3dXaWR0aCwgd2luZG93SGVpZ2h0IH0gPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuICAgICAgICB2YXIgdGFyZ2V0QmFubmVyQWRXaWR0aCA9IDEyMDtcbiAgICAgICAgLy8g5Yib5bu65LiA5Liq5bGF5LqO5bGP5bmV5bqV6YOo5q2j5Lit55qE5bm/5ZGKXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5iYW5uZXJBZCA9IHd4LmNyZWF0ZUJhbm5lckFkKHtcbiAgICAgICAgICAgIGFkVW5pdElkOiB0aGlzLmJhbm5lcklkLFxuICAgICAgICAgICAgYWRJbnRlcnZhbHM6IDEyMCxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHRhcmdldEJhbm5lckFkV2lkdGgsXG4gICAgICAgICAgICAgICAgdG9wOiB3aW5kb3dIZWlnaHQgLSAodGFyZ2V0QmFubmVyQWRXaWR0aCAvIDE2ICogOSksIC8vIOagueaNruezu+e7n+e6puWumuWwuuWvuOiuoeeul+WHuuW5v+WRiumrmOW6plxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5iYW5uZXJBZC5vbkVycm9yKChlcnI6IGFueSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChlcnJbJ2VyckNvZGUnXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwMDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+WQjuerr+mUmeivr+iwg+eUqOWksei0pScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDE6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICflj4LmlbDplJnor68nKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDAyOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5bm/5ZGK5Y2V5YWD5peg5pWIJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwMzpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+WGhemDqOmUmeivrycpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICfml6DlkIjpgILnmoTlub/lkYosIOWwneivlemHjeaWsOWKoOi9vScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDU6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICflub/lkYrmraPlnKjooqvlrqHmoLjvvIzml6Dms5XlsZXnjrDlub/lkYonKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDA3OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5bm/5ZGK6IO95Yqb6KKr56aB55SoJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwODpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+W5v+WRiuWNleWFg+W3suWFs+mXrScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIOS5n+WPr+S7peaJi+WKqOS/ruaUueWxnuaAp+S7peiwg+aVtOW5v+WRiuWwuuWvuFxuICAgICAgICB0aGlzLmJhbm5lckFkLnN0eWxlLmxlZnQgPSAod2luZG93V2lkdGggLSB0YXJnZXRCYW5uZXJBZFdpZHRoKSAvIDI7XG4gICAgICAgIC8vIOWwuuWvuOiwg+aVtOaXtuS8muinpuWPkeWbnuiwg1xuICAgICAgICAvLyDms6jmhI/vvJrlpoLmnpzlnKjlm57osIPph4zlho3mrKHosIPmlbTlsLrlr7jvvIzopoHnoa7kv53kuI3opoHop6blj5Hmrbvlvqrnjq/vvIHvvIHvvIFcbiAgICAgICAgdGhpcy5iYW5uZXJBZC5vblJlc2l6ZSgoc2l6ZTogYW55KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTtcbiAgICAgICAgICAgIGlmIChzaXplLndpZHRoID09IDAgfHwgc2l6ZS5oZWlnaHQgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIOWmguaenOS4gOW8gOWni+iuvue9rueahCBiYW5uZXIg5a695bqm6LaF6L+H5LqG57O757uf6ZmQ5Yi277yM5Y+v5Lul5Zyo5q2k5aSE5Yqg5Lul6LCD5pW0XG4gICAgICAgICAgICBpZiAodGFyZ2V0QmFubmVyQWRXaWR0aCAhPSBzaXplLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0QmFubmVyQWRXaWR0aCA9IHNpemUud2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJBZC5zdHlsZS50b3AgPSB3aW5kb3dIZWlnaHQgLSAoc2l6ZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyQWQuc3R5bGUubGVmdCA9ICh3aW5kb3dXaWR0aCAtIHNpemUud2lkdGgpIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8v5bm/5ZGK57uE5Lu25oiQ5Yqf5ouJ5Y+W5bm/5ZGK57Sg5p2Q5pe25Lya6Kem5Y+RbG9hZOS6i+S7tueahOebkeWQrOWZqFxuICAgICAgICB0aGlzLmJhbm5lckFkLm9uTG9hZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsIFwiYmFubmVy5bm/5ZGK5ouJ5Y+W5a6M5oiQIVwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGJhbm5lckFkX3Nob3coKSB7XG4gICAgICAgIGlmICh0aGlzLmJhbm5lckFkKSB7XG4gICAgICAgICAgICB0aGlzLmJhbm5lckFkLnNob3coKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBiYW5uZXJBZF9oaWRlKCkge1xuICAgICAgICBpZiAodGhpcy5iYW5uZXJBZCkge1xuICAgICAgICAgICAgdGhpcy5iYW5uZXJBZC5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRCYW5uZXJBZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRWaWRlb0FkKCkge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgaWYgKHd4LmNyZWF0ZVJld2FyZGVkVmlkZW9BZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLnZpZGVvQWQgPSB3eC5jcmVhdGVSZXdhcmRlZFZpZGVvQWQoe1xuICAgICAgICAgICAgYWRVbml0SWQ6IHRoaXMudmlkZW9JZCxcbiAgICAgICAgICAgIG11bHRpdG9uOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52aWRlb0FkLm9uQ2xvc2UoKHJlczogYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzICYmIHJlcy5pc0VuZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblZpZGVvQWRDYWxsQmFjayh0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblZpZGVvQWRDYWxsQmFjayhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZGVvQWQub25FcnJvcigoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXJyLmVyckNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDA6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGDlkI7nq6/mjqXlj6PosIPnlKjlpLHotKVgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDAxOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBg5Y+C5pWw6ZSZ6K+vYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwMjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgYOW5v+WRiuWNleWFg+aXoOaViGApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDM6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGDlhoXpg6jplJnor69gKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDA0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBg5peg5ZCI6YCC55qE5bm/5ZGKYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwNTpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgYOW5v+WRiue7hOS7tuWuoeaguOS4rWApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDY6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGDlub/lkYrnu4Tku7booqvpqbPlm55gKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDA3OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBg5bm/5ZGK57uE5Lu26KKr5bCB56aBYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwODpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgYOW5v+WRiuWNleWFg+W3suWFs+mXrWApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlkZW9BZC5vbkxvYWQoKHJlczogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvQWQuc2hvdygpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52aWRlb0FkLmxvYWQoKTtcbiAgICB9XG4gICAgdmlkZW9BZF9zaG93KG9uVmlkZW9DYWxsOiBGdW5jdGlvbikge1xuICAgICAgICB0aGlzLm9uVmlkZW9BZENhbGxCYWNrID0gb25WaWRlb0NhbGw7XG4gICAgICAgIHRoaXMudmlkZW9BZCAhPSBudWxsID8gdGhpcy52aWRlb0FkLmxvYWQoKSA6IHRoaXMuaW5pdFZpZGVvQWQoKTtcbiAgICB9XG4gICAgaW5zdGVyQWRfc2hvdygpIHtcbiAgICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgaWYgKHRpbWUgLSB0aGlzLmluc2VydEFkVGltZSA8IDMwMDAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsICflub/lkYrlhrfljbTkuK0uLi4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluc2VydEFkVGltZSA9IHRpbWU7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBsZXQgaW50ZXJzdGl0aWFsQWQgPSB0dC5jcmVhdGVJbnRlcnN0aXRpYWxBZCh7XG4gICAgICAgICAgICBhZFVuaXRJZDogdGhpcy5pbnNlcnRJZFxuICAgICAgICB9KTtcbiAgICAgICAgaW50ZXJzdGl0aWFsQWQub25FcnJvcigoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXJyLmVyckNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDA6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGDlkI7nq6/mjqXlj6PosIPnlKjlpLHotKVgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDAxOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBg5Y+C5pWw6ZSZ6K+vYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwMjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgYOW5v+WRiuWNleWFg+aXoOaViGApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDM6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGDlhoXpg6jplJnor69gKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDA0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBg5peg5ZCI6YCC55qE5bm/5ZGKYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwNTpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgYOW5v+WRiue7hOS7tuWuoeaguOS4rWApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDY6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGDlub/lkYrnu4Tku7booqvpqbPlm55gKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDA3OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBg5bm/5ZGK57uE5Lu26KKr5bCB56aBYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwODpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgYOW5v+WRiuWNleWFg+W3suWFs+mXrWApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGludGVyc3RpdGlhbEFkLm9uQ2xvc2UoKCkgPT4ge1xuICAgICAgICAgICAgaW50ZXJzdGl0aWFsQWQuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgaW50ZXJzdGl0aWFsQWQubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaW50ZXJzdGl0aWFsQWQuc2hvdygpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgY2hfd2VjaGF0ID0gX3dlY2hhdDsiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/controller/ad/ad_banner.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b97e0ZjqchKMJ52/081T9XS', 'ad_banner');
// syyx_sdk/controller/ad/ad_banner.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ad_banner = void 0;
var syyx_sdk_enum_1 = require("./../../configs/syyx_sdk_enum");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var syyx_manager_1 = require("../syyx_manager");
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var syyx_adv_manager_1 = require("./syyx_adv_manager");
var ad_oppo_banner_1 = require("./ad_oppo_banner");
var ad_banner = /** @class */ (function () {
    function ad_banner() {
    }
    /**
     * 初始化oppo首次广告cd
     */
    ad_banner.init_first_banner_cd = function () {
        var self = this;
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel == igc.e_channel_type.oppo_qg) {
            var first_banner_cd = 0;
            this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
            if (this._business_config_data && this._business_config_data["adv_banner_cd"]) {
                first_banner_cd = this._business_config_data["adv_banner_cd"].value[0];
                this.can_show_first = first_banner_cd <= 0;
                console.log("igc----- the banner's cd in oppo is", first_banner_cd);
            }
            this.first_banner_timer_id && clearTimeout(this.first_banner_timer_id);
            this.first_banner_timer_id = setTimeout(function () {
                self.can_show_first = true;
                if (self.need_show && self._ad_param) {
                    self.show_banner(self._ad_param.ad_type, self._ad_param.ad_pos_id, self._ad_param.onLoad, self._ad_param.onShow, self._ad_param.onClose, self._ad_param.onError);
                }
            }, first_banner_cd * 1000);
        }
    };
    /**
     * 自动刷新定时器
     */
    ad_banner.run_timer = function () {
        if (!this.is_run_timer) {
            this.is_run_timer = true;
            this.timer_func();
        }
    };
    ad_banner.timer_func = function () {
        var self = this;
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["banner_cool_time"]) {
            this.auto_update_cd = this._business_config_data["banner_cool_time"].value;
        }
        this.load_native_banner();
        var cd = syyx_sdk_utils_1.syyx_sdk_utils.get_random_number(this.auto_update_cd);
        console.log("sdk------ next time to refresh banner is", cd);
        this.timer_id && clearTimeout(this.timer_id);
        this.timer_id = setTimeout(function () {
            self.timer_func();
        }, cd * 1000);
    };
    /**
     * UI层要展示普通banner或者原生banner
     */
    ad_banner.show_banner = function (ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        this.need_show = true;
        this._normal_banner_id = ad_pos_id;
        this._native_banner_id = syyx_adv_manager_1.syyx_adv_manager._adv_config_data[ad_pos_id].backup_id;
        this._ad_param = {
            ad_type: ad_type,
            ad_pos_id: ad_pos_id,
            onLoad: onLoad,
            onShow: onShow,
            onClose: onClose,
            onError: onError,
        };
        if (!this.can_show_first) {
            console.log("igc----- banner is in cooling time ");
            return;
        }
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_open_oppo_rule()) {
            ad_oppo_banner_1.ad_oppo_banner.show_banner(ad_type, ad_pos_id, onLoad, onShow, onClose, onError);
            return;
        }
        // 上面条件充足，后面不执行
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id) {
            return;
        }
        this.run_timer();
    };
    /**
     *  检查当前是否需要展示banner
     */
    ad_banner.check_need_show_banner = function () {
        return this.need_show;
    };
    /**
     *  展示banner
     */
    ad_banner.auto_show_banner = function () {
        if (this._ad_param && this._ad_param.ad_type && this._ad_param.ad_pos_id) {
            this.show_banner(this._ad_param.ad_type, this._ad_param.ad_pos_id, this._ad_param.onLoad, this._ad_param.onShow, this._ad_param.onClose, this._ad_param.onError);
        }
        else {
            this.show_banner(igc.e_ad_type.banner, syyx_sdk_enum_1.e_ad_id.banner_hall, undefined, undefined, undefined, undefined);
        }
    };
    /**
    * ui层要隐藏banner或者原生banner
    * 隐藏后销毁定时器  直到下一次show_banner才会重新启动定时器
    */
    ad_banner.hide_banner = function () {
        this.need_show = false;
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_open_oppo_rule()) {
            ad_oppo_banner_1.ad_oppo_banner.hide_banner();
            return;
        }
        if (!this.can_show_first) {
            console.log("igc----- banner is in cooling time ");
            return;
        }
        this.is_run_timer = false;
        this.hide_normal_banner();
        this.timer_id && clearTimeout(this.timer_id);
        this.timer_id = undefined;
    };
    /**
     * 加载原生banner数据
     * 会根据不同情况 转去加载普通banner
     */
    ad_banner.load_native_banner = function () {
        var self = this;
        //当前不需要展示任何banner
        if (!this.need_show) {
            self.hide_banner();
            return;
        }
        //不是oppo vivo 或者 没有设置原生bannerId 则设置定时器刷新普通banner
        if (!self._native_banner_id) {
            self.show_normal_banner();
            return;
        }
    };
    ad_banner.report_ad_click = function (ad_pos_id, native_data) {
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_open_oppo_rule()) {
            ad_oppo_banner_1.ad_oppo_banner.report_ad_click(ad_pos_id, native_data);
            return;
        }
    };
    ad_banner.report_ad_show = function (ad_pos_id, native_data) {
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_open_oppo_rule()) {
            ad_oppo_banner_1.ad_oppo_banner.report_ad_show(ad_pos_id, native_data);
            return;
        }
    };
    ad_banner.get_easy_click_protect_count = function () {
        var protect_count = 0;
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["native_banner_click_protect"]) {
            protect_count = this._business_config_data["native_banner_click_protect"].value[0];
        }
        return protect_count;
    };
    ad_banner.set_banenr_protect_model = function () {
        this.cur_protect_count = 0;
    };
    ad_banner.get_is_easy_click_model = function () {
        var protect_count = this.get_easy_click_protect_count();
        if (protect_count > 0) {
            if (this.cur_protect_count >= 0) {
                this.cur_protect_count++;
                if (this.cur_protect_count <= protect_count) {
                    return false;
                }
            }
        }
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["native_banner_click_switch"]) {
            if (this._business_config_data["native_banner_click_switch"].value[0] == 1) {
                var pro = this._business_config_data["native_banner_click_pro"].value[0];
                return Math.random() <= pro;
            }
        }
        return false;
    };
    ad_banner.set_normal_banner_switch = function (value) {
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_open_oppo_rule()) {
            ad_oppo_banner_1.ad_oppo_banner.set_normal_banner_switch(value);
        }
    };
    /**
    * 显示普通banner
    */
    ad_banner.show_normal_banner = function () {
        if (this._business_config_data && this._business_config_data["show_normal_banner_switch"]) {
            if (this._business_config_data["show_normal_banner_switch"].value[0] == 0) {
                console.log("igc ----- normal banner switch is close");
                return;
            }
        }
        //vivo渠道限制一下  销毁banner10s后才能展示普通banner
        if (!this.can_show_vivo_banner && syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {
            console.log("igc----- vivo ad_banner show_normal_banner create too often!!!");
            return;
        }
        var self = this;
        syyx_manager_1.syyx_manager.create_ad(igc.e_ad_type.banner, self._normal_banner_id, function onLoad(param, res) {
            self._ad_param.onLoad && self._ad_param.onLoad();
        }, function onShow() {
            self.normal_banner_showing = true;
            //banner展示成功后判断当前能否展示banner
            if (self.need_show) {
                self._ad_param.onShow && self._ad_param.onShow();
            }
            else {
                self.hide_normal_banner();
            }
        }, function onClose(param, res) {
            self._ad_param.onClose && self._ad_param.onClose();
        }, function onError(param, err) {
            console.log("igc------syyx_adv_manager show_normal_banner onError", err);
            self._ad_param.onError && self._ad_param.onError(param, err);
        });
    };
    ad_banner.hide_normal_banner = function () {
        var self = this;
        if (self._normal_banner_id) {
            //vivo渠道下  普通banner已经在显示  销毁的话记录10s内不能再次创建
            if (self.normal_banner_showing && syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {
                self.can_show_vivo_banner = false;
                this.banner_timer_id && clearTimeout(this.banner_timer_id);
                this.banner_timer_id = setTimeout(function () {
                    self.can_show_vivo_banner = true;
                }, 11000);
            }
            self.normal_banner_showing = false;
            syyx_manager_1.syyx_manager.destroy_ad(igc.e_ad_type.banner, self._normal_banner_id);
        }
    };
    /**
     * 玩家手动点击了关闭banner
     */
    ad_banner.finger_close_banner = function () {
        var self = this;
        if (this.is_oppo_vivo_hw() && this._business_config_data && this._business_config_data["finger_close_banner_switch"]) {
            if (syyx_adv_manager_1.syyx_adv_manager.check_is_open_oppo_rule()) {
                ad_oppo_banner_1.ad_oppo_banner.finger_close_banner();
                return;
            }
            if (this._business_config_data["finger_close_banner_switch"].value[0] == 1) {
                var cd = this._business_config_data["finger_close_banner_switch"].value[1] || 60;
                this.hide_banner();
                this.can_show_first = false;
                setTimeout(function () {
                    self.can_show_first = true;
                }, cd * 1000);
            }
        }
    };
    ad_banner.is_oppo_vivo_hw = function () {
        return syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg || syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg || syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web;
    };
    /**
    * 远端运营配置
    */
    ad_banner._business_config_data = {};
    /**
     * 配置表原生banner广告Id
     */
    ad_banner._native_banner_id = undefined;
    /**
     * 配置表普通banner广告Id
     */
    ad_banner._normal_banner_id = undefined;
    /**
     * banner自动刷新时间
     */
    ad_banner.auto_update_cd = [20, 20];
    /**
     * 刷新定时器是否开启
     */
    ad_banner.is_run_timer = false;
    /**
     * 当前是否需要展示banner
     */
    ad_banner.need_show = true;
    /**
     * 能否显示第一个banner
     */
    ad_banner.can_show_first = true;
    /**
     * oppo首次展示广告cd回调定时器id
     */
    ad_banner.first_banner_timer_id = undefined;
    /**
     * 普通Banner是否在显示
     */
    ad_banner.normal_banner_showing = false;
    /**
    * 能否显示vivo普通Banner
    */
    ad_banner.can_show_vivo_banner = true;
    ad_banner.cur_protect_count = -1;
    return ad_banner;
}());
exports.ad_banner = ad_banner;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbnRyb2xsZXJcXGFkXFxhZF9iYW5uZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUMsK0RBQXdEO0FBQ3pELDZEQUE0RDtBQUM1RCxnREFBK0M7QUFDL0MsaUVBQTJEO0FBQzNELHVEQUFzRDtBQUN0RCxtREFBa0Q7QUFFbEQ7SUFBQTtJQXVWQSxDQUFDO0lBNVJHOztPQUVHO0lBQ0ksOEJBQW9CLEdBQTNCO1FBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFBO1FBRWYsSUFBSSw0QkFBVSxDQUFDLGdCQUFnQixJQUFJLEdBQUcsQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFO1lBQzNELElBQUksZUFBZSxHQUFHLENBQUMsQ0FBQTtZQUN2QixJQUFJLENBQUMscUJBQXFCLEdBQUcsMkJBQVksQ0FBQyxtQkFBbUIsRUFBRSxDQUFBO1lBQy9ELElBQUksSUFBSSxDQUFDLHFCQUFxQixJQUFJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsRUFBRTtnQkFDM0UsZUFBZSxHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7Z0JBQ3RFLElBQUksQ0FBQyxjQUFjLEdBQUcsZUFBZSxJQUFJLENBQUMsQ0FBQTtnQkFDMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQ0FBcUMsRUFBRSxlQUFlLENBQUMsQ0FBQTthQUN0RTtZQUNELElBQUksQ0FBQyxxQkFBcUIsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUE7WUFDdEUsSUFBSSxDQUFDLHFCQUFxQixHQUFHLFVBQVUsQ0FBQztnQkFDcEMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUE7Z0JBQzFCLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO29CQUNsQyxJQUFJLENBQUMsV0FBVyxDQUFDLElB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QUFBO0lBRTNCOztPQUVHO0lBQ0ksbUJBQVMsR0FBRyxJQUFJLENBQUE7SUFFdkI7O09BRUc7SUFDSSx3QkFBYyxHQUFHLElBQUksQ0FBQTtJQUU1Qjs7T0FFRztJQUNJLCtCQUFxQixHQUFHLFNBQVMsQ0FBQTtJQUV4Qzs7T0FFRztJQUNJLCtCQUFxQixHQUFHLEtBQUssQ0FBQTtJQUVwQzs7TUFFRTtJQUNLLDhCQUFvQixHQUFHLElBQUksQ0FBQTtJQUUzQiwyQkFBaUIsR0FBRyxDQUFDLENBQUMsQ0FBQTtJQThSakMsZ0JBQUM7Q0F2VkQsQUF1VkMsSUFBQTtBQXZWWSw4QkFBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIu+7v2ltcG9ydCB7IGVfYWRfaWQgfSBmcm9tICcuLy4uLy4uL2NvbmZpZ3Mvc3l5eF9zZGtfZW51bSc7XHJcbmltcG9ydCB7IHN5eXhfc2RrX3V0aWxzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3N5eXhfc2RrX3V0aWxzXCI7XHJcbmltcG9ydCB7IHN5eXhfbWFuYWdlciB9IGZyb20gXCIuLi9zeXl4X21hbmFnZXJcIjtcclxuaW1wb3J0IHsgc3l5eF9jb25zdCB9IGZyb20gXCIuLi8uLi9jb25maWdzL3N5eXhfc2RrX2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBzeXl4X2Fkdl9tYW5hZ2VyIH0gZnJvbSBcIi4vc3l5eF9hZHZfbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBhZF9vcHBvX2Jhbm5lciB9IGZyb20gXCIuL2FkX29wcG9fYmFubmVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgYWRfYmFubmVyIHtcclxuXHJcbiAgICAvKipcclxuICAgICog6L+c56uv6L+Q6JCl6YWN572uXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIF9idXNpbmVzc19jb25maWdfZGF0YSA9IHt9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6YWN572u6KGo5Y6f55SfYmFubmVy5bm/5ZGKSWRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIF9uYXRpdmVfYmFubmVyX2lkID0gdW5kZWZpbmVkXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDphY3nva7ooajmma7pgJpiYW5uZXLlub/lkYpJZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX25vcm1hbF9iYW5uZXJfaWQgPSB1bmRlZmluZWRcclxuXHJcbiAgICAvKipcclxuICAgICog5Yib5bu65bm/5ZGK5pe25Lyg5YWl55qE5Y+C5pWwXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIF9hZF9wYXJhbVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogYmFubmVy6Ieq5Yqo5Yi35paw5pe26Ze0XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhdXRvX3VwZGF0ZV9jZCA9IFsyMCwgMjBdXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliLfmlrDlrprml7blmajmmK/lkKblvIDlkK9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGlzX3J1bl90aW1lciA9IGZhbHNlXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvZPliY3mmK/lkKbpnIDopoHlsZXnpLpiYW5uZXJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG5lZWRfc2hvdyA9IHRydWVcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiDveWQpuaYvuekuuesrOS4gOS4qmJhbm5lclxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY2FuX3Nob3dfZmlyc3QgPSB0cnVlXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBvcHBv6aaW5qyh5bGV56S65bm/5ZGKY2Tlm57osIPlrprml7blmahpZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZmlyc3RfYmFubmVyX3RpbWVyX2lkID0gdW5kZWZpbmVkXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmma7pgJpCYW5uZXLmmK/lkKblnKjmmL7npLpcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG5vcm1hbF9iYW5uZXJfc2hvd2luZyA9IGZhbHNlXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOiDveWQpuaYvuekunZpdm/mma7pgJpCYW5uZXJcclxuICAgICovXHJcbiAgICBzdGF0aWMgY2FuX3Nob3dfdml2b19iYW5uZXIgPSB0cnVlXHJcblxyXG4gICAgc3RhdGljIGN1cl9wcm90ZWN0X2NvdW50ID0gLTFcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIneWni+WMlm9wcG/pppbmrKHlub/lkYpjZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaW5pdF9maXJzdF9iYW5uZXJfY2QoKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcblxyXG4gICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT0gaWdjLmVfY2hhbm5lbF90eXBlLm9wcG9fcWcpIHtcclxuICAgICAgICAgICAgbGV0IGZpcnN0X2Jhbm5lcl9jZCA9IDBcclxuICAgICAgICAgICAgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YSAmJiB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcImFkdl9iYW5uZXJfY2RcIl0pIHtcclxuICAgICAgICAgICAgICAgIGZpcnN0X2Jhbm5lcl9jZCA9IHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiYWR2X2Jhbm5lcl9jZFwiXS52YWx1ZVswXVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW5fc2hvd19maXJzdCA9IGZpcnN0X2Jhbm5lcl9jZCA8PSAwXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHRoZSBiYW5uZXIncyBjZCBpbiBvcHBvIGlzXCIsIGZpcnN0X2Jhbm5lcl9jZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmZpcnN0X2Jhbm5lcl90aW1lcl9pZCAmJiBjbGVhclRpbWVvdXQodGhpcy5maXJzdF9iYW5uZXJfdGltZXJfaWQpXHJcbiAgICAgICAgICAgIHRoaXMuZmlyc3RfYmFubmVyX3RpbWVyX2lkID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNhbl9zaG93X2ZpcnN0ID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubmVlZF9zaG93ICYmIHNlbGYuX2FkX3BhcmFtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zaG93X2Jhbm5lcihzZWxmLl9hZF9wYXJhbS5hZF90eXBlLCBzZWxmLl9hZF9wYXJhbS5hZF9wb3NfaWQsIHNlbGYuX2FkX3BhcmFtLm9uTG9hZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fYWRfcGFyYW0ub25TaG93LCBzZWxmLl9hZF9wYXJhbS5vbkNsb3NlLCBzZWxmLl9hZF9wYXJhbS5vbkVycm9yKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBmaXJzdF9iYW5uZXJfY2QgKiAxMDAwKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDoh6rliqjliLfmlrDlrprml7blmahcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJ1bl90aW1lcigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNfcnVuX3RpbWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNfcnVuX3RpbWVyID0gdHJ1ZVxyXG4gICAgICAgICAgICB0aGlzLnRpbWVyX2Z1bmMoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdGltZXJfaWRcclxuICAgIHN0YXRpYyB0aW1lcl9mdW5jKCkge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhID0gc3l5eF9tYW5hZ2VyLmdldF9idXNpbmVzc19jb25maWcoKVxyXG4gICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YSAmJiB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcImJhbm5lcl9jb29sX3RpbWVcIl0pIHtcclxuICAgICAgICAgICAgdGhpcy5hdXRvX3VwZGF0ZV9jZCA9IHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiYmFubmVyX2Nvb2xfdGltZVwiXS52YWx1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvYWRfbmF0aXZlX2Jhbm5lcigpXHJcbiAgICAgICAgbGV0IGNkID0gc3l5eF9zZGtfdXRpbHMuZ2V0X3JhbmRvbV9udW1iZXIodGhpcy5hdXRvX3VwZGF0ZV9jZClcclxuICAgICAgICBjb25zb2xlLmxvZyhcInNkay0tLS0tLSBuZXh0IHRpbWUgdG8gcmVmcmVzaCBiYW5uZXIgaXNcIiwgY2QpXHJcblxyXG4gICAgICAgIHRoaXMudGltZXJfaWQgJiYgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJfaWQpXHJcbiAgICAgICAgdGhpcy50aW1lcl9pZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBzZWxmLnRpbWVyX2Z1bmMoKVxyXG4gICAgICAgIH0sIGNkICogMTAwMClcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVUnlsYLopoHlsZXnpLrmma7pgJpiYW5uZXLmiJbogIXljp/nlJ9iYW5uZXJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNob3dfYmFubmVyKGFkX3R5cGU/OiBpZ2MuZV9hZF90eXBlLCBhZF9wb3NfaWQ/OiBzdHJpbmcsIG9uTG9hZD86IEZ1bmN0aW9uLCBvblNob3c/OiBGdW5jdGlvbiwgb25DbG9zZT86IEZ1bmN0aW9uLCBvbkVycm9yPzogRnVuY3Rpb24pIHtcclxuICAgICAgICB0aGlzLm5lZWRfc2hvdyA9IHRydWVcclxuICAgICAgICB0aGlzLl9ub3JtYWxfYmFubmVyX2lkID0gYWRfcG9zX2lkXHJcbiAgICAgICAgdGhpcy5fbmF0aXZlX2Jhbm5lcl9pZCA9IHN5eXhfYWR2X21hbmFnZXIuX2Fkdl9jb25maWdfZGF0YVthZF9wb3NfaWRdLmJhY2t1cF9pZFxyXG5cclxuICAgICAgICB0aGlzLl9hZF9wYXJhbSA9IHtcclxuICAgICAgICAgICAgYWRfdHlwZTogYWRfdHlwZSxcclxuICAgICAgICAgICAgYWRfcG9zX2lkOiBhZF9wb3NfaWQsXHJcbiAgICAgICAgICAgIG9uTG9hZDogb25Mb2FkLFxyXG4gICAgICAgICAgICBvblNob3c6IG9uU2hvdyxcclxuICAgICAgICAgICAgb25DbG9zZTogb25DbG9zZSxcclxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvcixcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmNhbl9zaG93X2ZpcnN0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gYmFubmVyIGlzIGluIGNvb2xpbmcgdGltZSBcIilcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc3l5eF9hZHZfbWFuYWdlci5jaGVja19pc19vcGVuX29wcG9fcnVsZSgpKSB7XHJcbiAgICAgICAgICAgIGFkX29wcG9fYmFubmVyLnNob3dfYmFubmVyKGFkX3R5cGUsIGFkX3Bvc19pZCwgb25Mb2FkLCBvblNob3csIG9uQ2xvc2UsIG9uRXJyb3IpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDkuIrpnaLmnaHku7blhYXotrPvvIzlkI7pnaLkuI3miafooYxcclxuICAgICAgICBsZXQgYWRfaWQgPSBzeXl4X2Fkdl9tYW5hZ2VyLmdldF9jaGFubmVsX2FkX2lkKGFkX3Bvc19pZClcclxuICAgICAgICBpZiAoIWFkX2lkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ydW5fdGltZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIOajgOafpeW9k+WJjeaYr+WQpumcgOimgeWxleekumJhbm5lclxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY2hlY2tfbmVlZF9zaG93X2Jhbm5lcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZWVkX3Nob3dcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICDlsZXnpLpiYW5uZXJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGF1dG9fc2hvd19iYW5uZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2FkX3BhcmFtICYmIHRoaXMuX2FkX3BhcmFtLmFkX3R5cGUgJiYgdGhpcy5fYWRfcGFyYW0uYWRfcG9zX2lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd19iYW5uZXIodGhpcy5fYWRfcGFyYW0uYWRfdHlwZSwgdGhpcy5fYWRfcGFyYW0uYWRfcG9zX2lkLCB0aGlzLl9hZF9wYXJhbS5vbkxvYWQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hZF9wYXJhbS5vblNob3csIHRoaXMuX2FkX3BhcmFtLm9uQ2xvc2UsIHRoaXMuX2FkX3BhcmFtLm9uRXJyb3IpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93X2Jhbm5lcihpZ2MuZV9hZF90eXBlLmJhbm5lciwgZV9hZF9pZC5iYW5uZXJfaGFsbCwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIHVp5bGC6KaB6ZqQ6JePYmFubmVy5oiW6ICF5Y6f55SfYmFubmVyXHJcbiAgICAqIOmakOiXj+WQjumUgOavgeWumuaXtuWZqCAg55u05Yiw5LiL5LiA5qyhc2hvd19iYW5uZXLmiY3kvJrph43mlrDlkK/liqjlrprml7blmahcclxuICAgICovXHJcbiAgICBzdGF0aWMgaGlkZV9iYW5uZXIoKSB7XHJcbiAgICAgICAgdGhpcy5uZWVkX3Nob3cgPSBmYWxzZVxyXG4gICAgICAgIGlmIChzeXl4X2Fkdl9tYW5hZ2VyLmNoZWNrX2lzX29wZW5fb3Bwb19ydWxlKCkpIHtcclxuICAgICAgICAgICAgYWRfb3Bwb19iYW5uZXIuaGlkZV9iYW5uZXIoKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5jYW5fc2hvd19maXJzdCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGJhbm5lciBpcyBpbiBjb29saW5nIHRpbWUgXCIpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzX3J1bl90aW1lciA9IGZhbHNlXHJcbiAgICAgICAgdGhpcy5oaWRlX25vcm1hbF9iYW5uZXIoKVxyXG4gICAgICAgIHRoaXMudGltZXJfaWQgJiYgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJfaWQpXHJcbiAgICAgICAgdGhpcy50aW1lcl9pZCA9IHVuZGVmaW5lZFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6L295Y6f55SfYmFubmVy5pWw5o2uXHJcbiAgICAgKiDkvJrmoLnmja7kuI3lkIzmg4XlhrUg6L2s5Y675Yqg6L295pmu6YCaYmFubmVyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBsb2FkX25hdGl2ZV9iYW5uZXIoKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcblxyXG4gICAgICAgIC8v5b2T5YmN5LiN6ZyA6KaB5bGV56S65Lu75L2VYmFubmVyXHJcbiAgICAgICAgaWYgKCF0aGlzLm5lZWRfc2hvdykge1xyXG4gICAgICAgICAgICBzZWxmLmhpZGVfYmFubmVyKClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+S4jeaYr29wcG8gdml2byDmiJbogIUg5rKh5pyJ6K6+572u5Y6f55SfYmFubmVySWQg5YiZ6K6+572u5a6a5pe25Zmo5Yi35paw5pmu6YCaYmFubmVyXHJcbiAgICAgICAgaWYgKCFzZWxmLl9uYXRpdmVfYmFubmVyX2lkKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2hvd19ub3JtYWxfYmFubmVyKClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZXBvcnRfYWRfY2xpY2soYWRfcG9zX2lkOiBzdHJpbmcsIG5hdGl2ZV9kYXRhPykge1xyXG4gICAgICAgIGlmIChzeXl4X2Fkdl9tYW5hZ2VyLmNoZWNrX2lzX29wZW5fb3Bwb19ydWxlKCkpIHtcclxuICAgICAgICAgICAgYWRfb3Bwb19iYW5uZXIucmVwb3J0X2FkX2NsaWNrKGFkX3Bvc19pZCwgbmF0aXZlX2RhdGEpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmVwb3J0X2FkX3Nob3coYWRfcG9zX2lkOiBzdHJpbmcsIG5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgaWYgKHN5eXhfYWR2X21hbmFnZXIuY2hlY2tfaXNfb3Blbl9vcHBvX3J1bGUoKSkge1xyXG4gICAgICAgICAgICBhZF9vcHBvX2Jhbm5lci5yZXBvcnRfYWRfc2hvdyhhZF9wb3NfaWQsIG5hdGl2ZV9kYXRhKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldF9lYXN5X2NsaWNrX3Byb3RlY3RfY291bnQoKSB7XHJcbiAgICAgICAgbGV0IHByb3RlY3RfY291bnQgPSAwXHJcbiAgICAgICAgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2Jhbm5lcl9jbGlja19wcm90ZWN0XCJdKSB7XHJcbiAgICAgICAgICAgIHByb3RlY3RfY291bnQgPSB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9iYW5uZXJfY2xpY2tfcHJvdGVjdFwiXS52YWx1ZVswXVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvdGVjdF9jb3VudFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZXRfYmFuZW5yX3Byb3RlY3RfbW9kZWwoKSB7XHJcbiAgICAgICAgdGhpcy5jdXJfcHJvdGVjdF9jb3VudCA9IDBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0X2lzX2Vhc3lfY2xpY2tfbW9kZWwoKSB7XHJcbiAgICAgICAgbGV0IHByb3RlY3RfY291bnQgPSB0aGlzLmdldF9lYXN5X2NsaWNrX3Byb3RlY3RfY291bnQoKVxyXG4gICAgICAgIGlmIChwcm90ZWN0X2NvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJfcHJvdGVjdF9jb3VudCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cl9wcm90ZWN0X2NvdW50KytcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cl9wcm90ZWN0X2NvdW50IDw9IHByb3RlY3RfY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2Jhbm5lcl9jbGlja19zd2l0Y2hcIl0pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2Jhbm5lcl9jbGlja19zd2l0Y2hcIl0udmFsdWVbMF0gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBybyA9IHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2Jhbm5lcl9jbGlja19wcm9cIl0udmFsdWVbMF1cclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpIDw9IHByb1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZXRfbm9ybWFsX2Jhbm5lcl9zd2l0Y2godmFsdWUpIHtcclxuICAgICAgICBpZiAoc3l5eF9hZHZfbWFuYWdlci5jaGVja19pc19vcGVuX29wcG9fcnVsZSgpKSB7XHJcbiAgICAgICAgICAgIGFkX29wcG9fYmFubmVyLnNldF9ub3JtYWxfYmFubmVyX3N3aXRjaCh2YWx1ZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOaYvuekuuaZrumAmmJhbm5lclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBzaG93X25vcm1hbF9iYW5uZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wic2hvd19ub3JtYWxfYmFubmVyX3N3aXRjaFwiXSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJzaG93X25vcm1hbF9iYW5uZXJfc3dpdGNoXCJdLnZhbHVlWzBdID09IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjIC0tLS0tIG5vcm1hbCBiYW5uZXIgc3dpdGNoIGlzIGNsb3NlXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL3Zpdm/muKDpgZPpmZDliLbkuIDkuIsgIOmUgOavgWJhbm5lcjEwc+WQjuaJjeiDveWxleekuuaZrumAmmJhbm5lclxyXG4gICAgICAgIGlmICghdGhpcy5jYW5fc2hvd192aXZvX2Jhbm5lciAmJiBzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS52aXZvX3FnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gdml2byBhZF9iYW5uZXIgc2hvd19ub3JtYWxfYmFubmVyIGNyZWF0ZSB0b28gb2Z0ZW4hISFcIilcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBzeXl4X21hbmFnZXIuY3JlYXRlX2FkKGlnYy5lX2FkX3R5cGUuYmFubmVyLCBzZWxmLl9ub3JtYWxfYmFubmVyX2lkLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBvbkxvYWQocGFyYW0sIHJlcykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fYWRfcGFyYW0ub25Mb2FkICYmIHNlbGYuX2FkX3BhcmFtLm9uTG9hZCgpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uU2hvdygpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubm9ybWFsX2Jhbm5lcl9zaG93aW5nID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgLy9iYW5uZXLlsZXnpLrmiJDlip/lkI7liKTmlq3lvZPliY3og73lkKblsZXnpLpiYW5uZXJcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLm5lZWRfc2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2FkX3BhcmFtLm9uU2hvdyAmJiBzZWxmLl9hZF9wYXJhbS5vblNob3coKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVfbm9ybWFsX2Jhbm5lcigpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uQ2xvc2UocGFyYW0sIHJlcykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fYWRfcGFyYW0ub25DbG9zZSAmJiBzZWxmLl9hZF9wYXJhbS5vbkNsb3NlKClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25FcnJvcihwYXJhbSwgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tLXN5eXhfYWR2X21hbmFnZXIgc2hvd19ub3JtYWxfYmFubmVyIG9uRXJyb3JcIiwgZXJyKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5fYWRfcGFyYW0ub25FcnJvciAmJiBzZWxmLl9hZF9wYXJhbS5vbkVycm9yKHBhcmFtLCBlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZqQ6JeP5pmu6YCaYmFubmVyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBiYW5uZXJfdGltZXJfaWRcclxuICAgIHN0YXRpYyBoaWRlX25vcm1hbF9iYW5uZXIoKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGlmIChzZWxmLl9ub3JtYWxfYmFubmVyX2lkKSB7XHJcbiAgICAgICAgICAgIC8vdml2b+a4oOmBk+S4iyAg5pmu6YCaYmFubmVy5bey57uP5Zyo5pi+56S6ICDplIDmr4HnmoTor53orrDlvZUxMHPlhoXkuI3og73lho3mrKHliJvlu7pcclxuICAgICAgICAgICAgaWYgKHNlbGYubm9ybWFsX2Jhbm5lcl9zaG93aW5nICYmIHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLnZpdm9fcWcpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY2FuX3Nob3dfdml2b19iYW5uZXIgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJfdGltZXJfaWQgJiYgY2xlYXJUaW1lb3V0KHRoaXMuYmFubmVyX3RpbWVyX2lkKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJfdGltZXJfaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbl9zaG93X3Zpdm9fYmFubmVyID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSwgMTEwMDApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZi5ub3JtYWxfYmFubmVyX3Nob3dpbmcgPSBmYWxzZVxyXG4gICAgICAgICAgICBzeXl4X21hbmFnZXIuZGVzdHJveV9hZChpZ2MuZV9hZF90eXBlLmJhbm5lciwgc2VsZi5fbm9ybWFsX2Jhbm5lcl9pZClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnjqnlrrbmiYvliqjngrnlh7vkuoblhbPpl61iYW5uZXJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZpbmdlcl9jbG9zZV9iYW5uZXIoKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcbiAgICAgICAgaWYgKHRoaXMuaXNfb3Bwb192aXZvX2h3KCkgJiYgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJmaW5nZXJfY2xvc2VfYmFubmVyX3N3aXRjaFwiXSkge1xyXG4gICAgICAgICAgICBpZiAoc3l5eF9hZHZfbWFuYWdlci5jaGVja19pc19vcGVuX29wcG9fcnVsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBhZF9vcHBvX2Jhbm5lci5maW5nZXJfY2xvc2VfYmFubmVyKClcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcImZpbmdlcl9jbG9zZV9iYW5uZXJfc3dpdGNoXCJdLnZhbHVlWzBdID09IDEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjZCA9IHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiZmluZ2VyX2Nsb3NlX2Jhbm5lcl9zd2l0Y2hcIl0udmFsdWVbMV0gfHwgNjBcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZV9iYW5uZXIoKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW5fc2hvd19maXJzdCA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbl9zaG93X2ZpcnN0ID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSwgY2QgKiAxMDAwKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc19vcHBvX3Zpdm9faHcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLm9wcG9fcWcgfHwgc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUudml2b19xZyB8fCBzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS53ZWJcclxuICAgIH1cclxufVxyXG5cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/utils/syyx_sdk_utils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'abeaaOecZpIHIRvM5TgixKt', 'syyx_sdk_utils');
// syyx_sdk/utils/syyx_sdk_utils.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.syyx_sdk_utils = void 0;
var syyx_sdk_config_1 = require("../configs/syyx_sdk_config");
var syyx_sdk_utils = /** @class */ (function () {
    function syyx_sdk_utils() {
    }
    syyx_sdk_utils.log = function () {
        var data = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            data[_i] = arguments[_i];
        }
        console.log("syyx_sdk: ", JSON.stringify(data));
    };
    syyx_sdk_utils.error = function () {
        var data = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            data[_i] = arguments[_i];
        }
        if (syyx_sdk_config_1.init_config._debug)
            console.error("syyx_sdk: ", JSON.stringify(data));
    };
    /**
     * 从两个数中随机一个中间值
     */
    syyx_sdk_utils.get_random_number = function (list) {
        return list[0] + Math.floor(Math.random() * (list[1] - list[0]));
    };
    /**
     * 应用默认的缩放比
     */
    syyx_sdk_utils.set_default_scale = function (view) {
        var ratio = this.get_screen_ratio();
        ratio *= view.node.scaleX;
        view.node.setScale(ratio, ratio);
        console.log("igc-----screen ratio is ", ratio);
    };
    /**
    * 获取当前游戏屏幕舞台与基于1920*1080设计舞台的比例
    */
    syyx_sdk_utils.get_screen_ratio = function () {
        if (window["cc"]) {
            if (cc.view.getVisibleSize().width > cc.view.getVisibleSize().height) {
                return cc.view.getVisibleSize().height / 1080;
            }
            else if (cc.view.getVisibleSize().width <= cc.view.getVisibleSize().height) {
                return cc.view.getVisibleSize().width / 1080;
            }
        }
        return 1;
    };
    syyx_sdk_utils.get_largest_zorder = function () {
        return 32767;
    };
    /**
    * 获取视图计算缩放比之后的的实际宽高
    */
    syyx_sdk_utils.get_size = function (view) {
        if (window["Laya"]) {
            return { width: view.width * view.scaleX, height: view.height * view.scaleY };
        }
        return {};
    };
    syyx_sdk_utils.get_stage = function () {
        if (window["Laya"]) {
            window["Laya"].stage;
        }
        else {
            return window["cc"].director.getScene();
        }
    };
    /**
    * 解析配置表csv
    * @param data csv配置表原数据
    */
    syyx_sdk_utils.parse_csv = function (data, key) {
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_publish === syyx_sdk_config_1.e_syyx_sdk_publish_type.in) {
            return data;
        }
        else {
            return igc.igc_resources_utils.parse_csv(data, key);
        }
    };
    syyx_sdk_utils.load_resource = function (file_path, load_back, self, error_back) {
        if (self === void 0) { self = undefined; }
        if (window["Laya"]) {
            window["Laya"].loader.load(file_path, window["Laya"].Handler.create(self, function (data) {
                if (data) {
                    load_back && load_back(data);
                }
                else {
                    console.error("igc-----load_resource fail", file_path);
                }
            }));
        }
        else {
            window["cc"].loader.loadRes(file_path, function (err, data) {
                var cur_data = data;
                if (file_path.indexOf("json") != -1) {
                    cur_data = data.json;
                }
                if (err) {
                    error_back && error_back();
                }
                else {
                    if (data) {
                        load_back && load_back(cur_data);
                    }
                    else {
                        console.error("igc-----load_resource fail", file_path);
                        error_back && error_back();
                    }
                }
            });
        }
    };
    syyx_sdk_utils.load_resource_texture = function (path, sprite) {
        if (window["cc"]) {
            cc.loader.loadRes(path, cc.SpriteFrame, function (err, spriteFrame) {
                if (err == null && cc.isValid(sprite) && cc.isValid(sprite.node)) {
                    sprite.spriteFrame = spriteFrame;
                }
                else {
                    console.error(path + " is not find", err);
                }
            });
        }
    };
    /**
     * 加载图片
     * @param icon 图片目标节点
     * @param icon_url 图片地址
     * @param call_back 回调  用于处理图片加载失败 或者  报错等特殊情况
     */
    syyx_sdk_utils.set_texture_url = function (icon, icon_url, call_back) {
        // if (syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {
        //     return
        // }
        if (window["cc"]) {
            var url = icon_url;
            // if (this.is_texture_url(icon_url)) {
            //     url = icon_url
            // } else {
            //     url = icon_url + ".jpg"
            // }
            var texture_type = 'jpg';
            if (icon_url.indexOf(".png") != -1) {
                texture_type = 'png';
            }
            try {
                //cocos2.4.0版本
                if (window["cc"]["assetManager"] && window["cc"]["assetManager"].loadRemote) {
                    window["cc"]["assetManager"].loadRemote(url, function (err, data) {
                        if (err) {
                            console.error("sdk-----load texture fail1111", err);
                            // call_back && call_back()
                        }
                        else if (window["cc"].isValid(icon) && data) {
                            var frames = new window["cc"].SpriteFrame(data);
                            icon.spriteFrame = frames;
                        }
                    });
                }
                else {
                    //cocos2.4.0版本以下
                    window["cc"].loader.load({ url: url, type: texture_type }, function (err, data) {
                        if (err) {
                            console.error("igc-----load texture fail", err);
                            call_back && call_back();
                        }
                        else if (window["cc"].isValid(icon) && data) {
                            var frames = new window["cc"].SpriteFrame(data);
                            icon.spriteFrame = frames;
                        }
                    });
                }
            }
            catch (error) {
                call_back && call_back();
            }
        }
    };
    syyx_sdk_utils.format_remote_texture_url = function (url) {
        if (url) {
            var jpg_index = url.indexOf(".jpg");
            var png_index = url.indexOf(".png");
            if (jpg_index != -1) {
                return url.substring(0, jpg_index + 4);
            }
            else if (png_index != -1) {
                return url.substring(0, png_index + 4);
            }
            else {
                return url;
            }
        }
        return url;
    };
    syyx_sdk_utils.is_texture_url = function (icon_url) {
        if (icon_url.indexOf(".bmp") != -1 ||
            icon_url.indexOf(".jpg") != -1 ||
            icon_url.indexOf(".jpeg") != -1 ||
            icon_url.indexOf(".flic") != -1 ||
            icon_url.indexOf(".emf") != -1 ||
            icon_url.indexOf(".ico") != -1 ||
            icon_url.indexOf(".png") != -1 ||
            icon_url.indexOf(".tif") != -1 ||
            icon_url.indexOf(".gif") != -1 ||
            icon_url.indexOf(".pcx") != -1 ||
            icon_url.indexOf(".tga") != -1 ||
            icon_url.indexOf(".exif") != -1 ||
            icon_url.indexOf(".fpx") != -1 ||
            icon_url.indexOf(".svg") != -1 ||
            icon_url.indexOf(".psd") != -1 ||
            icon_url.indexOf(".cdr") != -1 ||
            icon_url.indexOf(".pcd") != -1 ||
            icon_url.indexOf(".dxf") != -1 ||
            icon_url.indexOf(".ufo") != -1 ||
            icon_url.indexOf(".eps") != -1 ||
            icon_url.indexOf(".ai") != -1 ||
            icon_url.indexOf(".raw") != -1 ||
            icon_url.indexOf(".WMF") != -1 ||
            icon_url.indexOf(".webp") != -1 ||
            icon_url.indexOf(".avif") != -1) {
            return true;
        }
        return false;
    };
    /**
     * 数据对比替换，data2比data1项多
     * @param data1
     * @param data2
     */
    syyx_sdk_utils.replace_data = function (data1, data2) {
        if (!data1 && !data2) {
            console.log("the object is wrong");
            return;
        }
        for (var idx in data2) {
            data2[idx] && (data1[idx] = data2[idx]);
        }
        console.log(data2);
    };
    syyx_sdk_utils.set_item = function (key, value) {
        var str = JSON.stringify(value);
        localStorage.setItem(key, str);
    };
    syyx_sdk_utils.get_item = function (key) {
        var item = localStorage.getItem(key);
        if (item != "") {
            return JSON.parse(item);
        }
        return null;
    };
    /**
     * 从数组中随机选择一个元素
     * @param arr
     * @param delete_this
     */
    syyx_sdk_utils.random_get = function (arr, delete_this) {
        if (delete_this === void 0) { delete_this = false; }
        var len = arr.length;
        if (len == 0) {
            console.error("try to get a member from an empty array");
            throw new Error();
        }
        else {
            var rand = Math.floor(Math.random() * len);
            var item = arr[rand];
            delete_this && arr.splice(rand, 1);
            return item;
        }
    };
    syyx_sdk_utils.check_is_same_day = function (left_time, right_tiem) {
        var left_date = new Date(left_time);
        var right_date = new Date(right_tiem);
        if (left_date.getDay() != right_date.getDay() || left_date.getMonth() != right_date.getMonth() || left_date.getFullYear() != right_date.getFullYear()) {
            return false;
        }
        return true;
    };
    syyx_sdk_utils.get_date_timestamp = function () {
        return (new Date()).getTime();
    };
    /**
    * 获取金币、钻石等显示结果
    * @param num
    */
    syyx_sdk_utils.changeToMb = function (Gold, fix_num) {
        if (fix_num === void 0) { fix_num = 1; }
        if (Gold < 10000) {
            return Gold + "";
        }
        var myGold = parseInt(Gold);
        var goldStr = "";
        if (myGold < 1000) {
            goldStr = Math.floor(myGold) + "";
        }
        else if (myGold < 1000000) {
            goldStr = (myGold / 1000).toFixed(fix_num) + "k";
        }
        else if (myGold < 1000000000) {
            goldStr = (myGold / 1000000).toFixed(fix_num) + "m";
        }
        else if (myGold < 1000000000000) {
            goldStr = (myGold / 1000000000).toFixed(fix_num) + "b";
        }
        else {
            goldStr = (myGold / 1000000000000).toFixed(fix_num) + "t";
        }
        return goldStr;
    };
    syyx_sdk_utils.formatTime = function (time) {
        if (time <= 0) {
            return "00:00:00";
        }
        var h = Math.floor(time / 3600);
        var m = Math.floor(time / 60 % 60);
        var s = Math.floor(time % 60);
        var hStr = h + "";
        var mStr = m + "";
        var sStr = s + "";
        if (h < 10) {
            hStr = "0" + h;
        }
        if (m < 10) {
            mStr = "0" + m;
        }
        if (s < 10) {
            sStr = "0" + s;
        }
        return hStr + ":" + mStr + ":" + sStr;
    };
    syyx_sdk_utils.formatTime_mmss = function (time) {
        if (time <= 0) {
            return "00:00";
        }
        var m = Math.floor(time / 60 % 60);
        var s = Math.floor(time % 60);
        var mStr = m + "";
        var sStr = s + "";
        if (m < 10) {
            mStr = "0" + m;
        }
        if (s < 10) {
            sStr = "0" + s;
        }
        return mStr + ":" + sStr;
    };
    //置灰图片
    syyx_sdk_utils.set_grey = function (node, state) {
        var s = node.getComponentsInChildren(cc.Sprite);
        for (var i = 0; i < s.length; i++) {
            s[i].setState(state);
        }
    };
    syyx_sdk_utils.get_random_int = function (min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
    };
    // 洗牌函数，换位置，随机播放
    syyx_sdk_utils.shuffle = function (arr) {
        var _arr = arr.slice();
        for (var i = 0; i < _arr.length; i++) {
            var j = this.get_random_int(0, i);
            var t = _arr[i];
            _arr[i] = _arr[j];
            _arr[j] = t;
        }
        return _arr;
    };
    /**
    *  预加载原生图片
    */
    syyx_sdk_utils.preload_native_texture = function (url) {
        var self = this;
        if (window["Laya"]) {
            window["Laya"].loader.load(url, window["Laya"].Handler.create(self, function (data) {
                if (data) {
                    console.log('igc----- preload native_texture success---->', url);
                }
            }));
        }
        else {
            var texture_type = 'jpg';
            if (url.indexOf(".png") != -1) {
                texture_type = 'png';
            }
            //cocos2.4.0版本
            if (window["cc"]["assetManager"] && window["cc"]["assetManager"].loadRemote) {
                window["cc"]["assetManager"].loadRemote(url, function (err, data) {
                    if (data) {
                        console.log('igc----- preload native_texture success---->', url);
                    }
                });
            }
            else {
                //cocos2.4.0版本以下
                window["cc"].loader.load({ url: url, type: texture_type }, function (err, data) {
                    if (data) {
                        console.log('igc----- preload native_texture success---->', url);
                    }
                });
            }
        }
    };
    return syyx_sdk_utils;
}());
exports.syyx_sdk_utils = syyx_sdk_utils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXHV0aWxzXFxzeXl4X3Nka191dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw4REFBOEY7QUFFOUY7SUFBQTtJQXFaQSxDQUFDO0lBblpVLGtCQUFHLEdBQVY7UUFBVyxjQUFjO2FBQWQsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztZQUFkLHlCQUFjOztRQUNyQixPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUNNLG9CQUFLLEdBQVo7UUFBYSxjQUFjO2FBQWQsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztZQUFkLHlCQUFjOztRQUN2QixJQUFJLDZCQUFXLENBQUMsTUFBTTtZQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUM5RSxDQUFDO0lBRUQ7O09BRUc7SUFDSSxnQ0FBaUIsR0FBeEIsVUFBeUIsSUFBSTtRQUN6QixPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ3BFLENBQUM7SUFFRDs7T0FFRztJQUNJLGdDQUFpQixHQUF4QixVQUF5QixJQUFTO1FBQzlCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ3BDLEtBQUssSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUE7UUFDaEMsT0FBTyxDQUFDLEdBQUcsQ0FB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QUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMvQixRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMvQixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMvQixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FB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SUFBSTtvQkFDNUQsSUFBSSxJQUFJLEVBQUU7d0JBQ04sT0FBTyxDQUFDLEdBQUcsQ0FBQyw4Q0FBOEMsRUFBRSxHQUFHLENBQUMsQ0FBQTtxQkFDbkU7Z0JBQ0wsQ0FBQyxDQUFDLENBQUE7YUFDTDtpQkFBTTtnQkFDSCxnQkFBZ0I7Z0JBQ2hCLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLEVBQUUsVUFBVSxHQUFHLEVBQUUsSUFBSTtvQkFDMUUsSUFBSSxJQUFJLEVBQUU7d0JBQ04sT0FBTyxDQUFDLEdBQUcsQ0FBQyw4Q0FBOEMsRUFBRSxHQUFHLENBQUMsQ0FBQTtxQkFDbkU7Z0JBQ0wsQ0FBQyxDQUFDLENBQUM7YUFDTjtTQUVKO0lBQ0wsQ0FBQztJQUVMLHFCQUFDO0FBQUQsQ0FyWkEsQUFxWkMsSUFBQTtBQXJaWSx3Q0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVfc3l5eF9zZGtfcHVibGlzaF90eXBlLCBpbml0X2NvbmZpZywgc3l5eF9jb25zdCB9IGZyb20gXCIuLi9jb25maWdzL3N5eXhfc2RrX2NvbmZpZ1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIHN5eXhfc2RrX3V0aWxzIHtcclxuXHJcbiAgICBzdGF0aWMgbG9nKC4uLmRhdGE6IGFueVtdKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzeXl4X3NkazogXCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBlcnJvciguLi5kYXRhOiBhbnlbXSkge1xyXG4gICAgICAgIGlmIChpbml0X2NvbmZpZy5fZGVidWcpIGNvbnNvbGUuZXJyb3IoXCJzeXl4X3NkazogXCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS7juS4pOS4quaVsOS4remaj+acuuS4gOS4quS4remXtOWAvFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X3JhbmRvbV9udW1iZXIobGlzdCkge1xyXG4gICAgICAgIHJldHVybiBsaXN0WzBdICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGxpc3RbMV0gLSBsaXN0WzBdKSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW6lOeUqOm7mOiupOeahOe8qeaUvuavlFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2V0X2RlZmF1bHRfc2NhbGUodmlldzogYW55KSB7XHJcbiAgICAgICAgbGV0IHJhdGlvID0gdGhpcy5nZXRfc2NyZWVuX3JhdGlvKCk7XHJcbiAgICAgICAgcmF0aW8gKj0gdmlldy5ub2RlLnNjYWxlWDtcclxuICAgICAgICB2aWV3Lm5vZGUuc2V0U2NhbGUocmF0aW8sIHJhdGlvKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS1zY3JlZW4gcmF0aW8gaXMgXCIsIHJhdGlvKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDojrflj5blvZPliY3muLjmiI/lsY/luZXoiJ7lj7DkuI7ln7rkuo4xOTIwKjEwODDorr7orqHoiJ7lj7DnmoTmr5TkvotcclxuICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X3NjcmVlbl9yYXRpbygpIHtcclxuICAgICAgICBpZiAod2luZG93W1wiY2NcIl0pIHtcclxuICAgICAgICAgICAgaWYgKGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aCA+IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYy52aWV3LmdldFZpc2libGVTaXplKCkuaGVpZ2h0IC8gMTA4MFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aCA8PSBjYy52aWV3LmdldFZpc2libGVTaXplKCkuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLndpZHRoIC8gMTA4MFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRfbGFyZ2VzdF96b3JkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDMyNzY3O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDojrflj5bop4blm77orqHnrpfnvKnmlL7mr5TkuYvlkI7nmoTnmoTlrp7pmYXlrr3pq5hcclxuICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X3NpemUodmlldyk6IGFueSB7XHJcbiAgICAgICAgaWYgKHdpbmRvd1tcIkxheWFcIl0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IHZpZXcud2lkdGggKiB2aWV3LnNjYWxlWCwgaGVpZ2h0OiB2aWV3LmhlaWdodCAqIHZpZXcuc2NhbGVZIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHt9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldF9zdGFnZSgpIHtcclxuICAgICAgICBpZiAod2luZG93W1wiTGF5YVwiXSkge1xyXG4gICAgICAgICAgICB3aW5kb3dbXCJMYXlhXCJdLnN0YWdlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvd1tcImNjXCJdLmRpcmVjdG9yLmdldFNjZW5lKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOino+aekOmFjee9ruihqGNzdlxyXG4gICAgKiBAcGFyYW0gZGF0YSBjc3bphY3nva7ooajljp/mlbDmja5cclxuICAgICovXHJcbiAgICBzdGF0aWMgcGFyc2VfY3N2KGRhdGEsIGtleSkge1xyXG4gICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX3B1Ymxpc2ggPT09IGVfc3l5eF9zZGtfcHVibGlzaF90eXBlLmluKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlnYy5pZ2NfcmVzb3VyY2VzX3V0aWxzLnBhcnNlX2NzdihkYXRhLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbG9hZF9yZXNvdXJjZShmaWxlX3BhdGgsIGxvYWRfYmFjaywgc2VsZiA9IHVuZGVmaW5lZCwgZXJyb3JfYmFjaz8pIHtcclxuICAgICAgICBpZiAod2luZG93W1wiTGF5YVwiXSkge1xyXG4gICAgICAgICAgICB3aW5kb3dbXCJMYXlhXCJdLmxvYWRlci5sb2FkKGZpbGVfcGF0aCwgd2luZG93W1wiTGF5YVwiXS5IYW5kbGVyLmNyZWF0ZShzZWxmLCBkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZF9iYWNrICYmIGxvYWRfYmFjayhkYXRhKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaWdjLS0tLS1sb2FkX3Jlc291cmNlIGZhaWxcIiwgZmlsZV9wYXRoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5kb3dbXCJjY1wiXS5sb2FkZXIubG9hZFJlcyhmaWxlX3BhdGgsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJfZGF0YSA9IGRhdGFcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlX3BhdGguaW5kZXhPZihcImpzb25cIikgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJfZGF0YSA9IGRhdGEuanNvblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcl9iYWNrICYmIGVycm9yX2JhY2soKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkX2JhY2sgJiYgbG9hZF9iYWNrKGN1cl9kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJpZ2MtLS0tLWxvYWRfcmVzb3VyY2UgZmFpbFwiLCBmaWxlX3BhdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yX2JhY2sgJiYgZXJyb3JfYmFjaygpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxvYWRfcmVzb3VyY2VfdGV4dHVyZShwYXRoLCBzcHJpdGUpIHtcclxuICAgICAgICBpZiAod2luZG93W1wiY2NcIl0pIHtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMocGF0aCwgY2MuU3ByaXRlRnJhbWUsIGZ1bmN0aW9uIChlcnIsIHNwcml0ZUZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyID09IG51bGwgJiYgY2MuaXNWYWxpZChzcHJpdGUpICYmIGNjLmlzVmFsaWQoc3ByaXRlLm5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHBhdGggKyBcIiBpcyBub3QgZmluZFwiLCBlcnIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9veWbvueJh1xyXG4gICAgICogQHBhcmFtIGljb24g5Zu+54mH55uu5qCH6IqC54K5XHJcbiAgICAgKiBAcGFyYW0gaWNvbl91cmwg5Zu+54mH5Zyw5Z2AXHJcbiAgICAgKiBAcGFyYW0gY2FsbF9iYWNrIOWbnuiwgyAg55So5LqO5aSE55CG5Zu+54mH5Yqg6L295aSx6LSlIOaIluiAhSAg5oql6ZSZ562J54m55q6K5oOF5Ya1XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzZXRfdGV4dHVyZV91cmwoaWNvbiwgaWNvbl91cmwsIGNhbGxfYmFjaz8pIHtcclxuICAgICAgICAvLyBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUud2ViKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVyblxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBpZiAod2luZG93W1wiY2NcIl0pIHtcclxuICAgICAgICAgICAgbGV0IHVybCA9IGljb25fdXJsXHJcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLmlzX3RleHR1cmVfdXJsKGljb25fdXJsKSkge1xyXG4gICAgICAgICAgICAvLyAgICAgdXJsID0gaWNvbl91cmxcclxuICAgICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgIHVybCA9IGljb25fdXJsICsgXCIuanBnXCJcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgbGV0IHRleHR1cmVfdHlwZSA9ICdqcGcnXHJcblxyXG4gICAgICAgICAgICBpZiAoaWNvbl91cmwuaW5kZXhPZihcIi5wbmdcIikgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmVfdHlwZSA9ICdwbmcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8vY29jb3MyLjQuMOeJiOacrFxyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvd1tcImNjXCJdW1wiYXNzZXRNYW5hZ2VyXCJdICYmIHdpbmRvd1tcImNjXCJdW1wiYXNzZXRNYW5hZ2VyXCJdLmxvYWRSZW1vdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dbXCJjY1wiXVtcImFzc2V0TWFuYWdlclwiXS5sb2FkUmVtb3RlKHVybCwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwic2RrLS0tLS1sb2FkIHRleHR1cmUgZmFpbDExMTFcIiwgZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbF9iYWNrICYmIGNhbGxfYmFjaygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93W1wiY2NcIl0uaXNWYWxpZChpY29uKSAmJiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJhbWVzID0gbmV3IHdpbmRvd1tcImNjXCJdLlNwcml0ZUZyYW1lKGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uLnNwcml0ZUZyYW1lID0gZnJhbWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvY29zMi40LjDniYjmnKzku6XkuItcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dbXCJjY1wiXS5sb2FkZXIubG9hZCh7IHVybDogdXJsLCB0eXBlOiB0ZXh0dXJlX3R5cGUgfSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaWdjLS0tLS1sb2FkIHRleHR1cmUgZmFpbFwiLCBlcnIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsX2JhY2sgJiYgY2FsbF9iYWNrKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3dbXCJjY1wiXS5pc1ZhbGlkKGljb24pICYmIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmcmFtZXMgPSBuZXcgd2luZG93W1wiY2NcIl0uU3ByaXRlRnJhbWUoZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb24uc3ByaXRlRnJhbWUgPSBmcmFtZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxfYmFjayAmJiBjYWxsX2JhY2soKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmb3JtYXRfcmVtb3RlX3RleHR1cmVfdXJsKHVybCkge1xyXG4gICAgICAgIGlmICh1cmwpIHtcclxuICAgICAgICAgICAgbGV0IGpwZ19pbmRleCA9IHVybC5pbmRleE9mKFwiLmpwZ1wiKVxyXG4gICAgICAgICAgICBsZXQgcG5nX2luZGV4ID0gdXJsLmluZGV4T2YoXCIucG5nXCIpXHJcbiAgICAgICAgICAgIGlmIChqcGdfaW5kZXggIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1cmwuc3Vic3RyaW5nKDAsIGpwZ19pbmRleCArIDQpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG5nX2luZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXJsLnN1YnN0cmluZygwLCBwbmdfaW5kZXggKyA0KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVybFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1cmxcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNfdGV4dHVyZV91cmwoaWNvbl91cmwpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIuYm1wXCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIuanBnXCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIuanBlZ1wiKSAhPSAtMSB8fFxyXG4gICAgICAgICAgICBpY29uX3VybC5pbmRleE9mKFwiLmZsaWNcIikgIT0gLTEgfHxcclxuICAgICAgICAgICAgaWNvbl91cmwuaW5kZXhPZihcIi5lbWZcIikgIT0gLTEgfHxcclxuICAgICAgICAgICAgaWNvbl91cmwuaW5kZXhPZihcIi5pY29cIikgIT0gLTEgfHxcclxuICAgICAgICAgICAgaWNvbl91cmwuaW5kZXhPZihcIi5wbmdcIikgIT0gLTEgfHxcclxuICAgICAgICAgICAgaWNvbl91cmwuaW5kZXhPZihcIi50aWZcIikgIT0gLTEgfHxcclxuICAgICAgICAgICAgaWNvbl91cmwuaW5kZXhPZihcIi5naWZcIikgIT0gLTEgfHxcclxuICAgICAgICAgICAgaWNvbl91cmwuaW5kZXhPZihcIi5wY3hcIikgIT0gLTEgfHxcclxuICAgICAgICAgICAgaWNvbl91cmwuaW5kZXhPZihcIi50Z2FcIikgIT0gLTEgfHxcclxuICAgICAgICAgICAgaWNvbl91cmwuaW5kZXhPZihcIi5leGlmXCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIuZnB4XCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIuc3ZnXCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIucHNkXCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIuY2RyXCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIucGNkXCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIuZHhmXCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIudWZvXCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIuZXBzXCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIuYWlcIikgIT0gLTEgfHxcclxuICAgICAgICAgICAgaWNvbl91cmwuaW5kZXhPZihcIi5yYXdcIikgIT0gLTEgfHxcclxuICAgICAgICAgICAgaWNvbl91cmwuaW5kZXhPZihcIi5XTUZcIikgIT0gLTEgfHxcclxuICAgICAgICAgICAgaWNvbl91cmwuaW5kZXhPZihcIi53ZWJwXCIpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGljb25fdXJsLmluZGV4T2YoXCIuYXZpZlwiKSAhPSAtMVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaVsOaNruWvueavlOabv+aNou+8jGRhdGEy5q+UZGF0YTHpobnlpJpcclxuICAgICAqIEBwYXJhbSBkYXRhMVxyXG4gICAgICogQHBhcmFtIGRhdGEyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZXBsYWNlX2RhdGEoZGF0YTE6IE9iamVjdCwgZGF0YTI6IE9iamVjdCkge1xyXG4gICAgICAgIGlmICghZGF0YTEgJiYgIWRhdGEyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidGhlIG9iamVjdCBpcyB3cm9uZ1wiKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGlkeCBpbiBkYXRhMikge1xyXG4gICAgICAgICAgICBkYXRhMltpZHhdICYmIChkYXRhMVtpZHhdID0gZGF0YTJbaWR4XSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YTIpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNldF9pdGVtKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBsZXQgc3RyID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBzdHIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRfaXRlbShrZXkpIHtcclxuICAgICAgICBsZXQgaXRlbSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgaWYgKGl0ZW0gIT0gXCJcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShpdGVtKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDku47mlbDnu4TkuK3pmo/mnLrpgInmi6nkuIDkuKrlhYPntKBcclxuICAgICAqIEBwYXJhbSBhcnIgXHJcbiAgICAgKiBAcGFyYW0gZGVsZXRlX3RoaXMgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByYW5kb21fZ2V0KGFycjogYW55W10sIGRlbGV0ZV90aGlzID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgbGVuID0gYXJyLmxlbmd0aDtcclxuICAgICAgICBpZiAobGVuID09IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcInRyeSB0byBnZXQgYSBtZW1iZXIgZnJvbSBhbiBlbXB0eSBhcnJheVwiKTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHJhbmQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsZW4pO1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IGFycltyYW5kXTtcclxuICAgICAgICAgICAgZGVsZXRlX3RoaXMgJiYgYXJyLnNwbGljZShyYW5kLCAxKTtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIGNoZWNrX2lzX3NhbWVfZGF5KGxlZnRfdGltZSwgcmlnaHRfdGllbSkge1xyXG4gICAgICAgIGxldCBsZWZ0X2RhdGUgPSBuZXcgRGF0ZShsZWZ0X3RpbWUpXHJcbiAgICAgICAgbGV0IHJpZ2h0X2RhdGUgPSBuZXcgRGF0ZShyaWdodF90aWVtKVxyXG4gICAgICAgIGlmIChsZWZ0X2RhdGUuZ2V0RGF5KCkgIT0gcmlnaHRfZGF0ZS5nZXREYXkoKSB8fCBsZWZ0X2RhdGUuZ2V0TW9udGgoKSAhPSByaWdodF9kYXRlLmdldE1vbnRoKCkgfHwgbGVmdF9kYXRlLmdldEZ1bGxZZWFyKCkgIT0gcmlnaHRfZGF0ZS5nZXRGdWxsWWVhcigpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRfZGF0ZV90aW1lc3RhbXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog6I635Y+W6YeR5biB44CB6ZK755+z562J5pi+56S657uT5p6cXHJcbiAgICAqIEBwYXJhbSBudW0gXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGNoYW5nZVRvTWIoR29sZCwgZml4X251bSA9IDEpIHtcclxuICAgICAgICBpZiAoR29sZCA8IDEwMDAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBHb2xkICsgXCJcIlxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbXlHb2xkID0gcGFyc2VJbnQoR29sZClcclxuICAgICAgICBsZXQgZ29sZFN0ciA9IFwiXCJcclxuICAgICAgICBpZiAobXlHb2xkIDwgMTAwMCkge1xyXG4gICAgICAgICAgICBnb2xkU3RyID0gTWF0aC5mbG9vcihteUdvbGQpICsgXCJcIlxyXG4gICAgICAgIH0gZWxzZSBpZiAobXlHb2xkIDwgMTAwMDAwMCkge1xyXG4gICAgICAgICAgICBnb2xkU3RyID0gKG15R29sZCAvIDEwMDApLnRvRml4ZWQoZml4X251bSkgKyBcImtcIlxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChteUdvbGQgPCAxMDAwMDAwMDAwKSB7XHJcbiAgICAgICAgICAgIGdvbGRTdHIgPSAobXlHb2xkIC8gMTAwMDAwMCkudG9GaXhlZChmaXhfbnVtKSArIFwibVwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG15R29sZCA8IDEwMDAwMDAwMDAwMDApIHtcclxuICAgICAgICAgICAgZ29sZFN0ciA9IChteUdvbGQgLyAxMDAwMDAwMDAwKS50b0ZpeGVkKGZpeF9udW0pICsgXCJiXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGdvbGRTdHIgPSAobXlHb2xkIC8gMTAwMDAwMDAwMDAwMCkudG9GaXhlZChmaXhfbnVtKSArIFwidFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBnb2xkU3RyXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZvcm1hdFRpbWUodGltZSkge1xyXG4gICAgICAgIGlmICh0aW1lIDw9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiMDA6MDA6MDBcIlxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaCA9IE1hdGguZmxvb3IodGltZSAvIDM2MDApXHJcbiAgICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKHRpbWUgLyA2MCAlIDYwKVxyXG4gICAgICAgIHZhciBzID0gTWF0aC5mbG9vcih0aW1lICUgNjApXHJcbiAgICAgICAgdmFyIGhTdHIgPSBoICsgXCJcIlxyXG4gICAgICAgIHZhciBtU3RyID0gbSArIFwiXCJcclxuICAgICAgICB2YXIgc1N0ciA9IHMgKyBcIlwiXHJcbiAgICAgICAgaWYgKGggPCAxMCkge1xyXG4gICAgICAgICAgICBoU3RyID0gXCIwXCIgKyBoXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtIDwgMTApIHtcclxuICAgICAgICAgICAgbVN0ciA9IFwiMFwiICsgbVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocyA8IDEwKSB7XHJcbiAgICAgICAgICAgIHNTdHIgPSBcIjBcIiArIHNcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhTdHIgKyBcIjpcIiArIG1TdHIgKyBcIjpcIiArIHNTdHJcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZm9ybWF0VGltZV9tbXNzKHRpbWUpIHtcclxuICAgICAgICBpZiAodGltZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIjAwOjAwXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKHRpbWUgLyA2MCAlIDYwKVxyXG4gICAgICAgIHZhciBzID0gTWF0aC5mbG9vcih0aW1lICUgNjApXHJcbiAgICAgICAgdmFyIG1TdHIgPSBtICsgXCJcIlxyXG4gICAgICAgIHZhciBzU3RyID0gcyArIFwiXCJcclxuXHJcbiAgICAgICAgaWYgKG0gPCAxMCkge1xyXG4gICAgICAgICAgICBtU3RyID0gXCIwXCIgKyBtXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzIDwgMTApIHtcclxuICAgICAgICAgICAgc1N0ciA9IFwiMFwiICsgc1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbVN0ciArIFwiOlwiICsgc1N0clxyXG4gICAgfVxyXG5cclxuICAgIC8v572u54Gw5Zu+54mHXHJcbiAgICBzdGF0aWMgc2V0X2dyZXkobm9kZTogY2MuTm9kZSwgc3RhdGUpIHtcclxuICAgICAgICB2YXIgcyA9IG5vZGUuZ2V0Q29tcG9uZW50c0luQ2hpbGRyZW4oY2MuU3ByaXRlKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc1tpXS5zZXRTdGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRfcmFuZG9tX2ludChtaW4sIG1heCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5rSX54mM5Ye95pWw77yM5o2i5L2N572u77yM6ZqP5py65pKt5pS+XHJcbiAgICBzdGF0aWMgc2h1ZmZsZShhcnIpIHtcclxuICAgICAgICBsZXQgX2FyciA9IGFyci5zbGljZSgpXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBqID0gdGhpcy5nZXRfcmFuZG9tX2ludCgwLCBpKVxyXG4gICAgICAgICAgICBsZXQgdCA9IF9hcnJbaV1cclxuICAgICAgICAgICAgX2FycltpXSA9IF9hcnJbal1cclxuICAgICAgICAgICAgX2FycltqXSA9IHRcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF9hcnJcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogIOmihOWKoOi9veWOn+eUn+WbvueJh1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBwcmVsb2FkX25hdGl2ZV90ZXh0dXJlKHVybCkge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIGlmICh3aW5kb3dbXCJMYXlhXCJdKSB7XHJcbiAgICAgICAgICAgIHdpbmRvd1tcIkxheWFcIl0ubG9hZGVyLmxvYWQodXJsLCB3aW5kb3dbXCJMYXlhXCJdLkhhbmRsZXIuY3JlYXRlKHNlbGYsIGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaWdjLS0tLS0gcHJlbG9hZCBuYXRpdmVfdGV4dHVyZSBzdWNjZXNzLS0tLT4nLCB1cmwpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCB0ZXh0dXJlX3R5cGUgPSAnanBnJ1xyXG4gICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoXCIucG5nXCIpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlX3R5cGUgPSAncG5nJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vY29jb3MyLjQuMOeJiOacrFxyXG4gICAgICAgICAgICBpZiAod2luZG93W1wiY2NcIl1bXCJhc3NldE1hbmFnZXJcIl0gJiYgd2luZG93W1wiY2NcIl1bXCJhc3NldE1hbmFnZXJcIl0ubG9hZFJlbW90ZSkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93W1wiY2NcIl1bXCJhc3NldE1hbmFnZXJcIl0ubG9hZFJlbW90ZSh1cmwsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaWdjLS0tLS0gcHJlbG9hZCBuYXRpdmVfdGV4dHVyZSBzdWNjZXNzLS0tLT4nLCB1cmwpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vY29jb3MyLjQuMOeJiOacrOS7peS4i1xyXG4gICAgICAgICAgICAgICAgd2luZG93W1wiY2NcIl0ubG9hZGVyLmxvYWQoeyB1cmw6IHVybCwgdHlwZTogdGV4dHVyZV90eXBlIH0sIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaWdjLS0tLS0gcHJlbG9hZCBuYXRpdmVfdGV4dHVyZSBzdWNjZXNzLS0tLT4nLCB1cmwpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/syyx_ui/ctr_test/syyx_ui_ctr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b6e9bGJ80VHwLwRxvA5hYEQ', 'syyx_ui_ctr');
// syyx_sdk/syyx_ui/ctr_test/syyx_ui_ctr.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var syyx_ctr_manager_1 = require("../../controller/ctr_test/syyx_ctr_manager");
var syyx_sdk_api_1 = require("../../syyx_sdk_api");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var syyx_ui_ctr_item_1 = require("./syyx_ui_ctr_item");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var syyx_ui_ctr = /** @class */ (function (_super) {
    __extends(syyx_ui_ctr, _super);
    function syyx_ui_ctr() {
        var _this = _super.call(this) || this;
        _this.game_node = null;
        _this.icon_prefab = null;
        _this.icon_layout = null;
        _this.fly_ani_node = null;
        _this.tip_title1 = null;
        _this.tip_title2 = null;
        _this.icon_tips = null;
        _this.thanks_node = null;
        _this.btn_close = null;
        _this.call_back = undefined;
        _this.item_list = [];
        return _this;
    }
    syyx_ui_ctr.prototype.show = function (call_back) {
        if (this.node && !this.node.parent) {
            var order = syyx_sdk_utils_1.syyx_sdk_utils.get_largest_zorder(); // 32767
            this.node.parent = syyx_sdk_utils_1.syyx_sdk_utils.get_stage(); // return了这个 window["cc"].director.getScene()
            this.node.zIndex = order;
            this.call_back = call_back;
            this.on_show();
        }
    };
    syyx_ui_ctr.prototype.on_show = function () {
        var self = this;
        this.btn_close.on(cc.Node.EventType.TOUCH_END, this.on_click_close, this);
        //开场动画
        this.game_node.getComponent(cc.Animation).play("chuchang");
        this.tip_title1.active = true;
        this.tip_title2.active = false;
        this.icon_tips.active = true;
        this.thanks_node.active = false;
        this.fly_ani_node.active = false;
        this.btn_close.active = false;
        var time = syyx_sdk_api_1.syyx_sdk_api.get_business_data_by_key("ctr_test_close_button_delay")[0]; // 延迟时间 1
        setTimeout(function () {
            self.btn_close.active = true;
        }, time * 1000);
        var dataList = [{
                gc_id: 10894,
                icon: "https://res.g.llewan.com/storage/common/material/20220316/b56b61168aab00e085119a948dd647f7.png",
                iconid: 7157,
                label_switch: 1,
                package: "com.lwhd.wyxjc.nearme.gamecenter"
            }, {
                gc_id: 10894,
                icon: "https://res.g.llewan.com/storage/common/material/20220316/b56b61168aab00e085119a948dd647f7.png",
                iconid: 7157,
                label_switch: 1,
                package: "com.lwhd.wyxjc.nearme.gamecenter"
            }, {
                gc_id: 10894,
                icon: "https://res.g.llewan.com/storage/common/material/20220316/b56b61168aab00e085119a948dd647f7.png",
                iconid: 7157,
                label_switch: 1,
                package: "com.lwhd.wyxjc.nearme.gamecenter"
            }, {
                gc_id: 10894,
                icon: "https://res.g.llewan.com/storage/common/material/20220316/b56b61168aab00e085119a948dd647f7.png",
                iconid: 7157,
                label_switch: 1,
                package: "com.lwhd.wyxjc.nearme.gamecenter"
            }, {
                gc_id: 10894,
                icon: "https://res.g.llewan.com/storage/common/material/20220316/b56b61168aab00e085119a948dd647f7.png",
                iconid: 7157,
                label_switch: 1,
                package: "com.lwhd.wyxjc.nearme.gamecenter"
            }, {
                gc_id: 10894,
                icon: "https://res.g.llewan.com/storage/common/material/20220316/b56b61168aab00e085119a948dd647f7.png",
                iconid: 7157,
                label_switch: 1,
                package: "com.lwhd.wyxjc.nearme.gamecenter"
            }, {
                gc_id: 10894,
                icon: "https://res.g.llewan.com/storage/common/material/20220316/b56b61168aab00e085119a948dd647f7.png",
                iconid: 7157,
                label_switch: 1,
                package: "com.lwhd.wyxjc.nearme.gamecenter"
            }, {
                gc_id: 10894,
                icon: "https://res.g.llewan.com/storage/common/material/20220316/b56b61168aab00e085119a948dd647f7.png",
                iconid: 7157,
                label_switch: 1,
                package: "com.lwhd.wyxjc.nearme.gamecenter"
            }, {
                gc_id: 10894,
                icon: "https://res.g.llewan.com/storage/common/material/20220316/b56b61168aab00e085119a948dd647f7.png",
                iconid: 7157,
                label_switch: 1,
                package: "com.lwhd.wyxjc.nearme.gamecenter"
            }, {
                gc_id: 10894,
                icon: "https://res.g.llewan.com/storage/common/material/20220316/b56b61168aab00e085119a948dd647f7.png",
                iconid: 7157,
                label_switch: 1,
                package: "com.lwhd.wyxjc.nearme.gamecenter"
            }];
        var ctr_test_data = syyx_ctr_manager_1.syyx_ctr_manager.get_ctr_data().list.slice(0, 6); // 用里面的list 
        // let ctr_test_data = dataList.slice(0, 6)
        if (ctr_test_data) {
            ctr_test_data.forEach(function (item, index) {
                item.name = "\u7B2C" + (index + 1) + "\u6B3E";
            });
            // let cur_list = syyx_sdk_utils.shuffle(ctr_test_data) // 洗牌函数，随机位置
            // this.refresh(cur_list)
            this.refresh(ctr_test_data);
        }
    };
    syyx_ui_ctr.prototype.refresh = function (apps) {
        this.icon_layout.removeAllChildren();
        if (apps && apps.length > 0) {
            var content = this.icon_layout;
            for (var i = 0; i < apps.length; i++) {
                var prefab_item = void 0;
                if (!this.item_list[i]) {
                    prefab_item = cc.instantiate(this.icon_prefab);
                    this.item_list.push(prefab_item);
                }
                else {
                    prefab_item = this.item_list[i];
                }
                content.addChild(prefab_item);
                prefab_item.getComponent(syyx_ui_ctr_item_1.default).refresh(i, apps[i], this.click_game_item.bind(this));
            }
        }
    };
    syyx_ui_ctr.prototype.click_game_item = function () {
        var self = this;
        if (syyx_ctr_manager_1.syyx_ctr_manager.check_is_ctr_test_compelete()) { // 第二次为true，就不需要了
            return;
        }
        var reward_num = syyx_ctr_manager_1.syyx_ctr_manager.get_new_products_reward(); // 100
        if (reward_num != 0) { // 有奖励时
            // this.fly_ani_node.active = true
            this.fly_ani_node.active = false;
            this.fly_ani_node.getComponent(cc.Animation).play("feichuanshi"); // 飘金币的动画
            setTimeout(function () {
                self.tip_title2.active = true;
                self.icon_tips.active = false;
                self.thanks_node.active = true;
                self.thanks_node.getComponent(cc.Animation).play("zi");
                setTimeout(function () {
                    // self.hide()
                }, 1500);
            }, 1000);
        }
        else { // 没奖励时
            self.fly_ani_node.active = false;
            self.tip_title2.active = true;
            self.icon_tips.active = false;
            self.thanks_node.active = true;
            self.thanks_node.getComponent(cc.Animation).play("zi");
            setTimeout(function () {
                // self.hide()
            }, 1500);
        }
        this.call_back && this.call_back(syyx_ctr_manager_1.syyx_ctr_manager.get_new_products_reward()); // 100
        syyx_ctr_manager_1.syyx_ctr_manager.set_ctr_test_compelete(); // 变为true
    };
    syyx_ui_ctr.prototype.on_click_close = function () {
        this.hide();
    };
    syyx_ui_ctr.prototype.set_default_pos = function (style) {
    };
    syyx_ui_ctr.prototype.set_style_pos = function (x, y) {
    };
    syyx_ui_ctr.prototype.hide = function () {
        if (this.node && this.node.parent) {
            this.node.parent.removeChild(this.node);
            this.on_hide();
        }
    };
    syyx_ui_ctr.prototype.on_hide = function () {
        this.btn_close.off(cc.Node.EventType.TOUCH_END, this.on_click_close, this);
    };
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr.prototype, "game_node", void 0);
    __decorate([
        property(cc.Prefab)
    ], syyx_ui_ctr.prototype, "icon_prefab", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr.prototype, "icon_layout", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr.prototype, "fly_ani_node", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr.prototype, "tip_title1", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr.prototype, "tip_title2", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr.prototype, "icon_tips", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr.prototype, "thanks_node", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr.prototype, "btn_close", void 0);
    syyx_ui_ctr = __decorate([
        ccclass
    ], syyx_ui_ctr);
    return syyx_ui_ctr;
}(cc.Component));
exports.default = syyx_ui_ctr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXHN5eXhfdWlcXGN0cl90ZXN0XFxzeXl4X3VpX2N0ci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrRUFBOEU7QUFDOUUsbURBQWtEO0FBQ2xELDZEQUE0RDtBQUM1RCx1REFBa0Q7QUFHNUMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBeUMsK0JBQVk7SUFpQ2pEO1FBQUEsWUFDSSxpQkFBTyxTQUNWO1FBaENELGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsaUJBQVcsR0FBYyxJQUFJLENBQUM7UUFHOUIsaUJBQVcsR0FBWSxJQUFJLENBQUM7UUFHNUIsa0JBQVksR0FBWSxJQUFJLENBQUM7UUFHN0IsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFHM0IsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFHM0IsZUFBUyxHQUFZLElBQUksQ0FBQztRQUcxQixpQkFBVyxHQUFZLElBQUksQ0FBQztRQUc1QixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLGVBQVMsR0FBRyxTQUFTLENBQUE7UUFFckIsZUFBUyxHQUFHLEVBQUUsQ0FBQTs7SUFJZCxDQUFDO0lBRUQsMEJBQUksR0FBSixVQUFLLFNBQVU7UUFDWCxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNoQyxJQUFJLEtBQUssR0FBRywrQkFBYyxDQUFDLGtCQUFrQixFQUFFLENBQUEsQ0FBQyxRQUFRO1lBQ3hELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLCtCQUFjLENBQUMsU0FBUyxFQUFFLENBQUEsQ0FBQyw2Q0FBNkM7WUFDM0YsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFBO1lBQ3hCLElBQUksQ0FBQyxTQUFTLEdB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Q0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDdkMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ2xCO0lBQ0wsQ0FBQztJQUVELDZCQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQTtJQUM5RSxDQUFDO0lBMU5EO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7a0RBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztvREFDVTtJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO29EQUNVO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7cURBQ1c7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzttREFDUztJQUczQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO21EQUNTO0lBRzNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7a0RBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztvREFDVTtJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tEQUNRO0lBM0JULFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0E4Ti9CO0lBQUQsa0JBQUM7Q0E5TkQsQUE4TkMsQ0E5TndDLEVBQUUsQ0FBQyxTQUFTLEdBOE5wRDtrQkE5Tm9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzeXl4X2N0cl9tYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXIvY3RyX3Rlc3Qvc3l5eF9jdHJfbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBzeXl4X3Nka19hcGkgfSBmcm9tIFwiLi4vLi4vc3l5eF9zZGtfYXBpXCI7XHJcbmltcG9ydCB7IHN5eXhfc2RrX3V0aWxzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3N5eXhfc2RrX3V0aWxzXCI7XHJcbmltcG9ydCBzeXl4X3VpX2N0cl9pdGVtIGZyb20gXCIuL3N5eXhfdWlfY3RyX2l0ZW1cIjtcclxuXHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc3l5eF91aV9jdHIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ2FtZV9ub2RlOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgaWNvbl9wcmVmYWI6IGNjLlByZWZhYiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBpY29uX2xheW91dDogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBmbHlfYW5pX25vZGU6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdGlwX3RpdGxlMTogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB0aXBfdGl0bGUyOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGljb25fdGlwczogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB0aGFua3Nfbm9kZTogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIGNhbGxfYmFjayA9IHVuZGVmaW5lZFxyXG5cclxuICAgIGl0ZW1fbGlzdCA9IFtdXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIHNob3coY2FsbF9iYWNrPykge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUgJiYgIXRoaXMubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgbGV0IG9yZGVyID0gc3l5eF9zZGtfdXRpbHMuZ2V0X2xhcmdlc3Rfem9yZGVyKCkgLy8gMzI3NjdcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnBhcmVudCA9IHN5eXhfc2RrX3V0aWxzLmdldF9zdGFnZSgpIC8vIHJldHVybuS6hui/meS4qiB3aW5kb3dbXCJjY1wiXS5kaXJlY3Rvci5nZXRTY2VuZSgpXHJcbiAgICAgICAgICAgIHRoaXMubm9kZS56SW5kZXggPSBvcmRlclxyXG4gICAgICAgICAgICB0aGlzLmNhbGxfYmFjayA9IGNhbGxfYmFja1xyXG4gICAgICAgICAgICB0aGlzLm9uX3Nob3coKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbl9zaG93KCkge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIHRoaXMuYnRuX2Nsb3NlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGlja19jbG9zZSwgdGhpcylcclxuXHJcbiAgICAgICAgLy/lvIDlnLrliqjnlLtcclxuICAgICAgICB0aGlzLmdhbWVfbm9kZS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5wbGF5KFwiY2h1Y2hhbmdcIilcclxuICAgICAgICB0aGlzLnRpcF90aXRsZTEuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgIHRoaXMudGlwX3RpdGxlMi5hY3RpdmUgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMuaWNvbl90aXBzLmFjdGl2ZSA9IHRydWVcclxuICAgICAgICB0aGlzLnRoYW5rc19ub2RlLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgdGhpcy5mbHlfYW5pX25vZGUuYWN0aXZlID0gZmFsc2VcclxuXHJcbiAgICAgICAgdGhpcy5idG5fY2xvc2UuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICBsZXQgdGltZSA9IHN5eXhfc2RrX2FwaS5nZXRfYnVzaW5lc3NfZGF0YV9ieV9rZXkoXCJjdHJfdGVzdF9jbG9zZV9idXR0b25fZGVsYXlcIilbMF0gLy8g5bu26L+f5pe26Ze0IDFcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgc2VsZi5idG5fY2xvc2UuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgIH0sIHRpbWUgKiAxMDAwKTtcclxuXHJcbiAgICAgICAgbGV0IGRhdGFMaXN0ID0gW3sgLy8g5rWL6K+V5paw5ZOB5bCd6bKc5pWw5o2uXHJcbiAgICAgICAgICAgIGdjX2lkOiAxMDg5NCxcclxuICAgICAgICAgICAgaWNvbjogXCJodHRwczovL3Jlcy5nLmxsZXdhbi5jb20vc3RvcmFnZS9jb21tb24vbWF0ZXJpYWwvMjAyMjAzMTYvYjU2YjYxMTY4YWFiMDBlMDg1MTE5YTk0OGRkNjQ3ZjcucG5nXCIsXHJcbiAgICAgICAgICAgIGljb25pZDogNzE1NyxcclxuICAgICAgICAgICAgbGFiZWxfc3dpdGNoOiAxLFxyXG4gICAgICAgICAgICBwYWNrYWdlOiBcImNvbS5sd2hkLnd5eGpjLm5lYXJtZS5nYW1lY2VudGVyXCJcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGdjX2lkOiAxMDg5NCxcclxuICAgICAgICAgICAgaWNvbjogXCJodHRwczovL3Jlcy5nLmxsZXdhbi5jb20vc3RvcmFnZS9jb21tb24vbWF0ZXJpYWwvMjAyMjAzMTYvYjU2YjYxMTY4YWFiMDBlMDg1MTE5YTk0OGRkNjQ3ZjcucG5nXCIsXHJcbiAgICAgICAgICAgIGljb25pZDogNzE1NyxcclxuICAgICAgICAgICAgbGFiZWxfc3dpdGNoOiAxLFxyXG4gICAgICAgICAgICBwYWNrYWdlOiBcImNvbS5sd2hkLnd5eGpjLm5lYXJtZS5nYW1lY2VudGVyXCJcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGdjX2lkOiAxMDg5NCxcclxuICAgICAgICAgICAgaWNvbjogXCJodHRwczovL3Jlcy5nLmxsZXdhbi5jb20vc3RvcmFnZS9jb21tb24vbWF0ZXJpYWwvMjAyMjAzMTYvYjU2YjYxMTY4YWFiMDBlMDg1MTE5YTk0OGRkNjQ3ZjcucG5nXCIsXHJcbiAgICAgICAgICAgIGljb25pZDogNzE1NyxcclxuICAgICAgICAgICAgbGFiZWxfc3dpdGNoOiAxLFxyXG4gICAgICAgICAgICBwYWNrYWdlOiBcImNvbS5sd2hkLnd5eGpjLm5lYXJtZS5nYW1lY2VudGVyXCJcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGdjX2lkOiAxMDg5NCxcclxuICAgICAgICAgICAgaWNvbjogXCJodHRwczovL3Jlcy5nLmxsZXdhbi5jb20vc3RvcmFnZS9jb21tb24vbWF0ZXJpYWwvMjAyMjAzMTYvYjU2YjYxMTY4YWFiMDBlMDg1MTE5YTk0OGRkNjQ3ZjcucG5nXCIsXHJcbiAgICAgICAgICAgIGljb25pZDogNzE1NyxcclxuICAgICAgICAgICAgbGFiZWxfc3dpdGNoOiAxLFxyXG4gICAgICAgICAgICBwYWNrYWdlOiBcImNvbS5sd2hkLnd5eGpjLm5lYXJtZS5nYW1lY2VudGVyXCJcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGdjX2lkOiAxMDg5NCxcclxuICAgICAgICAgICAgaWNvbjogXCJodHRwczovL3Jlcy5nLmxsZXdhbi5jb20vc3RvcmFnZS9jb21tb24vbWF0ZXJpYWwvMjAyMjAzMTYvYjU2YjYxMTY4YWFiMDBlMDg1MTE5YTk0OGRkNjQ3ZjcucG5nXCIsXHJcbiAgICAgICAgICAgIGljb25pZDogNzE1NyxcclxuICAgICAgICAgICAgbGFiZWxfc3dpdGNoOiAxLFxyXG4gICAgICAgICAgICBwYWNrYWdlOiBcImNvbS5sd2hkLnd5eGpjLm5lYXJtZS5nYW1lY2VudGVyXCJcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGdjX2lkOiAxMDg5NCxcclxuICAgICAgICAgICAgaWNvbjogXCJodHRwczovL3Jlcy5nLmxsZXdhbi5jb20vc3RvcmFnZS9jb21tb24vbWF0ZXJpYWwvMjAyMjAzMTYvYjU2YjYxMTY4YWFiMDBlMDg1MTE5YTk0OGRkNjQ3ZjcucG5nXCIsXHJcbiAgICAgICAgICAgIGljb25pZDogNzE1NyxcclxuICAgICAgICAgICAgbGFiZWxfc3dpdGNoOiAxLFxyXG4gICAgICAgICAgICBwYWNrYWdlOiBcImNvbS5sd2hkLnd5eGpjLm5lYXJtZS5nYW1lY2VudGVyXCJcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGdjX2lkOiAxMDg5NCxcclxuICAgICAgICAgICAgaWNvbjogXCJodHRwczovL3Jlcy5nLmxsZXdhbi5jb20vc3RvcmFnZS9jb21tb24vbWF0ZXJpYWwvMjAyMjAzMTYvYjU2YjYxMTY4YWFiMDBlMDg1MTE5YTk0OGRkNjQ3ZjcucG5nXCIsXHJcbiAgICAgICAgICAgIGljb25pZDogNzE1NyxcclxuICAgICAgICAgICAgbGFiZWxfc3dpdGNoOiAxLFxyXG4gICAgICAgICAgICBwYWNrYWdlOiBcImNvbS5sd2hkLnd5eGpjLm5lYXJtZS5nYW1lY2VudGVyXCJcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGdjX2lkOiAxMDg5NCxcclxuICAgICAgICAgICAgaWNvbjogXCJodHRwczovL3Jlcy5nLmxsZXdhbi5jb20vc3RvcmFnZS9jb21tb24vbWF0ZXJpYWwvMjAyMjAzMTYvYjU2YjYxMTY4YWFiMDBlMDg1MTE5YTk0OGRkNjQ3ZjcucG5nXCIsXHJcbiAgICAgICAgICAgIGljb25pZDogNzE1NyxcclxuICAgICAgICAgICAgbGFiZWxfc3dpdGNoOiAxLFxyXG4gICAgICAgICAgICBwYWNrYWdlOiBcImNvbS5sd2hkLnd5eGpjLm5lYXJtZS5nYW1lY2VudGVyXCJcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGdjX2lkOiAxMDg5NCxcclxuICAgICAgICAgICAgaWNvbjogXCJodHRwczovL3Jlcy5nLmxsZXdhbi5jb20vc3RvcmFnZS9jb21tb24vbWF0ZXJpYWwvMjAyMjAzMTYvYjU2YjYxMTY4YWFiMDBlMDg1MTE5YTk0OGRkNjQ3ZjcucG5nXCIsXHJcbiAgICAgICAgICAgIGljb25pZDogNzE1NyxcclxuICAgICAgICAgICAgbGFiZWxfc3dpdGNoOiAxLFxyXG4gICAgICAgICAgICBwYWNrYWdlOiBcImNvbS5sd2hkLnd5eGpjLm5lYXJtZS5nYW1lY2VudGVyXCJcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGdjX2lkOiAxMDg5NCxcclxuICAgICAgICAgICAgaWNvbjogXCJodHRwczovL3Jlcy5nLmxsZXdhbi5jb20vc3RvcmFnZS9jb21tb24vbWF0ZXJpYWwvMjAyMjAzMTYvYjU2YjYxMTY4YWFiMDBlMDg1MTE5YTk0OGRkNjQ3ZjcucG5nXCIsXHJcbiAgICAgICAgICAgIGljb25pZDogNzE1NyxcclxuICAgICAgICAgICAgbGFiZWxfc3dpdGNoOiAxLFxyXG4gICAgICAgICAgICBwYWNrYWdlOiBcImNvbS5sd2hkLnd5eGpjLm5lYXJtZS5nYW1lY2VudGVyXCJcclxuICAgICAgICB9XVxyXG5cclxuICAgICAgICBsZXQgY3RyX3Rlc3RfZGF0YSA9IHN5eXhfY3RyX21hbmFnZXIuZ2V0X2N0cl9kYXRhKCkubGlzdC5zbGljZSgwLCA2KSAvLyDnlKjph4zpnaLnmoRsaXN0IFxyXG4gICAgICAgIC8vIGxldCBjdHJfdGVzdF9kYXRhID0gZGF0YUxpc3Quc2xpY2UoMCwgNilcclxuXHJcbiAgICAgICAgaWYgKGN0cl90ZXN0X2RhdGEpIHtcclxuXHJcbiAgICAgICAgICAgIGN0cl90ZXN0X2RhdGEuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ubmFtZSA9IGDnrKwke2luZGV4KzF95qy+YFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGxldCBjdXJfbGlzdCA9IHN5eXhfc2RrX3V0aWxzLnNodWZmbGUoY3RyX3Rlc3RfZGF0YSkgLy8g5rSX54mM5Ye95pWw77yM6ZqP5py65L2N572uXHJcbiAgICAgICAgICAgIC8vIHRoaXMucmVmcmVzaChjdXJfbGlzdClcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKGN0cl90ZXN0X2RhdGEpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoKGFwcHMpIHtcclxuICAgICAgICB0aGlzLmljb25fbGF5b3V0LnJlbW92ZUFsbENoaWxkcmVuKCk7XHJcbiAgICAgICAgaWYgKGFwcHMgJiYgYXBwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5pY29uX2xheW91dFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFwcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcmVmYWJfaXRlbSA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pdGVtX2xpc3RbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVmYWJfaXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuaWNvbl9wcmVmYWIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbV9saXN0LnB1c2gocHJlZmFiX2l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVmYWJfaXRlbSA9IHRoaXMuaXRlbV9saXN0W2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGVudC5hZGRDaGlsZChwcmVmYWJfaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBwcmVmYWJfaXRlbS5nZXRDb21wb25lbnQoc3l5eF91aV9jdHJfaXRlbSkucmVmcmVzaChpLCBhcHBzW2ldLCB0aGlzLmNsaWNrX2dhbWVfaXRlbS5iaW5kKHRoaXMpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrX2dhbWVfaXRlbSgpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuICAgICAgICBpZiAoc3l5eF9jdHJfbWFuYWdlci5jaGVja19pc19jdHJfdGVzdF9jb21wZWxldGUoKSkgeyAvLyDnrKzkuozmrKHkuLp0cnVl77yM5bCx5LiN6ZyA6KaB5LqGXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJld2FyZF9udW0gPSBzeXl4X2N0cl9tYW5hZ2VyLmdldF9uZXdfcHJvZHVjdHNfcmV3YXJkKCkgLy8gMTAwXHJcbiAgICAgICAgaWYgKHJld2FyZF9udW0gIT0gMCkgeyAvLyDmnInlpZblirHml7ZcclxuICAgICAgICAgICAgLy8gdGhpcy5mbHlfYW5pX25vZGUuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICB0aGlzLmZseV9hbmlfbm9kZS5hY3RpdmUgPSBmYWxzZVxyXG4gICAgICAgICAgICB0aGlzLmZseV9hbmlfbm9kZS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5wbGF5KFwiZmVpY2h1YW5zaGlcIikgLy8g6aOY6YeR5biB55qE5Yqo55S7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHNlbGYudGlwX3RpdGxlMi5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICBzZWxmLmljb25fdGlwcy5hY3RpdmUgPSBmYWxzZVxyXG5cclxuICAgICAgICAgICAgICAgIHNlbGYudGhhbmtzX25vZGUuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgc2VsZi50aGFua3Nfbm9kZS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5wbGF5KFwiemlcIilcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGYuaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9LCAxNTAwKVxyXG4gICAgICAgICAgICB9LCAxMDAwKVxyXG4gICAgICAgIH0gZWxzZSB7Ly8g5rKh5aWW5Yqx5pe2XHJcbiAgICAgICAgICAgIHNlbGYuZmx5X2FuaV9ub2RlLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgICAgIHNlbGYudGlwX3RpdGxlMi5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgICAgIHNlbGYuaWNvbl90aXBzLmFjdGl2ZSA9IGZhbHNlXHJcblxyXG4gICAgICAgICAgICBzZWxmLnRoYW5rc19ub2RlLmFjdGl2ZSA9IHRydWVcclxuICAgICAgICAgICAgc2VsZi50aGFua3Nfbm9kZS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5wbGF5KFwiemlcIilcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzZWxmLmhpZGUoKVxyXG4gICAgICAgICAgICB9LCAxNTAwKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jYWxsX2JhY2sgJiYgdGhpcy5jYWxsX2JhY2soc3l5eF9jdHJfbWFuYWdlci5nZXRfbmV3X3Byb2R1Y3RzX3Jld2FyZCgpKSAvLyAxMDBcclxuICAgICAgICBzeXl4X2N0cl9tYW5hZ2VyLnNldF9jdHJfdGVzdF9jb21wZWxldGUoKSAvLyDlj5jkuLp0cnVlXHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uX2NsaWNrX2Nsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuaGlkZSgpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2RlZmF1bHRfcG9zKHN0eWxlKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldF9zdHlsZV9wb3MoeCwgeSkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUgJiYgdGhpcy5ub2RlLnBhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMubm9kZSlcclxuICAgICAgICAgICAgdGhpcy5vbl9oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uX2hpZGUoKSB7XHJcbiAgICAgICAgdGhpcy5idG5fY2xvc2Uub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGlja19jbG9zZSwgdGhpcylcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/GameManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '78b34W9Q5dInarRdIRvyQXm', 'GameManager');
// scripts/game/GameManager.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var audioManager_1 = require("../main/audioManager");
var ad_1 = require("../sdk/ad");
var data_1 = require("../sdk/data");
var coinDrop_1 = require("./coinDrop");
var damageTipPool_1 = require("./damageTipPool");
var Events_1 = require("./Events");
var uiManager_1 = require("./ui/uiManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MapName;
(function (MapName) {
    MapName[MapName["Map1_bambooForest1"] = 0] = "Map1_bambooForest1";
    MapName[MapName["Map2_bambooForest2"] = 1] = "Map2_bambooForest2";
    MapName[MapName["Map3_OldVillage1"] = 2] = "Map3_OldVillage1";
    MapName[MapName["Map4_OldVillage2"] = 3] = "Map4_OldVillage2";
    MapName[MapName["Map5_OldState1"] = 4] = "Map5_OldState1";
    MapName[MapName["Map6_OldState2"] = 5] = "Map6_OldState2";
})(MapName || (MapName = {}));
var GameManager = /** @class */ (function (_super) {
    __extends(GameManager, _super);
    function GameManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.map = null;
        _this.player = null;
        _this.playerController = null;
        _this.playerSpawnM = null;
        _this.enemySpawnM = null;
        _this.needKillEnemyAmount = 0;
        _this.killEnemyAmoun = 0;
        _this.dropCoins = [];
        return _this;
    }
    GameManager_1 = GameManager;
    GameManager.prototype.onLoad = function () {
        GameManager_1.instance = this;
        damageTipPool_1.default.instance.init();
        caijiTools_1.caijiTools.openPhysicsSystem(0, false);
    };
    GameManager.prototype.onDisable = function () {
        audioManager_1.default.pauseBgGame();
    };
    GameManager.prototype.start = function () {
        ad_1.ad.record();
        audioManager_1.default.playBgGame();
        this.init();
    };
    GameManager.prototype.init = function () {
        var level = Number(data_1.data.getCache("Base", "choseLevel"));
        var mapIndex = Number(data_1.data.gameJson("levelData", level.toString(), "map"));
        this.loadMap(MapName[mapIndex]);
        Events_1.default.instance.init();
    };
    //计数（击杀怪物）
    GameManager.prototype.killEnemyCount = function () {
        this.killEnemyAmoun++;
        console.log("怪物技术", this.killEnemyAmoun, this.needKillEnemyAmount);
        if (this.killEnemyAmoun == this.needKillEnemyAmount) {
            uiManager_1.default.ins.win();
        }
    };
    GameManager.prototype.pickUpCoin = function () {
        for (var _i = 0, _a = this.dropCoins; _i < _a.length; _i++) {
            var coin = _a[_i];
            coin.getComponent(coinDrop_1.default).startMoveToPlayer();
        }
        this.dropCoins = [];
    };
    GameManager.prototype.loadMap = function (mapName) {
        return __awaiter(this, void 0, void 0, function () {
            var pre;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/maps/" + mapName)];
                    case 1:
                        pre = _a.sent();
                        this.map = caijiTools_1.caijiTools.createNode(pre, this.node.parent);
                        this.map.setSiblingIndex(this.node.getSiblingIndex());
                        uiManager_1.default.ins.loadingEnd();
                        return [2 /*return*/];
                }
            });
        });
    };
    GameManager.prototype.spawnPlayer = function () {
        this.playerSpawnM.spawnPlayer();
    };
    GameManager.prototype.createSpawnEnemy = function (enemyName, parent, position) {
        Events_1.default.instance.createSpawnEnemyEffect(enemyName, parent, position);
    };
    GameManager.prototype.spawnEnemy = function (enemyName, parent, position) {
        Events_1.default.instance.spawnEnemy(enemyName, parent, position);
    };
    GameManager.prototype.levelCompletEvent = function () {
        //解锁当前关下一难度
        var level = Number(data_1.data.getCache("Base", "choseLevel"));
        var difficulty = Number(data_1.data.getCache("levelStar", (level).toString())) + 1;
        difficulty = difficulty > 3 ? 3 : difficulty;
        data_1.data.updateCache("levelStar", level.toString(), difficulty);
        //解锁下一关
        if (level == 100)
            return;
        data_1.data.updateCache("levelUnlock", level.toString(), 1);
    };
    var GameManager_1;
    GameManager.instance = null;
    GameManager = GameManager_1 = __decorate([
        ccclass
    ], GameManager);
    return GameManager;
}(cc.Component));
exports.default = GameManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcR2FtZU1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJbEYsNENBQTJDO0FBQzNDLHFEQUFnRDtBQUNoRCxnQ0FBK0I7QUFDL0Isb0NBQW1DO0FBQ25DLHVDQUFrQztBQUNsQyxpREFBNEM7QUFFNUMsbUNBQThCO0FBRzlCLDRDQUF1QztBQUVqQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUMxQyxJQUFLLE9BT0o7QUFQRCxXQUFLLE9BQU87SUFDUixpRUFBa0IsQ0FBQTtJQUNsQixpRUFBa0IsQ0FBQTtJQUNsQiw2REFBZ0IsQ0FBQTtJQUNoQiw2REFBZ0IsQ0FBQTtJQUNoQix5REFBYyxDQUFBO0lBQ2QseURBQWMsQ0FBQTtBQUNsQixDQUFDLEVBUEksT0FBTyxLQUFQLE9BQU8sUUFPWDtBQUVEO0lBQXlDLCtCQUFZO0lBQXJEO1FBQUEscUVBc0VDO1FBcEVHLFNBQUcsR0FBUyxJQUFJLENBQUM7UUFDakIsWUFBTSxHQUFTLElBQUksQ0FBQztRQUNwQixzQkFBZ0IsR0FBa0IsSUFBSSxDQUFDO1FBQ3ZDLGtCQUFZLEdBQWEsSUFBSSxDQUFDO1FBQzlCLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBQzVCLHlCQUFtQixHQUFRLENBQUMsQ0FBQztRQUM3QixvQkFBYyxHQUFRLENBQUMsQ0FBQztRQUN4QixlQUFTLEdBQVcsRUFBRSxDQUFDOztJQTZEM0IsQ0FBQztvQkF0RW9CLFdBQVc7SUFXNUIsNEJBQU0sR0FBTjtRQUNJLGFBQVcsQ0FBQyxRQUFRLEdBQUMsSUFBSSxDQUFDO1FBQzFCLHVCQUFhLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQzlCLHVCQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCwrQkFBUyxHQUFUO1FBQ0ksc0JBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBQ0QsMkJBQUssR0FBTDtRQUNJLE9BQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNaLHNCQUFZLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFDRCwwQkFBSSxHQUFKO1FBQ0ksSUFBSSxLQUFLLEdBQUMsTUFBTSxDQUFDLFdBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDckQsSUFBSSxRQUFRLEdBQUMsTUFBTSxDQUFDLFdBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsRUFBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDaEMsZ0JBQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUNELFVBQVU7SUFDVixvQ0FBYyxHQUFkO1FBQ0ksSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3RCLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLElBQUksQ0FBQyxjQUFjLEVBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUE7UUFDaEUsSUFBRyxJQUFJLENBQUMsY0FBYyxJQUFFLElBQUksQ0FBQyxtQkFBbUIsRUFBQztZQUM3QyxtQkFBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztTQUN2QjtJQUNMLENBQUM7SUFDRCxnQ0FBVSxHQUFWO1FBQ0ksS0FBZ0IsVUFBYyxFQUFkLEtBQUEsSUFBSSxDQUFDLFNBQVMsRUFBZCxjQUFjLEVBQWQsSUFBYyxFQUFDO1lBQTNCLElBQUksSUFBSSxTQUFBO1lBQ1IsSUFBSSxDQUFDLFlBQVksQ0FBQyxrQkFBUSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztTQUNuRDtRQUNELElBQUksQ0FBQyxTQUFTLEdBQUMsRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFDSyw2QkFBTyxHQUFiLFVBQWMsT0FBYzs7Ozs7NEJBQ2hCLHFCQUFNLHVCQUFVLENBQUMsVUFBVSxDQUFDLGVBQWUsR0FBQyxPQUFPLENBQUMsRUFBQTs7d0JBQXhELEdBQUcsR0FBQyxTQUFvRDt3QkFDNUQsSUFBSSxDQUFDLEdBQUcsR0FBQyx1QkFBVSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDckQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDO3dCQUN0RCxtQkFBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsQ0FBQzs7Ozs7S0FDOUI7SUFDRCxpQ0FBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0lBQ0Qsc0NBQWdCLEdBQWhCLFVBQWlCLFNBQWdCLEVBQUMsTUFBYyxFQUFDLFFBQWdCO1FBQzdELGdCQUFNLENBQUMsUUFBUSxDQUFDLHNCQUFzQixDQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUMsUUFBUSxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUNELGdDQUFVLEdBQVYsVUFBVyxTQUFnQixFQUFDLE1BQWMsRUFBQyxRQUFnQjtRQUN2RCxnQkFBTSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxRQUFRLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBQ0QsdUNBQWlCLEdBQWpCO1FBQ0ksV0FBVztRQUNYLElBQUksS0FBSyxHQUFDLE1BQU0sQ0FBQyxXQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQ3JELElBQUksVUFBVSxHQUFDLE1BQU0sQ0FBQyxXQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUM7UUFDdkUsVUFBVSxHQUFDLFVBQVUsR0FBQyxDQUFDLENBQUEsQ0FBQyxDQUFBLENBQUMsQ0FBQSxDQUFDLENBQUEsVUFBVSxDQUFDO1FBQ3JDLFdBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsRUFBQyxVQUFVLENBQUMsQ0FBQztRQUMxRCxPQUFPO1FBQ1AsSUFBRyxLQUFLLElBQUUsR0FBRztZQUFFLE9BQU87UUFDdEIsV0FBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7O0lBM0RNLG9CQUFRLEdBQWEsSUFBSSxDQUFDO0lBVmhCLFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0FzRS9CO0lBQUQsa0JBQUM7Q0F0RUQsQUFzRUMsQ0F0RXdDLEVBQUUsQ0FBQyxTQUFTLEdBc0VwRDtrQkF0RW9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgRXhwb3J0IH0gZnJvbSBcIi4uLy4uL3N5eXhfc2RrL2V4cG9ydF9zZGtcIjtcbmltcG9ydCB7IHN5eXhfc2RrX2FwaSB9IGZyb20gXCIuLi8uLi9zeXl4X3Nkay9zeXl4X3Nka19hcGlcIjtcbmltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vY2FpamlUb29sc1wiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi4vbWFpbi9hdWRpb01hbmFnZXJcIjtcbmltcG9ydCB7IGFkIH0gZnJvbSBcIi4uL3Nkay9hZFwiO1xuaW1wb3J0IHsgZGF0YSB9IGZyb20gXCIuLi9zZGsvZGF0YVwiO1xuaW1wb3J0IGNvaW5Ecm9wIGZyb20gXCIuL2NvaW5Ecm9wXCI7XG5pbXBvcnQgZGFtYWdlVGlwUG9vbCBmcm9tIFwiLi9kYW1hZ2VUaXBQb29sXCI7XG5pbXBvcnQgZW5lbXlTcGF3biBmcm9tIFwiLi9lbmVteVNwYXduXCI7XG5pbXBvcnQgRXZlbnRzIGZyb20gXCIuL0V2ZW50c1wiO1xuaW1wb3J0IHBsYXllckNvbnRyb2xsZXIgZnJvbSBcIi4vcGxheWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHBsYXllclNwYXduIGZyb20gXCIuL3BsYXllclNwYXduXCI7XG5pbXBvcnQgdWlNYW5hZ2VyIGZyb20gXCIuL3VpL3VpTWFuYWdlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbmVudW0gTWFwTmFtZXtcbiAgICBNYXAxX2JhbWJvb0ZvcmVzdDEsXG4gICAgTWFwMl9iYW1ib29Gb3Jlc3QyLFxuICAgIE1hcDNfT2xkVmlsbGFnZTEsXG4gICAgTWFwNF9PbGRWaWxsYWdlMixcbiAgICBNYXA1X09sZFN0YXRlMSxcbiAgICBNYXA2X09sZFN0YXRlMlxufVxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVNYW5hZ2VyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIG1hcDpjYy5Ob2RlPW51bGw7XG4gICAgcGxheWVyOmNjLk5vZGU9bnVsbDtcbiAgICBwbGF5ZXJDb250cm9sbGVyOnBsYXllckNvbnRyb2xsZXI9bnVsbDtcbiAgICBwbGF5ZXJTcGF3bk06cGxheWVyU3Bhd249bnVsbDtcbiAgICBlbmVteVNwYXduTTplbmVteVNwYXduPW51bGw7XG4gICAgbmVlZEtpbGxFbmVteUFtb3VudDpudW1iZXI9MDtcbiAgICBraWxsRW5lbXlBbW91bjpudW1iZXI9MDtcbiAgICBkcm9wQ29pbnM6Y2MuTm9kZVtdPVtdO1xuICAgIHN0YXRpYyBpbnN0YW5jZTpHYW1lTWFuYWdlcj1udWxsO1xuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlPXRoaXM7XG4gICAgICAgIGRhbWFnZVRpcFBvb2wuaW5zdGFuY2UuaW5pdCgpO1xuICAgICAgICBjYWlqaVRvb2xzLm9wZW5QaHlzaWNzU3lzdGVtKDAsZmFsc2UpOyAgICAgICBcbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKXtcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBhdXNlQmdHYW1lKCk7XG4gICAgfVxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgYWQucmVjb3JkKCk7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QmdHYW1lKCk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBpbml0KCl7XG4gICAgICAgIGxldCBsZXZlbD1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcImNob3NlTGV2ZWxcIikpO1xuICAgICAgICBsZXQgbWFwSW5kZXg9TnVtYmVyKGRhdGEuZ2FtZUpzb24oXCJsZXZlbERhdGFcIixsZXZlbC50b1N0cmluZygpLFwibWFwXCIpKTtcbiAgICAgICAgdGhpcy5sb2FkTWFwKE1hcE5hbWVbbWFwSW5kZXhdKTtcbiAgICAgICAgRXZlbnRzLmluc3RhbmNlLmluaXQoKTtcbiAgICB9XG4gICAgLy/orqHmlbDvvIjlh7vmnYDmgKrnianvvIlcbiAgICBraWxsRW5lbXlDb3VudCgpe1xuICAgICAgICB0aGlzLmtpbGxFbmVteUFtb3VuKys7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi5oCq54mp5oqA5pyvXCIsdGhpcy5raWxsRW5lbXlBbW91bix0aGlzLm5lZWRLaWxsRW5lbXlBbW91bnQpXG4gICAgICAgIGlmKHRoaXMua2lsbEVuZW15QW1vdW49PXRoaXMubmVlZEtpbGxFbmVteUFtb3VudCl7XG4gICAgICAgICAgICB1aU1hbmFnZXIuaW5zLndpbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBpY2tVcENvaW4oKXtcbiAgICAgICAgZm9yKGxldCBjb2luIG9mIHRoaXMuZHJvcENvaW5zKXtcbiAgICAgICAgICAgIGNvaW4uZ2V0Q29tcG9uZW50KGNvaW5Ecm9wKS5zdGFydE1vdmVUb1BsYXllcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJvcENvaW5zPVtdO1xuICAgIH1cbiAgICBhc3luYyBsb2FkTWFwKG1hcE5hbWU6c3RyaW5nKXtcbiAgICAgICAgbGV0IHByZT1hd2FpdCBjYWlqaVRvb2xzLmxvYWRQcmVmYWIoXCJwcmVmYWJzL21hcHMvXCIrbWFwTmFtZSk7XG4gICAgICAgIHRoaXMubWFwPWNhaWppVG9vbHMuY3JlYXRlTm9kZShwcmUsdGhpcy5ub2RlLnBhcmVudCk7XG4gICAgICAgIHRoaXMubWFwLnNldFNpYmxpbmdJbmRleCh0aGlzLm5vZGUuZ2V0U2libGluZ0luZGV4KCkpO1xuICAgICAgICB1aU1hbmFnZXIuaW5zLmxvYWRpbmdFbmQoKTtcbiAgICB9XG4gICAgc3Bhd25QbGF5ZXIoKXtcbiAgICAgICAgdGhpcy5wbGF5ZXJTcGF3bk0uc3Bhd25QbGF5ZXIoKTtcbiAgICB9XG4gICAgY3JlYXRlU3Bhd25FbmVteShlbmVteU5hbWU6c3RyaW5nLHBhcmVudDpjYy5Ob2RlLHBvc2l0aW9uOmNjLlZlYzIpe1xuICAgICAgICBFdmVudHMuaW5zdGFuY2UuY3JlYXRlU3Bhd25FbmVteUVmZmVjdChlbmVteU5hbWUscGFyZW50LHBvc2l0aW9uKTtcbiAgICB9XG4gICAgc3Bhd25FbmVteShlbmVteU5hbWU6c3RyaW5nLHBhcmVudDpjYy5Ob2RlLHBvc2l0aW9uOmNjLlZlYzIpe1xuICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc3Bhd25FbmVteShlbmVteU5hbWUscGFyZW50LHBvc2l0aW9uKTtcbiAgICB9XG4gICAgbGV2ZWxDb21wbGV0RXZlbnQoKXtcbiAgICAgICAgLy/op6PplIHlvZPliY3lhbPkuIvkuIDpmr7luqZcbiAgICAgICAgbGV0IGxldmVsPU51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwiY2hvc2VMZXZlbFwiKSk7XG4gICAgICAgIGxldCBkaWZmaWN1bHR5PU51bWJlcihkYXRhLmdldENhY2hlKFwibGV2ZWxTdGFyXCIsKGxldmVsKS50b1N0cmluZygpKSkrMTtcbiAgICAgICAgZGlmZmljdWx0eT1kaWZmaWN1bHR5PjM/MzpkaWZmaWN1bHR5O1xuICAgICAgICBkYXRhLnVwZGF0ZUNhY2hlKFwibGV2ZWxTdGFyXCIsbGV2ZWwudG9TdHJpbmcoKSxkaWZmaWN1bHR5KTtcbiAgICAgICAgLy/op6PplIHkuIvkuIDlhbNcbiAgICAgICAgaWYobGV2ZWw9PTEwMCkgcmV0dXJuO1xuICAgICAgICBkYXRhLnVwZGF0ZUNhY2hlKFwibGV2ZWxVbmxvY2tcIixsZXZlbC50b1N0cmluZygpLDEpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/enemySpawn.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '50b2bcGe+lFubTTFthSithz', 'enemySpawn');
// scripts/game/enemySpawn.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var data_1 = require("../sdk/data");
var GameManager_1 = require("./GameManager");
var spawnEnemy_1 = require("./spawnEnemy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var enemySpwanData;
(function (enemySpwanData) {
    enemySpwanData["wave"] = "wave";
    enemySpwanData["amount"] = "amount";
    enemySpwanData["enemyNames"] = "enemyNames";
})(enemySpwanData || (enemySpwanData = {}));
var enemySpawn = /** @class */ (function (_super) {
    __extends(enemySpawn, _super);
    function enemySpawn() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.nowLevel = 0;
        _this.difficulty = 0;
        _this.levelData = null;
        _this.waveInterval = 0;
        _this.wave = 0;
        _this.amount = 0;
        _this.enemyNames = [];
        _this.spawnEnemyIntervalMin = 0.8;
        _this.spawnEnemyIntervalMax = 1.5;
        _this.hadSpwanWave = 0;
        _this.hadSpwanAmount = 0;
        return _this;
    }
    enemySpawn.prototype.onLoad = function () {
        this.init();
    };
    enemySpawn.prototype.start = function () {
    };
    enemySpawn.prototype.init = function () {
        GameManager_1.default.instance.enemySpawnM = this;
        this.nowLevel = Number(data_1.data.getCache("Base", "choseLevel"));
        this.difficulty = Number(data_1.data.getCache("levelStar", this.nowLevel.toString()));
        this.waveInterval = Number(data_1.data.gameJson("waveInterval"));
        this.levelData = data_1.data.gameJson("levelData", this.nowLevel.toString());
        this.wave = this.levelData["enemySpawn"][enemySpwanData.wave];
        this.amount = this.levelData["enemySpawn"][enemySpwanData.amount];
        this.enemyNames = this.levelData["enemySpawn"][enemySpwanData.enemyNames];
        GameManager_1.default.instance.needKillEnemyAmount = this.wave * this.amount[this.difficulty];
    };
    enemySpawn.prototype.startSpwan = function () {
        var _this = this;
        this.hadSpwanWave++;
        this.hadSpwanAmount = 0;
        this.scheduleSpawn();
        if (this.hadSpwanWave < this.wave) {
            this.scheduleOnce(function () {
                _this.startSpwan();
            }, this.waveInterval + this.amount[this.difficulty] * 1.5);
        }
    };
    enemySpawn.prototype.scheduleSpawn = function () {
        var _this = this;
        this.hadSpwanAmount++;
        console.log(this.hadSpwanAmount, this.hadSpwanWave, this.wave);
        var name = this.enemyNames[caijiTools_1.caijiTools.random_int(0, this.enemyNames.length - 1)];
        this.scheduleOnce(function () {
            _this.spawnEnemy(name);
            if (_this.hadSpwanAmount < _this.amount[_this.difficulty]) {
                _this.scheduleSpawn();
            }
        }, caijiTools_1.caijiTools.random_int(50, 120) / 100);
    };
    enemySpawn.prototype.spawnEnemy = function (enemyName) {
        return __awaiter(this, void 0, void 0, function () {
            var pre, spwanEffect, x;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/spawnEnemy")];
                    case 1:
                        pre = _a.sent();
                        spwanEffect = caijiTools_1.caijiTools.createNode(pre, this.node, false);
                        spwanEffect.setSiblingIndex(GameManager_1.default.instance.player.getSiblingIndex());
                        spwanEffect.getComponent(spawnEnemy_1.default).spawnEnemyName = enemyName;
                        x = GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(-cc.winSize.width / 2, cc.winSize.width / 2);
                        if (x < -300) {
                            x = GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(0, cc.winSize.width / 2);
                        }
                        else if (x > 1600) {
                            x = GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(-cc.winSize.width / 2, 0);
                        }
                        spwanEffect.setPosition(x, -177);
                        spwanEffect.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    enemySpawn = __decorate([
        ccclass
    ], enemySpawn);
    return enemySpawn;
}(cc.Component));
exports.default = enemySpawn;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcZW5lbXlTcGF3bi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRiw0Q0FBMkM7QUFDM0Msb0NBQW1DO0FBQ25DLDZDQUF3QztBQUN4QywyQ0FBc0M7QUFFaEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBSyxjQUlKO0FBSkQsV0FBSyxjQUFjO0lBQ2YsK0JBQVcsQ0FBQTtJQUNYLG1DQUFlLENBQUE7SUFDZiwyQ0FBdUIsQ0FBQTtBQUMzQixDQUFDLEVBSkksY0FBYyxLQUFkLGNBQWMsUUFJbEI7QUFFRDtJQUF3Qyw4QkFBWTtJQUFwRDtRQUFBLHFFQW1FQztRQWpFRyxjQUFRLEdBQVEsQ0FBQyxDQUFDO1FBQ2xCLGdCQUFVLEdBQVEsQ0FBQyxDQUFDO1FBQ3BCLGVBQVMsR0FBSyxJQUFJLENBQUM7UUFDbkIsa0JBQVksR0FBUSxDQUFDLENBQUM7UUFDdEIsVUFBSSxHQUFRLENBQUMsQ0FBQztRQUNkLFlBQU0sR0FBUSxDQUFDLENBQUM7UUFDaEIsZ0JBQVUsR0FBVSxFQUFFLENBQUM7UUFDdkIsMkJBQXFCLEdBQVEsR0FBRyxDQUFDO1FBQ2pDLDJCQUFxQixHQUFRLEdBQUcsQ0FBQztRQUVqQyxrQkFBWSxHQUFRLENBQUMsQ0FBQztRQUN0QixvQkFBYyxHQUFRLENBQUMsQ0FBQzs7SUFzRDVCLENBQUM7SUFyREcsMkJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBRUQsMEJBQUssR0FBTDtJQUNBLENBQUM7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QW1FQyxDQW5FdUMsRUFBRSxDQUFDLFNBQVMsR0FtRW5EO2tCQW5Fb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCB7IGRhdGEgfSBmcm9tIFwiLi4vc2RrL2RhdGFcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xuaW1wb3J0IHNwYXduRW5lbXkgZnJvbSBcIi4vc3Bhd25FbmVteVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuZW51bSBlbmVteVNwd2FuRGF0YXtcbiAgICB3YXZlPVwid2F2ZVwiLFxuICAgIGFtb3VudD1cImFtb3VudFwiLFxuICAgIGVuZW15TmFtZXM9XCJlbmVteU5hbWVzXCJcbn1cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBlbmVteVNwYXduIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIG5vd0xldmVsOm51bWJlcj0wO1xuICAgIGRpZmZpY3VsdHk6bnVtYmVyPTA7XG4gICAgbGV2ZWxEYXRhOmFueT1udWxsO1xuICAgIHdhdmVJbnRlcnZhbDpudW1iZXI9MDtcbiAgICB3YXZlOm51bWJlcj0wO1xuICAgIGFtb3VudDpudW1iZXI9MDtcbiAgICBlbmVteU5hbWVzOnN0cmluZ1tdPVtdO1xuICAgIHNwYXduRW5lbXlJbnRlcnZhbE1pbjpudW1iZXI9MC44O1xuICAgIHNwYXduRW5lbXlJbnRlcnZhbE1heDpudW1iZXI9MS41O1xuXG4gICAgaGFkU3B3YW5XYXZlOm51bWJlcj0wO1xuICAgIGhhZFNwd2FuQW1vdW50Om51bWJlcj0wO1xuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICB9XG4gICAgaW5pdCgpe1xuICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5lbmVteVNwYXduTT10aGlzO1xuICAgICAgICB0aGlzLm5vd0xldmVsPU51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwiY2hvc2VMZXZlbFwiKSk7XG4gICAgICAgIHRoaXMuZGlmZmljdWx0eT1OdW1iZXIoZGF0YS5nZXRDYWNoZShcImxldmVsU3RhclwiLHRoaXMubm93TGV2ZWwudG9TdHJpbmcoKSkpO1xuICAgICAgICB0aGlzLndhdmVJbnRlcnZhbD1OdW1iZXIoZGF0YS5nYW1lSnNvbihcIndhdmVJbnRlcnZhbFwiKSk7XG4gICAgICAgIHRoaXMubGV2ZWxEYXRhPWRhdGEuZ2FtZUpzb24oXCJsZXZlbERhdGFcIix0aGlzLm5vd0xldmVsLnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLndhdmU9dGhpcy5sZXZlbERhdGFbXCJlbmVteVNwYXduXCJdW2VuZW15U3B3YW5EYXRhLndhdmVdO1xuICAgICAgICB0aGlzLmFtb3VudD10aGlzLmxldmVsRGF0YVtcImVuZW15U3Bhd25cIl1bZW5lbXlTcHdhbkRhdGEuYW1vdW50XTtcbiAgICAgICAgdGhpcy5lbmVteU5hbWVzPXRoaXMubGV2ZWxEYXRhW1wiZW5lbXlTcGF3blwiXVtlbmVteVNwd2FuRGF0YS5lbmVteU5hbWVzXTtcbiAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UubmVlZEtpbGxFbmVteUFtb3VudD10aGlzLndhdmUqdGhpcy5hbW91bnRbdGhpcy5kaWZmaWN1bHR5XTtcbiAgICB9XG4gICAgc3RhcnRTcHdhbigpe1xuICAgICAgICB0aGlzLmhhZFNwd2FuV2F2ZSsrO1xuICAgICAgICB0aGlzLmhhZFNwd2FuQW1vdW50PTA7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVTcGF3bigpO1xuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5oYWRTcHdhbldhdmU8dGhpcy53YXZlKXtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFNwd2FuKCk7XG4gICAgICAgICAgICB9LHRoaXMud2F2ZUludGVydmFsK3RoaXMuYW1vdW50W3RoaXMuZGlmZmljdWx0eV0qMS41KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzY2hlZHVsZVNwYXduKCl7XG4gICAgICAgIHRoaXMuaGFkU3B3YW5BbW91bnQrKztcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5oYWRTcHdhbkFtb3VudCx0aGlzLmhhZFNwd2FuV2F2ZSx0aGlzLndhdmUpXG4gICAgICAgIGxldCBuYW1lPXRoaXMuZW5lbXlOYW1lc1tjYWlqaVRvb2xzLnJhbmRvbV9pbnQoMCx0aGlzLmVuZW15TmFtZXMubGVuZ3RoLTEpXTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIHRoaXMuc3Bhd25FbmVteShuYW1lKTtcbiAgICAgICAgICAgIGlmKHRoaXMuaGFkU3B3YW5BbW91bnQ8dGhpcy5hbW91bnRbdGhpcy5kaWZmaWN1bHR5XSl7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVNwYXduKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sY2FpamlUb29scy5yYW5kb21faW50KDUwLDEyMCkvMTAwKTtcbiAgICB9XG4gICAgYXN5bmMgc3Bhd25FbmVteShlbmVteU5hbWU6c3RyaW5nKXtcbiAgICAgICAgbGV0IHByZT1hd2FpdCBjYWlqaVRvb2xzLmxvYWRQcmVmYWIoXCJwcmVmYWJzL3NwYXduRW5lbXlcIik7XG4gICAgICAgIGxldCBzcHdhbkVmZmVjdD1jYWlqaVRvb2xzLmNyZWF0ZU5vZGUocHJlLHRoaXMubm9kZSxmYWxzZSk7XG4gICAgICAgIHNwd2FuRWZmZWN0LnNldFNpYmxpbmdJbmRleChHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIuZ2V0U2libGluZ0luZGV4KCkpO1xuICAgICAgICBzcHdhbkVmZmVjdC5nZXRDb21wb25lbnQoc3Bhd25FbmVteSkuc3Bhd25FbmVteU5hbWU9ZW5lbXlOYW1lO1xuICAgICAgICBsZXQgeD1HYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCtjYWlqaVRvb2xzLnJhbmRvbV9pbnQoLWNjLndpblNpemUud2lkdGgvMixjYy53aW5TaXplLndpZHRoLzIpO1xuICAgICAgICBpZih4PC0zMDApe1xuICAgICAgICAgICAgeD1HYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCtjYWlqaVRvb2xzLnJhbmRvbV9pbnQoMCxjYy53aW5TaXplLndpZHRoLzIpO1xuICAgICAgICB9ZWxzZSBpZih4PjE2MDApe1xuICAgICAgICAgICAgeD1HYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCtjYWlqaVRvb2xzLnJhbmRvbV9pbnQoLWNjLndpblNpemUud2lkdGgvMiwwKTtcbiAgICAgICAgfVxuICAgICAgICBzcHdhbkVmZmVjdC5zZXRQb3NpdGlvbih4LC0xNzcpO1xuICAgICAgICBzcHdhbkVmZmVjdC5hY3RpdmU9dHJ1ZTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/main/levelItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '42340IEHFFFwa5Q6nUxcL07', 'levelItem');
// scripts/main/levelItem.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var data_1 = require("../sdk/data");
var mainMenu_1 = require("./mainMenu");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var levelItem = /** @class */ (function (_super) {
    __extends(levelItem, _super);
    function levelItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.starSpr = null;
        _this.levelSpr = null;
        _this.levellab = null;
        _this.level = 0;
        return _this;
    }
    // onLoad () {}
    levelItem.prototype.start = function () {
        this.init();
    };
    levelItem.prototype.init = function () {
        this.level = Number(this.node.name);
        var isUnlock = data_1.data.getCache("levelUnlock")[this.level - 1];
        this.node.getComponent(cc.Button).interactable = isUnlock;
        this.node.getChildByName("lock").active = !isUnlock;
        this.updateLevel();
        this.updateStar();
    };
    levelItem.prototype.updateLevel = function () {
        return __awaiter(this, void 0, void 0, function () {
            var spr;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadSpriteFrame("choseLevel/level" + this.node.name)];
                    case 1:
                        spr = _a.sent();
                        this.levelSpr.getComponent(cc.Sprite).spriteFrame = spr;
                        this.levellab.string = this.toChinesNum(this.level);
                        return [2 /*return*/];
                }
            });
        });
    };
    levelItem.prototype.toChinesNum = function (num) {
        var changeNum = ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九'];
        var unit = ['', '十', '百', '千', '万'];
        num = parseInt(num);
        var getWan = function (temp) {
            var strArr = temp.toString().split('').reverse();
            var newNum = '';
            var newArr = [];
            strArr.forEach(function (item, index) {
                newArr.unshift(item === '0' ? changeNum[item] : changeNum[item] + unit[index]);
            });
            var numArr = [];
            newArr.forEach(function (m, n) {
                if (m !== '零')
                    numArr.push(n);
            });
            if (newArr.length > 1) {
                newArr.forEach(function (m, n) {
                    if (newArr[newArr.length - 1] === '零') {
                        if (n <= numArr[numArr.length - 1]) {
                            newNum += m;
                        }
                    }
                    else {
                        newNum += m;
                    }
                });
            }
            else {
                newNum = newArr[0];
            }
            return newNum;
        };
        var overWan = Math.floor(num / 10000);
        var noWan = num % 10000;
        // if (noWan.toString().length < 4) {
        //   noWan = '0' + noWan
        // }
        return overWan ? getWan(overWan) + '万' + getWan(noWan) : getWan(num);
    };
    levelItem.prototype.updateStar = function () {
        return __awaiter(this, void 0, void 0, function () {
            var diff, spr;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        diff = data_1.data.getCache("levelStar")[this.level];
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadSpriteFrame("choseLevel/star" + diff)];
                    case 1:
                        spr = _a.sent();
                        this.starSpr.getComponent(cc.Sprite).spriteFrame = spr;
                        return [2 /*return*/];
                }
            });
        });
    };
    levelItem.prototype.chose = function (event) {
        data_1.data.updateCache("Base", "choseLevel", this.node.name);
        mainMenu_1.default.ins.maskAction_go();
    };
    __decorate([
        property(cc.Sprite)
    ], levelItem.prototype, "starSpr", void 0);
    __decorate([
        property(cc.Sprite)
    ], levelItem.prototype, "levelSpr", void 0);
    __decorate([
        property(cc.Label)
    ], levelItem.prototype, "levellab", void 0);
    levelItem = __decorate([
        ccclass
    ], levelItem);
    return levelItem;
}(cc.Component));
exports.default = levelItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcbWFpblxcbGV2ZWxJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLDRDQUEyQztBQUMzQyxvQ0FBbUM7QUFFbkMsdUNBQWtDO0FBRzVCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXVDLDZCQUFZO0lBQW5EO1FBQUEscUVBb0ZDO1FBakZHLGFBQU8sR0FBVyxJQUFJLENBQUM7UUFFdkIsY0FBUSxHQUFXLElBQUksQ0FBQztRQUd4QixjQUFRLEdBQVUsSUFBSSxDQUFDO1FBRXZCLFdBQUssR0FBUSxDQUFDLENBQUM7O0lBMEVuQixDQUFDO0lBekVHLGVBQWU7SUFFZix5QkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFDRCx3QkFBSSxHQUFKO1FBQ0ksSUFBSSxDQUFDLEtBQUssR0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQyxJQUFJLFFBQVEsR0FBQyxXQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEQsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksR0FBRSxRQUFRLENBQUM7UUFDekQsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxHQUFDLENBQUMsUUFBUSxDQUFDO1FB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QU8sQ0FBQyxHQUFHLEdBQUcsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUN6RSxDQUFDO0lBSVEsOEJBQVUsR0FBaEI7Ozs7Ozt3QkFDUSxJQUFJLEdBQUMsV0FBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBRXhDLHFCQUFNLHVCQUFVLENBQUMsZUFBZSxDQUFDLGlCQUFpQixHQUFDLElBQUksQ0FBQyxFQUFBOzt3QkFBNUQsR0FBRyxHQUFDLFNBQXdEO3dCQUVoRSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxHQUFDLEdBQUcsQ0FBQzs7Ozs7S0FDeEQ7SUFDRCx5QkFBSyxHQUFMLFVBQU0sS0FBYztRQUNoQixXQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyRCxrQkFBUSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUNqQyxDQUFDO0lBaEZEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7OENBQ0c7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsrQ0FDSTtJQUd4QjtRQURGLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOytDQUNPO0lBUk4sU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQW9GN0I7SUFBRCxnQkFBQztDQXBGRCxBQW9GQyxDQXBGc0MsRUFBRSxDQUFDLFNBQVMsR0FvRmxEO2tCQXBGb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCB7IGRhdGEgfSBmcm9tIFwiLi4vc2RrL2RhdGFcIjtcbmltcG9ydCB7IGJ1bmRsZU5hbWUgfSBmcm9tIFwiLi4vdWlCYXNlXCI7XG5pbXBvcnQgbWFpbk1lbnUgZnJvbSBcIi4vbWFpbk1lbnVcIjtcblxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGxldmVsSXRlbSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxuICAgIHN0YXJTcHI6Y2MuU3ByaXRlPW51bGw7XG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcbiAgICBsZXZlbFNwcjpjYy5TcHJpdGU9bnVsbDtcblx0XG5cdEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBsZXZlbGxhYjpjYy5MYWJlbD1udWxsO1xuXHRcbiAgICBsZXZlbDpudW1iZXI9MDtcbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIGluaXQoKXtcbiAgICAgICAgdGhpcy5sZXZlbD1OdW1iZXIodGhpcy5ub2RlLm5hbWUpO1xuICAgICAgICBsZXQgaXNVbmxvY2s9ZGF0YS5nZXRDYWNoZShcImxldmVsVW5sb2NrXCIpW3RoaXMubGV2ZWwtMV07XG4gICAgICAgIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5pbnRlcmFjdGFibGU9IGlzVW5sb2NrO1xuICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsb2NrXCIpLmFjdGl2ZT0haXNVbmxvY2s7XG4gICAgICAgIHRoaXMudXBkYXRlTGV2ZWwoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTdGFyKCk7XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZUxldmVsKCl7XG4gICAgICAgIC8vIGxldCBzcHI9YXdhaXQgY2FpamlUb29scy5sb2FkU3ByaXRlRnJhbWVCdW5kbGUoYnVuZGxlTmFtZS5tYWluVWksXCJjaG9zZUxldmVsL2xldmVsXCIrdGhpcy5ub2RlLm5hbWUpO1xuICAgICAgICBsZXQgc3ByPWF3YWl0IGNhaWppVG9vbHMubG9hZFNwcml0ZUZyYW1lKFwiY2hvc2VMZXZlbC9sZXZlbFwiK3RoaXMubm9kZS5uYW1lKTtcbiAgICAgICAgdGhpcy5sZXZlbFNwci5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZT1zcHI7XG5cdFx0dGhpcy5sZXZlbGxhYi5zdHJpbmcgPSB0aGlzLnRvQ2hpbmVzTnVtKHRoaXMubGV2ZWwpXG4gICAgfVxuXHRcblx0XG5cdHRvQ2hpbmVzTnVtKG51bSkge1xuICAgICAgbGV0IGNoYW5nZU51bSA9IFsn6Zu2JywgJ+S4gCcsICfkuownLCAn5LiJJywgJ+WbmycsICfkupQnLCAn5YWtJywgJ+S4gycsICflhasnLCAn5LmdJ11cbiAgICAgIGxldCB1bml0ID0gWycnLCAn5Y2BJywgJ+eZvicsICfljYMnLCAn5LiHJ11cbiAgICAgIG51bSA9IHBhcnNlSW50KG51bSlcbiAgICAgIGxldCBnZXRXYW4gPSAodGVtcCkgPT4ge1xuICAgICAgICBsZXQgc3RyQXJyID0gdGVtcC50b1N0cmluZygpLnNwbGl0KCcnKS5yZXZlcnNlKClcbiAgICAgICAgbGV0IG5ld051bSA9ICcnXG4gICAgICAgIGxldCBuZXdBcnIgPSBbXVxuICAgICAgICBzdHJBcnIuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBuZXdBcnIudW5zaGlmdChpdGVtID09PSAnMCcgPyBjaGFuZ2VOdW1baXRlbV0gOiBjaGFuZ2VOdW1baXRlbV0gKyB1bml0W2luZGV4XSlcbiAgICAgICAgfSlcbiAgICAgICAgbGV0IG51bUFyciA9IFtdXG4gICAgICAgIG5ld0Fyci5mb3JFYWNoKChtLCBuKSA9PiB7XG4gICAgICAgICAgaWYgKG0gIT09ICfpm7YnKSBudW1BcnIucHVzaChuKVxuICAgICAgICB9KVxuICAgICAgICBpZiAobmV3QXJyLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBuZXdBcnIuZm9yRWFjaCgobSwgbikgPT4ge1xuICAgICAgICAgICAgaWYgKG5ld0FycltuZXdBcnIubGVuZ3RoIC0gMV0gPT09ICfpm7YnKSB7XG4gICAgICAgICAgICAgIGlmIChuIDw9IG51bUFycltudW1BcnIubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgICAgICBuZXdOdW0gKz0gbVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdOdW0gKz0gbVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3TnVtID0gbmV3QXJyWzBdXG4gICAgICAgIH1cbiBcbiAgICAgICAgcmV0dXJuIG5ld051bVxuICAgICAgfVxuICAgICAgbGV0IG92ZXJXYW4gPSBNYXRoLmZsb29yKG51bSAvIDEwMDAwKVxuICAgICAgbGV0IG5vV2FuID0gbnVtICUgMTAwMDBcbiAgICAgIC8vIGlmIChub1dhbi50b1N0cmluZygpLmxlbmd0aCA8IDQpIHtcbiAgICAgIC8vICAgbm9XYW4gPSAnMCcgKyBub1dhblxuICAgICAgLy8gfVxuICAgICAgcmV0dXJuIG92ZXJXYW4gPyBnZXRXYW4ob3ZlcldhbikgKyAn5LiHJyArIGdldFdhbihub1dhbikgOiBnZXRXYW4obnVtKVxuXHR9XG5cblx0XG5cdFxuICAgIGFzeW5jIHVwZGF0ZVN0YXIoKXtcbiAgICAgICAgbGV0IGRpZmY9ZGF0YS5nZXRDYWNoZShcImxldmVsU3RhclwiKVt0aGlzLmxldmVsXTtcbiAgICAgICAgLy8gbGV0IHNwcj1hd2FpdCBjYWlqaVRvb2xzLmxvYWRTcHJpdGVGcmFtZUJ1bmRsZShidW5kbGVOYW1lLm1haW5VaSxcImNob3NlTGV2ZWwvc3RhclwiK2RpZmYpO1xuICAgICAgICBsZXQgc3ByPWF3YWl0IGNhaWppVG9vbHMubG9hZFNwcml0ZUZyYW1lKFwiY2hvc2VMZXZlbC9zdGFyXCIrZGlmZik7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnN0YXJTcHIuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWU9c3ByO1xuICAgIH1cbiAgICBjaG9zZShldmVudDpjYy5FdmVudCl7XG4gICAgICAgIGRhdGEudXBkYXRlQ2FjaGUoXCJCYXNlXCIsXCJjaG9zZUxldmVsXCIsdGhpcy5ub2RlLm5hbWUpO1xuICAgICAgICBtYWluTWVudS5pbnMubWFza0FjdGlvbl9nbygpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/main/mainMenu.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '11723XeRwBAgZXm1L5OcCA9', 'mainMenu');
// scripts/main/mainMenu.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var export_sdk_1 = require("../../syyx_sdk/export_sdk");
var syyx_sdk_api_1 = require("../../syyx_sdk/syyx_sdk_api");
var Msg_1 = require("../Msg");
var UIPrivacy_1 = require("../UIPrivacy");
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var ad_1 = require("../sdk/ad");
var data_1 = require("../sdk/data");
var uiBase_1 = require("../uiBase");
var UiSign_1 = require("./UiSign");
var audioManager_1 = require("./audioManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var mainMenu = /** @class */ (function (_super) {
    __extends(mainMenu, _super);
    function mainMenu() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.mask_go = null;
        _this.mask_enter = null;
        _this.coinLabel = null;
        _this.BtnDesktop = null;
        _this.onNewBackHomeClick = true;
        return _this;
    }
    mainMenu_1 = mainMenu;
    mainMenu.prototype.onLoad = function () {
        mainMenu_1.ins = this;
    };
    mainMenu.prototype.start = function () {
        this.init();
    };
    mainMenu.prototype.init = function () {
        var _this = this;
        this.maskAction_enter();
        this.updateCoin(this.coinLabel);
        // this.checkTodayDate()
        this.onNewBackHomeClick = true;
        mainMenu_1.native_have_show = false;
        if (data_1.data.getPrivacyOn()) {
            this.showOnece();
        }
        else {
            UIPrivacy_1.default.ShowPanel(function () {
                _this.showOnece();
            });
        }
        mainMenu_1.isCkeck(this.BtnDesktop);
    };
    mainMenu.prototype.showPrivacy = function () {
        UIPrivacy_1.default.ShowPanel();
    };
    mainMenu.prototype.maskAction_go = function () {
        this.mask_go.x = cc.winSize.width / 2;
        this.mask_go.width = cc.winSize.width + 1064;
        this.mask_go.active = true;
        var offsetX = this.mask_go.scaleX * this.mask_go.width;
        cc.tween(this.mask_go)
            .by(0.6, { x: -offsetX })
            .call(function () {
            cc.director.loadScene("game");
        })
            .start();
    };
    mainMenu.prototype.maskAction_enter = function () {
        this.mask_enter.x = -cc.winSize.width / 2;
        this.mask_enter.width = cc.winSize.width + 1064;
        this.mask_enter.active = true;
        var offsetX = this.mask_enter.scaleX * this.mask_enter.width;
        cc.tween(this.mask_enter)
            .by(0.6, { x: offsetX })
            .start();
    };
    mainMenu.prototype.openUpgradePanel = function () {
        return __awaiter(this, void 0, void 0, function () {
            var popup;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.showPopup(uiBase_1.uiName.upgradePanel, this.node)];
                    case 1:
                        popup = _a.sent();
                        popup.setSiblingIndex(this.node.childrenCount - 3);
                        return [2 /*return*/];
                }
            });
        });
    };
    mainMenu.prototype.openSignInPanel = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                // let popup=await caijiTools.showPopup(uiName.signInPanel,this.node);
                // if(popup)
                // {popup.setSiblingIndex(this.node.childrenCount-3);}
                export_sdk_1.Export.hide_naive_YSAD('YSBN'); // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN
                UiSign_1.default.ShowPanel(function () {
                    _this.updateCoin(_this.coinLabel);
                    mainMenu_1.showAd();
                });
                return [2 /*return*/];
            });
        });
    };
    mainMenu.prototype.choseLevel = function () {
        return __awaiter(this, void 0, void 0, function () {
            var popup;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.showPopup(uiBase_1.uiName.choseLevelPanel, this.node)];
                    case 1:
                        popup = _a.sent();
                        popup.setSiblingIndex(this.node.childrenCount - 3);
                        return [2 /*return*/];
                }
            });
        });
    };
    mainMenu.prototype.substartGame = function () {
        this.maskAction_go();
        var levelUnlock = data_1.data.getCache("levelUnlock");
        for (var i = 0; i < levelUnlock.length; i++) {
            if (levelUnlock[i] == 0) {
                if (i >= 16) {
                    data_1.data.updateCache("Base", "choseLevel", 15);
                }
                else {
                    data_1.data.updateCache("Base", "choseLevel", i);
                }
                break;
            }
        }
    };
    mainMenu.prototype.startGame = function () {
        if (this.onNewBackHomeClick && mainMenu_1.native_have_show) {
            this.onNewBackHomeClick = false;
            export_sdk_1.Export.click_native_YSAD("YSBN"); // 触发ysjs
        }
        else { // 否则回到游戏
            this.onNewBackHomeClick = true;
            mainMenu_1.native_have_show = false;
            export_sdk_1.Export.hide_naive_YSAD('YSBN'); // 隐藏原生广告
            cc.log("-----------开始游戏-------------");
            this.substartGame();
        }
    };
    mainMenu.prototype.updateCoin = function (coinLabel) {
        var coin = Number(data_1.data.getCache("Base", "coin"));
        if (coin >= 1000) {
            coinLabel.string = (coin / 1000).toFixed(1) + "k";
        }
        else {
            coinLabel.string = coin.toString();
        }
    };
    mainMenu.prototype.watchAdGetCoin = function () {
        var _this = this;
        // audioManager.pauseBgGame()
        ad_1.ad.video_show().then(function (isok) {
            // audioManager.playBgGame()
            if (isok) {
                audioManager_1.default.playAudio(audioNameMgr_1.audioName.getCoin);
                var coin = Number(data_1.data.getCache("Base", "coin")) + 500;
                data_1.data.updateCache("Base", "coin", coin);
                _this.updateCoin(_this.coinLabel);
            }
        });
    };
    mainMenu.prototype.checkTodayDate = function () {
        var timeDate = new Date();
        var maxPower = 12;
        if (timeDate.toLocaleDateString() != data_1.data.getCache("Base", "todayDate")) {
            if (Number(data_1.data.getCache("Base", "power")) < maxPower) {
            }
            data_1.data.updateCache("Base", "todayDate", timeDate.toLocaleDateString());
            data_1.data.updateCache("Base", "isGetDailyReward", 0); //是否已领签到奖励
            data_1.data.updateCache("Base", "isGetLoginReward", 0); //是否已领登录奖励
            var loginDays = Number(data_1.data.getCache("Base", "loginDays"));
            if (loginDays >= 7) {
                loginDays = 0;
            }
            data_1.data.updateCache("Base", "loginDays", loginDays); //登录天数            
            this.checkHadSign();
        }
        else {
            this.checkHadSign();
        }
    };
    mainMenu.prototype.checkHadSign = function () {
        if (Number(data_1.data.getCache("Base", "isGetDailyReward")) == 0) {
            this.openSignInPanel();
        }
    };
    /**判断是否可以签到 */
    mainMenu.prototype._checkCanBonus = function () {
        var isReward = Number(data_1.data.getCache("Base", "isGetDailyReward"));
        cc.log("_checkCanBonus isReward:", isReward);
        if (isReward == 0) {
            return true;
        }
        return false;
    };
    mainMenu.showAd = function () {
        // let ad:cc.Node = cc.find("Canvas/UiHome/fail_parent")
        // if (cc.winSize.height > 2000){
        //     ad.setScale(0.7)
        // }else{
        //     ad.setScale(0.6)
        // }
        setTimeout(function () {
            export_sdk_1.Export.show_native_YSAD("10304001", "Canvas/fail_parent", function () { mainMenu_1.native_have_show = true; });
        }, 400);
    };
    mainMenu.prototype.showOnece = function () {
        var _this = this;
        if (data_1.data.getSignOnceOn() == false && this._checkCanBonus()) {
            UiSign_1.default.ShowPanel(function () {
                _this.updateCoin(_this.coinLabel);
                mainMenu_1.showAd();
            });
            data_1.data.setSignOnceOn(true);
        }
        else {
            mainMenu_1.showAd();
        }
    };
    /**
     * 游戏开始时，调用isCkeck，isCkeck是检查是否添加到桌面了，
     * @param node 这是游戏页面的 添加桌面 按钮，要传入节点
     * can_add 可以添加到桌面，所以 添加桌面 按钮要显示
     * has_add 已经添加到桌面，所以 添加桌面 按钮要隐藏
     */
    mainMenu.isCkeck = function (node) {
        if (node) {
            var can_add = function () {
                node.active = true;
                // node.on(cc.Node.EventType.TOUCH_END, () => {
                //     mainMenu.addDesktop(node); // 是下面的addDesktop方法，照搬即可，注意参数node，node就是 添加桌面 按钮节点
                // })
            };
            var has_add = function () {
                node.active = false;
            };
            syyx_sdk_api_1.syyx_sdk_api.check_is_add_desktop(can_add, has_add);
        }
    };
    mainMenu.prototype.show_game_portal_box = function () {
        syyx_sdk_api_1.syyx_sdk_api.show_game_portal_box("10600003", null, null, null, function () {
            Msg_1.default.Show("请勿频繁点击");
        });
    };
    mainMenu.prototype.showDesktop = function () {
        mainMenu_1.addDesktop(this.BtnDesktop);
    };
    /**
    * 打开添加桌面按钮
    */
    mainMenu.addDesktop = function (node) {
        var on_success = function () {
            syyx_sdk_api_1.syyx_sdk_api.check_is_add_desktop(function () {
                console.log("点击了取消添加桌面图标");
            }, function () {
                node.active = false;
                console.log("添加桌面图标成功");
            });
        };
        var on_failed = function () {
            console.log("不能添加桌面");
            Msg_1.default.Show("请勿频繁点击");
        };
        var on_failed_back = function () {
            console.log("弹出添加桌面失败");
            Msg_1.default.Show("请勿频繁点击");
        };
        var has_create = function () {
            node.active = false;
        };
        var can_add = function () {
            syyx_sdk_api_1.syyx_sdk_api.add_desktop(on_success, on_failed, on_failed_back, has_create);
        };
        var has_add = function () {
            node.active = false;
        };
        syyx_sdk_api_1.syyx_sdk_api.check_is_add_desktop(can_add, has_add);
    };
    var mainMenu_1;
    mainMenu.ins = null;
    mainMenu.native_have_show = false; // 原生结算展示
    __decorate([
        property(cc.Node)
    ], mainMenu.prototype, "mask_go", void 0);
    __decorate([
        property(cc.Node)
    ], mainMenu.prototype, "mask_enter", void 0);
    __decorate([
        property(cc.Label)
    ], mainMenu.prototype, "coinLabel", void 0);
    __decorate([
        property(cc.Node)
    ], mainMenu.prototype, "BtnDesktop", void 0);
    mainMenu = mainMenu_1 = __decorate([
        ccclass
    ], mainMenu);
    return mainMenu;
}(cc.Component));
exports.default = mainMenu;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcbWFpblxcbWFpbk1lbnUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsd0RBQW1EO0FBQ25ELDREQUEyRDtBQUMzRCw4QkFBeUI7QUFDekIsMENBQXFDO0FBQ3JDLGdEQUE0QztBQUM1Qyw0Q0FBMkM7QUFFM0MsZ0NBQStCO0FBQy9CLG9DQUFtQztBQUNuQyxvQ0FBbUM7QUFDbkMsbUNBQThCO0FBQzlCLCtDQUEwQztBQUNwQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQXFRQztRQWxRRyxhQUFPLEdBQVMsSUFBSSxDQUFDO1FBRXJCLGdCQUFVLEdBQVMsSUFBSSxDQUFDO1FBRXhCLGVBQVMsR0FBVSxJQUFJLENBQUM7UUFFeEIsZ0JBQVUsR0FBVyxJQUFJLENBQUE7UUE0RnpCLHdCQUFrQixHQUFZLElBQUksQ0FBQzs7SUFnS3ZDLENBQUM7aUJBclFvQixRQUFRO0lBWXpCLHlCQUFNLEdBQU47UUFDSSxVQUFRLENBQUMsR0FBRyxHQUFDLElBQUksQ0FBQztJQUN0QixDQUFDO0lBRUQsd0JBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBQ0QsdUJBQUksR0FBSjtRQUFBLGlCQW1CQztRQWxCRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUVoQyx3QkFBd0I7UUFFeEIsSUFBSSxD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Q3RCLENBQUMsQ0FBQTtRQUNELElBQUksVUFBVSxHQUFHO1lBQ2IsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDeEIsQ0FBQyxDQUFBO1FBRUQsSUFBSSxPQUFPLEdBQUc7WUFDViwyQkFBWSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRSxVQUFVLENBQUMsQ0FBQTtRQUMvRSxDQUFDLENBQUE7UUFDRCxJQUFJLE9BQU8sR0FBRztZQUNWLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLENBQUMsQ0FBQTtRQUNELDJCQUFZLENBQUMsb0JBQW9CLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hELENBQUM7O0lBeFBNLFlBQUcsR0FBVSxJQUFJLENBQUM7SUF5RmxCLHlCQUFnQixHQUFZLEtBQUssQ0FBQyxDQUFFLFNBQVM7SUFqR3BEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NkNBQ0c7SUFFckI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztnREFDTTtJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOytDQUNLO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7Z0RBQ087SUFUUixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBcVE1QjtJQUFELGVBQUM7Q0FyUUQsQUFxUUMsQ0FyUXFDLEVBQUUsQ0FBQyxTQUFTLEdBcVFqRDtrQkFyUW9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgRXhwb3J0IH0gZnJvbSBcIi4uLy4uL3N5eXhfc2RrL2V4cG9ydF9zZGtcIjtcbmltcG9ydCB7IHN5eXhfc2RrX2FwaSB9IGZyb20gXCIuLi8uLi9zeXl4X3Nkay9zeXl4X3Nka19hcGlcIjtcbmltcG9ydCBNc2cgZnJvbSBcIi4uL01zZ1wiO1xuaW1wb3J0IFVJUHJpdmFjeSBmcm9tIFwiLi4vVUlQcml2YWN5XCI7XG5pbXBvcnQgeyBhdWRpb05hbWUgfSBmcm9tIFwiLi4vYXVkaW9OYW1lTWdyXCI7XG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCB1aU1hbmFnZXIgZnJvbSBcIi4uL2dhbWUvdWkvdWlNYW5hZ2VyXCI7XG5pbXBvcnQgeyBhZCB9IGZyb20gXCIuLi9zZGsvYWRcIjtcbmltcG9ydCB7IGRhdGEgfSBmcm9tIFwiLi4vc2RrL2RhdGFcIjtcbmltcG9ydCB7IHVpTmFtZSB9IGZyb20gXCIuLi91aUJhc2VcIjtcbmltcG9ydCBVSVNpZ24gZnJvbSBcIi4vVWlTaWduXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuL2F1ZGlvTWFuYWdlclwiO1xuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBtYWluTWVudSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBtYXNrX2dvOmNjLk5vZGU9bnVsbDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBtYXNrX2VudGVyOmNjLk5vZGU9bnVsbDtcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXG4gICAgY29pbkxhYmVsOmNjLkxhYmVsPW51bGw7XG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgQnRuRGVza3RvcDpjYy5Ob2RlID0gbnVsbFxuXG4gICAgc3RhdGljIGluczptYWluTWVudT1udWxsO1xuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIG1haW5NZW51Lmlucz10aGlzO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIGluaXQoKXtcbiAgICAgICAgdGhpcy5tYXNrQWN0aW9uX2VudGVyKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQ29pbih0aGlzLmNvaW5MYWJlbCk7XG5cbiAgICAgICAgLy8gdGhpcy5jaGVja1RvZGF5RGF0ZSgpXG5cbiAgICAgICAgdGhpcy5vbk5ld0JhY2tIb21lQ2xpY2sgPSB0cnVlXG4gICAgICAgIG1haW5NZW51Lm5hdGl2ZV9oYXZlX3Nob3cgPSBmYWxzZVxuXG4gICAgICAgIGlmIChkYXRhLmdldFByaXZhY3lPbigpKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dPbmVjZSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBVSVByaXZhY3kuU2hvd1BhbmVsKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dPbmVjZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgXG4gICAgICAgIG1haW5NZW51LmlzQ2tlY2sodGhpcy5CdG5EZXNrdG9wKVxuXG4gICAgfVxuXG4gICAgc2hvd1ByaXZhY3koKXtcbiAgICAgICAgVUlQcml2YWN5LlNob3dQYW5lbCgpXG4gICAgfVxuXG4gICAgbWFza0FjdGlvbl9nbygpe1xuICAgICAgICB0aGlzLm1hc2tfZ28ueD1jYy53aW5TaXplLndpZHRoLzI7XG4gICAgICAgIHRoaXMubWFza19nby53aWR0aD1jYy53aW5TaXplLndpZHRoKzEwNjQ7XG4gICAgICAgIHRoaXMubWFza19nby5hY3RpdmU9dHJ1ZTtcbiAgICAgICAgbGV0IG9mZnNldFg9dGhpcy5tYXNrX2dvLnNjYWxlWCp0aGlzLm1hc2tfZ28ud2lkdGg7XG4gICAgICAgIGNjLnR3ZWVuKHRoaXMubWFza19nbylcbiAgICAgICAgLmJ5KDAuNix7eDotb2Zmc2V0WH0pXG4gICAgICAgIC5jYWxsKCgpPT57XG4gICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJnYW1lXCIpO1xuICAgICAgICB9KVxuICAgICAgICAuc3RhcnQoKVxuICAgIH1cbiAgICBtYXNrQWN0aW9uX2VudGVyKCl7XG4gICAgICAgIHRoaXMubWFza19lbnRlci54PS1jYy53aW5TaXplLndpZHRoLzI7XG4gICAgICAgIHRoaXMubWFza19lbnRlci53aWR0aD1jYy53aW5TaXplLndpZHRoKzEwNjQ7XG4gICAgICAgIHRoaXMubWFza19lbnRlci5hY3RpdmU9dHJ1ZTtcbiAgICAgICAgbGV0IG9mZnNldFg9dGhpcy5tYXNrX2VudGVyLnNjYWxlWCp0aGlzLm1hc2tfZW50ZXIud2lkdGg7XG4gICAgICAgIGNjLnR3ZWVuKHRoaXMubWFza19lbnRlcilcbiAgICAgICAgLmJ5KDAuNix7eDpvZmZzZXRYfSlcbiAgICAgICAgLnN0YXJ0KClcbiAgICB9XG4gICAgYXN5bmMgb3BlblVwZ3JhZGVQYW5lbCgpe1xuICAgICAgICBsZXQgcG9wdXA9YXdhaXQgY2FpamlUb29scy5zaG93UG9wdXAodWlOYW1lLnVwZ3JhZGVQYW5lbCx0aGlzLm5vZGUpO1xuICAgICAgICBwb3B1cC5zZXRTaWJsaW5nSW5kZXgodGhpcy5ub2RlLmNoaWxkcmVuQ291bnQtMyk7XG4gICAgfVxuICAgIGFzeW5jIG9wZW5TaWduSW5QYW5lbCgpe1xuICAgICAgICAvLyBsZXQgcG9wdXA9YXdhaXQgY2FpamlUb29scy5zaG93UG9wdXAodWlOYW1lLnNpZ25JblBhbmVsLHRoaXMubm9kZSk7XG5cdFx0Ly8gaWYocG9wdXApXG4gICAgICAgIC8vIHtwb3B1cC5zZXRTaWJsaW5nSW5kZXgodGhpcy5ub2RlLmNoaWxkcmVuQ291bnQtMyk7fVxuXG4gICAgICAgIEV4cG9ydC5oaWRlX25haXZlX1lTQUQoJ1lTQk4nKSAvLyDpmpDol4/ljp/nlJ/lub/lkYog5LygJ1lTQk4n77yM5oSP5oCd5piv5ZCM5pe25Lya6aKE5Yqg6L29WVNCTlxuICAgICAgICBcbiAgICAgICAgVUlTaWduLlNob3dQYW5lbCgoKT0+e1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDb2luKHRoaXMuY29pbkxhYmVsKTtcbiAgICAgICAgICAgIG1haW5NZW51LnNob3dBZCgpXG4gICAgICAgIH0pXG4gICAgfVxuICAgIGFzeW5jIGNob3NlTGV2ZWwoKXtcbiAgICAgICAgbGV0IHBvcHVwPWF3YWl0IGNhaWppVG9vbHMuc2hvd1BvcHVwKHVpTmFtZS5jaG9zZUxldmVsUGFuZWwsdGhpcy5ub2RlKTtcbiAgICAgICAgcG9wdXAuc2V0U2libGluZ0luZGV4KHRoaXMubm9kZS5jaGlsZHJlbkNvdW50LTMpO1xuICAgIH1cbiAgICBzdWJzdGFydEdhbWUoKXtcbiAgICAgICAgdGhpcy5tYXNrQWN0aW9uX2dvKCk7XG4gICAgICAgIGxldCBsZXZlbFVubG9jaz1kYXRhLmdldENhY2hlPG51bWJlcltdPihcImxldmVsVW5sb2NrXCIpO1xuICAgICAgICBmb3IobGV0IGk9MDtpPGxldmVsVW5sb2NrLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgaWYobGV2ZWxVbmxvY2tbaV09PTApe1xuICAgICAgICAgICAgICAgIGlmKGk+PTE2KXtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51cGRhdGVDYWNoZShcIkJhc2VcIixcImNob3NlTGV2ZWxcIiwxNSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudXBkYXRlQ2FjaGUoXCJCYXNlXCIsXCJjaG9zZUxldmVsXCIsaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIG5hdGl2ZV9oYXZlX3Nob3c6IGJvb2xlYW4gPSBmYWxzZTsgIC8vIOWOn+eUn+e7k+eul+WxleekulxuICAgIG9uTmV3QmFja0hvbWVDbGljazogYm9vbGVhbiA9IHRydWU7XG4gICAgc3RhcnRHYW1lKCkgeyAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLm9uTmV3QmFja0hvbWVDbGljayAmJiBtYWluTWVudS5uYXRpdmVfaGF2ZV9zaG93KSB7XG4gICAgICAgICAgICB0aGlzLm9uTmV3QmFja0hvbWVDbGljayA9IGZhbHNlXG4gICAgICAgICAgICBFeHBvcnQuY2xpY2tfbmF0aXZlX1lTQUQoXCJZU0JOXCIpIC8vIOinpuWPkXlzanNcbiAgICAgICAgfSBlbHNlIHsgLy8g5ZCm5YiZ5Zue5Yiw5ri45oiPXG4gICAgICAgICAgICB0aGlzLm9uTmV3QmFja0hvbWVDbGljayA9IHRydWVcbiAgICAgICAgICAgIG1haW5NZW51Lm5hdGl2ZV9oYXZlX3Nob3cgPSBmYWxzZVxuICAgICAgICAgICAgRXhwb3J0LmhpZGVfbmFpdmVfWVNBRCgnWVNCTicpIC8vIOmakOiXj+WOn+eUn+W5v+WRilxuICAgICAgICAgICAgY2MubG9nKFwiLS0tLS0tLS0tLS3lvIDlp4vmuLjmiI8tLS0tLS0tLS0tLS0tXCIpO1xuICAgICAgICAgICAgdGhpcy5zdWJzdGFydEdhbWUoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQ29pbihjb2luTGFiZWw6Y2MuTGFiZWwpe1xuICAgICAgICBsZXQgY29pbj1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcImNvaW5cIikpO1xuICAgICAgICBpZihjb2luPj0xMDAwKXtcbiAgICAgICAgICAgIGNvaW5MYWJlbC5zdHJpbmc9KGNvaW4vMTAwMCkudG9GaXhlZCgxKStcImtcIjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBjb2luTGFiZWwuc3RyaW5nPWNvaW4udG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3YXRjaEFkR2V0Q29pbigpe1xuICAgICAgICAvLyBhdWRpb01hbmFnZXIucGF1c2VCZ0dhbWUoKVxuICAgICAgICBhZC52aWRlb19zaG93KCkudGhlbihpc29rPT57XG4gICAgICAgICAgICAvLyBhdWRpb01hbmFnZXIucGxheUJnR2FtZSgpXG4gICAgICAgICAgICBpZihpc29rKXtcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5nZXRDb2luKTtcbiAgICAgICAgICAgICAgICBsZXQgY29pbj1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcImNvaW5cIikpKzUwMDtcbiAgICAgICAgICAgICAgICBkYXRhLnVwZGF0ZUNhY2hlKFwiQmFzZVwiLFwiY29pblwiLGNvaW4pO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29pbih0aGlzLmNvaW5MYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjaGVja1RvZGF5RGF0ZSgpIHtcbiAgICAgICAgbGV0IHRpbWVEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IG1heFBvd2VyPTEyO1xuICAgICAgICBpZiAodGltZURhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCkgIT0gZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcInRvZGF5RGF0ZVwiKSkge1xuICAgICAgICAgICAgaWYgKE51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwicG93ZXJcIikpIDxtYXhQb3dlcikge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLnVwZGF0ZUNhY2hlKFwiQmFzZVwiLFwidG9kYXlEYXRlXCIsdGltZURhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCkpO1xuICAgICAgICAgICAgZGF0YS51cGRhdGVDYWNoZShcIkJhc2VcIixcImlzR2V0RGFpbHlSZXdhcmRcIiwwKTsvL+aYr+WQpuW3sumihuetvuWIsOWlluWKsVxuICAgICAgICAgICAgZGF0YS51cGRhdGVDYWNoZShcIkJhc2VcIixcImlzR2V0TG9naW5SZXdhcmRcIiwwKTsvL+aYr+WQpuW3sumihueZu+W9leWlluWKsVxuICAgICAgICAgICAgbGV0IGxvZ2luRGF5cz1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcImxvZ2luRGF5c1wiKSk7XG4gICAgICAgICAgICBpZiAobG9naW5EYXlzID49IDcpe1xuICAgICAgICAgICAgICAgIGxvZ2luRGF5cyA9IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEudXBkYXRlQ2FjaGUoXCJCYXNlXCIsXCJsb2dpbkRheXNcIixsb2dpbkRheXMpOy8v55m75b2V5aSp5pWwICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmNoZWNrSGFkU2lnbigpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tIYWRTaWduKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hlY2tIYWRTaWduKCkge1xuICAgICAgICBpZiAoTnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJCYXNlXCIsXCJpc0dldERhaWx5UmV3YXJkXCIpKSA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5TaWduSW5QYW5lbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoq5Yik5pat5piv5ZCm5Y+v5Lul562+5YiwICovXG4gICAgcHJpdmF0ZSBfY2hlY2tDYW5Cb251cygpIHtcbiAgICAgICAgdmFyIGlzUmV3YXJkID0gTnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJCYXNlXCIsXCJpc0dldERhaWx5UmV3YXJkXCIpKVxuICAgICAgICBjYy5sb2coXCJfY2hlY2tDYW5Cb251cyBpc1Jld2FyZDpcIixpc1Jld2FyZClcbiAgICAgICAgaWYgKGlzUmV3YXJkID09IDApIHsgICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBzaG93QWQoKSB7XG4gICAgICAgIC8vIGxldCBhZDpjYy5Ob2RlID0gY2MuZmluZChcIkNhbnZhcy9VaUhvbWUvZmFpbF9wYXJlbnRcIilcbiAgICAgICAgLy8gaWYgKGNjLndpblNpemUuaGVpZ2h0ID4gMjAwMCl7XG4gICAgICAgIC8vICAgICBhZC5zZXRTY2FsZSgwLjcpXG4gICAgICAgIC8vIH1lbHNle1xuICAgICAgICAvLyAgICAgYWQuc2V0U2NhbGUoMC42KVxuICAgICAgICAvLyB9XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgRXhwb3J0LnNob3dfbmF0aXZlX1lTQUQoXCIxMDMwNDAwMVwiLCBcIkNhbnZhcy9mYWlsX3BhcmVudFwiLCAoKSA9PiB7IG1haW5NZW51Lm5hdGl2ZV9oYXZlX3Nob3cgPSB0cnVlIH0pICAgIFxuICAgICAgICB9LCA0MDApOyAgICAgICAgXG4gICAgfVxuICAgIHByaXZhdGUgc2hvd09uZWNlKCkgeyAgICAgICAgXG4gICAgICAgIGlmIChkYXRhLmdldFNpZ25PbmNlT24oKSA9PSBmYWxzZSAmJiB0aGlzLl9jaGVja0NhbkJvbnVzKCkpIHtcbiAgICAgICAgICAgIFVJU2lnbi5TaG93UGFuZWwoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvaW4odGhpcy5jb2luTGFiZWwpO1xuICAgICAgICAgICAgICAgIG1haW5NZW51LnNob3dBZCgpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgZGF0YS5zZXRTaWduT25jZU9uKHRydWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYWluTWVudS5zaG93QWQoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5ri45oiP5byA5aeL5pe277yM6LCD55SoaXNDa2Vja++8jGlzQ2tlY2vmmK/mo4Dmn6XmmK/lkKbmt7vliqDliLDmoYzpnaLkuobvvIxcbiAgICAgKiBAcGFyYW0gbm9kZSDov5nmmK/muLjmiI/pobXpnaLnmoQg5re75Yqg5qGM6Z2iIOaMiemSru+8jOimgeS8oOWFpeiKgueCuVxuICAgICAqIGNhbl9hZGQg5Y+v5Lul5re75Yqg5Yiw5qGM6Z2i77yM5omA5LulIOa3u+WKoOahjOmdoiDmjInpkq7opoHmmL7npLpcbiAgICAgKiBoYXNfYWRkIOW3sue7j+a3u+WKoOWIsOahjOmdou+8jOaJgOS7pSDmt7vliqDmoYzpnaIg5oyJ6ZKu6KaB6ZqQ6JePXG4gICAgICovXG4gICAgc3RhdGljIGlzQ2tlY2sobm9kZT86IGNjLk5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIGxldCBjYW5fYWRkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vICAgICBtYWluTWVudS5hZGREZXNrdG9wKG5vZGUpOyAvLyDmmK/kuIvpnaLnmoRhZGREZXNrdG9w5pa55rOV77yM54Wn5pCs5Y2z5Y+v77yM5rOo5oSP5Y+C5pWwbm9kZe+8jG5vZGXlsLHmmK8g5re75Yqg5qGM6Z2iIOaMiemSruiKgueCuVxuICAgICAgICAgICAgICAgIC8vIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaGFzX2FkZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3l5eF9zZGtfYXBpLmNoZWNrX2lzX2FkZF9kZXNrdG9wKGNhbl9hZGQsIGhhc19hZGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93X2dhbWVfcG9ydGFsX2JveCgpIHtcbiAgICAgICAgc3l5eF9zZGtfYXBpLnNob3dfZ2FtZV9wb3J0YWxfYm94KFwiMTA2MDAwMDNcIiwgbnVsbCwgbnVsbCwgbnVsbCwgKCkgPT4ge1xuICAgICAgICAgICAgTXNnLlNob3coXCLor7fli7/popHnuYHngrnlh7tcIilcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzaG93RGVza3RvcCgpe1xuICAgICAgICBtYWluTWVudS5hZGREZXNrdG9wKHRoaXMuQnRuRGVza3RvcClcbiAgICB9XG4gICAgLyoqXG4gICAgKiDmiZPlvIDmt7vliqDmoYzpnaLmjInpkq5cbiAgICAqL1xuICAgIHN0YXRpYyBhZGREZXNrdG9wKG5vZGUpIHtcbiAgICAgICAgbGV0IG9uX3N1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICBzeXl4X3Nka19hcGkuY2hlY2tfaXNfYWRkX2Rlc2t0b3AoXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIueCueWHu+S6huWPlua2iOa3u+WKoOahjOmdouWbvuagh1wiKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmt7vliqDmoYzpnaLlm77moIfmiJDlip9cIik7XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICB9XG4gICAgICAgIGxldCBvbl9mYWlsZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuS4jeiDvea3u+WKoOahjOmdolwiKVxuICAgICAgICAgICAgTXNnLlNob3coXCLor7fli7/popHnuYHngrnlh7tcIilcbiAgICAgICAgfVxuICAgICAgICBsZXQgb25fZmFpbGVkX2JhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW8ueWHuua3u+WKoOahjOmdouWksei0pVwiKVxuICAgICAgICAgICAgTXNnLlNob3coXCLor7fli7/popHnuYHngrnlh7tcIilcbiAgICAgICAgfVxuICAgICAgICBsZXQgaGFzX2NyZWF0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2FuX2FkZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHN5eXhfc2RrX2FwaS5hZGRfZGVza3RvcChvbl9zdWNjZXNzLCBvbl9mYWlsZWQsIG9uX2ZhaWxlZF9iYWNrLCBoYXNfY3JlYXRlKVxuICAgICAgICB9XG4gICAgICAgIGxldCBoYXNfYWRkID0gKCkgPT4ge1xuICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBzeXl4X3Nka19hcGkuY2hlY2tfaXNfYWRkX2Rlc2t0b3AoY2FuX2FkZCwgaGFzX2FkZCk7XG4gICAgfVxuXG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ui/uiManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '802c0LyqytH+oMyE5/IpfQ3', 'uiManager');
// scripts/game/ui/uiManager.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../../caijiTools");
var uiBase_1 = require("../../uiBase");
var GameManager_1 = require("../GameManager");
var bossHp_1 = require("./bossHp");
var playerHp_1 = require("./playerHp");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var uiManager = /** @class */ (function (_super) {
    __extends(uiManager, _super);
    function uiManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.wuDiNode = null;
        _this.doubleDmgNode = null;
        _this.fullHpNode = null;
        _this.bossHpNode = null;
        _this.loadingNodeStart = null;
        _this.loadingNodeEnd = null;
        _this.bossHp = null;
        return _this;
    }
    uiManager_1 = uiManager;
    uiManager.prototype.onLoad = function () {
        uiManager_1.ins = this;
    };
    uiManager.prototype.start = function () {
        this.init();
    };
    uiManager.prototype.init = function () {
        this.loadingNodeStart.width = cc.winSize.width * 2;
        this.loadingNodeEnd.width = cc.winSize.width * 2;
        this.loadingNodeEnd.active = true;
    };
    uiManager.prototype.lose = function () {
        var _this = this;
        this.scheduleOnce(function () {
            caijiTools_1.caijiTools.showPopup(uiBase_1.uiName.losePanel, _this.node);
        }, 1.5);
    };
    uiManager.prototype.pause = function () {
        caijiTools_1.caijiTools.showPopup(uiBase_1.uiName.pausePanel, this.node);
    };
    uiManager.prototype.win = function () {
        var _this = this;
        GameManager_1.default.instance.levelCompletEvent();
        this.scheduleOnce(function () {
            caijiTools_1.caijiTools.showPopup(uiBase_1.uiName.winPanel, _this.node);
        }, 2.5);
    };
    uiManager.prototype.showUi = function () {
        this.wuDiNode.active = true;
        this.doubleDmgNode.active = true;
        this.fullHpNode.active = true;
    };
    uiManager.prototype.showWuDiPopup = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.showPopup(uiBase_1.uiName.wuDiPopup, this.node)];
                    case 1:
                        _a.sent();
                        cc.director.pause();
                        return [2 /*return*/];
                }
            });
        });
    };
    uiManager.prototype.showFullHpPopup = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.showPopup(uiBase_1.uiName.fullHpPopup, this.node)];
                    case 1:
                        _a.sent();
                        cc.director.pause();
                        return [2 /*return*/];
                }
            });
        });
    };
    uiManager.prototype.showDoubleDamagePopup = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.showPopup(uiBase_1.uiName.doubleDamagePopup, this.node)];
                    case 1:
                        _a.sent();
                        cc.director.pause();
                        return [2 /*return*/];
                }
            });
        });
    };
    uiManager.prototype.wuDi = function () {
        var _this = this;
        if (GameManager_1.default.instance.playerController.isDie)
            return;
        this.wuDiNode.active = false;
        GameManager_1.default.instance.playerController.openWuDi(20);
        this.scheduleOnce(function () {
            _this.wuDiNode.active = true;
        }, 10);
    };
    uiManager.prototype.doubleDamage = function () {
        if (GameManager_1.default.instance.playerController.isDie)
            return;
        playerHp_1.default.instance.damageScale *= 2;
        this.doubleDmgNode.active = false;
    };
    uiManager.prototype.fullHp = function () {
        if (GameManager_1.default.instance.playerController.isDie)
            return;
        playerHp_1.default.instance.fullHp();
    };
    uiManager.prototype.showBossHp = function (bossName) {
        var _this = this;
        this.bossHp = this.bossHpNode.getComponent(bossHp_1.default);
        this.bossHp.bossName = bossName;
        this.bossHp.init(function () {
            _this.bossHpNode.active = true;
        });
    };
    uiManager.prototype.loadingStart = function (callBack) {
        this.loadingNodeStart.x = cc.winSize.width / 2;
        this.loadingNodeStart.width = cc.winSize.width + 1064;
        this.loadingNodeStart.active = true;
        var movex = -this.loadingNodeStart.width * this.loadingNodeStart.scaleX;
        cc.tween(this.loadingNodeStart)
            .by(0.6, { x: movex })
            .call(function () {
            callBack();
        })
            .start();
    };
    uiManager.prototype.loadingEnd = function () {
        var _this = this;
        this.loadingNodeEnd.x = -cc.winSize.width / 2;
        this.loadingNodeEnd.width = cc.winSize.width + 1064;
        this.loadingNodeEnd.active = true;
        this.loadingNodeStart.active = false;
        var movex = -this.loadingNodeEnd.width * Math.abs(this.loadingNodeEnd.scaleX);
        cc.tween(this.loadingNodeEnd)
            .by(0.6, { x: movex })
            .call(function () {
            _this.loadingNodeEnd.active = false;
            GameManager_1.default.instance.spawnPlayer();
        })
            .start();
    };
    var uiManager_1;
    uiManager.ins = null;
    __decorate([
        property(cc.Node)
    ], uiManager.prototype, "wuDiNode", void 0);
    __decorate([
        property(cc.Node)
    ], uiManager.prototype, "doubleDmgNode", void 0);
    __decorate([
        property(cc.Node)
    ], uiManager.prototype, "fullHpNode", void 0);
    __decorate([
        property(cc.Node)
    ], uiManager.prototype, "bossHpNode", void 0);
    __decorate([
        property(cc.Node)
    ], uiManager.prototype, "loadingNodeStart", void 0);
    __decorate([
        property(cc.Node)
    ], uiManager.prototype, "loadingNodeEnd", void 0);
    uiManager = uiManager_1 = __decorate([
        ccclass
    ], uiManager);
    return uiManager;
}(cc.Component));
exports.default = uiManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdWlcXHVpTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRiwrQ0FBOEM7QUFFOUMsdUNBQXNDO0FBQ3RDLDhDQUF5QztBQUN6QyxtQ0FBNEM7QUFDNUMsdUNBQWtDO0FBRTVCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXVDLDZCQUFZO0lBQW5EO1FBQUEscUVBK0dDO1FBNUdHLGNBQVEsR0FBUyxJQUFJLENBQUM7UUFFdEIsbUJBQWEsR0FBUyxJQUFJLENBQUM7UUFFM0IsZ0JBQVUsR0FBUyxJQUFJLENBQUM7UUFFeEIsZ0JBQVUsR0FBUyxJQUFJLENBQUM7UUFFeEIsc0JBQWdCLEdBQVMsSUFBSSxDQUFDO1FBRTlCLG9CQUFjLEdBQVMsSUFBSSxDQUFDO1FBRTVCLFlBQU0sR0FBUSxJQUFJLENBQUM7O0lBZ0d2QixDQUFDO2tCQS9Hb0IsU0FBUztJQWtCMUIsMEJBQU0sR0FBTjtRQUNJLFdBQVMsQ0FBQyxHQUFHLEdBQUMsSUFBSSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCx5QkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFDRCx3QkFBSSxHQUFKO1FBQ0ksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEdBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdB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RCxBQStHQyxDQS9Hc0MsRUFBRSxDQUFDLFNBQVMsR0ErR2xEO2tCQS9Hb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uLy4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCB7IGFkIH0gZnJvbSBcIi4uLy4uL3Nkay9hZFwiO1xuaW1wb3J0IHsgdWlOYW1lIH0gZnJvbSBcIi4uLy4uL3VpQmFzZVwiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9HYW1lTWFuYWdlclwiO1xuaW1wb3J0IGJvc3NIcCwgeyBib3NzTmFtZSB9IGZyb20gXCIuL2Jvc3NIcFwiO1xuaW1wb3J0IHBsYXllckhwIGZyb20gXCIuL3BsYXllckhwXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgdWlNYW5hZ2VyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIHd1RGlOb2RlOmNjLk5vZGU9bnVsbDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBkb3VibGVEbWdOb2RlOmNjLk5vZGU9bnVsbDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBmdWxsSHBOb2RlOmNjLk5vZGU9bnVsbDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBib3NzSHBOb2RlOmNjLk5vZGU9bnVsbDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBsb2FkaW5nTm9kZVN0YXJ0OmNjLk5vZGU9bnVsbDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBsb2FkaW5nTm9kZUVuZDpjYy5Ob2RlPW51bGw7XG5cbiAgICBib3NzSHA6Ym9zc0hwPW51bGw7XG4gICAgc3RhdGljIGluczp1aU1hbmFnZXI9bnVsbDtcblxuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIHVpTWFuYWdlci5pbnM9dGhpcztcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBpbml0KCl7XG4gICAgICAgIHRoaXMubG9hZGluZ05vZGVTdGFydC53aWR0aD1jYy53aW5TaXplLndpZHRoKjI7XG4gICAgICAgIHRoaXMubG9hZGluZ05vZGVFbmQud2lkdGg9Y2Mud2luU2l6ZS53aWR0aCoyO1xuICAgICAgICB0aGlzLmxvYWRpbmdOb2RlRW5kLmFjdGl2ZT10cnVlO1xuICAgIH1cbiAgICBsb3NlKCl7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICBjYWlqaVRvb2xzLnNob3dQb3B1cCh1aU5hbWUubG9zZVBhbmVsLHRoaXMubm9kZSk7XG4gICAgICAgIH0sMS41KTtcbiAgICB9XG4gICAgcGF1c2UoKXtcbiAgICAgICAgY2FpamlUb29scy5zaG93UG9wdXAodWlOYW1lLnBhdXNlUGFuZWwsdGhpcy5ub2RlKTtcbiAgICB9XG4gICAgd2luKCl7XG4gICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLmxldmVsQ29tcGxldEV2ZW50KCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICBjYWlqaVRvb2xzLnNob3dQb3B1cCh1aU5hbWUud2luUGFuZWwsdGhpcy5ub2RlKTtcbiAgICAgICAgfSwyLjUpO1xuICAgIH1cbiAgICBzaG93VWkoKXtcbiAgICAgICAgdGhpcy53dURpTm9kZS5hY3RpdmU9dHJ1ZTtcbiAgICAgICAgdGhpcy5kb3VibGVEbWdOb2RlLmFjdGl2ZT10cnVlO1xuICAgICAgICB0aGlzLmZ1bGxIcE5vZGUuYWN0aXZlPXRydWU7XG4gICAgfVxuICAgIGFzeW5jIHNob3dXdURpUG9wdXAoKXtcbiAgICAgICAgYXdhaXQgY2FpamlUb29scy5zaG93UG9wdXAodWlOYW1lLnd1RGlQb3B1cCx0aGlzLm5vZGUpO1xuICAgICAgICBjYy5kaXJlY3Rvci5wYXVzZSgpO1xuICAgIH1cbiAgICBhc3luYyBzaG93RnVsbEhwUG9wdXAoKXtcbiAgICAgICAgYXdhaXQgY2FpamlUb29scy5zaG93UG9wdXAodWlOYW1lLmZ1bGxIcFBvcHVwLHRoaXMubm9kZSk7XG4gICAgICAgIGNjLmRpcmVjdG9yLnBhdXNlKCk7XG4gICAgfVxuICAgIGFzeW5jIHNob3dEb3VibGVEYW1hZ2VQb3B1cCgpe1xuICAgICAgICBhd2FpdCBjYWlqaVRvb2xzLnNob3dQb3B1cCh1aU5hbWUuZG91YmxlRGFtYWdlUG9wdXAsdGhpcy5ub2RlKTtcbiAgICAgICAgY2MuZGlyZWN0b3IucGF1c2UoKTtcbiAgICB9XG4gICAgd3VEaSgpe1xuICAgICAgICBpZihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLmlzRGllKSByZXR1cm47XG4gICAgICAgIHRoaXMud3VEaU5vZGUuYWN0aXZlPWZhbHNlO1xuICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLm9wZW5XdURpKDIwKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIHRoaXMud3VEaU5vZGUuYWN0aXZlPXRydWU7XG4gICAgICAgIH0sMTApO1xuICAgIH1cbiAgICBkb3VibGVEYW1hZ2UoKXtcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5pc0RpZSkgcmV0dXJuO1xuICAgICAgICBwbGF5ZXJIcC5pbnN0YW5jZS5kYW1hZ2VTY2FsZSo9MjtcbiAgICAgICAgdGhpcy5kb3VibGVEbWdOb2RlLmFjdGl2ZT1mYWxzZTtcbiAgICB9XG4gICAgZnVsbEhwKCl7XG4gICAgICAgIGlmKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuaXNEaWUpIHJldHVybjtcbiAgICAgICAgcGxheWVySHAuaW5zdGFuY2UuZnVsbEhwKCk7XG4gICAgfVxuICAgIHNob3dCb3NzSHAoYm9zc05hbWU6c3RyaW5nKXtcbiAgICAgICAgdGhpcy5ib3NzSHA9dGhpcy5ib3NzSHBOb2RlLmdldENvbXBvbmVudChib3NzSHApO1xuICAgICAgICB0aGlzLmJvc3NIcC5ib3NzTmFtZT1ib3NzTmFtZTtcbiAgICAgICAgdGhpcy5ib3NzSHAuaW5pdCgoKT0+e1xuICAgICAgICAgICAgdGhpcy5ib3NzSHBOb2RlLmFjdGl2ZT10cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbG9hZGluZ1N0YXJ0KGNhbGxCYWNrOkZ1bmN0aW9uKXtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZVN0YXJ0Lng9Y2Mud2luU2l6ZS53aWR0aC8yO1xuICAgICAgICB0aGlzLmxvYWRpbmdOb2RlU3RhcnQud2lkdGg9Y2Mud2luU2l6ZS53aWR0aCsxMDY0O1xuICAgICAgICB0aGlzLmxvYWRpbmdOb2RlU3RhcnQuYWN0aXZlPXRydWU7XG4gICAgICAgIGxldCBtb3ZleD0tdGhpcy5sb2FkaW5nTm9kZVN0YXJ0LndpZHRoKnRoaXMubG9hZGluZ05vZGVTdGFydC5zY2FsZVg7XG4gICAgICAgIGNjLnR3ZWVuKHRoaXMubG9hZGluZ05vZGVTdGFydClcbiAgICAgICAgLmJ5KDAuNix7eDptb3ZleH0pXG4gICAgICAgIC5jYWxsKCgpPT57XG4gICAgICAgICAgICBjYWxsQmFjaygpO1xuICAgICAgICB9KVxuICAgICAgICAuc3RhcnQoKTtcbiAgICB9XG4gICAgbG9hZGluZ0VuZCgpe1xuICAgICAgICB0aGlzLmxvYWRpbmdOb2RlRW5kLng9LWNjLndpblNpemUud2lkdGgvMjtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZUVuZC53aWR0aD1jYy53aW5TaXplLndpZHRoKzEwNjQ7XG4gICAgICAgIHRoaXMubG9hZGluZ05vZGVFbmQuYWN0aXZlPXRydWU7XG4gICAgICAgIHRoaXMubG9hZGluZ05vZGVTdGFydC5hY3RpdmU9ZmFsc2U7XG4gICAgICAgIGxldCBtb3ZleD0tdGhpcy5sb2FkaW5nTm9kZUVuZC53aWR0aCpNYXRoLmFicyh0aGlzLmxvYWRpbmdOb2RlRW5kLnNjYWxlWCk7XG4gICAgICAgIGNjLnR3ZWVuKHRoaXMubG9hZGluZ05vZGVFbmQpXG4gICAgICAgIC5ieSgwLjYse3g6bW92ZXh9KVxuICAgICAgICAuY2FsbCgoKT0+e1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nTm9kZUVuZC5hY3RpdmU9ZmFsc2U7XG4gICAgICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5zcGF3blBsYXllcigpO1xuICAgICAgICB9KVxuICAgICAgICAuc3RhcnQoKTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/main/UiSign.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '811a9SEvgBAZKo44LWnnu5j', 'UiSign');
// scripts/main/UiSign.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var export_sdk_1 = require("../../syyx_sdk/export_sdk");
var Msg_1 = require("../Msg");
var ad_1 = require("../sdk/ad");
var data_1 = require("../sdk/data");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UISign = /** @class */ (function (_super) {
    __extends(UISign, _super);
    function UISign() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.BackBtn = null; //返回
        _this.DoubleBtn = null; //两倍按钮
        _this.BtnSign = null; //直接领取
        /**是否能领取奖励 */
        _this._canBonus = false;
        _this.ScaleNode = null;
        /**已领取 */
        _this.EndSign = [];
        /**
     * 每日签到的金额
     */
        _this.MoneyNum = [500, 1000, 1500, 2000, 3000, 5000, 10000];
        //
        _this.isTurn = false;
        /**
    * 返回
    */
        _this.onNewBackHomeClick = true;
        return _this;
    }
    UISign_1 = UISign;
    UISign.prototype.onLoad = function () {
        this._onLoad();
    };
    UISign.prototype._onLoad = function () {
        this.BackBtn = cc.find("ScaleNode/BackBtn", this.node);
        this.DoubleBtn = cc.find("ScaleNode/BtnDouble", this.node);
        this.BtnSign = cc.find("ScaleNode/BtnSign", this.node);
        this.ScaleNode = cc.find("ScaleNode", this.node);
        this._start();
    };
    UISign.prototype._start = function () {
        for (var index = 0; index < 7; index++) {
            var day = this.ScaleNode.getChildByName("SignBtn" + (index + 1));
            var not = day.getChildByName("dui");
            this.EndSign.push(not);
        }
        // this.DoubleBtn.on(cc.Node.EventType.TOUCH_END, this.DoubleGet, this);
        // this.BtnSign.on(cc.Node.EventType.TOUCH_END, this.OneceGet, this);
        // this.BackBtn.on(cc.Node.EventType.TOUCH_END, this.Back, this);
        this._updatePanel();
        this._hideAllSignBtn();
        this.onOpen();
    };
    UISign.prototype.tweeNode = function (node) {
        cc.tween(node)
            .to(0.3, { scale: 1 }, { easing: "backOut" })
            .start();
    };
    UISign.prototype.tweeNodeOut = function (node, callback) {
        if (callback === void 0) { callback = null; }
        if (!node) {
            return;
        }
        node.active = true;
        var tt = cc.tween(node);
        tt = tt.to(0.3, { scale: 0 }, { easing: "backIn" });
        if (callback) {
            tt = tt.call(function () {
                callback();
            });
        }
        tt.start();
    };
    UISign.prototype.onOpen = function () {
        this.node.scale = 0;
        this.tweeNode(this.node);
        this.onNewBackHomeClick = true;
        UISign_1.native_have_show = false;
        setTimeout(function () {
            export_sdk_1.Export.show_native_YSAD("10304001", "Canvas/signPanel/fail_parent", function () { UISign_1.native_have_show = true; });
        }, 400);
        this._checkCanBonus();
        if (this._canBonus == false) {
            this.BackBtn.active = true;
        }
        else {
            this.BackBtn.active = false;
        }
    };
    /**
     * 2倍领取
     */
    UISign.prototype.DoubleGet = function () {
        var _this = this;
        // audioManager.playAudio(audioName.select);
        this._checkCanBonus();
        if (this._canBonus == false) {
            Msg_1.default.Show("今日已签到,请明日再来!");
            return;
        }
        // Msg.Show("暂时没有视频广告");
        // audioManager.pauseBgGame()
        ad_1.ad.video_show().then(function (isok) {
            // audioManager.playBgGame()
            _this.BackBtn.active = true;
            if (isok) {
                data_1.data.updateCache("Base", "isGetDailyReward", 1); //是否已领签到奖励            
                var loginDays = Number(data_1.data.getCache("Base", "loginDays"));
                if (loginDays >= 7) {
                    loginDays = 0;
                }
                loginDays = loginDays + 1;
                data_1.data.updateCache("Base", "loginDays", loginDays); //登录天数  
                var addcoin = _this.MoneyNum[loginDays - 1] * 2;
                var coin = Number(data_1.data.getCache("Base", "coin")) + addcoin;
                data_1.data.updateCache("Base", "coin", coin);
                Msg_1.default.Show("\u606D\u559C\u83B7\u5F97" + addcoin + "\u91D1\u5E01");
                _this._updateSignBtn(loginDays);
                _this.scheduleOnce(function () {
                    _this._checkCanBonus();
                    _this._hideAllSignBtn();
                }, 0);
            }
        });
    };
    /**
     * 直接领取
     */
    UISign.prototype.OneceGet = function () {
        var _this = this;
        // audioManager.playAudio(audioName.select);
        this._checkCanBonus();
        if (this._canBonus) {
            this.BackBtn.active = true;
            data_1.data.updateCache("Base", "isGetDailyReward", 1); //是否已领签到奖励            
            var loginDays = Number(data_1.data.getCache("Base", "loginDays"));
            if (loginDays >= 7) {
                loginDays = 0;
            }
            loginDays = loginDays + 1;
            data_1.data.updateCache("Base", "loginDays", loginDays); //登录天数    
            var addcoin = this.MoneyNum[loginDays - 1];
            var coin = Number(data_1.data.getCache("Base", "coin")) + addcoin;
            data_1.data.updateCache("Base", "coin", coin);
            Msg_1.default.Show("\u606D\u559C\u83B7\u5F97" + addcoin + "\u91D1\u5E01");
            this._updateSignBtn(loginDays);
            this.scheduleOnce(function () {
                _this._checkCanBonus();
                _this._hideAllSignBtn();
            }, 0);
        }
        else {
            Msg_1.default.Show("今日已签到,请明日再来!");
        }
    };
    UISign.prototype.Back = function () {
        if (this.onNewBackHomeClick && UISign_1.native_have_show) {
            this.onNewBackHomeClick = false;
            export_sdk_1.Export.click_native_YSAD("YSBN"); // 触发ysbn
        }
        else { // 否则回到游戏
            this.onNewBackHomeClick = true;
            UISign_1.native_have_show = false;
            export_sdk_1.Export.hide_naive_YSAD('YSBN'); // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN
            // audioManager.playAudio(audioName.select);
            this.close();
        }
    };
    UISign.prototype.close = function () {
        var _this = this;
        if (UISign_1.okbtn_callback) {
            UISign_1.okbtn_callback();
        }
        cc.game.targetOff(this);
        this.tweeNodeOut(this.node, function () {
            _this.node.destroy();
        });
    };
    /**判断是否可以签到 */
    UISign.prototype._checkCanBonus = function () {
        var isReward = Number(data_1.data.getCache("Base", "isGetDailyReward"));
        cc.log("_checkCanBonus isReward:", isReward);
        if (isReward == 0) {
            this._canBonus = true;
            return;
        }
        this._canBonus = false;
    };
    //更新领取情况
    UISign.prototype._updatePanel = function () {
        this._checkCanBonus();
        if (this._canBonus == true) {
            var loginDays = Number(data_1.data.getCache("Base", "loginDays"));
            console.log(loginDays + "第几天");
            this._updateSignBtn(loginDays);
        }
    };
    /**更新签到状态 */
    UISign.prototype._updateSignBtn = function (day) {
        //this._hideAllSignBtn();
        for (var index = 0; index < 7; index++) {
            if (index < day) {
                this.EndSign[index].active = true;
            }
            else if (index > day) {
                this.EndSign[index].active = false;
            }
        }
    };
    /**刷新所有签到状态 */
    UISign.prototype._hideAllSignBtn = function () {
        var loginDays = Number(data_1.data.getCache("Base", "loginDays"));
        for (var index = 0; index < 7; index++) {
            if (index == loginDays && this._canBonus) {
                this.EndSign[index].active = false;
            }
            else if (index == loginDays && !this._canBonus) {
                this.EndSign[index].active = false;
            }
            else if (index < loginDays) {
                this.EndSign[index].active = true;
            }
            else if (index > loginDays) {
                this.EndSign[index].active = false;
            }
        }
    };
    UISign.prototype.onDestroy = function () {
        cc.game.targetOff(this);
    };
    UISign.ShowPanel = function (callback) {
        if (callback === void 0) { callback = null; }
        {
            if (UISign_1.isShow) {
                return;
            }
            UISign_1.isShow = true;
            UISign_1.okbtn_callback = null;
            cc.loader.loadRes("prefabs/ui/signPanel", cc.Prefab, function (error, resource) {
                UISign_1.isShow = false;
                UISign_1.okbtn_callback = callback;
                if (error) {
                    cc.error(error);
                    return;
                }
                if (resource) {
                    var node = cc.instantiate(resource);
                    if (node) {
                        cc.find("Canvas").addChild(node);
                        node.active = true;
                        node.position = cc.Vec3.ZERO;
                    }
                }
            });
        }
    };
    var UISign_1;
    UISign.native_have_show = false; // 原生结banner展示
    UISign.isShow = false;
    UISign.okbtn_callback = null;
    UISign = UISign_1 = __decorate([
        ccclass
    ], UISign);
    return UISign;
}(cc.Component));
exports.default = UISign;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcbWFpblxcVWlTaWduLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLHdEQUFtRDtBQUNuRCw4QkFBeUI7QUFHekIsZ0NBQStCO0FBQy9CLG9DQUFtQztBQUc3QixJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUFvQywwQkFBWTtJQUFoRDtRQUFBLHFFQTBRQztRQXhRVyxhQUFPLEdBQVksSUFBSSxDQUFDLENBQUEsSUFBSTtRQUM1QixlQUFTLEdBQVksSUFBSSxDQUFDLENBQUEsTUFBTTtRQUNoQyxhQUFPLEdBQVksSUFBSSxDQUFDLENBQUEsTUFBTTtRQUN0QyxhQUFhO1FBQ0wsZUFBUyxHQUFZLEtBQUssQ0FBQztRQUMzQixlQUFTLEdBQVksSUFBSSxDQUFDO1FBQ2xDLFNBQVM7UUFDRCxhQUFPLEdBQWMsRUFBRSxDQUFDO1FBRTVCOztPQUVEO1FBQ0ksY0FBUSxHQUFhLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFrRHZFLEVBQUU7UUFDRixZQUFNLEdBQVksS0FBSyxDQUFBO1FBNEZ2Qjs7TUFFRjtRQUNFLHdCQUFrQixHQUFZLElBQUksQ0FBQzs7SUEwR3ZDLENBQUM7ZUExUW9CLE1BQU07SUFnQnZCLHVCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDbEIsQ0FBQztJQUVPLHdCQUFPLEdBQWY7UUFDSSxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZELElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxxQkFBcUIs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IHsgRXhwb3J0IH0gZnJvbSBcIi4uLy4uL3N5eXhfc2RrL2V4cG9ydF9zZGtcIjtcbmltcG9ydCBNc2cgZnJvbSBcIi4uL01zZ1wiO1xuaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IENvbnN0YW50IGZyb20gXCIuLi9zZGsvQ29uc3RhbnRcIjtcbmltcG9ydCB7IGFkIH0gZnJvbSBcIi4uL3Nkay9hZFwiO1xuaW1wb3J0IHsgZGF0YSB9IGZyb20gXCIuLi9zZGsvZGF0YVwiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi9hdWRpb01hbmFnZXJcIjtcblxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJU2lnbiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBwcml2YXRlIEJhY2tCdG46IGNjLk5vZGUgPSBudWxsOy8v6L+U5ZueXG4gICAgcHJpdmF0ZSBEb3VibGVCdG46IGNjLk5vZGUgPSBudWxsOy8v5Lik5YCN5oyJ6ZKuXG4gICAgcHJpdmF0ZSBCdG5TaWduOiBjYy5Ob2RlID0gbnVsbDsvL+ebtOaOpemihuWPllxuICAgIC8qKuaYr+WQpuiDvemihuWPluWlluWKsSAqL1xuICAgIHByaXZhdGUgX2NhbkJvbnVzOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBTY2FsZU5vZGU6IGNjLk5vZGUgPSBudWxsO1xuICAgIC8qKuW3sumihuWPliAqL1xuICAgIHByaXZhdGUgRW5kU2lnbjogY2MuTm9kZVtdID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICog5q+P5pel562+5Yiw55qE6YeR6aKdXG4gICAgICovXG4gICAgcHVibGljIE1vbmV5TnVtOiBudW1iZXJbXSA9IFs1MDAsIDEwMDAsIDE1MDAsIDIwMDAsIDMwMDAsIDUwMDAsIDEwMDAwXTtcblxuICAgIG9uTG9hZCgpIHtcbiAgICAgICAgdGhpcy5fb25Mb2FkKClcbiAgICB9XG5cbiAgICBwcml2YXRlIF9vbkxvYWQoKSB7XG4gICAgICAgIHRoaXMuQmFja0J0biA9IGNjLmZpbmQoXCJTY2FsZU5vZGUvQmFja0J0blwiLCB0aGlzLm5vZGUpO1xuICAgICAgICB0aGlzLkRvdWJsZUJ0biA9IGNjLmZpbmQoXCJTY2FsZU5vZGUvQnRuRG91YmxlXCIsIHRoaXMubm9kZSk7XG4gICAgICAgIHRoaXMuQnRuU2lnbiA9IGNjLmZpbmQoXCJTY2FsZU5vZGUvQnRuU2lnblwiLCB0aGlzLm5vZGUpOyAgICAgXG4gICAgICAgIHRoaXMuU2NhbGVOb2RlID0gY2MuZmluZChcIlNjYWxlTm9kZVwiLCB0aGlzLm5vZGUpOyAgICAgXG4gICAgICAgIHRoaXMuX3N0YXJ0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc3RhcnQoKSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCA3OyBpbmRleCsrKSB7XG4gICAgICAgICAgICBsZXQgZGF5OiBjYy5Ob2RlID0gdGhpcy5TY2FsZU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJTaWduQnRuXCIgKyAoaW5kZXggKyAxKSk7XG4gICAgICAgICAgICBsZXQgbm90OiBjYy5Ob2RlID0gZGF5LmdldENoaWxkQnlOYW1lKFwiZHVpXCIpO1xuICAgICAgICAgICAgdGhpcy5FbmRTaWduLnB1c2gobm90KTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLkRvdWJsZUJ0bi5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMuRG91YmxlR2V0LCB0aGlzKTtcbiAgICAgICAgLy8gdGhpcy5CdG5TaWduLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5PbmVjZUdldCwgdGhpcyk7XG4gICAgICAgIC8vIHRoaXMuQmFja0J0bi5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMuQmFjaywgdGhpcyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVBhbmVsKCk7XG4gICAgICAgIHRoaXMuX2hpZGVBbGxTaWduQnRuKCk7XG5cbiAgICAgICAgdGhpcy5vbk9wZW4oKVxuICAgIH1cblxuICAgIHB1YmxpYyB0d2VlTm9kZShub2RlOiBjYy5Ob2RlKSB7XG4gICAgICAgIGNjLnR3ZWVuKG5vZGUpXG4gICAgICAgICAgICAudG8oMC4zLCB7IHNjYWxlOiAxIH0sIHsgZWFzaW5nOiBcImJhY2tPdXRcIiB9KVxuICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIHR3ZWVOb2RlT3V0KG5vZGU6IGNjLk5vZGUsIGNhbGxiYWNrOiBGdW5jdGlvbiA9IG51bGwpIHtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBub2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGxldCB0dCA9IGNjLnR3ZWVuKG5vZGUpXG4gICAgICAgIHR0ID0gdHQudG8oMC4zLCB7IHNjYWxlOiAwIH0sIHsgZWFzaW5nOiBcImJhY2tJblwiIH0pXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgdHQgPSB0dC5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHR0LnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgLy9cbiAgICBpc1R1cm46IGJvb2xlYW4gPSBmYWxzZVxuXG4gICAgc3RhdGljIG5hdGl2ZV9oYXZlX3Nob3c6IGJvb2xlYW4gPSBmYWxzZTsgIC8vIOWOn+eUn+e7k2Jhbm5lcuWxleekulxuICAgIHByb3RlY3RlZCBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMubm9kZS5zY2FsZSA9IDA7XG4gICAgICAgIHRoaXMudHdlZU5vZGUodGhpcy5ub2RlKTtcblxuICAgICAgICB0aGlzLm9uTmV3QmFja0hvbWVDbGljayA9IHRydWVcbiAgICAgICAgVUlTaWduLm5hdGl2ZV9oYXZlX3Nob3cgPSBmYWxzZVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIEV4cG9ydC5zaG93X25hdGl2ZV9ZU0FEKFwiMTAzMDQwMDFcIiwgXCJDYW52YXMvc2lnblBhbmVsL2ZhaWxfcGFyZW50XCIsICgpID0+IHsgVUlTaWduLm5hdGl2ZV9oYXZlX3Nob3cgPSB0cnVlIH0pXG4gICAgICAgIH0sIDQwMCk7XG4gICAgICAgIHRoaXMuX2NoZWNrQ2FuQm9udXMoKTtcbiAgICAgICAgaWYgKHRoaXMuX2NhbkJvbnVzID09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLkJhY2tCdG4uYWN0aXZlID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5CYWNrQnRuLmFjdGl2ZSA9IGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAy5YCN6aKG5Y+WXG4gICAgICovXG4gICAgIERvdWJsZUdldCgpIHtcbiAgICAgICAgLy8gYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuc2VsZWN0KTtcbiAgICAgICAgdGhpcy5fY2hlY2tDYW5Cb251cygpO1xuICAgICAgICBpZiAodGhpcy5fY2FuQm9udXMgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIE1zZy5TaG93KFwi5LuK5pel5bey562+5YiwLOivt+aYjuaXpeWGjeadpSFcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gTXNnLlNob3coXCLmmoLml7bmsqHmnInop4bpopHlub/lkYpcIik7XG4gICAgICAgIC8vIGF1ZGlvTWFuYWdlci5wYXVzZUJnR2FtZSgpXG4gICAgICAgIGFkLnZpZGVvX3Nob3coKS50aGVuKGlzb2s9PntcbiAgICAgICAgICAgIC8vIGF1ZGlvTWFuYWdlci5wbGF5QmdHYW1lKClcbiAgICAgICAgICAgIHRoaXMuQmFja0J0bi5hY3RpdmUgPSB0cnVlXG5cbiAgICAgICAgICAgIGlmKGlzb2spe1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkYXRhLnVwZGF0ZUNhY2hlKFwiQmFzZVwiLFwiaXNHZXREYWlseVJld2FyZFwiLDEpOy8v5piv5ZCm5bey6aKG562+5Yiw5aWW5YqxICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IGxvZ2luRGF5cz1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcImxvZ2luRGF5c1wiKSk7XG4gICAgICAgICAgICAgICAgaWYgKGxvZ2luRGF5cyA+PSA3KXtcbiAgICAgICAgICAgICAgICAgICAgbG9naW5EYXlzID0gMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2dpbkRheXMgPSBsb2dpbkRheXMrMVxuICAgICAgICAgICAgICAgIGRhdGEudXBkYXRlQ2FjaGUoXCJCYXNlXCIsXCJsb2dpbkRheXNcIixsb2dpbkRheXMpOy8v55m75b2V5aSp5pWwICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZXQgYWRkY29pbiA9IHRoaXMuTW9uZXlOdW1bbG9naW5EYXlzIC0gMV0gKjJcbiAgICAgICAgICAgICAgICBsZXQgY29pbj1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcImNvaW5cIikpKyBhZGRjb2luO1xuICAgICAgICAgICAgICAgIGRhdGEudXBkYXRlQ2FjaGUoXCJCYXNlXCIsXCJjb2luXCIsY29pbik7XG4gICAgICAgICAgICAgICAgTXNnLlNob3coYOaBreWWnOiOt+W+lyR7YWRkY29pbn3ph5HluIFgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTaWduQnRuKGxvZ2luRGF5cyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0NhbkJvbnVzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hpZGVBbGxTaWduQnRuKCk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDnm7TmjqXpooblj5ZcbiAgICAgKi9cbiAgICAgT25lY2VHZXQoKSB7XG4gICAgICAgIC8vIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLnNlbGVjdCk7XG4gICAgICAgIHRoaXMuX2NoZWNrQ2FuQm9udXMoKTtcbiAgICAgICAgaWYgKHRoaXMuX2NhbkJvbnVzKSB7XG4gICAgICAgICAgICB0aGlzLkJhY2tCdG4uYWN0aXZlID0gdHJ1ZVxuXG4gICAgICAgICAgICBkYXRhLnVwZGF0ZUNhY2hlKFwiQmFzZVwiLFwiaXNHZXREYWlseVJld2FyZFwiLDEpOy8v5piv5ZCm5bey6aKG562+5Yiw5aWW5YqxICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgbG9naW5EYXlzPU51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwibG9naW5EYXlzXCIpKTtcbiAgICAgICAgICAgIGlmIChsb2dpbkRheXMgPj0gNyl7XG4gICAgICAgICAgICAgICAgbG9naW5EYXlzID0gMFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9naW5EYXlzID0gbG9naW5EYXlzKzFcbiAgICAgICAgICAgIGRhdGEudXBkYXRlQ2FjaGUoXCJCYXNlXCIsXCJsb2dpbkRheXNcIixsb2dpbkRheXMpOy8v55m75b2V5aSp5pWwICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgYWRkY29pbiA9IHRoaXMuTW9uZXlOdW1bbG9naW5EYXlzLTFdXG4gICAgICAgICAgICBsZXQgY29pbj1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcImNvaW5cIikpKyBhZGRjb2luO1xuICAgICAgICAgICAgZGF0YS51cGRhdGVDYWNoZShcIkJhc2VcIixcImNvaW5cIixjb2luKTtcbiAgICAgICAgICAgIE1zZy5TaG93KGDmga3llpzojrflvpcke2FkZGNvaW596YeR5biBYCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNpZ25CdG4obG9naW5EYXlzKTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0NhbkJvbnVzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGlkZUFsbFNpZ25CdG4oKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgTXNnLlNob3coXCLku4rml6Xlt7Lnrb7liLAs6K+35piO5pel5YaN5p2lIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuKiDov5Tlm55cbiovXG4gICAgb25OZXdCYWNrSG9tZUNsaWNrOiBib29sZWFuID0gdHJ1ZTtcbiAgICBCYWNrKCkge1xuICAgICAgICBpZiAodGhpcy5vbk5ld0JhY2tIb21lQ2xpY2sgJiYgVUlTaWduLm5hdGl2ZV9oYXZlX3Nob3cpIHtcbiAgICAgICAgICAgIHRoaXMub25OZXdCYWNrSG9tZUNsaWNrID0gZmFsc2VcbiAgICAgICAgICAgIEV4cG9ydC5jbGlja19uYXRpdmVfWVNBRChcIllTQk5cIikgLy8g6Kem5Y+ReXNiblxuICAgICAgICB9IGVsc2UgeyAvLyDlkKbliJnlm57liLDmuLjmiI9cbiAgICAgICAgICAgIHRoaXMub25OZXdCYWNrSG9tZUNsaWNrID0gdHJ1ZVxuICAgICAgICAgICAgVUlTaWduLm5hdGl2ZV9oYXZlX3Nob3cgPSBmYWxzZVxuICAgICAgICAgICAgRXhwb3J0LmhpZGVfbmFpdmVfWVNBRCgnWVNCTicpIC8vIOmakOiXj+WOn+eUn+W5v+WRiiDkvKAnWVNCTifvvIzmhI/mgJ3mmK/lkIzml7bkvJrpooTliqDovb1ZU0JOXG4gICAgICAgICAgICAvLyBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5zZWxlY3QpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNsb3NlKCkge1xuICAgICAgICBpZiAoVUlTaWduLm9rYnRuX2NhbGxiYWNrKSB7XG4gICAgICAgICAgICBVSVNpZ24ub2tidG5fY2FsbGJhY2soKVxuICAgICAgICB9XG4gICAgICAgIGNjLmdhbWUudGFyZ2V0T2ZmKHRoaXMpO1xuICAgICAgICB0aGlzLnR3ZWVOb2RlT3V0KHRoaXMubm9kZSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKuWIpOaWreaYr+WQpuWPr+S7peetvuWIsCAqL1xuICAgIHByaXZhdGUgX2NoZWNrQ2FuQm9udXMoKSB7XG4gICAgICAgIHZhciBpc1Jld2FyZCA9IE51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwiaXNHZXREYWlseVJld2FyZFwiKSlcbiAgICAgICAgY2MubG9nKFwiX2NoZWNrQ2FuQm9udXMgaXNSZXdhcmQ6XCIsaXNSZXdhcmQpXG4gICAgICAgIGlmIChpc1Jld2FyZCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW5Cb251cyA9IHRydWVcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhbkJvbnVzID0gZmFsc2VcbiAgICB9XG4gICAgLy/mm7TmlrDpooblj5bmg4XlhrVcbiAgICBwcml2YXRlIF91cGRhdGVQYW5lbCgpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tDYW5Cb251cygpO1xuICAgICAgICBpZiAodGhpcy5fY2FuQm9udXMgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgbGV0IGxvZ2luRGF5cz1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcImxvZ2luRGF5c1wiKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhsb2dpbkRheXMgKyBcIuesrOWHoOWkqVwiKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNpZ25CdG4obG9naW5EYXlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKirmm7TmlrDnrb7liLDnirbmgIEgKi9cbiAgICBwcml2YXRlIF91cGRhdGVTaWduQnRuKGRheTogbnVtYmVyKSB7XG4gICAgICAgIC8vdGhpcy5faGlkZUFsbFNpZ25CdG4oKTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDc7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA8IGRheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuRW5kU2lnbltpbmRleF0uYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiBkYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLkVuZFNpZ25baW5kZXhdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoq5Yi35paw5omA5pyJ562+5Yiw54q25oCBICovXG4gICAgcHJpdmF0ZSBfaGlkZUFsbFNpZ25CdG4oKSB7XG4gICAgICAgIGxldCBsb2dpbkRheXM9TnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJCYXNlXCIsXCJsb2dpbkRheXNcIikpO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgNzsgaW5kZXgrKykge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09IGxvZ2luRGF5cyAmJiB0aGlzLl9jYW5Cb251cykge1xuICAgICAgICAgICAgICAgIHRoaXMuRW5kU2lnbltpbmRleF0uYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09IGxvZ2luRGF5cyAmJiAhdGhpcy5fY2FuQm9udXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLkVuZFNpZ25baW5kZXhdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA8IGxvZ2luRGF5cykge1xuICAgICAgICAgICAgICAgIHRoaXMuRW5kU2lnbltpbmRleF0uYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiBsb2dpbkRheXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLkVuZFNpZ25baW5kZXhdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uRGVzdHJveSgpIHtcbiAgICAgICAgY2MuZ2FtZS50YXJnZXRPZmYodGhpcyk7XG4gICAgfVxuXG5cbiAgICBcbiAgICBzdGF0aWMgaXNTaG93OmJvb2xlYW4gPSBmYWxzZVxuICAgIHN0YXRpYyBva2J0bl9jYWxsYmFjazpGdW5jdGlvbiAgPSBudWxsXG4gICAgICAgICAgICBcbiAgICBwdWJsaWMgc3RhdGljIFNob3dQYW5lbChjYWxsYmFjazogRnVuY3Rpb24gPSBudWxsKSB7XG4gICAge1xuICAgICAgICAgICAgaWYgKFVJU2lnbi5pc1Nob3cpe1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVUlTaWduLmlzU2hvdyA9IHRydWVcbiAgICAgICAgICAgIFVJU2lnbi5va2J0bl9jYWxsYmFjayA9IG51bGxcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKFwicHJlZmFicy91aS9zaWduUGFuZWxcIiwgY2MuUHJlZmFiLCAoZXJyb3I6RXJyb3IsIHJlc291cmNlOmNjLlByZWZhYikgPT4ge1xuICAgICAgICAgICAgICAgIFVJU2lnbi5pc1Nob3cgPSBmYWxzZVxuICAgICAgICAgICAgICAgIFVJU2lnbi5va2J0bl9jYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNjLmVycm9yKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlOiBjYy5Ob2RlID0gY2MuaW5zdGFudGlhdGUocmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2MuZmluZChcIkNhbnZhc1wiKS5hZGRDaGlsZChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucG9zaXRpb24gPSBjYy5WZWMzLlpFUk87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/configs/syyx_sdk_enum.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fc2a6XHmnJK65cXBf0IwQF/', 'syyx_sdk_enum');
// syyx_sdk/configs/syyx_sdk_enum.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.e_ad_id = exports.syyx_prefab_path = exports.e_settlement_stat_type = exports.e_hall_stat_type = exports.e_chapter_result_type = exports.e_stat_event_id = exports.e_stat_event_type = exports.e_ad_native_click_pro_type = exports.e_ad_native_state = exports.e_ad_native_type = exports.e_syyx_ctr_event_type = void 0;
var e_syyx_ctr_event_type;
(function (e_syyx_ctr_event_type) {
    e_syyx_ctr_event_type[e_syyx_ctr_event_type["show"] = 30002] = "show";
    e_syyx_ctr_event_type[e_syyx_ctr_event_type["click"] = 30001] = "click";
})(e_syyx_ctr_event_type = exports.e_syyx_ctr_event_type || (exports.e_syyx_ctr_event_type = {}));
//原生数据状态
var e_ad_native_type;
(function (e_ad_native_type) {
    e_ad_native_type[e_ad_native_type["native_banner"] = 1] = "native_banner";
    e_ad_native_type[e_ad_native_type["native_inner_interstitial"] = 2] = "native_inner_interstitial";
    e_ad_native_type[e_ad_native_type["native_interstitial"] = 3] = "native_interstitial";
    e_ad_native_type[e_ad_native_type["native_icon"] = 4] = "native_icon";
})(e_ad_native_type = exports.e_ad_native_type || (exports.e_ad_native_type = {}));
//原生数据状态
var e_ad_native_state;
(function (e_ad_native_state) {
    e_ad_native_state[e_ad_native_state["none"] = 0] = "none";
    e_ad_native_state[e_ad_native_state["need_show"] = 1] = "need_show";
    e_ad_native_state[e_ad_native_state["show"] = 2] = "show";
    e_ad_native_state[e_ad_native_state["click"] = 3] = "click";
})(e_ad_native_state = exports.e_ad_native_state || (exports.e_ad_native_state = {}));
//原生点击率状态
var e_ad_native_click_pro_type;
(function (e_ad_native_click_pro_type) {
    e_ad_native_click_pro_type[e_ad_native_click_pro_type["none"] = 1] = "none";
    e_ad_native_click_pro_type[e_ad_native_click_pro_type["cooling"] = 2] = "cooling";
    e_ad_native_click_pro_type[e_ad_native_click_pro_type["active"] = 3] = "active";
})(e_ad_native_click_pro_type = exports.e_ad_native_click_pro_type || (exports.e_ad_native_click_pro_type = {}));
var e_stat_event_type;
(function (e_stat_event_type) {
    e_stat_event_type["hall"] = "10001";
    e_stat_event_type["chapter"] = "10002";
    e_stat_event_type["result"] = "10003"; //结算
})(e_stat_event_type = exports.e_stat_event_type || (exports.e_stat_event_type = {}));
var e_stat_event_id;
(function (e_stat_event_id) {
    e_stat_event_id["none"] = "0";
    e_stat_event_id["win_click_native_adv"] = "10001";
    e_stat_event_id["lose_click_native_adv"] = "10002";
})(e_stat_event_id = exports.e_stat_event_id || (exports.e_stat_event_id = {}));
var e_chapter_result_type;
(function (e_chapter_result_type) {
    e_chapter_result_type["enter_chapter"] = "1000000";
    e_chapter_result_type["win"] = "1000001";
    e_chapter_result_type["lose"] = "1000002";
})(e_chapter_result_type = exports.e_chapter_result_type || (exports.e_chapter_result_type = {}));
var e_hall_stat_type;
(function (e_hall_stat_type) {
    e_hall_stat_type["enter_hall"] = "1";
})(e_hall_stat_type = exports.e_hall_stat_type || (exports.e_hall_stat_type = {}));
var e_settlement_stat_type;
(function (e_settlement_stat_type) {
    e_settlement_stat_type["enter_settlement"] = "1";
})(e_settlement_stat_type = exports.e_settlement_stat_type || (exports.e_settlement_stat_type = {}));
var syyx_prefab_path;
(function (syyx_prefab_path) {
    /**
     * 原生banner广告
     */
    syyx_prefab_path["native_banner"] = "syyx_prefab/ad/ui_banner";
    /**
     * 结算原生
     */
    syyx_prefab_path["inner_interstitial"] = "syyx_prefab/ad/ui_inner_interstitial";
    syyx_prefab_path["inner_interstitial_bn"] = "syyx_prefab/ad/ui_inner_interstitial_bn";
    /**
     * 需要遮罩的插屏广告
     */
    syyx_prefab_path["interstitial"] = "syyx_prefab/ad/ui_interstitial";
    /**
     * 需要遮罩的插屏广告
     */
    syyx_prefab_path["interstitial_h"] = "syyx_prefab/ad/ui_interstitial_h";
    /**
     * 原生icon
     */
    syyx_prefab_path["native_icon"] = "syyx_prefab/ad/ui_native_icon";
    /**
     * 提示
     */
    syyx_prefab_path["toast"] = "syyx_prefab/ad/ui_toast";
    /**
    * 新品尝鲜
    */
    syyx_prefab_path["ctr_test"] = "syyx_prefab/ctr/ui_ctr";
    /**
    * 新品尝鲜
    */
    syyx_prefab_path["ctr_test_h"] = "syyx_prefab/ctr/ui_ctr_h";
})(syyx_prefab_path = exports.syyx_prefab_path || (exports.syyx_prefab_path = {}));
var e_ad_id;
(function (e_ad_id) {
    e_ad_id["interstitial_hall"] = "10100001";
    e_ad_id["video_add_gold"] = "10200001";
    e_ad_id["video_add_diamond"] = "10200002";
    e_ad_id["video_forging"] = "10200004";
    e_ad_id["video_luck_draw"] = "10200005";
    e_ad_id["native_interstitial_hall"] = "10301001";
    e_ad_id["native_inner_interstitial_success"] = "10302001";
    e_ad_id["native_banner"] = "10304001";
    e_ad_id["native_icon"] = "10304002";
    e_ad_id["banner_hall"] = "10400001";
    e_ad_id["appbox_hall"] = "10600001";
    e_ad_id["game_banner_box"] = "10600002";
    e_ad_id["game_portal_box"] = "10600003";
    e_ad_id["bottom_block"] = "10900001";
    e_ad_id["left_block"] = "10900002";
    e_ad_id["right_block"] = "10900003";
})(e_ad_id = exports.e_ad_id || (exports.e_ad_id = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbmZpZ3NcXHN5eXhfc2RrX2VudW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBWSxxQkFHWDtBQUhELFdBQVkscUJBQXFCO0lBQzdCLHFFQUFZLENBQUE7SUFDWix1RUFBYSxDQUFBO0FBQ2pCLENBQUMsRUFIVyxxQkFBcUIsR0FBckIsNkJBQXFCLEtBQXJCLDZCQUFxQixRQUdoQztBQUVELFFBQVE7QUFDUixJQUFZLGdCQUtYO0FBTEQsV0FBWSxnQkFBZ0I7SUFDeEIseUVBQWlCLENBQUE7SUFDakIsaUdBQTZCLENBQUE7SUFDN0IscUZBQXVCLENBQUE7SUFDdkIscUVBQWUsQ0FBQTtBQUNuQixDQUFDLEVBTFcsZ0JBQWdCLEdBQWhCLHdCQUFnQixLQUFoQix3QkFBZ0IsUUFLM0I7QUFFRCxRQUFRO0FBQ1IsSUFBWSxpQkFLWDtBQUxELFdBQVksaUJBQWlCO0lBQ3pCLHlEQUFRLENBQUE7SUFDUixtRUFBYSxDQUFBO0lBQ2IseURBQVEsQ0FBQTtJQUNSLDJEQUFTLENBQUE7QUFDYixDQUFDLEVBTFcsaUJBQWlCLEdBQWpCLHlCQUFpQixLQUFqQix5QkFBaUIsUUFLNUI7QUFFRCxTQUFTO0FBQ1QsSUFBWSwwQkFJWDtBQUpELFdBQVksMEJBQTBCO0lBQ2xDLDJFQUFRLENBQUE7SUFDUixpRkFBVyxDQUFBO0lBQ1gsK0VBQVUsQ0FBQTtBQUNkLENBQUMsRUFKVywwQkFBMEIsR0FBMUIsa0NBQTBCLEtBQTFCLGtDQUEwQixRQUlyQztBQUVELElBQVksaUJBSVg7QUFKRCxXQUFZLGlCQUFpQjtJQUN6QixtQ0FBYyxDQUFBO0lBQ2Qsc0NBQWlCLENBQUE7SUFDakIscUNBQWdCLENBQUEsQ0FBRSxJQUFJO0FBQzFCLENBQUMsRUFKVyxpQkFBaUIsR0FBakIseUJBQWlCLEtBQWpCLHlCQUFpQixRQUk1QjtBQUVELElBQVksZUFJWDtBQUpELFdBQVksZUFBZTtJQUN2Qiw2QkFBVSxDQUFBO0lBQ1YsaURBQThCLENBQUE7SUFDOUIsa0RBQStCLENBQUE7QUFDbkMsQ0FBQyxFQUpXLGVBQWUsR0FBZix1QkFBZSxLQUFmLHVCQUFlLFFBSTFCO0FBRUQsSUFBWSxxQkFJWDtBQUpELFdBQVkscUJBQXFCO0lBQzdCLGtEQUF5QixDQUFBO0lBQ3pCLHdDQUFlLENBQUE7SUFDZix5Q0FBZ0IsQ0FBQTtBQUNwQixDQUFDLEVBSlcscUJBQXFCLEdBQXJCLDZCQUFxQixLQUFyQiw2QkFBcUIsUUFJaEM7QUFFRCxJQUFZLGdCQUVYO0FBRkQsV0FBWSxnQkFBZ0I7SUFDeEIsb0NBQWdCLENBQUE7QUFDcEIsQ0FBQyxFQUZXLGdCQUFnQixHQUFoQix3QkFBZ0IsS0FBaEIsd0JBQWdCLFFBRTNCO0FBRUQsSUFBWSxzQkFFWDtBQUZELFdBQVksc0JBQXNCO0lBQzlCLGdEQUFzQixDQUFBO0FBQzFCLENBQUMsRUFGVyxzQkFBc0IsR0FBdEIsOEJBQXNCLEtBQXRCLDhCQUFzQixRQUVqQztBQUVELElBQVksZ0JBMENYO0FBMUNELFdBQVksZ0JBQWdCO0lBQ3hCOztPQUVHO0lBQ0gsOERBQTBDLENBQUE7SUFFMUM7O09BRUc7SUFDSCwrRUFBMkQsQ0FBQTtJQUUzRCxxRkFBaUUsQ0FBQTtJQUVqRTs7T0FFRztJQUNILG1FQUErQyxDQUFBO0lBQy9DOztPQUVHO0lBQ0gsdUVBQW1ELENBQUE7SUFFbkQ7O09BRUc7SUFDSCxpRUFBNkMsQ0FBQTtJQUM3Qzs7T0FFRztJQUNILHFEQUFpQyxDQUFBO0lBRWpDOztNQUVFO0lBQ0YsdURBQW1DLENBQUE7SUFFbkM7O01BRUU7SUFDRiwyREFBdUMsQ0FBQTtBQUczQyxDQUFDLEVBMUNXLGdCQUFnQixHQUFoQix3QkFBZ0IsS0FBaEIsd0JBQWdCLFFBMEMzQjtBQUVELElBQVksT0FrQlg7QUFsQkQsV0FBWSxPQUFPO0lBQ2YseUNBQThCLENBQUE7SUFDOUIsc0NBQTJCLENBQUE7SUFDM0IseUNBQThCLENBQUE7SUFDOUIscUNBQTBCLENBQUE7SUFDMUIsdUNBQTRCLENBQUE7SUFFNUIsZ0RBQXFDLENBQUE7SUFDckMseURBQThDLENBQUE7SUFDOUMscUNBQTBCLENBQUE7SUFDMUIsbUNBQXdCLENBQUE7SUFDeEIsbUNBQXdCLENBQUE7SUFDeEIsbUNBQXdCLENBQUE7SUFDeEIsdUNBQTRCLENBQUE7SUFDNUIsdUNBQTRCLENBQUE7SUFDNUIsb0NBQXlCLENBQUE7SUFDekIsa0NBQXVCLENBQUE7SUFDdkIsbUNBQXdCLENBQUE7QUFDNUIsQ0FBQyxFQWxCVyxPQUFPLEdBQVAsZUFBTyxLQUFQLGVBQU8sUUFrQmxCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gZV9zeXl4X2N0cl9ldmVudF90eXBlIHtcclxuICAgIHNob3cgPSAzMDAwMiwgLy/mm53lhYlcclxuICAgIGNsaWNrID0gMzAwMDEsICAvL+eCueWHu1xyXG59XHJcblxyXG4vL+WOn+eUn+aVsOaNrueKtuaAgVxyXG5leHBvcnQgZW51bSBlX2FkX25hdGl2ZV90eXBlIHtcclxuICAgIG5hdGl2ZV9iYW5uZXIgPSAxLCAgIC8v5Y6f55SfQmFubmVyXHJcbiAgICBuYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsID0gMiwvL+e7k+eul+WOn+eUn1xyXG4gICAgbmF0aXZlX2ludGVyc3RpdGlhbCA9IDMsICAgLy/ljp/nlJ/mj5LlsY8gIFxyXG4gICAgbmF0aXZlX2ljb24gPSA0LCAgIC8v5Y6f55SfaWNvbiAgXHJcbn1cclxuXHJcbi8v5Y6f55Sf5pWw5o2u54q25oCBXHJcbmV4cG9ydCBlbnVtIGVfYWRfbmF0aXZlX3N0YXRlIHtcclxuICAgIG5vbmUgPSAwLCAgIC8v5rKh5pyJ5pWw5o2uXHJcbiAgICBuZWVkX3Nob3cgPSAxLC8v6ZyA6KaB5bGV56S6XHJcbiAgICBzaG93ID0gMiwgICAvL+S4iuaKpei/h+abneWFiSAgXHJcbiAgICBjbGljayA9IDMsICAgLy/kuIrmiqXov4fngrnlh7sgIFxyXG59XHJcblxyXG4vL+WOn+eUn+eCueWHu+eOh+eKtuaAgVxyXG5leHBvcnQgZW51bSBlX2FkX25hdGl2ZV9jbGlja19wcm9fdHlwZSB7XHJcbiAgICBub25lID0gMSwgLy/ml6DnirbmgIFcclxuICAgIGNvb2xpbmcgPSAyLCAvL+WGt+WNtOeKtuaAgVxyXG4gICAgYWN0aXZlID0gMywvL+a/gOa0uyDlj6/ku6Xnu6fnu63lsZXnpLpcclxufVxyXG5cclxuZXhwb3J0IGVudW0gZV9zdGF0X2V2ZW50X3R5cGUge1xyXG4gICAgaGFsbCA9IFwiMTAwMDFcIiwgLy/lpKfljoVcclxuICAgIGNoYXB0ZXIgPSBcIjEwMDAyXCIsIC8v5YWz5Y2hXHJcbiAgICByZXN1bHQgPSBcIjEwMDAzXCIgIC8v57uT566XXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIGVfc3RhdF9ldmVudF9pZCB7XHJcbiAgICBub25lID0gXCIwXCIsXHJcbiAgICB3aW5fY2xpY2tfbmF0aXZlX2FkdiA9IFwiMTAwMDFcIixcclxuICAgIGxvc2VfY2xpY2tfbmF0aXZlX2FkdiA9IFwiMTAwMDJcIlxyXG59XHJcblxyXG5leHBvcnQgZW51bSBlX2NoYXB0ZXJfcmVzdWx0X3R5cGUge1xyXG4gICAgZW50ZXJfY2hhcHRlciA9IFwiMTAwMDAwMFwiLCAvL+i/m+WFpeWFs+WNoVxyXG4gICAgd2luID0gXCIxMDAwMDAxXCIsIC8v6IOc5YipXHJcbiAgICBsb3NlID0gXCIxMDAwMDAyXCIsIC8v5aSx6LSlXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIGVfaGFsbF9zdGF0X3R5cGUge1xyXG4gICAgZW50ZXJfaGFsbCA9IFwiMVwiLC8v6L+b5YWl5aSn5Y6FXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIGVfc2V0dGxlbWVudF9zdGF0X3R5cGUge1xyXG4gICAgZW50ZXJfc2V0dGxlbWVudCA9IFwiMVwiLC8v6L+b5YWl57uT566XXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIHN5eXhfcHJlZmFiX3BhdGgge1xyXG4gICAgLyoqXHJcbiAgICAgKiDljp/nlJ9iYW5uZXLlub/lkYpcclxuICAgICAqL1xyXG4gICAgbmF0aXZlX2Jhbm5lciA9IFwic3l5eF9wcmVmYWIvYWQvdWlfYmFubmVyXCIsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5Pnrpfljp/nlJ9cclxuICAgICAqL1xyXG4gICAgaW5uZXJfaW50ZXJzdGl0aWFsID0gXCJzeXl4X3ByZWZhYi9hZC91aV9pbm5lcl9pbnRlcnN0aXRpYWxcIixcclxuXHJcbiAgICBpbm5lcl9pbnRlcnN0aXRpYWxfYm4gPSBcInN5eXhfcHJlZmFiL2FkL3VpX2lubmVyX2ludGVyc3RpdGlhbF9iblwiLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZyA6KaB6YGu572p55qE5o+S5bGP5bm/5ZGKXHJcbiAgICAgKi9cclxuICAgIGludGVyc3RpdGlhbCA9IFwic3l5eF9wcmVmYWIvYWQvdWlfaW50ZXJzdGl0aWFsXCIsXHJcbiAgICAvKipcclxuICAgICAqIOmcgOimgemBrue9qeeahOaPkuWxj+W5v+WRilxyXG4gICAgICovXHJcbiAgICBpbnRlcnN0aXRpYWxfaCA9IFwic3l5eF9wcmVmYWIvYWQvdWlfaW50ZXJzdGl0aWFsX2hcIixcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWOn+eUn2ljb25cclxuICAgICAqL1xyXG4gICAgbmF0aXZlX2ljb24gPSBcInN5eXhfcHJlZmFiL2FkL3VpX25hdGl2ZV9pY29uXCIsXHJcbiAgICAvKipcclxuICAgICAqIOaPkOekulxyXG4gICAgICovXHJcbiAgICB0b2FzdCA9IFwic3l5eF9wcmVmYWIvYWQvdWlfdG9hc3RcIixcclxuXHJcbiAgICAvKipcclxuICAgICog5paw5ZOB5bCd6bKcXHJcbiAgICAqL1xyXG4gICAgY3RyX3Rlc3QgPSBcInN5eXhfcHJlZmFiL2N0ci91aV9jdHJcIixcclxuXHJcbiAgICAvKipcclxuICAgICog5paw5ZOB5bCd6bKcXHJcbiAgICAqL1xyXG4gICAgY3RyX3Rlc3RfaCA9IFwic3l5eF9wcmVmYWIvY3RyL3VpX2N0cl9oXCIsXHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGVudW0gZV9hZF9pZCB7XHJcbiAgICBpbnRlcnN0aXRpYWxfaGFsbCA9IFwiMTAxMDAwMDFcIiwgLy8g5pmu6YCa5o+S5bGP5aSn5Y6F5by55Ye6XHRcclxuICAgIHZpZGVvX2FkZF9nb2xkID0gXCIxMDIwMDAwMVwiLC8v5r+A5Yqx6KeG6aKRIOmHkeW4geS4jei2s+W8ueeqlyDnnIvop4bpopHlop7liqDph5HluIFcclxuICAgIHZpZGVvX2FkZF9kaWFtb25kID0gXCIxMDIwMDAwMlwiLC8vICAgIOa/gOWKseinhumikSDpkrvnn7PkuI3otrPlvLnnqpcg55yL6KeG6aKR5aKe5Yqg6ZK755+zXHRcclxuICAgIHZpZGVvX2ZvcmdpbmcgPSBcIjEwMjAwMDA0XCIsLy8gICAg5r+A5Yqx6KeG6aKRIOmUu+mAoOeri+WNs+WujOaIkCBcclxuICAgIHZpZGVvX2x1Y2tfZHJhdyA9IFwiMTAyMDAwMDVcIiwvLyAgICDmv4DlirHop4bpopEg5bm46L+Q6L2s55uY5oq95aWWXHJcbiAgICBcclxuICAgIG5hdGl2ZV9pbnRlcnN0aXRpYWxfaGFsbCA9IFwiMTAzMDEwMDFcIiwvLyAgICDljp/nlJ/mj5LlsY8gIOW4puedgOmBrue9qSDlpKfljoXlvLnlh7og6buE6ImyXHRcclxuICAgIG5hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWxfc3VjY2VzcyA9IFwiMTAzMDIwMDFcIiwvLyAg57uT566X5Y6f55SfIOS4jeW4pumBrue9qSDog5zliKnnlYzpnaIg6JOd6ImyXHRcclxuICAgIG5hdGl2ZV9iYW5uZXIgPSBcIjEwMzA0MDAxXCIsLy/ljp/nlJ9iYW5uZXJcclxuICAgIG5hdGl2ZV9pY29uID0gXCIxMDMwNDAwMlwiLC8v5Y6f55SfaWNvblxyXG4gICAgYmFubmVyX2hhbGwgPSBcIjEwNDAwMDAxXCIsLy/mma7pgJpiYW5uZXIgIOWkp+WOhVx0XHJcbiAgICBhcHBib3hfaGFsbCA9IFwiMTA2MDAwMDFcIiwvLyDmiYtR5bm/5ZGK55uS5a2QXHJcbiAgICBnYW1lX2Jhbm5lcl9ib3ggPSBcIjEwNjAwMDAyXCIsLy8gb3Bwb+aoqueJiOW5v+WRiuebkuWtkFxyXG4gICAgZ2FtZV9wb3J0YWxfYm94ID0gXCIxMDYwMDAwM1wiLC8vIG9wcG/kuZ3lrqvmoLzlub/lkYrnm5LlrZBcclxuICAgIGJvdHRvbV9ibG9jayA9IFwiMTA5MDAwMDFcIiwvL+e7k+eul+W6lemDqOenr+acqFxyXG4gICAgbGVmdF9ibG9jayA9IFwiMTA5MDAwMDJcIiwvL+W3puS+p+enr+acqFxyXG4gICAgcmlnaHRfYmxvY2sgPSBcIjEwOTAwMDAzXCIsLy/lj7Pkvqfnp6/mnKhcclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/sdk/Constant.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f852bjTRuNJxLtQma6Gkp/Z', 'Constant');
// scripts/sdk/Constant.ts

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.RoleState = exports.PicItem = exports.maxLineLength = exports.Levelitem = exports.SkinInfo = exports.ColliderTag = exports.EventName = exports.PanelName = exports.PageName = exports.Turn = exports.PlayerDirect = exports.KeyAndLock = exports.GameState = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Constant = /** @class */ (function () {
    function Constant() {
    }
    /**
     * 每个主题多少关
     */
    Constant.CT_LevelCountPerTheme = 10;
    /**
     * 皮肤总数量
     */
    Constant.CT_SkinCount = 6;
    /**
     * 总关卡数量
     */
    Constant.CT_TotalLevelCount = 140;
    /**主页关卡主题 */
    Constant.levelTheme = 0;
    /**统计每一个主题星星数量 */
    Constant.CT_LevelThemeNum = 0;
    /**
     * 每过一关奖励钻石数量
     */
    Constant.CT_RewardDiamondCount = 20;
    /**每关获得的星星数量 */
    Constant.ST_StarNum = "StarNum";
    /**游戏胜利星星数量 */
    Constant.WinStar = 3;
    /**
     * 每日签到的金额
     */
    Constant.Money = [200, 2, 350, 5, 500, 10, 20];
    /**今日奖励 */
    Constant.LastDailyBonusIndex = "LastDailyBonusIndex";
    /**今日签到的时间 */
    Constant.LastDailyBonusTime = "LastDailyBonusTime";
    /**游戏数据 */
    Constant.ST_GameData = "GameData";
    /**当前擦除关卡 */
    Constant.ST_CurLevelId1 = "CurLevelId1";
    /**当前画画关卡 */
    Constant.ST_CurLevelId2 = "CurLevelId2";
    /**当前剧情关卡 */
    Constant.ST_CurLevelId3 = "CurLevelId3";
    /**当前挑战关卡 */
    Constant.ST_CurLevelId4 = "CurLevelId4";
    /**当前关卡类型 */
    Constant.ST_CurLevelType = "CruLevelType";
    /**最大解锁关卡 */
    Constant.ST_MaxUnlockLevelCount = "MaxUnlockLevelCount";
    /**声音 */
    Constant.ST_AudioOn = "AudioOn";
    //第一次进游戏,点击开始就是进入到关卡选择页面
    Constant.ST_firstLevel = "ST_firstLevel";
    /**金钱 */
    Constant.ST_CoinCount = "CoinCount";
    /**
     * 事件：选择皮肤
     */
    Constant.E_SELECT_SKIN = "select_skin";
    Constant.ST_Privacy = "ST_Privacy";
    Constant.ST_ShakeOn = "ST_ShakeOn"; //震动开关
    Constant.ST_SignOnceOn = "SignOnceOn";
    Constant.ST_SignOnceOnTime = "ST_SignOnceOnTime";
    //task
    Constant.ST_task = "ST_task"; //1,2,3,4,5
    Constant.ST_taskFinish = "ST_taskFinish"; //1,2,3,4,5
    Constant.ST_taskTime = "ST_task_time";
    Constant.ST_taskTimeSec = "ST_task_timesec";
    Constant.ST_boxTM = "ST_boxTM";
    //
    Constant.ST_PicItem = "ST_PicItem";
    /**
     * 事件：试用皮肤
     */
    Constant.E_TRY_SKIN = "try_skin";
    /**皮肤 */
    Constant.ST_SkinInfo = "SkinInfo";
    /**皮肤id */
    Constant.ST_CurSkinId = "ST_CurSkinId";
    /**擦除关卡 */
    Constant.ST_LevelItem1 = "LevelItem1";
    /**画画关卡 */
    Constant.ST_LevelItem2 = "LevelItem2";
    /**剧情关卡 */
    Constant.ST_LevelItem3 = "LevelItem3";
    /**挑战关卡 */
    Constant.ST_LevelItem4 = "LevelItem4";
    /**体力 */
    Constant.EnergyNum = "EnergyNum";
    Constant.ST_energyTM = "ST_energyTM";
    /**更新体力 */
    Constant.E_UPDATE_ENERGY = "E_UPDATE_ENERGY";
    Constant.E_VIEW_SKIN = "E_VIEW_SKIN";
    /**商店导航栏切换通知 */
    Constant.Navigation_Bar = "Navigation_Bar";
    /** 游戏逻辑事件*/
    Constant.E_GAME_LOGIC = "E_GAME_LOGIC";
    /** 游戏更新进度条*/
    Constant.E_UPDATE_PROGRESS = "E_UPDATE_PROGRESS";
    /** 根据画线长度计算进度条 */
    Constant.E_DRAWLINE_LENGTH = "E_DRAWLINE_LENGTH";
    /**事件:开始游戏 */
    Constant.E_GAME_START = "E_GAME_START";
    /**游戏失败 */
    Constant.E_LEVEL_FAILED = "E_LEVEL_FAILED";
    /**游戏完成 */
    Constant.E_LEVEL_COMPLETE = "E_LEVEL_COMPLETE";
    /**
     * 事件：刷新关卡进度条
     */
    Constant.E_UPDATE_DISTANCE = "E_UPDATE_DISTANCE";
    /**
     * 事件:游戏胜利
     */
    Constant.E_GAME_VECTORY = "put_game_vectory";
    /**事件:返回主界面 */
    Constant.E_BACK_HOME = "back_home";
    /**点击屏幕 */
    Constant.E_TOUCH_SCREEN = "touch_screen";
    /**更新金币 */
    Constant.E_UPDATE_COIN = "update_coin";
    /**更新商店金币 */
    Constant.E_SHOP_UPDATE_COIN = "shop_update_coin";
    /**商店皮肤解锁 */
    Constant.E_SHOP_OFLOCK = "E_SHOP_OFLOCK";
    Constant = __decorate([
        ccclass
    ], Constant);
    return Constant;
}());
exports.default = Constant;
var GameState;
(function (GameState) {
    GameState[GameState["None"] = -1] = "None";
    GameState[GameState["Prepare"] = 0] = "Prepare";
    GameState[GameState["Start"] = 1] = "Start";
    GameState[GameState["Success"] = 2] = "Success";
    GameState[GameState["Failed"] = 3] = "Failed";
})(GameState = exports.GameState || (exports.GameState = {}));
var KeyAndLock;
(function (KeyAndLock) {
    KeyAndLock[KeyAndLock["None"] = -1] = "None";
    /**蓝色 */
    KeyAndLock[KeyAndLock["Blue"] = 0] = "Blue";
    /**粉色 */
    KeyAndLock[KeyAndLock["Pink"] = 1] = "Pink";
    /**紫色 */
    KeyAndLock[KeyAndLock["Purple"] = 2] = "Purple";
    /**红色 */
    KeyAndLock[KeyAndLock["Red"] = 3] = "Red";
})(KeyAndLock = exports.KeyAndLock || (exports.KeyAndLock = {}));
var PlayerDirect;
(function (PlayerDirect) {
    PlayerDirect[PlayerDirect["Unkown"] = 0] = "Unkown";
    PlayerDirect[PlayerDirect["Down"] = 1] = "Down";
    PlayerDirect[PlayerDirect["Top"] = 2] = "Top";
    PlayerDirect[PlayerDirect["Left"] = 3] = "Left";
    PlayerDirect[PlayerDirect["Right"] = 4] = "Right";
})(PlayerDirect = exports.PlayerDirect || (exports.PlayerDirect = {}));
var Turn;
(function (Turn) {
    Turn[Turn["Default"] = 0] = "Default";
    Turn[Turn["Turn"] = 1] = "Turn";
    Turn[Turn["NoTurn"] = 2] = "NoTurn";
})(Turn = exports.Turn || (exports.Turn = {}));
var PageName = /** @class */ (function () {
    function PageName() {
    }
    /**首页 */
    PageName.UiHome = "UiHome";
    /**加载 */
    PageName.UiLoad = "UiLoad";
    /**游戏 */
    PageName.UiGame = "UiGame";
    /**游戏 */
    PageName.UiGame2 = "UiGame2";
    /**游戏 */
    PageName.UiGame4 = "UiGame4";
    /**选关 */
    PageName.UiLevel = "UiLevel";
    /**商店 */
    PageName.UiShop = "UiShop";
    /**签到 */
    PageName.UiSign = "UiSign";
    /**关卡加载 */
    PageName.UiGameLoad = "UiGameLoad";
    return PageName;
}());
exports.PageName = PageName;
var PanelName = /** @class */ (function () {
    function PanelName() {
    }
    /**暂停 */
    PanelName.PausePanel = "PausePanel";
    /**金币不足 */
    PanelName.CoinTipsPanel = "CoinTipsPanel";
    /**失败 */
    PanelName.FailedPanel = "FailedPanel";
    /**胜利 */
    PanelName.SucceedPanel = "SucceedPanel";
    /**试用皮肤 */
    PanelName.TrialPanel = "TrialPanel";
    /**体力 */
    PanelName.EnergyPanel = "EnergyPanel";
    return PanelName;
}());
exports.PanelName = PanelName;
var EventName = /** @class */ (function () {
    function EventName() {
    }
    /**通知 */
    EventName.EventMsg = "EventMsg";
    /**游戏胜利 */
    EventName.Win = "Win";
    /**游戏失败 */
    EventName.Faid = "Faid";
    /**静态钢体 1:player 101:ston 102:炸弹 */
    EventName.Static = "Static";
    /**动态钢体 1:player 101:ston 102:炸弹*/
    EventName.Dynamic = "Dynamic";
    /**新手引导隐藏 */
    EventName.GuideHide = "GuideHide";
    /**新手引导显示 */
    EventName.GuideDisp = "GuideDisp";
    /**子弹碰撞其他 */
    EventName.BulletOther = "BulletOther";
    /**游戏成功时后续操作 */
    EventName.WinOperate = 'WinOperate';
    /**-----------画线------------- */
    /**画完 */
    EventName.DrawingEnd = "DrawingEnd";
    /**橡皮擦清除 */
    EventName.BtnClear = "BtnClear";
    /**鸭子提示 */
    EventName.BtnDuck = "BtnDuck";
    /**提示抖动 */
    EventName.BtnTispShake = "BtnTispShake";
    return EventName;
}());
exports.EventName = EventName;
var ColliderTag = /** @class */ (function () {
    function ColliderTag() {
    }
    /**绘画的线条 */
    ColliderTag.line = 5;
    /**绘画的碰撞点 */
    ColliderTag.target = 100;
    return ColliderTag;
}());
exports.ColliderTag = ColliderTag;
var SkinInfo = /** @class */ (function () {
    function SkinInfo(str) {
        // cc.log("构建 SkinInfo :", str);
        var info = JSON.parse(str);
        if (info) {
            if (info.Id) {
                this.Id = parseInt(info.Id);
            }
            else {
                cc.log("Id 字段不存在!");
            }
            if (info.State) {
                this.State = parseInt(info.State);
            }
            else {
                cc.log("State 字段不存在!");
            }
            if (info.Price) {
                this.Price = parseInt(info.Price);
            }
            else {
                cc.log("Price 字段不存在!");
            }
        }
        else {
            cc.log("构建 SkinInfo 的字符串不合法!");
        }
    }
    SkinInfo.prototype.ToString = function () {
        return "{\"Id\":\"" + this.Id + "\",\"State:\"" + this.State + "\",\"Price\":\"" + this.Price + "\"}";
    };
    return SkinInfo;
}());
exports.SkinInfo = SkinInfo;
var Levelitem = /** @class */ (function () {
    function Levelitem(str) {
        var info = JSON.parse(str);
        if (info) {
            if (info.Id) {
                this.Id = parseInt(info.Id);
            }
            else {
                cc.log("Id 字段不存在!");
            }
            if (info.State) {
                this.State = parseInt(info.State);
            }
            else {
                cc.log("State 字段不存在!");
            }
            if (info.Trail) {
                this.Trail = parseInt(info.Trail);
            }
            else {
                cc.log("Trail 字段不存在!");
            }
            if (info.TrailState) {
                this.TrailState = parseInt(info.TrailState);
            }
            else {
                cc.log("TrailState 字段不存在!");
            }
            if (info.prog) {
                this.prog = parseInt(info.prog);
            }
            else {
                cc.log("TrailState 字段不存在!");
            }
        }
        else {
            cc.log("构建 Levelitem 的字符串不合法!");
        }
    }
    Levelitem.prototype.ToString = function () {
        return "{\"Id\":\"" + this.Id + "\",\"Trail\":\"" + this.Trail + "\",\"State:\"" + this.State + "\",\"TrailState\":\"" + this.TrailState + "\"}";
    };
    return Levelitem;
}());
exports.Levelitem = Levelitem;
/**画线关卡线段最大长度 */
var maxLineLength = /** @class */ (function () {
    function maxLineLength() {
    }
    return maxLineLength;
}());
exports.maxLineLength = maxLineLength;
var PicItem = /** @class */ (function () {
    function PicItem(str) {
        var info = JSON.parse(str);
        if (info) {
            if (info.Id) {
                this.Id = parseInt(info.Id);
            }
            else {
                cc.log("Id 字段不存在!");
            }
            if (info.State) {
                this.State = parseInt(info.State);
            }
            else {
                cc.log("State 字段不存在!");
            }
        }
        else {
            cc.log("构建 Levelitem 的字符串不合法!");
        }
    }
    PicItem.prototype.ToString = function () {
        return "{\"Id\":\"" + this.Id + "\",\"State:\"" + this.State + "\"}";
    };
    return PicItem;
}());
exports.PicItem = PicItem;
var RoleState;
(function (RoleState) {
    RoleState[RoleState["idle"] = 0] = "idle";
    RoleState[RoleState["move"] = 1] = "move";
    RoleState[RoleState["dead"] = 2] = "dead";
    RoleState[RoleState["finish"] = 3] = "finish";
})(RoleState = exports.RoleState || (exports.RoleState = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcc2RrXFxDb25zdGFudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFTSxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUFBO0lBMElBLENBQUM7SUF4SUc7O09BRUc7SUFDVyw4QkFBcUIsR0FBVyxFQUFFLENBQUM7SUFDakQ7O09BRUc7SUFDVyxxQkFBWSxHQUFXLENBQUMsQ0FBQztJQUN2Qzs7T0FFRztJQUNXLDJCQUFrQixHQUFXLEdBQUcsQ0FBQztJQUUvQyxZQUFZO0lBQ0UsbUJBQVUsR0FBVyxDQUFDLENBQUM7SUFFckMsaUJBQWlCO0lBQ0gseUJBQWdCLEdBQVcsQ0FBQyxDQUFDO0lBQzNDOztPQUVHO0lBQ1csOEJBQXFCLEdBQVcsRUFBRSxDQUFDO0lBRWpELGVBQWU7SUFDRCxtQkFBVSxHQUFXLFNBQVMsQ0FBQztJQUU3QyxjQUFjO0lBQ0EsZ0JBQU8sR0FBVyxDQUFDLENBQUM7SUFFbEM7O09BRUc7SUFDVyxjQUFLLEdBQWEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUU5RCxVQUFVO0lBQ0ksNEJBQW1CLEdBQVcscUJBQXFCLENBQUM7SUFDbEUsYUFBYTtJQUNDLDJCQUFrQixHQUFXLG9CQUFvQixDQUFDO0lBQ2hFLFVBQVU7SUFDSSxvQkFBVyxHQUFXLFVBQVUsQ0FBQztJQUMvQyxZQUFZO0lBQ0UsdUJBQWMsR0FBVyxhQUFhLENBQUM7SUFDckQsWUFBWTtJQUNFLHVCQUFjLEdBQVcsYUFBYSxDQUFDO0lBQ3JELFlBQVk7SUFDRSx1QkFBYyxHQUFXLGFBQWEsQ0FBQztJQUNyRCxZQUFZO0lBQ0UsdUJBQWMsR0FBVyxhQUFhLENBQUM7SUFDckQsWUFBWTtJQUNFLHdCQUFlLEdB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XG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnN0YW50IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOavj+S4quS4u+mimOWkmuWwkeWFs1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIENUX0xldmVsQ291bnRQZXJUaGVtZTogbnVtYmVyID0gMTA7XHJcbiAgICAvKipcclxuICAgICAqIOearuiCpOaAu+aVsOmHj1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIENUX1NraW5Db3VudDogbnVtYmVyID0gNjtcclxuICAgIC8qKlxyXG4gICAgICog5oC75YWz5Y2h5pWw6YePXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgQ1RfVG90YWxMZXZlbENvdW50OiBudW1iZXIgPSAxNDA7XHJcblxyXG4gICAgLyoq5Li76aG15YWz5Y2h5Li76aKYICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGxldmVsVGhlbWU6IG51bWJlciA9IDA7XHJcblxyXG4gICAgLyoq57uf6K6h5q+P5LiA5Liq5Li76aKY5pif5pif5pWw6YePICovXHJcbiAgICBwdWJsaWMgc3RhdGljIENUX0xldmVsVGhlbWVOdW06IG51bWJlciA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIOavj+i/h+S4gOWFs+WlluWKsemSu+efs+aVsOmHj1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIENUX1Jld2FyZERpYW1vbmRDb3VudDogbnVtYmVyID0gMjA7XHJcblxyXG4gICAgLyoq5q+P5YWz6I635b6X55qE5pif5pif5pWw6YePICovXHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX1N0YXJOdW06IHN0cmluZyA9IFwiU3Rhck51bVwiO1xyXG5cclxuICAgIC8qKua4uOaIj+iDnOWIqeaYn+aYn+aVsOmHjyAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBXaW5TdGFyOiBudW1iZXIgPSAzO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5q+P5pel562+5Yiw55qE6YeR6aKdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgTW9uZXk6IG51bWJlcltdID0gWzIwMCwgMiwgMzUwLCA1LCA1MDAsIDEwLCAyMF07XHJcblxyXG4gICAgLyoq5LuK5pel5aWW5YqxICovXHJcbiAgICBwdWJsaWMgc3RhdGljIExhc3REYWlseUJvbnVzSW5kZXg6IHN0cmluZyA9IFwiTGFzdERhaWx5Qm9udXNJbmRleFwiO1xyXG4gICAgLyoq5LuK5pel562+5Yiw55qE5pe26Ze0ICovXHJcbiAgICBwdWJsaWMgc3RhdGljIExhc3REYWlseUJvbnVzVGltZTogc3RyaW5nID0gXCJMYXN0RGFpbHlCb251c1RpbWVcIjtcclxuICAgIC8qKua4uOaIj+aVsOaNriAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBTVF9HYW1lRGF0YTogc3RyaW5nID0gXCJHYW1lRGF0YVwiO1xyXG4gICAgLyoq5b2T5YmN5pOm6Zmk5YWz5Y2hICovXHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX0N1ckxldmVsSWQxOiBzdHJpbmcgPSBcIkN1ckxldmVsSWQxXCI7XHJcbiAgICAvKirlvZPliY3nlLvnlLvlhbPljaEgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgU1RfQ3VyTGV2ZWxJZDI6IHN0cmluZyA9IFwiQ3VyTGV2ZWxJZDJcIjtcclxuICAgIC8qKuW9k+WJjeWJp+aDheWFs+WNoSAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBTVF9DdXJMZXZlbElkMzogc3RyaW5nID0gXCJDdXJMZXZlbElkM1wiO1xyXG4gICAgLyoq5b2T5YmN5oyR5oiY5YWz5Y2hICovXHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX0N1ckxldmVsSWQ0OiBzdHJpbmcgPSBcIkN1ckxldmVsSWQ0XCI7XHJcbiAgICAvKirlvZPliY3lhbPljaHnsbvlnosgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgU1RfQ3VyTGV2ZWxUeXBlOiBzdHJpbmcgPSBcIkNydUxldmVsVHlwZVwiXHJcbiAgICAvKirmnIDlpKfop6PplIHlhbPljaEgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgU1RfTWF4VW5sb2NrTGV2ZWxDb3VudDogc3RyaW5nID0gXCJNYXhVbmxvY2tMZXZlbENvdW50XCI7XHJcbiAgICAvKirlo7Dpn7MgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgU1RfQXVkaW9Pbjogc3RyaW5nID0gXCJBdWRpb09uXCI7XHJcblxyXG4gICAgLy/nrKzkuIDmrKHov5vmuLjmiI8s54K55Ye75byA5aeL5bCx5piv6L+b5YWl5Yiw5YWz5Y2h6YCJ5oup6aG16Z2iXHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX2ZpcnN0TGV2ZWw6IHN0cmluZyA9IFwiU1RfZmlyc3RMZXZlbFwiO1xyXG5cclxuICAgIC8qKumHkemSsSAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBTVF9Db2luQ291bnQ6IHN0cmluZyA9IFwiQ29pbkNvdW50XCI7XHJcbiAgICAvKipcclxuICAgICAqIOS6i+S7tu+8mumAieaLqeearuiCpFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIEVfU0VMRUNUX1NLSU46IHN0cmluZyA9IFwic2VsZWN0X3NraW5cIjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX1ByaXZhY3k6IHN0cmluZyA9IFwiU1RfUHJpdmFjeVwiO1xyXG4gICAgcHVibGljIHN0YXRpYyBTVF9TaGFrZU9uOiBzdHJpbmcgPSBcIlNUX1NoYWtlT25cIjsgLy/pnIfliqjlvIDlhbNcclxuICAgIHB1YmxpYyBzdGF0aWMgU1RfU2lnbk9uY2VPbjogc3RyaW5nID0gXCJTaWduT25jZU9uXCI7XHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX1NpZ25PbmNlT25UaW1lOiBzdHJpbmcgPSBcIlNUX1NpZ25PbmNlT25UaW1lXCI7XHJcblxyXG4gICAgLy90YXNrXHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX3Rhc2s6IHN0cmluZyA9IFwiU1RfdGFza1wiOy8vMSwyLDMsNCw1XHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX3Rhc2tGaW5pc2g6IHN0cmluZyA9IFwiU1RfdGFza0ZpbmlzaFwiOy8vMSwyLDMsNCw1XHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX3Rhc2tUaW1lOiBzdHJpbmcgPSBcIlNUX3Rhc2tfdGltZVwiO1xyXG4gICAgcHVibGljIHN0YXRpYyBTVF90YXNrVGltZVNlYzogc3RyaW5nID0gXCJTVF90YXNrX3RpbWVzZWNcIjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX2JveFRNOnN0cmluZyA9IFwiU1RfYm94VE1cIjtcclxuXHJcbiAgICAvL1xyXG4gICAgcHVibGljIHN0YXRpYyBTVF9QaWNJdGVtOnN0cmluZyA9IFwiU1RfUGljSXRlbVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiDkuovku7bvvJror5XnlKjnmq7ogqRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBFX1RSWV9TS0lOOiBzdHJpbmcgPSBcInRyeV9za2luXCI7XHJcbiAgICAvKirnmq7ogqQgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgU1RfU2tpbkluZm86IHN0cmluZyA9IFwiU2tpbkluZm9cIjtcclxuICAgIC8qKuearuiCpGlkICovXHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX0N1clNraW5JZDogc3RyaW5nID0gXCJTVF9DdXJTa2luSWRcIjtcclxuICAgIC8qKuaTpumZpOWFs+WNoSAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBTVF9MZXZlbEl0ZW0xOiBzdHJpbmcgPSBcIkxldmVsSXRlbTFcIjtcclxuICAgIC8qKueUu+eUu+WFs+WNoSAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBTVF9MZXZlbEl0ZW0yOiBzdHJpbmcgPSBcIkxldmVsSXRlbTJcIjtcclxuICAgIC8qKuWJp+aDheWFs+WNoSAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBTVF9MZXZlbEl0ZW0zOiBzdHJpbmcgPSBcIkxldmVsSXRlbTNcIjtcclxuICAgIC8qKuaMkeaImOWFs+WNoSAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBTVF9MZXZlbEl0ZW00OiBzdHJpbmcgPSBcIkxldmVsSXRlbTRcIjtcclxuICAgIC8qKuS9k+WKmyAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBFbmVyZ3lOdW06IHN0cmluZyA9IFwiRW5lcmd5TnVtXCI7XHJcbiAgICBwdWJsaWMgc3RhdGljIFNUX2VuZXJneVRNOnN0cmluZyA9IFwiU1RfZW5lcmd5VE1cIjtcclxuICAgIC8qKuabtOaWsOS9k+WKmyAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBFX1VQREFURV9FTkVSR1k6IHN0cmluZyA9IFwiRV9VUERBVEVfRU5FUkdZXCI7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBFX1ZJRVdfU0tJTjogc3RyaW5nID0gXCJFX1ZJRVdfU0tJTlwiO1xyXG4gICAgLyoq5ZWG5bqX5a+86Iiq5qCP5YiH5o2i6YCa55+lICovXHJcbiAgICBwdWJsaWMgc3RhdGljIE5hdmlnYXRpb25fQmFyOiBzdHJpbmcgPSBcIk5hdmlnYXRpb25fQmFyXCI7XHJcbiAgICAvKiog5ri45oiP6YC76L6R5LqL5Lu2Ki9cclxuICAgIHB1YmxpYyBzdGF0aWMgRV9HQU1FX0xPR0lDOiBzdHJpbmcgPSBcIkVfR0FNRV9MT0dJQ1wiO1xyXG4gICAgLyoqIOa4uOaIj+abtOaWsOi/m+W6puadoSovXHJcbiAgICBwdWJsaWMgc3RhdGljIEVfVVBEQVRFX1BST0dSRVNTOiBzdHJpbmcgPSBcIkVfVVBEQVRFX1BST0dSRVNTXCI7XHJcbiAgICAvKiog5qC55o2u55S757q/6ZW/5bqm6K6h566X6L+b5bqm5p2hICovXHJcbiAgICBwdWJsaWMgc3RhdGljIEVfRFJBV0xJTkVfTEVOR1RIOiBzdHJpbmcgPSBcIkVfRFJBV0xJTkVfTEVOR1RIXCI7XHJcblxyXG4gICAgLyoq5LqL5Lu2OuW8gOWni+a4uOaIjyAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBFX0dBTUVfU1RBUlQ6IHN0cmluZyA9IFwiRV9HQU1FX1NUQVJUXCI7XHJcbiAgICAvKirmuLjmiI/lpLHotKUgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgRV9MRVZFTF9GQUlMRUQ6IHN0cmluZyA9IFwiRV9MRVZFTF9GQUlMRURcIjtcclxuICAgIC8qKua4uOaIj+WujOaIkCAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBFX0xFVkVMX0NPTVBMRVRFOiBzdHJpbmcgPSBcIkVfTEVWRUxfQ09NUExFVEVcIjtcclxuICAgIC8qKlxyXG4gICAgICog5LqL5Lu277ya5Yi35paw5YWz5Y2h6L+b5bqm5p2hXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgRV9VUERBVEVfRElTVEFOQ0U6IHN0cmluZyA9IFwiRV9VUERBVEVfRElTVEFOQ0VcIjtcclxuICAgIC8qKlxyXG4gICAgICog5LqL5Lu2Oua4uOaIj+iDnOWIqVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIEVfR0FNRV9WRUNUT1JZOiBzdHJpbmcgPSBcInB1dF9nYW1lX3ZlY3RvcnlcIjtcclxuICAgIC8qKuS6i+S7tjrov5Tlm57kuLvnlYzpnaIgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgRV9CQUNLX0hPTUU6IHN0cmluZyA9IFwiYmFja19ob21lXCI7XHJcbiAgICAvKirngrnlh7vlsY/luZUgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgRV9UT1VDSF9TQ1JFRU46IHN0cmluZyA9IFwidG91Y2hfc2NyZWVuXCI7XHJcbiAgICAvKirmm7TmlrDph5HluIEgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgRV9VUERBVEVfQ09JTjogc3RyaW5nID0gXCJ1cGRhdGVfY29pblwiO1xyXG4gICAgLyoq5pu05paw5ZWG5bqX6YeR5biBICovXHJcbiAgICBwdWJsaWMgc3RhdGljIEVfU0hPUF9VUERBVEVfQ09JTjogc3RyaW5nID0gXCJzaG9wX3VwZGF0ZV9jb2luXCI7XHJcbiAgICAvKirllYblupfnmq7ogqTop6PplIEgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgRV9TSE9QX09GTE9DSzogc3RyaW5nID0gXCJFX1NIT1BfT0ZMT0NLXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEdhbWVTdGF0ZSB7XHJcbiAgICBOb25lID0gLTEsXHJcbiAgICBQcmVwYXJlID0gMCxcclxuICAgIFN0YXJ0ID0gMSxcclxuICAgIFN1Y2Nlc3MgPSAyLFxyXG4gICAgRmFpbGVkID0gM1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBLZXlBbmRMb2NrIHtcclxuICAgIE5vbmUgPSAtMSxcclxuICAgIC8qKuiTneiJsiAqL1xyXG4gICAgQmx1ZSA9IDAsXHJcbiAgICAvKirnsonoibIgKi9cclxuICAgIFBpbmsgPSAxLFxyXG4gICAgLyoq57Sr6ImyICovXHJcbiAgICBQdXJwbGUgPSAyLFxyXG4gICAgLyoq57qi6ImyICovXHJcbiAgICBSZWQgPSAzXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZW51bSBQbGF5ZXJEaXJlY3Qge1xyXG4gICAgVW5rb3duLFxyXG4gICAgRG93bixcclxuICAgIFRvcCxcclxuICAgIExlZnQsXHJcbiAgICBSaWdodFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBUdXJuIHtcclxuICAgIERlZmF1bHQsLy89IFwi6buY6K6kXCIsXHJcbiAgICBUdXJuLC8vPSBcIuaOieWktFwiLFxyXG4gICAgTm9UdXJuLC8vID0gXCLkuI3mjonlpLRcIixcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VOYW1lIHtcclxuICAgIC8qKummlumhtSAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBVaUhvbWU6IHN0cmluZyA9IFwiVWlIb21lXCI7XHJcbiAgICAvKirliqDovb0gKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgVWlMb2FkOiBzdHJpbmcgPSBcIlVpTG9hZFwiO1xyXG4gICAgLyoq5ri45oiPICovXHJcbiAgICBwdWJsaWMgc3RhdGljIFVpR2FtZTogc3RyaW5nID0gXCJVaUdhbWVcIjtcclxuICAgIC8qKua4uOaIjyAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBVaUdhbWUyOiBzdHJpbmcgPSBcIlVpR2FtZTJcIjtcclxuICAgIC8qKua4uOaIjyAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBVaUdhbWU0OiBzdHJpbmcgPSBcIlVpR2FtZTRcIjtcclxuICAgIC8qKumAieWFsyAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBVaUxldmVsOiBzdHJpbmcgPSBcIlVpTGV2ZWxcIjtcclxuICAgIC8qKuWVhuW6lyAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBVaVNob3A6IHN0cmluZyA9IFwiVWlTaG9wXCI7XHJcbiAgICAvKirnrb7liLAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgVWlTaWduOiBzdHJpbmcgPSBcIlVpU2lnblwiO1xyXG4gICAgLyoq5YWz5Y2h5Yqg6L29ICovXHJcbiAgICBwdWJsaWMgc3RhdGljIFVpR2FtZUxvYWQ6IHN0cmluZyA9IFwiVWlHYW1lTG9hZFwiO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFBhbmVsTmFtZSB7XHJcbiAgICAvKirmmoLlgZwgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgUGF1c2VQYW5lbDogc3RyaW5nID0gXCJQYXVzZVBhbmVsXCI7XHJcbiAgICAvKirph5HluIHkuI3otrMgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgQ29pblRpcHNQYW5lbDogc3RyaW5nID0gXCJDb2luVGlwc1BhbmVsXCI7XHJcbiAgICAvKirlpLHotKUgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgRmFpbGVkUGFuZWw6IHN0cmluZyA9IFwiRmFpbGVkUGFuZWxcIjtcclxuICAgIC8qKuiDnOWIqSAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBTdWNjZWVkUGFuZWw6IHN0cmluZyA9IFwiU3VjY2VlZFBhbmVsXCI7XHJcbiAgICAvKiror5XnlKjnmq7ogqQgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgVHJpYWxQYW5lbDogc3RyaW5nID0gXCJUcmlhbFBhbmVsXCI7XHJcbiAgICAvKirkvZPlipsgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgRW5lcmd5UGFuZWw6IHN0cmluZyA9IFwiRW5lcmd5UGFuZWxcIjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEV2ZW50TmFtZSB7XHJcbiAgICAvKirpgJrnn6UgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgRXZlbnRNc2c6IHN0cmluZyA9IFwiRXZlbnRNc2dcIjtcclxuICAgIC8qKua4uOaIj+iDnOWIqSAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBXaW46IHN0cmluZyA9IFwiV2luXCI7XHJcbiAgICAvKirmuLjmiI/lpLHotKUgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgRmFpZDogc3RyaW5nID0gXCJGYWlkXCI7XHJcbiAgICAvKirpnZnmgIHpkqLkvZMgMTpwbGF5ZXIgMTAxOnN0b24gMTAyOueCuOW8uSAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBTdGF0aWM6IHN0cmluZyA9IFwiU3RhdGljXCI7XHJcbiAgICAvKirliqjmgIHpkqLkvZMgMTpwbGF5ZXIgMTAxOnN0b24gMTAyOueCuOW8uSovXHJcbiAgICBwdWJsaWMgc3RhdGljIER5bmFtaWM6IHN0cmluZyA9IFwiRHluYW1pY1wiO1xyXG4gICAgLyoq5paw5omL5byV5a+86ZqQ6JePICovXHJcbiAgICBwdWJsaWMgc3RhdGljIEd1aWRlSGlkZTogc3RyaW5nID0gXCJHdWlkZUhpZGVcIjtcclxuICAgIC8qKuaWsOaJi+W8leWvvOaYvuekuiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBHdWlkZURpc3A6IHN0cmluZyA9IFwiR3VpZGVEaXNwXCI7XHJcbiAgICAvKirlrZDlvLnnorDmkp7lhbbku5YgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgQnVsbGV0T3RoZXI6IHN0cmluZyA9IFwiQnVsbGV0T3RoZXJcIjtcclxuXHJcbiAgICAvKirmuLjmiI/miJDlip/ml7blkI7nu63mk43kvZwgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgV2luT3BlcmF0ZTogc3RyaW5nID0gJ1dpbk9wZXJhdGUnO1xyXG5cclxuICAgIC8qKi0tLS0tLS0tLS0t55S757q/LS0tLS0tLS0tLS0tLSAqL1xyXG4gICAgLyoq55S75a6MICovXHJcbiAgICBwdWJsaWMgc3RhdGljIERyYXdpbmdFbmQ6IHN0cmluZyA9IFwiRHJhd2luZ0VuZFwiO1xyXG4gICAgLyoq5qmh55qu5pOm5riF6ZmkICovXHJcbiAgICBwdWJsaWMgc3RhdGljIEJ0bkNsZWFyOiBzdHJpbmcgPSBcIkJ0bkNsZWFyXCI7XHJcbiAgICAvKirpuK3lrZDmj5DnpLogKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgQnRuRHVjazogc3RyaW5nID0gXCJCdG5EdWNrXCI7XHJcblxyXG4gICAgLyoq5o+Q56S65oqW5YqoICovXHJcbiAgICBwdWJsaWMgc3RhdGljIEJ0blRpc3BTaGFrZTogc3RyaW5nID0gXCJCdG5UaXNwU2hha2VcIjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENvbGxpZGVyVGFnIHtcclxuICAgIC8qKue7mOeUu+eahOe6v+adoSAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBsaW5lOiBudW1iZXIgPSA1O1xyXG4gICAgLyoq57uY55S755qE56Kw5pKe54K5ICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHRhcmdldDpudW1iZXIgPSAxMDA7XHJcbn1cclxuZXhwb3J0IGNsYXNzIFNraW5JbmZvIHtcclxuICAgIHB1YmxpYyBJZDogbnVtYmVyO1xyXG4gICAgLyoqMOS7o+ihqOmcgOimgei0reS5sCAx5Luj6KGo5Y+v5Lul5L2/55SoIDLku6PooajmraPlnKjkvb/nlKggKi9cclxuICAgIHB1YmxpYyBTdGF0ZTogbnVtYmVyO1xyXG4gICAgcHVibGljIFByaWNlOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3RyOiBzdHJpbmcpIHtcclxuICAgICAgICAvLyBjYy5sb2coXCLmnoTlu7ogU2tpbkluZm8gOlwiLCBzdHIpO1xyXG4gICAgICAgIGxldCBpbmZvOiBhbnkgPSBKU09OLnBhcnNlKHN0cik7XHJcbiAgICAgICAgaWYgKGluZm8pIHtcclxuICAgICAgICAgICAgaWYgKGluZm8uSWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuSWQgPSBwYXJzZUludChpbmZvLklkKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNjLmxvZyhcIklkIOWtl+auteS4jeWtmOWcqCFcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpbmZvLlN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlN0YXRlID0gcGFyc2VJbnQoaW5mby5TdGF0ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2coXCJTdGF0ZSDlrZfmrrXkuI3lrZjlnKghXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5mby5QcmljZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5QcmljZSA9IHBhcnNlSW50KGluZm8uUHJpY2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2MubG9nKFwiUHJpY2Ug5a2X5q615LiN5a2Y5ZyoIVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNjLmxvZyhcIuaehOW7uiBTa2luSW5mbyDnmoTlrZfnrKbkuLLkuI3lkIjms5UhXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFRvU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiBge1wiSWRcIjpcIiR7dGhpcy5JZH1cIixcIlN0YXRlOlwiJHt0aGlzLlN0YXRlfVwiLFwiUHJpY2VcIjpcIiR7dGhpcy5QcmljZX1cIn1gO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTGV2ZWxpdGVtIHtcclxuICAgIHB1YmxpYyBJZDogbnVtYmVyO1xyXG4gICAgcHVibGljIFN0YXRlOiBudW1iZXI7Ly8w5Luj6KGo5pyq6Kej6ZSBICAx5Luj6KGo5pyq5a6M5oiQICAgMuS7o+ihqOWujOaIkCAgM+S7o+ihqOWksei0pVxyXG4gICAgcHVibGljIFRyYWlsOiBudW1iZXI7Ly/npLznm5JcclxuICAgIHB1YmxpYyBUcmFpbFN0YXRlOiBudW1iZXI7Ly/npLznm5Llr7nlupTnmoTlhbPljaHnirbmgIEgMOS7o+ihqOS7juacqui/m+WFpe+8jDHku6Pooajlt7Lov5vlhaVcclxuICAgIHB1YmxpYyBwcm9nOiBudW1iZXI7Ly/liafmg4XlhbPljaHnibnmnIks5YWz5Y2h6L+b5bqmXHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3RyOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgaW5mbzogYW55ID0gSlNPTi5wYXJzZShzdHIpO1xyXG4gICAgICAgIGlmIChpbmZvKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmZvLklkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLklkID0gcGFyc2VJbnQoaW5mby5JZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2coXCJJZCDlrZfmrrXkuI3lrZjlnKghXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5mby5TdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5TdGF0ZSA9IHBhcnNlSW50KGluZm8uU3RhdGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2MubG9nKFwiU3RhdGUg5a2X5q615LiN5a2Y5ZyoIVwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGluZm8uVHJhaWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuVHJhaWwgPSBwYXJzZUludChpbmZvLlRyYWlsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNjLmxvZyhcIlRyYWlsIOWtl+auteS4jeWtmOWcqCFcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpbmZvLlRyYWlsU3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuVHJhaWxTdGF0ZSA9IHBhcnNlSW50KGluZm8uVHJhaWxTdGF0ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2coXCJUcmFpbFN0YXRlIOWtl+auteS4jeWtmOWcqCFcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpbmZvLnByb2cpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZyA9IHBhcnNlSW50KGluZm8ucHJvZyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2coXCJUcmFpbFN0YXRlIOWtl+auteS4jeWtmOWcqCFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYy5sb2coXCLmnoTlu7ogTGV2ZWxpdGVtIOeahOWtl+espuS4suS4jeWQiOazlSFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIFRvU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiBge1wiSWRcIjpcIiR7dGhpcy5JZH1cIixcIlRyYWlsXCI6XCIke3RoaXMuVHJhaWx9XCIsXCJTdGF0ZTpcIiR7dGhpcy5TdGF0ZX1cIixcIlRyYWlsU3RhdGVcIjpcIiR7dGhpcy5UcmFpbFN0YXRlfVwifWA7XHJcbiAgICB9XHJcbn1cclxuLyoq55S757q/5YWz5Y2h57q/5q615pyA5aSn6ZW/5bqmICovXHJcbmV4cG9ydCBjbGFzcyBtYXhMaW5lTGVuZ3RoIHtcclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUGljSXRlbSB7XHJcbiAgICBwdWJsaWMgSWQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBTdGF0ZTogbnVtYmVyOy8vMOS7o+ihqOacquino+mUgSAgMeS7o+ihqOacquWujOaIkCAgIDLku6PooajlrozmiJAgXHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3RyOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgaW5mbzogYW55ID0gSlNPTi5wYXJzZShzdHIpO1xyXG4gICAgICAgIGlmIChpbmZvKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmZvLklkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLklkID0gcGFyc2VJbnQoaW5mby5JZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2coXCJJZCDlrZfmrrXkuI3lrZjlnKghXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5mby5TdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5TdGF0ZSA9IHBhcnNlSW50KGluZm8uU3RhdGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2MubG9nKFwiU3RhdGUg5a2X5q615LiN5a2Y5ZyoIVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNjLmxvZyhcIuaehOW7uiBMZXZlbGl0ZW0g55qE5a2X56ym5Liy5LiN5ZCI5rOVIVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgVG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIGB7XCJJZFwiOlwiJHt0aGlzLklkfVwiLFwiU3RhdGU6XCIke3RoaXMuU3RhdGV9XCJ9YDtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBlbnVtIFJvbGVTdGF0ZSB7XHJcbiAgICBpZGxlID0gMCxcclxuICAgIG1vdmUsXHJcbiAgICBkZWFkLFxyXG4gICAgZmluaXNoXHJcblxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/syyx_ui/ad/syyx_ui_banner.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '43be3ENcplHsJ3dgWKcnSxe', 'syyx_ui_banner');
// syyx_sdk/syyx_ui/ad/syyx_ui_banner.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var syyx_sdk_enum_1 = require("../../configs/syyx_sdk_enum");
var ad_banner_1 = require("../../controller/ad/ad_banner");
var syyx_adv_manager_1 = require("../../controller/ad/syyx_adv_manager");
var syyx_manager_1 = require("../../controller/syyx_manager");
var syyx_sdk_api_1 = require("../../syyx_sdk_api");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var syyx_ui_banner = /** @class */ (function (_super) {
    __extends(syyx_ui_banner, _super);
    function syyx_ui_banner() {
        var _this = _super.call(this) || this;
        _this.game_node = null;
        _this.icon_close = null;
        _this.native_bg = null;
        _this.lb_title = null;
        _this.lb_desc = null;
        _this.img_icon = null;
        _this.click_mask = null;
        /**
         * 是否上报过点击
         */
        _this.is_reprot_click = false;
        /**
         * 是否为易点击模式
         */
        _this.easy_click_model = false;
        _this.is_set_style = false;
        /**
        * 原生banner展示次数
        */
        _this.show_count = 0;
        _this.next_change_height_count = -1;
        _this.next_change_scale_count = -1;
        _this.timer_id = undefined;
        _this.is_heighting = false;
        _this.set_background_on_show();
        return _this;
    }
    syyx_ui_banner.prototype.onEnable = function () {
        this.easy_click_model = ad_banner_1.ad_banner.get_is_easy_click_model();
        if (this.easy_click_model) {
            this.stage = window["cc"].director.getScene().getChildByName("Canvas");
            cc.isValid(this.stage) && this.stage.on(cc.Node.EventType.TOUCH_MOVE, this.touch_move, this);
        }
    };
    syyx_ui_banner.prototype.onDisable = function () {
        if (this.easy_click_model) {
            cc.isValid(this.stage) && this.stage.off(cc.Node.EventType.TOUCH_MOVE, this.touch_move, this);
        }
    };
    syyx_ui_banner.prototype.show = function (native_data) {
        if (this.node && !this.node.parent) {
            this.node.parent = syyx_sdk_utils_1.syyx_sdk_utils.get_stage();
            cc.game.addPersistRootNode(this.node);
            this.node.zIndex = 1000001;
            this.node.active = false;
        }
        if (cc.isValid(this.node) && !this.node.active) {
            var auto_scale = syyx_sdk_utils_1.syyx_sdk_utils.get_screen_ratio();
            this.node.width = cc.view.getVisibleSize().width / auto_scale;
            this.node.height = cc.view.getVisibleSize().height / auto_scale;
            this.node.x = cc.view.getVisibleSize().width / 2;
            this.node.y = cc.view.getVisibleSize().height / 2;
            this.set_default_pos();
            this.on_show(native_data);
        }
    };
    syyx_ui_banner.prototype.on_show = function (native_data) {
        this.node.active = true;
        this.show_count++;
        this.icon_close.on(cc.Node.EventType.TOUCH_END, this.on_click_close, this);
        this.is_reprot_click = false;
        this.click_mask.active = false;
        this.native_bg.on(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        this.click_mask.on(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        if (native_data) {
            this.native_data = native_data;
        }
        else {
            this.native_data = syyx_sdk_api_1.syyx_sdk_api.get_local_native_data(ad_banner_1.ad_banner._native_banner_id);
        }
        this.refresh();
    };
    syyx_ui_banner.prototype.show_click_mask = function () {
        var _business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (_business_config_data && _business_config_data["banner_click_mask_open_rule"]) {
            var rule = _business_config_data["banner_click_mask_open_rule"].value;
            if (rule) {
                if (this.next_change_scale_count == -1) {
                    this.next_change_scale_count = rule[0];
                }
                if (this.show_count == this.next_change_scale_count) {
                    this.next_change_scale_count += rule[1] + Math.floor(Math.random() * (rule[2] - rule[1] + 1));
                    this.click_mask.active = true;
                    this.adjust_mask_node();
                }
            }
        }
    };
    syyx_ui_banner.prototype.get_change_scale = function () {
        var _business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (_business_config_data && _business_config_data["banner_click_mask_scale"]) {
            return _business_config_data["banner_click_mask_scale"].value[0];
        }
        return 1;
    };
    syyx_ui_banner.prototype.adjust_mask_node = function () {
        this.click_mask.height = this.game_node.height;
        this.click_mask.width = this.game_node.width;
        this.click_mask.scaleX = this.game_node.scaleX * this.get_change_scale();
        this.click_mask.scaleY = this.game_node.scaleY * this.get_change_scale();
        this.click_mask.opacity = 0;
        var _business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (_business_config_data && _business_config_data["banner_click_mask_preview"]) {
            if (_business_config_data["banner_click_mask_preview"].value[0] == 1) {
                this.click_mask.opacity = 80;
            }
        }
    };
    syyx_ui_banner.prototype.refresh = function () {
        this.lb_desc.string = this.native_data.desc + "";
        this.lb_title.string = this.native_data.title + "";
        syyx_sdk_utils_1.syyx_sdk_utils.set_texture_url(this.img_icon, this.native_data.imgUrlList);
        if (!this.is_heighting) { // banner变高时为true，恢复时为false
            this.game_node.height = this.get_banner_default_height();
            this.set_default_pos();
        }
        this.report_show();
        this.set_banner_height();
        this.show_click_mask();
    };
    syyx_ui_banner.prototype.touch_move = function (event) {
        if (this.easy_click_model && this.node && this.node.active) {
            console.log("touch move");
            // 手指在场景中移动到banenr区域
            if (event.touch.getLocationY() <= this.game_node.height * this.game_node.scaleY * this.node.scaleY) {
                if (event.touch.getLocationX() >= (cc.view.getVisibleSize().width - this.game_node.width * this.game_node.scaleX * this.node.scaleX) / 2) {
                    if (event.touch.getLocationX() < (cc.view.getVisibleSize().width + this.game_node.width * this.game_node.scaleX * this.node.scaleX) / 2) {
                        this.on_click_adv2();
                        return;
                    }
                }
            }
            // 手指在场景中移动到banenr_mask区域
            if (event.touch.getLocationY() <= this.click_mask.height * this.click_mask.scaleY * this.node.scaleY) {
                if (event.touch.getLocationX() >= (cc.view.getVisibleSize().width - this.click_mask.width * this.click_mask.scaleX * this.node.scaleX) / 2) {
                    if (event.touch.getLocationX() < (cc.view.getVisibleSize().width + this.click_mask.width * this.click_mask.scaleX * this.node.scaleX) / 2) {
                        this.on_click_adv2();
                        return;
                    }
                }
            }
        }
    };
    syyx_ui_banner.prototype.on_click_adv2 = function () {
        ad_banner_1.ad_banner.set_banenr_protect_model();
        this.on_click_adv();
    };
    syyx_ui_banner.prototype.on_click_adv = function () {
        if (this.is_reprot_click) {
            return;
        }
        if (this.easy_click_model) {
            cc.isValid(this.stage) && this.stage.off(cc.Node.EventType.TOUCH_MOVE, this.touch_move, this);
        }
        this.native_bg.off(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        this.click_mask.off(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        this.is_reprot_click = true;
        this.report_click();
    };
    syyx_ui_banner.prototype.on_click_close = function () {
        ad_banner_1.ad_banner.finger_close_banner();
        this.hide();
    };
    /**
    * 广告被点击
    */
    syyx_ui_banner.prototype.report_click = function () {
        if (this.native_data) {
            // syyx_sdk_api.send_other_event(e_ad_id.native_banner, igc.igc_stat_ids.native_banner_click, this.native_data.native_type)
            syyx_adv_manager_1.syyx_adv_manager.report_ad_click(syyx_sdk_enum_1.e_ad_id.native_banner, this.native_data);
        }
    };
    /**
    * 广告被曝光
    */
    syyx_ui_banner.prototype.report_show = function () {
        if (this.native_data) {
            syyx_adv_manager_1.syyx_adv_manager.report_ad_show(syyx_sdk_enum_1.e_ad_id.native_banner, this.native_data);
        }
    };
    syyx_ui_banner.prototype.hide = function () {
        if (this.node && this.node.active) {
            this.node.active = false;
            this.on_hide();
        }
    };
    syyx_ui_banner.prototype.on_hide = function () {
        this.icon_close.off(cc.Node.EventType.TOUCH_END, this.on_click_close, this);
        this.native_bg.off(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        this.click_mask.active = false;
    };
    syyx_ui_banner.prototype.set_default_pos = function () {
        if (!this.is_set_style) {
            this.game_node.x = 0;
            this.game_node.y = -this.node.height / 2;
        }
        this.adjust_mask_node();
    };
    syyx_ui_banner.prototype.set_banner_height = function (is_auto) {
        if (is_auto === void 0) { is_auto = true; }
        if (this.node && this.node.parent) {
            var self_1 = this;
            var _business_config_data = syyx_manager_1.syyx_manager.get_business_config();
            if (_business_config_data && _business_config_data["native_banner_height_open_rule"]) {
                var rule = _business_config_data["native_banner_height_open_rule"].value; // [2, 3, 5]
                if (rule) {
                    if (this.next_change_height_count == -1) {
                        this.next_change_height_count = rule[0]; // 2
                    }
                    if (this.show_count == this.next_change_height_count || !is_auto) { // is_auto 为false会
                        if (!is_auto) {
                            console.log("sdk----- 强制banner变高，cp调");
                            this.next_change_height_count = this.show_count;
                        }
                        // this.next_change_height_count += rule[1] + Math.floor(Math.random() * (rule[2] - rule[1] ))
                        this.next_change_height_count += 2;
                        console.log("sdk----- 下一次banner自动变高的展示次数：", this.next_change_height_count); // 如果是cp调的，next_change_height_count 加 几个随机数
                        var height_rule_1 = _business_config_data["native_banner_height_rule"].value;
                        if (height_rule_1) {
                            this.game_node.height = this.get_screen_adaptation_height(height_rule_1[1]);
                            this.set_default_pos();
                            this.timer_id && clearTimeout(this.timer_id);
                            this.is_heighting = true;
                            this.timer_id = setTimeout(function () {
                                self_1.is_heighting = false;
                                self_1.game_node.height = self_1.get_screen_adaptation_height(height_rule_1[0]);
                                self_1.set_default_pos();
                                console.log("igc----- banner高度恢复");
                            }, height_rule_1[2] * 1000);
                        }
                    }
                }
            }
        }
    };
    syyx_ui_banner.prototype.get_banner_default_height = function () {
        var _business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        var height_rule = _business_config_data["native_banner_height_rule"].value;
        if (height_rule) {
            return this.get_screen_adaptation_height(height_rule[0]);
        }
        return 200;
    };
    syyx_ui_banner.prototype.get_screen_adaptation_height = function (height) {
        if (cc.view.getVisibleSize().height > cc.view.getVisibleSize().width) {
            //只有竖屏游戏才适配
            var scale = syyx_sdk_utils_1.syyx_sdk_utils.get_screen_ratio();
            return (cc.view.getVisibleSize().height / scale) * height / 1920;
        }
        return height;
    };
    syyx_ui_banner.prototype.resume_pos_and_scale = function () {
        this.is_set_style = false;
        //重新设置一下位置和缩放
        this.game_node.setScale(1, 1);
        this.set_default_pos();
    };
    syyx_ui_banner.prototype.set_pos_and_scale = function (x, y, scaleX, scaleY) {
        if (scaleX === void 0) { scaleX = undefined; }
        if (scaleY === void 0) { scaleY = undefined; }
        this.is_set_style = true;
        if (scaleX > -9999999) {
            this.game_node.setScale(scaleX, scaleY);
        }
        if (x > -9999999) {
            this.game_node.x = x;
            this.game_node.y = y;
            console.log("igc----- syyx_ui_banner set_pos_and_scale pos:", x, y, "scale:", scaleX);
        }
    };
    syyx_ui_banner.prototype.set_style_pos = function (x, y) {
        x > -10000 && (this.game_node.x = x);
        y > -10000 && (this.game_node.y = y);
    };
    syyx_ui_banner.prototype.set_background_on_show = function () {
        var self = this;
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.hw_qg) {
            //后台到前台
            syyx_sdk_api_1.syyx_sdk_api.on_show(function () {
                if (self && cc.isValid(self.node)) {
                    console.log("igc----- native_banner set_background_on_show");
                    self.report_show();
                }
            });
        }
    };
    __decorate([
        property(cc.Node)
    ], syyx_ui_banner.prototype, "game_node", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_banner.prototype, "icon_close", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_banner.prototype, "native_bg", void 0);
    __decorate([
        property(cc.Label)
    ], syyx_ui_banner.prototype, "lb_title", void 0);
    __decorate([
        property(cc.Label)
    ], syyx_ui_banner.prototype, "lb_desc", void 0);
    __decorate([
        property(cc.Sprite)
    ], syyx_ui_banner.prototype, "img_icon", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_banner.prototype, "click_mask", void 0);
    syyx_ui_banner = __decorate([
        ccclass
    ], syyx_ui_banner);
    return syyx_ui_banner;
}(cc.Component));
exports.default = syyx_ui_banner;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXHN5eXhfdWlcXGFkXFxzeXl4X3VpX2Jhbm5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpRUFBMkQ7QUFDM0QsNkRBQXNEO0FBQ3RELDJEQUEwRDtBQUMxRCx5RUFBd0U7QUFDeEUsOERBQTZEO0FBRTdELG1EQUFrRDtBQUNsRCw2REFBNEQ7QUFHdEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBNEMsa0NBQVk7SUFtRHBEO1FBQUEsWUFDSSxpQkFBTyxTQUdWO1FBcERELGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFHM0IsZUFBUyxHQUFZLElBQUksQ0FBQztRQUcxQixjQUFRLEdBQWEsSUFBSSxDQUFDO1FBRzFCLGFBQU8sR0FBYSxJQUFJLENBQUM7UUFHekIsY0FBUSxHQUFjLElBQUksQ0FBQztRQUczQixnQkFBVSxHQUFZLElBQUksQ0FBQztRQU8zQjs7V0FFRztRQUNILHFCQUFlLEdBQUcsS0FBSyxDQUFBO1FBRXZCOztXQUVHO1FBQ0gsc0JBQWdCLEdBQUcsS0FBSyxDQUFBO1FBRXhCLGtCQUFZLEdBQUcsS0FBSyxDQUFBO1FBRXBCOztVQUVFO1FBQ0YsZ0JBQVUsR0FBRyxDQUFDLENBQUE7UUFDZCw4QkFBd0IsR0FBRyxDQUFDLENBQUMsQ0FBQTtRQUM3Qiw2QkFBdUIsR0FBRyxDQUFDLENBQUMsQ0FBQTtRQUU1QixjQUFRLEdBQUcsU0FBUyxDQUFBO1FBQ3BCLGtCQUFZLEdBQUcsS0FBSyxDQUFBO1FBTWhCLEtBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFBOztJQUNqQyxDQUFDO0lBRUQsaUNBQVEsR0FBUjtRQUVJLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxxQkFBUyxDQUFDLHVCQUF1QixFQUFFLENBQUE7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O0lBQUQscUJBQUM7Q0FsWEQsQUFrWEMsQ0FsWDJDLEVBQUUsQ0FBQyxTQUFTLEdBa1h2RDtrQkFsWG9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzeXl4X2NvbnN0IH0gZnJvbSBcIi4uLy4uL2NvbmZpZ3Mvc3l5eF9zZGtfY29uZmlnXCI7XHJcbmltcG9ydCB7IGVfYWRfaWQgfSBmcm9tIFwiLi4vLi4vY29uZmlncy9zeXl4X3Nka19lbnVtXCI7XHJcbmltcG9ydCB7IGFkX2Jhbm5lciB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVyL2FkL2FkX2Jhbm5lclwiO1xyXG5pbXBvcnQgeyBzeXl4X2Fkdl9tYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXIvYWQvc3l5eF9hZHZfbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBzeXl4X21hbmFnZXIgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlci9zeXl4X21hbmFnZXJcIjtcclxuaW1wb3J0IHsgbmF0aXZlX2FkX2RhdGEgfSBmcm9tIFwiLi4vLi4vbW9kZWwvbW9kZWxcIjtcclxuaW1wb3J0IHsgc3l5eF9zZGtfYXBpIH0gZnJvbSBcIi4uLy4uL3N5eXhfc2RrX2FwaVwiO1xyXG5pbXBvcnQgeyBzeXl4X3Nka191dGlscyB9IGZyb20gXCIuLi8uLi91dGlscy9zeXl4X3Nka191dGlsc1wiO1xyXG5cclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBzeXl4X3VpX2Jhbm5lciBleHRlbmRzIGNjLkNvbXBvbmVudCB7IC8vIFxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ2FtZV9ub2RlOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGljb25fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgbmF0aXZlX2JnOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBsYl90aXRsZTogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGxiX2Rlc2M6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaW1nX2ljb246IGNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBjbGlja19tYXNrOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICog5Y6f55Sf5bm/5ZGK5pWw5o2uXHJcbiAgICAqL1xyXG4gICAgbmF0aXZlX2RhdGE6IG5hdGl2ZV9hZF9kYXRhXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKbkuIrmiqXov4fngrnlh7tcclxuICAgICAqL1xyXG4gICAgaXNfcmVwcm90X2NsaWNrID0gZmFsc2VcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpuS4uuaYk+eCueWHu+aooeW8j1xyXG4gICAgICovXHJcbiAgICBlYXN5X2NsaWNrX21vZGVsID0gZmFsc2VcclxuXHJcbiAgICBpc19zZXRfc3R5bGUgPSBmYWxzZVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDljp/nlJ9iYW5uZXLlsZXnpLrmrKHmlbBcclxuICAgICovXHJcbiAgICBzaG93X2NvdW50ID0gMFxyXG4gICAgbmV4dF9jaGFuZ2VfaGVpZ2h0X2NvdW50ID0gLTFcclxuICAgIG5leHRfY2hhbmdlX3NjYWxlX2NvdW50ID0gLTFcclxuXHJcbiAgICB0aW1lcl9pZCA9IHVuZGVmaW5lZFxyXG4gICAgaXNfaGVpZ2h0aW5nID0gZmFsc2VcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG5cclxuICAgICAgICB0aGlzLnNldF9iYWNrZ3JvdW5kX29uX3Nob3coKVxyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCkge1xyXG5cclxuICAgICAgICB0aGlzLmVhc3lfY2xpY2tfbW9kZWwgPSBhZF9iYW5uZXIuZ2V0X2lzX2Vhc3lfY2xpY2tfbW9kZWwoKVxyXG4gICAgICAgIGlmICh0aGlzLmVhc3lfY2xpY2tfbW9kZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGFnZSA9IHdpbmRvd1tcImNjXCJdLmRpcmVjdG9yLmdldFNjZW5lKCkuZ2V0Q2hpbGRCeU5hbWUoXCJDYW52YXNcIilcclxuICAgICAgICAgICAgY2MuaXNWYWxpZCh0aGlzLnN0YWdlKSAmJiB0aGlzLnN0YWdlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIHRoaXMudG91Y2hfbW92ZSwgdGhpcylcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5lYXN5X2NsaWNrX21vZGVsKSB7XHJcbiAgICAgICAgICAgIGNjLmlzVmFsaWQodGhpcy5zdGFnZSkgJiYgdGhpcy5zdGFnZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSwgdGhpcy50b3VjaF9tb3ZlLCB0aGlzKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93KG5hdGl2ZV9kYXRhPykge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUgJiYgIXRoaXMubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnBhcmVudCA9IHN5eXhfc2RrX3V0aWxzLmdldF9zdGFnZSgpXHJcblxyXG4gICAgICAgICAgICBjYy5nYW1lLmFkZFBlcnNpc3RSb290Tm9kZSh0aGlzLm5vZGUpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuekluZGV4ID0gMTAwMDAwMVxyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2VcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2MuaXNWYWxpZCh0aGlzLm5vZGUpICYmICF0aGlzLm5vZGUuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGxldCBhdXRvX3NjYWxlID0gc3l5eF9zZGtfdXRpbHMuZ2V0X3NjcmVlbl9yYXRpbygpXHJcbiAgICAgICAgICAgIHRoaXMubm9kZS53aWR0aCA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aCAvIGF1dG9fc2NhbGVcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmhlaWdodCA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS5oZWlnaHQgLyBhdXRvX3NjYWxlXHJcbiAgICAgICAgICAgIHRoaXMubm9kZS54ID0gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLndpZHRoIC8gMlxyXG4gICAgICAgICAgICB0aGlzLm5vZGUueSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS5oZWlnaHQgLyAyXHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldF9kZWZhdWx0X3BvcygpXHJcbiAgICAgICAgICAgIHRoaXMub25fc2hvdyhuYXRpdmVfZGF0YSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhZ2VcclxuXHJcbiAgICBvbl9zaG93KG5hdGl2ZV9kYXRhPykge1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5zaG93X2NvdW50KytcclxuICAgICAgICB0aGlzLmljb25fY2xvc2Uub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uX2NsaWNrX2Nsb3NlLCB0aGlzKVxyXG5cclxuICAgICAgICB0aGlzLmlzX3JlcHJvdF9jbGljayA9IGZhbHNlXHJcblxyXG4gICAgICAgIHRoaXMuY2xpY2tfbWFzay5hY3RpdmUgPSBmYWxzZVxyXG5cclxuICAgICAgICB0aGlzLm5hdGl2ZV9iZy5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMub25fY2xpY2tfYWR2LCB0aGlzKVxyXG4gICAgICAgIHRoaXMuY2xpY2tfbWFzay5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMub25fY2xpY2tfYWR2LCB0aGlzKVxyXG5cclxuICAgICAgICBpZiAobmF0aXZlX2RhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5uYXRpdmVfZGF0YSA9IG5hdGl2ZV9kYXRhXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5uYXRpdmVfZGF0YSA9IHN5eXhfc2RrX2FwaS5nZXRfbG9jYWxfbmF0aXZlX2RhdGEoYWRfYmFubmVyLl9uYXRpdmVfYmFubmVyX2lkKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlZnJlc2goKVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dfY2xpY2tfbWFzaygpIHtcclxuICAgICAgICBsZXQgX2J1c2luZXNzX2NvbmZpZ19kYXRhID0gc3l5eF9tYW5hZ2VyLmdldF9idXNpbmVzc19jb25maWcoKVxyXG4gICAgICAgIGlmIChfYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiYmFubmVyX2NsaWNrX21hc2tfb3Blbl9ydWxlXCJdKSB7XHJcbiAgICAgICAgICAgIGxldCBydWxlID0gX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiYmFubmVyX2NsaWNrX21hc2tfb3Blbl9ydWxlXCJdLnZhbHVlXHJcbiAgICAgICAgICAgIGlmIChydWxlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uZXh0X2NoYW5nZV9zY2FsZV9jb3VudCA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dF9jaGFuZ2Vfc2NhbGVfY291bnQgPSBydWxlWzBdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93X2NvdW50ID09IHRoaXMubmV4dF9jaGFuZ2Vfc2NhbGVfY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRfY2hhbmdlX3NjYWxlX2NvdW50ICs9IHJ1bGVbMV0gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAocnVsZVsyXSAtIHJ1bGVbMV0gKyAxKSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWNrX21hc2suYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0X21hc2tfbm9kZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0X2NoYW5nZV9zY2FsZSgpIHtcclxuICAgICAgICBsZXQgX2J1c2luZXNzX2NvbmZpZ19kYXRhID0gc3l5eF9tYW5hZ2VyLmdldF9idXNpbmVzc19jb25maWcoKVxyXG4gICAgICAgIGlmIChfYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiYmFubmVyX2NsaWNrX21hc2tfc2NhbGVcIl0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9idXNpbmVzc19jb25maWdfZGF0YVtcImJhbm5lcl9jbGlja19tYXNrX3NjYWxlXCJdLnZhbHVlWzBdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAxXHJcbiAgICB9XHJcblxyXG4gICAgYWRqdXN0X21hc2tfbm9kZSgpIHtcclxuICAgICAgICB0aGlzLmNsaWNrX21hc2suaGVpZ2h0ID0gdGhpcy5nYW1lX25vZGUuaGVpZ2h0XHJcbiAgICAgICAgdGhpcy5jbGlja19tYXNrLndpZHRoID0gdGhpcy5nYW1lX25vZGUud2lkdGhcclxuICAgICAgICB0aGlzLmNsaWNrX21hc2suc2NhbGVYID0gdGhpcy5nYW1lX25vZGUuc2NhbGVYICogdGhpcy5nZXRfY2hhbmdlX3NjYWxlKClcclxuICAgICAgICB0aGlzLmNsaWNrX21hc2suc2NhbGVZID0gdGhpcy5nYW1lX25vZGUuc2NhbGVZICogdGhpcy5nZXRfY2hhbmdlX3NjYWxlKClcclxuXHJcbiAgICAgICAgdGhpcy5jbGlja19tYXNrLm9wYWNpdHkgPSAwXHJcbiAgICAgICAgbGV0IF9idXNpbmVzc19jb25maWdfZGF0YSA9IHN5eXhfbWFuYWdlci5nZXRfYnVzaW5lc3NfY29uZmlnKClcclxuICAgICAgICBpZiAoX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIF9idXNpbmVzc19jb25maWdfZGF0YVtcImJhbm5lcl9jbGlja19tYXNrX3ByZXZpZXdcIl0pIHtcclxuICAgICAgICAgICAgaWYgKF9idXNpbmVzc19jb25maWdfZGF0YVtcImJhbm5lcl9jbGlja19tYXNrX3ByZXZpZXdcIl0udmFsdWVbMF0gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlja19tYXNrLm9wYWNpdHkgPSA4MFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2goKSB7XHJcbiAgICAgICAgdGhpcy5sYl9kZXNjLnN0cmluZyA9IHRoaXMubmF0aXZlX2RhdGEuZGVzYyArIFwiXCJcclxuICAgICAgICB0aGlzLmxiX3RpdGxlLnN0cmluZyA9IHRoaXMubmF0aXZlX2RhdGEudGl0bGUgKyBcIlwiXHJcbiAgICAgICAgc3l5eF9zZGtfdXRpbHMuc2V0X3RleHR1cmVfdXJsKHRoaXMuaW1nX2ljb24sIHRoaXMubmF0aXZlX2RhdGEuaW1nVXJsTGlzdCkgXHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pc19oZWlnaHRpbmcpIHsgLy8gYmFubmVy5Y+Y6auY5pe25Li6dHJ1Ze+8jOaBouWkjeaXtuS4umZhbHNlXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZV9ub2RlLmhlaWdodCA9IHRoaXMuZ2V0X2Jhbm5lcl9kZWZhdWx0X2hlaWdodCgpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0X2RlZmF1bHRfcG9zKClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVwb3J0X3Nob3coKVxyXG4gICAgICAgIHRoaXMuc2V0X2Jhbm5lcl9oZWlnaHQoKVxyXG4gICAgICAgIHRoaXMuc2hvd19jbGlja19tYXNrKClcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdG91Y2hfbW92ZShldmVudCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5lYXN5X2NsaWNrX21vZGVsICYmIHRoaXMubm9kZSAmJiB0aGlzLm5vZGUuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidG91Y2ggbW92ZVwiKVxyXG5cclxuICAgICAgICAgICAgLy8g5omL5oyH5Zyo5Zy65pmv5Lit56e75Yqo5YiwYmFuZW5y5Yy65Z+fXHJcbiAgICAgICAgICAgIGlmIChldmVudC50b3VjaC5nZXRMb2NhdGlvblkoKSA8PSB0aGlzLmdhbWVfbm9kZS5oZWlnaHQgKiB0aGlzLmdhbWVfbm9kZS5zY2FsZVkgKiB0aGlzLm5vZGUuc2NhbGVZKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudG91Y2guZ2V0TG9jYXRpb25YKCkgPj0gKGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aCAtIHRoaXMuZ2FtZV9ub2RlLndpZHRoICogdGhpcy5nYW1lX25vZGUuc2NhbGVYICogdGhpcy5ub2RlLnNjYWxlWCkgLyAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRvdWNoLmdldExvY2F0aW9uWCgpIDwgKGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aCArIHRoaXMuZ2FtZV9ub2RlLndpZHRoICogdGhpcy5nYW1lX25vZGUuc2NhbGVYICogdGhpcy5ub2RlLnNjYWxlWCkgLyAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25fY2xpY2tfYWR2MigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8g5omL5oyH5Zyo5Zy65pmv5Lit56e75Yqo5YiwYmFuZW5yX21hc2vljLrln59cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnRvdWNoLmdldExvY2F0aW9uWSgpIDw9IHRoaXMuY2xpY2tfbWFzay5oZWlnaHQgKiB0aGlzLmNsaWNrX21hc2suc2NhbGVZICogdGhpcy5ub2RlLnNjYWxlWSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRvdWNoLmdldExvY2F0aW9uWCgpID49IChjYy52aWV3LmdldFZpc2libGVTaXplKCkud2lkdGggLSB0aGlzLmNsaWNrX21hc2sud2lkdGggKiB0aGlzLmNsaWNrX21hc2suc2NhbGVYICogdGhpcy5ub2RlLnNjYWxlWCkgLyAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRvdWNoLmdldExvY2F0aW9uWCgpIDwgKGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aCArIHRoaXMuY2xpY2tfbWFzay53aWR0aCAqIHRoaXMuY2xpY2tfbWFzay5zY2FsZVggKiB0aGlzLm5vZGUuc2NhbGVYKSAvIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbl9jbGlja19hZHYyKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uX2NsaWNrX2FkdjIoKSB7XHJcbiAgICAgICAgYWRfYmFubmVyLnNldF9iYW5lbnJfcHJvdGVjdF9tb2RlbCgpXHJcbiAgICAgICAgdGhpcy5vbl9jbGlja19hZHYoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25fY2xpY2tfYWR2KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzX3JlcHJvdF9jbGljaykge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmVhc3lfY2xpY2tfbW9kZWwpIHtcclxuICAgICAgICAgICAgY2MuaXNWYWxpZCh0aGlzLnN0YWdlKSAmJiB0aGlzLnN0YWdlLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9NT1ZFLCB0aGlzLnRvdWNoX21vdmUsIHRoaXMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubmF0aXZlX2JnLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMub25fY2xpY2tfYWR2LCB0aGlzKVxyXG4gICAgICAgIHRoaXMuY2xpY2tfbWFzay5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uX2NsaWNrX2FkdiwgdGhpcylcclxuXHJcbiAgICAgICAgdGhpcy5pc19yZXByb3RfY2xpY2sgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5yZXBvcnRfY2xpY2soKVxyXG4gICAgfVxyXG5cclxuICAgIG9uX2NsaWNrX2Nsb3NlKCkge1xyXG4gICAgICAgIGFkX2Jhbm5lci5maW5nZXJfY2xvc2VfYmFubmVyKClcclxuICAgICAgICB0aGlzLmhpZGUoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDlub/lkYrooqvngrnlh7tcclxuICAgICovXHJcbiAgICByZXBvcnRfY2xpY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubmF0aXZlX2RhdGEpIHtcclxuICAgICAgICAgICAgLy8gc3l5eF9zZGtfYXBpLnNlbmRfb3RoZXJfZXZlbnQoZV9hZF9pZC5uYXRpdmVfYmFubmVyLCBpZ2MuaWdjX3N0YXRfaWRzLm5hdGl2ZV9iYW5uZXJfY2xpY2ssIHRoaXMubmF0aXZlX2RhdGEubmF0aXZlX3R5cGUpXHJcbiAgICAgICAgICAgIHN5eXhfYWR2X21hbmFnZXIucmVwb3J0X2FkX2NsaWNrKGVfYWRfaWQubmF0aXZlX2Jhbm5lciwgdGhpcy5uYXRpdmVfZGF0YSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOW5v+WRiuiiq+abneWFiVxyXG4gICAgKi9cclxuICAgIHJlcG9ydF9zaG93KCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgIHN5eXhfYWR2X21hbmFnZXIucmVwb3J0X2FkX3Nob3coZV9hZF9pZC5uYXRpdmVfYmFubmVyLCB0aGlzLm5hdGl2ZV9kYXRhKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUgJiYgdGhpcy5ub2RlLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICAgICAgdGhpcy5vbl9oaWRlKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25faGlkZSgpIHtcclxuICAgICAgICB0aGlzLmljb25fY2xvc2Uub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGlja19jbG9zZSwgdGhpcylcclxuICAgICAgICB0aGlzLm5hdGl2ZV9iZy5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uX2NsaWNrX2FkdiwgdGhpcylcclxuXHJcbiAgICAgICAgdGhpcy5jbGlja19tYXNrLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2RlZmF1bHRfcG9zKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc19zZXRfc3R5bGUpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lX25vZGUueCA9IDBcclxuICAgICAgICAgICAgdGhpcy5nYW1lX25vZGUueSA9IC10aGlzLm5vZGUuaGVpZ2h0IC8gMlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hZGp1c3RfbWFza19ub2RlKClcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc2V0X2Jhbm5lcl9oZWlnaHQoaXNfYXV0byA9IHRydWUpIHsgLy8g56CU5Y+R6LCD5LygZmFsc2VcclxuICAgICAgICBpZiAodGhpcy5ub2RlICYmIHRoaXMubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcbiAgICAgICAgICAgIGxldCBfYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgICAgIGlmIChfYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2Jhbm5lcl9oZWlnaHRfb3Blbl9ydWxlXCJdKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcnVsZSA9IF9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9iYW5uZXJfaGVpZ2h0X29wZW5fcnVsZVwiXS52YWx1ZSAvLyBbMiwgMywgNV1cclxuICAgICAgICAgICAgICAgIGlmIChydWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dF9jaGFuZ2VfaGVpZ2h0X2NvdW50ID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dF9jaGFuZ2VfaGVpZ2h0X2NvdW50ID0gcnVsZVswXSAvLyAyXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dfY291bnQgPT0gdGhpcy5uZXh0X2NoYW5nZV9oZWlnaHRfY291bnQgfHwgIWlzX2F1dG8pIHsgLy8gaXNfYXV0byDkuLpmYWxzZeS8mlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc19hdXRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNkay0tLS0tIOW8uuWItmJhbm5lcuWPmOmrmO+8jGNw6LCDXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRfY2hhbmdlX2hlaWdodF9jb3VudCA9IHRoaXMuc2hvd19jb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubmV4dF9jaGFuZ2VfaGVpZ2h0X2NvdW50ICs9IHJ1bGVbMV0gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAocnVsZVsyXSAtIHJ1bGVbMV0gKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0X2NoYW5nZV9oZWlnaHRfY291bnQgKz0gMlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZGstLS0tLSDkuIvkuIDmrKFiYW5uZXLoh6rliqjlj5jpq5jnmoTlsZXnpLrmrKHmlbDvvJpcIiwgdGhpcy5uZXh0X2NoYW5nZV9oZWlnaHRfY291bnQpICAvLyDlpoLmnpzmmK9jcOiwg+eahO+8jG5leHRfY2hhbmdlX2hlaWdodF9jb3VudCDliqAg5Yeg5Liq6ZqP5py65pWwXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0X3J1bGUgPSBfYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfYmFubmVyX2hlaWdodF9ydWxlXCJdLnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWlnaHRfcnVsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lX25vZGUuaGVpZ2h0ID0gdGhpcy5nZXRfc2NyZWVuX2FkYXB0YXRpb25faGVpZ2h0KGhlaWdodF9ydWxlWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRfZGVmYXVsdF9wb3MoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lcl9pZCAmJiBjbGVhclRpbWVvdXQodGhpcy50aW1lcl9pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNfaGVpZ2h0aW5nID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lcl9pZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaXNfaGVpZ2h0aW5nID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmdhbWVfbm9kZS5oZWlnaHQgPSBzZWxmLmdldF9zY3JlZW5fYWRhcHRhdGlvbl9oZWlnaHQoaGVpZ2h0X3J1bGVbMF0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRfZGVmYXVsdF9wb3MoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gYmFubmVy6auY5bqm5oGi5aSNXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBoZWlnaHRfcnVsZVsyXSAqIDEwMDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0X2Jhbm5lcl9kZWZhdWx0X2hlaWdodCgpIHtcclxuICAgICAgICBsZXQgX2J1c2luZXNzX2NvbmZpZ19kYXRhID0gc3l5eF9tYW5hZ2VyLmdldF9idXNpbmVzc19jb25maWcoKVxyXG4gICAgICAgIGxldCBoZWlnaHRfcnVsZSA9IF9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9iYW5uZXJfaGVpZ2h0X3J1bGVcIl0udmFsdWVcclxuICAgICAgICBpZiAoaGVpZ2h0X3J1bGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0X3NjcmVlbl9hZGFwdGF0aW9uX2hlaWdodChoZWlnaHRfcnVsZVswXSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDIwMFxyXG4gICAgfVxyXG5cclxuICAgIGdldF9zY3JlZW5fYWRhcHRhdGlvbl9oZWlnaHQoaGVpZ2h0KSB7XHJcbiAgICAgICAgaWYgKGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS5oZWlnaHQgPiBjYy52aWV3LmdldFZpc2libGVTaXplKCkud2lkdGgpIHtcclxuICAgICAgICAgICAgLy/lj6rmnInnq5blsY/muLjmiI/miY3pgILphY1cclxuICAgICAgICAgICAgbGV0IHNjYWxlID0gc3l5eF9zZGtfdXRpbHMuZ2V0X3NjcmVlbl9yYXRpbygpXHJcbiAgICAgICAgICAgIHJldHVybiAoY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLmhlaWdodCAvIHNjYWxlKSAqIGhlaWdodCAvIDE5MjBcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhlaWdodFxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVzdW1lX3Bvc19hbmRfc2NhbGUoKSB7XHJcbiAgICAgICAgdGhpcy5pc19zZXRfc3R5bGUgPSBmYWxzZVxyXG4gICAgICAgIC8v6YeN5paw6K6+572u5LiA5LiL5L2N572u5ZKM57yp5pS+XHJcbiAgICAgICAgdGhpcy5nYW1lX25vZGUuc2V0U2NhbGUoMSwgMSlcclxuICAgICAgICB0aGlzLnNldF9kZWZhdWx0X3BvcygpXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHNldF9wb3NfYW5kX3NjYWxlKHgsIHksIHNjYWxlWCA9IHVuZGVmaW5lZCwgc2NhbGVZID0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaXNfc2V0X3N0eWxlID0gdHJ1ZVxyXG5cclxuICAgICAgICBpZiAoc2NhbGVYID4gLTk5OTk5OTkpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lX25vZGUuc2V0U2NhbGUoc2NhbGVYLCBzY2FsZVkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh4ID4gLTk5OTk5OTkpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lX25vZGUueCA9IHhcclxuICAgICAgICAgICAgdGhpcy5nYW1lX25vZGUueSA9IHlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBzeXl4X3VpX2Jhbm5lciBzZXRfcG9zX2FuZF9zY2FsZSBwb3M6XCIsIHgsIHksIFwic2NhbGU6XCIsIHNjYWxlWClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0X3N0eWxlX3Bvcyh4LCB5KSB7XHJcbiAgICAgICAgeCA+IC0xMDAwMCAmJiAodGhpcy5nYW1lX25vZGUueCA9IHgpXHJcbiAgICAgICAgeSA+IC0xMDAwMCAmJiAodGhpcy5nYW1lX25vZGUueSA9IHkpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0X2JhY2tncm91bmRfb25fc2hvdygpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuICAgICAgICBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUuaHdfcWcpIHtcclxuICAgICAgICAgICAgLy/lkI7lj7DliLDliY3lj7BcclxuICAgICAgICAgICAgc3l5eF9zZGtfYXBpLm9uX3Nob3coXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYgJiYgY2MuaXNWYWxpZChzZWxmLm5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gbmF0aXZlX2Jhbm5lciBzZXRfYmFja2dyb3VuZF9vbl9zaG93XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVwb3J0X3Nob3coKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/E20controller.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fe1afyCfE1MI7Aism487GSA', 'E20controller');
// scripts/game/E20controller.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var Events_1 = require("./Events");
var firePillarCollider_1 = require("./firePillarCollider");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["attack"] = 0] = "attack";
})(damageCollider || (damageCollider = {}));
var E20controller = /** @class */ (function (_super) {
    __extends(E20controller, _super);
    function E20controller() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.firePillar = null;
        _this.tpFx_start = null;
        _this.tpFx_end = null;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.hpNode = null;
        _this.hpBar = null;
        _this.dieEffectName = "";
        _this.moveSpeed = 80; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 0.8; //ai间隔
        _this.stopDistance = 400; //停止距离
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 35000; //手里剑攻击作用力
        _this.beHitForce_x = 25000; //普通攻击作用力
        _this.beHitForce_y_shuriken = 50000; //普通攻击作用力
        _this.beHitForce_x_attack3 = 400000; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isMove = false; //是否处于移动状态
        _this.dmgCollider = null;
        _this.isTPCD = false; //被攻击自动tp冷却
        return _this;
    }
    E20controller.prototype.onLoad = function () {
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    E20controller.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
    };
    E20controller.prototype.init = function () {
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        this.AI_interval += Math.random();
        this.idle();
    };
    E20controller.prototype.update = function () {
        if (this.isMove == false)
            return;
        var distance = this.getDistanceX();
        if (Math.abs(distance) < this.stopDistance) {
            this.skill_start();
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.attack)
                return;
            this.moveToPlayer();
        }
    };
    E20controller.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "ground") {
        }
    };
    E20controller.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    E20controller.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    E20controller.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    E20controller.prototype.AI_start = function () {
        var _this = this;
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.changeMovState(false);
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            return;
        }
        var distance = Math.abs(this.getDistanceX());
        if (distance < this.stopDistance) {
            if (distance > 150) {
                this.skill_start();
            }
            else {
                this.teleportStart();
            }
        }
        else {
            var random = caijiTools_1.caijiTools.random_int(1, 10);
            if (random % 2 == 0) {
                this.skill_start();
                return;
            }
            this.changeDirection();
            this.enemyAnimation.changeState(animationState_1.enemyState.move, 1, true, true, true);
            this.changeMovState(true);
            this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.moveSpeed : this.moveSpeed;
        }
    };
    E20controller.prototype.AI_stop = function () {
        this.idle();
    };
    E20controller.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    E20controller.prototype.idle = function () {
        var _this = this;
        this.changeMovState(false);
        this.changeDirection();
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.idle, 1, true, true, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.idle)
                return;
            _this.AI_start();
        }, this.AI_interval);
    };
    E20controller.prototype.changeDirection = function () {
        if (GameManager_1.default.instance.player == null)
            return;
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x - this.node.x > 0 ? -this.scaleX_skeleton : this.scaleX_skeleton;
        //this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    E20controller.prototype.die = function () {
        this.isDie = true;
        this.node.active = false;
        this.hideHp();
        this.dieCount();
    };
    E20controller.prototype.moveToPlayer = function () {
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    E20controller.prototype.getUp = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.get_up, 1, false, true);
    };
    E20controller.prototype.knockDown2 = function () {
        var _this = this;
        this.enemyAnimation.changeState(animationState_1.enemyState.knock_down2, 1, false, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.knock_down2)
                return;
            _this.getUp();
        }, 0.5);
    };
    E20controller.prototype.skill_start = function () {
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.fire_pillar, 1, false, true, true);
    };
    //持续施法中  无法打断
    E20controller.prototype.skill_middle = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E20Cast);
        this.openSuperArmor();
        this.enemyAnimation.changeState(animationState_1.enemyState.fire_pillar2, 1, true, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.fire_pillar2)
                return;
            _this.skill_end();
        }, 2.5);
        //施法
        this.schedule(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.fire_pillar2)
                return;
            _this.createFirePillar(GameManager_1.default.instance.player.position);
        }, 0.8, 2, 0.001);
    };
    E20controller.prototype.skill_end = function () {
        this.closeSuperArmor();
        this.enemyAnimation.changeState(animationState_1.enemyState.fire_pillar3, 1, false, true);
    };
    //创建火柱
    E20controller.prototype.createFirePillar = function (pos) {
        var fire = cc.instantiate(this.firePillar);
        fire.setParent(this.node.parent);
        fire.setSiblingIndex(this.node.getSiblingIndex());
        fire.setPosition(pos.x, -194);
        fire.getComponent(firePillarCollider_1.default).damage = this.damage;
        fire.active = true;
    };
    //传送隐身
    E20controller.prototype.blink = function (trackEntry, event) {
        if (event.data.name == "Blink") {
            this.closeCollider();
            this.createFX();
        }
        else {
            this.transportEnd();
        }
    };
    //传送动作开始
    E20controller.prototype.teleportStart = function () {
        this.isTPCD = true;
        this.openSuperArmor();
        this.enemyAnimation.changeState(animationState_1.enemyState.teleport, 1, false, true, true);
        this.scheduleOnce(function () {
            audioManager_1.default.playAudio(audioNameMgr_1.audioName.BlinkStart);
        }, 0.2);
    };
    //传送至指定地点
    E20controller.prototype.transportEnd = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.BlinkEnd);
        var x = 0;
        if (GameManager_1.default.instance.player.x < 700) {
            x = GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(300, cc.winSize.width / 1.6);
        }
        else if (GameManager_1.default.instance.player.x > 1700) {
            x = GameManager_1.default.instance.player.x - caijiTools_1.caijiTools.random_int(300, cc.winSize.width / 1.6);
        }
        else {
            var random = caijiTools_1.caijiTools.random_int(1, 10);
            x = random % 2 == 0 ?
                GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(-cc.winSize.width / 1.6, -300) :
                GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(300, cc.winSize.width / 1.6);
        }
        this.node.x = x;
        this.createFX();
        this.scheduleOnce(function () {
            _this.closeSuperArmor();
            _this.openCollider();
        }, 0.2);
    };
    E20controller.prototype.createFX = function () {
        var fx = cc.instantiate(this.tpFx_start);
        fx.setParent(this.node.parent);
        fx.setSiblingIndex(this.node.getSiblingIndex() + 1);
        fx.setPosition(this.node.x, this.node.y + this.damageLabelOffsetY);
        fx.active = true;
    };
    E20controller.prototype.hit = function () {
        var _this = this;
        if (animationState_1.enemyState[this.enemyAnimation.state].includes("get_hurt"))
            return;
        this.changeDirection();
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        this.showDamageCollider(damageCollider.attack);
        this.enemyAnimation.changeState(animationState_1.enemyState.attack, 1, false);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state == animationState_1.enemyState.attack) {
                _this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
            }
        }, 0.5);
    };
    E20controller.prototype.beHit = function (damage, dmgType) {
        this.changeMovState(false);
        this.setRigibodySpeed(0);
        // let isContinue = this.checkIsSwordRain(dmgType);//设置剑雨攻击间隔
        // if (isContinue == 0) return;
        this.highLight();
        this.showHp();
        this.changeState_beHit(dmgType);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        this.updateHp(damage);
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
    };
    E20controller.prototype.openSuperArmor = function () {
        this.isSuperArmor = true;
    };
    E20controller.prototype.closeSuperArmor = function () {
        this.isSuperArmor = false;
    };
    E20controller.prototype.closeCollider = function () {
        this.node.opacity = 0;
        this.boxCollider.enabled = false;
        this.boxCollider.apply();
        this.node.getComponent(cc.BoxCollider).enabled = false;
        this.hideHp();
    };
    E20controller.prototype.openCollider = function () {
        this.node.opacity = 255;
        this.boxCollider.enabled = true;
        this.boxCollider.apply();
        this.node.getComponent(cc.BoxCollider).enabled = true;
    };
    E20controller.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    E20controller.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        if (this.isTPCD == false) {
            this.teleportStart();
            this.scheduleOnce(function () {
                _this.isTPCD = false;
            }, 5);
            return;
        }
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.get_hurt2;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.knock_down1;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.get_hurt1;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    E20controller.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    E20controller.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    E20controller.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    E20controller.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    E20controller.prototype.updateHp = function (damage) {
        this.hp -= damage;
        this.hpBar.progress = this.hp / this.hpMax;
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    E20controller.prototype.showHp = function () {
        this.unschedule(this.hideHp);
        this.hpNode.active = true;
        this.scheduleOnce(this.hideHp, 2);
    };
    E20controller.prototype.hideHp = function () {
        this.hpNode.active = false;
    };
    E20controller.prototype.highLight = function () {
        this.unschedule(this.closeHighLight);
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        this.scheduleOnce(this.closeHighLight, 0.15);
    };
    E20controller.prototype.closeHighLight = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    E20controller.prototype.getDistanceX = function () {
        return this.node.x - GameManager_1.default.instance.player.x;
    };
    __decorate([
        property(cc.Prefab)
    ], E20controller.prototype, "firePillar", void 0);
    __decorate([
        property(cc.Prefab)
    ], E20controller.prototype, "tpFx_start", void 0);
    __decorate([
        property(cc.Prefab)
    ], E20controller.prototype, "tpFx_end", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], E20controller.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], E20controller.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.Node)
    ], E20controller.prototype, "hpNode", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], E20controller.prototype, "hpBar", void 0);
    __decorate([
        property(cc.String)
    ], E20controller.prototype, "dieEffectName", void 0);
    E20controller = __decorate([
        ccclass
    ], E20controller);
    return E20controller;
}(enemyBase_1.default));
exports.default = E20controller;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRTIwY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnREFBNEM7QUFDNUMsNENBQTJDO0FBQzNDLHFEQUFnRDtBQUNoRCxtREFBMEQ7QUFDMUQsbURBQThDO0FBQzlDLHlDQUFvQztBQUNwQyx1REFBa0Q7QUFDbEQsbUNBQThCO0FBQzlCLDJEQUFzRDtBQUN0RCw2Q0FBd0M7QUFFbEMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFDNUMsSUFBSyxjQUVKO0FBRkQsV0FBSyxjQUFjO0lBQ2YsdURBQU0sQ0FBQTtBQUNWLENBQUMsRUFGSSxjQUFjLEtBQWQsY0FBYyxRQUVsQjtBQUVEO0lBQTJDLGlDQUFTO0lBQXBEO1FBQUEscUVBaVlDO1FBOVhHLGdCQUFVLEdBQVcsSUFBSSxDQUFDO1FBRTFCLGdCQUFVLEdBQVcsSUFBSSxDQUFDO1FBRTFCLGNBQVEsR0FBVyxJQUFJLENBQUM7UUFFeEIsd0JBQWtCLEdBQVcsQ0FBQyxDQUFDO1FBRS9CLHdCQUFrQixHQUFXLENBQUMsQ0FBQztRQUUvQixZQUFNLEdBQVksSUFBSSxDQUFDO1FBRXZCLFdBQUssR0FBbUIsSUFBSSxDQUFDO1FBRTdCLG1CQUFhLEdBQVcsRUFBRSxDQUFDO1FBRTNCLGVBQVMsR0FBVyxFQUFFLENBQUMsQ0FBQSxNQUFNO1FBQzdCLGNBQVEsR0FBVyxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQzNCLGlCQUFXLEdBQVcsR0FBRyxDQUFDLENBQUEsTUFBTTtRQUNoQyxrQkFBWSxHQUFRLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDOUIsUUFBRSxHQUFXLENBQUMsQ0FBQztRQUNmLGFBQU8sR0FBUSxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQ3ZCLGtCQUFZLEdBQVcsS0FBSyxDQUFDLENBQUEsVUFBVTtRQUN2QyxrQkFBWSxHQUFXLEtBQUssQ0FBQSxDQUFBLFNBQVM7UUFDckMsMkJBQXFCLEdBQVcsS0FBSyxDQUFBLENBQUEsU0FBUztRQUM5QywwQkFBb0IsR0FBVyxNQUFNLENBQUMsQ0FBQSxRQUFRO1FBQzlDLDBCQUFvQixHQUFXLENBQUMsQ0FBQyxDQUFBLFFBQVE7UUFDekMscUJBQWUsR0FBVyxDQUFDLENBQUM7UUFDNUIsV0FBSyxHQUFZLEtBQUssQ0FBQztRQUN2QixjQUFRLEdBQWdCLElBQUksQ0FBQztRQUM3QixvQkFBYyxHQUFtQixJQUFJLENBQUM7UUFDdEMsY0FBUSxHQUFpQixJQUFJLENBQUM7UUFDOUIsaUJBQVcsR0FBMEIsSUFBSSxDQUFDO1FBQzFDLG1CQUFhLEdBQVksS0FBSyxDQUFDO1FBQy9CLFlBQU0sR0FBWSxLQUFLLENBQUMsQ0FBQSxVQUFVO1FBQ2xDLGlCQUFXLEdBQWdCLElBQUksQ0FBQztRQUNoQyxZQUFNLEdBQVMsS0FBSyxDQUFDLENBQUEsV0FBVzs7SUEwVnBDLENBQUM7SUF4VkcsOEJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsd0JBQWMsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxjQUFjLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztRQUMzQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFDRCw2QkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ1osWUFBWTtRQUNaLG9FQUFvRTtJQUN4RSxDQUFDO0lBQ0QsNEJBQUksR0FBSjtRQUNJLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUNsQyxJQUFJLENBQUMsV0FBVyxJQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNoQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUNELDhCQUFNLEdBQU47UUFDSSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksS0FBSztZQUFFLE9BQU87UUFDakMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ25DLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUN0QjthQUFNO1lBQ0gsSUFBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssSUFBRSwyQkFBVSxDQUFDLE1BQU07Z0JBQUUsT0FBTztZQUN4RCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBQ0Qsc0NBQWMsR0FBZCxVQUFlLE9BQTBCLEVBQUUsWUFBZ0MsRUFBRSxhQUFpQztRQUMxRyxJQUFJLEtBQUssR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDO1FBQy9CLGtEQUFrRDtRQUNsRCxxQ0FBcUM7UUFDckMsSUFBSSxLQUFLLENBQUMsS0FBSyxJQUFJLFFBQVEsRUFBRTtTQUM1QjtJQUNMLENBQUM7SUFDRCwwQ0FBa0IsR0FBbEIsVUFBbUIsUUFBdUI7UUFDdEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sR0FBQyxJQUFJLENBQUM7UUFDbEQsSUFBSSxDQUFDLFdBQVcsR0FBQyxRQUFRLENBQUM7SUFDOUIsQ0FBQztJQUNELHlDQUFpQixHQUFqQjtRQUNJLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBQ0QsMENBQWtCLEdBQWxCO1FBQ0ksSUFBRyxJQUFJLENBQUMsV0FBVyxJQUFFLElBQUk7WUFBRSxPQUFPO1FBQ2xDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxHQUFDLEtBQUssQ0FBQztRQUMzRCxJQUFJLENBQUMsV0FBVyxHQUFDLElBQUksQ0FBQztJQUMxQixDQUFDO0lBQ0QsZ0NBQVEsR0FBUjtRQUFBLGlCQTJCQztRQTFCRyxJQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEtBQUssRUFBQztZQUMzQyxXQUFXO1lBQ1gsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMzQixJQUFJLENBQUMsWUFBWSxDQUFDO2dCQUNkLEtBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNwQixDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDTCxPQUFPO1NBQ1Y7UUFDRCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO1FBQzdDLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDOUIsSUFBRyxRQUFRLEdBQUMsR0FBRyxFQUFDO2dCQUNaLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQzthQUN0QjtpQkFBSTtnQkFDRCxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7YUFDeEI7U0FDSjthQUFNO1lBQ0gsSUFBSSxNQUFNLEdBQUMsdUJBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZDLElBQUcsTUFBTSxHQUFDLENBQUMsSUFBRSxDQUFDLEVBQUM7Z0JBQ1gsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUNuQixPQUFPO2FBQ1Y7WUFDRCxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsMkJBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztTQUNwRjtJQUNMLENBQUM7SUFDRCwrQkFBTyxHQUFQO1FBQ0ksSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFDRCxzQ0FBYyxHQUFkLFVBQWUsTUFBZTtRQUMxQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBQ0QsNEJBQUksR0FBSjtRQUFBLGlCQVVDO1FBVEcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDdkIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsMkJBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEUsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNkLElBQUcsS0FBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLElBQUUsMkJBQVUsQ0FBQyxJQUFJO2dCQUFFLE9BQU87WUFDdEQsS0FBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLENBQUMsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUNELHVDQUFlLEdBQWY7UUFDSSxJQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sSUFBRSxJQUFJO1lBQUUsT0FBTztRQUM3QyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQztRQUMzSCwyREFBMkQ7SUFDL0QsQ0FBQztJQUNELDJCQUFHLEdBQUg7UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUFDRCxvQ0FBWSxHQUFaO1FBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEdBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFDRCw2QkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsMkJBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBQ0Qsa0NBQVUsR0FBVjtRQUFBLGlCQU1DO1FBTEcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsMkJBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsSUFBRyxLQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssSUFBRSwyQkFBVSxDQUFDLFdBQVc7Z0JBQUUsT0FBTztZQUM3RCxLQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDakIsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUNELG1DQUFXLEdBQVg7UUFDSSxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsMkJBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDakYsQ0FBQztJQUNELGFBQWE7SUFDYixvQ0FBWSxHQUFaO1FBQUEsaUJBYUM7UUFaRyxzQkFBWSxDQUFDLFNBQVMsQ0FBQyx3QkFBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQywyQkFBVSxDQUFDLFlBQVksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3hFLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxJQUFHLEtBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxJQUFFLDJCQUFVLENBQUMsWUFBWTtnQkFBRSxPQUFPO1lBQzlELEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUM7UUFDUCxJQUFJO1FBQ0osSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNWLElBQUcsS0FBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLElBQUUsMkJBQVUsQ0FBQyxZQUFZO2dCQUFFLE9BQU87WUFDOUQsS0FBSSxDQUFDLGdCQUFnQixDQUFDLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNoRSxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUNuQixDQUFDO0lBQ0QsaUNBQVMsR0FBVDtRQUNJLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQywyQkFBVSxDQUFDLFlBQVksRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzdFLENBQUM7SUFDRCxNQUFNO0lBQ04sd0NBQWdCLEdBQWhCLFVBQWlCLEdBQUc7UUFDaEIsSUFBSSxJQUFJLEdBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxZQUFZLENBQUMsNEJBQWtCLENBQUMsQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUN6RCxJQUFJLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQztJQUNyQixDQUFDO0lBQ0QsTUFBTTtJQUNOLDZCQUFLLEdBQUwsVUFBTSxVQUFVLEVBQUMsS0FBSztRQUNsQixJQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFFLE9BQU8sRUFBQztZQUN4QixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDckIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQ25CO2FBQUk7WUFDRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBQ0QsUUFBUTtJQUNSLHFDQUFhLEdBQWI7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsMkJBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUUsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNkLHNCQUFZLENBQUMsU0FBUyxDQUFDLHdCQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDakQsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUNELFNBQVM7SUFDVCxvQ0FBWSxHQUFaO1FBQUEsaUJBbUJDO1FBbEJHLHNCQUFZLENBQUMsU0FBUyxDQUFDLHdCQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLEdBQUMsQ0FBQyxDQUFDO1FBQ1IsSUFBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFDLEdBQUcsRUFBQztZQUNqQyxDQUFDLEdBQUMscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBQyx1QkFBVSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUMsR0FBRyxDQUFDLENBQUM7U0FDbkY7YUFBSyxJQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUMsSUFBSSxFQUFDO1lBQ3hDLENBQUMsR0FBQyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFDLHVCQUFVLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBQyxHQUFHLENBQUMsQ0FBQztTQUNuRjthQUFJO1lBQ0QsSUFBSSxNQUFNLEdBQUMsdUJBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZDLENBQUMsR0FBQyxNQUFNLEdBQUMsQ0FBQyxJQUFFLENBQUMsQ0FBQSxDQUFDO2dCQUNkLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUMsdUJBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBQyxHQUFHLEVBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQSxDQUFDO2dCQUNoRixxQkFBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFDLHVCQUFVLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBQyxHQUFHLENBQUMsQ0FBQztTQUNqRjtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsS0FBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3ZCLEtBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUN4QixDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUM7SUFDWCxDQUFDO0lBQ0QsZ0NBQVEsR0FBUjtRQUNJLElBQUksRUFBRSxHQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3ZDLEVBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMvQixFQUFFLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLEdBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEQsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNoRSxFQUFFLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQztJQUNuQixDQUFDO0lBQ0QsMkJBQUcsR0FBSDtRQUFBLGlCQVlDO1FBWEcsSUFBRywyQkFBVSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQztZQUFFLE9BQU87UUFDdEUsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsa0JBQWtCLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLDJCQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM3RCxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsSUFBRyxLQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssSUFBRSwyQkFBVSxDQUFDLE1BQU0sRUFBQztnQkFDNUMsS0FBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUksQ0FBQyxJQUFJLEVBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ3RGO1FBQ0wsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUNELDZCQUFLLEdBQUwsVUFBTSxNQUFjLEVBQUUsT0FBbUI7UUFDckMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekIsNkRBQTZEO1FBQzdELCtCQUErQjtRQUMvQixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDakIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUM7UUFDN0csSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDO1FBQzlDLGdCQUFNLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN0QixJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFO1lBQ2QsZ0JBQU0sQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEY7SUFDTCxDQUFDO0lBQ0Qsc0NBQWMsR0FBZDtRQUNJLElBQUksQ0FBQyxZQUFZLEdBQUMsSUFBSSxDQUFDO0lBQzNCLENBQUM7SUFDRCx1Q0FBZSxHQUFmO1FBQ0ksSUFBSSxDQUFDLFlBQVksR0FBQyxLQUFLLENBQUM7SUFDNUIsQ0FBQztJQUNELHFDQUFhLEdBQWI7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBQyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEdBQUMsS0FBSyxDQUFDO1FBQy9CLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sR0FBQyxLQUFLLENBQUM7UUFDckQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDRCxvQ0FBWSxHQUFaO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUMsR0FBRyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxHQUFDLElBQUksQ0FBQztRQUM5QixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLEdBQUMsSUFBSSxDQUFDO0lBQ3hELENBQUM7SUFDRCx3Q0FBZ0IsR0FBaEIsVUFBaUIsQ0FBUSxFQUFDLENBQVU7UUFBVixrQkFBQSxFQUFBLEtBQVU7UUFDaEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEdBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUNELHlDQUFpQixHQUFqQixVQUFrQixPQUFtQjtRQUFyQyxpQkErQ0M7UUE5Q0csSUFBRyxJQUFJLENBQUMsWUFBWTtZQUFFLE9BQU87UUFDN0IsSUFBRyxJQUFJLENBQUMsTUFBTSxJQUFFLEtBQUssRUFBQztZQUNsQixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDckIsSUFBSSxDQUFDLFlBQVksQ0FBQztnQkFDZCxLQUFJLENBQUMsTUFBTSxHQUFDLEtBQUssQ0FBQztZQUN0QixDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDTCxPQUFPO1NBQ1Y7UUFDRCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxXQUFXLEdBQUcsT0FBTyxJQUFJLDJCQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUMvRCxRQUFRLE9BQU8sRUFBRTtZQUNiLEtBQUssMkJBQVUsQ0FBQyxPQUFPO2dCQUNuQixLQUFLLEdBQUcsMkJBQVUsQ0FBQyxTQUFTLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDaEgsTUFBTTtZQUNWLEtBQUssMkJBQVUsQ0FBQyxPQUFPO2dCQUNuQixLQUFLLEdBQUcsMkJBQVUsQ0FBQyxTQUFTLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDaEgsTUFBTTtZQUNWLEtBQUssMkJBQVUsQ0FBQyxPQUFPO2dCQUNuQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksQ0FBQyxZQUFZLENBQUM7b0JBQ2QsS0FBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ1IsS0FBSyxHQUFHLDJCQUFVLENBQUMsV0FBVyxDQUFDO2dCQUMvQixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUkscUJBQVcsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO29CQUMvRyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQztpQkFDakY7cUJBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLHFCQUFXLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtvQkFDdEgsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO2lCQUNoRjtnQkFDRCxNQUFNO1lBQ1YsS0FBSywyQkFBVSxDQUFDLE9BQU87Z0JBQ25CLEtBQUssR0FBRywyQkFBVSxDQUFDLFNBQVMsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNoSCxNQUFNO1lBQ1YsS0FBSywyQkFBVSxDQUFDLFFBQVE7Z0JBQ3BCLEtBQUssR0FBRywyQkFBVSxDQUFDLFNBQVMsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksRUFDdEcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztnQkFDakMsTUFBTTtZQUNWLEtBQUssMkJBQVUsQ0FBQyxTQUFTO2dCQUNyQixLQUFLLEdBQUcsMkJBQVUsQ0FBQyxTQUFTLENBQUM7Z0JBQzdCLE1BQU07WUFDVixRQUFRO1NBQ1g7UUFDRCxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBQ0Qsd0NBQWdCLEdBQWhCLFVBQWlCLE9BQWU7UUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLEdBQUcsT0FBTyxDQUFDO0lBQzFDLENBQUM7SUFDRCxtQ0FBVyxHQUFYLFVBQVksUUFBb0I7UUFBcEIseUJBQUEsRUFBQSxZQUFvQjtRQUM1QixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDckMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBQ0Qsa0NBQVUsR0FBVixVQUFXLEtBQWM7UUFDckIsSUFBSSxJQUFJLENBQUMsWUFBWTtZQUFFLE9BQU87UUFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUNELHdDQUFnQixHQUFoQixVQUFpQixPQUFtQjtRQUFwQyxpQkFTQztRQVJHLElBQUksT0FBTyxJQUFJLDJCQUFVLENBQUMsU0FBUyxFQUFFO1lBQ2pDLElBQUksSUFBSSxDQUFDLGFBQWE7Z0JBQUUsT0FBTyxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7WUFDMUIsSUFBSSxDQUFDLFlBQVksQ0FBQztnQkFDZCxLQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztZQUMvQixDQUFDLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQzNCO1FBQ0QsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBQ0QsZ0NBQVEsR0FBUixVQUFTLE1BQWM7UUFDbkIsSUFBSSxDQUFDLEVBQUUsSUFBSSxNQUFNLENBQUM7UUFDbEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQzNDLElBQUksSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUU7WUFDZCxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNaLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztTQUNkO0lBQ0wsQ0FBQztJQUNELDhCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFDRCw4QkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQy9CLENBQUM7SUFDRCxpQ0FBUyxHQUFUO1FBQ0ksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDckMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBQ0Qsc0NBQWMsR0FBZDtRQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekQsQ0FBQztJQUNELG9DQUFZLEdBQVo7UUFDSSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQTdYRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3FEQUNNO0lBRTFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7cURBQ007SUFFMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzttREFDSTtJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQzs2REFDcEI7SUFFL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLENBQUM7NkRBQ3BCO0lBRS9CO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ0s7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQztnREFDSTtJQUU3QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3dEQUNPO0lBakJWLGFBQWE7UUFEakMsT0FBTztPQUNhLGFBQWEsQ0FpWWpDO0lBQUQsb0JBQUM7Q0FqWUQsQUFpWUMsQ0FqWTBDLG1CQUFTLEdBaVluRDtrQkFqWW9CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdWRpb05hbWUgfSBmcm9tIFwiLi4vYXVkaW9OYW1lTWdyXCI7XG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCBhdWRpb01hbmFnZXIgZnJvbSBcIi4uL21haW4vYXVkaW9NYW5hZ2VyXCI7XG5pbXBvcnQgeyBhdHRhY2tUeXBlLCBlbmVteVN0YXRlIH0gZnJvbSBcIi4vYW5pbWF0aW9uU3RhdGVcIjtcbmltcG9ydCBlbmVteUFuaW1hdGlvbiBmcm9tIFwiLi9lbmVteUFuaW1hdGlvblwiO1xuaW1wb3J0IGVuZW15QmFzZSBmcm9tIFwiLi9lbmVteUJhc2VcIjtcbmltcG9ydCBlbmVteUhpdENvbGxpZGVyIGZyb20gXCIuL2VuZW15SGl0Q29sbGlkZXJcIjtcbmltcG9ydCBFdmVudHMgZnJvbSBcIi4vRXZlbnRzXCI7XG5pbXBvcnQgZmlyZVBpbGxhckNvbGxpZGVyIGZyb20gXCIuL2ZpcmVQaWxsYXJDb2xsaWRlclwiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5lbnVtIGRhbWFnZUNvbGxpZGVye1xuICAgIGF0dGFja1xufVxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEUyMGNvbnRyb2xsZXIgZXh0ZW5kcyBlbmVteUJhc2Uge1xuXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcbiAgICBmaXJlUGlsbGFyOmNjLlByZWZhYj1udWxsO1xuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXG4gICAgdHBGeF9zdGFydDpjYy5QcmVmYWI9bnVsbDtcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHRwRnhfZW5kOmNjLlByZWZhYj1udWxsO1xuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkZsb2F0LCB0b29sdGlwOiBcIuS8pOWus+aViOaenHjovbTlgY/np7vlgLxcIiB9KVxuICAgIGRhbWFnZUxhYmVsT2Zmc2V0WDogbnVtYmVyID0gMDtcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5GbG9hdCwgdG9vbHRpcDogXCLkvKTlrrPmlYjmnpx56L205YGP56e75YC8XCIgfSlcbiAgICBkYW1hZ2VMYWJlbE9mZnNldFk6IG51bWJlciA9IDA7XG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgaHBOb2RlOiBjYy5Ob2RlID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuUHJvZ3Jlc3NCYXIpXG4gICAgaHBCYXI6IGNjLlByb2dyZXNzQmFyID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuU3RyaW5nKVxuICAgIGRpZUVmZmVjdE5hbWU6IHN0cmluZyA9IFwiXCI7XG5cbiAgICBtb3ZlU3BlZWQ6IG51bWJlciA9IDgwOy8v56e75Yqo6YCf5bqmXG4gICAgbm93U3BlZWQ6IG51bWJlciA9IDA7Ly/lvZPliY3pgJ/luqZcbiAgICBBSV9pbnRlcnZhbDogbnVtYmVyID0gMC44Oy8vYWnpl7TpmpRcbiAgICBzdG9wRGlzdGFuY2U6bnVtYmVyPTQwMDsvL+WBnOatoui3neemu1xuICAgIGhwOiBudW1iZXIgPSAwO1xuICAgIGhwVGltZXM6bnVtYmVyPTE7Ly/ooYDph4/lgI3mlbBcbiAgICBiZUhpdEZvcmNlX3k6IG51bWJlciA9IDM1MDAwOy8v5omL6YeM5YmR5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94OiBudW1iZXIgPSAyNTAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV95X3NodXJpa2VuOiBudW1iZXIgPSA1MDAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94X2F0dGFjazM6IG51bWJlciA9IDQwMDAwMDsvL+iiq+WHu+mjnuS9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeV9hdHRhY2szOiBudW1iZXIgPSAwOy8v6KKr5Ye76aOe5L2c55So5YqbXG4gICAgc2NhbGVYX3NrZWxldG9uOiBudW1iZXIgPSAwO1xuICAgIGlzRGllOiBib29sZWFuID0gZmFsc2U7XG4gICAgc2tlbGV0b246IHNwLlNrZWxldG9uID0gbnVsbDtcbiAgICBlbmVteUFuaW1hdGlvbjogZW5lbXlBbmltYXRpb24gPSBudWxsO1xuICAgIHJpZ2lib2R5OiBjYy5SaWdpZEJvZHkgPSBudWxsO1xuICAgIGJveENvbGxpZGVyOiBjYy5QaHlzaWNzQm94Q29sbGlkZXIgPSBudWxsO1xuICAgIGlzU3dvcmRSYWluQ2Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc01vdmU6IGJvb2xlYW4gPSBmYWxzZTsvL+aYr+WQpuWkhOS6juenu+WKqOeKtuaAgVxuICAgIGRtZ0NvbGxpZGVyOmRhbWFnZUNvbGxpZGVyPW51bGw7XG4gICAgaXNUUENEOmJvb2xlYW49ZmFsc2U7Ly/ooqvmlLvlh7voh6rliqh0cOWGt+WNtFxuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uID0gdGhpcy5ub2RlLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbik7XG4gICAgICAgIHRoaXMuc2NhbGVYX3NrZWxldG9uID0gTWF0aC5hYnModGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCk7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24gPSB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGVuZW15QW5pbWF0aW9uKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5lbmVteUNvbnRyb2xsZXIgPSB0aGlzO1xuICAgICAgICB0aGlzLnJpZ2lib2R5ID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5SaWdpZEJvZHkpO1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5QaHlzaWNzQm94Q29sbGlkZXIpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuc2tlbGV0b24uc2tlbGV0b25EYXRhLl9za2VsZXRvbkNhY2hlLmFuaW1hdGlvbnMpO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmluaXREYXRhKCk7XG4gICAgICAgIHRoaXMuaHAgPSB0aGlzLmhwTWF4KnRoaXMuaHBUaW1lcztcbiAgICAgICAgdGhpcy5BSV9pbnRlcnZhbCs9TWF0aC5yYW5kb20oKTtcbiAgICAgICAgdGhpcy5pZGxlKCk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZlID09IGZhbHNlKSByZXR1cm47XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHRoaXMuZ2V0RGlzdGFuY2VYKCk7XG4gICAgICAgIGlmIChNYXRoLmFicyhkaXN0YW5jZSkgPCB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5za2lsbF9zdGFydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZT09ZW5lbXlTdGF0ZS5hdHRhY2spIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvUGxheWVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25CZWdpbkNvbnRhY3QoY29udGFjdDogY2MuUGh5c2ljc0NvbnRhY3QsIHNlbGZDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyLCBvdGhlckNvbGxpZGVyOiBjYy5QaHlzaWNzQ29sbGlkZXIpIHtcbiAgICAgICAgbGV0IG90aGVyID0gb3RoZXJDb2xsaWRlci5ub2RlO1xuICAgICAgICAvLyBsZXQgd29ybGRNYW5pZm9sZCA9IGNvbnRhY3QuZ2V0V29ybGRNYW5pZm9sZCgpO1xuICAgICAgICAvLyBsZXQgbm9ybWFsID0gd29ybGRNYW5pZm9sZC5ub3JtYWw7XG4gICAgICAgIGlmIChvdGhlci5ncm91cCA9PSBcImdyb3VuZFwiKSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd0RhbWFnZUNvbGxpZGVyKGNvbGxpZGVyOmRhbWFnZUNvbGxpZGVyKXtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW2NvbGxpZGVyXS5hY3RpdmU9dHJ1ZTtcbiAgICAgICAgdGhpcy5kbWdDb2xsaWRlcj1jb2xsaWRlcjtcbiAgICB9XG4gICAgZ2V0RGFtYWdlQ29sbGlkZXIoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2tlbGV0b24ubm9kZS5jaGlsZHJlblt0aGlzLmRtZ0NvbGxpZGVyXTtcbiAgICB9XG4gICAgaGlkZURhbWFnZUNvbGxpZGVyKCl7XG4gICAgICAgIGlmKHRoaXMuZG1nQ29sbGlkZXI9PW51bGwpIHJldHVybjtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdLmFjdGl2ZT1mYWxzZTtcbiAgICAgICAgdGhpcy5kbWdDb2xsaWRlcj1udWxsO1xuICAgIH1cbiAgICBBSV9zdGFydCgpIHtcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5pc0RpZSl7XG4gICAgICAgICAgICAvL+eOqeWutuW3suatuyDlgZzmraLnp7vliqhcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLkFJX3N0YXJ0KCk7XG4gICAgICAgICAgICB9LDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguYWJzKHRoaXMuZ2V0RGlzdGFuY2VYKCkpO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgaWYoZGlzdGFuY2U+MTUwKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNraWxsX3N0YXJ0KCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0U3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCByYW5kb209Y2FpamlUb29scy5yYW5kb21faW50KDEsMTApO1xuICAgICAgICAgICAgaWYocmFuZG9tJTI9PTApe1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpbGxfc3RhcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLm1vdmUsIDEsIHRydWUsdHJ1ZSx0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLm5vd1NwZWVkID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtdGhpcy5tb3ZlU3BlZWQgOiB0aGlzLm1vdmVTcGVlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBBSV9zdG9wKCkge1xuICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICB9XG4gICAgY2hhbmdlTW92U3RhdGUoaXNNb3ZlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNNb3ZlID0gaXNNb3ZlO1xuICAgIH1cbiAgICBpZGxlKCkge1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDApO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCwwKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmlkbGUsIDEsIHRydWUsdHJ1ZSx0cnVlKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSE9ZW5lbXlTdGF0ZS5pZGxlKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLkFJX3N0YXJ0KCk7XG4gICAgICAgIH0sIHRoaXMuQUlfaW50ZXJ2YWwpO1xuICAgIH1cbiAgICBjaGFuZ2VEaXJlY3Rpb24oKSB7XG4gICAgICAgIGlmKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllcj09bnVsbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggLSB0aGlzLm5vZGUueCA+IDAgPyAtdGhpcy5zY2FsZVhfc2tlbGV0b24gOiB0aGlzLnNjYWxlWF9za2VsZXRvbjtcbiAgICAgICAgLy90aGlzLmhwTm9kZS54ID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtMjggOiAyODtcbiAgICB9XG4gICAgZGllKCkge1xuICAgICAgICB0aGlzLmlzRGllID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhpZGVIcCgpO1xuICAgICAgICB0aGlzLmRpZUNvdW50KCk7XG4gICAgfVxuICAgIG1vdmVUb1BsYXllcigpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52Mih0aGlzLm5vd1NwZWVkLDApO1xuICAgIH1cbiAgICBnZXRVcCgpIHtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmdldF91cCwgMSwgZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgICBrbm9ja0Rvd24yKCl7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5rbm9ja19kb3duMiwgMSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSE9ZW5lbXlTdGF0ZS5rbm9ja19kb3duMikgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5nZXRVcCgpO1xuICAgICAgICB9LDAuNSk7XG4gICAgfVxuICAgIHNraWxsX3N0YXJ0KCl7XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCwwKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmZpcmVfcGlsbGFyLCAxLCBmYWxzZSwgdHJ1ZSx0cnVlKTtcbiAgICB9XG4gICAgLy/mjIHnu63mlr3ms5XkuK0gIOaXoOazleaJk+aWrVxuICAgIHNraWxsX21pZGRsZSgpe1xuICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5FMjBDYXN0KTtcbiAgICAgICAgdGhpcy5vcGVuU3VwZXJBcm1vcigpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuZmlyZV9waWxsYXIyLCAxLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGUhPWVuZW15U3RhdGUuZmlyZV9waWxsYXIyKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnNraWxsX2VuZCgpO1xuICAgICAgICB9LDIuNSk7XG4gICAgICAgIC8v5pa95rOVXG4gICAgICAgIHRoaXMuc2NoZWR1bGUoKCk9PntcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGUhPWVuZW15U3RhdGUuZmlyZV9waWxsYXIyKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZpcmVQaWxsYXIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnBvc2l0aW9uKTtcbiAgICAgICAgfSwwLjgsMiwwLjAwMSk7XG4gICAgfVxuICAgIHNraWxsX2VuZCgpe1xuICAgICAgICB0aGlzLmNsb3NlU3VwZXJBcm1vcigpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuZmlyZV9waWxsYXIzLCAxLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuICAgIC8v5Yib5bu654Gr5p+xXG4gICAgY3JlYXRlRmlyZVBpbGxhcihwb3Mpe1xuICAgICAgICBsZXQgZmlyZT1jYy5pbnN0YW50aWF0ZSh0aGlzLmZpcmVQaWxsYXIpO1xuICAgICAgICBmaXJlLnNldFBhcmVudCh0aGlzLm5vZGUucGFyZW50KTtcbiAgICAgICAgZmlyZS5zZXRTaWJsaW5nSW5kZXgodGhpcy5ub2RlLmdldFNpYmxpbmdJbmRleCgpKTtcbiAgICAgICAgZmlyZS5zZXRQb3NpdGlvbihwb3MueCwtMTk0KTtcbiAgICAgICAgZmlyZS5nZXRDb21wb25lbnQoZmlyZVBpbGxhckNvbGxpZGVyKS5kYW1hZ2U9dGhpcy5kYW1hZ2U7XG4gICAgICAgIGZpcmUuYWN0aXZlPXRydWU7XG4gICAgfVxuICAgIC8v5Lyg6YCB6ZqQ6LqrXG4gICAgYmxpbmsodHJhY2tFbnRyeSxldmVudCl7XG4gICAgICAgIGlmKGV2ZW50LmRhdGEubmFtZT09XCJCbGlua1wiKXtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VDb2xsaWRlcigpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVGWCgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0RW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy/kvKDpgIHliqjkvZzlvIDlp4tcbiAgICB0ZWxlcG9ydFN0YXJ0KCl7XG4gICAgICAgIHRoaXMuaXNUUENEPXRydWU7XG4gICAgICAgIHRoaXMub3BlblN1cGVyQXJtb3IoKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLnRlbGVwb3J0LCAxLCBmYWxzZSwgdHJ1ZSx0cnVlKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkJsaW5rU3RhcnQpO1xuICAgICAgICB9LDAuMik7XG4gICAgfVxuICAgIC8v5Lyg6YCB6Iez5oyH5a6a5Zyw54K5XG4gICAgdHJhbnNwb3J0RW5kKCl7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkJsaW5rRW5kKTtcbiAgICAgICAgbGV0IHg9MDtcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLng8NzAwKXtcbiAgICAgICAgICAgIHg9R2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLngrY2FpamlUb29scy5yYW5kb21faW50KDMwMCxjYy53aW5TaXplLndpZHRoLzEuNik7XG4gICAgICAgIH1lbHNlIGlmKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54PjE3MDApe1xuICAgICAgICAgICAgeD1HYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueC1jYWlqaVRvb2xzLnJhbmRvbV9pbnQoMzAwLGNjLndpblNpemUud2lkdGgvMS42KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBsZXQgcmFuZG9tPWNhaWppVG9vbHMucmFuZG9tX2ludCgxLDEwKTtcbiAgICAgICAgICAgIHg9cmFuZG9tJTI9PTA/XG4gICAgICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCtjYWlqaVRvb2xzLnJhbmRvbV9pbnQoLWNjLndpblNpemUud2lkdGgvMS42LC0zMDApOlxuICAgICAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLngrY2FpamlUb29scy5yYW5kb21faW50KDMwMCxjYy53aW5TaXplLndpZHRoLzEuNik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2RlLng9eDtcbiAgICAgICAgdGhpcy5jcmVhdGVGWCgpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgdGhpcy5jbG9zZVN1cGVyQXJtb3IoKTtcbiAgICAgICAgICAgIHRoaXMub3BlbkNvbGxpZGVyKCk7XG4gICAgICAgIH0sMC4yKTtcbiAgICB9XG4gICAgY3JlYXRlRlgoKXtcbiAgICAgICAgbGV0IGZ4PWNjLmluc3RhbnRpYXRlKHRoaXMudHBGeF9zdGFydCk7XG4gICAgICAgIGZ4LnNldFBhcmVudCh0aGlzLm5vZGUucGFyZW50KTtcbiAgICAgICAgZnguc2V0U2libGluZ0luZGV4KHRoaXMubm9kZS5nZXRTaWJsaW5nSW5kZXgoKSsxKTtcbiAgICAgICAgZnguc2V0UG9zaXRpb24odGhpcy5ub2RlLngsdGhpcy5ub2RlLnkrdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFkpO1xuICAgICAgICBmeC5hY3RpdmU9dHJ1ZTtcbiAgICB9XG4gICAgaGl0KCkge1xuICAgICAgICBpZihlbmVteVN0YXRlW3RoaXMuZW5lbXlBbmltYXRpb24uc3RhdGVdLmluY2x1ZGVzKFwiZ2V0X2h1cnRcIikpIHJldHVybjtcbiAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwLDApO1xuICAgICAgICB0aGlzLnNob3dEYW1hZ2VDb2xsaWRlcihkYW1hZ2VDb2xsaWRlci5hdHRhY2spO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuYXR0YWNrLCAxLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICBpZih0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlPT1lbmVteVN0YXRlLmF0dGFjayl7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXREYW1hZ2VDb2xsaWRlcigpLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5oaXQodGhpcy5ub2RlLHRoaXMuZGFtYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwwLjUpO1xuICAgIH1cbiAgICBiZUhpdChkYW1hZ2U6IG51bWJlciwgZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDApO1xuICAgICAgICAvLyBsZXQgaXNDb250aW51ZSA9IHRoaXMuY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlKTsvL+iuvue9ruWJkembqOaUu+WHu+mXtOmalFxuICAgICAgICAvLyBpZiAoaXNDb250aW51ZSA9PSAwKSByZXR1cm47XG4gICAgICAgIHRoaXMuaGlnaExpZ2h0KCk7XG4gICAgICAgIHRoaXMuc2hvd0hwKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGVfYmVIaXQoZG1nVHlwZSk7XG4gICAgICAgIGxldCB4ID0gdGhpcy5ub2RlLnNjYWxlWCA8IDAgPyB0aGlzLm5vZGUueCArIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRYIDogdGhpcy5ub2RlLnggLSB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLm5vZGUueSArIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRZO1xuICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc2hvd0RhbWFnZUxhYmVsX2VuZW15KHRoaXMubm9kZSwgZGFtYWdlLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIHRoaXMudXBkYXRlSHAoZGFtYWdlKTtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgRXZlbnRzLmluc3RhbmNlLmNyZWF0ZUVuZW15RGllRWZmZWN0KHRoaXMubm9kZSwgdGhpcy5kaWVFZmZlY3ROYW1lLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb3BlblN1cGVyQXJtb3IoKXtcbiAgICAgICAgdGhpcy5pc1N1cGVyQXJtb3I9dHJ1ZTtcbiAgICB9XG4gICAgY2xvc2VTdXBlckFybW9yKCl7XG4gICAgICAgIHRoaXMuaXNTdXBlckFybW9yPWZhbHNlO1xuICAgIH1cbiAgICBjbG9zZUNvbGxpZGVyKCl7XG4gICAgICAgIHRoaXMubm9kZS5vcGFjaXR5PTA7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIuZW5hYmxlZD1mYWxzZTtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5hcHBseSgpO1xuICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkJveENvbGxpZGVyKS5lbmFibGVkPWZhbHNlO1xuICAgICAgICB0aGlzLmhpZGVIcCgpO1xuICAgIH1cbiAgICBvcGVuQ29sbGlkZXIoKXtcbiAgICAgICAgdGhpcy5ub2RlLm9wYWNpdHk9MjU1O1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmVuYWJsZWQ9dHJ1ZTtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5hcHBseSgpO1xuICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkJveENvbGxpZGVyKS5lbmFibGVkPXRydWU7XG4gICAgfVxuICAgIHNldFJpZ2lib2R5U3BlZWQoeDpudW1iZXIseTpudW1iZXI9MCl7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHk9Y2MudjIoeCx5KTtcbiAgICB9XG4gICAgY2hhbmdlU3RhdGVfYmVIaXQoZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICBpZih0aGlzLmlzU3VwZXJBcm1vcikgcmV0dXJuO1xuICAgICAgICBpZih0aGlzLmlzVFBDRD09ZmFsc2Upe1xuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydFN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMuaXNUUENEPWZhbHNlO1xuICAgICAgICAgICAgfSw1KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhdGUgPSBudWxsO1xuICAgICAgICBsZXQgaXNLbm9ja0Rvd24gPSBkbWdUeXBlID09IGF0dGFja1R5cGUuYXR0YWNrMyA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChkbWdUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMTpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQyO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsIDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2syOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazM6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDUpO1xuICAgICAgICAgICAgICAgIH0sIDAuNCk7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmtub2NrX2Rvd24xO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGUueCA8IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ICYmIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tlbGV0b24ubm9kZS5zY2FsZVggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MigtdGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ub2RlLnggPiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAmJiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIodGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5qdW1wSGl0OlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLnNodXJpa2VuOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iZUhpdEZvcmNlX3lfc2h1cmlrZW4pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5zd29yZFJhaW46XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShzdGF0ZSwgMSwgZmFsc2UsIGlzS25vY2tEb3duKTtcbiAgICB9XG4gICAgc2V0TGluZWFyRGFtcGluZyhkYW1waW5nOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJEYW1waW5nID0gZGFtcGluZztcbiAgICB9XG4gICAgc2V0RnJpY3Rpb24oZnJpY3Rpb246IG51bWJlciA9IDApIHtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5mcmljdGlvbiA9IGZyaWN0aW9uO1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmFwcGx5KCk7XG4gICAgfVxuICAgIGFwcGx5Rm9yY2UoZm9yY2U6IGNjLlZlYzIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBlckFybW9yKSByZXR1cm47XG4gICAgICAgIHRoaXMucmlnaWJvZHkuYXBwbHlGb3JjZVRvQ2VudGVyKGZvcmNlLCB0cnVlKTtcbiAgICB9XG4gICAgY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIGlmIChkbWdUeXBlID09IGF0dGFja1R5cGUuc3dvcmRSYWluKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1N3b3JkUmFpbkNkKSByZXR1cm4gMDtcbiAgICAgICAgICAgIHRoaXMuaXNTd29yZFJhaW5DZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1N3b3JkUmFpbkNkID0gZmFsc2U7XG4gICAgICAgICAgICB9LCB0aGlzLnN3b3JkUmFpbkhpdENkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgdXBkYXRlSHAoZGFtYWdlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ocCAtPSBkYW1hZ2U7XG4gICAgICAgIHRoaXMuaHBCYXIucHJvZ3Jlc3MgPSB0aGlzLmhwIC8gdGhpcy5ocE1heDtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5ocCA9IDA7XG4gICAgICAgICAgICB0aGlzLmRpZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNob3dIcCgpIHtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuaGlkZUhwKTtcbiAgICAgICAgdGhpcy5ocE5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5oaWRlSHAsMik7XG4gICAgfVxuICAgIGhpZGVIcCgpIHtcbiAgICAgICAgdGhpcy5ocE5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICAgIGhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuY2xvc2VIaWdoTGlnaHQpO1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMSk7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJoaWdoTGlnaHRDb2xvclwiLCBbMS4wLDEuMCwxLjAsMC41XSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuY2xvc2VIaWdoTGlnaHQsIDAuMTUpO1xuICAgIH1cbiAgICBjbG9zZUhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImJlSGl0XCIsIDApO1xuICAgIH1cbiAgICBnZXREaXN0YW5jZVgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUueCAtIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54O1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/E29controller.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '43030AonwZGtaSXN6Tz+pUA', 'E29controller');
// scripts/game/E29controller.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["attack"] = 0] = "attack";
    damageCollider[damageCollider["bomb"] = 1] = "bomb";
})(damageCollider || (damageCollider = {}));
var E29controller = /** @class */ (function (_super) {
    __extends(E29controller, _super);
    function E29controller() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.atlas = null;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.hpNode = null;
        _this.hpBar = null;
        _this.dieEffectName = "";
        _this.moveSpeed = 110; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 0.6; //ai间隔
        _this.stopDistance = 100; //停止距离
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 25000; //手里剑攻击作用力
        _this.beHitForce_x = 20000; //普通攻击作用力
        _this.beHitForce_y_shuriken = 50000; //普通攻击作用力
        _this.beHitForce_x_attack3 = 330000; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isMove = false; //是否处于移动状态
        _this.dmgCollider = null;
        _this.alpha = {
            number: 0
        };
        return _this;
    }
    E29controller.prototype.onLoad = function () {
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    E29controller.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
    };
    E29controller.prototype.init = function () {
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        this.AI_interval += Math.random();
        this.AI_start();
    };
    E29controller.prototype.update = function () {
        if (this.enemyAnimation.state == animationState_1.enemyState["Head-middle"]) {
            this.setColor([1.0, 0.0, 0.0, this.alpha.number]);
        }
        if (this.isMove == false)
            return;
        var distance = this.getDistanceX();
        if (Math.abs(distance) < this.stopDistance) {
            this.hit();
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.Atk)
                return;
            this.moveToPlayer();
        }
    };
    E29controller.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "ground") {
        }
    };
    E29controller.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    E29controller.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    E29controller.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null || this.dmgCollider == damageCollider.bomb)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    E29controller.prototype.AI_start = function () {
        var _this = this;
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动d
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            return;
        }
        var distance = Math.abs(this.getDistanceX());
        if (distance < this.stopDistance) {
            this.hit();
        }
        else {
            this.changeDirection();
            this.enemyAnimation.changeState(animationState_1.enemyState.Move, 1.1, true);
            this.changeMovState(true);
            this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.moveSpeed : this.moveSpeed;
        }
    };
    E29controller.prototype.AI_stop = function () {
        this.idle();
    };
    E29controller.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    E29controller.prototype.idle = function () {
        var _this = this;
        if (this.isDie)
            return;
        this.changeMovState(false);
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.Idle, 1, true, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.Idle)
                return;
            _this.AI_start();
        }, this.AI_interval);
    };
    E29controller.prototype.changeDirection = function () {
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x - this.node.x > 0 ? -this.scaleX_skeleton : this.scaleX_skeleton;
        this.hpNode.x = this.skeleton.node.scaleX > 0 ? 8 : -8;
    };
    E29controller.prototype.die = function () {
        var _this = this;
        this.unscheduleAllCallbacks();
        this.isDie = true;
        this.hideHp();
        this.closeHighLight();
        this.setRigibodySpeed(0, 0);
        this.node.getComponent(cc.BoxCollider).enabled = false;
        this.enemyAnimation.changeState(animationState_1.enemyState.Die, 1, false, true);
        this.scheduleOnce(function () {
            _this.rigibody.type = cc.RigidBodyType.Static;
        }, 0);
        this.dieCount();
        this.scheduleOnce(function () {
            audioManager_1.default.playAudio(audioNameMgr_1.audioName.E29Explosion);
        }, 0.1);
    };
    //头缩放
    E29controller.prototype.head_middle = function () {
        this.startRedColor();
        this.showDamageCollider(damageCollider.bomb);
        this.enemyAnimation.changeState(animationState_1.enemyState["Head-middle"], 1.2, true, true);
        this.scheduleOnce(this.head_end, 2.3);
        cc.tween(this.alpha)
            .repeat(2, cc.tween()
            .to(0.65, { number: 0.7 }, { easing: "sineOut" })
            .to(0.65, { number: 0 }, { easing: "sineIn" }))
            .start();
    };
    //头爆炸
    E29controller.prototype.head_end = function () {
        var _this = this;
        this.closeHighLight();
        this.enemyAnimation.changeState(animationState_1.enemyState["Head-end"], 1.3, false, true);
        this.scheduleOnce(function () {
            if (!_this.getDamageCollider())
                return;
            _this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
        }, 0.45);
    };
    E29controller.prototype.Destroy = function () {
        this.node.destroy();
    };
    E29controller.prototype.getUp = function () {
        var _this = this;
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state == animationState_1.enemyState["Knock-up-end"]) {
                _this.enemyAnimation.changeState(animationState_1.enemyState["Get-up"], 1, false, true);
            }
        }, 0.3);
    };
    E29controller.prototype.moveToPlayer = function () {
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    E29controller.prototype.hit = function () {
        var _this = this;
        if (animationState_1.enemyState[this.enemyAnimation.state].includes("Hit"))
            return;
        this.changeDirection();
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        this.showDamageCollider(damageCollider.attack);
        this.enemyAnimation.changeState(animationState_1.enemyState.Atk, 1, false);
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E29Attack);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state == animationState_1.enemyState.Atk) {
                _this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
                _this.scheduleOnce(function () {
                    if (_this.enemyAnimation.state == animationState_1.enemyState.Atk) {
                        _this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
                    }
                }, 0.8);
            }
        }, 1.1);
    };
    E29controller.prototype.beHit = function (damage, dmgType) {
        if (this.isDie)
            return;
        this.changeMovState(false);
        this.setRigibodySpeed(0);
        // let isContinue = this.checkIsSwordRain(dmgType);//设置剑雨攻击间隔
        // if (isContinue == 0) return;
        this.highLight();
        this.showHp();
        this.changeState_beHit(dmgType);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        this.updateHp(damage);
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
    };
    E29controller.prototype.knockDownLoop = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState["Knock-up-loop"], 1, false, true);
    };
    E29controller.prototype.knockDownEnd = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState["Knock-up-end"], 1, false, true);
    };
    E29controller.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    E29controller.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.Hit;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.Hit;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.2);
                state = animationState_1.enemyState["Knock-up-start"];
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.Hit;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.Hit;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.Hit;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    E29controller.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    E29controller.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    E29controller.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    E29controller.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    E29controller.prototype.updateHp = function (damage) {
        this.hp -= damage;
        this.hpBar.progress = this.hp / this.hpMax;
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    E29controller.prototype.showHp = function () {
        this.unschedule(this.hideHp);
        this.hpNode.active = true;
        this.scheduleOnce(this.hideHp, 2);
    };
    E29controller.prototype.hideHp = function () {
        this.hpNode.active = false;
    };
    //头部变大闪红
    E29controller.prototype.startRedColor = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 0.0, 0.0, 0.0]);
    };
    E29controller.prototype.setColor = function (color) {
        this.skeleton.getMaterial(0).setProperty("highLightColor", color);
    };
    E29controller.prototype.highLight = function () {
        this.unschedule(this.closeHighLight);
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        this.scheduleOnce(this.closeHighLight, 0.15);
    };
    E29controller.prototype.closeHighLight = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    E29controller.prototype.getDistanceX = function () {
        return this.node.x - GameManager_1.default.instance.player.x;
    };
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], E29controller.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], E29controller.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.Node)
    ], E29controller.prototype, "hpNode", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], E29controller.prototype, "hpBar", void 0);
    __decorate([
        property(cc.String)
    ], E29controller.prototype, "dieEffectName", void 0);
    E29controller = __decorate([
        ccclass
    ], E29controller);
    return E29controller;
}(enemyBase_1.default));
exports.default = E29controller;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRTI5Y29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnREFBNEM7QUFFNUMscURBQWdEO0FBQ2hELG1EQUEwRDtBQUMxRCxtREFBOEM7QUFDOUMseUNBQW9DO0FBQ3BDLHVEQUFrRDtBQUNsRCxtQ0FBOEI7QUFDOUIsNkNBQXdDO0FBRWxDLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBQzVDLElBQUssY0FHSjtBQUhELFdBQUssY0FBYztJQUNmLHVEQUFNLENBQUE7SUFDTixtREFBSSxDQUFBO0FBQ1IsQ0FBQyxFQUhJLGNBQWMsS0FBZCxjQUFjLFFBR2xCO0FBRUQ7SUFBMkMsaUNBQVM7SUFBcEQ7UUFBQSxxRUFvVUM7UUFsVUcsV0FBSyxHQUFnQixJQUFJLENBQUM7UUFFMUIsd0JBQWtCLEdBQVcsQ0FBQyxDQUFDO1FBRS9CLHdCQUFrQixHQUFXLENBQUMsQ0FBQztRQUUvQixZQUFNLEdBQVksSUFBSSxDQUFDO1FBRXZCLFdBQUssR0FBbUIsSUFBSSxDQUFDO1FBRTdCLG1CQUFhLEdBQVcsRUFBRSxDQUFDO1FBRTNCLGVBQVMsR0FBVyxHQUFHLENBQUMsQ0FBQSxNQUFNO1FBQzlCLGNBQVEsR0FBVyxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQzNCLGlCQUFXLEdBQVcsR0FBRyxDQUFDLENBQUEsTUFBTTtRQUNoQyxrQkFBWSxHQUFRLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDOUIsUUFBRSxHQUFXLENBQUMsQ0FBQztRQUNmLGFBQU8sR0FBUSxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQ3ZCLGtCQUFZLEdBQVcsS0FBSyxDQUFDLENBQUEsVUFBVTtRQUN2QyxrQkFBWSxHQUFXLEtBQUssQ0FBQSxDQUFBLFNBQVM7UUFDckMsMkJBQXFCLEdBQVcsS0FBSyxD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WjtRQUNJLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBL1REO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDOzZEQUNwQjtJQUUvQjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQzs2REFDcEI7SUFFL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztpREFDSztJQUV2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO2dEQUNJO0lBRTdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7d0RBQ087SUFaVixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBb1VqQztJQUFELG9CQUFDO0NBcFVELEFBb1VDLENBcFUwQyxtQkFBUyxHQW9VbkQ7a0JBcFVvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IHsgYXR0YWNrVHlwZSwgZW5lbXlTdGF0ZSB9IGZyb20gXCIuL2FuaW1hdGlvblN0YXRlXCI7XG5pbXBvcnQgZW5lbXlBbmltYXRpb24gZnJvbSBcIi4vZW5lbXlBbmltYXRpb25cIjtcbmltcG9ydCBlbmVteUJhc2UgZnJvbSBcIi4vZW5lbXlCYXNlXCI7XG5pbXBvcnQgZW5lbXlIaXRDb2xsaWRlciBmcm9tIFwiLi9lbmVteUhpdENvbGxpZGVyXCI7XG5pbXBvcnQgRXZlbnRzIGZyb20gXCIuL0V2ZW50c1wiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5lbnVtIGRhbWFnZUNvbGxpZGVye1xuICAgIGF0dGFjayxcbiAgICBib21iXG59XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRTI5Y29udHJvbGxlciBleHRlbmRzIGVuZW15QmFzZXtcblxuICAgIGF0bGFzOmNjLlNwcml0ZUF0bGFzPW51bGw7XG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuRmxvYXQsIHRvb2x0aXA6IFwi5Lyk5a6z5pWI5p6ceOi9tOWBj+enu+WAvFwiIH0pXG4gICAgZGFtYWdlTGFiZWxPZmZzZXRYOiBudW1iZXIgPSAwO1xuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkZsb2F0LCB0b29sdGlwOiBcIuS8pOWus+aViOaenHnovbTlgY/np7vlgLxcIiB9KVxuICAgIGRhbWFnZUxhYmVsT2Zmc2V0WTogbnVtYmVyID0gMDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBocE5vZGU6IGNjLk5vZGUgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcbiAgICBocEJhcjogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5TdHJpbmcpXG4gICAgZGllRWZmZWN0TmFtZTogc3RyaW5nID0gXCJcIjtcblxuICAgIG1vdmVTcGVlZDogbnVtYmVyID0gMTEwOy8v56e75Yqo6YCf5bqmXG4gICAgbm93U3BlZWQ6IG51bWJlciA9IDA7Ly/lvZPliY3pgJ/luqZcbiAgICBBSV9pbnRlcnZhbDogbnVtYmVyID0gMC42Oy8vYWnpl7TpmpRcbiAgICBzdG9wRGlzdGFuY2U6bnVtYmVyPTEwMDsvL+WBnOatoui3neemu1xuICAgIGhwOiBudW1iZXIgPSAwO1xuICAgIGhwVGltZXM6bnVtYmVyPTE7Ly/ooYDph4/lgI3mlbBcbiAgICBiZUhpdEZvcmNlX3k6IG51bWJlciA9IDI1MDAwOy8v5omL6YeM5YmR5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94OiBudW1iZXIgPSAyMDAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV95X3NodXJpa2VuOiBudW1iZXIgPSA1MDAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94X2F0dGFjazM6IG51bWJlciA9IDMzMDAwMDsvL+iiq+WHu+mjnuS9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeV9hdHRhY2szOiBudW1iZXIgPSAwOy8v6KKr5Ye76aOe5L2c55So5YqbXG4gICAgc2NhbGVYX3NrZWxldG9uOiBudW1iZXIgPSAwO1xuICAgIGlzRGllOiBib29sZWFuID0gZmFsc2U7XG4gICAgc2tlbGV0b246IHNwLlNrZWxldG9uID0gbnVsbDtcbiAgICBlbmVteUFuaW1hdGlvbjogZW5lbXlBbmltYXRpb24gPSBudWxsO1xuICAgIHJpZ2lib2R5OiBjYy5SaWdpZEJvZHkgPSBudWxsO1xuICAgIGJveENvbGxpZGVyOiBjYy5QaHlzaWNzQm94Q29sbGlkZXIgPSBudWxsO1xuICAgIGlzU3dvcmRSYWluQ2Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc01vdmU6IGJvb2xlYW4gPSBmYWxzZTsvL+aYr+WQpuWkhOS6juenu+WKqOeKtuaAgVxuICAgIGRtZ0NvbGxpZGVyOmRhbWFnZUNvbGxpZGVyPW51bGw7XG4gICAgYWxwaGE9e1xuICAgICAgICBudW1iZXI6MFxuICAgIH07XG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24gPSB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcbiAgICAgICAgdGhpcy5zY2FsZVhfc2tlbGV0b24gPSBNYXRoLmFicyh0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbiA9IHRoaXMubm9kZS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoZW5lbXlBbmltYXRpb24pO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmVuZW15Q29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgIHRoaXMucmlnaWJvZHkgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlJpZ2lkQm9keSk7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlBoeXNpY3NCb3hDb2xsaWRlcik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5za2VsZXRvbi5za2VsZXRvbkRhdGEuX3NrZWxldG9uQ2FjaGUuYW5pbWF0aW9ucyk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICAgICAgdGhpcy5ocCA9IHRoaXMuaHBNYXgqdGhpcy5ocFRpbWVzO1xuICAgICAgICB0aGlzLkFJX2ludGVydmFsKz1NYXRoLnJhbmRvbSgpO1xuICAgICAgICB0aGlzLkFJX3N0YXJ0KCk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZT09ZW5lbXlTdGF0ZVtcIkhlYWQtbWlkZGxlXCJdKXtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29sb3IoWzEuMCwwLjAsMC4wLHRoaXMuYWxwaGEubnVtYmVyXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZlID09IGZhbHNlKSByZXR1cm47XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHRoaXMuZ2V0RGlzdGFuY2VYKCk7XG4gICAgICAgIGlmIChNYXRoLmFicyhkaXN0YW5jZSkgPCB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGU9PWVuZW15U3RhdGUuQXRrKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLm1vdmVUb1BsYXllcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQmVnaW5Db250YWN0KGNvbnRhY3Q6IGNjLlBoeXNpY3NDb250YWN0LCBzZWxmQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlciwgb3RoZXJDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGxldCBvdGhlciA9IG90aGVyQ29sbGlkZXIubm9kZTtcbiAgICAgICAgLy8gbGV0IHdvcmxkTWFuaWZvbGQgPSBjb250YWN0LmdldFdvcmxkTWFuaWZvbGQoKTtcbiAgICAgICAgLy8gbGV0IG5vcm1hbCA9IHdvcmxkTWFuaWZvbGQubm9ybWFsO1xuICAgICAgICBpZiAob3RoZXIuZ3JvdXAgPT0gXCJncm91bmRcIikge1xuICAgICAgICB9XG4gICAgfVxuICAgIHNob3dEYW1hZ2VDb2xsaWRlcihjb2xsaWRlcjpkYW1hZ2VDb2xsaWRlcil7XG4gICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5jaGlsZHJlbltjb2xsaWRlcl0uYWN0aXZlPXRydWU7XG4gICAgICAgIHRoaXMuZG1nQ29sbGlkZXI9Y29sbGlkZXI7XG4gICAgfVxuICAgIGdldERhbWFnZUNvbGxpZGVyKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bdGhpcy5kbWdDb2xsaWRlcl07XG4gICAgfVxuICAgIGhpZGVEYW1hZ2VDb2xsaWRlcigpe1xuICAgICAgICBpZih0aGlzLmRtZ0NvbGxpZGVyPT1udWxsfHx0aGlzLmRtZ0NvbGxpZGVyPT1kYW1hZ2VDb2xsaWRlci5ib21iKSByZXR1cm47XG4gICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5jaGlsZHJlblt0aGlzLmRtZ0NvbGxpZGVyXS5hY3RpdmU9ZmFsc2U7XG4gICAgICAgIHRoaXMuZG1nQ29sbGlkZXI9bnVsbDtcbiAgICB9XG4gICAgQUlfc3RhcnQoKSB7XG4gICAgICAgIGlmKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuaXNEaWUpe1xuICAgICAgICAgICAgLy/njqnlrrblt7Lmrbsg5YGc5q2i56e75YqoZFxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLkFJX3N0YXJ0KCk7XG4gICAgICAgICAgICB9LDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguYWJzKHRoaXMuZ2V0RGlzdGFuY2VYKCkpO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuTW92ZSwgMS4xLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLm5vd1NwZWVkID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtdGhpcy5tb3ZlU3BlZWQgOiB0aGlzLm1vdmVTcGVlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBBSV9zdG9wKCkge1xuICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICB9XG4gICAgY2hhbmdlTW92U3RhdGUoaXNNb3ZlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNNb3ZlID0gaXNNb3ZlO1xuICAgIH1cbiAgICBpZGxlKCkge1xuICAgICAgICBpZih0aGlzLmlzRGllKSByZXR1cm47XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoMCk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwLDApO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuSWRsZSwgMSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGUhPWVuZW15U3RhdGUuSWRsZSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5BSV9zdGFydCgpO1xuICAgICAgICB9LCB0aGlzLkFJX2ludGVydmFsKTtcbiAgICB9XG4gICAgY2hhbmdlRGlyZWN0aW9uKCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggLSB0aGlzLm5vZGUueCA+IDAgPyAtdGhpcy5zY2FsZVhfc2tlbGV0b24gOiB0aGlzLnNjYWxlWF9za2VsZXRvbjtcbiAgICAgICAgdGhpcy5ocE5vZGUueCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gOCA6IC04O1xuICAgIH1cbiAgICBkaWUoKSB7XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZUFsbENhbGxiYWNrcygpO1xuICAgICAgICB0aGlzLmlzRGllID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oaWRlSHAoKTtcbiAgICAgICAgdGhpcy5jbG9zZUhpZ2hMaWdodCgpO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCwwKTtcbiAgICAgICAgdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5Cb3hDb2xsaWRlcikuZW5hYmxlZD1mYWxzZTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLkRpZSwxLGZhbHNlLHRydWUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgdGhpcy5yaWdpYm9keS50eXBlPWNjLlJpZ2lkQm9keVR5cGUuU3RhdGljO1xuICAgICAgICB9LDApO1xuICAgICAgICB0aGlzLmRpZUNvdW50KCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5FMjlFeHBsb3Npb24pO1xuICAgICAgICB9LDAuMSk7XG4gICAgfVxuICAgIC8v5aS057yp5pS+XG4gICAgaGVhZF9taWRkbGUoKXtcbiAgICAgICAgdGhpcy5zdGFydFJlZENvbG9yKCk7XG4gICAgICAgIHRoaXMuc2hvd0RhbWFnZUNvbGxpZGVyKGRhbWFnZUNvbGxpZGVyLmJvbWIpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGVbXCJIZWFkLW1pZGRsZVwiXSwxLjIsdHJ1ZSx0cnVlKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5oZWFkX2VuZCwyLjMpO1xuICAgICAgICBjYy50d2Vlbih0aGlzLmFscGhhKVxuICAgICAgICAucmVwZWF0KDIsXG4gICAgICAgICAgICBjYy50d2VlbigpXG4gICAgICAgICAgICAudG8oMC42NSx7bnVtYmVyOjAuN30se2Vhc2luZzpcInNpbmVPdXRcIn0pXG4gICAgICAgICAgICAudG8oMC42NSx7bnVtYmVyOjB9LHtlYXNpbmc6XCJzaW5lSW5cIn0pXG4gICAgICAgICAgICApXG4gICAgICAgIC5zdGFydCgpO1xuICAgIH1cbiAgICAvL+WktOeIhueCuFxuICAgIGhlYWRfZW5kKCl7XG4gICAgICAgIHRoaXMuY2xvc2VIaWdoTGlnaHQoKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlW1wiSGVhZC1lbmRcIl0sMS4zLGZhbHNlLHRydWUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgaWYoIXRoaXMuZ2V0RGFtYWdlQ29sbGlkZXIoKSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5nZXREYW1hZ2VDb2xsaWRlcigpLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5oaXQodGhpcy5ub2RlLHRoaXMuZGFtYWdlKTtcbiAgICAgICAgfSwwLjQ1KTtcbiAgICB9XG4gICAgRGVzdHJveSgpe1xuICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xuICAgIH1cbiAgICBnZXRVcCgpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGU9PWVuZW15U3RhdGVbXCJLbm9jay11cC1lbmRcIl0pe1xuICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZVtcIkdldC11cFwiXSwgMSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LDAuMyk7XG5cbiAgICB9XG4gICAgbW92ZVRvUGxheWVyKCkge1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5PWNjLnYyKHRoaXMubm93U3BlZWQsMCk7XG4gICAgfVxuICAgIGhpdCgpIHtcbiAgICAgICAgaWYoZW5lbXlTdGF0ZVt0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlXS5pbmNsdWRlcyhcIkhpdFwiKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDAsMCk7XG4gICAgICAgIHRoaXMuc2hvd0RhbWFnZUNvbGxpZGVyKGRhbWFnZUNvbGxpZGVyLmF0dGFjayk7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5BdGssIDEsIGZhbHNlKTtcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuRTI5QXR0YWNrKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGU9PWVuZW15U3RhdGUuQXRrKXtcbiAgICAgICAgICAgICAgICB0aGlzLmdldERhbWFnZUNvbGxpZGVyKCkuZ2V0Q29tcG9uZW50KGVuZW15SGl0Q29sbGlkZXIpLmhpdCh0aGlzLm5vZGUsdGhpcy5kYW1hZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGU9PWVuZW15U3RhdGUuQXRrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGFtYWdlQ29sbGlkZXIoKS5nZXRDb21wb25lbnQoZW5lbXlIaXRDb2xsaWRlcikuaGl0KHRoaXMubm9kZSx0aGlzLmRhbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LDAuOCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sMS4xKTtcbiAgICB9XG4gICAgYmVIaXQoZGFtYWdlOiBudW1iZXIsIGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYodGhpcy5pc0RpZSApIHJldHVybjtcbiAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwKTtcbiAgICAgICAgLy8gbGV0IGlzQ29udGludWUgPSB0aGlzLmNoZWNrSXNTd29yZFJhaW4oZG1nVHlwZSk7Ly/orr7nva7liZHpm6jmlLvlh7vpl7TpmpRcbiAgICAgICAgLy8gaWYgKGlzQ29udGludWUgPT0gMCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmhpZ2hMaWdodCgpO1xuICAgICAgICB0aGlzLnNob3dIcCgpO1xuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlX2JlSGl0KGRtZ1R5cGUpO1xuICAgICAgICBsZXQgeCA9IHRoaXMubm9kZS5zY2FsZVggPCAwID8gdGhpcy5ub2RlLnggKyB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WCA6IHRoaXMubm9kZS54IC0gdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFg7XG4gICAgICAgIGxldCB5ID0gdGhpcy5ub2RlLnkgKyB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WTtcbiAgICAgICAgRXZlbnRzLmluc3RhbmNlLnNob3dEYW1hZ2VMYWJlbF9lbmVteSh0aGlzLm5vZGUsIGRhbWFnZSwgY2MudjIoeCwgeSkpO1xuICAgICAgICB0aGlzLnVwZGF0ZUhwKGRhbWFnZSk7XG4gICAgICAgIGlmICh0aGlzLmhwIDw9IDApIHtcbiAgICAgICAgICAgIEV2ZW50cy5pbnN0YW5jZS5jcmVhdGVFbmVteURpZUVmZmVjdCh0aGlzLm5vZGUsIHRoaXMuZGllRWZmZWN0TmFtZSwgY2MudjIoeCwgeSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGtub2NrRG93bkxvb3AoKXtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlW1wiS25vY2stdXAtbG9vcFwiXSwxLGZhbHNlLHRydWUpO1xuICAgIH1cbiAgICBrbm9ja0Rvd25FbmQoKXtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlW1wiS25vY2stdXAtZW5kXCJdLDEsZmFsc2UsdHJ1ZSk7XG4gICAgfVxuICAgIHNldFJpZ2lib2R5U3BlZWQoeDpudW1iZXIseTpudW1iZXI9MCl7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHk9Y2MudjIoeCx5KTtcbiAgICB9XG4gICAgY2hhbmdlU3RhdGVfYmVIaXQoZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICBpZih0aGlzLmlzU3VwZXJBcm1vcikgcmV0dXJuO1xuICAgICAgICBsZXQgc3RhdGUgPSBudWxsO1xuICAgICAgICBsZXQgaXNLbm9ja0Rvd24gPSBkbWdUeXBlID09IGF0dGFja1R5cGUuYXR0YWNrMyA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChkbWdUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMTpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuSGl0O1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsIDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2syOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5IaXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazM6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDUpO1xuICAgICAgICAgICAgICAgIH0sIDAuMik7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlW1wiS25vY2stdXAtc3RhcnRcIl07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZS54IDwgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggJiYgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5za2VsZXRvbi5ub2RlLnNjYWxlWCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKC10aGlzLmJlSGl0Rm9yY2VfeF9hdHRhY2szLCB0aGlzLmJlSGl0Rm9yY2VfeV9hdHRhY2szKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5vZGUueCA+IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ICYmIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52Mih0aGlzLmJlSGl0Rm9yY2VfeF9hdHRhY2szLCB0aGlzLmJlSGl0Rm9yY2VfeV9hdHRhY2szKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmp1bXBIaXQ6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLkhpdDtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuc2h1cmlrZW46XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLkhpdDtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJlSGl0Rm9yY2VfeV9zaHVyaWtlbikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLnN3b3JkUmFpbjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuSGl0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKHN0YXRlLCAxLCBmYWxzZSwgaXNLbm9ja0Rvd24pO1xuICAgIH1cbiAgICBzZXRMaW5lYXJEYW1waW5nKGRhbXBpbmc6IG51bWJlcikge1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhckRhbXBpbmcgPSBkYW1waW5nO1xuICAgIH1cbiAgICBzZXRGcmljdGlvbihmcmljdGlvbjogbnVtYmVyID0gMCkge1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmZyaWN0aW9uID0gZnJpY3Rpb247XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIuYXBwbHkoKTtcbiAgICB9XG4gICAgYXBwbHlGb3JjZShmb3JjZTogY2MuVmVjMikge1xuICAgICAgICBpZiAodGhpcy5pc1N1cGVyQXJtb3IpIHJldHVybjtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5hcHBseUZvcmNlVG9DZW50ZXIoZm9yY2UsIHRydWUpO1xuICAgIH1cbiAgICBjaGVja0lzU3dvcmRSYWluKGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYgKGRtZ1R5cGUgPT0gYXR0YWNrVHlwZS5zd29yZFJhaW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3dvcmRSYWluQ2QpIHJldHVybiAwO1xuICAgICAgICAgICAgdGhpcy5pc1N3b3JkUmFpbkNkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU3dvcmRSYWluQ2QgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIHRoaXMuc3dvcmRSYWluSGl0Q2QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICB1cGRhdGVIcChkYW1hZ2U6IG51bWJlcikge1xuICAgICAgICB0aGlzLmhwIC09IGRhbWFnZTtcbiAgICAgICAgdGhpcy5ocEJhci5wcm9ncmVzcyA9IHRoaXMuaHAgLyB0aGlzLmhwTWF4O1xuICAgICAgICBpZiAodGhpcy5ocCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmhwID0gMDtcbiAgICAgICAgICAgIHRoaXMuZGllKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd0hwKCkge1xuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5oaWRlSHApO1xuICAgICAgICB0aGlzLmhwTm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLmhpZGVIcCwyKTtcbiAgICB9XG4gICAgaGlkZUhwKCkge1xuICAgICAgICB0aGlzLmhwTm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gICAgLy/lpLTpg6jlj5jlpKfpl6rnuqJcbiAgICBzdGFydFJlZENvbG9yKCl7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJiZUhpdFwiLCAxKTtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImhpZ2hMaWdodENvbG9yXCIsIFsxLjAsMC4wLDAuMCwwLjBdKTtcbiAgICB9XG4gICAgc2V0Q29sb3IoY29sb3I6QXJyYXk8bnVtYmVyPil7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJoaWdoTGlnaHRDb2xvclwiLGNvbG9yKTtcbiAgICB9XG4gICAgaGlnaExpZ2h0KCkge1xuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5jbG9zZUhpZ2hMaWdodCk7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJiZUhpdFwiLCAxKTtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImhpZ2hMaWdodENvbG9yXCIsIFsxLjAsMS4wLDEuMCwwLjVdKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5jbG9zZUhpZ2hMaWdodCwgMC4xNSk7XG4gICAgfVxuICAgIGNsb3NlSGlnaExpZ2h0KCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMCk7XG4gICAgfVxuICAgIGdldERpc3RhbmNlWCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS54IC0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLng7XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/on/mEvent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'cb57f2/+g9OQbh9Ml1nBxYQ', 'mEvent');
// framework/on/mEvent.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var mEvent = /** @class */ (function () {
    // 初始化传参处理
    function mEvent(name, callback, target) {
        this.name = name;
        this.callback = callback;
        this.target = target;
    }
    return mEvent;
}());
exports.default = mEvent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxvblxcbUV2ZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUUE7SUFVSSxVQUFVO0lBQ1YsZ0JBQVksSUFBYSxFQUFFLFFBQW1CLEVBQUUsTUFBWTtRQUN4RCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBQ0wsYUFBQztBQUFELENBaEJBLEFBZ0JDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBpbnRlcmZhY2UgbUV2ZW50IHtcbiAgICAvKiog5LqL5Lu25ZCN56ewICovXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIC8qKiDkuovku7blm57osIMgKi9cbiAgICBjYWxsYmFjazogRnVuY3Rpb247XG4gICAgLyoqIOebkeWQrOWvueixoSAqL1xuICAgIHRhcmdldDogYW55O1xufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgbUV2ZW50IGltcGxlbWVudHMgbUV2ZW50IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgLyoqIOS6i+S7tuWbnuiwgyAqL1xuICAgIG9uQmFjazogRnVuY3Rpb247XG4gICAgLyoqIOebkeWQrOWvueixoSAqL1xuICAgIHRhcmdldDogYW55O1xuXG4gICAgLy8g5Ye95pWw6YeN6L29XG4gICAgY29uc3RydWN0b3IoKTtcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbiwgdGFyZ2V0OiBhbnkpO1xuICAgIC8vIOWIneWni+WMluS8oOWPguWkhOeQhlxuICAgIGNvbnN0cnVjdG9yKG5hbWU/OiBzdHJpbmcsIGNhbGxiYWNrPzogRnVuY3Rpb24sIHRhcmdldD86IGFueSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/audioNameMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '793dfQxBiNLhZDsejfqqRa4', 'audioNameMgr');
// scripts/audioNameMgr.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.audioName = void 0;
var audioName;
(function (audioName) {
    audioName["bgm_main"] = "bgm_main";
    audioName["bgm_game"] = "bgm_game";
    audioName["getCoin"] = "getCoin";
    audioName["button"] = "select";
    audioName["airslash1"] = "airslash1";
    audioName["BlinkEnd"] = "BlinkEnd";
    audioName["BlinkStart"] = "BlinkStart";
    audioName["Cast203"] = "Cast203";
    audioName["CreepSpawn"] = "CreepSpawn";
    audioName["cursor"] = "cursor";
    audioName["Dash"] = "Dash";
    audioName["drum_1_deeper"] = "drum_1_deeper";
    audioName["E1_Sword"] = "E1_Sword";
    audioName["E2_Flee"] = "E2_Flee";
    audioName["E2Shoot"] = "E2Shoot";
    audioName["E10_attack"] = "E10_attack";
    audioName["E10_death"] = "E10_death";
    audioName["E10_Jump"] = "E10_Jump";
    audioName["E10Roar"] = "E10Roar";
    audioName["E10Step"] = "E10Step";
    audioName["E15"] = "E15";
    audioName["E18_Attack"] = "E18_Attack";
    audioName["E20Cast"] = "E20Cast";
    audioName["E20FirePillar"] = "E20FirePillar";
    audioName["E24_Shoot"] = "E24_Shoot";
    audioName["E25Attack"] = "E25Attack";
    audioName["E25Die"] = "E25Die";
    audioName["E27castLightning"] = "E27castLightning";
    audioName["E27JoltCast"] = "E27JoltCast";
    audioName["E27Lightning"] = "E27Lightning";
    audioName["E27LightningJolt"] = "E27LightningJolt";
    audioName["E27LightningTotemFall"] = "E27LightningTotemFall";
    audioName["E27StormBurst"] = "E27StormBurst";
    audioName["E27TotemCast"] = "E27TotemCast";
    audioName["E29Attack"] = "E29Attack";
    audioName["E29Explosion"] = "E29Explosion";
    audioName["E38Attack"] = "E38Attack";
    audioName["E38AttackEnd"] = "E38AttackEnd";
    audioName["E38Fade"] = "E38Fade";
    audioName["E39_death"] = "E39_death";
    audioName["E39Above1"] = "E39Above1";
    audioName["E39Above2"] = "E39Above2";
    audioName["E39AboveLand"] = "E39AboveLand";
    audioName["E39Attack"] = "E39Attack";
    audioName["E39Jump"] = "E39Jump";
    audioName["E39Laser"] = "E39Laser";
    audioName["E39Scratch"] = "E39Scratch";
    audioName["E39Step"] = "E39Step";
    audioName["E40Alert"] = "E40Alert";
    audioName["E40Born"] = "E40Born";
    audioName["E40Exposion"] = "E40Exposion";
    audioName["E40Start"] = "E40Start";
    audioName["highlight_3"] = "highlight_3";
    audioName["jump"] = "jump";
    audioName["Jumpland"] = "Jumpland";
    audioName["Kunai"] = "Kunai";
    audioName["rolldash"] = "rolldash";
    audioName["Run"] = "Run";
    audioName["select"] = "select";
    audioName["shurikenfly2"] = "shurikenfly2";
    audioName["SkeletonCharge"] = "SkeletonCharge";
    audioName["Skillcast207Shuriken"] = "Skillcast207Shuriken";
    audioName["slash1"] = "slash1";
    audioName["slash2"] = "slash2";
    audioName["slash3"] = "slash3";
    audioName["Spell_Earth_02"] = "Spell_Earth_02";
    audioName["SpinAttack"] = "SpinAttack";
    audioName["StopMove"] = "StopMove";
    audioName["swoosh1"] = "swoosh1";
    audioName["swoosh2"] = "swoosh2";
    audioName["thrust1"] = "thrust1";
    audioName["ThunderTotemStruck"] = "ThunderTotemStruck";
})(audioName = exports.audioName || (exports.audioName = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcYXVkaW9OYW1lTWdyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLElBQVksU0E2RVg7QUE3RUQsV0FBWSxTQUFTO0lBQ2pCLGtDQUFtQixDQUFBO0lBQ25CLGtDQUFtQixDQUFBO0lBQ25CLGdDQUFpQixDQUFBO0lBQ2pCLDhCQUFlLENBQUE7SUFDZixvQ0FBcUIsQ0FBQTtJQUNyQixrQ0FBbUIsQ0FBQTtJQUNuQixzQ0FBdUIsQ0FBQTtJQUN2QixnQ0FBaUIsQ0FBQTtJQUNqQixzQ0FBdUIsQ0FBQTtJQUN2Qiw4QkFBZSxDQUFBO0lBQ2YsMEJBQVcsQ0FBQTtJQUNYLDRDQUE2QixDQUFBO0lBQzdCLGtDQUFtQixDQUFBO0lBQ25CLGdDQUFpQixDQUFBO0lBQ2pCLGdDQUFpQixDQUFBO0lBQ2pCLHNDQUF1QixDQUFBO0lBQ3ZCLG9DQUFxQixDQUFBO0lBRXJCLGtDQUFtQixDQUFBO0lBQ25CLGdDQUFpQixDQUFBO0lBQ2pCLGdDQUFpQixDQUFBO0lBQ2pCLHdCQUFTLENBQUE7SUFDVCxzQ0FBdUIsQ0FBQTtJQUN2QixnQ0FBaUIsQ0FBQTtJQUNqQiw0Q0FBNkIsQ0FBQTtJQUM3QixvQ0FBcUIsQ0FBQTtJQUNyQixvQ0FBcUIsQ0FBQTtJQUNyQiw4QkFBZSxDQUFBO0lBQ2Ysa0RBQW1DLENBQUE7SUFDbkMsd0NBQXlCLENBQUE7SUFFekIsMENBQTJCLENBQUE7SUFDM0Isa0RBQW1DLENBQUE7SUFDbkMsNERBQTZDLENBQUE7SUFDN0MsNENBQTZCLENBQUE7SUFDN0IsMENBQTJCLENBQUE7SUFDM0Isb0NBQXFCLENBQUE7SUFDckIsMENBQTJCLENBQUE7SUFDM0Isb0NBQXFCLENBQUE7SUFDckIsMENBQTJCLENBQUE7SUFDM0IsZ0NBQWlCLENBQUE7SUFDakIsb0NBQXFCLENBQUE7SUFDckIsb0NBQXFCLENBQUE7SUFDckIsb0NBQXFCLENBQUE7SUFDckIsMENBQTJCLENBQUE7SUFDM0Isb0NBQXFCLENBQUE7SUFDckIsZ0NBQWlCLENBQUE7SUFDakIsa0NBQW1CLENBQUE7SUFDbkIsc0NBQXVCLENBQUE7SUFDdkIsZ0NBQWlCLENBQUE7SUFDakIsa0NBQW1CLENBQUE7SUFDbkIsZ0NBQWlCLENBQUE7SUFFakIsd0NBQXlCLENBQUE7SUFDekIsa0NBQW1CLENBQUE7SUFDbkIsd0NBQXlCLENBQUE7SUFDekIsMEJBQVcsQ0FBQTtJQUNYLGtDQUFtQixDQUFBO0lBQ25CLDRCQUFhLENBQUE7SUFDYixrQ0FBbUIsQ0FBQTtJQUNuQix3QkFBUyxDQUFBO0lBQ1QsOEJBQWUsQ0FBQTtJQUNmLDBDQUEyQixDQUFBO0lBQzNCLDhDQUErQixDQUFBO0lBQy9CLDBEQUEyQyxDQUFBO0lBRTNDLDhCQUFlLENBQUE7SUFDZiw4QkFBZSxDQUFBO0lBQ2YsOEJBQWUsQ0FBQTtJQUNmLDhDQUErQixDQUFBO0lBQy9CLHNDQUF1QixDQUFBO0lBQ3ZCLGtDQUFtQixDQUFBO0lBQ25CLGdDQUFpQixDQUFBO0lBQ2pCLGdDQUFpQixDQUFBO0lBQ2pCLGdDQUFpQixDQUFBO0lBQ2pCLHNEQUF1QyxDQUFBO0FBQzNDLENBQUMsRUE3RVcsU0FBUyxHQUFULGlCQUFTLEtBQVQsaUJBQVMsUUE2RXBCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbmV4cG9ydCBlbnVtIGF1ZGlvTmFtZXtcbiAgICBiZ21fbWFpbj1cImJnbV9tYWluXCIsLy8xXG4gICAgYmdtX2dhbWU9XCJiZ21fZ2FtZVwiLC8vMVxuICAgIGdldENvaW49XCJnZXRDb2luXCIsLy8xXG4gICAgYnV0dG9uPVwic2VsZWN0XCIsLy8xXG4gICAgYWlyc2xhc2gxPVwiYWlyc2xhc2gxXCIsICAvLzFcbiAgICBCbGlua0VuZD1cIkJsaW5rRW5kXCIsLy8xXG4gICAgQmxpbmtTdGFydD1cIkJsaW5rU3RhcnRcIiwvLzFcbiAgICBDYXN0MjAzPVwiQ2FzdDIwM1wiLC8vMVxuICAgIENyZWVwU3Bhd249XCJDcmVlcFNwYXduXCIsXG4gICAgY3Vyc29yPVwiY3Vyc29yXCIsXG4gICAgRGFzaD1cIkRhc2hcIixcbiAgICBkcnVtXzFfZGVlcGVyPVwiZHJ1bV8xX2RlZXBlclwiLFxuICAgIEUxX1N3b3JkPVwiRTFfU3dvcmRcIixcbiAgICBFMl9GbGVlPVwiRTJfRmxlZVwiLFxuICAgIEUyU2hvb3Q9XCJFMlNob290XCIsXG4gICAgRTEwX2F0dGFjaz1cIkUxMF9hdHRhY2tcIiwvLzFcbiAgICBFMTBfZGVhdGg9XCJFMTBfZGVhdGhcIixcblxuICAgIEUxMF9KdW1wPVwiRTEwX0p1bXBcIixcbiAgICBFMTBSb2FyPVwiRTEwUm9hclwiLFxuICAgIEUxMFN0ZXA9XCJFMTBTdGVwXCIsXG4gICAgRTE1PVwiRTE1XCIsXG4gICAgRTE4X0F0dGFjaz1cIkUxOF9BdHRhY2tcIiwvLzFcbiAgICBFMjBDYXN0PVwiRTIwQ2FzdFwiLC8vMVxuICAgIEUyMEZpcmVQaWxsYXI9XCJFMjBGaXJlUGlsbGFyXCIsXG4gICAgRTI0X1Nob290PVwiRTI0X1Nob290XCIsLy8xXG4gICAgRTI1QXR0YWNrPVwiRTI1QXR0YWNrXCIsLy8xXG4gICAgRTI1RGllPVwiRTI1RGllXCIsXG4gICAgRTI3Y2FzdExpZ2h0bmluZz1cIkUyN2Nhc3RMaWdodG5pbmdcIiwvLzFcbiAgICBFMjdKb2x0Q2FzdD1cIkUyN0pvbHRDYXN0XCIsXG5cbiAgICBFMjdMaWdodG5pbmc9XCJFMjdMaWdodG5pbmdcIixcbiAgICBFMjdMaWdodG5pbmdKb2x0PVwiRTI3TGlnaHRuaW5nSm9sdFwiLFxuICAgIEUyN0xpZ2h0bmluZ1RvdGVtRmFsbD1cIkUyN0xpZ2h0bmluZ1RvdGVtRmFsbFwiLFxuICAgIEUyN1N0b3JtQnVyc3Q9XCJFMjdTdG9ybUJ1cnN0XCIsXG4gICAgRTI3VG90ZW1DYXN0PVwiRTI3VG90ZW1DYXN0XCIsXG4gICAgRTI5QXR0YWNrPVwiRTI5QXR0YWNrXCIsLy8xXG4gICAgRTI5RXhwbG9zaW9uPVwiRTI5RXhwbG9zaW9uXCIsXG4gICAgRTM4QXR0YWNrPVwiRTM4QXR0YWNrXCIsXG4gICAgRTM4QXR0YWNrRW5kPVwiRTM4QXR0YWNrRW5kXCIsXG4gICAgRTM4RmFkZT1cIkUzOEZhZGVcIixcbiAgICBFMzlfZGVhdGg9XCJFMzlfZGVhdGhcIiwvLzFcbiAgICBFMzlBYm92ZTE9XCJFMzlBYm92ZTFcIixcbiAgICBFMzlBYm92ZTI9XCJFMzlBYm92ZTJcIixcbiAgICBFMzlBYm92ZUxhbmQ9XCJFMzlBYm92ZUxhbmRcIixcbiAgICBFMzlBdHRhY2s9XCJFMzlBdHRhY2tcIixcbiAgICBFMzlKdW1wPVwiRTM5SnVtcFwiLFxuICAgIEUzOUxhc2VyPVwiRTM5TGFzZXJcIixcbiAgICBFMzlTY3JhdGNoPVwiRTM5U2NyYXRjaFwiLFxuICAgIEUzOVN0ZXA9XCJFMzlTdGVwXCIsXG4gICAgRTQwQWxlcnQ9XCJFNDBBbGVydFwiLC8vMVxuICAgIEU0MEJvcm49XCJFNDBCb3JuXCIsXG5cbiAgICBFNDBFeHBvc2lvbj1cIkU0MEV4cG9zaW9uXCIsXG4gICAgRTQwU3RhcnQ9XCJFNDBTdGFydFwiLFxuICAgIGhpZ2hsaWdodF8zPVwiaGlnaGxpZ2h0XzNcIixcbiAgICBqdW1wPVwianVtcFwiLC8vMVxuICAgIEp1bXBsYW5kPVwiSnVtcGxhbmRcIiwvLzFcbiAgICBLdW5haT1cIkt1bmFpXCIsLy8xXG4gICAgcm9sbGRhc2g9XCJyb2xsZGFzaFwiLC8vMVxuICAgIFJ1bj1cIlJ1blwiLC8vMVxuICAgIHNlbGVjdD1cInNlbGVjdFwiLC8vMVxuICAgIHNodXJpa2VuZmx5Mj1cInNodXJpa2VuZmx5MlwiLFxuICAgIFNrZWxldG9uQ2hhcmdlPVwiU2tlbGV0b25DaGFyZ2VcIixcbiAgICBTa2lsbGNhc3QyMDdTaHVyaWtlbj1cIlNraWxsY2FzdDIwN1NodXJpa2VuXCIsLy8xXG5cbiAgICBzbGFzaDE9XCJzbGFzaDFcIiwvLzFcbiAgICBzbGFzaDI9XCJzbGFzaDJcIiwvLzFcbiAgICBzbGFzaDM9XCJzbGFzaDNcIiwvLzFcbiAgICBTcGVsbF9FYXJ0aF8wMj1cIlNwZWxsX0VhcnRoXzAyXCIsLy8xXG4gICAgU3BpbkF0dGFjaz1cIlNwaW5BdHRhY2tcIiwvLzFcbiAgICBTdG9wTW92ZT1cIlN0b3BNb3ZlXCIsLy8xXG4gICAgc3dvb3NoMT1cInN3b29zaDFcIiwvLzFcbiAgICBzd29vc2gyPVwic3dvb3NoMlwiLC8vMVxuICAgIHRocnVzdDE9XCJ0aHJ1c3QxXCIsLy8xXG4gICAgVGh1bmRlclRvdGVtU3RydWNrPVwiVGh1bmRlclRvdGVtU3RydWNrXCIsLy8xXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/Events.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '31948+aNUhEiKhWI9P9ptKR', 'Events');
// scripts/game/Events.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var data_1 = require("../sdk/data");
var arrow_1 = require("./arrow");
var cameraControl_1 = require("./cameraControl");
var damageLabel_1 = require("./damageLabel");
var damageTipPool_1 = require("./damageTipPool");
var enemyBase_1 = require("./enemyBase");
var GameManager_1 = require("./GameManager");
var spawnEnemy_1 = require("./spawnEnemy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Events = /** @class */ (function (_super) {
    __extends(Events, _super);
    function Events() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.DropBloodProbability = 0;
        return _this;
    }
    Events_1 = Events;
    Object.defineProperty(Events, "instance", {
        get: function () {
            if (Events_1._instance == null) {
                Events_1._instance = new Events_1;
            }
            return Events_1._instance;
        },
        enumerable: false,
        configurable: true
    });
    Events.prototype.init = function () {
        Events_1.instance.DropBloodProbability = Number(data_1.data.gameJson("DropBloodProbability"));
    };
    /**
     * 生成怪物降临效果
     */
    Events.prototype.createSpawnEnemyEffect = function (enemyName, parent, position) {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, effect;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/spawnEnemy")];
                    case 1:
                        prefab = _a.sent();
                        effect = caijiTools_1.caijiTools.createNode(prefab, parent);
                        effect.setPosition(position);
                        effect.getComponent(spawnEnemy_1.default).spawnEnemyName = enemyName;
                        effect.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 生成怪物
     */
    Events.prototype.spawnEnemy = function (enemyName, parent, position) {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, enemy;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/enemys/" + enemyName)];
                    case 1:
                        prefab = _a.sent();
                        if (prefab) {
                            enemy = caijiTools_1.caijiTools.createNode(prefab, parent);
                            enemy.setPosition(position);
                            enemy.setSiblingIndex(GameManager_1.default.instance.player.getSiblingIndex());
                            enemy.active = true;
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 掉落金币
     */
    Events.prototype.dropCoin = function (target, position) {
        return __awaiter(this, void 0, void 0, function () {
            var dropNum, coin, i, newCoin;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        dropNum = Number(data_1.data.gameJson("enemyData", target.name, enemyBase_1.enemyAttribute.dropCoinNumber));
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/coin_drop")];
                    case 1:
                        coin = _a.sent();
                        for (i = 0; i < dropNum; i++) {
                            newCoin = caijiTools_1.caijiTools.createNode(coin, target.parent);
                            newCoin.setPosition(position);
                            newCoin.setSiblingIndex(target.getSiblingIndex() + 1);
                            newCoin.active = true;
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 掉落血瓶
     */
    Events.prototype.dropBloodBottle = function (target, position) {
        return __awaiter(this, void 0, void 0, function () {
            var random, coin, bloodBottle;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        random = caijiTools_1.caijiTools.random_int(0, 100) / 100;
                        if (random > Events_1.instance.DropBloodProbability)
                            return [2 /*return*/];
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/dropBloodBottle")];
                    case 1:
                        coin = _a.sent();
                        bloodBottle = caijiTools_1.caijiTools.createNode(coin, target.parent);
                        bloodBottle.setParent(target.parent);
                        bloodBottle.setPosition(position);
                        bloodBottle.setSiblingIndex(GameManager_1.default.instance.player.getSiblingIndex() + 1);
                        bloodBottle.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 玩家增加血量效果
     * @param player
     * @param addNum
     * @param offsetX
     * @param isRevive
     */
    Events.prototype.showAddHp_player = function (player, addNum, offsetX, isRevive) {
        if (isRevive === void 0) { isRevive = false; }
        return __awaiter(this, void 0, void 0, function () {
            var Label;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (isRevive) {
                            this.createAddHpEffect_revive();
                        }
                        else {
                            this.createAddHpEffect_normal();
                        }
                        return [4 /*yield*/, damageTipPool_1.default.instance.getDamageLabel()];
                    case 1:
                        Label = _a.sent();
                        Label.setParent(GameManager_1.default.instance.node);
                        Label.setPosition(player.x + offsetX, player.y + 80);
                        Label.getComponent(damageLabel_1.default).damage = addNum;
                        Label.getComponent(damageLabel_1.default).color = cc.Color.GREEN;
                        Label.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 显示玩家受伤字体
     * @param player
     * @param damge
     * @param offsetX
     */
    Events.prototype.showDamageLabel_player = function (player, damge, offsetX) {
        return __awaiter(this, void 0, void 0, function () {
            var Label;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, damageTipPool_1.default.instance.getDamageLabel()];
                    case 1:
                        Label = _a.sent();
                        Label.setParent(GameManager_1.default.instance.node);
                        Label.setPosition(player.x + offsetX, player.y + 130);
                        Label.getComponent(damageLabel_1.default).damage = Math.floor(damge);
                        Label.getComponent(damageLabel_1.default).color = cc.Color.RED;
                        ;
                        Label.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 显示怪物受伤字体
     * @param enemy
     * @param damge
     * @param position
     */
    Events.prototype.showDamageLabel_enemy = function (enemy, damge, position) {
        return __awaiter(this, void 0, void 0, function () {
            var Label;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.showDamageEffect(enemy, position);
                        return [4 /*yield*/, damageTipPool_1.default.instance.getDamageLabel()];
                    case 1:
                        Label = _a.sent();
                        Label.setParent(GameManager_1.default.instance.node);
                        Label.setPosition(position.x, position.y + 60);
                        Label.getComponent(damageLabel_1.default).damage = Math.floor(damge);
                        Label.getComponent(damageLabel_1.default).color = cc.Color.WHITE;
                        ;
                        Label.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 玩家攻击效果
     * @param enemy
     * @param position
     */
    Events.prototype.showDamageEffect = function (enemy, position) {
        return __awaiter(this, void 0, void 0, function () {
            var effect;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, damageTipPool_1.default.instance.getDamageEffect()];
                    case 1:
                        effect = _a.sent();
                        effect.setParent(GameManager_1.default.instance.node.parent);
                        effect.setPosition(position);
                        effect.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 怪物死亡效果
     * @param enemy 怪物
     * @param effectName 效果预制体名字
     * @param position 坐标
     * @returns
     */
    Events.prototype.createEnemyDieEffect = function (enemy, effectName, position) {
        return __awaiter(this, void 0, void 0, function () {
            var pre, effect;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        Events_1.instance.dropCoin(enemy, position);
                        Events_1.instance.dropBloodBottle(enemy, position);
                        if (effectName == "")
                            return [2 /*return*/];
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/" + effectName)];
                    case 1:
                        pre = _a.sent();
                        effect = caijiTools_1.caijiTools.createNode(pre, enemy.parent, false);
                        effect.setPosition(position);
                        effect.setSiblingIndex(enemy.getSiblingIndex());
                        effect.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 显示复活时回血效果
     */
    Events.prototype.createAddHpEffect_revive = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, effect;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/heal")];
                    case 1:
                        prefab = _a.sent();
                        effect = caijiTools_1.caijiTools.createNode(prefab, GameManager_1.default.instance.player);
                        effect.setPosition(0, -30);
                        effect.active = true;
                        this.scheduleOnce(function () {
                            if (effect.isValid == false)
                                return;
                            effect.destroy();
                        }, 2);
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
    * 显示普通回血效果
    */
    Events.prototype.createAddHpEffect_normal = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, effect;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/addHpEffect")];
                    case 1:
                        prefab = _a.sent();
                        effect = caijiTools_1.caijiTools.createNode(prefab, GameManager_1.default.instance.player);
                        effect.setPosition(0, -30);
                        effect.active = true;
                        this.scheduleOnce(function () {
                            if (effect.isValid == false)
                                return;
                            effect.destroy();
                        }, 2);
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 怪物打击玩家效果
     * @param parent
     * @param position
     * @param scaleX
     */
    Events.prototype.showEnemyHitEffect = function (parent, position, scaleX) {
        return __awaiter(this, void 0, void 0, function () {
            var random, prefab, effect;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        random = caijiTools_1.caijiTools.random_int(1, 2);
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/enemyHitEffect" + random)];
                    case 1:
                        prefab = _a.sent();
                        effect = caijiTools_1.caijiTools.createNode(prefab, GameManager_1.default.instance.player);
                        effect.setParent(parent);
                        effect.setPosition(position);
                        effect.scaleX = scaleX;
                        effect.active = true;
                        this.scheduleOnce(function () {
                            if (effect.isValid == false)
                                return;
                            effect.destroy();
                        }, 1);
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 生成箭（怪物）
     * @param enemy
     * @param spawnPosition
     * @param playerPosition
     * @param angle
     * @param damge
     */
    Events.prototype.createArrow = function (enemy, spawnPosition, playerPosition, angle, damge) {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, node;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/arrow")];
                    case 1:
                        prefab = _a.sent();
                        node = caijiTools_1.caijiTools.createNode(prefab, enemy.parent);
                        node.getComponent(arrow_1.default).damage = damge;
                        node.getComponent(arrow_1.default).enemy = enemy;
                        node.getComponent(arrow_1.default).playerPosition = playerPosition;
                        node.setSiblingIndex(enemy.getSiblingIndex());
                        node.setPosition(spawnPosition);
                        node.angle = angle;
                        node.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    Events.prototype.screenShake = function (repeat, offsetX, offsetY) {
        if (repeat === void 0) { repeat = 10; }
        if (offsetX === void 0) { offsetX = 0; }
        if (offsetY === void 0) { offsetY = 20; }
        cc.Tween.stopAllByTarget(cameraControl_1.default.instance.cameraNode);
        cameraControl_1.default.instance.node.y = 0;
        caijiTools_1.caijiTools.screenShake(cameraControl_1.default.instance.cameraNode, repeat, offsetX, offsetY);
    };
    Events.prototype.showReviveFx = function (target) {
        return __awaiter(this, void 0, void 0, function () {
            var pre, fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/fx_revive")];
                    case 1:
                        pre = _a.sent();
                        fx = cc.instantiate(pre);
                        fx.setParent(target.parent);
                        fx.setSiblingIndex(target.getSiblingIndex() + 1);
                        fx.setPosition(target.x, target.y - 20);
                        fx.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    var Events_1;
    Events._instance = null;
    Events = Events_1 = __decorate([
        ccclass
    ], Events);
    return Events;
}(cc.Component));
exports.default = Events;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRXZlbnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLDRDQUEyQztBQUMzQyxvQ0FBbUM7QUFDbkMsaUNBQTRCO0FBQzVCLGlEQUE0QztBQUM1Qyw2Q0FBd0M7QUFDeEMsaURBQTRDO0FBQzVDLHlDQUE2QztBQUM3Qyw2Q0FBd0M7QUFDeEMsMkNBQXNDO0FBRWhDLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQW9DLDBCQUFZO0lBQWhEO1FBQUEscUVBdU5DO1FBck5HLDBCQUFvQixHQUFRLENBQUMsQ0FBQzs7SUFxTmxDLENBQUM7ZUF2Tm9CLE1BQU07SUFJdkIsc0JBQWtCLGtCQUFRO2FBQTFCO1lBQ0ksSUFBSSxRQUFNLENBQUMsU0FBUyxJQUFJLElBQUksRUFBRTtnQkFDMUIsUUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLFFBQU0sQ0FBQzthQUNqQztZQUNELE9BQU8sUUFBTSxDQUFDLFNBQVMsQ0FBQztRQUM1QixDQUFDOzs7T0FBQTtJQUNELHFCQUFJLEdBQUo7UUFDSSxRQUFNLENBQUMsUUFBUSxDQUFDLG9CQUFvQixHQUFDLE1BQU0sQ0FBQyxXQUFJLENBQUMsUUFBUSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQztJQUN2RixDQUFDO0lBQ0Q7O09BRUc7SUFDRyx1Q0FBc0IsR0FBNUIsVUFBNkIsU0FBZ0IsRUFBQyxNQUFjLEVBQUMsUUFBZ0I7Ozs7OzRCQUM5RCxxQkFBTSx1QkFBVSxDQUFDLFVBQVUsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFB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TUFBTSxDQXVOMUI7SUFBRCxhQUFDO0NBdk5ELEFBdU5DLENBdk5tQyxFQUFFLENBQUMsU0FBUyxHQXVOL0M7a0JBdk5vQixNQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vY2FpamlUb29sc1wiO1xuaW1wb3J0IHsgZGF0YSB9IGZyb20gXCIuLi9zZGsvZGF0YVwiO1xuaW1wb3J0IGFycm93IGZyb20gXCIuL2Fycm93XCI7XG5pbXBvcnQgY2FtZXJhQ29udHJvbCBmcm9tIFwiLi9jYW1lcmFDb250cm9sXCI7XG5pbXBvcnQgZGFtYWdlTGFiZWwgZnJvbSBcIi4vZGFtYWdlTGFiZWxcIjtcbmltcG9ydCBkYW1hZ2VUaXBQb29sIGZyb20gXCIuL2RhbWFnZVRpcFBvb2xcIjtcbmltcG9ydCB7IGVuZW15QXR0cmlidXRlIH0gZnJvbSBcIi4vZW5lbXlCYXNlXCI7XG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4vR2FtZU1hbmFnZXJcIjtcbmltcG9ydCBzcGF3bkVuZW15IGZyb20gXCIuL3NwYXduRW5lbXlcIjtcblxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50cyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBEcm9wQmxvb2RQcm9iYWJpbGl0eTpudW1iZXI9MDtcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6IEV2ZW50cyA9IG51bGw7XG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmIChFdmVudHMuX2luc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgIEV2ZW50cy5faW5zdGFuY2UgPSBuZXcgRXZlbnRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBFdmVudHMuX2luc3RhbmNlO1xuICAgIH1cbiAgICBpbml0KCl7XG4gICAgICAgIEV2ZW50cy5pbnN0YW5jZS5Ecm9wQmxvb2RQcm9iYWJpbGl0eT1OdW1iZXIoZGF0YS5nYW1lSnNvbihcIkRyb3BCbG9vZFByb2JhYmlsaXR5XCIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog55Sf5oiQ5oCq54mp6ZmN5Li05pWI5p6cXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlU3Bhd25FbmVteUVmZmVjdChlbmVteU5hbWU6c3RyaW5nLHBhcmVudDpjYy5Ob2RlLHBvc2l0aW9uOmNjLlZlYzIpe1xuICAgICAgICBsZXQgcHJlZmFiPWF3YWl0IGNhaWppVG9vbHMubG9hZFByZWZhYihcInByZWZhYnMvc3Bhd25FbmVteVwiKTtcbiAgICAgICAgbGV0IGVmZmVjdD1jYWlqaVRvb2xzLmNyZWF0ZU5vZGUocHJlZmFiLHBhcmVudCk7XG4gICAgICAgIGVmZmVjdC5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIGVmZmVjdC5nZXRDb21wb25lbnQoc3Bhd25FbmVteSkuc3Bhd25FbmVteU5hbWU9ZW5lbXlOYW1lO1xuICAgICAgICBlZmZlY3QuYWN0aXZlPXRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOeUn+aIkOaAqueJqVxuICAgICAqL1xuICAgICBhc3luYyBzcGF3bkVuZW15KGVuZW15TmFtZTpzdHJpbmcscGFyZW50OmNjLk5vZGUscG9zaXRpb246Y2MuVmVjMil7XG4gICAgICAgIGxldCBwcmVmYWI9YXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy9lbmVteXMvXCIrZW5lbXlOYW1lKTtcbiAgICAgICAgaWYocHJlZmFiKXtcbiAgICAgICAgICAgIGxldCBlbmVteT1jYWlqaVRvb2xzLmNyZWF0ZU5vZGUocHJlZmFiLHBhcmVudCk7XG4gICAgICAgICAgICBlbmVteS5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgICAgICBlbmVteS5zZXRTaWJsaW5nSW5kZXgoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLmdldFNpYmxpbmdJbmRleCgpKTtcbiAgICAgICAgICAgIGVuZW15LmFjdGl2ZT10cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOaOieiQvemHkeW4gVxuICAgICAqL1xuICAgIGFzeW5jIGRyb3BDb2luKHRhcmdldDpjYy5Ob2RlLHBvc2l0aW9uOmNjLlZlYzIpIHtcbiAgICAgICAgbGV0IGRyb3BOdW09TnVtYmVyKGRhdGEuZ2FtZUpzb24oXCJlbmVteURhdGFcIix0YXJnZXQubmFtZSxlbmVteUF0dHJpYnV0ZS5kcm9wQ29pbk51bWJlcikpO1xuICAgICAgICBsZXQgY29pbj1hd2FpdCBjYWlqaVRvb2xzLmxvYWRQcmVmYWIoXCJwcmVmYWJzL2NvaW5fZHJvcFwiKTtcbiAgICAgICAgZm9yKGxldCBpPTA7aTxkcm9wTnVtO2krKyl7XG4gICAgICAgICAgICBsZXQgbmV3Q29pbj1jYWlqaVRvb2xzLmNyZWF0ZU5vZGUoY29pbix0YXJnZXQucGFyZW50KTtcbiAgICAgICAgICAgIG5ld0NvaW4uc2V0UG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICAgICAgbmV3Q29pbi5zZXRTaWJsaW5nSW5kZXgodGFyZ2V0LmdldFNpYmxpbmdJbmRleCgpKzEpO1xuICAgICAgICAgICAgbmV3Q29pbi5hY3RpdmU9dHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDmjonokL3ooYDnk7ZcbiAgICAgKi9cbiAgICBhc3luYyBkcm9wQmxvb2RCb3R0bGUodGFyZ2V0OmNjLk5vZGUscG9zaXRpb246Y2MuVmVjMil7XG4gICAgICAgIGxldCByYW5kb209Y2FpamlUb29scy5yYW5kb21faW50KDAsMTAwKS8xMDA7XG4gICAgICAgIGlmKHJhbmRvbT5FdmVudHMuaW5zdGFuY2UuRHJvcEJsb29kUHJvYmFiaWxpdHkpIHJldHVybjtcbiAgICAgICAgbGV0IGNvaW49YXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy9kcm9wQmxvb2RCb3R0bGVcIik7XG4gICAgICAgIGxldCBibG9vZEJvdHRsZT1jYWlqaVRvb2xzLmNyZWF0ZU5vZGUoY29pbix0YXJnZXQucGFyZW50KTtcbiAgICAgICAgYmxvb2RCb3R0bGUuc2V0UGFyZW50KHRhcmdldC5wYXJlbnQpO1xuICAgICAgICBibG9vZEJvdHRsZS5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIGJsb29kQm90dGxlLnNldFNpYmxpbmdJbmRleChHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIuZ2V0U2libGluZ0luZGV4KCkrMSk7XG4gICAgICAgIGJsb29kQm90dGxlLmFjdGl2ZT10cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDnjqnlrrblop7liqDooYDph4/mlYjmnpxcbiAgICAgKiBAcGFyYW0gcGxheWVyIFxuICAgICAqIEBwYXJhbSBhZGROdW0gXG4gICAgICogQHBhcmFtIG9mZnNldFggXG4gICAgICogQHBhcmFtIGlzUmV2aXZlIFxuICAgICAqL1xuICAgIGFzeW5jIHNob3dBZGRIcF9wbGF5ZXIocGxheWVyOiBjYy5Ob2RlLCBhZGROdW06IG51bWJlciwgb2Zmc2V0WDogbnVtYmVyLCBpc1Jldml2ZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChpc1Jldml2ZSkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVBZGRIcEVmZmVjdF9yZXZpdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQWRkSHBFZmZlY3Rfbm9ybWFsKCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IExhYmVsID0gYXdhaXQgZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5nZXREYW1hZ2VMYWJlbCgpO1xuICAgICAgICBMYWJlbC5zZXRQYXJlbnQoR2FtZU1hbmFnZXIuaW5zdGFuY2Uubm9kZSk7XG4gICAgICAgIExhYmVsLnNldFBvc2l0aW9uKHBsYXllci54ICsgb2Zmc2V0WCwgcGxheWVyLnkgKyA4MCk7XG4gICAgICAgIExhYmVsLmdldENvbXBvbmVudChkYW1hZ2VMYWJlbCkuZGFtYWdlID0gYWRkTnVtO1xuICAgICAgICBMYWJlbC5nZXRDb21wb25lbnQoZGFtYWdlTGFiZWwpLmNvbG9yID0gY2MuQ29sb3IuR1JFRU47XG4gICAgICAgIExhYmVsLmFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOaYvuekuueOqeWutuWPl+S8pOWtl+S9k1xuICAgICAqIEBwYXJhbSBwbGF5ZXIgXG4gICAgICogQHBhcmFtIGRhbWdlIFxuICAgICAqIEBwYXJhbSBvZmZzZXRYIFxuICAgICAqL1xuICAgIGFzeW5jIHNob3dEYW1hZ2VMYWJlbF9wbGF5ZXIocGxheWVyOiBjYy5Ob2RlLCBkYW1nZTogbnVtYmVyLCBvZmZzZXRYOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IExhYmVsID0gYXdhaXQgZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5nZXREYW1hZ2VMYWJlbCgpO1xuICAgICAgICBMYWJlbC5zZXRQYXJlbnQoR2FtZU1hbmFnZXIuaW5zdGFuY2Uubm9kZSk7XG4gICAgICAgIExhYmVsLnNldFBvc2l0aW9uKHBsYXllci54ICsgb2Zmc2V0WCwgcGxheWVyLnkgKyAxMzApO1xuICAgICAgICBMYWJlbC5nZXRDb21wb25lbnQoZGFtYWdlTGFiZWwpLmRhbWFnZSA9IE1hdGguZmxvb3IoZGFtZ2UpO1xuICAgICAgICBMYWJlbC5nZXRDb21wb25lbnQoZGFtYWdlTGFiZWwpLmNvbG9yID0gY2MuQ29sb3IuUkVEOztcbiAgICAgICAgTGFiZWwuYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5pi+56S65oCq54mp5Y+X5Lyk5a2X5L2TXG4gICAgICogQHBhcmFtIGVuZW15IFxuICAgICAqIEBwYXJhbSBkYW1nZSBcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gXG4gICAgICovXG4gICAgYXN5bmMgc2hvd0RhbWFnZUxhYmVsX2VuZW15KGVuZW15OiBjYy5Ob2RlLCBkYW1nZTogbnVtYmVyLCBwb3NpdGlvbjogY2MuVmVjMikge1xuICAgICAgICB0aGlzLnNob3dEYW1hZ2VFZmZlY3QoZW5lbXksIHBvc2l0aW9uKTtcbiAgICAgICAgbGV0IExhYmVsID0gYXdhaXQgZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5nZXREYW1hZ2VMYWJlbCgpO1xuICAgICAgICBMYWJlbC5zZXRQYXJlbnQoR2FtZU1hbmFnZXIuaW5zdGFuY2Uubm9kZSk7XG4gICAgICAgIExhYmVsLnNldFBvc2l0aW9uKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkgKyA2MCk7XG4gICAgICAgIExhYmVsLmdldENvbXBvbmVudChkYW1hZ2VMYWJlbCkuZGFtYWdlID0gTWF0aC5mbG9vcihkYW1nZSk7XG4gICAgICAgIExhYmVsLmdldENvbXBvbmVudChkYW1hZ2VMYWJlbCkuY29sb3IgPSBjYy5Db2xvci5XSElURTs7XG4gICAgICAgIExhYmVsLmFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOeOqeWutuaUu+WHu+aViOaenFxuICAgICAqIEBwYXJhbSBlbmVteSBcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gXG4gICAgICovXG4gICAgYXN5bmMgc2hvd0RhbWFnZUVmZmVjdChlbmVteTogY2MuTm9kZSwgcG9zaXRpb246IGNjLlZlYzIpIHtcbiAgICAgICAgbGV0IGVmZmVjdCA9IGF3YWl0IGRhbWFnZVRpcFBvb2wuaW5zdGFuY2UuZ2V0RGFtYWdlRWZmZWN0KCk7XG4gICAgICAgIGVmZmVjdC5zZXRQYXJlbnQoR2FtZU1hbmFnZXIuaW5zdGFuY2Uubm9kZS5wYXJlbnQpO1xuICAgICAgICBlZmZlY3Quc2V0UG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICBlZmZlY3QuYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5oCq54mp5q275Lqh5pWI5p6cXG4gICAgICogQHBhcmFtIGVuZW15IOaAqueJqVxuICAgICAqIEBwYXJhbSBlZmZlY3ROYW1lIOaViOaenOmihOWItuS9k+WQjeWtl1xuICAgICAqIEBwYXJhbSBwb3NpdGlvbiDlnZDmoIdcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVFbmVteURpZUVmZmVjdChlbmVteTogY2MuTm9kZSwgZWZmZWN0TmFtZTogc3RyaW5nLCBwb3NpdGlvbikge1xuICAgICAgICBFdmVudHMuaW5zdGFuY2UuZHJvcENvaW4oZW5lbXkscG9zaXRpb24pO1xuICAgICAgICBFdmVudHMuaW5zdGFuY2UuZHJvcEJsb29kQm90dGxlKGVuZW15LHBvc2l0aW9uKTtcbiAgICAgICAgaWYgKGVmZmVjdE5hbWUgPT0gXCJcIikgcmV0dXJuO1xuICAgICAgICBsZXQgcHJlID0gYXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy9cIiArIGVmZmVjdE5hbWUpO1xuICAgICAgICBsZXQgZWZmZWN0ID0gY2FpamlUb29scy5jcmVhdGVOb2RlKHByZSwgZW5lbXkucGFyZW50LCBmYWxzZSk7XG4gICAgICAgIGVmZmVjdC5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIGVmZmVjdC5zZXRTaWJsaW5nSW5kZXgoZW5lbXkuZ2V0U2libGluZ0luZGV4KCkpO1xuICAgICAgICBlZmZlY3QuYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5pi+56S65aSN5rS75pe25Zue6KGA5pWI5p6cXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlQWRkSHBFZmZlY3RfcmV2aXZlKCkge1xuICAgICAgICBsZXQgcHJlZmFiID0gYXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy9oZWFsXCIpO1xuICAgICAgICBsZXQgZWZmZWN0ID0gY2FpamlUb29scy5jcmVhdGVOb2RlKHByZWZhYiwgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyKTtcbiAgICAgICAgZWZmZWN0LnNldFBvc2l0aW9uKDAsIC0zMCk7XG4gICAgICAgIGVmZmVjdC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICBpZihlZmZlY3QuaXNWYWxpZD09ZmFsc2UpIHJldHVybjtcbiAgICAgICAgICAgIGVmZmVjdC5kZXN0cm95KCk7XG4gICAgICAgIH0sIDIpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIOaYvuekuuaZrumAmuWbnuihgOaViOaenFxuICAgICovXG4gICAgYXN5bmMgY3JlYXRlQWRkSHBFZmZlY3Rfbm9ybWFsKCkge1xuICAgICAgICBsZXQgcHJlZmFiID0gYXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy9hZGRIcEVmZmVjdFwiKTtcbiAgICAgICAgbGV0IGVmZmVjdCA9IGNhaWppVG9vbHMuY3JlYXRlTm9kZShwcmVmYWIsIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllcik7XG4gICAgICAgIGVmZmVjdC5zZXRQb3NpdGlvbigwLCAtMzApO1xuICAgICAgICBlZmZlY3QuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgaWYoZWZmZWN0LmlzVmFsaWQ9PWZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICBlZmZlY3QuZGVzdHJveSgpO1xuICAgICAgICB9LCAyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5oCq54mp5omT5Ye7546p5a625pWI5p6cXG4gICAgICogQHBhcmFtIHBhcmVudCBcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gXG4gICAgICogQHBhcmFtIHNjYWxlWCBcbiAgICAgKi9cbiAgICBhc3luYyBzaG93RW5lbXlIaXRFZmZlY3QocGFyZW50OiBjYy5Ob2RlLCBwb3NpdGlvbjogY2MuVmVjMiwgc2NhbGVYOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IHJhbmRvbSA9IGNhaWppVG9vbHMucmFuZG9tX2ludCgxLCAyKTtcbiAgICAgICAgbGV0IHByZWZhYiA9IGF3YWl0IGNhaWppVG9vbHMubG9hZFByZWZhYihcInByZWZhYnMvZW5lbXlIaXRFZmZlY3RcIiArIHJhbmRvbSk7XG4gICAgICAgIGxldCBlZmZlY3QgPSBjYWlqaVRvb2xzLmNyZWF0ZU5vZGUocHJlZmFiLCBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIpO1xuICAgICAgICBlZmZlY3Quc2V0UGFyZW50KHBhcmVudCk7XG4gICAgICAgIGVmZmVjdC5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIGVmZmVjdC5zY2FsZVggPSBzY2FsZVg7XG4gICAgICAgIGVmZmVjdC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICBpZihlZmZlY3QuaXNWYWxpZD09ZmFsc2UpIHJldHVybjtcbiAgICAgICAgICAgIGVmZmVjdC5kZXN0cm95KCk7XG4gICAgICAgIH0sIDEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDnlJ/miJDnrq3vvIjmgKrnianvvIlcbiAgICAgKiBAcGFyYW0gZW5lbXkgXG4gICAgICogQHBhcmFtIHNwYXduUG9zaXRpb24gXG4gICAgICogQHBhcmFtIHBsYXllclBvc2l0aW9uIFxuICAgICAqIEBwYXJhbSBhbmdsZSBcbiAgICAgKiBAcGFyYW0gZGFtZ2UgXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlQXJyb3coZW5lbXk6IGNjLk5vZGUsIHNwYXduUG9zaXRpb246IGNjLlZlYzIsIHBsYXllclBvc2l0aW9uOiBjYy5WZWMyLCBhbmdsZTogbnVtYmVyLCBkYW1nZTogbnVtYmVyKSB7XG4gICAgICAgIGxldCBwcmVmYWIgPSBhd2FpdCBjYWlqaVRvb2xzLmxvYWRQcmVmYWIoXCJwcmVmYWJzL2Fycm93XCIpO1xuICAgICAgICBsZXQgbm9kZSA9IGNhaWppVG9vbHMuY3JlYXRlTm9kZShwcmVmYWIsIGVuZW15LnBhcmVudCk7XG4gICAgICAgIG5vZGUuZ2V0Q29tcG9uZW50KGFycm93KS5kYW1hZ2UgPSBkYW1nZTtcbiAgICAgICAgbm9kZS5nZXRDb21wb25lbnQoYXJyb3cpLmVuZW15ID0gZW5lbXk7XG4gICAgICAgIG5vZGUuZ2V0Q29tcG9uZW50KGFycm93KS5wbGF5ZXJQb3NpdGlvbiA9IHBsYXllclBvc2l0aW9uO1xuICAgICAgICBub2RlLnNldFNpYmxpbmdJbmRleChlbmVteS5nZXRTaWJsaW5nSW5kZXgoKSk7XG4gICAgICAgIG5vZGUuc2V0UG9zaXRpb24oc3Bhd25Qb3NpdGlvbik7XG4gICAgICAgIG5vZGUuYW5nbGUgPSBhbmdsZTtcbiAgICAgICAgbm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgICBzY3JlZW5TaGFrZSggcmVwZWF0OiBudW1iZXIgPSAxMCwgb2Zmc2V0WDogbnVtYmVyID0gMCwgb2Zmc2V0WTogbnVtYmVyID0gMjApe1xuICAgICAgICBjYy5Ud2Vlbi5zdG9wQWxsQnlUYXJnZXQoY2FtZXJhQ29udHJvbC5pbnN0YW5jZS5jYW1lcmFOb2RlKTtcbiAgICAgICAgY2FtZXJhQ29udHJvbC5pbnN0YW5jZS5ub2RlLnk9MDtcbiAgICAgICAgY2FpamlUb29scy5zY3JlZW5TaGFrZShjYW1lcmFDb250cm9sLmluc3RhbmNlLmNhbWVyYU5vZGUscmVwZWF0LG9mZnNldFgsb2Zmc2V0WSk7XG4gICAgfVxuICAgIGFzeW5jIHNob3dSZXZpdmVGeCh0YXJnZXQ6Y2MuTm9kZSl7XG4gICAgICAgIGxldCBwcmU9YXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy9meF9yZXZpdmVcIik7XG4gICAgICAgIGxldCBmeD1jYy5pbnN0YW50aWF0ZShwcmUpO1xuICAgICAgICBmeC5zZXRQYXJlbnQodGFyZ2V0LnBhcmVudCk7XG4gICAgICAgIGZ4LnNldFNpYmxpbmdJbmRleCh0YXJnZXQuZ2V0U2libGluZ0luZGV4KCkrMSk7XG4gICAgICAgIGZ4LnNldFBvc2l0aW9uKHRhcmdldC54LHRhcmdldC55LTIwKTtcbiAgICAgICAgZnguYWN0aXZlPXRydWU7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/FX_E10.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fccddo9GAxC/qpe35IrWLzW', 'FX_E10');
// scripts/game/FX_E10.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var FX_E10 = /** @class */ (function (_super) {
    __extends(FX_E10, _super);
    function FX_E10() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        return _this;
    }
    FX_E10.prototype.onLoad = function () {
        this.skeleton = this.node.children[1].getComponent(sp.Skeleton);
    };
    FX_E10.prototype.start = function () {
        for (var i = 0; i < 4; i++) {
            //@ts-ignore
            this.skeleton._skeleton.slots[i].color["a"] = 0;
        }
    };
    FX_E10 = __decorate([
        ccclass
    ], FX_E10);
    return FX_E10;
}(cc.Component));
exports.default = FX_E10;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRlhfRTEwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTVFLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQW9DLDBCQUFZO0lBQWhEO1FBQUEscUVBZUM7UUFiRyxjQUFRLEdBQWEsSUFBSSxDQUFDOztJQWE5QixDQUFDO0lBWEcsdUJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxRQUFRLEdBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBRUQsc0JBQUssR0FBTDtRQUNJLEtBQUksSUFBSSxDQUFDLEdBQUUsQ0FBQyxFQUFDLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUM7WUFDakIsWUFBWTtZQUNaLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1NBQ2pEO0lBQ0wsQ0FBQztJQWJnQixNQUFNO1FBRDFCLE9BQU87T0FDYSxNQUFNLENBZTFCO0lBQUQsYUFBQztDQWZELEFBZUMsQ0FmbUMsRUFBRSxDQUFDLFNBQVMsR0FlL0M7a0JBZm9CLE1BQU0iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGWF9FMTAgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgc2tlbGV0b246c3AuU2tlbGV0b249bnVsbDtcblxuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b249dGhpcy5ub2RlLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbik7XG4gICAgfVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICBmb3IobGV0IGkgPTA7aTw0O2krKyl7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMuc2tlbGV0b24uX3NrZWxldG9uLnNsb3RzW2ldLmNvbG9yW1wiYVwiXT0wO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/bigSquidController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ef252EcV+JEdJiKrqrwrsmr', 'bigSquidController');
// scripts/game/bigSquidController.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var ladyBugFx_1 = require("./ladyBugFx");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["attack"] = 0] = "attack";
})(damageCollider || (damageCollider = {}));
var bigSquidController = /** @class */ (function (_super) {
    __extends(bigSquidController, _super);
    function bigSquidController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.hpNode = null;
        _this.hpBar = null;
        _this.dieEffectName = "";
        _this.rushSpeed = 2000; //冲击速度
        _this.moveSpeed = 350; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 0.5; //ai间隔
        _this.stopDistance = 250; //停止距离
        _this.stopDistance_y = 200; //停止y轴移动距离（200-250）
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 0; //手里剑攻击作用力
        _this.beHitForce_x = 0; //普通攻击作用力
        _this.beHitForce_y_shuriken = 0; //普通攻击作用力
        _this.beHitForce_x_attack3 = 0; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isSuperArmor = false; //是否霸体
        _this.isMove = false; //是否处于移动状态
        _this.dmgCollider = null;
        _this.rushDirect = null;
        _this.rushDistance = 0;
        _this.rushStartPos = null;
        return _this;
    }
    bigSquidController.prototype.onLoad = function () {
        this.skeleton = this.node.children[1].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[1].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    bigSquidController.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
        /*         this.skeleton.skeletonData._skeletonCache.slots[8].color=cc.color(0,0,0,0);
                this.skeleton.skeletonData._skeletonCache.slots[8].darkColor=cc.color(0,0,0,0); */
    };
    bigSquidController.prototype.init = function () {
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        var x = GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(-cc.winSize.width / 1.3, cc.winSize.width / 1.3);
        var y = cc.winSize.height / 2 + caijiTools_1.caijiTools.random_int(30, 100);
        this.node.setPosition(x, y);
        this.AI_start();
    };
    bigSquidController.prototype.update = function () {
        this.checkRushEnd();
        if (this.isMove == false)
            return;
        var distance = this.getDistance();
        if (Math.abs(distance) < this.stopDistance) {
            this.rigibody.linearVelocity = cc.v2(0, 0);
            this.changeMovState(false);
            this.preAttack();
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.Atk)
                return;
            this.moveToPlayer();
        }
    };
    bigSquidController.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "ground") {
            if (this.enemyAnimation.state == animationState_1.enemyState.Die2) {
                this.rigibody.enabledContactListener = false;
                this.die_end();
            }
            else {
                this.rushEnd();
            }
        }
        else if (other.group == "wall") {
            contact.disabled = true;
        }
    };
    bigSquidController.prototype.checkRushEnd = function () {
        if (this.enemyAnimation.state == animationState_1.enemyState.Attack) {
            this.rigibody.linearVelocity = cc.v2(this.rushDirect.x * this.rushSpeed, this.rushDirect.y * this.rushSpeed);
            var moveDistance = this.node.position.sub(this.rushStartPos).len();
            if (moveDistance >= this.rushDistance) {
                this.rushEnd();
            }
        }
    };
    bigSquidController.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].getComponent(enemyHitCollider_1.default).enemyControl = this;
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    bigSquidController.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    bigSquidController.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    bigSquidController.prototype.AI_start = function () {
        var _this = this;
        this.changeDirection();
        this.stopDistance = caijiTools_1.caijiTools.random_int(250, 400);
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            return;
        }
        var distance = Math.abs(this.getDistance());
        if (distance < this.stopDistance + 100) {
            var x = this.skeleton.node.scaleX < 0 ?
                GameManager_1.default.instance.player.x - caijiTools_1.caijiTools.random_int(200, 400) :
                GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(200, 400);
            var y = GameManager_1.default.instance.player.y + caijiTools_1.caijiTools.random_int(150, 300);
            var distance_1 = cc.v3(x, y).sub(this.node.position).len();
            cc.tween(this.node)
                .to(distance_1 / 300, { position: cc.v3(x, y) })
                .call(function () {
                var distance = Math.abs(_this.getDistance());
                if (distance > 200 && distance <= 400) {
                    _this.preAttack();
                }
                else {
                    _this.idle();
                }
            })
                .start();
        }
        else {
            this.changeStopDistanceY();
            this.changeMovState(true);
        }
    };
    bigSquidController.prototype.AI_stop = function () {
        this.idle();
    };
    bigSquidController.prototype.changeStopDistanceY = function () {
        this.stopDistance_y = caijiTools_1.caijiTools.random_int(200, 350);
    };
    bigSquidController.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    bigSquidController.prototype.idle = function () {
        var _this = this;
        this.skeleton.node.angle = 0;
        this.changeMovState(false);
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.Idle, 1, true, true);
        this.scheduleOnce(function () {
            _this.AI_start();
        }, this.AI_interval);
    };
    bigSquidController.prototype.changeDirection = function () {
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x > this.node.x ? -this.scaleX_skeleton : this.scaleX_skeleton;
        //this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    bigSquidController.prototype.die = function () {
        if (this.isDie)
            return;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E25Die);
        this.node.children[0].active = false;
        this.unscheduleAllCallbacks();
        cc.Tween.stopAllByTarget(this.node);
        this.closeHighLight();
        this.isDie = true;
        this.hideHp();
        this.enemyAnimation.changeState(animationState_1.enemyState.Die1, 1, false);
        this.dieCount();
    };
    bigSquidController.prototype.die_middle = function () {
        this.rigibody.gravityScale = 5;
        this.rigibody.linearVelocity = cc.v2(0, -1000);
        this.enemyAnimation.changeState(animationState_1.enemyState.Die2, 1, false);
    };
    bigSquidController.prototype.die_end = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.Die3, 1, false, true);
    };
    bigSquidController.prototype.Destory = function () {
        this.node.destroy();
    };
    bigSquidController.prototype.getUp = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.get_up, 1, false, true);
    };
    bigSquidController.prototype.moveToPlayer = function () {
        this.changeDirection();
        var targetPosition = cc.v3(GameManager_1.default.instance.player.x, GameManager_1.default.instance.player.y + 55);
        var direct = targetPosition.sub(this.node.position).normalizeSelf();
        this.rigibody.linearVelocity = cc.v2(this.moveSpeed * direct.x, this.moveSpeed * direct.y);
    };
    bigSquidController.prototype.preAttack = function () {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E25Attack);
        var targetPosition = cc.v3(GameManager_1.default.instance.player.x, GameManager_1.default.instance.player.y + 55);
        this.changeDirection();
        this.rushDirect = targetPosition.sub(this.node.position).normalizeSelf();
        ;
        this.enemyAnimation.changeState(animationState_1.enemyState.Pre_Attack, 1, false, true);
    };
    bigSquidController.prototype.rush = function () {
        var _this = this;
        this.rushStartPos = this.node.position;
        this.rushDistance = this.getDistance() + 70;
        var angle = caijiTools_1.caijiTools.getAngleDependY(this.rushDirect.x, this.rushDirect.y);
        if (this.skeleton.node.scaleX > 0) {
            this.skeleton.node.angle = -angle - 90;
        }
        else {
            this.skeleton.node.angle = -angle + 90;
        }
        this.enemyAnimation.changeState(animationState_1.enemyState.Attack, 1, false, true);
        this.node.children[0].active = true;
        this.showDamageCollider(damageCollider.attack);
        this.scheduleOnce(function () {
            _this.node.children[0].getComponent(cc.MotionStreak).color = cc.color(255, 255, 255, 255);
        }, 0.05);
    };
    bigSquidController.prototype.rushEnd = function () {
        this.hideDamageCollider();
        this.node.children[0].active = false;
        this.node.children[0].getComponent(cc.MotionStreak).color = cc.color(255, 255, 255, 0);
        this.idle();
    };
    bigSquidController.prototype.hit = function () {
        this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(this.node, this.damage);
        this.hideDamageCollider();
    };
    bigSquidController.prototype.fire = function (trackEntry, event) {
        if (event.data.name == "Fire") {
            this.createFX();
        }
    };
    bigSquidController.prototype.createFX = function () {
        return __awaiter(this, void 0, void 0, function () {
            var x, y, prefab, effect;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        x = this.skeleton.node.scaleX > 0 ? this.node.x - 40 : this.node.x + 40;
                        y = this.node.y - 40;
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/ladyBugFX")];
                    case 1:
                        prefab = _a.sent();
                        effect = caijiTools_1.caijiTools.createNode(prefab, this.node.parent);
                        effect.setSiblingIndex(this.node.getSiblingIndex() + 1);
                        effect.setPosition(x, y);
                        effect.getComponent(ladyBugFx_1.default).isRightMove = this.skeleton.node.scaleX > 0 ? false : true;
                        effect.getComponent(ladyBugFx_1.default).damage = this.damage;
                        effect.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    bigSquidController.prototype.beHit = function (damage, dmgType) {
        if (this.isDie)
            return;
        this.changeMovState(false);
        this.setRigibodySpeed(0);
        // let isContinue = this.checkIsSwordRain(dmgType);//设置剑雨攻击间隔
        // if (isContinue == 0) return;
        this.highLight();
        this.showHp();
        this.changeState_beHit(dmgType);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
        this.updateHp(damage);
    };
    bigSquidController.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    bigSquidController.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.get_hurt2;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.knock_down;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.get_hurt1;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    bigSquidController.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    bigSquidController.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    bigSquidController.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    bigSquidController.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    bigSquidController.prototype.updateHp = function (damage) {
        this.hp -= damage;
        this.hpBar.progress = this.hp / this.hpMax;
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    bigSquidController.prototype.showHp = function () {
        this.unschedule(this.hideHp);
        this.hpNode.active = true;
        this.scheduleOnce(this.hideHp, 2);
    };
    bigSquidController.prototype.hideHp = function () {
        this.hpNode.active = false;
    };
    bigSquidController.prototype.highLight = function () {
        this.unschedule(this.closeHighLight);
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        this.scheduleOnce(this.closeHighLight, 0.15);
    };
    bigSquidController.prototype.closeHighLight = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    bigSquidController.prototype.getDistance = function () {
        return this.node.position.sub(GameManager_1.default.instance.player.position).len();
    };
    bigSquidController.prototype.getDistanceX = function () {
        return this.node.x - GameManager_1.default.instance.player.x;
    };
    bigSquidController.prototype.getDistanceY = function () {
        return Math.abs(this.node.y - GameManager_1.default.instance.player.y);
    };
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], bigSquidController.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], bigSquidController.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.Node)
    ], bigSquidController.prototype, "hpNode", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], bigSquidController.prototype, "hpBar", void 0);
    __decorate([
        property(cc.String)
    ], bigSquidController.prototype, "dieEffectName", void 0);
    bigSquidController = __decorate([
        ccclass
    ], bigSquidController);
    return bigSquidController;
}(enemyBase_1.default));
exports.default = bigSquidController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcYmlnU3F1aWRDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdEQUE0QztBQUM1Qyw0Q0FBMkM7QUFDM0MscURBQWdEO0FBQ2hELG1EQUEwRDtBQUMxRCxtREFBOEM7QUFDOUMseUNBQW9DO0FBQ3BDLHVEQUFrRDtBQUNsRCxtQ0FBOEI7QUFDOUIsNkNBQXdDO0FBQ3hDLHlDQUFvQztBQUU5QixJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUM1QyxJQUFLLGNBRUo7QUFGRCxXQUFLLGNBQWM7SUFDZix1REFBTSxDQUFBO0FBQ1YsQ0FBQyxFQUZJLGNBQWMsS0FBZCxjQUFjLFFBRWxCO0FBRUQ7SUFBZ0Qsc0NBQVM7SUFBekQ7UUFBQSxxRUE4V0M7UUEzV0csd0JBQWtCLEdBQVcsQ0FBQyxDQUFDO1FBRS9CLHdCQUFrQixHQUFXLENBQUMsQ0FBQztRQUUvQixZQUFNLEdBQVksSUFBSSxDQUFDO1FBRXZCLFdBQUssR0FBbUIsSUFBSSxDQUFDO1FBRTdCLG1CQUFhLEdBQVcsRUFBRSxDQUFDO1FBRTNCLGVBQVMsR0FBUSxJQUFJLENBQUMsQ0FBQSxNQUFNO1FBQzVCLGVBQVMsR0FBVyxHQUFHLENBQUMsQ0FBQSxNQUFNO1FBQzlCLGNBQVEsR0FBVyxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQzNCLGlCQUFXLEdBQVcsR0FBRyxDQUFDLENBQUEsTUFBTTtRQUNoQyxrQkFBWSxHQUFRLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDOUIsb0JBQWMsR0FBUSxHQUFHLENBQUMsQ0FBQSxtQkFBbUI7UUFDN0MsUUFBRSxHQUFXLENBQUMsQ0FBQztRQUNmLGFBQU8sR0FBUSxDQUFDLENBQUMsQ0FBQSxNQUFN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Q0ksT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFDRCx5Q0FBWSxHQUFaO1FBQ0ksT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBMVdEO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDO2tFQUNwQjtJQUUvQjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQztrRUFDcEI7SUFFL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztzREFDSztJQUV2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO3FEQUNJO0lBRTdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7NkRBQ087SUFYVixrQkFBa0I7UUFEdEMsT0FBTztPQUNhLGtCQUFrQixDQThXdEM7SUFBRCx5QkFBQztDQTlXRCxBQThXQyxDQTlXK0MsbUJBQVMsR0E4V3hEO2tCQTlXb0Isa0JBQWtCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IHsgYXR0YWNrVHlwZSwgZW5lbXlTdGF0ZSB9IGZyb20gXCIuL2FuaW1hdGlvblN0YXRlXCI7XG5pbXBvcnQgZW5lbXlBbmltYXRpb24gZnJvbSBcIi4vZW5lbXlBbmltYXRpb25cIjtcbmltcG9ydCBlbmVteUJhc2UgZnJvbSBcIi4vZW5lbXlCYXNlXCI7XG5pbXBvcnQgZW5lbXlIaXRDb2xsaWRlciBmcm9tIFwiLi9lbmVteUhpdENvbGxpZGVyXCI7XG5pbXBvcnQgRXZlbnRzIGZyb20gXCIuL0V2ZW50c1wiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XG5pbXBvcnQgbGFkeUJ1Z0Z4IGZyb20gXCIuL2xhZHlCdWdGeFwiO1xuXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xuZW51bSBkYW1hZ2VDb2xsaWRlcntcbiAgICBhdHRhY2tcbn1cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBiaWdTcXVpZENvbnRyb2xsZXIgZXh0ZW5kcyBlbmVteUJhc2Uge1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuRmxvYXQsIHRvb2x0aXA6IFwi5Lyk5a6z5pWI5p6ceOi9tOWBj+enu+WAvFwiIH0pXG4gICAgZGFtYWdlTGFiZWxPZmZzZXRYOiBudW1iZXIgPSAwO1xuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkZsb2F0LCB0b29sdGlwOiBcIuS8pOWus+aViOaenHnovbTlgY/np7vlgLxcIiB9KVxuICAgIGRhbWFnZUxhYmVsT2Zmc2V0WTogbnVtYmVyID0gMDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBocE5vZGU6IGNjLk5vZGUgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcbiAgICBocEJhcjogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5TdHJpbmcpXG4gICAgZGllRWZmZWN0TmFtZTogc3RyaW5nID0gXCJcIjtcblxuICAgIHJ1c2hTcGVlZDpudW1iZXI9MjAwMDsvL+WGsuWHu+mAn+W6plxuICAgIG1vdmVTcGVlZDogbnVtYmVyID0gMzUwOy8v56e75Yqo6YCf5bqmXG4gICAgbm93U3BlZWQ6IG51bWJlciA9IDA7Ly/lvZPliY3pgJ/luqZcbiAgICBBSV9pbnRlcnZhbDogbnVtYmVyID0gMC41Oy8vYWnpl7TpmpRcbiAgICBzdG9wRGlzdGFuY2U6bnVtYmVyPTI1MDsvL+WBnOatoui3neemu1xuICAgIHN0b3BEaXN0YW5jZV95Om51bWJlcj0yMDA7Ly/lgZzmraJ56L2056e75Yqo6Led56a777yIMjAwLTI1MO+8iVxuICAgIGhwOiBudW1iZXIgPSAwO1xuICAgIGhwVGltZXM6bnVtYmVyPTE7Ly/ooYDph4/lgI3mlbBcbiAgICBiZUhpdEZvcmNlX3k6IG51bWJlciA9IDA7Ly/miYvph4zliZHmlLvlh7vkvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3g6IG51bWJlciA9IDAvL+aZrumAmuaUu+WHu+S9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeV9zaHVyaWtlbjogbnVtYmVyID0gMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94X2F0dGFjazM6IG51bWJlciA9IDA7Ly/ooqvlh7vpo57kvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3lfYXR0YWNrMzogbnVtYmVyID0gMDsvL+iiq+WHu+mjnuS9nOeUqOWKm1xuICAgIHNjYWxlWF9za2VsZXRvbjogbnVtYmVyID0gMDtcbiAgICBpc0RpZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHNrZWxldG9uOiBzcC5Ta2VsZXRvbiA9IG51bGw7XG4gICAgZW5lbXlBbmltYXRpb246IGVuZW15QW5pbWF0aW9uID0gbnVsbDtcbiAgICByaWdpYm9keTogY2MuUmlnaWRCb2R5ID0gbnVsbDtcbiAgICBib3hDb2xsaWRlcjogY2MuUGh5c2ljc0JveENvbGxpZGVyID0gbnVsbDtcbiAgICBpc1N3b3JkUmFpbkNkOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNTdXBlckFybW9yOiBib29sZWFuID0gZmFsc2U7Ly/mmK/lkKbpnLjkvZNcbiAgICBpc01vdmU6IGJvb2xlYW4gPSBmYWxzZTsvL+aYr+WQpuWkhOS6juenu+WKqOeKtuaAgVxuICAgIGRtZ0NvbGxpZGVyOmRhbWFnZUNvbGxpZGVyPW51bGw7XG4gICAgcnVzaERpcmVjdDpjYy5WZWMzPW51bGw7XG4gICAgcnVzaERpc3RhbmNlOm51bWJlcj0wO1xuICAgIHJ1c2hTdGFydFBvczpjYy5WZWMzPW51bGw7XG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24gPSB0aGlzLm5vZGUuY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcbiAgICAgICAgdGhpcy5zY2FsZVhfc2tlbGV0b24gPSBNYXRoLmFicyh0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbiA9IHRoaXMubm9kZS5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoZW5lbXlBbmltYXRpb24pO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmVuZW15Q29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgIHRoaXMucmlnaWJvZHkgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlJpZ2lkQm9keSk7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlBoeXNpY3NCb3hDb2xsaWRlcik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5za2VsZXRvbi5za2VsZXRvbkRhdGEuX3NrZWxldG9uQ2FjaGUuYW5pbWF0aW9ucyk7XG4vKiAgICAgICAgIHRoaXMuc2tlbGV0b24uc2tlbGV0b25EYXRhLl9za2VsZXRvbkNhY2hlLnNsb3RzWzhdLmNvbG9yPWNjLmNvbG9yKDAsMCwwLDApO1xuICAgICAgICB0aGlzLnNrZWxldG9uLnNrZWxldG9uRGF0YS5fc2tlbGV0b25DYWNoZS5zbG90c1s4XS5kYXJrQ29sb3I9Y2MuY29sb3IoMCwwLDAsMCk7ICovXG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICAgICAgdGhpcy5ocCA9IHRoaXMuaHBNYXgqdGhpcy5ocFRpbWVzO1xuICAgICAgICBsZXQgeD1HYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCtjYWlqaVRvb2xzLnJhbmRvbV9pbnQoLWNjLndpblNpemUud2lkdGgvMS4zLGNjLndpblNpemUud2lkdGgvMS4zKTtcbiAgICAgICAgbGV0IHk9Y2Mud2luU2l6ZS5oZWlnaHQvMitjYWlqaVRvb2xzLnJhbmRvbV9pbnQoMzAsMTAwKTtcbiAgICAgICAgdGhpcy5ub2RlLnNldFBvc2l0aW9uKHgseSk7XG4gICAgICAgIHRoaXMuQUlfc3RhcnQoKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmNoZWNrUnVzaEVuZCgpO1xuICAgICAgICBpZiAodGhpcy5pc01vdmUgPT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gdGhpcy5nZXREaXN0YW5jZSgpO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGlzdGFuY2UpIDwgdGhpcy5zdG9wRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHk9Y2MudjIoMCwwKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5wcmVBdHRhY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGU9PWVuZW15U3RhdGUuQXRrKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLm1vdmVUb1BsYXllcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQmVnaW5Db250YWN0KGNvbnRhY3Q6IGNjLlBoeXNpY3NDb250YWN0LCBzZWxmQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlciwgb3RoZXJDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGxldCBvdGhlciA9IG90aGVyQ29sbGlkZXIubm9kZTtcbiAgICAgICAgLy8gbGV0IHdvcmxkTWFuaWZvbGQgPSBjb250YWN0LmdldFdvcmxkTWFuaWZvbGQoKTtcbiAgICAgICAgLy8gbGV0IG5vcm1hbCA9IHdvcmxkTWFuaWZvbGQubm9ybWFsO1xuICAgICAgICBpZiAob3RoZXIuZ3JvdXAgPT0gXCJncm91bmRcIikge1xuICAgICAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZT09ZW5lbXlTdGF0ZS5EaWUyKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2lib2R5LmVuYWJsZWRDb250YWN0TGlzdGVuZXI9ZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5kaWVfZW5kKCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1c2hFbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2UgaWYob3RoZXIuZ3JvdXA9PVwid2FsbFwiKXtcbiAgICAgICAgICAgIGNvbnRhY3QuZGlzYWJsZWQ9dHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaGVja1J1c2hFbmQoKXtcbiAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZT09ZW5lbXlTdGF0ZS5BdHRhY2spe1xuICAgICAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52Mih0aGlzLnJ1c2hEaXJlY3QueCp0aGlzLnJ1c2hTcGVlZCx0aGlzLnJ1c2hEaXJlY3QueSp0aGlzLnJ1c2hTcGVlZCk7XG4gICAgICAgICAgICBsZXQgbW92ZURpc3RhbmNlPXRoaXMubm9kZS5wb3NpdGlvbi5zdWIodGhpcy5ydXNoU3RhcnRQb3MpLmxlbigpO1xuICAgICAgICAgICAgaWYobW92ZURpc3RhbmNlPj10aGlzLnJ1c2hEaXN0YW5jZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5ydXNoRW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd0RhbWFnZUNvbGxpZGVyKGNvbGxpZGVyOmRhbWFnZUNvbGxpZGVyKXtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW2NvbGxpZGVyXS5nZXRDb21wb25lbnQoZW5lbXlIaXRDb2xsaWRlcikuZW5lbXlDb250cm9sPXRoaXM7XG4gICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5jaGlsZHJlbltjb2xsaWRlcl0uYWN0aXZlPXRydWU7XG4gICAgICAgIHRoaXMuZG1nQ29sbGlkZXI9Y29sbGlkZXI7XG4gICAgfVxuICAgIGdldERhbWFnZUNvbGxpZGVyKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bdGhpcy5kbWdDb2xsaWRlcl07XG4gICAgfVxuICAgIGhpZGVEYW1hZ2VDb2xsaWRlcigpe1xuICAgICAgICBpZih0aGlzLmRtZ0NvbGxpZGVyPT1udWxsKSByZXR1cm47XG4gICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5jaGlsZHJlblt0aGlzLmRtZ0NvbGxpZGVyXS5hY3RpdmU9ZmFsc2U7XG4gICAgICAgIHRoaXMuZG1nQ29sbGlkZXI9bnVsbDtcbiAgICB9XG4gICAgQUlfc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuc3RvcERpc3RhbmNlPWNhaWppVG9vbHMucmFuZG9tX2ludCgyNTAsNDAwKTtcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5pc0RpZSl7XG4gICAgICAgICAgICAvL+eOqeWutuW3suatuyDlgZzmraLnp7vliqhcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5BSV9zdGFydCgpO1xuICAgICAgICAgICAgfSwxKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLmFicyh0aGlzLmdldERpc3RhbmNlKCkpO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLnN0b3BEaXN0YW5jZSsxMDApIHtcbiAgICAgICAgICAgIGxldCB4PXRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVg8MD9cbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54LWNhaWppVG9vbHMucmFuZG9tX2ludCgyMDAsNDAwKTpcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54K2NhaWppVG9vbHMucmFuZG9tX2ludCgyMDAsNDAwKTtcbiAgICAgICAgICAgIGxldCB5PUdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci55K2NhaWppVG9vbHMucmFuZG9tX2ludCgxNTAsMzAwKTtcbiAgICAgICAgICAgIGxldCBkaXN0YW5jZT1jYy52Myh4LHkpLnN1Yih0aGlzLm5vZGUucG9zaXRpb24pLmxlbigpO1xuICAgICAgICAgICAgY2MudHdlZW4odGhpcy5ub2RlKVxuICAgICAgICAgICAgLnRvKGRpc3RhbmNlLzMwMCx7cG9zaXRpb246Y2MudjMoeCx5KX0pXG4gICAgICAgICAgICAuY2FsbCgoKT0+e1xuICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguYWJzKHRoaXMuZ2V0RGlzdGFuY2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlID4gMjAwICYmIGRpc3RhbmNlPD00MDApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZUF0dGFjaygpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0b3BEaXN0YW5jZVkoKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQUlfc3RvcCgpIHtcbiAgICAgICAgdGhpcy5pZGxlKCk7XG4gICAgfVxuICAgIGNoYW5nZVN0b3BEaXN0YW5jZVkoKXtcbiAgICAgICAgdGhpcy5zdG9wRGlzdGFuY2VfeT1jYWlqaVRvb2xzLnJhbmRvbV9pbnQoMjAwLDM1MCk7XG4gICAgfVxuICAgIGNoYW5nZU1vdlN0YXRlKGlzTW92ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzTW92ZSA9IGlzTW92ZTtcbiAgICB9XG4gICAgaWRsZSgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmFuZ2xlPTA7XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoMCk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwLDApO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuSWRsZSwgMSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuQUlfc3RhcnQoKTtcbiAgICAgICAgfSwgdGhpcy5BSV9pbnRlcnZhbCk7XG4gICAgfVxuICAgIGNoYW5nZURpcmVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5zY2FsZVhfc2tlbGV0b24gOiB0aGlzLnNjYWxlWF9za2VsZXRvbjtcbiAgICAgICAgLy90aGlzLmhwTm9kZS54ID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtMjggOiAyODtcbiAgICB9XG4gICAgZGllKCkge1xuICAgICAgICBpZih0aGlzLmlzRGllKSByZXR1cm47XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUyNURpZSk7XG4gICAgICAgIHRoaXMubm9kZS5jaGlsZHJlblswXS5hY3RpdmU9ZmFsc2U7XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZUFsbENhbGxiYWNrcygpO1xuICAgICAgICBjYy5Ud2Vlbi5zdG9wQWxsQnlUYXJnZXQodGhpcy5ub2RlKTtcbiAgICAgICAgdGhpcy5jbG9zZUhpZ2hMaWdodCgpO1xuICAgICAgICB0aGlzLmlzRGllID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oaWRlSHAoKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLkRpZTEsMSxmYWxzZSk7XG4gICAgICAgIHRoaXMuZGllQ291bnQoKTtcbiAgICB9XG4gICAgZGllX21pZGRsZSgpe1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmdyYXZpdHlTY2FsZT01O1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5PWNjLnYyKDAsLTEwMDApO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuRGllMiwxLGZhbHNlKTtcbiAgICB9XG4gICAgZGllX2VuZCgpe1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuRGllMywxLGZhbHNlLHRydWUpO1xuICAgIH1cbiAgICBEZXN0b3J5KCl7XG4gICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldFVwKCkge1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuZ2V0X3VwLCAxLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuICAgIG1vdmVUb1BsYXllcigpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgbGV0IHRhcmdldFBvc2l0aW9uPWNjLnYzKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54LEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci55KzU1KTtcbiAgICAgICAgbGV0IGRpcmVjdD10YXJnZXRQb3NpdGlvbi5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKS5ub3JtYWxpemVTZWxmKCk7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHk9Y2MudjIodGhpcy5tb3ZlU3BlZWQqZGlyZWN0LngsdGhpcy5tb3ZlU3BlZWQqZGlyZWN0LnkpO1xuICAgIH1cbiAgICBwcmVBdHRhY2soKXtcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuRTI1QXR0YWNrKTtcbiAgICAgICAgbGV0IHRhcmdldFBvc2l0aW9uPWNjLnYzKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54LEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci55KzU1KTtcbiAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5ydXNoRGlyZWN0PXRhcmdldFBvc2l0aW9uLnN1Yih0aGlzLm5vZGUucG9zaXRpb24pLm5vcm1hbGl6ZVNlbGYoKTs7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5QcmVfQXR0YWNrLCAxLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHJ1c2goKXtcbiAgICAgICAgdGhpcy5ydXNoU3RhcnRQb3M9dGhpcy5ub2RlLnBvc2l0aW9uO1xuICAgICAgICB0aGlzLnJ1c2hEaXN0YW5jZT10aGlzLmdldERpc3RhbmNlKCkrNzA7XG4gICAgICAgIGxldCBhbmdsZT1jYWlqaVRvb2xzLmdldEFuZ2xlRGVwZW5kWSh0aGlzLnJ1c2hEaXJlY3QueCx0aGlzLnJ1c2hEaXJlY3QueSk7XG4gICAgICAgIGlmKHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVg+MCl7XG4gICAgICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuYW5nbGU9LWFuZ2xlLTkwO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5hbmdsZT0tYW5nbGUrOTA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLkF0dGFjaywgMSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uYWN0aXZlPXRydWU7XG4gICAgICAgIHRoaXMuc2hvd0RhbWFnZUNvbGxpZGVyKGRhbWFnZUNvbGxpZGVyLmF0dGFjayk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgIHRoaXMubm9kZS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuTW90aW9uU3RyZWFrKS5jb2xvcj1jYy5jb2xvcigyNTUsMjU1LDI1NSwyNTUpO1xuICAgICAgICB9LDAuMDUpO1xuICAgIH1cbiAgICBydXNoRW5kKCl7XG4gICAgICAgIHRoaXMuaGlkZURhbWFnZUNvbGxpZGVyKCk7XG4gICAgICAgIHRoaXMubm9kZS5jaGlsZHJlblswXS5hY3RpdmU9ZmFsc2U7XG4gICAgICAgIHRoaXMubm9kZS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuTW90aW9uU3RyZWFrKS5jb2xvcj1jYy5jb2xvcigyNTUsMjU1LDI1NSwwKTtcbiAgICAgICAgdGhpcy5pZGxlKCk7XG4gICAgfVxuICAgIGhpdCgpIHtcbiAgICAgICAgdGhpcy5nZXREYW1hZ2VDb2xsaWRlcigpLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5oaXQodGhpcy5ub2RlLHRoaXMuZGFtYWdlKTtcbiAgICAgICAgdGhpcy5oaWRlRGFtYWdlQ29sbGlkZXIoKTtcbiAgICB9XG4gICAgZmlyZSh0cmFja0VudHJ5LGV2ZW50KXtcbiAgICAgICAgaWYoZXZlbnQuZGF0YS5uYW1lPT1cIkZpcmVcIil7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZYKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlRlgoKXtcbiAgICAgICAgbGV0IHg9dGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWD4wP3RoaXMubm9kZS54LTQwOnRoaXMubm9kZS54KzQwO1xuICAgICAgICBsZXQgeT10aGlzLm5vZGUueS00MDtcbiAgICAgICAgbGV0IHByZWZhYj1hd2FpdCBjYWlqaVRvb2xzLmxvYWRQcmVmYWIoXCJwcmVmYWJzL2xhZHlCdWdGWFwiKTtcbiAgICAgICAgbGV0IGVmZmVjdD1jYWlqaVRvb2xzLmNyZWF0ZU5vZGUocHJlZmFiLHRoaXMubm9kZS5wYXJlbnQpO1xuICAgICAgICBlZmZlY3Quc2V0U2libGluZ0luZGV4KHRoaXMubm9kZS5nZXRTaWJsaW5nSW5kZXgoKSsxKTtcbiAgICAgICAgZWZmZWN0LnNldFBvc2l0aW9uKHgseSk7XG4gICAgICAgIGVmZmVjdC5nZXRDb21wb25lbnQobGFkeUJ1Z0Z4KS5pc1JpZ2h0TW92ZT10aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYPjA/ZmFsc2U6dHJ1ZTtcbiAgICAgICAgZWZmZWN0LmdldENvbXBvbmVudChsYWR5QnVnRngpLmRhbWFnZT10aGlzLmRhbWFnZTtcbiAgICAgICAgZWZmZWN0LmFjdGl2ZT10cnVlO1xuICAgIH1cbiAgICBiZUhpdChkYW1hZ2U6IG51bWJlciwgZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICBpZih0aGlzLmlzRGllKSByZXR1cm47XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCk7XG4gICAgICAgIC8vIGxldCBpc0NvbnRpbnVlID0gdGhpcy5jaGVja0lzU3dvcmRSYWluKGRtZ1R5cGUpOy8v6K6+572u5YmR6Zuo5pS75Ye76Ze06ZqUXG4gICAgICAgIC8vIGlmIChpc0NvbnRpbnVlID09IDApIHJldHVybjtcbiAgICAgICAgdGhpcy5oaWdoTGlnaHQoKTtcbiAgICAgICAgdGhpcy5zaG93SHAoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZV9iZUhpdChkbWdUeXBlKTtcbiAgICAgICAgbGV0IHggPSB0aGlzLm5vZGUuc2NhbGVYIDwgMCA/IHRoaXMubm9kZS54ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFggOiB0aGlzLm5vZGUueCAtIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRYO1xuICAgICAgICBsZXQgeSA9IHRoaXMubm9kZS55ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFk7XG4gICAgICAgIEV2ZW50cy5pbnN0YW5jZS5zaG93RGFtYWdlTGFiZWxfZW5lbXkodGhpcy5ub2RlLCBkYW1hZ2UsIGNjLnYyKHgsIHkpKTtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgRXZlbnRzLmluc3RhbmNlLmNyZWF0ZUVuZW15RGllRWZmZWN0KHRoaXMubm9kZSwgdGhpcy5kaWVFZmZlY3ROYW1lLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVIcChkYW1hZ2UpO1xuICAgIH1cbiAgICBzZXRSaWdpYm9keVNwZWVkKHg6bnVtYmVyLHk6bnVtYmVyPTApe1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5PWNjLnYyKHgseSk7XG4gICAgfVxuICAgIGNoYW5nZVN0YXRlX2JlSGl0KGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYodGhpcy5pc1N1cGVyQXJtb3IpIHJldHVybjtcbiAgICAgICAgbGV0IHN0YXRlID0gbnVsbDtcbiAgICAgICAgbGV0IGlzS25vY2tEb3duID0gZG1nVHlwZSA9PSBhdHRhY2tUeXBlLmF0dGFjazMgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoZG1nVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazE6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MjtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsIDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2szOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZygwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZyg1KTtcbiAgICAgICAgICAgICAgICB9LCAwLjQpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5rbm9ja19kb3duO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGUueCA8IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ICYmIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tlbGV0b24ubm9kZS5zY2FsZVggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MigtdGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ub2RlLnggPiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAmJiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIodGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5qdW1wSGl0OlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLnNodXJpa2VuOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iZUhpdEZvcmNlX3lfc2h1cmlrZW4pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5zd29yZFJhaW46XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShzdGF0ZSwgMSwgZmFsc2UsIGlzS25vY2tEb3duKTtcbiAgICB9XG4gICAgc2V0TGluZWFyRGFtcGluZyhkYW1waW5nOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJEYW1waW5nID0gZGFtcGluZztcbiAgICB9XG4gICAgc2V0RnJpY3Rpb24oZnJpY3Rpb246IG51bWJlciA9IDApIHtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5mcmljdGlvbiA9IGZyaWN0aW9uO1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmFwcGx5KCk7XG4gICAgfVxuICAgIGFwcGx5Rm9yY2UoZm9yY2U6IGNjLlZlYzIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBlckFybW9yKSByZXR1cm47XG4gICAgICAgIHRoaXMucmlnaWJvZHkuYXBwbHlGb3JjZVRvQ2VudGVyKGZvcmNlLCB0cnVlKTtcbiAgICB9XG4gICAgY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIGlmIChkbWdUeXBlID09IGF0dGFja1R5cGUuc3dvcmRSYWluKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1N3b3JkUmFpbkNkKSByZXR1cm4gMDtcbiAgICAgICAgICAgIHRoaXMuaXNTd29yZFJhaW5DZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1N3b3JkUmFpbkNkID0gZmFsc2U7XG4gICAgICAgICAgICB9LCB0aGlzLnN3b3JkUmFpbkhpdENkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgdXBkYXRlSHAoZGFtYWdlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ocCAtPSBkYW1hZ2U7XG4gICAgICAgIHRoaXMuaHBCYXIucHJvZ3Jlc3MgPSB0aGlzLmhwIC8gdGhpcy5ocE1heDtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5ocCA9IDA7XG4gICAgICAgICAgICB0aGlzLmRpZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNob3dIcCgpIHtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuaGlkZUhwKTtcbiAgICAgICAgdGhpcy5ocE5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5oaWRlSHAsMik7XG4gICAgfVxuICAgIGhpZGVIcCgpIHtcbiAgICAgICAgdGhpcy5ocE5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICAgIGhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuY2xvc2VIaWdoTGlnaHQpO1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMSk7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJoaWdoTGlnaHRDb2xvclwiLCBbMS4wLDEuMCwxLjAsMC41XSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuY2xvc2VIaWdoTGlnaHQsIDAuMTUpO1xuICAgIH1cbiAgICBjbG9zZUhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImJlSGl0XCIsIDApO1xuICAgIH1cbiAgICBnZXREaXN0YW5jZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLnBvc2l0aW9uLnN1YihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIucG9zaXRpb24pLmxlbigpO1xuICAgIH1cbiAgICBnZXREaXN0YW5jZVgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUueCAtIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54O1xuICAgIH1cbiAgICBnZXREaXN0YW5jZVkoKXtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMubm9kZS55LUdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci55KTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/enemyAnimation.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1931dRGmupPKK6G9f0Yp5yl', 'enemyAnimation');
// scripts/game/enemyAnimation.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var animationState_1 = require("./animationState");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var enemyAnimation = /** @class */ (function (_super) {
    __extends(enemyAnimation, _super);
    function enemyAnimation() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.enemyName = "";
        _this.state = animationState_1.enemyState.idle;
        _this.skeleton = null;
        _this.enemyController = null;
        //无法变更状态（只可强行改变）
        _this.lockState = [
            animationState_1.enemyState.knock_down,
            animationState_1.enemyState.knock_down1,
            animationState_1.enemyState.knock_down2,
            animationState_1.enemyState.get_up,
            animationState_1.enemyState.Get_up,
            animationState_1.enemyState["Get-up"],
            animationState_1.enemyState["Knock-up-start"],
            animationState_1.enemyState["Knock-up-loop"],
            animationState_1.enemyState["Knock-up-end"],
            animationState_1.enemyState.Knock_up1,
            animationState_1.enemyState.Knock_up2,
            animationState_1.enemyState.Knock_up3
        ];
        return _this;
    }
    enemyAnimation.prototype.onLoad = function () {
        this.skeleton = this.node.getComponent(sp.Skeleton);
        this.enemyName = this.enemyController.node.name;
    };
    enemyAnimation.prototype.start = function () {
        //this.debugAnimationName();
        this["setAnimationCompleteEvent_" + this.enemyController.node.name]();
    };
    enemyAnimation.prototype.changeState = function (state, timeScale, isLoop, isCompelChange, isMix) {
        if (isLoop === void 0) { isLoop = false; }
        if (isCompelChange === void 0) { isCompelChange = false; }
        if (isMix === void 0) { isMix = false; }
        if (this.lockState.includes(animationState_1.enemyState[this.skeleton.animation]) && isCompelChange == false)
            return;
        this.state = state;
        if (this.state != animationState_1.enemyState.attack && this.state != animationState_1.enemyState.Atk) {
            this.enemyController.hideDamageCollider();
        }
        this.playAnimation(this.getAnimationName(state), timeScale, isLoop, isMix);
    };
    enemyAnimation.prototype.playAnimation = function (animationName, timeScale, isLoop, isMix) {
        if (isLoop === void 0) { isLoop = false; }
        if (isMix === void 0) { isMix = false; }
        if (this.skeleton.findAnimation(animationName) == null) {
            return;
        }
        if (isMix) {
            this.skeleton.setMix(this.skeleton.animation, animationName, 0.1);
        }
        var tarckEntry = this.skeleton.setAnimation(0, animationName, isLoop);
        this.skeleton.timeScale = timeScale;
        this.setTrackEntryEnvet(tarckEntry, animationName);
    };
    enemyAnimation.prototype.getAnimationName = function (state) {
        return animationState_1.enemyState[state];
    };
    enemyAnimation.prototype.debugAnimationName = function () {
        //@ts-ignore
        for (var _i = 0, _a = this.skeleton.skeletonData._skeletonCache.animations; _i < _a.length; _i++) {
            var animation = _a[_i];
            console.log(animation.name);
        }
    };
    //设置帧事件
    enemyAnimation.prototype.setTrackEntryEnvet = function (trackEntry, animationName) {
        if (animationState_1.frameEvent_enemy[this.enemyName][animationName] == undefined)
            return;
        this.skeleton.setTrackEventListener(trackEntry, this.enemyController[animationState_1.frameEvent_enemy[this.enemyName][animationName]].bind(this.enemyController));
    };
    //----------------------以下为绑定动画播放完成监听事件---------------------
    enemyAnimation.prototype.setAnimationCompleteEvent_enemy1 = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.get_hurt1:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.get_hurt2:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.knock_down:
                    _this.enemyController.getUp();
                    break;
                case animationState_1.enemyState.get_up:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.attack:
                    _this.enemyController.idle();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_enemy2 = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.get_hurt1:
                    _this.enemyController.idle(false);
                    break;
                case animationState_1.enemyState.get_hurt2:
                    _this.enemyController.idle(false);
                    break;
                case animationState_1.enemyState.knock_down1:
                    _this.enemyController.knockDown2();
                    break;
                case animationState_1.enemyState.knock_down2:
                    _this.enemyController.getUp();
                    break;
                case animationState_1.enemyState.get_up:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.attack:
                    _this.enemyController.idle();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_ladyBug = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.Atk:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.Behit:
                    //this.enemyController.idle();
                    break;
                case animationState_1.enemyState["Die-start"]:
                    _this.enemyController.die_middle();
                    break;
                case animationState_1.enemyState.Die_end:
                    _this.enemyController.Destory();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_enemy29 = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.Atk:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.Hit:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState["Knock-up-start"]:
                    _this.enemyController.knockDownLoop();
                    break;
                case animationState_1.enemyState["Knock-up-loop"]:
                    _this.enemyController.knockDownEnd();
                    break;
                case animationState_1.enemyState["Knock-up-end"]:
                    _this.enemyController.getUp();
                    break;
                case animationState_1.enemyState["Get-up"]:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.Die:
                    _this.enemyController.head_middle();
                    break;
                case animationState_1.enemyState["Head-end"]:
                    _this.enemyController.Destroy();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_enemy10 = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.attack:
                    _this.enemyController.hitComplete();
                    break;
                case animationState_1.enemyState.skill2_start:
                    _this.enemyController.skill2Middle();
                    break;
                case animationState_1.enemyState.skill2_end:
                    _this.enemyController.skill2EndComplete();
                    break;
                case animationState_1.enemyState.skill1:
                    _this.enemyController.idle();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_bigSquid = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.Pre_Attack:
                    _this.enemyController.rush();
                    break;
                case animationState_1.enemyState.Die1:
                    _this.enemyController.die_middle();
                    break;
                case animationState_1.enemyState.Die3:
                    _this.enemyController.Destory();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_enemy39 = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.Born:
                    _this.enemyController.bornComplete();
                    break;
                case animationState_1.enemyState.Idle:
                    _this.enemyController.idleComplete();
                    break;
                case animationState_1.enemyState.Idle2:
                    _this.enemyController.idleComplete();
                    break;
                case animationState_1.enemyState.Idle3:
                    _this.enemyController.idleComplete();
                    break;
                case animationState_1.enemyState.Jump_Back:
                    _this.enemyController.attackComplete();
                    break;
                case animationState_1.enemyState.Jump_FWD:
                    _this.enemyController.attackComplete();
                    break;
                case animationState_1.enemyState.Scratch:
                    _this.enemyController.attackComplete();
                    break;
                case animationState_1.enemyState.Above1:
                    _this.enemyController.above1Complete();
                    break;
                case animationState_1.enemyState.Above2:
                    _this.enemyController.above2Complete();
                    break;
                case animationState_1.enemyState.Die3:
                    _this.enemyController.Destory();
                    break;
                case animationState_1.enemyState.Staggered:
                    _this.enemyController.StaggeredReset();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_spiderling = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.Fall:
                    _this.enemyController.born();
                    break;
                case animationState_1.enemyState.Born:
                    _this.enemyController.bornComplete();
                    break;
                case animationState_1.enemyState.Knock_up1:
                    _this.enemyController.Knock_up2();
                    break;
                case animationState_1.enemyState.Knock_up2:
                    _this.enemyController.Knock_up3();
                    break;
                case animationState_1.enemyState.Knock_up3:
                    _this.enemyController.getUp();
                    break;
                case animationState_1.enemyState.Get_Hit:
                    if (_this.state != animationState_1.enemyState.Get_Hit)
                        return;
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.Get_up:
                    _this.enemyController.idle();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_shader = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.Atk:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState["Skill-Start"]:
                    _this.enemyController.closeCollider();
                    break;
                case animationState_1.enemyState["Skill-Middle"]:
                    _this.enemyController.closeCollider();
                    break;
                case animationState_1.enemyState["Skill-End"]:
                    _this.enemyController.idle();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_enemy20 = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.get_hurt1:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.get_hurt2:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.knock_down1:
                    _this.enemyController.knockDown2();
                    break;
                case animationState_1.enemyState.get_up:
                    _this.enemyController.idle();
                    _this.scheduleOnce(function () {
                        if (_this.state != animationState_1.enemyState.idle)
                            return;
                        _this.enemyController.skill_start();
                    }, 0.5);
                    break;
                case animationState_1.enemyState.fire_pillar:
                    _this.enemyController.skill_middle();
                    break;
                case animationState_1.enemyState.fire_pillar3:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.teleport:
                    _this.enemyController.idle();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_enemy18 = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.Atk:
                    _this.enemyController.idle();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_miniBoss = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.appear:
                    _this.enemyController.appearFinished();
                    break;
                case animationState_1.enemyState.blink_start:
                    _this.enemyController.binkStartCompelete();
                    break;
                case animationState_1.enemyState.blink_end:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.storm_burst:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.thunder_jolt:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.lighting_chase_start:
                    _this.enemyController.lighting_chase_middle();
                    break;
                case animationState_1.enemyState.lighting_chase_end:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.call_of_lighting:
                    _this.enemyController.idle();
                    break;
                case animationState_1.enemyState.laugh:
                    _this.enemyController.idle();
                    break;
            }
        });
    };
    enemyAnimation.prototype.setAnimationCompleteEvent_miniBossFlag = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.enemyState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.enemyState.appear:
                    _this.enemyController.appearFinished();
                    break;
                case animationState_1.enemyState.die:
                    _this.enemyController.dieEnd();
                    break;
            }
        });
    };
    enemyAnimation = __decorate([
        ccclass
    ], enemyAnimation);
    return enemyAnimation;
}(cc.Component));
exports.default = enemyAnimation;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcZW5lbXlBbmltYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsbURBQWdFO0FBRTFELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBd1hDO1FBdFhHLGVBQVMsR0FBVyxFQUFFLENBQUM7UUFDdkIsV0FBSyxHQUFlLDJCQUFVLENBQUMsSUFBSSxDQUFDO1FBQ3BDLGNBQVEsR0FBZ0IsSUFBSSxDQUFDO1FBQzdCLHFCQUFlLEdBQVEsSUFBSSxDQUFDO1FBRTVCLGdCQUFnQjtRQUNoQixlQUFTLEdBQXNCO1lBQzNCLDJCQUFVLENBQUMsVUFBVTtZQUNyQiwyQkFBVSxDQUFDLFdBQVc7WUFDdEIsMkJBQVUsQ0FBQyxXQUFXO1lBQ3RCLDJCQUFVLENBQUMsTUFBTTtZQUNqQiwyQkFBVSxDQUFDLE1BQU07WUFDakIsMkJBQVUsQ0FBQyxRQUFRLENBQUM7WUFDcEIsMkJBQVUsQ0FBQyxnQkFBZ0IsQ0FBQztZQUM1QiwyQkFBVSxDQUFDLGVBQWUsQ0FBQztZQUMzQiwyQkFBVSxDQUFDLGNBQWMsQ0FBQztZQUMxQiwyQkFBVSxDQUFDLFNBQVM7WUFDcEIsMkJBQVUsQ0FBQyxTQUFTO1lBQ3BCLDJCQUFVLENBQUMsU0FBUztTQUN2QixDQUFDOztJQW1XTixDQUFDO0lBbFdHLCtCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwRCxJQUFJLENBQUMsU0FBUyxHQUFH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LEVBQUUsQ0FBQztvQkFDNUIsTUFBTTthQUNiO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsK0RBQXNDLEdBQXRDO1FBQUEsaUJBWUM7UUFYRyxJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDO1lBQzlCLElBQUksSUFBSSxHQUFHLDJCQUFVLENBQUMsS0FBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvQyxRQUFRLElBQUksRUFBRTtnQkFDVixLQUFLLDJCQUFVLENBQUMsTUFBTTtvQkFDbEIsS0FBSSxDQUFDLGVBQWUsQ0FBQyxjQUFjLEVBQUUsQ0FBQztvQkFDdEMsTUFBTTtnQkFDVixLQUFLLDJCQUFVLENBQUMsR0FBRztvQkFDZixLQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxDQUFDO29CQUM5QixNQUFNO2FBQ2I7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUF2WGdCLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0F3WGxDO0lBQUQscUJBQUM7Q0F4WEQsQUF3WEMsQ0F4WDJDLEVBQUUsQ0FBQyxTQUFTLEdBd1h2RDtrQkF4WG9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgZW5lbXlTdGF0ZSwgZnJhbWVFdmVudF9lbmVteSB9IGZyb20gXCIuL2FuaW1hdGlvblN0YXRlXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBlbmVteUFuaW1hdGlvbiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBlbmVteU5hbWU6IHN0cmluZyA9IFwiXCI7XG4gICAgc3RhdGU6IGVuZW15U3RhdGUgPSBlbmVteVN0YXRlLmlkbGU7XG4gICAgc2tlbGV0b246IHNwLlNrZWxldG9uID0gbnVsbDtcbiAgICBlbmVteUNvbnRyb2xsZXI6IGFueSA9IG51bGw7XG5cbiAgICAvL+aXoOazleWPmOabtOeKtuaAge+8iOWPquWPr+W8uuihjOaUueWPmO+8iVxuICAgIGxvY2tTdGF0ZTogQXJyYXk8ZW5lbXlTdGF0ZT4gPSBbXG4gICAgICAgIGVuZW15U3RhdGUua25vY2tfZG93bixcbiAgICAgICAgZW5lbXlTdGF0ZS5rbm9ja19kb3duMSxcbiAgICAgICAgZW5lbXlTdGF0ZS5rbm9ja19kb3duMixcbiAgICAgICAgZW5lbXlTdGF0ZS5nZXRfdXAsXG4gICAgICAgIGVuZW15U3RhdGUuR2V0X3VwLFxuICAgICAgICBlbmVteVN0YXRlW1wiR2V0LXVwXCJdLFxuICAgICAgICBlbmVteVN0YXRlW1wiS25vY2stdXAtc3RhcnRcIl0sXG4gICAgICAgIGVuZW15U3RhdGVbXCJLbm9jay11cC1sb29wXCJdLFxuICAgICAgICBlbmVteVN0YXRlW1wiS25vY2stdXAtZW5kXCJdLFxuICAgICAgICBlbmVteVN0YXRlLktub2NrX3VwMSxcbiAgICAgICAgZW5lbXlTdGF0ZS5Lbm9ja191cDIsXG4gICAgICAgIGVuZW15U3RhdGUuS25vY2tfdXAzXG4gICAgXTtcbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24gPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcbiAgICAgICAgdGhpcy5lbmVteU5hbWUgPSB0aGlzLmVuZW15Q29udHJvbGxlci5ub2RlLm5hbWU7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIC8vdGhpcy5kZWJ1Z0FuaW1hdGlvbk5hbWUoKTtcbiAgICAgICAgdGhpc1tcInNldEFuaW1hdGlvbkNvbXBsZXRlRXZlbnRfXCIgKyB0aGlzLmVuZW15Q29udHJvbGxlci5ub2RlLm5hbWVdKCk7XG4gICAgfVxuICAgIGNoYW5nZVN0YXRlKHN0YXRlOiBlbmVteVN0YXRlLCB0aW1lU2NhbGUsIGlzTG9vcDogYm9vbGVhbiA9IGZhbHNlLCBpc0NvbXBlbENoYW5nZTogYm9vbGVhbiA9IGZhbHNlLCBpc01peDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLmxvY2tTdGF0ZS5pbmNsdWRlcyhlbmVteVN0YXRlW3RoaXMuc2tlbGV0b24uYW5pbWF0aW9uXSkgJiYgaXNDb21wZWxDaGFuZ2UgPT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPSBlbmVteVN0YXRlLmF0dGFjayAmJiB0aGlzLnN0YXRlICE9IGVuZW15U3RhdGUuQXRrKSB7XG4gICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5oaWRlRGFtYWdlQ29sbGlkZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5nZXRBbmltYXRpb25OYW1lKHN0YXRlKSwgdGltZVNjYWxlLCBpc0xvb3AsIGlzTWl4KTtcbiAgICB9XG4gICAgcGxheUFuaW1hdGlvbihhbmltYXRpb25OYW1lOiBzdHJpbmcsIHRpbWVTY2FsZSwgaXNMb29wOiBib29sZWFuID0gZmFsc2UsIGlzTWl4OiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuc2tlbGV0b24uZmluZEFuaW1hdGlvbihhbmltYXRpb25OYW1lKSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTWl4KSB7XG4gICAgICAgICAgICB0aGlzLnNrZWxldG9uLnNldE1peCh0aGlzLnNrZWxldG9uLmFuaW1hdGlvbiwgYW5pbWF0aW9uTmFtZSwgMC4xKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGFyY2tFbnRyeSA9IHRoaXMuc2tlbGV0b24uc2V0QW5pbWF0aW9uKDAsIGFuaW1hdGlvbk5hbWUsIGlzTG9vcClcbiAgICAgICAgdGhpcy5za2VsZXRvbi50aW1lU2NhbGUgPSB0aW1lU2NhbGU7XG4gICAgICAgIHRoaXMuc2V0VHJhY2tFbnRyeUVudmV0KHRhcmNrRW50cnksIGFuaW1hdGlvbk5hbWUpO1xuICAgIH1cbiAgICBnZXRBbmltYXRpb25OYW1lKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBlbmVteVN0YXRlW3N0YXRlXTtcbiAgICB9XG4gICAgZGVidWdBbmltYXRpb25OYW1lKCkge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgZm9yIChsZXQgYW5pbWF0aW9uIG9mIHRoaXMuc2tlbGV0b24uc2tlbGV0b25EYXRhLl9za2VsZXRvbkNhY2hlLmFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGFuaW1hdGlvbi5uYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvL+iuvue9ruW4p+S6i+S7tlxuICAgIHNldFRyYWNrRW50cnlFbnZldCh0cmFja0VudHJ5OiBhbnksIGFuaW1hdGlvbk5hbWU6IHN0cmluZykge1xuICAgICAgICBpZiAoZnJhbWVFdmVudF9lbmVteVt0aGlzLmVuZW15TmFtZV1bYW5pbWF0aW9uTmFtZV0gPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuc2tlbGV0b24uc2V0VHJhY2tFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdHJhY2tFbnRyeSxcbiAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyW2ZyYW1lRXZlbnRfZW5lbXlbdGhpcy5lbmVteU5hbWVdW2FuaW1hdGlvbk5hbWVdXS5iaW5kKHRoaXMuZW5lbXlDb250cm9sbGVyKSlcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0t5Lul5LiL5Li657uR5a6a5Yqo55S75pKt5pS+5a6M5oiQ55uR5ZCs5LqL5Lu2LS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgc2V0QW5pbWF0aW9uQ29tcGxldGVFdmVudF9lbmVteTEoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uc2V0Q29tcGxldGVMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IGVuZW15U3RhdGVbdGhpcy5za2VsZXRvbi5hbmltYXRpb25dO1xuICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLmdldF9odXJ0MTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuaWRsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuZ2V0X2h1cnQyOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5rbm9ja19kb3duOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5nZXRVcCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuZ2V0X3VwOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5hdHRhY2s6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRBbmltYXRpb25Db21wbGV0ZUV2ZW50X2VuZW15MigpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5zZXRDb21wbGV0ZUxpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBuYW1lID0gZW5lbXlTdGF0ZVt0aGlzLnNrZWxldG9uLmFuaW1hdGlvbl07XG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuZ2V0X2h1cnQxOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLmdldF9odXJ0MjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuaWRsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5rbm9ja19kb3duMTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIua25vY2tEb3duMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUua25vY2tfZG93bjI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmdldFVwKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5nZXRfdXA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLmF0dGFjazpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuaWRsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldEFuaW1hdGlvbkNvbXBsZXRlRXZlbnRfbGFkeUJ1ZygpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5zZXRDb21wbGV0ZUxpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBuYW1lID0gZW5lbXlTdGF0ZVt0aGlzLnNrZWxldG9uLmFuaW1hdGlvbl07XG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuQXRrOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5CZWhpdDpcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZVtcIkRpZS1zdGFydFwiXTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuZGllX21pZGRsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuRGllX2VuZDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuRGVzdG9yeSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldEFuaW1hdGlvbkNvbXBsZXRlRXZlbnRfZW5lbXkyOSgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5zZXRDb21wbGV0ZUxpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBuYW1lID0gZW5lbXlTdGF0ZVt0aGlzLnNrZWxldG9uLmFuaW1hdGlvbl07XG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuQXRrOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5IaXQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlW1wiS25vY2stdXAtc3RhcnRcIl06XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmtub2NrRG93bkxvb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlW1wiS25vY2stdXAtbG9vcFwiXTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIua25vY2tEb3duRW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZVtcIktub2NrLXVwLWVuZFwiXTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuZ2V0VXAoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlW1wiR2V0LXVwXCJdOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5EaWU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmhlYWRfbWlkZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZVtcIkhlYWQtZW5kXCJdOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5EZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0QW5pbWF0aW9uQ29tcGxldGVFdmVudF9lbmVteTEwKCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uLnNldENvbXBsZXRlTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hbWUgPSBlbmVteVN0YXRlW3RoaXMuc2tlbGV0b24uYW5pbWF0aW9uXTtcbiAgICAgICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5hdHRhY2s6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmhpdENvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5za2lsbDJfc3RhcnQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLnNraWxsMk1pZGRsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuc2tpbGwyX2VuZDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuc2tpbGwyRW5kQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLnNraWxsMTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuaWRsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldEFuaW1hdGlvbkNvbXBsZXRlRXZlbnRfYmlnU3F1aWQoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uc2V0Q29tcGxldGVMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IGVuZW15U3RhdGVbdGhpcy5za2VsZXRvbi5hbmltYXRpb25dO1xuICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLlByZV9BdHRhY2s6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLnJ1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLkRpZTE6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmRpZV9taWRkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLkRpZTM6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLkRlc3RvcnkoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRBbmltYXRpb25Db21wbGV0ZUV2ZW50X2VuZW15MzkoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uc2V0Q29tcGxldGVMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IGVuZW15U3RhdGVbdGhpcy5za2VsZXRvbi5hbmltYXRpb25dO1xuICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLkJvcm46XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmJvcm5Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuSWRsZTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuaWRsZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5JZGxlMjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuaWRsZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5JZGxlMzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuaWRsZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5KdW1wX0JhY2s6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmF0dGFja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5KdW1wX0ZXRDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuYXR0YWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLlNjcmF0Y2g6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmF0dGFja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5BYm92ZTE6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmFib3ZlMUNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5BYm92ZTI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmFib3ZlMkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5EaWUzOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5EZXN0b3J5KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5TdGFnZ2VyZWQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLlN0YWdnZXJlZFJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0QW5pbWF0aW9uQ29tcGxldGVFdmVudF9zcGlkZXJsaW5nKCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uLnNldENvbXBsZXRlTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hbWUgPSBlbmVteVN0YXRlW3RoaXMuc2tlbGV0b24uYW5pbWF0aW9uXTtcbiAgICAgICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5GYWxsOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5ib3JuKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5Cb3JuOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5ib3JuQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLktub2NrX3VwMTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuS25vY2tfdXAyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5Lbm9ja191cDI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLktub2NrX3VwMygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuS25vY2tfdXAzOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5nZXRVcCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuR2V0X0hpdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT0gZW5lbXlTdGF0ZS5HZXRfSGl0KSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLkdldF91cDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuaWRsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldEFuaW1hdGlvbkNvbXBsZXRlRXZlbnRfc2hhZGVyKCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uLnNldENvbXBsZXRlTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hbWUgPSBlbmVteVN0YXRlW3RoaXMuc2tlbGV0b24uYW5pbWF0aW9uXTtcbiAgICAgICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5BdGs6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlW1wiU2tpbGwtU3RhcnRcIl06XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmNsb3NlQ29sbGlkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlW1wiU2tpbGwtTWlkZGxlXCJdOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5jbG9zZUNvbGxpZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZVtcIlNraWxsLUVuZFwiXTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuaWRsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldEFuaW1hdGlvbkNvbXBsZXRlRXZlbnRfZW5lbXkyMCgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5zZXRDb21wbGV0ZUxpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBuYW1lID0gZW5lbXlTdGF0ZVt0aGlzLnNrZWxldG9uLmFuaW1hdGlvbl07XG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuZ2V0X2h1cnQxOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5nZXRfaHVydDI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLmtub2NrX2Rvd24xOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5rbm9ja0Rvd24yKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5nZXRfdXA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT0gZW5lbXlTdGF0ZS5pZGxlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5za2lsbF9zdGFydCgpO1xuICAgICAgICAgICAgICAgICAgICB9LCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuZmlyZV9waWxsYXI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLnNraWxsX21pZGRsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuZmlyZV9waWxsYXIzOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS50ZWxlcG9ydDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuaWRsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldEFuaW1hdGlvbkNvbXBsZXRlRXZlbnRfZW5lbXkxOCgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5zZXRDb21wbGV0ZUxpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBuYW1lID0gZW5lbXlTdGF0ZVt0aGlzLnNrZWxldG9uLmFuaW1hdGlvbl07XG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuQXRrOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0QW5pbWF0aW9uQ29tcGxldGVFdmVudF9taW5pQm9zcygpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5zZXRDb21wbGV0ZUxpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBuYW1lID0gZW5lbXlTdGF0ZVt0aGlzLnNrZWxldG9uLmFuaW1hdGlvbl07XG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuYXBwZWFyOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5hcHBlYXJGaW5pc2hlZCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuYmxpbmtfc3RhcnQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmJpbmtTdGFydENvbXBlbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuYmxpbmtfZW5kOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5zdG9ybV9idXJzdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuaWRsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUudGh1bmRlcl9qb2x0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5saWdodGluZ19jaGFzZV9zdGFydDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIubGlnaHRpbmdfY2hhc2VfbWlkZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5saWdodGluZ19jaGFzZV9lbmQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLmNhbGxfb2ZfbGlnaHRpbmc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sbGVyLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLmxhdWdoOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15Q29udHJvbGxlci5pZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0QW5pbWF0aW9uQ29tcGxldGVFdmVudF9taW5pQm9zc0ZsYWcoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uc2V0Q29tcGxldGVMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IGVuZW15U3RhdGVbdGhpcy5za2VsZXRvbi5hbmltYXRpb25dO1xuICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLmFwcGVhcjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuYXBwZWFyRmluaXNoZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLmRpZTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2xsZXIuZGllRW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ladyBug.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e055666c3FBwKvInY3xe1FC', 'ladyBug');
// scripts/game/ladyBug.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var ladyBugFx_1 = require("./ladyBugFx");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["attack"] = 0] = "attack";
})(damageCollider || (damageCollider = {}));
var ladyBug = /** @class */ (function (_super) {
    __extends(ladyBug, _super);
    function ladyBug() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.hpNode = null;
        _this.hpBar = null;
        _this.dieEffectName = "";
        _this.moveSpeed = 300; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 1; //ai间隔
        _this.stopDistance = 250; //停止距离
        _this.stopDistance_y = 200; //停止y轴移动距离（200-250）
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 0; //手里剑攻击作用力
        _this.beHitForce_x = 0; //普通攻击作用力
        _this.beHitForce_y_shuriken = 0; //普通攻击作用力
        _this.beHitForce_x_attack3 = 0; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isSuperArmor = false; //是否霸体
        _this.isMove = false; //是否处于移动状态
        _this.dmgCollider = null;
        return _this;
    }
    ladyBug.prototype.onLoad = function () {
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    ladyBug.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
    };
    ladyBug.prototype.init = function () {
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        var x = GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(-cc.winSize.width / 2, cc.winSize.width / 2);
        var y = cc.winSize.height / 2 + caijiTools_1.caijiTools.random_int(30, 100);
        this.node.setPosition(x, y);
        this.AI_start();
    };
    ladyBug.prototype.update = function () {
        var _this = this;
        if (this.isMove == false)
            return;
        var distance = this.getDistance();
        if (Math.abs(distance) < this.stopDistance) {
            this.rigibody.linearVelocity = cc.v2(0, 0);
            this.changeMovState(false);
            if (Math.abs(this.getDistanceX()) < 50) {
                var moveDistance = this.skeleton.node.scaleX > 0 ? -100 : 100;
                cc.tween(this.node)
                    .by(0.5, { x: moveDistance })
                    .call(function () {
                    _this.hit();
                })
                    .start();
            }
            else {
                this.hit();
            }
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.Atk)
                return;
            this.moveToPlayer();
        }
    };
    ladyBug.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "ground") {
            this.rigibody.enabledContactListener = false;
            this.die_end();
        }
        else if (other.group == "wall") {
            contact.disabled = true;
        }
    };
    ladyBug.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    ladyBug.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    ladyBug.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    ladyBug.prototype.AI_start = function () {
        var _this = this;
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            return;
        }
        var distance = Math.abs(this.getDistance());
        if (distance < this.stopDistance + 50) {
            if (Math.abs(this.getDistanceX()) < 50) {
                var moveDistance = this.skeleton.node.scaleX > 0 ? -150 : 150;
                cc.tween(this.node)
                    .by(0.5, { x: moveDistance })
                    .call(function () {
                    _this.hit();
                })
                    .start();
            }
            else {
                var x = this.skeleton.node.scaleX < 0 ?
                    GameManager_1.default.instance.player.x - caijiTools_1.caijiTools.random_int(150, 400) :
                    GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(100, 300);
                var y = GameManager_1.default.instance.player.y + caijiTools_1.caijiTools.random_int(150, 400);
                var distance_1 = cc.v3(x, y).sub(this.node.position).len();
                cc.tween(this.node)
                    .to(distance_1 / 300, { position: cc.v3(x, y) })
                    .call(function () {
                    _this.hit();
                })
                    .start();
            }
        }
        else {
            this.changeStopDistanceY();
            this.changeMovState(true);
            this.changeDirection();
        }
    };
    ladyBug.prototype.AI_stop = function () {
        this.idle();
    };
    ladyBug.prototype.changeStopDistanceY = function () {
        this.stopDistance_y = caijiTools_1.caijiTools.random_int(200, 250);
    };
    ladyBug.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    ladyBug.prototype.idle = function () {
        var _this = this;
        this.changeMovState(false);
        this.changeDirection();
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.Idle, 1, true, true);
        this.scheduleOnce(function () {
            _this.AI_start();
        }, this.AI_interval);
    };
    ladyBug.prototype.changeDirection = function () {
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x > this.node.x ? -this.scaleX_skeleton : this.scaleX_skeleton;
        //this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    ladyBug.prototype.die = function () {
        if (this.isDie)
            return;
        this.unscheduleAllCallbacks();
        cc.Tween.stopAllByTarget(this.node);
        this.closeHighLight();
        this.isDie = true;
        this.hideHp();
        this.enemyAnimation.changeState(animationState_1.enemyState["Die-start"], 1, false);
        this.dieCount();
    };
    ladyBug.prototype.die_middle = function () {
        this.rigibody.gravityScale = 5;
        this.rigibody.linearVelocity = cc.v2(0, -1300);
        //this.enemyAnimation.changeState(enemyState["Die-middle"],1,false);
    };
    ladyBug.prototype.die_end = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.Die_end, 1, false);
    };
    ladyBug.prototype.Destory = function () {
        this.node.destroy();
    };
    ladyBug.prototype.getUp = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.get_up, 1, false, true);
    };
    ladyBug.prototype.moveToPlayer = function () {
        this.changeDirection();
        var direct = GameManager_1.default.instance.player.position.sub(this.node.position).normalizeSelf();
        direct.y = this.getDistanceY() <= this.stopDistance_y ? 0 : direct.y;
        this.rigibody.linearVelocity = cc.v2(this.moveSpeed * direct.x, this.moveSpeed * direct.y);
    };
    ladyBug.prototype.hit = function () {
        if (animationState_1.enemyState[this.enemyAnimation.state].includes("get_hurt"))
            return;
        this.changeDirection();
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.Atk, 1, false);
    };
    ladyBug.prototype.fire = function (trackEntry, event) {
        if (event.data.name == "Fire") {
            this.createFX();
        }
    };
    ladyBug.prototype.createFX = function () {
        return __awaiter(this, void 0, void 0, function () {
            var x, y, prefab, effect;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E24_Shoot);
                        x = this.skeleton.node.scaleX > 0 ? this.node.x - 40 : this.node.x + 40;
                        y = this.node.y - 40;
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/ladyBugFX")];
                    case 1:
                        prefab = _a.sent();
                        effect = caijiTools_1.caijiTools.createNode(prefab, this.node.parent);
                        effect.setSiblingIndex(this.node.getSiblingIndex() + 1);
                        effect.setPosition(x, y);
                        effect.getComponent(ladyBugFx_1.default).isRightMove = this.skeleton.node.scaleX > 0 ? false : true;
                        effect.getComponent(ladyBugFx_1.default).damage = this.damage;
                        effect.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    ladyBug.prototype.beHit = function (damage, dmgType) {
        this.changeMovState(false);
        this.setRigibodySpeed(0);
        // let isContinue = this.checkIsSwordRain(dmgType);//设置剑雨攻击间隔
        // if (isContinue == 0) return;
        this.highLight();
        this.showHp();
        this.changeState_beHit(dmgType);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        this.updateHp(damage);
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
    };
    ladyBug.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    ladyBug.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.get_hurt2;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.knock_down;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.get_hurt1;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    ladyBug.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    ladyBug.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    ladyBug.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    ladyBug.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    ladyBug.prototype.updateHp = function (damage) {
        this.hp -= damage;
        this.hpBar.progress = this.hp / this.hpMax;
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    ladyBug.prototype.showHp = function () {
        this.unschedule(this.hideHp);
        this.hpNode.active = true;
        this.scheduleOnce(this.hideHp, 2);
    };
    ladyBug.prototype.hideHp = function () {
        this.hpNode.active = false;
    };
    ladyBug.prototype.highLight = function () {
        this.unschedule(this.closeHighLight);
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        this.scheduleOnce(this.closeHighLight, 0.15);
    };
    ladyBug.prototype.closeHighLight = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    ladyBug.prototype.getDistance = function () {
        return this.node.position.sub(GameManager_1.default.instance.player.position).len();
    };
    ladyBug.prototype.getDistanceX = function () {
        return this.node.x - GameManager_1.default.instance.player.x;
    };
    ladyBug.prototype.getDistanceY = function () {
        return Math.abs(this.node.y - GameManager_1.default.instance.player.y);
    };
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], ladyBug.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], ladyBug.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.Node)
    ], ladyBug.prototype, "hpNode", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], ladyBug.prototype, "hpBar", void 0);
    __decorate([
        property(cc.String)
    ], ladyBug.prototype, "dieEffectName", void 0);
    ladyBug = __decorate([
        ccclass
    ], ladyBug);
    return ladyBug;
}(enemyBase_1.default));
exports.default = ladyBug;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcbGFkeUJ1Zy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnREFBNEM7QUFDNUMsNENBQTJDO0FBQzNDLHFEQUFnRDtBQUNoRCxtREFBMEQ7QUFDMUQsbURBQThDO0FBQzlDLHlDQUFvQztBQUNwQyxtQ0FBOEI7QUFDOUIsNkNBQXdDO0FBQ3hDLHlDQUFvQztBQUU5QixJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUM1QyxJQUFLLGNBRUo7QUFGRCxXQUFLLGNBQWM7SUFDZix1REFBTSxDQUFBO0FBQ1YsQ0FBQyxFQUZJLGNBQWMsS0FBZCxjQUFjLFFBRWxCO0FBRUQ7SUFBcUMsMkJBQVM7SUFBOUM7UUFBQSxxRUEyVUM7UUF4VUcsd0JBQWtCLEdBQVcsQ0FBQyxDQUFDO1FBRS9CLHdCQUFrQixHQUFXLENBQUMsQ0FBQztRQUUvQixZQUFNLEdBQVksSUFBSSxDQUFDO1FBRXZCLFdBQUssR0FBbUIsSUFBSSxDQUFDO1FBRTdCLG1CQUFhLEdBQVcsRUFBRSxDQUFDO1FBRTNCLGVBQVMsR0FBVyxHQUFHLENBQUMsQ0FBQSxNQUFNO1FBQzlCLGNBQVEsR0FBVyxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQzNCLGlCQUFXLEdBQVcsQ0FBQyxDQUFDLENBQUEsTUFBTTtRQUM5QixrQkFBWSxHQUFRLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDOUIsb0JBQWMsR0FBUSxHQUFHLENBQUMsQ0FBQSxtQkFBbUI7UUFDN0MsUUFBRSxHQUFXLENBQUMsQ0FBQztRQUNmLGFBQU8sR0FBUSxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQ3ZCLGtCQUFZLEdBQVcsQ0FBQyxDQUFDLENBQUEsVUFBVTtRQUNuQyxrQkFBWSxHQUFXLENBQUMs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Q0FBQztJQUMvRCxDQUFDO0lBdlVEO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDO3VEQUNwQjtJQUUvQjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQzt1REFDcEI7SUFFL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsyQ0FDSztJQUV2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOzBDQUNJO0lBRTdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7a0RBQ087SUFYVixPQUFPO1FBRDNCLE9BQU87T0FDYSxPQUFPLENBMlUzQjtJQUFELGNBQUM7Q0EzVUQsQUEyVUMsQ0EzVW9DLG1CQUFTLEdBMlU3QztrQkEzVW9CLE9BQU8iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdWRpb05hbWUgfSBmcm9tIFwiLi4vYXVkaW9OYW1lTWdyXCI7XG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCBhdWRpb01hbmFnZXIgZnJvbSBcIi4uL21haW4vYXVkaW9NYW5hZ2VyXCI7XG5pbXBvcnQgeyBhdHRhY2tUeXBlLCBlbmVteVN0YXRlIH0gZnJvbSBcIi4vYW5pbWF0aW9uU3RhdGVcIjtcbmltcG9ydCBlbmVteUFuaW1hdGlvbiBmcm9tIFwiLi9lbmVteUFuaW1hdGlvblwiO1xuaW1wb3J0IGVuZW15QmFzZSBmcm9tIFwiLi9lbmVteUJhc2VcIjtcbmltcG9ydCBFdmVudHMgZnJvbSBcIi4vRXZlbnRzXCI7XG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4vR2FtZU1hbmFnZXJcIjtcbmltcG9ydCBsYWR5QnVnRnggZnJvbSBcIi4vbGFkeUJ1Z0Z4XCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5lbnVtIGRhbWFnZUNvbGxpZGVye1xuICAgIGF0dGFja1xufVxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGxhZHlCdWcgZXh0ZW5kcyBlbmVteUJhc2Uge1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuRmxvYXQsIHRvb2x0aXA6IFwi5Lyk5a6z5pWI5p6ceOi9tOWBj+enu+WAvFwiIH0pXG4gICAgZGFtYWdlTGFiZWxPZmZzZXRYOiBudW1iZXIgPSAwO1xuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkZsb2F0LCB0b29sdGlwOiBcIuS8pOWus+aViOaenHnovbTlgY/np7vlgLxcIiB9KVxuICAgIGRhbWFnZUxhYmVsT2Zmc2V0WTogbnVtYmVyID0gMDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBocE5vZGU6IGNjLk5vZGUgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcbiAgICBocEJhcjogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5TdHJpbmcpXG4gICAgZGllRWZmZWN0TmFtZTogc3RyaW5nID0gXCJcIjtcblxuICAgIG1vdmVTcGVlZDogbnVtYmVyID0gMzAwOy8v56e75Yqo6YCf5bqmXG4gICAgbm93U3BlZWQ6IG51bWJlciA9IDA7Ly/lvZPliY3pgJ/luqZcbiAgICBBSV9pbnRlcnZhbDogbnVtYmVyID0gMTsvL2Fp6Ze06ZqUXG4gICAgc3RvcERpc3RhbmNlOm51bWJlcj0yNTA7Ly/lgZzmraLot53nprtcbiAgICBzdG9wRGlzdGFuY2VfeTpudW1iZXI9MjAwOy8v5YGc5q2ieei9tOenu+WKqOi3neemu++8iDIwMC0yNTDvvIlcbiAgICBocDogbnVtYmVyID0gMDtcbiAgICBocFRpbWVzOm51bWJlcj0xOy8v6KGA6YeP5YCN5pWwXG4gICAgYmVIaXRGb3JjZV95OiBudW1iZXIgPSAwOy8v5omL6YeM5YmR5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94OiBudW1iZXIgPSAwLy/mma7pgJrmlLvlh7vkvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3lfc2h1cmlrZW46IG51bWJlciA9IDAvL+aZrumAmuaUu+WHu+S9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeF9hdHRhY2szOiBudW1iZXIgPSAwOy8v6KKr5Ye76aOe5L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV95X2F0dGFjazM6IG51bWJlciA9IDA7Ly/ooqvlh7vpo57kvZznlKjliptcbiAgICBzY2FsZVhfc2tlbGV0b246IG51bWJlciA9IDA7XG4gICAgaXNEaWU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBza2VsZXRvbjogc3AuU2tlbGV0b24gPSBudWxsO1xuICAgIGVuZW15QW5pbWF0aW9uOiBlbmVteUFuaW1hdGlvbiA9IG51bGw7XG4gICAgcmlnaWJvZHk6IGNjLlJpZ2lkQm9keSA9IG51bGw7XG4gICAgYm94Q29sbGlkZXI6IGNjLlBoeXNpY3NCb3hDb2xsaWRlciA9IG51bGw7XG4gICAgaXNTd29yZFJhaW5DZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzU3VwZXJBcm1vcjogYm9vbGVhbiA9IGZhbHNlOy8v5piv5ZCm6Zy45L2TXG4gICAgaXNNb3ZlOiBib29sZWFuID0gZmFsc2U7Ly/mmK/lkKblpITkuo7np7vliqjnirbmgIFcbiAgICBkbWdDb2xsaWRlcjpkYW1hZ2VDb2xsaWRlcj1udWxsO1xuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uID0gdGhpcy5ub2RlLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbik7XG4gICAgICAgIHRoaXMuc2NhbGVYX3NrZWxldG9uID0gTWF0aC5hYnModGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCk7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24gPSB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGVuZW15QW5pbWF0aW9uKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5lbmVteUNvbnRyb2xsZXIgPSB0aGlzO1xuICAgICAgICB0aGlzLnJpZ2lib2R5ID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5SaWdpZEJvZHkpO1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5QaHlzaWNzQm94Q29sbGlkZXIpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuc2tlbGV0b24uc2tlbGV0b25EYXRhLl9za2VsZXRvbkNhY2hlLmFuaW1hdGlvbnMpO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmluaXREYXRhKCk7XG4gICAgICAgIHRoaXMuaHAgPSB0aGlzLmhwTWF4KnRoaXMuaHBUaW1lcztcbiAgICAgICAgbGV0IHg9R2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLngrY2FpamlUb29scy5yYW5kb21faW50KC1jYy53aW5TaXplLndpZHRoLzIsY2Mud2luU2l6ZS53aWR0aC8yKTtcbiAgICAgICAgbGV0IHk9Y2Mud2luU2l6ZS5oZWlnaHQvMitjYWlqaVRvb2xzLnJhbmRvbV9pbnQoMzAsMTAwKTtcbiAgICAgICAgdGhpcy5ub2RlLnNldFBvc2l0aW9uKHgseSk7XG4gICAgICAgIHRoaXMuQUlfc3RhcnQoKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5pc01vdmUgPT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gdGhpcy5nZXREaXN0YW5jZSgpO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGlzdGFuY2UpIDwgdGhpcy5zdG9wRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHk9Y2MudjIoMCwwKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgaWYoTWF0aC5hYnModGhpcy5nZXREaXN0YW5jZVgoKSk8NTApe1xuICAgICAgICAgICAgICAgIGxldCBtb3ZlRGlzdGFuY2U9dGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWD4wPy0xMDA6MTAwO1xuICAgICAgICAgICAgICAgIGNjLnR3ZWVuKHRoaXMubm9kZSlcbiAgICAgICAgICAgICAgICAuYnkoMC41LHt4Om1vdmVEaXN0YW5jZX0pXG4gICAgICAgICAgICAgICAgLmNhbGwoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zdGFydCgpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGU9PWVuZW15U3RhdGUuQXRrKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLm1vdmVUb1BsYXllcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQmVnaW5Db250YWN0KGNvbnRhY3Q6IGNjLlBoeXNpY3NDb250YWN0LCBzZWxmQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlciwgb3RoZXJDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGxldCBvdGhlciA9IG90aGVyQ29sbGlkZXIubm9kZTtcbiAgICAgICAgLy8gbGV0IHdvcmxkTWFuaWZvbGQgPSBjb250YWN0LmdldFdvcmxkTWFuaWZvbGQoKTtcbiAgICAgICAgLy8gbGV0IG5vcm1hbCA9IHdvcmxkTWFuaWZvbGQubm9ybWFsO1xuICAgICAgICBpZiAob3RoZXIuZ3JvdXAgPT0gXCJncm91bmRcIikge1xuICAgICAgICAgICAgdGhpcy5yaWdpYm9keS5lbmFibGVkQ29udGFjdExpc3RlbmVyPWZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kaWVfZW5kKCk7XG4gICAgICAgIH1lbHNlIGlmKG90aGVyLmdyb3VwPT1cIndhbGxcIil7XG4gICAgICAgICAgICBjb250YWN0LmRpc2FibGVkPXRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd0RhbWFnZUNvbGxpZGVyKGNvbGxpZGVyOmRhbWFnZUNvbGxpZGVyKXtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW2NvbGxpZGVyXS5hY3RpdmU9dHJ1ZTtcbiAgICAgICAgdGhpcy5kbWdDb2xsaWRlcj1jb2xsaWRlcjtcbiAgICB9XG4gICAgZ2V0RGFtYWdlQ29sbGlkZXIoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2tlbGV0b24ubm9kZS5jaGlsZHJlblt0aGlzLmRtZ0NvbGxpZGVyXTtcbiAgICB9XG4gICAgaGlkZURhbWFnZUNvbGxpZGVyKCl7XG4gICAgICAgIGlmKHRoaXMuZG1nQ29sbGlkZXI9PW51bGwpIHJldHVybjtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdLmFjdGl2ZT1mYWxzZTtcbiAgICAgICAgdGhpcy5kbWdDb2xsaWRlcj1udWxsO1xuICAgIH1cbiAgICBBSV9zdGFydCgpIHtcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5pc0RpZSl7XG4gICAgICAgICAgICAvL+eOqeWutuW3suatuyDlgZzmraLnp7vliqhcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5BSV9zdGFydCgpO1xuICAgICAgICAgICAgfSwxKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLmFicyh0aGlzLmdldERpc3RhbmNlKCkpO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLnN0b3BEaXN0YW5jZSs1MCkge1xuICAgICAgICAgICAgaWYoTWF0aC5hYnModGhpcy5nZXREaXN0YW5jZVgoKSk8NTApe1xuICAgICAgICAgICAgICAgIGxldCBtb3ZlRGlzdGFuY2U9dGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWD4wPy0xNTA6MTUwO1xuICAgICAgICAgICAgICAgIGNjLnR3ZWVuKHRoaXMubm9kZSlcbiAgICAgICAgICAgICAgICAuYnkoMC41LHt4Om1vdmVEaXN0YW5jZX0pXG4gICAgICAgICAgICAgICAgLmNhbGwoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zdGFydCgpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IHg9dGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWDwwP1xuICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54LWNhaWppVG9vbHMucmFuZG9tX2ludCgxNTAsNDAwKTpcbiAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCtjYWlqaVRvb2xzLnJhbmRvbV9pbnQoMTAwLDMwMCk7XG4gICAgICAgICAgICAgICAgbGV0IHk9R2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnkrY2FpamlUb29scy5yYW5kb21faW50KDE1MCw0MDApO1xuICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZT1jYy52Myh4LHkpLnN1Yih0aGlzLm5vZGUucG9zaXRpb24pLmxlbigpO1xuICAgICAgICAgICAgICAgIGNjLnR3ZWVuKHRoaXMubm9kZSlcbiAgICAgICAgICAgICAgICAudG8oZGlzdGFuY2UvMzAwLHtwb3NpdGlvbjpjYy52Myh4LHkpfSlcbiAgICAgICAgICAgICAgICAuY2FsbCgoKT0+e1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpdCgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0b3BEaXN0YW5jZVkoKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEFJX3N0b3AoKSB7XG4gICAgICAgIHRoaXMuaWRsZSgpO1xuICAgIH1cbiAgICBjaGFuZ2VTdG9wRGlzdGFuY2VZKCl7XG4gICAgICAgIHRoaXMuc3RvcERpc3RhbmNlX3k9Y2FpamlUb29scy5yYW5kb21faW50KDIwMCwyNTApO1xuICAgIH1cbiAgICBjaGFuZ2VNb3ZTdGF0ZShpc01vdmU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5pc01vdmUgPSBpc01vdmU7XG4gICAgfVxuICAgIGlkbGUoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoMCk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwLDApO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuSWRsZSwgMSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuQUlfc3RhcnQoKTtcbiAgICAgICAgfSwgdGhpcy5BSV9pbnRlcnZhbCk7XG4gICAgfVxuICAgIGNoYW5nZURpcmVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5zY2FsZVhfc2tlbGV0b24gOiB0aGlzLnNjYWxlWF9za2VsZXRvbjtcbiAgICAgICAgLy90aGlzLmhwTm9kZS54ID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtMjggOiAyODtcbiAgICB9XG4gICAgZGllKCkge1xuICAgICAgICBpZih0aGlzLmlzRGllKSByZXR1cm47XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZUFsbENhbGxiYWNrcygpO1xuICAgICAgICBjYy5Ud2Vlbi5zdG9wQWxsQnlUYXJnZXQodGhpcy5ub2RlKTtcbiAgICAgICAgdGhpcy5jbG9zZUhpZ2hMaWdodCgpO1xuICAgICAgICB0aGlzLmlzRGllID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oaWRlSHAoKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlW1wiRGllLXN0YXJ0XCJdLDEsZmFsc2UpO1xuICAgICAgICB0aGlzLmRpZUNvdW50KCk7XG4gICAgfVxuICAgIGRpZV9taWRkbGUoKXtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5ncmF2aXR5U2NhbGU9NTtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52MigwLC0xMzAwKTtcbiAgICAgICAgLy90aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGVbXCJEaWUtbWlkZGxlXCJdLDEsZmFsc2UpO1xuICAgIH1cbiAgICBkaWVfZW5kKCl7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5EaWVfZW5kLDEsZmFsc2UpO1xuICAgIH1cbiAgICBEZXN0b3J5KCl7XG4gICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldFVwKCkge1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuZ2V0X3VwLCAxLCBmYWxzZSwgdHJ1ZSlcbiAgICB9XG4gICAgbW92ZVRvUGxheWVyKCkge1xuICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICBsZXQgZGlyZWN0PUdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci5wb3NpdGlvbi5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKS5ub3JtYWxpemVTZWxmKCk7XG4gICAgICAgIGRpcmVjdC55PXRoaXMuZ2V0RGlzdGFuY2VZKCk8PXRoaXMuc3RvcERpc3RhbmNlX3k/MDpkaXJlY3QueTtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52Mih0aGlzLm1vdmVTcGVlZCpkaXJlY3QueCx0aGlzLm1vdmVTcGVlZCpkaXJlY3QueSk7XG4gICAgfVxuICAgIGhpdCgpIHtcbiAgICAgICAgaWYoZW5lbXlTdGF0ZVt0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlXS5pbmNsdWRlcyhcImdldF9odXJ0XCIpKSByZXR1cm47XG4gICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCwwKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLkF0aywgMSwgZmFsc2UpO1xuICAgIH1cbiAgICBmaXJlKHRyYWNrRW50cnksZXZlbnQpe1xuICAgICAgICBpZihldmVudC5kYXRhLm5hbWU9PVwiRmlyZVwiKXtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRlgoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjcmVhdGVGWCgpe1xuICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5FMjRfU2hvb3QpO1xuICAgICAgICBsZXQgeD10aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYPjA/dGhpcy5ub2RlLngtNDA6dGhpcy5ub2RlLngrNDA7XG4gICAgICAgIGxldCB5PXRoaXMubm9kZS55LTQwO1xuICAgICAgICBsZXQgcHJlZmFiPWF3YWl0IGNhaWppVG9vbHMubG9hZFByZWZhYihcInByZWZhYnMvbGFkeUJ1Z0ZYXCIpO1xuICAgICAgICBsZXQgZWZmZWN0PWNhaWppVG9vbHMuY3JlYXRlTm9kZShwcmVmYWIsdGhpcy5ub2RlLnBhcmVudCk7XG4gICAgICAgIGVmZmVjdC5zZXRTaWJsaW5nSW5kZXgodGhpcy5ub2RlLmdldFNpYmxpbmdJbmRleCgpKzEpO1xuICAgICAgICBlZmZlY3Quc2V0UG9zaXRpb24oeCx5KTtcbiAgICAgICAgZWZmZWN0LmdldENvbXBvbmVudChsYWR5QnVnRngpLmlzUmlnaHRNb3ZlPXRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVg+MD9mYWxzZTp0cnVlO1xuICAgICAgICBlZmZlY3QuZ2V0Q29tcG9uZW50KGxhZHlCdWdGeCkuZGFtYWdlPXRoaXMuZGFtYWdlO1xuICAgICAgICBlZmZlY3QuYWN0aXZlPXRydWU7XG4gICAgfVxuICAgIGJlSGl0KGRhbWFnZTogbnVtYmVyLCBkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCk7XG4gICAgICAgIC8vIGxldCBpc0NvbnRpbnVlID0gdGhpcy5jaGVja0lzU3dvcmRSYWluKGRtZ1R5cGUpOy8v6K6+572u5YmR6Zuo5pS75Ye76Ze06ZqUXG4gICAgICAgIC8vIGlmIChpc0NvbnRpbnVlID09IDApIHJldHVybjtcbiAgICAgICAgdGhpcy5oaWdoTGlnaHQoKTtcbiAgICAgICAgdGhpcy5zaG93SHAoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZV9iZUhpdChkbWdUeXBlKTtcbiAgICAgICAgbGV0IHggPSB0aGlzLm5vZGUuc2NhbGVYIDwgMCA/IHRoaXMubm9kZS54ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFggOiB0aGlzLm5vZGUueCAtIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRYO1xuICAgICAgICBsZXQgeSA9IHRoaXMubm9kZS55ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFk7XG4gICAgICAgIEV2ZW50cy5pbnN0YW5jZS5zaG93RGFtYWdlTGFiZWxfZW5lbXkodGhpcy5ub2RlLCBkYW1hZ2UsIGNjLnYyKHgsIHkpKTtcbiAgICAgICAgdGhpcy51cGRhdGVIcChkYW1hZ2UpO1xuICAgICAgICBpZiAodGhpcy5ocCA8PSAwKSB7XG4gICAgICAgICAgICBFdmVudHMuaW5zdGFuY2UuY3JlYXRlRW5lbXlEaWVFZmZlY3QodGhpcy5ub2RlLCB0aGlzLmRpZUVmZmVjdE5hbWUsIGNjLnYyKHgsIHkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRSaWdpYm9keVNwZWVkKHg6bnVtYmVyLHk6bnVtYmVyPTApe1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5PWNjLnYyKHgseSk7XG4gICAgfVxuICAgIGNoYW5nZVN0YXRlX2JlSGl0KGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYodGhpcy5pc1N1cGVyQXJtb3IpIHJldHVybjtcbiAgICAgICAgbGV0IHN0YXRlID0gbnVsbDtcbiAgICAgICAgbGV0IGlzS25vY2tEb3duID0gZG1nVHlwZSA9PSBhdHRhY2tUeXBlLmF0dGFjazMgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoZG1nVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazE6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MjtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsIDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2szOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZygwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZyg1KTtcbiAgICAgICAgICAgICAgICB9LCAwLjQpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5rbm9ja19kb3duO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGUueCA8IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ICYmIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tlbGV0b24ubm9kZS5zY2FsZVggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MigtdGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ub2RlLnggPiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAmJiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIodGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5qdW1wSGl0OlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLnNodXJpa2VuOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iZUhpdEZvcmNlX3lfc2h1cmlrZW4pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5zd29yZFJhaW46XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShzdGF0ZSwgMSwgZmFsc2UsIGlzS25vY2tEb3duKTtcbiAgICB9XG4gICAgc2V0TGluZWFyRGFtcGluZyhkYW1waW5nOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJEYW1waW5nID0gZGFtcGluZztcbiAgICB9XG4gICAgc2V0RnJpY3Rpb24oZnJpY3Rpb246IG51bWJlciA9IDApIHtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5mcmljdGlvbiA9IGZyaWN0aW9uO1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmFwcGx5KCk7XG4gICAgfVxuICAgIGFwcGx5Rm9yY2UoZm9yY2U6IGNjLlZlYzIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBlckFybW9yKSByZXR1cm47XG4gICAgICAgIHRoaXMucmlnaWJvZHkuYXBwbHlGb3JjZVRvQ2VudGVyKGZvcmNlLCB0cnVlKTtcbiAgICB9XG4gICAgY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIGlmIChkbWdUeXBlID09IGF0dGFja1R5cGUuc3dvcmRSYWluKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1N3b3JkUmFpbkNkKSByZXR1cm4gMDtcbiAgICAgICAgICAgIHRoaXMuaXNTd29yZFJhaW5DZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1N3b3JkUmFpbkNkID0gZmFsc2U7XG4gICAgICAgICAgICB9LCB0aGlzLnN3b3JkUmFpbkhpdENkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgdXBkYXRlSHAoZGFtYWdlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ocCAtPSBkYW1hZ2U7XG4gICAgICAgIHRoaXMuaHBCYXIucHJvZ3Jlc3MgPSB0aGlzLmhwIC8gdGhpcy5ocE1heDtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5ocCA9IDA7XG4gICAgICAgICAgICB0aGlzLmRpZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNob3dIcCgpIHtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuaGlkZUhwKTtcbiAgICAgICAgdGhpcy5ocE5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5oaWRlSHAsMik7XG4gICAgfVxuICAgIGhpZGVIcCgpIHtcbiAgICAgICAgdGhpcy5ocE5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICAgIGhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuY2xvc2VIaWdoTGlnaHQpO1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMSk7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJoaWdoTGlnaHRDb2xvclwiLCBbMS4wLDEuMCwxLjAsMC41XSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuY2xvc2VIaWdoTGlnaHQsIDAuMTUpO1xuICAgIH1cbiAgICBjbG9zZUhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImJlSGl0XCIsIDApO1xuICAgIH1cbiAgICBnZXREaXN0YW5jZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLnBvc2l0aW9uLnN1YihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIucG9zaXRpb24pLmxlbigpO1xuICAgIH1cbiAgICBnZXREaXN0YW5jZVgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUueCAtIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54O1xuICAgIH1cbiAgICBnZXREaXN0YW5jZVkoKXtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMubm9kZS55LUdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci55KTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/sdk/ad.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b526cnt/yNC3IcjXoisdWGD', 'ad');
// scripts/sdk/ad.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ad = void 0;
var _bytedance_1 = require("./_bytedance");
var _oppo_1 = require("./_oppo");
var _qq_1 = require("./_qq");
var _vivo_1 = require("./_vivo");
var _wechat_1 = require("./_wechat");
/**
 * Cocos 渠道SDK
 */
var ad;
(function (ad) {
    var config_ad = {
        debug: {
            appId: 'tt7122079fee087a2f',
            insertId: '46gg1wmm5wn9a0hnl6',
            bannerId: '4k01dbg4af515jmkma',
            videoId: 'c7d8376i18ilhg6da9',
            nativeId: '',
            shareDesc: ['游戏名称', '分享文案'],
            appBoxId: ''
        },
        bytedance_mini_game: {
            appId: 'ttd216a4ab4d2e0a1102',
            insertId: 'n155ma1guj1wo5_qqpa',
            bannerId: '4sepo8dhjqd16by8m7',
            videoId: '15901id1e0k96m4d4e',
            shareDesc: ['末日小英雄', '一起来拯救世界吧！'],
        },
        wechat: {
            appId: '',
            insertId: '',
            bannerId: '',
            videoId: '',
            nativeId: '',
            shareDesc: [],
            appBoxId: ''
        },
        oppo_play: {
            appId: '',
            insertId: '',
            bannerId: '',
            videoId: '',
            nativeId: '',
            shareDesc: [],
            appBoxId: ''
        },
        vivo_play: {
            appId: '',
            insertId: '',
            bannerId: '',
            videoId: '',
            nativeId: '',
            shareDesc: [],
            appBoxId: ''
        },
        qq_play: {
            appId: '',
            insertId: '',
            bannerId: '',
            videoId: '',
            nativeId: '',
            shareDesc: [],
            appBoxId: ''
        }
    };
    /**
    当前平台。*/
    var channel = cc.sys.platform;
    /**
    跳过广告播放*/
    var PASS_AD = true;
    /**
     * 初始化SDK
     * @param passAd 跳过播放广告的过程
     */
    function init(passAd) {
        if (passAd === void 0) { passAd = false; }
        PASS_AD = passAd;
        switch (channel) {
            // case cc.sys.WECHAT_GAME:
            //     if (CC_BUILD && CC_DEBUG) {
            //         ch_wechat.getInstance().initAdParams(config_ad.debug);
            //     }
            //     if (CC_BUILD && !CC_DEBUG) {
            //         ch_wechat.getInstance().initAdParams(config_ad.wechat);
            //     }
            //     break;
            // case cc.sys.BYTEDANCE_GAME:
            //     if (CC_BUILD && CC_DEBUG) {
            //         ch_bytedance.getInstance().initAdParams(config_ad.debug);
            //     }
            //     if (CC_BUILD && !CC_DEBUG) {
            //         ch_bytedance.getInstance().initAdParams(config_ad.bytedance_mini_game);
            //     }
            //     break;
            // case cc.sys.OPPO_GAME:
            //     if (CC_BUILD && CC_DEBUG) {
            //         ch_oppo.getInstance().initAdParams(config_ad.debug);
            //     }
            //     if (CC_BUILD && !CC_DEBUG) {
            //         ch_oppo.getInstance().initAdParams(config_ad.oppo_play);
            //     }
            //     break;
            // case cc.sys.VIVO_GAME:
            //     if (CC_BUILD && CC_DEBUG) {
            //         ch_vivo.getInstance().initAdParams(config_ad.debug);
            //     }
            //     if (CC_BUILD && !CC_DEBUG) {
            //         ch_vivo.getInstance().initAdParams(config_ad.vivo_play);
            //     }
            //     break;
            // case cc.sys.QQ_PLAY:
            //     if (CC_BUILD && CC_DEBUG) {
            //         ch_qq.getInstance().initAdParams(config_ad.debug);
            //     }
            //     if (CC_BUILD && !CC_DEBUG) {
            //         ch_qq.getInstance().initAdParams(config_ad.qq_play);
            //     }
            //     break;
            default:
                break;
        }
    }
    ad.init = init;
    ;
    /**
     * 激励视频调用
     * @returns Promise<boolean>
     */
    function video_show() {
        return new Promise(function (resolve) {
            if (PASS_AD) {
                resolve(true);
                return;
            }
            switch (channel) {
                case cc.sys.WECHAT_GAME:
                    _wechat_1.ch_wechat.getInstance().videoAd_show(resolve);
                    break;
                case cc.sys.BYTEDANCE_GAME:
                    _bytedance_1.ch_bytedance.getInstance().videoAd_show(resolve);
                    break;
                case cc.sys.OPPO_GAME:
                    _oppo_1.ch_oppo.getInstance().videoAd_show(resolve);
                    break;
                case cc.sys.VIVO_GAME:
                    _vivo_1.ch_vivo.getInstance().videoAd_show(resolve);
                    break;
                case cc.sys.QQ_PLAY:
                    _qq_1.ch_qq.getInstance().videoAd_show(resolve);
                    break;
                default:
                    resolve(true);
                    break;
            }
        });
    }
    ad.video_show = video_show;
    /**
     * 横幅展示
     * @returns void
     */
    function banner_show() {
        if (PASS_AD) {
            return;
        }
        switch (channel) {
            case cc.sys.WECHAT_GAME:
                _wechat_1.ch_wechat.getInstance().bannerAd_show();
                break;
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().bannerAd_show();
                break;
            case cc.sys.OPPO_GAME:
                _oppo_1.ch_oppo.getInstance().bannerAd_show();
                break;
            case cc.sys.VIVO_GAME:
                _vivo_1.ch_vivo.getInstance().bannerAd_show();
                break;
            case cc.sys.QQ_PLAY:
                _qq_1.ch_qq.getInstance().bannerAd_show();
                break;
            default:
                break;
        }
    }
    ad.banner_show = banner_show;
    /**
     * 横幅隐藏
     * @returns void
     */
    function banner_hide() {
        if (PASS_AD) {
            return;
        }
        switch (channel) {
            case cc.sys.WECHAT_GAME:
                _wechat_1.ch_wechat.getInstance().bannerAd_hide();
                break;
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().bannerAd_hide();
                break;
            case cc.sys.OPPO_GAME:
                _oppo_1.ch_oppo.getInstance().bannerAd_hide();
                break;
            case cc.sys.VIVO_GAME:
                _vivo_1.ch_vivo.getInstance().bannerAd_hide();
                break;
            case cc.sys.QQ_PLAY:
                _qq_1.ch_qq.getInstance().bannerAd_hide();
                break;
            default:
                break;
        }
    }
    ad.banner_hide = banner_hide;
    /**
     * 插屏展示
     * @returns void
     */
    function insert() {
        switch (channel) {
            case cc.sys.WECHAT_GAME:
                _wechat_1.ch_wechat.getInstance().insterAd_show();
                break;
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().insterAd_show();
                break;
            case cc.sys.VIVO_GAME:
                _vivo_1.ch_vivo.getInstance().insertAd_show();
                break;
            case cc.sys.QQ_PLAY:
                _qq_1.ch_qq.getInstance().insertAd_show();
                break;
            default:
                break;
        }
    }
    ad.insert = insert;
    /**
     * 展示原生广告(目前仅支持VIVO)
     * @description 使用这个API时需要自定义样式
     * @param cb 原生资源回调
     */
    function native_show(cb) {
        switch (channel) {
            case cc.sys.VIVO_GAME:
                _vivo_1.ch_vivo.getInstance().nativeAdShow(cb);
                break;
            default:
                break;
        }
    }
    ad.native_show = native_show;
    /**
     * 展示banner游戏盒子(子节跳动)
     */
    function bannerGameBox_show() {
        switch (channel) {
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().gameBanner_show();
                break;
            default:
                break;
        }
    }
    ad.bannerGameBox_show = bannerGameBox_show;
    /**
     * 隐藏banner游戏盒子(子节跳动)
     */
    function bannerGameBox_hide() {
        switch (channel) {
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().gameBanner_hide();
                break;
            default:
                break;
        }
    }
    ad.bannerGameBox_hide = bannerGameBox_hide;
    /**
     * 开始录制视频(子节跳动)
     * @param tip 显示录屏开始提示
     * @param maxSecond 最大录制时长
     * @param isMarkOpen 水印
     * @property 在游戏开始时调用录制得方法,用于录制游戏过程并分发
     */
    function record(tip, maxSecond, isMarkOpen) {
        if (tip === void 0) { tip = false; }
        if (maxSecond === void 0) { maxSecond = 300; }
        if (isMarkOpen === void 0) { isMarkOpen = false; }
        if (PASS_AD)
            return;
        switch (channel) {
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().luzhiVideo_start(tip, maxSecond, isMarkOpen);
                break;
            default:
                break;
        }
    }
    ad.record = record;
    /**
     * 结束视频录制(子节跳动)
     * @param tip 显示录屏结束提示
     */
    function recordEnd(tip) {
        if (tip === void 0) { tip = true; }
        if (PASS_AD)
            return;
        switch (channel) {
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().luzhiVideo_stop(tip);
                break;
            default:
                break;
        }
    }
    ad.recordEnd = recordEnd;
    /**
     * 分享已录制的视频(子节跳动)
     * @param OnShareCall 分享回调
     * @param query 查询字符串必须是 `key1=val1&key2=val2`
     */
    function recordShare(cb, query) {
        if (query === void 0) { query = ""; }
        if (PASS_AD) {
            cb(true);
            return;
        }
        switch (channel) {
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().luzhiVideo_share(cb, query);
                break;
            default:
                cb(true);
                break;
        }
    }
    ad.recordShare = recordShare;
    /**
     * 震动设备(短)
     */
    function shakeDevice() {
        switch (channel) {
            case cc.sys.WECHAT_GAME:
                break;
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().shakeDevice();
                break;
            case cc.sys.OPPO_GAME:
                _oppo_1.ch_oppo.getInstance().shakeDevice();
                break;
            case cc.sys.VIVO_GAME:
                _vivo_1.ch_vivo.getInstance().shakeDevice();
                break;
            case cc.sys.QQ_PLAY:
                _qq_1.ch_qq.getInstance().shakeDevice();
                break;
            default:
                break;
        }
    }
    ad.shakeDevice = shakeDevice;
    /**
     * #ch!
     * 震动设备(长)
     */
    function shakeDeviceLong() {
        switch (channel) {
            case cc.sys.WECHAT_GAME:
                break;
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().shakeDeviceLong();
                break;
            default:
                break;
        }
    }
    ad.shakeDeviceLong = shakeDeviceLong;
    /**
     * #ch!
     * 游戏非录屏分享
     * @param cb 分享回调
     * @param Protexture QQ小游戏分享图打包位置,类似: `"res/raw-assets/a0/a0100032-933c-4057-a5c4-d8d2bd9f8d0d.png"`
     * @param desTxt QQ小游戏分享文案
     */
    function share(cb, Protexture, desTxt) {
        if (Protexture === void 0) { Protexture = null; }
        if (desTxt === void 0) { desTxt = null; }
        switch (channel) {
            case cc.sys.WECHAT_GAME:
                break;
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().buttonShare(cb);
                break;
            case cc.sys.QQ_PLAY:
                _qq_1.ch_qq.getInstance().buttonShare(cb, Protexture, desTxt);
                break;
            default:
                cb(true);
                break;
        }
    }
    ad.share = share;
    /**
     * 是否展示其他游戏的内推ICON
     * @property 默认IOS端不显示更多游戏,显示端口只有抖音,头条和头条极速版
     */
    function showTTGameIcon() {
        switch (channel) {
            case cc.sys.BYTEDANCE_GAME:
                return _bytedance_1.ch_bytedance.getInstance().showTTGameIcon();
            default:
                return true;
        }
    }
    ad.showTTGameIcon = showTTGameIcon;
    /**
     * 游戏互跳列表(主要是头条)
     */
    function openMoreGame() {
        switch (channel) {
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().openMoreGame();
                break;
            default:
                break;
        }
    }
    ad.openMoreGame = openMoreGame;
    /**
     * 头条自定义触发事件
     * @param values 上报事件
     * @param object 上报参数
     */
    function reportAnalytics(values, object) {
        if (object === void 0) { object = {}; }
        switch (channel) {
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().reportAnalytics(values, object);
                break;
            default:
                break;
        }
    }
    ad.reportAnalytics = reportAnalytics;
    /**
     * 跳转关注抖音号主页(子节跳动)
     */
    function openAwemeUserProfile() {
        return new Promise(function (reslove) {
            switch (channel) {
                case cc.sys.BYTEDANCE_GAME:
                    _bytedance_1.ch_bytedance.getInstance().openAwemeUserProfile(reslove);
                    break;
                default:
                    reslove(true);
                    break;
            }
        });
    }
    ad.openAwemeUserProfile = openAwemeUserProfile;
    /**
     * 浮窗引导,调起关注小程序的引导组件(子节跳动)
     */
    function openSubscribeBanner() {
        switch (channel) {
            case cc.sys.BYTEDANCE_GAME:
                _bytedance_1.ch_bytedance.getInstance().showFavoriteGuide();
                break;
            default:
                break;
        }
    }
    ad.openSubscribeBanner = openSubscribeBanner;
    /**
     * 分包加载
     * @param nameSubpackage 子包名称
     * @param subpackOnCall  子包加载结果回调
     */
    function loadSubpackage(nameSubpackage, subpackOnCall) {
        cc.assetManager.loadBundle(nameSubpackage, function (err, bundle) {
            if (err) {
                console.log('load bundle error:', err);
                return;
            }
            subpackOnCall(bundle);
        });
    }
    ad.loadSubpackage = loadSubpackage;
})(ad = exports.ad || (exports.ad = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcc2RrXFxhZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSwyQ0FBNEM7QUFDNUMsaUNBQWtDO0FBQ2xDLDZCQUE4QjtBQUM5QixpQ0FBa0M7QUFDbEMscUNBQXNDO0FBQ3RDOztHQUVHO0FBQ0gsSUFBaUIsRUFBRSxDQWtjbEI7QUFsY0QsV0FBaUIsRUFBRTtJQUNmLElBQU0sU0FBUyxHQUFXO1FBQ3RCLEtBQUssRUFBRTtZQUNILEtBQUssRUFBRSxvQkFBb0I7WUFDM0IsUUFBUSxFQUFFLG9CQUFvQjtZQUM5QixRQUFRLEVBQUUsb0JBQW9CO1lBQzlCLE9BQU8sRUFBRSxvQkFBb0I7WUFDN0IsUUFBUSxFQUFFLEVBQUU7WUFDWixTQUFTLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQzNCLFFBQVEsRUFBRSxFQUFFO1NBQ2Y7UUFDRCxtQkFBbUIsRUFBRTtZQUNqQixLQUFLLEVBQUUsc0JBQXNCO1lBQzdCLFFBQVEsRUFBRSxxQkFBcUI7WUFDL0IsUUFBUSxFQUFFLG9CQUFvQjtZQUM5QixPQUFPLEVBQUUsb0JBQW9CO1lBQzdCLFNBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUM7U0FDcEM7UUFDRCxNQUFNLEVBQUU7WUFDSixLQUFLLEVBQUUsRUFBRTtZQUNULFFBQVEsRUFBRSxFQUFFO1lBQ1osUUFBUSxFQUFFLEVBQUU7WUFDWixPQUFPLEVBQUUsRUFBRTtZQUNYLFFBQVEsRUFBRSxFQUFFO1lBQ1osU0FBUyxFQUFFLEVBQUU7WUFDYixRQUFRLEVBQUUsRUFBRTtTQUNmO1FBQ0QsU0FBUyxFQUFFO1lBQ1AsS0FBSyxFQUFFLEVBQUU7WUFDVCxRQUFRLEVBQUUsRUFBRTtZQUNaLFFBQVEsRUFBRSxFQUFFO1lBQ1osT0FBTyxFQUFFLEVBQUU7WUFDWCxRQUFRLEVBQUUsRUFBRTtZQUNaLFNBQVMsRUFBRSxFQUFFO1lBQ2IsUUFBUSxFQUFFLEVBQUU7U0FD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Y0FBYztvQkFDdEIseUJBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDekQsTUFBTTtnQkFDVjtvQkFDSSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ2QsTUFBTTthQUNiO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBWGUsdUJBQW9CLHVCQVduQyxDQUFBO0lBQ0Q7O09BRUc7SUFDSCxTQUFnQixtQkFBbUI7UUFDL0IsUUFBUSxPQUFPLEVBQUU7WUFDYixLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUMsY0FBYztnQkFDdEIseUJBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO2dCQUMvQyxNQUFLO1lBQ1Q7Z0JBQ0ksTUFBTTtTQUNiO0lBQ0wsQ0FBQztJQVJlLHNCQUFtQixzQkFRbEMsQ0FBQTtJQUNEOzs7O09BSUc7SUFDSCxTQUFnQixjQUFjLENBQUMsY0FBc0IsRUFBRSxhQUF1QjtRQUMxRSxFQUFFLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxjQUFjLEVBQUUsVUFBQyxHQUFHLEVBQUUsTUFBTTtZQUNuRCxJQUFJLEdBQUcsRUFBRTtnQkFDTCxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUN2QyxPQUFPO2FBQ1Y7WUFDRCxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUIsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBUmUsaUJBQWMsaUJBUTdCLENBQUE7QUFDTCxDQUFDLEVBbGNnQixFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFrY2xCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uZmlnLCBuYXRpdmUgfSBmcm9tIFwiLi90eXBlXCI7XG5pbXBvcnQgeyBjaF9ieXRlZGFuY2UgfSBmcm9tIFwiLi9fYnl0ZWRhbmNlXCI7XG5pbXBvcnQgeyBjaF9vcHBvIH0gZnJvbSBcIi4vX29wcG9cIjtcbmltcG9ydCB7IGNoX3FxIH0gZnJvbSBcIi4vX3FxXCI7XG5pbXBvcnQgeyBjaF92aXZvIH0gZnJvbSBcIi4vX3Zpdm9cIjtcbmltcG9ydCB7IGNoX3dlY2hhdCB9IGZyb20gXCIuL193ZWNoYXRcIjtcbi8qKlxuICogQ29jb3Mg5rig6YGTU0RLXG4gKi9cbmV4cG9ydCBuYW1lc3BhY2UgYWQge1xuICAgIGNvbnN0IGNvbmZpZ19hZDogY29uZmlnID0ge1xuICAgICAgICBkZWJ1Zzoge1xuICAgICAgICAgICAgYXBwSWQ6ICd0dDcxMjIwNzlmZWUwODdhMmYnLFxuICAgICAgICAgICAgaW5zZXJ0SWQ6ICc0NmdnMXdtbTV3bjlhMGhubDYnLFxuICAgICAgICAgICAgYmFubmVySWQ6ICc0azAxZGJnNGFmNTE1am1rbWEnLFxuICAgICAgICAgICAgdmlkZW9JZDogJ2M3ZDgzNzZpMThpbGhnNmRhOScsXG4gICAgICAgICAgICBuYXRpdmVJZDogJycsXG4gICAgICAgICAgICBzaGFyZURlc2M6IFsn5ri45oiP5ZCN56ewJywgJ+WIhuS6q+aWh+ahiCddLFxuICAgICAgICAgICAgYXBwQm94SWQ6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGJ5dGVkYW5jZV9taW5pX2dhbWU6IHtcbiAgICAgICAgICAgIGFwcElkOiAndHRkMjE2YTRhYjRkMmUwYTExMDInLFxuICAgICAgICAgICAgaW5zZXJ0SWQ6ICduMTU1bWExZ3VqMXdvNV9xcXBhJyxcbiAgICAgICAgICAgIGJhbm5lcklkOiAnNHNlcG84ZGhqcWQxNmJ5OG03JyxcbiAgICAgICAgICAgIHZpZGVvSWQ6ICcxNTkwMWlkMWUwazk2bTRkNGUnLFxuICAgICAgICAgICAgc2hhcmVEZXNjOiBbJ+acq+aXpeWwj+iLsembhCcsICfkuIDotbfmnaXmi6/mlZHkuJbnlYzlkKfvvIEnXSxcbiAgICAgICAgfSxcbiAgICAgICAgd2VjaGF0OiB7XG4gICAgICAgICAgICBhcHBJZDogJycsXG4gICAgICAgICAgICBpbnNlcnRJZDogJycsXG4gICAgICAgICAgICBiYW5uZXJJZDogJycsXG4gICAgICAgICAgICB2aWRlb0lkOiAnJyxcbiAgICAgICAgICAgIG5hdGl2ZUlkOiAnJyxcbiAgICAgICAgICAgIHNoYXJlRGVzYzogW10sXG4gICAgICAgICAgICBhcHBCb3hJZDogJydcbiAgICAgICAgfSxcbiAgICAgICAgb3Bwb19wbGF5OiB7XG4gICAgICAgICAgICBhcHBJZDogJycsXG4gICAgICAgICAgICBpbnNlcnRJZDogJycsXG4gICAgICAgICAgICBiYW5uZXJJZDogJycsXG4gICAgICAgICAgICB2aWRlb0lkOiAnJyxcbiAgICAgICAgICAgIG5hdGl2ZUlkOiAnJyxcbiAgICAgICAgICAgIHNoYXJlRGVzYzogW10sXG4gICAgICAgICAgICBhcHBCb3hJZDogJydcbiAgICAgICAgfSxcbiAgICAgICAgdml2b19wbGF5OiB7XG4gICAgICAgICAgICBhcHBJZDogJycsXG4gICAgICAgICAgICBpbnNlcnRJZDogJycsXG4gICAgICAgICAgICBiYW5uZXJJZDogJycsXG4gICAgICAgICAgICB2aWRlb0lkOiAnJyxcbiAgICAgICAgICAgIG5hdGl2ZUlkOiAnJyxcbiAgICAgICAgICAgIHNoYXJlRGVzYzogW10sXG4gICAgICAgICAgICBhcHBCb3hJZDogJydcbiAgICAgICAgfSxcbiAgICAgICAgcXFfcGxheToge1xuICAgICAgICAgICAgYXBwSWQ6ICcnLFxuICAgICAgICAgICAgaW5zZXJ0SWQ6ICcnLFxuICAgICAgICAgICAgYmFubmVySWQ6ICcnLFxuICAgICAgICAgICAgdmlkZW9JZDogJycsXG4gICAgICAgICAgICBuYXRpdmVJZDogJycsXG4gICAgICAgICAgICBzaGFyZURlc2M6IFtdLFxuICAgICAgICAgICAgYXBwQm94SWQ6ICcnXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAg5b2T5YmN5bmz5Y+w44CCKi9cbiAgICBjb25zdCBjaGFubmVsID0gY2Muc3lzLnBsYXRmb3JtO1xuICAgIC8qKlxuICAgIOi3s+i/h+W5v+WRiuaSreaUviovXG4gICAgdmFyIFBBU1NfQUQgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIOWIneWni+WMllNES1xuICAgICAqIEBwYXJhbSBwYXNzQWQg6Lez6L+H5pKt5pS+5bm/5ZGK55qE6L+H56iLXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGluaXQocGFzc0FkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgUEFTU19BRCA9IHBhc3NBZDtcbiAgICAgICAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgICAgICAgICAvLyBjYXNlIGNjLnN5cy5XRUNIQVRfR0FNRTpcbiAgICAgICAgICAgIC8vICAgICBpZiAoQ0NfQlVJTEQgJiYgQ0NfREVCVUcpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgY2hfd2VjaGF0LmdldEluc3RhbmNlKCkuaW5pdEFkUGFyYW1zKGNvbmZpZ19hZC5kZWJ1Zyk7XG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gICAgIGlmIChDQ19CVUlMRCAmJiAhQ0NfREVCVUcpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgY2hfd2VjaGF0LmdldEluc3RhbmNlKCkuaW5pdEFkUGFyYW1zKGNvbmZpZ19hZC53ZWNoYXQpO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIGNhc2UgY2Muc3lzLkJZVEVEQU5DRV9HQU1FOlxuICAgICAgICAgICAgLy8gICAgIGlmIChDQ19CVUlMRCAmJiBDQ19ERUJVRykge1xuICAgICAgICAgICAgLy8gICAgICAgICBjaF9ieXRlZGFuY2UuZ2V0SW5zdGFuY2UoKS5pbml0QWRQYXJhbXMoY29uZmlnX2FkLmRlYnVnKTtcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgICAgaWYgKENDX0JVSUxEICYmICFDQ19ERUJVRykge1xuICAgICAgICAgICAgLy8gICAgICAgICBjaF9ieXRlZGFuY2UuZ2V0SW5zdGFuY2UoKS5pbml0QWRQYXJhbXMoY29uZmlnX2FkLmJ5dGVkYW5jZV9taW5pX2dhbWUpO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIGNhc2UgY2Muc3lzLk9QUE9fR0FNRTpcbiAgICAgICAgICAgIC8vICAgICBpZiAoQ0NfQlVJTEQgJiYgQ0NfREVCVUcpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgY2hfb3Bwby5nZXRJbnN0YW5jZSgpLmluaXRBZFBhcmFtcyhjb25maWdfYWQuZGVidWcpO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICBpZiAoQ0NfQlVJTEQgJiYgIUNDX0RFQlVHKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGNoX29wcG8uZ2V0SW5zdGFuY2UoKS5pbml0QWRQYXJhbXMoY29uZmlnX2FkLm9wcG9fcGxheSk7XG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gY2FzZSBjYy5zeXMuVklWT19HQU1FOlxuICAgICAgICAgICAgLy8gICAgIGlmIChDQ19CVUlMRCAmJiBDQ19ERUJVRykge1xuICAgICAgICAgICAgLy8gICAgICAgICBjaF92aXZvLmdldEluc3RhbmNlKCkuaW5pdEFkUGFyYW1zKGNvbmZpZ19hZC5kZWJ1Zyk7XG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gICAgIGlmIChDQ19CVUlMRCAmJiAhQ0NfREVCVUcpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgY2hfdml2by5nZXRJbnN0YW5jZSgpLmluaXRBZFBhcmFtcyhjb25maWdfYWQudml2b19wbGF5KTtcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBjYXNlIGNjLnN5cy5RUV9QTEFZOlxuICAgICAgICAgICAgLy8gICAgIGlmIChDQ19CVUlMRCAmJiBDQ19ERUJVRykge1xuICAgICAgICAgICAgLy8gICAgICAgICBjaF9xcS5nZXRJbnN0YW5jZSgpLmluaXRBZFBhcmFtcyhjb25maWdfYWQuZGVidWcpO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICBpZiAoQ0NfQlVJTEQgJiYgIUNDX0RFQlVHKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGNoX3FxLmdldEluc3RhbmNlKCkuaW5pdEFkUGFyYW1zKGNvbmZpZ19hZC5xcV9wbGF5KTtcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiDmv4DlirHop4bpopHosIPnlKhcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPGJvb2xlYW4+XG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHZpZGVvX3Nob3coKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKFBBU1NfQUQpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgY2Muc3lzLldFQ0hBVF9HQU1FOlxuICAgICAgICAgICAgICAgICAgICBjaF93ZWNoYXQuZ2V0SW5zdGFuY2UoKS52aWRlb0FkX3Nob3cocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgY2Muc3lzLkJZVEVEQU5DRV9HQU1FOlxuICAgICAgICAgICAgICAgICAgICBjaF9ieXRlZGFuY2UuZ2V0SW5zdGFuY2UoKS52aWRlb0FkX3Nob3cocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgY2Muc3lzLk9QUE9fR0FNRTpcbiAgICAgICAgICAgICAgICAgICAgY2hfb3Bwby5nZXRJbnN0YW5jZSgpLnZpZGVvQWRfc2hvdyhyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBjYy5zeXMuVklWT19HQU1FOlxuICAgICAgICAgICAgICAgICAgICBjaF92aXZvLmdldEluc3RhbmNlKCkudmlkZW9BZF9zaG93KHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGNjLnN5cy5RUV9QTEFZOlxuICAgICAgICAgICAgICAgICAgICBjaF9xcS5nZXRJbnN0YW5jZSgpLnZpZGVvQWRfc2hvdyhyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDmqKrluYXlsZXnpLpcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGJhbm5lcl9zaG93KCkge1xuICAgICAgICBpZiAoUEFTU19BRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuV0VDSEFUX0dBTUU6XG4gICAgICAgICAgICAgICAgY2hfd2VjaGF0LmdldEluc3RhbmNlKCkuYmFubmVyQWRfc2hvdygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuQllURURBTkNFX0dBTUU6XG4gICAgICAgICAgICAgICAgY2hfYnl0ZWRhbmNlLmdldEluc3RhbmNlKCkuYmFubmVyQWRfc2hvdygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuT1BQT19HQU1FOlxuICAgICAgICAgICAgICAgIGNoX29wcG8uZ2V0SW5zdGFuY2UoKS5iYW5uZXJBZF9zaG93KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5WSVZPX0dBTUU6XG4gICAgICAgICAgICAgICAgY2hfdml2by5nZXRJbnN0YW5jZSgpLmJhbm5lckFkX3Nob3coKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY2Muc3lzLlFRX1BMQVk6XG4gICAgICAgICAgICAgICAgY2hfcXEuZ2V0SW5zdGFuY2UoKS5iYW5uZXJBZF9zaG93KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOaoquW5hemakOiXj1xuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gYmFubmVyX2hpZGUoKSB7XG4gICAgICAgIGlmIChQQVNTX0FEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5XRUNIQVRfR0FNRTpcbiAgICAgICAgICAgICAgICBjaF93ZWNoYXQuZ2V0SW5zdGFuY2UoKS5iYW5uZXJBZF9oaWRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5CWVRFREFOQ0VfR0FNRTpcbiAgICAgICAgICAgICAgICBjaF9ieXRlZGFuY2UuZ2V0SW5zdGFuY2UoKS5iYW5uZXJBZF9oaWRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5PUFBPX0dBTUU6XG4gICAgICAgICAgICAgICAgY2hfb3Bwby5nZXRJbnN0YW5jZSgpLmJhbm5lckFkX2hpZGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY2Muc3lzLlZJVk9fR0FNRTpcbiAgICAgICAgICAgICAgICBjaF92aXZvLmdldEluc3RhbmNlKCkuYmFubmVyQWRfaGlkZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuUVFfUExBWTpcbiAgICAgICAgICAgICAgICBjaF9xcS5nZXRJbnN0YW5jZSgpLmJhbm5lckFkX2hpZGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog5o+S5bGP5bGV56S6XG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBpbnNlcnQoKSB7XG4gICAgICAgIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuV0VDSEFUX0dBTUU6XG4gICAgICAgICAgICAgICAgY2hfd2VjaGF0LmdldEluc3RhbmNlKCkuaW5zdGVyQWRfc2hvdygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuQllURURBTkNFX0dBTUU6XG4gICAgICAgICAgICAgICAgY2hfYnl0ZWRhbmNlLmdldEluc3RhbmNlKCkuaW5zdGVyQWRfc2hvdygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuVklWT19HQU1FOlxuICAgICAgICAgICAgICAgIGNoX3Zpdm8uZ2V0SW5zdGFuY2UoKS5pbnNlcnRBZF9zaG93KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5RUV9QTEFZOlxuICAgICAgICAgICAgICAgIGNoX3FxLmdldEluc3RhbmNlKCkuaW5zZXJ0QWRfc2hvdygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDlsZXnpLrljp/nlJ/lub/lkYoo55uu5YmN5LuF5pSv5oyBVklWTylcbiAgICAgKiBAZGVzY3JpcHRpb24g5L2/55So6L+Z5LiqQVBJ5pe26ZyA6KaB6Ieq5a6a5LmJ5qC35byPXG4gICAgICogQHBhcmFtIGNiIOWOn+eUn+i1hOa6kOWbnuiwg1xuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBuYXRpdmVfc2hvdyhjYjogbmF0aXZlKSB7XG4gICAgICAgIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuVklWT19HQU1FOlxuICAgICAgICAgICAgICAgIGNoX3Zpdm8uZ2V0SW5zdGFuY2UoKS5uYXRpdmVBZFNob3coY2IpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDlsZXnpLpiYW5uZXLmuLjmiI/nm5LlrZAo5a2Q6IqC6Lez5YqoKVxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBiYW5uZXJHYW1lQm94X3Nob3coKSB7XG4gICAgICAgIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuQllURURBTkNFX0dBTUU6XG4gICAgICAgICAgICAgICAgY2hfYnl0ZWRhbmNlLmdldEluc3RhbmNlKCkuZ2FtZUJhbm5lcl9zaG93KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOmakOiXj2Jhbm5lcua4uOaIj+ebkuWtkCjlrZDoioLot7PliqgpXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGJhbm5lckdhbWVCb3hfaGlkZSgpIHtcbiAgICAgICAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5CWVRFREFOQ0VfR0FNRTpcbiAgICAgICAgICAgICAgICBjaF9ieXRlZGFuY2UuZ2V0SW5zdGFuY2UoKS5nYW1lQmFubmVyX2hpZGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog5byA5aeL5b2V5Yi26KeG6aKRKOWtkOiKgui3s+WKqClcbiAgICAgKiBAcGFyYW0gdGlwIOaYvuekuuW9leWxj+W8gOWni+aPkOekulxuICAgICAqIEBwYXJhbSBtYXhTZWNvbmQg5pyA5aSn5b2V5Yi25pe26ZW/XG4gICAgICogQHBhcmFtIGlzTWFya09wZW4g5rC05Y2wXG4gICAgICogQHByb3BlcnR5IOWcqOa4uOaIj+W8gOWni+aXtuiwg+eUqOW9leWItuW+l+aWueazlSznlKjkuo7lvZXliLbmuLjmiI/ov4fnqIvlubbliIblj5FcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gcmVjb3JkKHRpcDogYm9vbGVhbiA9IGZhbHNlLCBtYXhTZWNvbmQ6IG51bWJlciA9IDMwMCwgaXNNYXJrT3BlbjogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmKFBBU1NfQUQpIHJldHVybjtcbiAgICAgICAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5CWVRFREFOQ0VfR0FNRTpcbiAgICAgICAgICAgICAgICBjaF9ieXRlZGFuY2UuZ2V0SW5zdGFuY2UoKS5sdXpoaVZpZGVvX3N0YXJ0KHRpcCwgbWF4U2Vjb25kLCBpc01hcmtPcGVuKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog57uT5p2f6KeG6aKR5b2V5Yi2KOWtkOiKgui3s+WKqClcbiAgICAgKiBAcGFyYW0gdGlwIOaYvuekuuW9leWxj+e7k+adn+aPkOekulxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiByZWNvcmRFbmQodGlwOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBpZihQQVNTX0FEKSByZXR1cm47XG4gICAgICAgIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuQllURURBTkNFX0dBTUU6XG4gICAgICAgICAgICAgICAgY2hfYnl0ZWRhbmNlLmdldEluc3RhbmNlKCkubHV6aGlWaWRlb19zdG9wKHRpcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWIhuS6q+W3suW9leWItueahOinhumikSjlrZDoioLot7PliqgpXG4gICAgICogQHBhcmFtIE9uU2hhcmVDYWxsIOWIhuS6q+Wbnuiwg1xuICAgICAqIEBwYXJhbSBxdWVyeSDmn6Xor6LlrZfnrKbkuLLlv4XpobvmmK8gYGtleTE9dmFsMSZrZXkyPXZhbDJgXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlY29yZFNoYXJlKGNiOiBGdW5jdGlvbiwgcXVlcnk6IHN0cmluZyA9IFwiXCIpIHtcbiAgICAgICAgaWYoUEFTU19BRCl7XG4gICAgICAgICAgICBjYih0cnVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGNoYW5uZWwpIHtcbiAgICAgICAgICAgIGNhc2UgY2Muc3lzLkJZVEVEQU5DRV9HQU1FOlxuICAgICAgICAgICAgICAgIGNoX2J5dGVkYW5jZS5nZXRJbnN0YW5jZSgpLmx1emhpVmlkZW9fc2hhcmUoY2IsIHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY2IodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog6ZyH5Yqo6K6+5aSHKOefrSlcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gc2hha2VEZXZpY2UoKSB7XG4gICAgICAgIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuV0VDSEFUX0dBTUU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5CWVRFREFOQ0VfR0FNRTpcbiAgICAgICAgICAgICAgICBjaF9ieXRlZGFuY2UuZ2V0SW5zdGFuY2UoKS5zaGFrZURldmljZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuT1BQT19HQU1FOlxuICAgICAgICAgICAgICAgIGNoX29wcG8uZ2V0SW5zdGFuY2UoKS5zaGFrZURldmljZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuVklWT19HQU1FOlxuICAgICAgICAgICAgICAgIGNoX3Zpdm8uZ2V0SW5zdGFuY2UoKS5zaGFrZURldmljZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuUVFfUExBWTpcbiAgICAgICAgICAgICAgICBjaF9xcS5nZXRJbnN0YW5jZSgpLnNoYWtlRGV2aWNlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqICNjaCFcbiAgICAgKiDpnIfliqjorr7lpIco6ZW/KVxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBzaGFrZURldmljZUxvbmcoKSB7XG4gICAgICAgIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuV0VDSEFUX0dBTUU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5CWVRFREFOQ0VfR0FNRTpcbiAgICAgICAgICAgICAgICBjaF9ieXRlZGFuY2UuZ2V0SW5zdGFuY2UoKS5zaGFrZURldmljZUxvbmcoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogI2NoIVxuICAgICAqIOa4uOaIj+mdnuW9leWxj+WIhuS6q1xuICAgICAqIEBwYXJhbSBjYiDliIbkuqvlm57osINcbiAgICAgKiBAcGFyYW0gUHJvdGV4dHVyZSBRUeWwj+a4uOaIj+WIhuS6q+WbvuaJk+WMheS9jee9riznsbvkvLw6IGBcInJlcy9yYXctYXNzZXRzL2EwL2EwMTAwMDMyLTkzM2MtNDA1Ny1hNWM0LWQ4ZDJiZDlmOGQwZC5wbmdcImBcbiAgICAgKiBAcGFyYW0gZGVzVHh0IFFR5bCP5ri45oiP5YiG5Lqr5paH5qGIXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNoYXJlKGNiOiBGdW5jdGlvbiwgUHJvdGV4dHVyZTogc3RyaW5nIHwgbnVsbCA9IG51bGwsIGRlc1R4dDogc3RyaW5nIHwgbnVsbCA9IG51bGwpIHtcbiAgICAgICAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5XRUNIQVRfR0FNRTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY2Muc3lzLkJZVEVEQU5DRV9HQU1FOlxuICAgICAgICAgICAgICAgIGNoX2J5dGVkYW5jZS5nZXRJbnN0YW5jZSgpLmJ1dHRvblNoYXJlKGNiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY2Muc3lzLlFRX1BMQVk6XG4gICAgICAgICAgICAgICAgY2hfcXEuZ2V0SW5zdGFuY2UoKS5idXR0b25TaGFyZShjYiwgUHJvdGV4dHVyZSwgZGVzVHh0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY2IodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog5piv5ZCm5bGV56S65YW25LuW5ri45oiP55qE5YaF5o6oSUNPTlxuICAgICAqIEBwcm9wZXJ0eSDpu5jorqRJT1Pnq6/kuI3mmL7npLrmm7TlpJrmuLjmiI8s5pi+56S656uv5Y+j5Y+q5pyJ5oqW6Z+zLOWktOadoeWSjOWktOadoeaegemAn+eJiFxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBzaG93VFRHYW1lSWNvbigpOiBib29sZWFuIHtcbiAgICAgICAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5CWVRFREFOQ0VfR0FNRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hfYnl0ZWRhbmNlLmdldEluc3RhbmNlKCkuc2hvd1RUR2FtZUljb24oKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog5ri45oiP5LqS6Lez5YiX6KGoKOS4u+imgeaYr+WktOadoSlcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gb3Blbk1vcmVHYW1lKCkge1xuICAgICAgICBzd2l0Y2ggKGNoYW5uZWwpIHtcbiAgICAgICAgICAgIGNhc2UgY2Muc3lzLkJZVEVEQU5DRV9HQU1FOlxuICAgICAgICAgICAgICAgIGNoX2J5dGVkYW5jZS5nZXRJbnN0YW5jZSgpLm9wZW5Nb3JlR2FtZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDlpLTmnaHoh6rlrprkuYnop6blj5Hkuovku7ZcbiAgICAgKiBAcGFyYW0gdmFsdWVzIOS4iuaKpeS6i+S7tlxuICAgICAqIEBwYXJhbSBvYmplY3Qg5LiK5oql5Y+C5pWwXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlcG9ydEFuYWx5dGljcyh2YWx1ZXM6IHN0cmluZyB8IG51bGwsIG9iamVjdDogT2JqZWN0ID0ge30pIHtcbiAgICAgICAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5CWVRFREFOQ0VfR0FNRTpcbiAgICAgICAgICAgICAgICBjaF9ieXRlZGFuY2UuZ2V0SW5zdGFuY2UoKS5yZXBvcnRBbmFseXRpY3ModmFsdWVzLCBvYmplY3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDot7PovazlhbPms6jmipbpn7Plj7fkuLvpobUo5a2Q6IqC6Lez5YqoKVxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBvcGVuQXdlbWVVc2VyUHJvZmlsZSgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzbG92ZSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGNjLnN5cy5CWVRFREFOQ0VfR0FNRTpcbiAgICAgICAgICAgICAgICAgICAgY2hfYnl0ZWRhbmNlLmdldEluc3RhbmNlKCkub3BlbkF3ZW1lVXNlclByb2ZpbGUocmVzbG92ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlc2xvdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5rWu56qX5byV5a+8LOiwg+i1t+WFs+azqOWwj+eoi+W6j+eahOW8leWvvOe7hOS7tijlrZDoioLot7PliqgpXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9wZW5TdWJzY3JpYmVCYW5uZXIoKSB7XG4gICAgICAgIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuQllURURBTkNFX0dBTUU6XG4gICAgICAgICAgICAgICAgY2hfYnl0ZWRhbmNlLmdldEluc3RhbmNlKCkuc2hvd0Zhdm9yaXRlR3VpZGUoKTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDliIbljIXliqDovb1cbiAgICAgKiBAcGFyYW0gbmFtZVN1YnBhY2thZ2Ug5a2Q5YyF5ZCN56ewXG4gICAgICogQHBhcmFtIHN1YnBhY2tPbkNhbGwgIOWtkOWMheWKoOi9vee7k+aenOWbnuiwg1xuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBsb2FkU3VicGFja2FnZShuYW1lU3VicGFja2FnZTogc3RyaW5nLCBzdWJwYWNrT25DYWxsOiBGdW5jdGlvbikge1xuICAgICAgICBjYy5hc3NldE1hbmFnZXIubG9hZEJ1bmRsZShuYW1lU3VicGFja2FnZSwgKGVyciwgYnVuZGxlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xvYWQgYnVuZGxlIGVycm9yOicsIGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VicGFja09uQ2FsbChidW5kbGUpO1xuICAgICAgICB9KTtcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/miniBossFlag.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e3b681/uxlMAKcudJJn8jsX', 'miniBossFlag');
// scripts/game/miniBossFlag.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var Events_1 = require("./Events");
var FX_flagThunder_1 = require("./FX_flagThunder");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["attack"] = 0] = "attack";
})(damageCollider || (damageCollider = {}));
var miniBoss = /** @class */ (function (_super) {
    __extends(miniBoss, _super);
    function miniBoss() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.thunderPre = null;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.hpNode = null;
        _this.hpBar = null;
        _this.dieEffectName = "";
        _this.moveSpeed = 150; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 1; //ai间隔
        _this.stopDistance = 130; //停止距离
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 25000; //手里剑攻击作用力
        _this.beHitForce_x = 25000; //普通攻击作用力
        _this.beHitForce_y_shuriken = 50000; //普通攻击作用力
        _this.beHitForce_x_attack3 = 350000; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.isDie = false;
        _this.isWuDu = true;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isMove = false; //是否处于移动状态
        _this.dmgCollider = null;
        _this.isWarning = false;
        _this.warn_a = {
            a: 0
        };
        return _this;
    }
    miniBoss.prototype.onLoad = function () {
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    miniBoss.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations)
    };
    miniBoss.prototype.init = function () {
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E27LightningTotemFall);
    };
    miniBoss.prototype.appearFinished = function () {
        this.isWuDu = false;
        this.idle();
    };
    miniBoss.prototype.update = function () {
        this.warningAction();
        if (this.isMove == false)
            return;
        var distance = this.getDistanceX();
        if (Math.abs(distance) < this.stopDistance) {
            this.hit();
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.attack)
                return;
            this.moveToPlayer();
        }
    };
    miniBoss.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "ground") {
        }
    };
    miniBoss.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    miniBoss.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    miniBoss.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    miniBoss.prototype.AI_start = function () {
        var _this = this;
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.changeMovState(false);
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            return;
        }
        var distance = Math.abs(this.getDistanceX());
        if (distance < this.stopDistance) {
            this.hit();
        }
        else {
            this.changeDirection();
            var moveState = ["move", "move2", "run"];
            var randomState = moveState[caijiTools_1.caijiTools.random_int(0, moveState.length - 1)];
            this.enemyAnimation.changeState(animationState_1.enemyState[randomState], 1, true);
            switch (this.enemyAnimation.state) {
                case animationState_1.enemyState.move:
                    this.nowSpeed = this.moveSpeed;
                    break;
                case animationState_1.enemyState.move2:
                    this.nowSpeed = this.moveSpeed;
                    break;
                case animationState_1.enemyState.run:
                    this.nowSpeed = this.moveSpeed * 1.8;
                    break;
            }
            this.changeMovState(moveState.includes(this.skeleton.animation));
            this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.nowSpeed : this.nowSpeed;
        }
    };
    miniBoss.prototype.AI_stop = function () {
        this.idle();
    };
    miniBoss.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    miniBoss.prototype.idle = function () {
        var _this = this;
        this.changeMovState(false);
        //this.changeDirection();
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.idle, 1, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.idle)
                return;
            _this.warning();
        }, 2);
    };
    miniBoss.prototype.warning = function () {
        this.isWarning = true;
        this.skeleton.setAttachment("images/totem/eff_light", "images/totem/eff_light");
        this.skeleton.setAttachment("images/totem/eff_light2", "images/totem/eff_light");
        cc.tween(this.warn_a)
            .repeatForever(cc.tween()
            .to(0.1, { a: 1 }, { "easing": "sineOut" })
            .to(0.1, { a: 0.1 }, { "easing": "sineIn" }))
            .start();
        this.scheduleOnce(this.bomb, 2);
    };
    miniBoss.prototype.warningAction = function () {
        if (this.isWarning == false)
            return;
        //@ts-ignore
        this.skeleton._skeleton.slots[4].color["a"] = this.warn_a.a;
        //@ts-ignore
        this.skeleton._skeleton.slots[5].color["a"] = this.warn_a.a;
    };
    miniBoss.prototype.changeDirection = function () {
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x - this.node.x > 0 ? -this.scaleX_skeleton : this.scaleX_skeleton;
        //this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    miniBoss.prototype.die = function () {
        if (this.isDie)
            return;
        this.isDie = true;
        this.isWarning = false;
        this.hideHp();
        //@ts-ignore
        this.skeleton._skeleton.slots[4].color["a"] = 0;
        //@ts-ignore
        this.skeleton._skeleton.slots[5].color["a"] = 0;
        this.enemyAnimation.changeState(animationState_1.enemyState.die, 1, false, true);
        this.dieCount();
    };
    //召唤闪电
    miniBoss.prototype.bomb = function () {
        if (this.isDie)
            return;
        this.isDie = true;
        this.isWarning = false;
        this.hideHp();
        //@ts-ignore
        this.skeleton._skeleton.slots[4].color["a"] = 0;
        //@ts-ignore
        this.skeleton._skeleton.slots[5].color["a"] = 0;
        this.enemyAnimation.changeState(animationState_1.enemyState.die, 1, false, true);
        this.FX_thunder();
    };
    //闪电
    miniBoss.prototype.FX_thunder = function () {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.ThunderTotemStruck);
        var thunder = cc.instantiate(this.thunderPre);
        thunder.setParent(this.node.parent);
        thunder.setPosition(this.node.position);
        thunder.setSiblingIndex(GameManager_1.default.instance.player.getSiblingIndex() + 1);
        thunder.getComponent(FX_flagThunder_1.default).damage = this.damage;
        thunder.active = true;
    };
    miniBoss.prototype.dieEnd = function () {
        this.node.destroy();
    };
    miniBoss.prototype.getUp = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.get_up, 1, false, true);
    };
    miniBoss.prototype.moveToPlayer = function () {
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    miniBoss.prototype.hit = function () {
        var _this = this;
        if (animationState_1.enemyState[this.enemyAnimation.state].includes("get_hurt"))
            return;
        this.changeDirection();
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        this.showDamageCollider(damageCollider.attack);
        this.enemyAnimation.changeState(animationState_1.enemyState.attack, 1, false);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state == animationState_1.enemyState.attack) {
                _this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
            }
        }, 0.5);
    };
    miniBoss.prototype.beHit = function (damage, dmgType) {
        if (this.isDie || this.isWuDu)
            return;
        this.changeMovState(false);
        this.setRigibodySpeed(0);
        // let isContinue = this.checkIsSwordRain(dmgType);//设置剑雨攻击间隔
        // if (isContinue == 0) return;
        this.highLight();
        this.showHp();
        this.changeState_beHit(dmgType);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        this.updateHp(damage);
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
    };
    miniBoss.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    miniBoss.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.get_hurt2;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.knock_down;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.get_hurt1;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    miniBoss.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    miniBoss.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    miniBoss.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    miniBoss.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    miniBoss.prototype.updateHp = function (damage) {
        this.hp -= damage;
        this.hpBar.progress = this.hp / this.hpMax;
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    miniBoss.prototype.showHp = function () {
        this.unschedule(this.hideHp);
        this.hpNode.active = true;
        this.scheduleOnce(this.hideHp, 2);
    };
    miniBoss.prototype.hideHp = function () {
        this.hpNode.active = false;
    };
    miniBoss.prototype.highLight = function () {
        this.unschedule(this.closeHighLight);
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        this.scheduleOnce(this.closeHighLight, 0.15);
    };
    miniBoss.prototype.closeHighLight = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    miniBoss.prototype.getDistanceX = function () {
        return this.node.x - GameManager_1.default.instance.player.x;
    };
    __decorate([
        property(cc.Prefab)
    ], miniBoss.prototype, "thunderPre", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], miniBoss.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], miniBoss.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.Node)
    ], miniBoss.prototype, "hpNode", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], miniBoss.prototype, "hpBar", void 0);
    __decorate([
        property(cc.String)
    ], miniBoss.prototype, "dieEffectName", void 0);
    miniBoss = __decorate([
        ccclass
    ], miniBoss);
    return miniBoss;
}(enemyBase_1.default));
exports.default = miniBoss;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcbWluaUJvc3NGbGFnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdEQUE0QztBQUM1Qyw0Q0FBMkM7QUFDM0MscURBQWdEO0FBQ2hELG1EQUEwRDtBQUMxRCxtREFBOEM7QUFDOUMseUNBQW9DO0FBQ3BDLHVEQUFrRDtBQUNsRCxtQ0FBOEI7QUFDOUIsbURBQThDO0FBQzlDLDZDQUF3QztBQUVsQyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUM1QyxJQUFLLGNBRUo7QUFGRCxXQUFLLGNBQWM7SUFDZix1REFBTSxDQUFBO0FBQ1YsQ0FBQyxFQUZJLGNBQWMsS0FBZCxjQUFjLFFBRWxCO0FBRUQ7SUFBc0MsNEJBQVM7SUFBL0M7UUFBQSxxRUE2VUM7UUExVUcsZ0JBQVUsR0FBVyxJQUFJLENBQUM7UUFFMUIsd0JBQWtCLEdBQVcsQ0FBQyxDQUFDO1FBRS9CLHdCQUFrQixHQUFXLENBQUMsQ0FBQztRQUUvQixZQUFNLEdBQVksSUFBSSxDQUFDO1FBRXZCLFdBQUssR0FBbUIsSUFBSSxDQUFDO1FBRTdCLG1CQUFhLEdBQVcsRUFBRSxDQUFDO1FBRTNCLGVBQVMsR0FBVyxHQUFHLENBQUMsQ0FBQSxNQUFNO1FBQzlCLGNBQVEsR0FBVyxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQzNCLGlCQUFXLEdBQVcsQ0FBQyxDQUFDLENBQUEsTUFBTTtRQUM5QixrQkFBWSxHQUFXLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDakMsUUFBRSxHQUFXLENBQUMsQ0FBQztRQUNmLGFBQU8sR0FBVyxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQzFCLGtCQUFZLEdBQVcsS0FBSyxDQUFDLENBQUEsVUFBVTtRQUN2QyxrQkFBWSxHQUFXLEtBQUssQ0FBQSxDQUFBLFNBQVM7UUFDckMsMkJBQXFCLEdB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QUN6RCxDQUFDO0lBQ0QsK0JBQVksR0FBWjtRQUNJLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBelVEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0RBQ007SUFFMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLENBQUM7d0RBQ3BCO0lBRS9CO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDO3dEQUNwQjtJQUUvQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzRDQUNLO0lBRXZCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7MkNBQ0k7SUFFN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzttREFDTztJQWJWLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0E2VTVCO0lBQUQsZUFBQztDQTdVRCxBQTZVQyxDQTdVcUMsbUJBQVMsR0E2VTlDO2tCQTdVb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF1ZGlvTmFtZSB9IGZyb20gXCIuLi9hdWRpb05hbWVNZ3JcIjtcbmltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vY2FpamlUb29sc1wiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi4vbWFpbi9hdWRpb01hbmFnZXJcIjtcbmltcG9ydCB7IGF0dGFja1R5cGUsIGVuZW15U3RhdGUgfSBmcm9tIFwiLi9hbmltYXRpb25TdGF0ZVwiO1xuaW1wb3J0IGVuZW15QW5pbWF0aW9uIGZyb20gXCIuL2VuZW15QW5pbWF0aW9uXCI7XG5pbXBvcnQgZW5lbXlCYXNlIGZyb20gXCIuL2VuZW15QmFzZVwiO1xuaW1wb3J0IGVuZW15SGl0Q29sbGlkZXIgZnJvbSBcIi4vZW5lbXlIaXRDb2xsaWRlclwiO1xuaW1wb3J0IEV2ZW50cyBmcm9tIFwiLi9FdmVudHNcIjtcbmltcG9ydCBGWF9mbGFnVGh1bmRlciBmcm9tIFwiLi9GWF9mbGFnVGh1bmRlclwiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5lbnVtIGRhbWFnZUNvbGxpZGVyIHtcbiAgICBhdHRhY2tcbn1cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBtaW5pQm9zcyBleHRlbmRzIGVuZW15QmFzZSB7XG5cbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHRodW5kZXJQcmU6Y2MuUHJlZmFiPW51bGw7XG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuRmxvYXQsIHRvb2x0aXA6IFwi5Lyk5a6z5pWI5p6ceOi9tOWBj+enu+WAvFwiIH0pXG4gICAgZGFtYWdlTGFiZWxPZmZzZXRYOiBudW1iZXIgPSAwO1xuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkZsb2F0LCB0b29sdGlwOiBcIuS8pOWus+aViOaenHnovbTlgY/np7vlgLxcIiB9KVxuICAgIGRhbWFnZUxhYmVsT2Zmc2V0WTogbnVtYmVyID0gMDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBocE5vZGU6IGNjLk5vZGUgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcbiAgICBocEJhcjogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5TdHJpbmcpXG4gICAgZGllRWZmZWN0TmFtZTogc3RyaW5nID0gXCJcIjtcblxuICAgIG1vdmVTcGVlZDogbnVtYmVyID0gMTUwOy8v56e75Yqo6YCf5bqmXG4gICAgbm93U3BlZWQ6IG51bWJlciA9IDA7Ly/lvZPliY3pgJ/luqZcbiAgICBBSV9pbnRlcnZhbDogbnVtYmVyID0gMTsvL2Fp6Ze06ZqUXG4gICAgc3RvcERpc3RhbmNlOiBudW1iZXIgPSAxMzA7Ly/lgZzmraLot53nprtcbiAgICBocDogbnVtYmVyID0gMDtcbiAgICBocFRpbWVzOiBudW1iZXIgPSAxOy8v6KGA6YeP5YCN5pWwXG4gICAgYmVIaXRGb3JjZV95OiBudW1iZXIgPSAyNTAwMDsvL+aJi+mHjOWJkeaUu+WHu+S9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeDogbnVtYmVyID0gMjUwMDAvL+aZrumAmuaUu+WHu+S9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeV9zaHVyaWtlbjogbnVtYmVyID0gNTAwMDAvL+aZrumAmuaUu+WHu+S9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeF9hdHRhY2szOiBudW1iZXIgPSAzNTAwMDA7Ly/ooqvlh7vpo57kvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3lfYXR0YWNrMzogbnVtYmVyID0gMDsvL+iiq+WHu+mjnuS9nOeUqOWKm1xuICAgIHNjYWxlWF9za2VsZXRvbjogbnVtYmVyID0gMDtcbiAgICBpc0RpZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzV3VEdTogYm9vbGVhbiA9IHRydWU7XG4gICAgc2tlbGV0b246IHNwLlNrZWxldG9uID0gbnVsbDtcbiAgICBlbmVteUFuaW1hdGlvbjogZW5lbXlBbmltYXRpb24gPSBudWxsO1xuICAgIHJpZ2lib2R5OiBjYy5SaWdpZEJvZHkgPSBudWxsO1xuICAgIGJveENvbGxpZGVyOiBjYy5QaHlzaWNzQm94Q29sbGlkZXIgPSBudWxsO1xuICAgIGlzU3dvcmRSYWluQ2Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc01vdmU6IGJvb2xlYW4gPSBmYWxzZTsvL+aYr+WQpuWkhOS6juenu+WKqOeKtuaAgVxuICAgIGRtZ0NvbGxpZGVyOiBkYW1hZ2VDb2xsaWRlciA9IG51bGw7XG4gICAgaXNXYXJuaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgd2Fybl9hID0ge1xuICAgICAgICBhOiAwXG4gICAgfVxuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uID0gdGhpcy5ub2RlLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbik7XG4gICAgICAgIHRoaXMuc2NhbGVYX3NrZWxldG9uID0gTWF0aC5hYnModGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCk7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24gPSB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGVuZW15QW5pbWF0aW9uKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5lbmVteUNvbnRyb2xsZXIgPSB0aGlzO1xuICAgICAgICB0aGlzLnJpZ2lib2R5ID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5SaWdpZEJvZHkpO1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5QaHlzaWNzQm94Q29sbGlkZXIpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuc2tlbGV0b24uc2tlbGV0b25EYXRhLl9za2VsZXRvbkNhY2hlLmFuaW1hdGlvbnMpXG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICAgICAgdGhpcy5ocCA9IHRoaXMuaHBNYXggKiB0aGlzLmhwVGltZXM7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUyN0xpZ2h0bmluZ1RvdGVtRmFsbCk7XG4gICAgfVxuICAgIGFwcGVhckZpbmlzaGVkKCkge1xuICAgICAgICB0aGlzLmlzV3VEdSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLndhcm5pbmdBY3Rpb24oKTtcbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZlID09IGZhbHNlKSByZXR1cm47XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHRoaXMuZ2V0RGlzdGFuY2VYKCk7XG4gICAgICAgIGlmIChNYXRoLmFicyhkaXN0YW5jZSkgPCB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlID09IGVuZW15U3RhdGUuYXR0YWNrKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLm1vdmVUb1BsYXllcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQmVnaW5Db250YWN0KGNvbnRhY3Q6IGNjLlBoeXNpY3NDb250YWN0LCBzZWxmQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlciwgb3RoZXJDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGxldCBvdGhlciA9IG90aGVyQ29sbGlkZXIubm9kZTtcbiAgICAgICAgLy8gbGV0IHdvcmxkTWFuaWZvbGQgPSBjb250YWN0LmdldFdvcmxkTWFuaWZvbGQoKTtcbiAgICAgICAgLy8gbGV0IG5vcm1hbCA9IHdvcmxkTWFuaWZvbGQubm9ybWFsO1xuICAgICAgICBpZiAob3RoZXIuZ3JvdXAgPT0gXCJncm91bmRcIikge1xuICAgICAgICB9XG4gICAgfVxuICAgIHNob3dEYW1hZ2VDb2xsaWRlcihjb2xsaWRlcjogZGFtYWdlQ29sbGlkZXIpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW2NvbGxpZGVyXS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRtZ0NvbGxpZGVyID0gY29sbGlkZXI7XG4gICAgfVxuICAgIGdldERhbWFnZUNvbGxpZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdO1xuICAgIH1cbiAgICBoaWRlRGFtYWdlQ29sbGlkZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmRtZ0NvbGxpZGVyID09IG51bGwpIHJldHVybjtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRtZ0NvbGxpZGVyID0gbnVsbDtcbiAgICB9XG4gICAgQUlfc3RhcnQoKSB7XG4gICAgICAgIGlmIChHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLmlzRGllKSB7XG4gICAgICAgICAgICAvL+eOqeWutuW3suatuyDlgZzmraLnp7vliqhcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuQUlfc3RhcnQoKTtcbiAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguYWJzKHRoaXMuZ2V0RGlzdGFuY2VYKCkpO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgICAgICBsZXQgbW92ZVN0YXRlID0gW1wibW92ZVwiLCBcIm1vdmUyXCIsIFwicnVuXCJdO1xuICAgICAgICAgICAgbGV0IHJhbmRvbVN0YXRlID0gbW92ZVN0YXRlW2NhaWppVG9vbHMucmFuZG9tX2ludCgwLCBtb3ZlU3RhdGUubGVuZ3RoIC0gMSldO1xuICAgICAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlW3JhbmRvbVN0YXRlXSwgMSwgdHJ1ZSk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUubW92ZTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3dTcGVlZCA9IHRoaXMubW92ZVNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUubW92ZTI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm93U3BlZWQgPSB0aGlzLm1vdmVTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUucnVuOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vd1NwZWVkID0gdGhpcy5tb3ZlU3BlZWQgKiAxLjg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShtb3ZlU3RhdGUuaW5jbHVkZXModGhpcy5za2VsZXRvbi5hbmltYXRpb24pKTtcbiAgICAgICAgICAgIHRoaXMubm93U3BlZWQgPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IC10aGlzLm5vd1NwZWVkIDogdGhpcy5ub3dTcGVlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBBSV9zdG9wKCkge1xuICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICB9XG4gICAgY2hhbmdlTW92U3RhdGUoaXNNb3ZlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNNb3ZlID0gaXNNb3ZlO1xuICAgIH1cbiAgICBpZGxlKCkge1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgLy90aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoMCk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwLCAwKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmlkbGUsIDEsIHRydWUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSAhPSBlbmVteVN0YXRlLmlkbGUpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMud2FybmluZygpO1xuICAgICAgICB9LCAyKTtcbiAgICB9XG4gICAgd2FybmluZygpIHtcbiAgICAgICAgdGhpcy5pc1dhcm5pbmc9dHJ1ZTtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5zZXRBdHRhY2htZW50KFwiaW1hZ2VzL3RvdGVtL2VmZl9saWdodFwiLCBcImltYWdlcy90b3RlbS9lZmZfbGlnaHRcIik7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uc2V0QXR0YWNobWVudChcImltYWdlcy90b3RlbS9lZmZfbGlnaHQyXCIsIFwiaW1hZ2VzL3RvdGVtL2VmZl9saWdodFwiKTtcbiAgICAgICAgY2MudHdlZW4odGhpcy53YXJuX2EpXG4gICAgICAgIC5yZXBlYXRGb3JldmVyKFxuICAgICAgICAgICAgY2MudHdlZW4oKVxuICAgICAgICAgICAgLnRvKDAuMSx7YToxfSx7XCJlYXNpbmdcIjpcInNpbmVPdXRcIn0pXG4gICAgICAgICAgICAudG8oMC4xLHthOjAuMX0se1wiZWFzaW5nXCI6XCJzaW5lSW5cIn0pXG4gICAgICAgIClcbiAgICAgICAgLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuYm9tYiwyKTtcbiAgICB9XG4gICAgd2FybmluZ0FjdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNXYXJuaW5nID09IGZhbHNlKSByZXR1cm47XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLnNrZWxldG9uLl9za2VsZXRvbi5zbG90c1s0XS5jb2xvcltcImFcIl0gPSB0aGlzLndhcm5fYS5hO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5za2VsZXRvbi5fc2tlbGV0b24uc2xvdHNbNV0uY29sb3JbXCJhXCJdID0gdGhpcy53YXJuX2EuYTtcbiAgICB9XG4gICAgY2hhbmdlRGlyZWN0aW9uKCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggLSB0aGlzLm5vZGUueCA+IDAgPyAtdGhpcy5zY2FsZVhfc2tlbGV0b24gOiB0aGlzLnNjYWxlWF9za2VsZXRvbjtcbiAgICAgICAgLy90aGlzLmhwTm9kZS54ID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtMjggOiAyODtcbiAgICB9XG4gICAgZGllKCkge1xuICAgICAgICBpZih0aGlzLmlzRGllKSByZXR1cm47XG4gICAgICAgIHRoaXMuaXNEaWUgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzV2FybmluZz1mYWxzZTtcbiAgICAgICAgdGhpcy5oaWRlSHAoKTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHRoaXMuc2tlbGV0b24uX3NrZWxldG9uLnNsb3RzWzRdLmNvbG9yW1wiYVwiXSA9IDA7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLnNrZWxldG9uLl9za2VsZXRvbi5zbG90c1s1XS5jb2xvcltcImFcIl0gPSAwO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuZGllLCAxLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgdGhpcy5kaWVDb3VudCgpXG4gICAgfVxuICAgIC8v5Y+s5ZSk6Zeq55S1XG4gICAgYm9tYigpIHtcbiAgICAgICAgaWYodGhpcy5pc0RpZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzRGllID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pc1dhcm5pbmc9ZmFsc2U7XG4gICAgICAgIHRoaXMuaGlkZUhwKCk7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLnNrZWxldG9uLl9za2VsZXRvbi5zbG90c1s0XS5jb2xvcltcImFcIl0gPSAwO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5za2VsZXRvbi5fc2tlbGV0b24uc2xvdHNbNV0uY29sb3JbXCJhXCJdID0gMDtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmRpZSwgMSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB0aGlzLkZYX3RodW5kZXIoKTtcbiAgICB9XG4gICAgLy/pl6rnlLVcbiAgICBGWF90aHVuZGVyKCl7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLlRodW5kZXJUb3RlbVN0cnVjayk7XG4gICAgICAgIGxldCB0aHVuZGVyPWNjLmluc3RhbnRpYXRlKHRoaXMudGh1bmRlclByZSk7XG4gICAgICAgIHRodW5kZXIuc2V0UGFyZW50KHRoaXMubm9kZS5wYXJlbnQpO1xuICAgICAgICB0aHVuZGVyLnNldFBvc2l0aW9uKHRoaXMubm9kZS5wb3NpdGlvbik7XG4gICAgICAgIHRodW5kZXIuc2V0U2libGluZ0luZGV4KEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci5nZXRTaWJsaW5nSW5kZXgoKSsxKTtcbiAgICAgICAgdGh1bmRlci5nZXRDb21wb25lbnQoRlhfZmxhZ1RodW5kZXIpLmRhbWFnZT10aGlzLmRhbWFnZTtcbiAgICAgICAgdGh1bmRlci5hY3RpdmU9dHJ1ZTtcbiAgICB9XG4gICAgZGllRW5kKCl7XG4gICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldFVwKCkge1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuZ2V0X3VwLCAxLCBmYWxzZSwgdHJ1ZSlcbiAgICB9XG4gICAgbW92ZVRvUGxheWVyKCkge1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5ID0gY2MudjIodGhpcy5ub3dTcGVlZCwgMCk7XG4gICAgfVxuICAgIGhpdCgpIHtcbiAgICAgICAgaWYgKGVuZW15U3RhdGVbdGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZV0uaW5jbHVkZXMoXCJnZXRfaHVydFwiKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDAsIDApO1xuICAgICAgICB0aGlzLnNob3dEYW1hZ2VDb2xsaWRlcihkYW1hZ2VDb2xsaWRlci5hdHRhY2spO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuYXR0YWNrLCAxLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlID09IGVuZW15U3RhdGUuYXR0YWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXREYW1hZ2VDb2xsaWRlcigpLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5oaXQodGhpcy5ub2RlLCB0aGlzLmRhbWFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDAuNSk7XG4gICAgfVxuICAgIGJlSGl0KGRhbWFnZTogbnVtYmVyLCBkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGllIHx8IHRoaXMuaXNXdUR1KSByZXR1cm47XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCk7XG4gICAgICAgIC8vIGxldCBpc0NvbnRpbnVlID0gdGhpcy5jaGVja0lzU3dvcmRSYWluKGRtZ1R5cGUpOy8v6K6+572u5YmR6Zuo5pS75Ye76Ze06ZqUXG4gICAgICAgIC8vIGlmIChpc0NvbnRpbnVlID09IDApIHJldHVybjtcbiAgICAgICAgdGhpcy5oaWdoTGlnaHQoKTtcbiAgICAgICAgdGhpcy5zaG93SHAoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZV9iZUhpdChkbWdUeXBlKTtcbiAgICAgICAgbGV0IHggPSB0aGlzLm5vZGUuc2NhbGVYIDwgMCA/IHRoaXMubm9kZS54ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFggOiB0aGlzLm5vZGUueCAtIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRYO1xuICAgICAgICBsZXQgeSA9IHRoaXMubm9kZS55ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFk7XG4gICAgICAgIEV2ZW50cy5pbnN0YW5jZS5zaG93RGFtYWdlTGFiZWxfZW5lbXkodGhpcy5ub2RlLCBkYW1hZ2UsIGNjLnYyKHgsIHkpKTtcbiAgICAgICAgdGhpcy51cGRhdGVIcChkYW1hZ2UpO1xuICAgICAgICBpZiAodGhpcy5ocCA8PSAwKSB7XG4gICAgICAgICAgICBFdmVudHMuaW5zdGFuY2UuY3JlYXRlRW5lbXlEaWVFZmZlY3QodGhpcy5ub2RlLCB0aGlzLmRpZUVmZmVjdE5hbWUsIGNjLnYyKHgsIHkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRSaWdpYm9keVNwZWVkKHg6IG51bWJlciwgeTogbnVtYmVyID0gMCkge1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5ID0gY2MudjIoeCwgeSk7XG4gICAgfVxuICAgIGNoYW5nZVN0YXRlX2JlSGl0KGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBlckFybW9yKSByZXR1cm47XG4gICAgICAgIGxldCBzdGF0ZSA9IG51bGw7XG4gICAgICAgIGxldCBpc0tub2NrRG93biA9IGRtZ1R5cGUgPT0gYXR0YWNrVHlwZS5hdHRhY2szID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKGRtZ1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2sxOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDI7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazI6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoNSk7XG4gICAgICAgICAgICAgICAgfSwgMC40KTtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUua25vY2tfZG93bjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlLnggPCBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAmJiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoLXRoaXMuYmVIaXRGb3JjZV94X2F0dGFjazMsIHRoaXMuYmVIaXRGb3JjZV95X2F0dGFjazMpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubm9kZS54ID4gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggJiYgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKHRoaXMuYmVIaXRGb3JjZV94X2F0dGFjazMsIHRoaXMuYmVIaXRGb3JjZV95X2F0dGFjazMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuanVtcEhpdDpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsIDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5zaHVyaWtlbjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmVIaXRGb3JjZV95X3NodXJpa2VuKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuc3dvcmRSYWluOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoc3RhdGUsIDEsIGZhbHNlLCBpc0tub2NrRG93bik7XG4gICAgfVxuICAgIHNldExpbmVhckRhbXBpbmcoZGFtcGluZzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyRGFtcGluZyA9IGRhbXBpbmc7XG4gICAgfVxuICAgIHNldEZyaWN0aW9uKGZyaWN0aW9uOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIuZnJpY3Rpb24gPSBmcmljdGlvbjtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5hcHBseSgpO1xuICAgIH1cbiAgICBhcHBseUZvcmNlKGZvcmNlOiBjYy5WZWMyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwZXJBcm1vcikgcmV0dXJuO1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmFwcGx5Rm9yY2VUb0NlbnRlcihmb3JjZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGNoZWNrSXNTd29yZFJhaW4oZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICBpZiAoZG1nVHlwZSA9PSBhdHRhY2tUeXBlLnN3b3JkUmFpbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTd29yZFJhaW5DZCkgcmV0dXJuIDA7XG4gICAgICAgICAgICB0aGlzLmlzU3dvcmRSYWluQ2QgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTd29yZFJhaW5DZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgdGhpcy5zd29yZFJhaW5IaXRDZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHVwZGF0ZUhwKGRhbWFnZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaHAgLT0gZGFtYWdlO1xuICAgICAgICB0aGlzLmhwQmFyLnByb2dyZXNzID0gdGhpcy5ocCAvIHRoaXMuaHBNYXg7XG4gICAgICAgIGlmICh0aGlzLmhwIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuaHAgPSAwO1xuICAgICAgICAgICAgdGhpcy5kaWUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG93SHAoKSB7XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLmhpZGVIcCk7XG4gICAgICAgIHRoaXMuaHBOb2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuaGlkZUhwLCAyKTtcbiAgICB9XG4gICAgaGlkZUhwKCkge1xuICAgICAgICB0aGlzLmhwTm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gICAgaGlnaExpZ2h0KCkge1xuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5jbG9zZUhpZ2hMaWdodCk7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJiZUhpdFwiLCAxKTtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImhpZ2hMaWdodENvbG9yXCIsIFsxLjAsIDEuMCwgMS4wLCAwLjVdKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5jbG9zZUhpZ2hMaWdodCwgMC4xNSk7XG4gICAgfVxuICAgIGNsb3NlSGlnaExpZ2h0KCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMCk7XG4gICAgfVxuICAgIGdldERpc3RhbmNlWCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS54IC0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLng7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/shaderController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fbec0pG4BtN/LdY2nKQkmJi', 'shaderController');
// scripts/game/shaderController.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var animationState_1 = require("./animationState");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["attack"] = 0] = "attack";
    damageCollider[damageCollider["skill"] = 1] = "skill";
})(damageCollider || (damageCollider = {}));
var shaderController = /** @class */ (function (_super) {
    __extends(shaderController, _super);
    function shaderController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.smokeFX = null;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.hpNode = null;
        _this.hpBar = null;
        _this.dieEffectName = "";
        _this.moveSpeed = 80; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 0.7; //ai间隔
        _this.stopDistance = 130; //停止距离
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 25000; //手里剑攻击作用力
        _this.beHitForce_x = 25000; //普通攻击作用力
        _this.beHitForce_y_shuriken = 50000; //普通攻击作用力
        _this.beHitForce_x_attack3 = 350000; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.allowAttackTimes = 3; //允许连续普通攻击次数
        _this.nowAttackTimes = 3; //当前连续普通攻击次数
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isMove = false; //是否处于移动状态
        _this.isWuDi = false;
        _this.dmgCollider = null;
        _this.smokeParticle_Black = null;
        _this.smokeParticle_Red = null;
        return _this;
    }
    shaderController.prototype.onLoad = function () {
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
        this.smokeParticle_Black = this.smokeFX.getComponent(cc.ParticleSystem3D);
        this.smokeParticle_Red = this.smokeFX.children[0].getComponent(cc.ParticleSystem3D);
    };
    shaderController.prototype.onEnable = function () {
        this.node.y = -216;
    };
    shaderController.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
    };
    shaderController.prototype.init = function () {
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        this.AI_interval += Math.random();
        this.idle();
        cc.tween(this.node)
            .to(0.2, { y: -165.4 })
            .start();
    };
    shaderController.prototype.update = function () {
        if (this.isMove == false)
            return;
        var distance = this.getDistanceX();
        if (Math.abs(distance) < this.stopDistance) {
            this.hit();
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.attack)
                return;
            this.moveToPlayer();
        }
    };
    shaderController.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "ground") {
        }
    };
    shaderController.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    shaderController.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    shaderController.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    shaderController.prototype.AI_start = function () {
        var _this = this;
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.changeMovState(false);
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            return;
        }
        var distance = Math.abs(this.getDistanceX());
        if (distance < this.stopDistance) {
            this.hit();
        }
        else {
            this.changeDirection();
            this.changeMovState(true);
            this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.moveSpeed : this.moveSpeed;
        }
    };
    shaderController.prototype.AI_stop = function () {
        this.idle();
    };
    shaderController.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    shaderController.prototype.idle = function () {
        var _this = this;
        this.changeMovState(false);
        this.changeDirection();
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.Idle, 1, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.Idle)
                return;
            _this.AI_start();
        }, this.AI_interval);
    };
    shaderController.prototype.changeDirection = function () {
        if (GameManager_1.default.instance.player == null)
            return;
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x > this.node.x ? -this.scaleX_skeleton : this.scaleX_skeleton;
        //this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    shaderController.prototype.die = function () {
        this.isDie = true;
        this.node.active = false;
        this.hideHp();
    };
    shaderController.prototype.getUp = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.get_up, 1, false, true);
    };
    shaderController.prototype.moveToPlayer = function () {
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    shaderController.prototype.skillStart = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState["Skill-Start"], 1, false);
        this.scheduleOnce(this.skillMiddle, 2.5);
    };
    shaderController.prototype.skillMiddle = function () {
        var _this = this;
        var x = GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0 ?
            GameManager_1.default.instance.player.x + 130 :
            GameManager_1.default.instance.player.x - 130;
        this.node.x = x;
        this.changeDirection();
        this.openCollider();
        this.enemyAnimation.changeState(animationState_1.enemyState["Skill-Middle"], 1, false);
        this.scheduleOnce(this.skillEnd, 1.7);
        this.showDamageCollider(damageCollider.skill);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state == animationState_1.enemyState["Skill-Middle"]) {
                _this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage * 1.7);
                if (_this.getDamageCollider().getComponent(enemyHitCollider_1.default).player) {
                    Events_1.default.instance.screenShake(8, 0, 12);
                }
            }
        }, 0.2);
    };
    shaderController.prototype.skillEnd = function () {
        var x = 0;
        if (GameManager_1.default.instance.player.x < 700) {
            x = GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(300, cc.winSize.width / 1.5);
        }
        else if (GameManager_1.default.instance.player.x > 1700) {
            x = GameManager_1.default.instance.player.x - caijiTools_1.caijiTools.random_int(200, cc.winSize.width / 1.5);
        }
        else {
            var random = caijiTools_1.caijiTools.random_int(1, 10);
            x = random % 2 == 0 ?
                GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(-cc.winSize.width / 1.5, -200) :
                GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(200, cc.winSize.width / 1.5);
        }
        this.node.x = x;
        this.openCollider();
        this.changeDirection();
        this.enemyAnimation.changeState(animationState_1.enemyState["Skill-End"], 1, false);
    };
    shaderController.prototype.hit = function () {
        var _this = this;
        this.changeDirection();
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        if (this.nowAttackTimes < this.allowAttackTimes) {
            this.nowAttackTimes++;
            this.showDamageCollider(damageCollider.attack);
            this.enemyAnimation.changeState(animationState_1.enemyState.Atk, 1, false);
            this.scheduleOnce(function () {
                if (_this.enemyAnimation.state == animationState_1.enemyState.Atk) {
                    if (_this.getDamageCollider().getComponent(enemyHitCollider_1.default).player) {
                        Events_1.default.instance.screenShake(8, 0, 12);
                    }
                    _this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
                }
            }, 0.5);
        }
        else {
            this.nowAttackTimes = 0;
            this.skillStart();
        }
    };
    shaderController.prototype.beHit = function (damage, dmgType) {
        // let isContinue = this.checkIsSwordRain(dmgType);//设置剑雨攻击间隔
        // if (isContinue == 0) return;
        this.highLight();
        this.showHp();
        this.changeState_beHit(dmgType);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY * 1.2;
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        this.updateHp(damage);
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
    };
    shaderController.prototype.closeCollider = function () {
        this.boxCollider.enabled = false;
        this.boxCollider.apply();
        this.node.getComponent(cc.BoxCollider).enabled = false;
        this.hideHp();
        this.smokeParticle_Black.startColor.color.a = 0;
        this.smokeParticle_Red.startColor.color.a = 0;
        this.smokeParticle_Red.clear();
    };
    shaderController.prototype.openCollider = function () {
        this.boxCollider.enabled = true;
        this.boxCollider.apply();
        this.node.getComponent(cc.BoxCollider).enabled = true;
        cc.tween(this.smokeParticle_Black.startColor.color)
            .to(0.2, { a: 150 })
            .start();
        cc.tween(this.smokeParticle_Red.startColor.color)
            .to(0.05, { a: 150 })
            .start();
    };
    shaderController.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    shaderController.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.get_hurt2;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.knock_down;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.get_hurt1;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    shaderController.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    shaderController.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    shaderController.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    shaderController.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    shaderController.prototype.updateHp = function (damage) {
        this.hp -= damage;
        this.hpBar.progress = this.hp / this.hpMax;
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    shaderController.prototype.showHp = function () {
        this.unschedule(this.hideHp);
        this.hpNode.active = true;
        this.scheduleOnce(this.hideHp, 2);
    };
    shaderController.prototype.hideHp = function () {
        this.hpNode.active = false;
    };
    shaderController.prototype.highLight = function () {
        this.unschedule(this.closeHighLight);
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        this.scheduleOnce(this.closeHighLight, 0.15);
    };
    shaderController.prototype.closeHighLight = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    shaderController.prototype.getDistanceX = function () {
        return this.node.x - GameManager_1.default.instance.player.x;
    };
    __decorate([
        property(cc.Node)
    ], shaderController.prototype, "smokeFX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], shaderController.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], shaderController.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.Node)
    ], shaderController.prototype, "hpNode", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], shaderController.prototype, "hpBar", void 0);
    __decorate([
        property(cc.String)
    ], shaderController.prototype, "dieEffectName", void 0);
    shaderController = __decorate([
        ccclass
    ], shaderController);
    return shaderController;
}(enemyBase_1.default));
exports.default = shaderController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcc2hhZGVyQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw0Q0FBMkM7QUFDM0MsbURBQTBEO0FBQzFELG1EQUE4QztBQUM5Qyx5Q0FBb0M7QUFDcEMsdURBQWtEO0FBQ2xELG1DQUE4QjtBQUM5Qiw2Q0FBd0M7QUFFbEMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFDNUMsSUFBSyxjQUdKO0FBSEQsV0FBSyxjQUFjO0lBQ2YsdURBQU0sQ0FBQTtJQUNOLHFEQUFLLENBQUE7QUFDVCxDQUFDLEVBSEksY0FBYyxLQUFkLGNBQWMsUUFHbEI7QUFFRDtJQUE4QyxvQ0FBUztJQUF2RDtRQUFBLHFFQWdWQztRQTdVRyxhQUFPLEdBQVMsSUFBSSxDQUFDO1FBRXJCLHdCQUFrQixHQUFXLENBQUMsQ0FBQztRQUUvQix3QkFBa0IsR0FBVyxDQUFDLENBQUM7UUFFL0IsWUFBTSxHQUFZLElBQUksQ0FBQztRQUV2QixXQUFLLEdBQW1CLElBQUksQ0FBQztRQUU3QixtQkFBYSxHQUFXLEVBQUUsQ0FBQztRQUUzQixlQUFTLEdBQVcsRUFBRSxDQUFDLENBQUEsTUFBTTtRQUM3QixjQUFRLEdBQVcsQ0FBQyxDQUFDLENBQUEsTUFBTTtRQUMzQixpQkFBVyxHQUFXLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDaEMsa0JBQVksR0FBUSxHQUFHLENBQUMsQ0FBQSxNQUFNO1FBQzlCLFFBQUUsR0FBVyxDQUFDLENBQUM7UUFDZixhQUFPLEdBQVEsQ0FBQyxDQUFDLENBQUEsTUFBTTtRQUN2QixrQkFBWSxHQUFXLEtBQUssQ0FBQyxDQUFBLFVBQVU7UUFDdkMsa0JBQVksR0FBVyxLQUFLLENBQUEsQ0FBQSxTQUFTO1FBQ3JDLDJCQUFxQixHQUFXLEtBQUssQ0FBQSxDQUFBLFNB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LFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQztnRUFDcEI7SUFFL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLENBQUM7Z0VBQ3BCO0lBRS9CO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0RBQ0s7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzttREFDSTtJQUU3QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzJEQUNPO0lBYlYsZ0JBQWdCO1FBRHBDLE9BQU87T0FDYSxnQkFBZ0IsQ0FnVnBDO0lBQUQsdUJBQUM7Q0FoVkQsQUFnVkMsQ0FoVjZDLG1CQUFTLEdBZ1Z0RDtrQkFoVm9CLGdCQUFnQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vY2FpamlUb29sc1wiO1xuaW1wb3J0IHsgYXR0YWNrVHlwZSwgZW5lbXlTdGF0ZSB9IGZyb20gXCIuL2FuaW1hdGlvblN0YXRlXCI7XG5pbXBvcnQgZW5lbXlBbmltYXRpb24gZnJvbSBcIi4vZW5lbXlBbmltYXRpb25cIjtcbmltcG9ydCBlbmVteUJhc2UgZnJvbSBcIi4vZW5lbXlCYXNlXCI7XG5pbXBvcnQgZW5lbXlIaXRDb2xsaWRlciBmcm9tIFwiLi9lbmVteUhpdENvbGxpZGVyXCI7XG5pbXBvcnQgRXZlbnRzIGZyb20gXCIuL0V2ZW50c1wiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5lbnVtIGRhbWFnZUNvbGxpZGVye1xuICAgIGF0dGFjayxcbiAgICBza2lsbFxufVxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHNoYWRlckNvbnRyb2xsZXIgZXh0ZW5kcyBlbmVteUJhc2Uge1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgc21va2VGWDpjYy5Ob2RlPW51bGw7XG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuRmxvYXQsIHRvb2x0aXA6IFwi5Lyk5a6z5pWI5p6ceOi9tOWBj+enu+WAvFwiIH0pXG4gICAgZGFtYWdlTGFiZWxPZmZzZXRYOiBudW1iZXIgPSAwO1xuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkZsb2F0LCB0b29sdGlwOiBcIuS8pOWus+aViOaenHnovbTlgY/np7vlgLxcIiB9KVxuICAgIGRhbWFnZUxhYmVsT2Zmc2V0WTogbnVtYmVyID0gMDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBocE5vZGU6IGNjLk5vZGUgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcbiAgICBocEJhcjogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5TdHJpbmcpXG4gICAgZGllRWZmZWN0TmFtZTogc3RyaW5nID0gXCJcIjtcblxuICAgIG1vdmVTcGVlZDogbnVtYmVyID0gODA7Ly/np7vliqjpgJ/luqZcbiAgICBub3dTcGVlZDogbnVtYmVyID0gMDsvL+W9k+WJjemAn+W6plxuICAgIEFJX2ludGVydmFsOiBudW1iZXIgPSAwLjc7Ly9haemXtOmalFxuICAgIHN0b3BEaXN0YW5jZTpudW1iZXI9MTMwOy8v5YGc5q2i6Led56a7XG4gICAgaHA6IG51bWJlciA9IDA7XG4gICAgaHBUaW1lczpudW1iZXI9MTsvL+ihgOmHj+WAjeaVsFxuICAgIGJlSGl0Rm9yY2VfeTogbnVtYmVyID0gMjUwMDA7Ly/miYvph4zliZHmlLvlh7vkvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3g6IG51bWJlciA9IDI1MDAwLy/mma7pgJrmlLvlh7vkvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3lfc2h1cmlrZW46IG51bWJlciA9IDUwMDAwLy/mma7pgJrmlLvlh7vkvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3hfYXR0YWNrMzogbnVtYmVyID0gMzUwMDAwOy8v6KKr5Ye76aOe5L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV95X2F0dGFjazM6IG51bWJlciA9IDA7Ly/ooqvlh7vpo57kvZznlKjliptcbiAgICBzY2FsZVhfc2tlbGV0b246IG51bWJlciA9IDA7XG4gICAgYWxsb3dBdHRhY2tUaW1lczpudW1iZXI9MzsvL+WFgeiuuOi/nue7reaZrumAmuaUu+WHu+asoeaVsFxuICAgIG5vd0F0dGFja1RpbWVzOm51bWJlcj0zOy8v5b2T5YmN6L+e57ut5pmu6YCa5pS75Ye75qyh5pWwXG4gICAgaXNEaWU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBza2VsZXRvbjogc3AuU2tlbGV0b24gPSBudWxsO1xuICAgIGVuZW15QW5pbWF0aW9uOiBlbmVteUFuaW1hdGlvbiA9IG51bGw7XG4gICAgcmlnaWJvZHk6IGNjLlJpZ2lkQm9keSA9IG51bGw7XG4gICAgYm94Q29sbGlkZXI6IGNjLlBoeXNpY3NCb3hDb2xsaWRlciA9IG51bGw7XG4gICAgaXNTd29yZFJhaW5DZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzTW92ZTogYm9vbGVhbiA9IGZhbHNlOy8v5piv5ZCm5aSE5LqO56e75Yqo54q25oCBXG4gICAgaXNXdURpOmJvb2xlYW49ZmFsc2U7XG4gICAgZG1nQ29sbGlkZXI6ZGFtYWdlQ29sbGlkZXI9bnVsbDtcbiAgICBzbW9rZVBhcnRpY2xlX0JsYWNrOmNjLlBhcnRpY2xlU3lzdGVtM0Q9bnVsbDtcbiAgICBzbW9rZVBhcnRpY2xlX1JlZDpjYy5QYXJ0aWNsZVN5c3RlbTNEPW51bGw7XG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24gPSB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcbiAgICAgICAgdGhpcy5zY2FsZVhfc2tlbGV0b24gPSBNYXRoLmFicyh0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbiA9IHRoaXMubm9kZS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoZW5lbXlBbmltYXRpb24pO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmVuZW15Q29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgIHRoaXMucmlnaWJvZHkgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlJpZ2lkQm9keSk7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlBoeXNpY3NCb3hDb2xsaWRlcik7XG4gICAgICAgIHRoaXMuc21va2VQYXJ0aWNsZV9CbGFjaz10aGlzLnNtb2tlRlguZ2V0Q29tcG9uZW50KGNjLlBhcnRpY2xlU3lzdGVtM0QpO1xuICAgICAgICB0aGlzLnNtb2tlUGFydGljbGVfUmVkPXRoaXMuc21va2VGWC5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuUGFydGljbGVTeXN0ZW0zRCk7XG4gICAgfVxuICAgIG9uRW5hYmxlKCl7XG4gICAgICAgIHRoaXMubm9kZS55PS0yMTY7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5za2VsZXRvbi5za2VsZXRvbkRhdGEuX3NrZWxldG9uQ2FjaGUuYW5pbWF0aW9ucyk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICAgICAgdGhpcy5ocCA9IHRoaXMuaHBNYXgqdGhpcy5ocFRpbWVzO1xuICAgICAgICB0aGlzLkFJX2ludGVydmFsKz1NYXRoLnJhbmRvbSgpO1xuICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICAgICAgY2MudHdlZW4odGhpcy5ub2RlKVxuICAgICAgICAudG8oMC4yLHt5Oi0xNjUuNH0pXG4gICAgICAgIC5zdGFydCgpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTW92ZSA9PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSB0aGlzLmdldERpc3RhbmNlWCgpO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGlzdGFuY2UpIDwgdGhpcy5zdG9wRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZih0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlPT1lbmVteVN0YXRlLmF0dGFjaykgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG9QbGF5ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkJlZ2luQ29udGFjdChjb250YWN0OiBjYy5QaHlzaWNzQ29udGFjdCwgc2VsZkNvbGxpZGVyOiBjYy5QaHlzaWNzQ29sbGlkZXIsIG90aGVyQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlcikge1xuICAgICAgICBsZXQgb3RoZXIgPSBvdGhlckNvbGxpZGVyLm5vZGU7XG4gICAgICAgIC8vIGxldCB3b3JsZE1hbmlmb2xkID0gY29udGFjdC5nZXRXb3JsZE1hbmlmb2xkKCk7XG4gICAgICAgIC8vIGxldCBub3JtYWwgPSB3b3JsZE1hbmlmb2xkLm5vcm1hbDtcbiAgICAgICAgaWYgKG90aGVyLmdyb3VwID09IFwiZ3JvdW5kXCIpIHtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG93RGFtYWdlQ29sbGlkZXIoY29sbGlkZXI6ZGFtYWdlQ29sbGlkZXIpe1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bY29sbGlkZXJdLmFjdGl2ZT10cnVlO1xuICAgICAgICB0aGlzLmRtZ0NvbGxpZGVyPWNvbGxpZGVyO1xuICAgIH1cbiAgICBnZXREYW1hZ2VDb2xsaWRlcigpe1xuICAgICAgICByZXR1cm4gdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdO1xuICAgIH1cbiAgICBoaWRlRGFtYWdlQ29sbGlkZXIoKXtcbiAgICAgICAgaWYodGhpcy5kbWdDb2xsaWRlcj09bnVsbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bdGhpcy5kbWdDb2xsaWRlcl0uYWN0aXZlPWZhbHNlO1xuICAgICAgICB0aGlzLmRtZ0NvbGxpZGVyPW51bGw7XG4gICAgfVxuICAgIEFJX3N0YXJ0KCkge1xuICAgICAgICBpZihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLmlzRGllKXtcbiAgICAgICAgICAgIC8v546p5a625bey5q27IOWBnOatouenu+WKqFxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMuQUlfc3RhcnQoKTtcbiAgICAgICAgICAgIH0sMSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRpc3RhbmNlID0gTWF0aC5hYnModGhpcy5nZXREaXN0YW5jZVgoKSk7XG4gICAgICAgIGlmIChkaXN0YW5jZSA8IHRoaXMuc3RvcERpc3RhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmhpdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLm5vd1NwZWVkID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtdGhpcy5tb3ZlU3BlZWQgOiB0aGlzLm1vdmVTcGVlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBBSV9zdG9wKCkge1xuICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICB9XG4gICAgY2hhbmdlTW92U3RhdGUoaXNNb3ZlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNNb3ZlID0gaXNNb3ZlO1xuICAgIH1cbiAgICBpZGxlKCkge1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDApO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCwwKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLklkbGUsIDEsIHRydWUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICBpZih0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlIT1lbmVteVN0YXRlLklkbGUpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuQUlfc3RhcnQoKTtcbiAgICAgICAgfSwgdGhpcy5BSV9pbnRlcnZhbCk7XG4gICAgfVxuICAgIGNoYW5nZURpcmVjdGlvbigpIHtcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyPT1udWxsKSByZXR1cm47XG4gICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54PyAtdGhpcy5zY2FsZVhfc2tlbGV0b24gOiB0aGlzLnNjYWxlWF9za2VsZXRvbjtcbiAgICAgICAgLy90aGlzLmhwTm9kZS54ID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtMjggOiAyODtcbiAgICB9XG4gICAgZGllKCkge1xuICAgICAgICB0aGlzLmlzRGllID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhpZGVIcCgpO1xuICAgIH1cbiAgICBnZXRVcCgpIHtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmdldF91cCwgMSwgZmFsc2UsIHRydWUpXG4gICAgfVxuICAgIG1vdmVUb1BsYXllcigpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52Mih0aGlzLm5vd1NwZWVkLDApO1xuICAgIH1cbiAgICBza2lsbFN0YXJ0KCl7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZVtcIlNraWxsLVN0YXJ0XCJdLDEsZmFsc2UpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLnNraWxsTWlkZGxlLDIuNSk7XG4gICAgfVxuICAgIHNraWxsTWlkZGxlKCl7XG4gICAgICAgIGxldCB4PUdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tlbGV0b24ubm9kZS5zY2FsZVg+MD9cbiAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLngrMTMwOlxuICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueC0xMzA7XG4gICAgICAgIHRoaXMubm9kZS54PXg7XG4gICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgIHRoaXMub3BlbkNvbGxpZGVyKCk7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZVtcIlNraWxsLU1pZGRsZVwiXSwxLGZhbHNlKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5za2lsbEVuZCwxLjcpO1xuICAgICAgICB0aGlzLnNob3dEYW1hZ2VDb2xsaWRlcihkYW1hZ2VDb2xsaWRlci5za2lsbCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICBpZih0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlPT1lbmVteVN0YXRlW1wiU2tpbGwtTWlkZGxlXCJdKXtcbiAgICAgICAgICAgICAgICB0aGlzLmdldERhbWFnZUNvbGxpZGVyKCkuZ2V0Q29tcG9uZW50KGVuZW15SGl0Q29sbGlkZXIpLmhpdCh0aGlzLm5vZGUsdGhpcy5kYW1hZ2UqMS43KTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmdldERhbWFnZUNvbGxpZGVyKCkuZ2V0Q29tcG9uZW50KGVuZW15SGl0Q29sbGlkZXIpLnBsYXllcil7XG4gICAgICAgICAgICAgICAgICAgIEV2ZW50cy5pbnN0YW5jZS5zY3JlZW5TaGFrZSg4LDAsMTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwwLjIpO1xuICAgIH1cbiAgICBza2lsbEVuZCgpe1xuICAgICAgICBsZXQgeD0wO1xuICAgICAgICBpZihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueDw3MDApe1xuICAgICAgICAgICAgeD1HYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCtjYWlqaVRvb2xzLnJhbmRvbV9pbnQoMzAwLGNjLndpblNpemUud2lkdGgvMS41KTtcbiAgICAgICAgfWVsc2UgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLng+MTcwMCl7XG4gICAgICAgICAgICB4PUdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54LWNhaWppVG9vbHMucmFuZG9tX2ludCgyMDAsY2Mud2luU2l6ZS53aWR0aC8xLjUpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGxldCByYW5kb209Y2FpamlUb29scy5yYW5kb21faW50KDEsMTApO1xuICAgICAgICAgICAgeD1yYW5kb20lMj09MD9cbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54K2NhaWppVG9vbHMucmFuZG9tX2ludCgtY2Mud2luU2l6ZS53aWR0aC8xLjUsLTIwMCk6XG4gICAgICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCtjYWlqaVRvb2xzLnJhbmRvbV9pbnQoMjAwLGNjLndpblNpemUud2lkdGgvMS41KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vZGUueD14O1xuICAgICAgICB0aGlzLm9wZW5Db2xsaWRlcigpO1xuICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGVbXCJTa2lsbC1FbmRcIl0sMSxmYWxzZSk7XG4gICAgfVxuICAgIGhpdCgpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwLDApO1xuICAgICAgICBpZih0aGlzLm5vd0F0dGFja1RpbWVzPHRoaXMuYWxsb3dBdHRhY2tUaW1lcyl7XG4gICAgICAgICAgICB0aGlzLm5vd0F0dGFja1RpbWVzKys7XG4gICAgICAgICAgICB0aGlzLnNob3dEYW1hZ2VDb2xsaWRlcihkYW1hZ2VDb2xsaWRlci5hdHRhY2spO1xuICAgICAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLkF0aywgMSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgICAgICBpZih0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlPT1lbmVteVN0YXRlLkF0ayl7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZ2V0RGFtYWdlQ29sbGlkZXIoKS5nZXRDb21wb25lbnQoZW5lbXlIaXRDb2xsaWRlcikucGxheWVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50cy5pbnN0YW5jZS5zY3JlZW5TaGFrZSg4LDAsMTIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGFtYWdlQ29sbGlkZXIoKS5nZXRDb21wb25lbnQoZW5lbXlIaXRDb2xsaWRlcikuaGl0KHRoaXMubm9kZSx0aGlzLmRhbWFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwwLjUpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMubm93QXR0YWNrVGltZXM9MDtcbiAgICAgICAgICAgIHRoaXMuc2tpbGxTdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJlSGl0KGRhbWFnZTogbnVtYmVyLCBkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIC8vIGxldCBpc0NvbnRpbnVlID0gdGhpcy5jaGVja0lzU3dvcmRSYWluKGRtZ1R5cGUpOy8v6K6+572u5YmR6Zuo5pS75Ye76Ze06ZqUXG4gICAgICAgIC8vIGlmIChpc0NvbnRpbnVlID09IDApIHJldHVybjtcbiAgICAgICAgdGhpcy5oaWdoTGlnaHQoKTtcbiAgICAgICAgdGhpcy5zaG93SHAoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZV9iZUhpdChkbWdUeXBlKTtcbiAgICAgICAgbGV0IHggPSB0aGlzLm5vZGUuc2NhbGVYIDwgMCA/IHRoaXMubm9kZS54ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFggOiB0aGlzLm5vZGUueCAtIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRYO1xuICAgICAgICBsZXQgeSA9IHRoaXMubm9kZS55ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFkqMS4yO1xuICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc2hvd0RhbWFnZUxhYmVsX2VuZW15KHRoaXMubm9kZSwgZGFtYWdlLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIHRoaXMudXBkYXRlSHAoZGFtYWdlKTtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgRXZlbnRzLmluc3RhbmNlLmNyZWF0ZUVuZW15RGllRWZmZWN0KHRoaXMubm9kZSwgdGhpcy5kaWVFZmZlY3ROYW1lLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2VDb2xsaWRlcigpe1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmVuYWJsZWQ9ZmFsc2U7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIuYXBwbHkoKTtcbiAgICAgICAgdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5Cb3hDb2xsaWRlcikuZW5hYmxlZD1mYWxzZTtcbiAgICAgICAgdGhpcy5oaWRlSHAoKTtcbiAgICAgICAgdGhpcy5zbW9rZVBhcnRpY2xlX0JsYWNrLnN0YXJ0Q29sb3IuY29sb3IuYT0wO1xuICAgICAgICB0aGlzLnNtb2tlUGFydGljbGVfUmVkLnN0YXJ0Q29sb3IuY29sb3IuYT0wO1xuICAgICAgICB0aGlzLnNtb2tlUGFydGljbGVfUmVkLmNsZWFyKCk7XG4gICAgfVxuICAgIG9wZW5Db2xsaWRlcigpe1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmVuYWJsZWQ9dHJ1ZTtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5hcHBseSgpO1xuICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkJveENvbGxpZGVyKS5lbmFibGVkPXRydWU7XG4gICAgICAgIGNjLnR3ZWVuKHRoaXMuc21va2VQYXJ0aWNsZV9CbGFjay5zdGFydENvbG9yLmNvbG9yKVxuICAgICAgICAudG8oMC4yLHthOjE1MH0pXG4gICAgICAgIC5zdGFydCgpO1xuICAgICAgICBjYy50d2Vlbih0aGlzLnNtb2tlUGFydGljbGVfUmVkLnN0YXJ0Q29sb3IuY29sb3IpXG4gICAgICAgIC50bygwLjA1LHthOjE1MH0pXG4gICAgICAgIC5zdGFydCgpO1xuICAgIH1cbiAgICBzZXRSaWdpYm9keVNwZWVkKHg6bnVtYmVyLHk6bnVtYmVyPTApe1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5PWNjLnYyKHgseSk7XG4gICAgfVxuICAgIGNoYW5nZVN0YXRlX2JlSGl0KGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYodGhpcy5pc1N1cGVyQXJtb3IpIHJldHVybjtcbiAgICAgICAgbGV0IHN0YXRlID0gbnVsbDtcbiAgICAgICAgbGV0IGlzS25vY2tEb3duID0gZG1nVHlwZSA9PSBhdHRhY2tUeXBlLmF0dGFjazMgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoZG1nVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazE6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MjtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsIDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2szOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZygwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZyg1KTtcbiAgICAgICAgICAgICAgICB9LCAwLjQpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5rbm9ja19kb3duO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGUueCA8IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ICYmIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tlbGV0b24ubm9kZS5zY2FsZVggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MigtdGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ub2RlLnggPiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAmJiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIodGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5qdW1wSGl0OlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLnNodXJpa2VuOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iZUhpdEZvcmNlX3lfc2h1cmlrZW4pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5zd29yZFJhaW46XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShzdGF0ZSwgMSwgZmFsc2UsIGlzS25vY2tEb3duKTtcbiAgICB9XG4gICAgc2V0TGluZWFyRGFtcGluZyhkYW1waW5nOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJEYW1waW5nID0gZGFtcGluZztcbiAgICB9XG4gICAgc2V0RnJpY3Rpb24oZnJpY3Rpb246IG51bWJlciA9IDApIHtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5mcmljdGlvbiA9IGZyaWN0aW9uO1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmFwcGx5KCk7XG4gICAgfVxuICAgIGFwcGx5Rm9yY2UoZm9yY2U6IGNjLlZlYzIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBlckFybW9yKSByZXR1cm47XG4gICAgICAgIHRoaXMucmlnaWJvZHkuYXBwbHlGb3JjZVRvQ2VudGVyKGZvcmNlLCB0cnVlKTtcbiAgICB9XG4gICAgY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIGlmIChkbWdUeXBlID09IGF0dGFja1R5cGUuc3dvcmRSYWluKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1N3b3JkUmFpbkNkKSByZXR1cm4gMDtcbiAgICAgICAgICAgIHRoaXMuaXNTd29yZFJhaW5DZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1N3b3JkUmFpbkNkID0gZmFsc2U7XG4gICAgICAgICAgICB9LCB0aGlzLnN3b3JkUmFpbkhpdENkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgdXBkYXRlSHAoZGFtYWdlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ocCAtPSBkYW1hZ2U7XG4gICAgICAgIHRoaXMuaHBCYXIucHJvZ3Jlc3MgPSB0aGlzLmhwIC8gdGhpcy5ocE1heDtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5ocCA9IDA7XG4gICAgICAgICAgICB0aGlzLmRpZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNob3dIcCgpIHtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuaGlkZUhwKTtcbiAgICAgICAgdGhpcy5ocE5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5oaWRlSHAsMik7XG4gICAgfVxuICAgIGhpZGVIcCgpIHtcbiAgICAgICAgdGhpcy5ocE5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICAgIGhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuY2xvc2VIaWdoTGlnaHQpO1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMSk7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJoaWdoTGlnaHRDb2xvclwiLCBbMS4wLDEuMCwxLjAsMC41XSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuY2xvc2VIaWdoTGlnaHQsIDAuMTUpO1xuICAgIH1cbiAgICBjbG9zZUhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImJlSGl0XCIsIDApO1xuICAgIH1cbiAgICBnZXREaXN0YW5jZVgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUueCAtIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54O1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/spiderlingController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3c2b2qSASdDAb0yATGO+Rap', 'spiderlingController');
// scripts/game/spiderlingController.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["fall"] = 0] = "fall";
    damageCollider[damageCollider["bomb"] = 1] = "bomb";
})(damageCollider || (damageCollider = {}));
var spiderlingController = /** @class */ (function (_super) {
    __extends(spiderlingController, _super);
    function spiderlingController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.landingFx = null;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.hpNode = null;
        _this.hpBar = null;
        _this.dieEffectName = "";
        _this.moveSpeed = 150; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 0.2; //ai间隔
        _this.stopDistance = 30; //停止距离
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 0; //手里剑攻击作用力
        _this.beHitForce_x = 0; //普通攻击作用力
        _this.beHitForce_y_shuriken = 0; //普通攻击作用力
        _this.beHitForce_x_attack3 = 100000; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isMove = false; //是否处于移动状态
        _this.dmgCollider = null;
        _this.isWarning = false;
        _this.isWuDi = true;
        _this.warn_a = {
            a: 0
        };
        return _this;
    }
    spiderlingController.prototype.onLoad = function () {
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    spiderlingController.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
    };
    spiderlingController.prototype.init = function () {
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        this.enemyAnimation.changeState(animationState_1.enemyState.Fall, 1, false);
        this.showDamageCollider(damageCollider.fall);
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E40Start);
    };
    spiderlingController.prototype.update = function () {
        this.warningAnimation();
        if (this.isMove == false)
            return;
        var distance = this.getDistanceX();
        if (Math.abs(distance) < this.stopDistance) {
            this.idle();
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.attack)
                return;
            this.moveToPlayer();
        }
    };
    spiderlingController.prototype.warningAnimation = function () {
        if (this.isWarning) {
            //@ts-ignore
            this.skeleton._skeleton.slots[4].color["a"] = this.warn_a.a;
        }
    };
    spiderlingController.prototype.startWarning = function () {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E40Alert, false, 0.6);
        this.skeleton.setAttachment("Untitled-4", "Untitled-4");
        this.isWarning = true;
        cc.tween(this.warn_a)
            .repeatForever(cc.tween()
            .to(0.1, { a: 1 })
            .to(0.1, { a: 0.1 }))
            .start();
        this.scheduleOnce(this.die, 2.5);
    };
    spiderlingController.prototype.stopWarn = function () {
        this.isWarning = false;
        cc.Tween.stopAllByTarget(this.warn_a);
        this.warn_a.a = 0;
    };
    spiderlingController.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "wall") {
            contact.disabled = true;
        }
    };
    spiderlingController.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    spiderlingController.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    spiderlingController.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    spiderlingController.prototype.AI_start = function () {
        var _this = this;
        this.changeDirection();
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.changeMovState(false);
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            return;
        }
        var distance = Math.abs(this.getDistanceX());
        if (distance < this.stopDistance) {
            this.idle();
        }
        else {
            this.changeDirection();
            this.enemyAnimation.changeState(animationState_1.enemyState.Move, 1, true);
            this.changeMovState(true);
            this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.moveSpeed : this.moveSpeed;
        }
    };
    spiderlingController.prototype.AI_stop = function () {
        this.idle();
    };
    spiderlingController.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    spiderlingController.prototype.idle = function () {
        var _this = this;
        if (this.enemyAnimation.state != animationState_1.enemyState.Stop) {
            this.enemyAnimation.changeState(animationState_1.enemyState.Stop, 1, true, true);
        }
        this.changeMovState(false);
        //this.changeDirection();
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.Stop)
                return;
            _this.AI_start();
        }, this.AI_interval);
    };
    spiderlingController.prototype.changeDirection = function () {
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x - this.node.x > 0 ? -this.scaleX_skeleton : this.scaleX_skeleton;
        //this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    spiderlingController.prototype.die = function () {
        var _this = this;
        if (this.isDie)
            return;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E40Exposion, false, 0.6);
        this.isDie = true;
        this.node.opacity = 0;
        this.node.getComponent(cc.BoxCollider).enabled = false;
        this.hideHp();
        this.showDamageCollider(damageCollider.bomb);
        this.unscheduleAllCallbacks();
        cc.Tween.stopAllByTarget(this.node);
        this.scheduleOnce(function () {
            if (!_this.getDamageCollider())
                return;
            _this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage, true);
        }, 0);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        this.scheduleOnce(function () {
            _this.node.destroy();
        }, 1);
    };
    spiderlingController.prototype.moveToPlayer = function () {
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    spiderlingController.prototype.born = function () {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E40Born);
        this.enemyAnimation.changeState(animationState_1.enemyState.Born, 1, false, true);
    };
    spiderlingController.prototype.bornComplete = function () {
        this.isWuDi = false;
        this.idle();
        this.scheduleOnce(this.startWarning, 2);
    };
    //落地
    spiderlingController.prototype.attack_fall = function () {
        this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(this.node, this.damage);
        var fx = caijiTools_1.caijiTools.createNode(this.landingFx, this.node.parent);
        fx.setSiblingIndex(this.node.getSiblingIndex() + 1);
        fx.setPosition(this.node.position);
        fx.active = true;
    };
    spiderlingController.prototype.Knock_up2 = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.Knock_up2, 1, false, true);
    };
    spiderlingController.prototype.Knock_up3 = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.Knock_up3, 1, false, true);
    };
    spiderlingController.prototype.getUp = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.Get_up, 1, false, true);
    };
    spiderlingController.prototype.hit = function () {
        var _this = this;
        if (animationState_1.enemyState[this.enemyAnimation.state].includes("get_hurt"))
            return;
        this.changeDirection();
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        this.showDamageCollider(damageCollider.fall);
        this.enemyAnimation.changeState(animationState_1.enemyState.attack, 1, false);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state == animationState_1.enemyState.attack) {
                _this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
            }
        }, 0.5);
    };
    spiderlingController.prototype.beHit = function (damage, dmgType) {
        if (this.isWuDi)
            return;
        this.changeMovState(false);
        this.setRigibodySpeed(0);
        var isContinue = this.checkIsSwordRain(dmgType); //设置剑雨攻击间隔
        if (isContinue == 0)
            return;
        this.highLight();
        this.showHp();
        this.changeState_beHit(dmgType);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        if (this.hp <= 0) {
            //Events.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
        this.updateHp(damage);
    };
    spiderlingController.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    spiderlingController.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.Get_Hit;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.Get_Hit;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.Knock_up1;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.Get_Hit;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.Get_Hit;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.Get_Hit;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    spiderlingController.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    spiderlingController.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    spiderlingController.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    spiderlingController.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    spiderlingController.prototype.updateHp = function (damage) {
        this.hp -= damage;
        this.hpBar.progress = this.hp / this.hpMax;
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    spiderlingController.prototype.showHp = function () {
        this.unschedule(this.hideHp);
        this.hpNode.active = true;
        this.scheduleOnce(this.hideHp, 2);
    };
    spiderlingController.prototype.hideHp = function () {
        this.hpNode.active = false;
    };
    spiderlingController.prototype.highLight = function () {
        this.unschedule(this.closeHighLight);
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        this.scheduleOnce(this.closeHighLight, 0.15);
    };
    spiderlingController.prototype.closeHighLight = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    spiderlingController.prototype.getDistanceX = function () {
        return this.node.x - GameManager_1.default.instance.player.x;
    };
    __decorate([
        property(cc.Prefab)
    ], spiderlingController.prototype, "landingFx", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], spiderlingController.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], spiderlingController.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.Node)
    ], spiderlingController.prototype, "hpNode", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], spiderlingController.prototype, "hpBar", void 0);
    __decorate([
        property(cc.String)
    ], spiderlingController.prototype, "dieEffectName", void 0);
    spiderlingController = __decorate([
        ccclass
    ], spiderlingController);
    return spiderlingController;
}(enemyBase_1.default));
exports.default = spiderlingController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcc3BpZGVybGluZ0NvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZ0RBQTRDO0FBQzVDLDRDQUEyQztBQUMzQyxxREFBZ0Q7QUFDaEQsbURBQTBEO0FBQzFELG1EQUE4QztBQUM5Qyx5Q0FBb0M7QUFDcEMsdURBQWtEO0FBQ2xELG1DQUE4QjtBQUM5Qiw2Q0FBd0M7QUFFbEMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFDNUMsSUFBSyxjQUdKO0FBSEQsV0FBSyxjQUFjO0lBQ2YsbURBQUksQ0FBQTtJQUNKLG1EQUFJLENBQUE7QUFDUixDQUFDLEVBSEksY0FBYyxLQUFkLGNBQWMsUUFHbEI7QUFFRDtJQUFrRCx3Q0FBUztJQUEzRDtRQUFBLHFFQTRVQztRQXpVRyxlQUFTLEdBQVcsSUFBSSxDQUFDO1FBRXpCLHdCQUFrQixHQUFXLENBQUMsQ0FBQztRQUUvQix3QkFBa0IsR0FBVyxDQUFDLENBQUM7UUFFL0IsWUFBTSxHQUFZLElBQUksQ0FBQztRQUV2QixXQUFLLEdBQW1CLElBQUksQ0FBQztRQUU3QixtQkFBYSxHQUFXLEVBQUUsQ0FBQztRQUUzQixlQUFTLEdBQVcsR0FBRyxDQUFDLENBQUEsTUFBTTtRQUM5QixjQUFRLEdBQVcsQ0FBQyxDQUFDLENBQUEsTUFBTTtRQUMzQixpQkFBVyxHQUFXLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDaEMsa0JBQVksR0FBUSxFQUFFLENBQUMsQ0FBQSxNQUFNO1FBQzdCLFFBQUUsR0FBVyxDQUFDLENBQUM7UUFDZixhQUFPLEdBQVEsQ0FBQyxDQUFDLENBQUEsTUFBTTtRQUN2QixrQkFBWSxHQUFXLENBQUMsQ0FBQyxDQUFBLFVBQVU7UUFDbkMsa0JBQVksR0FBVyxDQUFDLENBQUEsQ0FBQSxTQUFTO1FBQ2pD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QUUsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBQ0QsNkNBQWMsR0FBZDtRQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekQsQ0FBQztJQUNELDJDQUFZLEdBQVo7UUFDSSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQXhVRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzJEQUNLO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDO29FQUNwQjtJQUUvQjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQztvRUFDcEI7SUFFL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt3REFDSztJQUV2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO3VEQUNJO0lBRTdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7K0RBQ087SUFiVixvQkFBb0I7UUFEeEMsT0FBTztPQUNhLG9CQUFvQixDQTRVeEM7SUFBRCwyQkFBQztDQTVVRCxBQTRVQyxDQTVVaUQsbUJBQVMsR0E0VTFEO2tCQTVVb0Isb0JBQW9CIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IHsgYXR0YWNrVHlwZSwgZW5lbXlTdGF0ZSB9IGZyb20gXCIuL2FuaW1hdGlvblN0YXRlXCI7XG5pbXBvcnQgZW5lbXlBbmltYXRpb24gZnJvbSBcIi4vZW5lbXlBbmltYXRpb25cIjtcbmltcG9ydCBlbmVteUJhc2UgZnJvbSBcIi4vZW5lbXlCYXNlXCI7XG5pbXBvcnQgZW5lbXlIaXRDb2xsaWRlciBmcm9tIFwiLi9lbmVteUhpdENvbGxpZGVyXCI7XG5pbXBvcnQgRXZlbnRzIGZyb20gXCIuL0V2ZW50c1wiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5lbnVtIGRhbWFnZUNvbGxpZGVye1xuICAgIGZhbGwsXG4gICAgYm9tYlxufVxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHNwaWRlcmxpbmdDb250cm9sbGVyIGV4dGVuZHMgZW5lbXlCYXNlIHtcblxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXG4gICAgbGFuZGluZ0Z4OmNjLlByZWZhYj1udWxsO1xuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkZsb2F0LCB0b29sdGlwOiBcIuS8pOWus+aViOaenHjovbTlgY/np7vlgLxcIiB9KVxuICAgIGRhbWFnZUxhYmVsT2Zmc2V0WDogbnVtYmVyID0gMDtcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5GbG9hdCwgdG9vbHRpcDogXCLkvKTlrrPmlYjmnpx56L205YGP56e75YC8XCIgfSlcbiAgICBkYW1hZ2VMYWJlbE9mZnNldFk6IG51bWJlciA9IDA7XG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgaHBOb2RlOiBjYy5Ob2RlID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuUHJvZ3Jlc3NCYXIpXG4gICAgaHBCYXI6IGNjLlByb2dyZXNzQmFyID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuU3RyaW5nKVxuICAgIGRpZUVmZmVjdE5hbWU6IHN0cmluZyA9IFwiXCI7XG5cbiAgICBtb3ZlU3BlZWQ6IG51bWJlciA9IDE1MDsvL+enu+WKqOmAn+W6plxuICAgIG5vd1NwZWVkOiBudW1iZXIgPSAwOy8v5b2T5YmN6YCf5bqmXG4gICAgQUlfaW50ZXJ2YWw6IG51bWJlciA9IDAuMjsvL2Fp6Ze06ZqUXG4gICAgc3RvcERpc3RhbmNlOm51bWJlcj0zMDsvL+WBnOatoui3neemu1xuICAgIGhwOiBudW1iZXIgPSAwO1xuICAgIGhwVGltZXM6bnVtYmVyPTE7Ly/ooYDph4/lgI3mlbBcbiAgICBiZUhpdEZvcmNlX3k6IG51bWJlciA9IDA7Ly/miYvph4zliZHmlLvlh7vkvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3g6IG51bWJlciA9IDAvL+aZrumAmuaUu+WHu+S9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeV9zaHVyaWtlbjogbnVtYmVyID0gMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94X2F0dGFjazM6IG51bWJlciA9IDEwMDAwMDsvL+iiq+WHu+mjnuS9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeV9hdHRhY2szOiBudW1iZXIgPSAwOy8v6KKr5Ye76aOe5L2c55So5YqbXG4gICAgc2NhbGVYX3NrZWxldG9uOiBudW1iZXIgPSAwO1xuICAgIGlzRGllOiBib29sZWFuID0gZmFsc2U7XG4gICAgc2tlbGV0b246IHNwLlNrZWxldG9uID0gbnVsbDtcbiAgICBlbmVteUFuaW1hdGlvbjogZW5lbXlBbmltYXRpb24gPSBudWxsO1xuICAgIHJpZ2lib2R5OiBjYy5SaWdpZEJvZHkgPSBudWxsO1xuICAgIGJveENvbGxpZGVyOiBjYy5QaHlzaWNzQm94Q29sbGlkZXIgPSBudWxsO1xuICAgIGlzU3dvcmRSYWluQ2Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc01vdmU6IGJvb2xlYW4gPSBmYWxzZTsvL+aYr+WQpuWkhOS6juenu+WKqOeKtuaAgVxuICAgIGRtZ0NvbGxpZGVyOmRhbWFnZUNvbGxpZGVyPW51bGw7XG4gICAgaXNXYXJuaW5nOmJvb2xlYW49ZmFsc2U7XG4gICAgaXNXdURpOmJvb2xlYW49dHJ1ZTtcbiAgICB3YXJuX2E9e1xuICAgICAgICBhOjBcbiAgICB9XG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24gPSB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcbiAgICAgICAgdGhpcy5zY2FsZVhfc2tlbGV0b24gPSBNYXRoLmFicyh0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbiA9IHRoaXMubm9kZS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoZW5lbXlBbmltYXRpb24pO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmVuZW15Q29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgIHRoaXMucmlnaWJvZHkgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlJpZ2lkQm9keSk7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlBoeXNpY3NCb3hDb2xsaWRlcik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5za2VsZXRvbi5za2VsZXRvbkRhdGEuX3NrZWxldG9uQ2FjaGUuYW5pbWF0aW9ucyk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICAgICAgdGhpcy5ocCA9IHRoaXMuaHBNYXgqdGhpcy5ocFRpbWVzO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuRmFsbCwxLGZhbHNlKTtcbiAgICAgICAgdGhpcy5zaG93RGFtYWdlQ29sbGlkZXIoZGFtYWdlQ29sbGlkZXIuZmFsbCk7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkU0MFN0YXJ0KTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLndhcm5pbmdBbmltYXRpb24oKTtcbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZlID09IGZhbHNlKSByZXR1cm47XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHRoaXMuZ2V0RGlzdGFuY2VYKCk7XG4gICAgICAgIGlmIChNYXRoLmFicyhkaXN0YW5jZSkgPCB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5pZGxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZih0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlPT1lbmVteVN0YXRlLmF0dGFjaykgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG9QbGF5ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3YXJuaW5nQW5pbWF0aW9uKCl7XG4gICAgICAgIGlmKHRoaXMuaXNXYXJuaW5nKXtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpcy5za2VsZXRvbi5fc2tlbGV0b24uc2xvdHNbNF0uY29sb3JbXCJhXCJdPXRoaXMud2Fybl9hLmE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnRXYXJuaW5nKCl7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkU0MEFsZXJ0LGZhbHNlLDAuNik7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uc2V0QXR0YWNobWVudChcIlVudGl0bGVkLTRcIixcIlVudGl0bGVkLTRcIik7XG4gICAgICAgIHRoaXMuaXNXYXJuaW5nPXRydWU7XG4gICAgICAgIGNjLnR3ZWVuKHRoaXMud2Fybl9hKVxuICAgICAgICAucmVwZWF0Rm9yZXZlcihcbiAgICAgICAgICAgIGNjLnR3ZWVuKClcbiAgICAgICAgICAgIC50bygwLjEse2E6MX0pXG4gICAgICAgICAgICAudG8oMC4xLHthOjAuMX0pXG4gICAgICAgIClcbiAgICAgICAgLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuZGllLDIuNSk7XG4gICAgfVxuICAgIHN0b3BXYXJuKCl7XG4gICAgICAgIHRoaXMuaXNXYXJuaW5nPWZhbHNlO1xuICAgICAgICBjYy5Ud2Vlbi5zdG9wQWxsQnlUYXJnZXQodGhpcy53YXJuX2EpO1xuICAgICAgICB0aGlzLndhcm5fYS5hPTA7XG4gICAgfVxuICAgIG9uQmVnaW5Db250YWN0KGNvbnRhY3Q6IGNjLlBoeXNpY3NDb250YWN0LCBzZWxmQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlciwgb3RoZXJDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGxldCBvdGhlciA9IG90aGVyQ29sbGlkZXIubm9kZTtcbiAgICAgICAgLy8gbGV0IHdvcmxkTWFuaWZvbGQgPSBjb250YWN0LmdldFdvcmxkTWFuaWZvbGQoKTtcbiAgICAgICAgLy8gbGV0IG5vcm1hbCA9IHdvcmxkTWFuaWZvbGQubm9ybWFsO1xuICAgICAgICBpZiAob3RoZXIuZ3JvdXAgPT0gXCJ3YWxsXCIpIHtcbiAgICAgICAgICAgIGNvbnRhY3QuZGlzYWJsZWQ9dHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG93RGFtYWdlQ29sbGlkZXIoY29sbGlkZXI6ZGFtYWdlQ29sbGlkZXIpe1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bY29sbGlkZXJdLmFjdGl2ZT10cnVlO1xuICAgICAgICB0aGlzLmRtZ0NvbGxpZGVyPWNvbGxpZGVyO1xuICAgIH1cbiAgICBnZXREYW1hZ2VDb2xsaWRlcigpe1xuICAgICAgICByZXR1cm4gdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdO1xuICAgIH1cbiAgICBoaWRlRGFtYWdlQ29sbGlkZXIoKXtcbiAgICAgICAgaWYodGhpcy5kbWdDb2xsaWRlcj09bnVsbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bdGhpcy5kbWdDb2xsaWRlcl0uYWN0aXZlPWZhbHNlO1xuICAgICAgICB0aGlzLmRtZ0NvbGxpZGVyPW51bGw7XG4gICAgfVxuICAgIEFJX3N0YXJ0KCkge1xuICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICBpZihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLmlzRGllKXtcbiAgICAgICAgICAgIC8v546p5a625bey5q27IOWBnOatouenu+WKqFxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMuQUlfc3RhcnQoKTtcbiAgICAgICAgICAgIH0sMSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRpc3RhbmNlID0gTWF0aC5hYnModGhpcy5nZXREaXN0YW5jZVgoKSk7XG4gICAgICAgIGlmIChkaXN0YW5jZSA8IHRoaXMuc3RvcERpc3RhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuTW92ZSwgMSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5ub3dTcGVlZCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gLXRoaXMubW92ZVNwZWVkIDogdGhpcy5tb3ZlU3BlZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQUlfc3RvcCgpIHtcbiAgICAgICAgdGhpcy5pZGxlKCk7XG4gICAgfVxuICAgIGNoYW5nZU1vdlN0YXRlKGlzTW92ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzTW92ZSA9IGlzTW92ZTtcbiAgICB9XG4gICAgaWRsZSgpIHtcbiAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSE9ZW5lbXlTdGF0ZS5TdG9wKXtcbiAgICAgICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5TdG9wLCAxLCB0cnVlLHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICAvL3RoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZygwKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDAsMCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGUhPWVuZW15U3RhdGUuU3RvcCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5BSV9zdGFydCgpO1xuICAgICAgICB9LCB0aGlzLkFJX2ludGVydmFsKTtcbiAgICB9XG4gICAgY2hhbmdlRGlyZWN0aW9uKCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggLSB0aGlzLm5vZGUueCA+IDAgPyAtdGhpcy5zY2FsZVhfc2tlbGV0b24gOiB0aGlzLnNjYWxlWF9za2VsZXRvbjtcbiAgICAgICAgLy90aGlzLmhwTm9kZS54ID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtMjggOiAyODtcbiAgICB9XG4gICAgZGllKCkge1xuICAgICAgICBpZih0aGlzLmlzRGllKSByZXR1cm47XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkU0MEV4cG9zaW9uLGZhbHNlLDAuNik7XG4gICAgICAgIHRoaXMuaXNEaWUgPSB0cnVlO1xuICAgICAgICB0aGlzLm5vZGUub3BhY2l0eT0wO1xuICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkJveENvbGxpZGVyKS5lbmFibGVkPWZhbHNlO1xuICAgICAgICB0aGlzLmhpZGVIcCgpO1xuICAgICAgICB0aGlzLnNob3dEYW1hZ2VDb2xsaWRlcihkYW1hZ2VDb2xsaWRlci5ib21iKTtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlQWxsQ2FsbGJhY2tzKCk7XG4gICAgICAgIGNjLlR3ZWVuLnN0b3BBbGxCeVRhcmdldCh0aGlzLm5vZGUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgaWYoIXRoaXMuZ2V0RGFtYWdlQ29sbGlkZXIoKSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5nZXREYW1hZ2VDb2xsaWRlcigpLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5oaXQodGhpcy5ub2RlLHRoaXMuZGFtYWdlLHRydWUpO1xuICAgICAgICB9LDApO1xuICAgICAgICBsZXQgeCA9IHRoaXMubm9kZS5zY2FsZVggPCAwID8gdGhpcy5ub2RlLnggKyB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WCA6IHRoaXMubm9kZS54IC0gdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFg7XG4gICAgICAgIGxldCB5ID0gdGhpcy5ub2RlLnkgKyB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WTtcbiAgICAgICAgRXZlbnRzLmluc3RhbmNlLmNyZWF0ZUVuZW15RGllRWZmZWN0KHRoaXMubm9kZSwgdGhpcy5kaWVFZmZlY3ROYW1lLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xuICAgICAgICB9LDEpO1xuICAgIH1cbiAgICBtb3ZlVG9QbGF5ZXIoKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHk9Y2MudjIodGhpcy5ub3dTcGVlZCwwKTtcbiAgICB9XG4gICAgYm9ybigpe1xuICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5FNDBCb3JuKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLkJvcm4sIDEsIGZhbHNlLCB0cnVlKVxuICAgIH1cbiAgICBib3JuQ29tcGxldGUoKXtcbiAgICAgICAgdGhpcy5pc1d1RGk9ZmFsc2U7XG4gICAgICAgIHRoaXMuaWRsZSgpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLnN0YXJ0V2FybmluZywyKTtcbiAgICB9XG4gICAgLy/okL3lnLBcbiAgICBhdHRhY2tfZmFsbCgpe1xuICAgICAgICB0aGlzLmdldERhbWFnZUNvbGxpZGVyKCkuZ2V0Q29tcG9uZW50KGVuZW15SGl0Q29sbGlkZXIpLmhpdCh0aGlzLm5vZGUsdGhpcy5kYW1hZ2UpO1xuICAgICAgICBsZXQgZng9Y2FpamlUb29scy5jcmVhdGVOb2RlKHRoaXMubGFuZGluZ0Z4LHRoaXMubm9kZS5wYXJlbnQpO1xuICAgICAgICBmeC5zZXRTaWJsaW5nSW5kZXgodGhpcy5ub2RlLmdldFNpYmxpbmdJbmRleCgpKzEpO1xuICAgICAgICBmeC5zZXRQb3NpdGlvbih0aGlzLm5vZGUucG9zaXRpb24pO1xuICAgICAgICBmeC5hY3RpdmU9dHJ1ZTtcbiAgICB9XG4gICAgS25vY2tfdXAyKCl7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5Lbm9ja191cDIsMSxmYWxzZSx0cnVlKTtcbiAgICB9XG4gICAgS25vY2tfdXAzKCl7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5Lbm9ja191cDMsMSxmYWxzZSx0cnVlKTtcbiAgICB9XG4gICAgZ2V0VXAoKSB7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5HZXRfdXAsIDEsIGZhbHNlLCB0cnVlKVxuICAgIH1cbiAgICBoaXQoKSB7XG4gICAgICAgIGlmKGVuZW15U3RhdGVbdGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZV0uaW5jbHVkZXMoXCJnZXRfaHVydFwiKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDAsMCk7XG4gICAgICAgIHRoaXMuc2hvd0RhbWFnZUNvbGxpZGVyKGRhbWFnZUNvbGxpZGVyLmZhbGwpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuYXR0YWNrLCAxLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICBpZih0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlPT1lbmVteVN0YXRlLmF0dGFjayl7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXREYW1hZ2VDb2xsaWRlcigpLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5oaXQodGhpcy5ub2RlLHRoaXMuZGFtYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwwLjUpO1xuICAgIH1cbiAgICBiZUhpdChkYW1hZ2U6IG51bWJlciwgZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICBpZih0aGlzLmlzV3VEaSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDApO1xuICAgICAgICBsZXQgaXNDb250aW51ZSA9IHRoaXMuY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlKTsvL+iuvue9ruWJkembqOaUu+WHu+mXtOmalFxuICAgICAgICBpZiAoaXNDb250aW51ZSA9PSAwKSByZXR1cm47XG4gICAgICAgIHRoaXMuaGlnaExpZ2h0KCk7XG4gICAgICAgIHRoaXMuc2hvd0hwKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGVfYmVIaXQoZG1nVHlwZSk7XG4gICAgICAgIGxldCB4ID0gdGhpcy5ub2RlLnNjYWxlWCA8IDAgPyB0aGlzLm5vZGUueCArIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRYIDogdGhpcy5ub2RlLnggLSB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLm5vZGUueSArIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRZO1xuICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc2hvd0RhbWFnZUxhYmVsX2VuZW15KHRoaXMubm9kZSwgZGFtYWdlLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIGlmICh0aGlzLmhwIDw9IDApIHtcbiAgICAgICAgICAgIC8vRXZlbnRzLmluc3RhbmNlLmNyZWF0ZUVuZW15RGllRWZmZWN0KHRoaXMubm9kZSwgdGhpcy5kaWVFZmZlY3ROYW1lLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVIcChkYW1hZ2UpO1xuICAgIH1cbiAgICBzZXRSaWdpYm9keVNwZWVkKHg6bnVtYmVyLHk6bnVtYmVyPTApe1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5PWNjLnYyKHgseSk7XG4gICAgfVxuICAgIGNoYW5nZVN0YXRlX2JlSGl0KGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYodGhpcy5pc1N1cGVyQXJtb3IpIHJldHVybjtcbiAgICAgICAgbGV0IHN0YXRlID0gbnVsbDtcbiAgICAgICAgbGV0IGlzS25vY2tEb3duID0gZG1nVHlwZSA9PSBhdHRhY2tUeXBlLmF0dGFjazMgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoZG1nVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazE6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLkdldF9IaXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazI6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLkdldF9IaXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazM6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDUpO1xuICAgICAgICAgICAgICAgIH0sIDAuNCk7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLktub2NrX3VwMTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlLnggPCBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAmJiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoLXRoaXMuYmVIaXRGb3JjZV94X2F0dGFjazMsIHRoaXMuYmVIaXRGb3JjZV95X2F0dGFjazMpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubm9kZS54ID4gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggJiYgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKHRoaXMuYmVIaXRGb3JjZV94X2F0dGFjazMsIHRoaXMuYmVIaXRGb3JjZV95X2F0dGFjazMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuanVtcEhpdDpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuR2V0X0hpdDtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuc2h1cmlrZW46XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLkdldF9IaXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iZUhpdEZvcmNlX3lfc2h1cmlrZW4pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5zd29yZFJhaW46XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLkdldF9IaXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoc3RhdGUsIDEsIGZhbHNlLCBpc0tub2NrRG93bik7XG4gICAgfVxuICAgIHNldExpbmVhckRhbXBpbmcoZGFtcGluZzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyRGFtcGluZyA9IGRhbXBpbmc7XG4gICAgfVxuICAgIHNldEZyaWN0aW9uKGZyaWN0aW9uOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIuZnJpY3Rpb24gPSBmcmljdGlvbjtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5hcHBseSgpO1xuICAgIH1cbiAgICBhcHBseUZvcmNlKGZvcmNlOiBjYy5WZWMyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwZXJBcm1vcikgcmV0dXJuO1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmFwcGx5Rm9yY2VUb0NlbnRlcihmb3JjZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGNoZWNrSXNTd29yZFJhaW4oZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICBpZiAoZG1nVHlwZSA9PSBhdHRhY2tUeXBlLnN3b3JkUmFpbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTd29yZFJhaW5DZCkgcmV0dXJuIDA7XG4gICAgICAgICAgICB0aGlzLmlzU3dvcmRSYWluQ2QgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTd29yZFJhaW5DZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgdGhpcy5zd29yZFJhaW5IaXRDZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHVwZGF0ZUhwKGRhbWFnZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaHAgLT0gZGFtYWdlO1xuICAgICAgICB0aGlzLmhwQmFyLnByb2dyZXNzID0gdGhpcy5ocCAvIHRoaXMuaHBNYXg7XG4gICAgICAgIGlmICh0aGlzLmhwIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuaHAgPSAwO1xuICAgICAgICAgICAgdGhpcy5kaWUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG93SHAoKSB7XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLmhpZGVIcCk7XG4gICAgICAgIHRoaXMuaHBOb2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuaGlkZUhwLDIpO1xuICAgIH1cbiAgICBoaWRlSHAoKSB7XG4gICAgICAgIHRoaXMuaHBOb2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBoaWdoTGlnaHQoKSB7XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLmNsb3NlSGlnaExpZ2h0KTtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImJlSGl0XCIsIDEpO1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiaGlnaExpZ2h0Q29sb3JcIiwgWzEuMCwxLjAsMS4wLDAuNV0pO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLmNsb3NlSGlnaExpZ2h0LCAwLjE1KTtcbiAgICB9XG4gICAgY2xvc2VIaWdoTGlnaHQoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJiZUhpdFwiLCAwKTtcbiAgICB9XG4gICAgZ2V0RGlzdGFuY2VYKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLnggLSBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueDtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/sdk/_bytedance.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3d777sa/qtFhYMyFULXuslS', '_bytedance');
// scripts/sdk/_bytedance.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ch_bytedance = void 0;
var TAG = '_bytedance.ts';
var _bytedance = /** @class */ (function () {
    function _bytedance() {
        this.recordTimeStamp = 0;
        this.videoPath = "";
        this.recordTimeLength = 0;
        this.appIdParam = "";
        this.bannerAdParam = "";
        this.vedioAdParam = "";
        this.insertAdParam = "";
        this.shareRecordDesc = [];
        this.bannerAd = null;
        this.videoAd = null;
        this.bannerBox = null;
        this.OnVideoCallBackListener = null;
        this.sdkInitEnd = false;
        this.insertAdTime = 0;
        this.recordManager = null;
        this.show_start = false;
        this.show_end = false;
        this.userQuery = '';
        console.log(TAG, 'init platform channel: bytedance');
    }
    _bytedance.getInstance = function () {
        if (this.Instance == null) {
            this.Instance = new _bytedance();
        }
        return this.Instance;
    };
    _bytedance.prototype.initRecordListener = function () {
        var that = this;
        //@ts-ignore
        this.recordManager = tt.getGameRecorderManager();
        this.recordManager.onStart(function () {
            that.videoPath = "";
            that.recordTimeStamp = Math.floor(new Date().getTime());
            that.showToast(that.show_start, '录制开始', 'success', 800);
        });
        this.recordManager.onError(function (err) {
            console.warn(TAG, '录屏失败:', err['errMsg']);
        });
        this.recordManager.onStop(function (res) {
            that.recordTimeLength = Math.floor(new Date().getTime()) - that.recordTimeStamp;
            if (that.recordTimeLength >= 3000) {
                that.videoPath = res['videoPath'];
                that.showToast(that.show_end, '录制完成', 'success', 1000);
            }
        });
    };
    _bytedance.prototype.luzhiVideo_start = function (startTip, maxSecond, isMarkOpen) {
        if (startTip === void 0) { startTip = false; }
        if (maxSecond === void 0) { maxSecond = 300; }
        if (isMarkOpen === void 0) { isMarkOpen = false; }
        this.show_start = startTip;
        this.recordManager.start({ duration: maxSecond, isMarkOpen: isMarkOpen });
    };
    _bytedance.prototype.luzhiVideo_stop = function (endTip) {
        if (endTip === void 0) { endTip = true; }
        this.show_end = endTip;
        this.recordManager.stop();
    };
    _bytedance.prototype.luzhiVideo_share = function (onShareCall, query) {
        if (query === void 0) { query = 'k1=v1&k2=v2'; }
        if (onShareCall == null || this.videoPath == null || this.recordTimeLength < 3000) {
            if (onShareCall == null) {
                console.warn(TAG, '分享回调为null!');
            }
            else if (this.videoPath == null) {
                console.warn(TAG, '不存在未分发的视频!');
            }
            else {
                console.warn(TAG, '录制时间小于3秒!');
            }
            return;
        }
        this.userQuery = query;
        this.video_share(onShareCall, this.userQuery);
    };
    _bytedance.prototype.video_share = function (OnShareCall, query) {
        if (query === void 0) { query = 'k1=v1&k2=v2'; }
        var that = this;
        // @ts-ignore
        tt.shareAppMessage({
            channel: "video",
            query: query,
            extra: {
                videoPath: that.videoPath,
                video_title: that.shareRecordDesc[1],
                videoTopics: [that.shareRecordDesc[0]],
                hashtag_list: [that.shareRecordDesc[0]],
                withVideoId: false,
                videoTag: '' // 分享视频的标签，可以结合获取抖音视频排行榜使用
            },
            success: function (res) {
                OnShareCall(true);
                that.videoPath = "";
                that.recordTimeLength = 0;
                that.showToast(true, '分享成功', 'success', 1000);
            },
            fail: function (e) {
                console.warn(TAG, "\u5206\u4EAB\u5931\u8D25:" + JSON.stringify(e));
                OnShareCall(false);
                that.showToast(true, '分享失败', 'fail', 1000);
            }
        });
    };
    _bytedance.prototype.getVideoInfo = function (id) {
        var _this = this;
        //@ts-ignore
        tt.request({
            url: "https://gate.ssdk.com/developer/api/get_video_info",
            method: "POST",
            data: {
                alias_ids: [id],
            },
            success: function (res) {
                if (res.data.data[0].video_info.cover_url) {
                    console.log(res.data.data[0].video_info); // 包含 cover_url，还有其它字段
                }
                else {
                    //服务端存在延迟如果获取失败则5秒后再次获取
                    setTimeout(function () {
                        _this.getVideoInfo(id);
                    }, 5000);
                }
            },
        });
    };
    /**
     * 消息提示框
     * @param show 是否弹出提示框
     * @param message 提示信息
     * @param icon (success,loading,none,fail)成功,加载,不显示图标,失败
     * @param duration 持续时间
     */
    _bytedance.prototype.showToast = function (show, message, icon, duration) {
        if (show === void 0) { show = false; }
        if (icon === void 0) { icon = 'none'; }
        if (duration === void 0) { duration = 1000; }
        if (!show) {
            return;
        }
        //@ts-ignore
        tt.showToast({
            title: message,
            icon: icon,
            duration: duration,
        });
    };
    _bytedance.prototype.buttonShare = function (OnShareCall) {
        // @ts-ignore
        tt.shareAppMessage({
            success: function () {
                OnShareCall(true);
                console.log(TAG, '分享成功!');
            },
            fail: function (e) {
                OnShareCall(false);
                console.warn(TAG, "\u5206\u4EAB\u5931\u8D25:" + JSON.stringify(e));
            }
        });
    };
    _bytedance.prototype.shakeDevice = function () {
        // @ts-ignore
        tt.vibrateShort({
            fail: function (res) {
                console.warn(TAG, "\u9707\u52A8\u5931\u8D25:" + res);
            }
        });
    };
    _bytedance.prototype.shakeDeviceLong = function () {
        // @ts-ignore
        tt.vibrateLong({
            fail: function (res) {
                console.warn(TAG, "\u9707\u52A8\u5931\u8D25:" + res);
            }
        });
    };
    _bytedance.prototype.showTTGameIcon = function () {
        //@ts-ignore
        var systemInfo = tt.getSystemInfoSync();
        if (systemInfo.platform === "ios") {
            return false;
        }
        var appName = ['Douyin', 'Toutiao', 'news_article_lite'];
        return appName.indexOf(systemInfo.appName) === -1 ? false : true;
    };
    _bytedance.prototype.openMoreGame = function () {
        //@ts-ignore
        tt.onMoreGamesModalClose(function () {
            console.warn(TAG, "modal closed!");
        });
        //@ts-ignore
        tt.onNavigateToMiniProgram(function (res) {
            console.log(res.errCode);
            console.log(res.errMsg);
        });
        //@ts-ignore
        var systemInfo = tt.getSystemInfoSync();
        // iOS 不支持，建议先检测再使用
        if (systemInfo.platform !== "ios") {
            //@ts-ignore
            tt.showMoreGamesModal({
                appLaunchOptions: [
                    {
                        appId: this.appIdParam,
                        query: "foo=bar&baz=qux",
                        extraData: {}
                    }
                    // {...}
                ],
                success: function () {
                    console.log(TAG, "success");
                },
                fail: function (res) {
                    console.log(TAG, "" + JSON.stringify(res));
                }
            });
        }
    };
    _bytedance.prototype.initAdParams = function (param) {
        if (this.sdkInitEnd) {
            return;
        }
        this.sdkInitEnd = true;
        this.initRecordListener();
        this.appIdParam = param.appId;
        this.insertAdParam = param.insertId;
        this.bannerAdParam = param.bannerId;
        this.vedioAdParam = param.videoId;
        this.shareRecordDesc = param.shareDesc;
        try {
            this.initBannerAd();
        }
        catch (error) {
            console.warn(TAG, "Init ad params:" + error);
        }
    };
    _bytedance.prototype.initGameBanner = function () {
        //@ts-ignore
        var _a = tt.getSystemInfoSync(), windowWidth = _a.windowWidth, windowHeight = _a.windowHeight;
        var bannerBoxWidth = windowWidth;
        //@ts-ignore
        this.bannerBox = tt.createMoreGamesBanner({
            style: {
                width: bannerBoxWidth,
                verticalAlign: 'bottom',
                horizontalAlign: 'center'
            },
            appLaunchOptions: [
                {
                    appId: this.appIdParam,
                    query: "foo=bar&baz=qux",
                    extraData: {}
                }
                // {...}
            ],
        });
        this.bannerBox.show();
        this.bannerBox.onTap(function () {
            console.log(TAG, "\u70B9\u51FB\u8DF3\u8F6C\u6E38\u620F\u76D2\u5B50");
        });
    };
    _bytedance.prototype.gameBanner_show = function () {
        if (this.bannerBox) {
            this.bannerBox.show();
        }
        else {
            this.initGameBanner();
        }
    };
    _bytedance.prototype.gameBanner_hide = function () {
        if (this.bannerBox) {
            this.bannerBox.hide();
        }
    };
    _bytedance.prototype.initBannerAd = function () {
        var _this = this;
        // @ts-ignore
        var _a = tt.getSystemInfoSync(), windowWidth = _a.windowWidth, windowHeight = _a.windowHeight;
        var targetBannerAdWidth = 120;
        // 创建一个居于屏幕底部正中的广告
        // @ts-ignore
        this.bannerAd = tt.createBannerAd({
            adUnitId: this.bannerAdParam,
            style: {
                width: targetBannerAdWidth,
                top: windowHeight - (targetBannerAdWidth / 16 * 9),
            }
        });
        this.bannerAd.onError(function (err) {
            switch (err['errCode']) {
                case 1000:
                    console.warn(TAG, '后端错误调用失败');
                    break;
                case 1001:
                    console.warn(TAG, '参数错误');
                    break;
                case 1002:
                    console.warn(TAG, '广告单元无效');
                    break;
                case 1003:
                    console.warn(TAG, '内部错误');
                    break;
                case 1004:
                    console.warn(TAG, '无合适的广告, 尝试重新加载');
                    break;
                case 1005:
                    console.warn(TAG, '广告正在被审核，无法展现广告');
                    break;
                case 1007:
                    console.warn(TAG, '广告能力被禁用');
                    break;
                case 1008:
                    console.warn(TAG, '广告单元已关闭');
                    break;
                case 120002:
                    console.warn(TAG, '广告发送的次数已达当日上限');
                    break;
                default:
                    break;
            }
        });
        // 也可以手动修改属性以调整广告尺寸
        this.bannerAd.style.left = (windowWidth - targetBannerAdWidth) / 2;
        // 尺寸调整时会触发回调
        // 注意：如果在回调里再次调整尺寸，要确保不要触发死循环！！！
        this.bannerAd.onResize(function (size) {
            console.log(TAG, size.width, size.height);
            if (size.width == 0 || size.height == 0) {
                return;
            }
            // 如果一开始设置的 banner 宽度超过了系统限制，可以在此处加以调整
            if (targetBannerAdWidth != size.width) {
                targetBannerAdWidth = size.width;
                _this.bannerAd.style.top = windowHeight - (size.height);
                _this.bannerAd.style.left = (windowWidth - size.width) / 2;
            }
        });
        //广告组件成功拉取广告素材时会触发load事件的监听器
        this.bannerAd.onLoad(function () {
            console.log(TAG, "banner广告拉取完成!");
        });
    };
    _bytedance.prototype.bannerAd_show = function () {
        if (this.bannerAd) {
            this.bannerAd.show();
        }
    };
    _bytedance.prototype.bannerAd_hide = function () {
        if (this.bannerAd) {
            this.bannerAd.hide();
            this.initBannerAd();
        }
    };
    _bytedance.prototype.showLoading = function () {
        //@ts-ignore
        tt.showLoading({ title: "请求中，请稍后..." });
    };
    _bytedance.prototype.hideLoading = function () {
        //@ts-ignore
        tt.hideLoading({});
    };
    _bytedance.prototype.initVideo = function () {
        var _this = this;
        // @ts-ignore
        this.videoAd = tt.createRewardedVideoAd({
            adUnitId: this.vedioAdParam,
            multiton: false,
            multitonRewardedMsg: '观看下一个可领取更多奖励'
        });
        this.videoAd.onError(function (err) {
            switch (err['errCode']) {
                case 1000:
                    console.warn(TAG, '后端错误调用失败');
                    break;
                case 1001:
                    console.warn(TAG, '参数错误');
                    break;
                case 1002:
                    console.warn(TAG, '广告单元无效');
                    break;
                case 1003:
                    console.warn(TAG, '内部错误');
                    break;
                case 1004:
                    console.warn(TAG, '无合适的广告, 尝试重新加载');
                    break;
                case 1005:
                    console.warn(TAG, '广告正在被审核，无法展现广告');
                    break;
                case 1007:
                    console.warn(TAG, '广告能力被禁用');
                    break;
                case 1008:
                    console.warn(TAG, '广告单元已关闭');
                    break;
                case 120002:
                    console.warn(TAG, '广告发送的次数已达当日上限');
                    break;
                default:
                    console.warn(TAG, "\u89C6\u9891\u5E7F\u544A\u9519\u8BEF:https://microapp._bytedance.com/docs/zh-CN/mini-game/develop/open-capacity/ads/rewarded-video-ad/rewarded-video-ad-on-error#%E9%94%99%E8%AF%AF%E7%A0%81%E8%AF%A6%E6%83%85");
                    break;
            }
        });
        this.videoAd.onClose(function (res) {
            if (res['isEnded']) {
                _this.OnVideoCallBackListener(true);
            }
            else {
                _this.OnVideoCallBackListener(false);
            }
        });
        this.videoAd.onLoad(function (res) {
            _this.videoAd.show();
            _this.hideLoading();
        });
        this.videoAd.load();
        this.showLoading();
    };
    _bytedance.prototype.videoAd_show = function (OnVideoCall) {
        this.OnVideoCallBackListener = OnVideoCall;
        if (this.videoAd != null) {
            this.showLoading();
            this.videoAd.load();
        }
        else {
            this.initVideo();
        }
    };
    _bytedance.prototype.insterAd_show = function () {
        var time = new Date().getTime();
        if (time - this.insertAdTime < 35000) {
            console.log(TAG, '广告冷却中...');
            return;
        }
        this.insertAdTime = time;
        //@ts-ignore
        var interstitialAd = tt.createInterstitialAd({
            adUnitId: this.insertAdParam
        });
        interstitialAd.onError(function (err) {
            switch (err['errCode']) {
                case 2001:
                    console.warn(TAG, '小程序启动一定时间内不允许展示插屏广告');
                    break;
                case 2002:
                    console.warn(TAG, '距离小程序插屏广告或者激励视频广告上次播放时间间隔不足，不允许展示插屏广告');
                    break;
                case 2003:
                    console.warn(TAG, '当前正在播放激励视频广告或者插屏广告，不允许再次展示插屏广告');
                    break;
                case 2004:
                    console.warn(TAG, '该项错误不是开发者的异常情况，或因小程序页面切换导致广告渲染失败');
                    break;
                case 2005:
                    console.warn(TAG, '插屏广告实例不允许跨页面调用');
                    break;
                default:
                    // 更多请参考错 误码文档 
                    break;
            }
        });
        interstitialAd.onClose(function () {
            interstitialAd.destroy();
        });
        interstitialAd.load().then(function () {
            interstitialAd.show();
        });
    };
    _bytedance.prototype.reportAnalytics = function (values, customObject) {
        if (customObject === void 0) { customObject = {}; }
        //@ts-ignore
        tt.reportAnalytics(values, customObject);
    };
    _bytedance.prototype.showFavoriteGuide = function () {
        //   当 type = 'bar' 时，弹出的引导是浮窗引导，浮窗引导的展现力度比气泡引导更强，用户在组件上能进行“添加”操作。
        //   展现策略：
        //   - 10s 后自动消失。
        //   - 每位用户最多触达【2 次】，最短间隔【一周】才能第二次展现。
        //@ts-ignore
        tt.showFavoriteGuide({
            type: "bar",
            content: "一键添加到「我的小程序」",
            position: "bottom",
            success: function (res) {
                console.log("引导组件展示成功", res['errMsg']);
            },
            fail: function (err) {
                console.log("引导组件展示失败", err['errMsg']);
            },
        });
    };
    _bytedance.prototype.openAwemeUserProfile = function (reslove) {
        // @ts-ignore
        tt.openAwemeUserProfile({
            success: function (res) {
                reslove(true);
            },
            fail: function (e) {
                reslove(false);
            }
        });
    };
    _bytedance.prototype.login = function () {
        //@ts-ignore
        tt.login({
            force: true,
            success: function (res) {
                console.log(TAG, '登录成功');
                _bytedance.Instance.getUserInfo();
            },
            fail: function (err) {
                console.warn(TAG, '登录失败');
            }
        });
    };
    _bytedance.prototype.getUserInfo = function () {
        //@ts-ignore
        tt.getUserInfo({
            withCredentials: false,
            success: function (res) {
                console.log(TAG, '用户信息获取成功:', res.userInfo);
            },
            fail: function (e) {
                console.warn(TAG, '用户信息获取失败:', e);
            }
        });
    };
    return _bytedance;
}());
exports.ch_bytedance = _bytedance;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcc2RrXFxfYnl0ZWRhbmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLElBQU0sR0FBRyxHQUFHLGVBQWUsQ0FBQztBQUM1QjtJQW9CSTtRQWxCUSxvQkFBZSxHQUFXLENBQUMsQ0FBQztRQUM1QixjQUFTLEdBQVcsRUFBRSxDQUFDO1FBQ3ZCLHFCQUFnQixHQUFXLENBQUMsQ0FBQztRQUM3QixlQUFVLEdBQVcsRUFBRSxDQUFDO1FBQ3hCLGtCQUFhLEdBQVcsRUFBRSxDQUFDO1FBQzNCLGlCQUFZLEdBQVcsRUFBRSxDQUFDO1FBQzFCLGtCQUFhLEdBQVcsRUFBRSxDQUFDO1FBQzNCLG9CQUFlLEdBQWEsRUFBRSxDQUFDO1FBQy9CLGFBQVEsR0FBUSxJQUFJLENBQUM7UUFDckIsWUFBTyxHQUFRLElBQUksQ0FBQztRQUNwQixjQUFTLEdBQVEsSUFBSSxDQUFDO1FBQ3RCLDRCQUF1QixHQUFhLElBQUksQ0FBQztRQUN6QyxlQUFVLEdBQVksS0FBSyxDQUFDO1FBQzVCLGlCQUFZLEdBQVcsQ0FBQyxDQUFDO1FBQ3pCLGtCQUFhLEdBQVEsSUFBSSxDQUFDO1FBQzFCLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFDNUIsYUFBUSxHQUFZLEtBQUssQ0FBQztRQUMxQixjQUFTLEdBQVcsRUFBRSxDQUFDO1FBRTNCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLGtDQUFrQyxDQUFDLENBQUM7SUFDekQsQ0FBQztJQUNhLHNCQUFXLEdBQXpCO1FBQ0ksSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksRUFBRTtZQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksVUFBVSxFQUFFLENBQUM7U0FDcEM7UUFDRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztJQUNELHVDQUFrQixHQUFsQjtRQUNJLElBQUksSUFBSSxHQUFlLElBQUksQ0FBQztRQUM1QixZQUFZO1FB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WCxPQUFPLEVBQVAsVUFBUSxHQUFRO2dCQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO2dCQUN6QixVQUFVLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3RDLENBQUM7WUFDRCxJQUFJLEVBQUosVUFBSyxHQUFRO2dCQUNULE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQzlCLENBQUM7U0FDSixDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsZ0NBQVcsR0FBWDtRQUNJLFlBQVk7UUFDWixFQUFFLENBQUMsV0FBVyxDQUFDO1lBQ1gsZUFBZSxFQUFFLEtBQUs7WUFDdEIsT0FBTyxFQUFQLFVBQVEsR0FBUTtnQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxXQUFXLEVBQUUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2hELENBQUM7WUFDRCxJQUFJLEVBQUosVUFBSyxDQUFNO2dCQUNQLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN0QyxDQUFDO1NBQ0osQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNMLGlCQUFDO0FBQUQsQ0EvZkEsQUErZkMsSUFBQTtBQUNZLFFBQUEsWUFBWSxHQUFHLFVBQVUsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcmFtIH0gZnJvbSBcIi4vdHlwZVwiO1xuY29uc3QgVEFHID0gJ19ieXRlZGFuY2UudHMnO1xuY2xhc3MgX2J5dGVkYW5jZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgSW5zdGFuY2U6IF9ieXRlZGFuY2U7XG4gICAgcHJpdmF0ZSByZWNvcmRUaW1lU3RhbXA6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSB2aWRlb1BhdGg6IHN0cmluZyA9IFwiXCI7XG4gICAgcHJpdmF0ZSByZWNvcmRUaW1lTGVuZ3RoOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgYXBwSWRQYXJhbTogc3RyaW5nID0gXCJcIjtcbiAgICBwcml2YXRlIGJhbm5lckFkUGFyYW06IHN0cmluZyA9IFwiXCI7XG4gICAgcHJpdmF0ZSB2ZWRpb0FkUGFyYW06IHN0cmluZyA9IFwiXCI7XG4gICAgcHJpdmF0ZSBpbnNlcnRBZFBhcmFtOiBzdHJpbmcgPSBcIlwiO1xuICAgIHByaXZhdGUgc2hhcmVSZWNvcmREZXNjOiBzdHJpbmdbXSA9IFtdO1xuICAgIHByaXZhdGUgYmFubmVyQWQ6IGFueSA9IG51bGw7XG4gICAgcHJpdmF0ZSB2aWRlb0FkOiBhbnkgPSBudWxsO1xuICAgIHByaXZhdGUgYmFubmVyQm94OiBhbnkgPSBudWxsO1xuICAgIHByaXZhdGUgT25WaWRlb0NhbGxCYWNrTGlzdGVuZXI6IEZ1bmN0aW9uID0gbnVsbDtcbiAgICBwcml2YXRlIHNka0luaXRFbmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGluc2VydEFkVGltZTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIHJlY29yZE1hbmFnZXI6IGFueSA9IG51bGw7XG4gICAgcHJpdmF0ZSBzaG93X3N0YXJ0OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBzaG93X2VuZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgdXNlclF1ZXJ5OiBzdHJpbmcgPSAnJztcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhUQUcsICdpbml0IHBsYXRmb3JtIGNoYW5uZWw6IGJ5dGVkYW5jZScpO1xuICAgIH1cbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IF9ieXRlZGFuY2Uge1xuICAgICAgICBpZiAodGhpcy5JbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLkluc3RhbmNlID0gbmV3IF9ieXRlZGFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5JbnN0YW5jZTtcbiAgICB9XG4gICAgaW5pdFJlY29yZExpc3RlbmVyKCkge1xuICAgICAgICBsZXQgdGhhdDogX2J5dGVkYW5jZSA9IHRoaXM7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLnJlY29yZE1hbmFnZXIgPSB0dC5nZXRHYW1lUmVjb3JkZXJNYW5hZ2VyKCk7XG4gICAgICAgIHRoaXMucmVjb3JkTWFuYWdlci5vblN0YXJ0KCgpID0+IHtcbiAgICAgICAgICAgIHRoYXQudmlkZW9QYXRoID0gXCJcIjtcbiAgICAgICAgICAgIHRoYXQucmVjb3JkVGltZVN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG4gICAgICAgICAgICB0aGF0LnNob3dUb2FzdCh0aGF0LnNob3dfc3RhcnQsICflvZXliLblvIDlp4snLCAnc3VjY2VzcycsIDgwMCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlY29yZE1hbmFnZXIub25FcnJvcigoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICflvZXlsY/lpLHotKU6JywgZXJyWydlcnJNc2cnXSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlY29yZE1hbmFnZXIub25TdG9wKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgdGhhdC5yZWNvcmRUaW1lTGVuZ3RoID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSkgLSB0aGF0LnJlY29yZFRpbWVTdGFtcDtcbiAgICAgICAgICAgIGlmICh0aGF0LnJlY29yZFRpbWVMZW5ndGggPj0gMzAwMCkge1xuICAgICAgICAgICAgICAgIHRoYXQudmlkZW9QYXRoID0gcmVzWyd2aWRlb1BhdGgnXTtcbiAgICAgICAgICAgICAgICB0aGF0LnNob3dUb2FzdCh0aGF0LnNob3dfZW5kLCAn5b2V5Yi25a6M5oiQJywgJ3N1Y2Nlc3MnLCAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGx1emhpVmlkZW9fc3RhcnQoc3RhcnRUaXA6IGJvb2xlYW4gPSBmYWxzZSwgbWF4U2Vjb25kOiBudW1iZXIgPSAzMDAsIGlzTWFya09wZW46IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnNob3dfc3RhcnQgPSBzdGFydFRpcDtcbiAgICAgICAgdGhpcy5yZWNvcmRNYW5hZ2VyLnN0YXJ0KHsgZHVyYXRpb246IG1heFNlY29uZCwgaXNNYXJrT3BlbjogaXNNYXJrT3BlbiB9KTtcbiAgICB9XG4gICAgbHV6aGlWaWRlb19zdG9wKGVuZFRpcDogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5zaG93X2VuZCA9IGVuZFRpcDtcbiAgICAgICAgdGhpcy5yZWNvcmRNYW5hZ2VyLnN0b3AoKTtcbiAgICB9XG4gICAgbHV6aGlWaWRlb19zaGFyZShvblNoYXJlQ2FsbDogRnVuY3Rpb24sIHF1ZXJ5OiBzdHJpbmcgPSAnazE9djEmazI9djInKSB7XG4gICAgICAgIGlmIChvblNoYXJlQ2FsbCA9PSBudWxsIHx8IHRoaXMudmlkZW9QYXRoID09IG51bGwgfHwgdGhpcy5yZWNvcmRUaW1lTGVuZ3RoIDwgMzAwMCkge1xuICAgICAgICAgICAgaWYgKG9uU2hhcmVDYWxsID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5YiG5Lqr5Zue6LCD5Li6bnVsbCEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudmlkZW9QYXRoID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5LiN5a2Y5Zyo5pyq5YiG5Y+R55qE6KeG6aKRIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+W9leWItuaXtumXtOWwj+S6jjPnp5IhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51c2VyUXVlcnkgPSBxdWVyeTtcbiAgICAgICAgdGhpcy52aWRlb19zaGFyZShvblNoYXJlQ2FsbCwgdGhpcy51c2VyUXVlcnkpO1xuICAgIH1cbiAgICB2aWRlb19zaGFyZShPblNoYXJlQ2FsbDogRnVuY3Rpb24sIHF1ZXJ5OiBzdHJpbmcgPSAnazE9djEmazI9djInKSB7XG4gICAgICAgIGxldCB0aGF0OiBfYnl0ZWRhbmNlID0gdGhpcztcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0dC5zaGFyZUFwcE1lc3NhZ2Uoe1xuICAgICAgICAgICAgY2hhbm5lbDogXCJ2aWRlb1wiLFxuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICB2aWRlb1BhdGg6IHRoYXQudmlkZW9QYXRoLFxuICAgICAgICAgICAgICAgIHZpZGVvX3RpdGxlOiB0aGF0LnNoYXJlUmVjb3JkRGVzY1sxXSwgICAgIC8vIOeUn+aIkOi+k+WFpeeahOm7mOiupOaWh+ahiFxuICAgICAgICAgICAgICAgIHZpZGVvVG9waWNzOiBbdGhhdC5zaGFyZVJlY29yZERlc2NbMF1dLCAgIC8vIOinhumikeivnemimCjku4Xmipbpn7PmlK/mjIEpXG4gICAgICAgICAgICAgICAgaGFzaHRhZ19saXN0OiBbdGhhdC5zaGFyZVJlY29yZERlc2NbMF1dLCAgLy8g6KeG6aKR6K+d6aKYKOS7heaKlumfs+aUr+aMgSlcbiAgICAgICAgICAgICAgICB3aXRoVmlkZW9JZDogZmFsc2UsICAvLyDmmK/lkKbmlK/mjIHot7PovazliLDmkq3mlL7pobXvvIwg5Lul5Y+K5pSv5oyB6I635Y+W6KeG6aKR5L+h5oGv562J5o6l5Y+jIO+8iOS4uiB0cnVlIOaXtuS8muWcqCBzdWNjZXNzIOWbnuiwg+S4reW4puS4iiB2aWRlb0lk77yJXG4gICAgICAgICAgICAgICAgdmlkZW9UYWc6ICcnICAgICAgICAgLy8g5YiG5Lqr6KeG6aKR55qE5qCH562+77yM5Y+v5Lul57uT5ZCI6I635Y+W5oqW6Z+z6KeG6aKR5o6S6KGM5qac5L2/55SoXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzcyhyZXM6IGFueSkge1xuICAgICAgICAgICAgICAgIE9uU2hhcmVDYWxsKHRydWUpO1xuICAgICAgICAgICAgICAgIHRoYXQudmlkZW9QYXRoID0gXCJcIjtcbiAgICAgICAgICAgICAgICB0aGF0LnJlY29yZFRpbWVMZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIHRoYXQuc2hvd1RvYXN0KHRydWUsICfliIbkuqvmiJDlip8nLCAnc3VjY2VzcycsIDEwMDApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhaWwoZTogYW55KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgYOWIhuS6q+Wksei0pToke0pTT04uc3RyaW5naWZ5KGUpfWApO1xuICAgICAgICAgICAgICAgIE9uU2hhcmVDYWxsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGF0LnNob3dUb2FzdCh0cnVlLCAn5YiG5Lqr5aSx6LSlJywgJ2ZhaWwnLCAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFZpZGVvSW5mbyhpZDogc3RyaW5nKSB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0dC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogXCJodHRwczovL2dhdGUuc3Nkay5jb20vZGV2ZWxvcGVyL2FwaS9nZXRfdmlkZW9faW5mb1wiLFxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBhbGlhc19pZHM6IFtpZF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogKHJlczogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmRhdGFbMF0udmlkZW9faW5mby5jb3Zlcl91cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEuZGF0YVswXS52aWRlb19pbmZvKTsgLy8g5YyF5ZCrIGNvdmVyX3VybO+8jOi/mOacieWFtuWug+Wtl+autVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8v5pyN5Yqh56uv5a2Y5Zyo5bu26L+f5aaC5p6c6I635Y+W5aSx6LSl5YiZNeenkuWQjuWGjeasoeiOt+WPllxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VmlkZW9JbmZvKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOa2iOaBr+aPkOekuuahhlxuICAgICAqIEBwYXJhbSBzaG93IOaYr+WQpuW8ueWHuuaPkOekuuahhlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIOaPkOekuuS/oeaBr1xuICAgICAqIEBwYXJhbSBpY29uIChzdWNjZXNzLGxvYWRpbmcsbm9uZSxmYWlsKeaIkOWKnyzliqDovb0s5LiN5pi+56S65Zu+5qCHLOWksei0pVxuICAgICAqIEBwYXJhbSBkdXJhdGlvbiDmjIHnu63ml7bpl7RcbiAgICAgKi9cbiAgICBzaG93VG9hc3Qoc2hvdzogYm9vbGVhbiA9IGZhbHNlLCBtZXNzYWdlOiBzdHJpbmcsIGljb246IHN0cmluZyA9ICdub25lJywgZHVyYXRpb246IG51bWJlciA9IDEwMDApIHtcbiAgICAgICAgaWYgKCFzaG93KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHR0LnNob3dUb2FzdCh7XG4gICAgICAgICAgICB0aXRsZTogbWVzc2FnZSxcbiAgICAgICAgICAgIGljb246IGljb24sXG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBidXR0b25TaGFyZShPblNoYXJlQ2FsbDogRnVuY3Rpb24pIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0dC5zaGFyZUFwcE1lc3NhZ2Uoe1xuICAgICAgICAgICAgc3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICBPblNoYXJlQ2FsbCh0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsICfliIbkuqvmiJDlip8hJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbChlOiBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBPblNoYXJlQ2FsbChmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgYOWIhuS6q+Wksei0pToke0pTT04uc3RyaW5naWZ5KGUpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2hha2VEZXZpY2UoKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdHQudmlicmF0ZVNob3J0KHtcbiAgICAgICAgICAgIGZhaWwocmVzOiBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBg6ZyH5Yqo5aSx6LSlOiR7cmVzfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2hha2VEZXZpY2VMb25nKCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHR0LnZpYnJhdGVMb25nKHtcbiAgICAgICAgICAgIGZhaWwocmVzOiBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBg6ZyH5Yqo5aSx6LSlOiR7cmVzfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2hvd1RUR2FtZUljb24oKTogYm9vbGVhbiB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBzeXN0ZW1JbmZvID0gdHQuZ2V0U3lzdGVtSW5mb1N5bmMoKTtcbiAgICAgICAgaWYgKHN5c3RlbUluZm8ucGxhdGZvcm0gPT09IFwiaW9zXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXBwTmFtZTogc3RyaW5nW10gPSBbJ0RvdXlpbicsICdUb3V0aWFvJywgJ25ld3NfYXJ0aWNsZV9saXRlJ107XG4gICAgICAgIHJldHVybiBhcHBOYW1lLmluZGV4T2Yoc3lzdGVtSW5mby5hcHBOYW1lKSA9PT0gLTEgPyBmYWxzZSA6IHRydWU7XG4gICAgfVxuICAgIG9wZW5Nb3JlR2FtZSgpIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHR0Lm9uTW9yZUdhbWVzTW9kYWxDbG9zZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBcIm1vZGFsIGNsb3NlZCFcIik7XG4gICAgICAgIH0pO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgdHQub25OYXZpZ2F0ZVRvTWluaVByb2dyYW0oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmVyckNvZGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmVyck1zZyk7XG4gICAgICAgIH0pO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgY29uc3Qgc3lzdGVtSW5mbyA9IHR0LmdldFN5c3RlbUluZm9TeW5jKCk7XG4gICAgICAgIC8vIGlPUyDkuI3mlK/mjIHvvIzlu7rorq7lhYjmo4DmtYvlho3kvb/nlKhcbiAgICAgICAgaWYgKHN5c3RlbUluZm8ucGxhdGZvcm0gIT09IFwiaW9zXCIpIHtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgdHQuc2hvd01vcmVHYW1lc01vZGFsKHtcbiAgICAgICAgICAgICAgICBhcHBMYXVuY2hPcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcElkOiB0aGlzLmFwcElkUGFyYW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogXCJmb289YmFyJmJhej1xdXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhRGF0YToge31cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB7Li4ufVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBgc3VjY2Vzc2ApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbChyZXM6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsIGAke0pTT04uc3RyaW5naWZ5KHJlcyl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdEFkUGFyYW1zKHBhcmFtOiBwYXJhbSkge1xuICAgICAgICBpZiAodGhpcy5zZGtJbml0RW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZGtJbml0RW5kID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbml0UmVjb3JkTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5hcHBJZFBhcmFtID0gcGFyYW0uYXBwSWQ7XG4gICAgICAgIHRoaXMuaW5zZXJ0QWRQYXJhbSA9IHBhcmFtLmluc2VydElkO1xuICAgICAgICB0aGlzLmJhbm5lckFkUGFyYW0gPSBwYXJhbS5iYW5uZXJJZDtcbiAgICAgICAgdGhpcy52ZWRpb0FkUGFyYW0gPSBwYXJhbS52aWRlb0lkO1xuICAgICAgICB0aGlzLnNoYXJlUmVjb3JkRGVzYyA9IHBhcmFtLnNoYXJlRGVzYztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJhbm5lckFkKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBgSW5pdCBhZCBwYXJhbXM6JHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0R2FtZUJhbm5lcigpIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHsgd2luZG93V2lkdGgsIHdpbmRvd0hlaWdodCB9ID0gdHQuZ2V0U3lzdGVtSW5mb1N5bmMoKTtcbiAgICAgICAgdmFyIGJhbm5lckJveFdpZHRoID0gd2luZG93V2lkdGg7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLmJhbm5lckJveCA9IHR0LmNyZWF0ZU1vcmVHYW1lc0Jhbm5lcih7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBiYW5uZXJCb3hXaWR0aCxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAnYm90dG9tJyxcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsQWxpZ246ICdjZW50ZXInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXBwTGF1bmNoT3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwSWQ6IHRoaXMuYXBwSWRQYXJhbSxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IFwiZm9vPWJhciZiYXo9cXV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhRGF0YToge31cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gey4uLn1cbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuYmFubmVyQm94LnNob3coKTtcbiAgICAgICAgdGhpcy5iYW5uZXJCb3gub25UYXAoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBg54K55Ye76Lez6L2s5ri45oiP55uS5a2QYCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnYW1lQmFubmVyX3Nob3coKSB7XG4gICAgICAgIGlmICh0aGlzLmJhbm5lckJveCkge1xuICAgICAgICAgICAgdGhpcy5iYW5uZXJCb3guc2hvdygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbml0R2FtZUJhbm5lcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdhbWVCYW5uZXJfaGlkZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFubmVyQm94KSB7XG4gICAgICAgICAgICB0aGlzLmJhbm5lckJveC5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdEJhbm5lckFkKCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHsgd2luZG93V2lkdGgsIHdpbmRvd0hlaWdodCB9ID0gdHQuZ2V0U3lzdGVtSW5mb1N5bmMoKTtcbiAgICAgICAgdmFyIHRhcmdldEJhbm5lckFkV2lkdGggPSAxMjA7XG4gICAgICAgIC8vIOWIm+W7uuS4gOS4quWxheS6juWxj+W5leW6lemDqOato+S4reeahOW5v+WRilxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuYmFubmVyQWQgPSB0dC5jcmVhdGVCYW5uZXJBZCh7XG4gICAgICAgICAgICBhZFVuaXRJZDogdGhpcy5iYW5uZXJBZFBhcmFtLFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdGFyZ2V0QmFubmVyQWRXaWR0aCxcbiAgICAgICAgICAgICAgICB0b3A6IHdpbmRvd0hlaWdodCAtICh0YXJnZXRCYW5uZXJBZFdpZHRoIC8gMTYgKiA5KSwgLy8g5qC55o2u57O757uf57qm5a6a5bC65a+46K6h566X5Ye65bm/5ZGK6auY5bqmXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJhbm5lckFkLm9uRXJyb3IoKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGVyclsnZXJyQ29kZSddKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDAwOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5ZCO56uv6ZSZ6K+v6LCD55So5aSx6LSlJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwMTpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+WPguaVsOmUmeivrycpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICflub/lkYrljZXlhYPml6DmlYgnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDAzOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5YaF6YOo6ZSZ6K+vJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwNDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+aXoOWQiOmAgueahOW5v+WRiiwg5bCd6K+V6YeN5paw5Yqg6L29Jyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwNTpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+W5v+WRiuato+WcqOiiq+WuoeaguO+8jOaXoOazleWxleeOsOW5v+WRiicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICflub/lkYrog73lipvooqvnpoHnlKgnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDA4OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5bm/5ZGK5Y2V5YWD5bey5YWz6ZetJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTIwMDAyOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5bm/5ZGK5Y+R6YCB55qE5qyh5pWw5bey6L6+5b2T5pel5LiK6ZmQJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8g5Lmf5Y+v5Lul5omL5Yqo5L+u5pS55bGe5oCn5Lul6LCD5pW05bm/5ZGK5bC65a+4XG4gICAgICAgIHRoaXMuYmFubmVyQWQuc3R5bGUubGVmdCA9ICh3aW5kb3dXaWR0aCAtIHRhcmdldEJhbm5lckFkV2lkdGgpIC8gMjtcbiAgICAgICAgLy8g5bC65a+46LCD5pW05pe25Lya6Kem5Y+R5Zue6LCDXG4gICAgICAgIC8vIOazqOaEj++8muWmguaenOWcqOWbnuiwg+mHjOWGjeasoeiwg+aVtOWwuuWvuO+8jOimgeehruS/neS4jeimgeinpuWPkeatu+W+queOr++8ge+8ge+8gVxuICAgICAgICB0aGlzLmJhbm5lckFkLm9uUmVzaXplKChzaXplOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRywgc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xuICAgICAgICAgICAgaWYgKHNpemUud2lkdGggPT0gMCB8fCBzaXplLmhlaWdodCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g5aaC5p6c5LiA5byA5aeL6K6+572u55qEIGJhbm5lciDlrr3luqbotoXov4fkuobns7vnu5/pmZDliLbvvIzlj6/ku6XlnKjmraTlpITliqDku6XosIPmlbRcbiAgICAgICAgICAgIGlmICh0YXJnZXRCYW5uZXJBZFdpZHRoICE9IHNpemUud2lkdGgpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRCYW5uZXJBZFdpZHRoID0gc2l6ZS53aWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckFkLnN0eWxlLnRvcCA9IHdpbmRvd0hlaWdodCAtIChzaXplLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJBZC5zdHlsZS5sZWZ0ID0gKHdpbmRvd1dpZHRoIC0gc2l6ZS53aWR0aCkgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy/lub/lkYrnu4Tku7bmiJDlip/mi4nlj5blub/lkYrntKDmnZDml7bkvJrop6blj5Fsb2Fk5LqL5Lu255qE55uR5ZCs5ZmoXG4gICAgICAgIHRoaXMuYmFubmVyQWQub25Mb2FkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRywgXCJiYW5uZXLlub/lkYrmi4nlj5blrozmiJAhXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYmFubmVyQWRfc2hvdygpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFubmVyQWQpIHtcbiAgICAgICAgICAgIHRoaXMuYmFubmVyQWQuc2hvdygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJhbm5lckFkX2hpZGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhbm5lckFkKSB7XG4gICAgICAgICAgICB0aGlzLmJhbm5lckFkLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJhbm5lckFkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd0xvYWRpbmcoKSB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0dC5zaG93TG9hZGluZyh7IHRpdGxlOiBcIuivt+axguS4re+8jOivt+eojeWQji4uLlwiIH0pO1xuICAgIH1cbiAgICBoaWRlTG9hZGluZygpIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHR0LmhpZGVMb2FkaW5nKHt9KTtcbiAgICB9XG4gICAgaW5pdFZpZGVvKCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMudmlkZW9BZCA9IHR0LmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XG4gICAgICAgICAgICBhZFVuaXRJZDogdGhpcy52ZWRpb0FkUGFyYW0sXG4gICAgICAgICAgICBtdWx0aXRvbjogZmFsc2UsXG4gICAgICAgICAgICBtdWx0aXRvblJld2FyZGVkTXNnOiAn6KeC55yL5LiL5LiA5Liq5Y+v6aKG5Y+W5pu05aSa5aWW5YqxJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52aWRlb0FkLm9uRXJyb3IoKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGVyclsnZXJyQ29kZSddKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDAwOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5ZCO56uv6ZSZ6K+v6LCD55So5aSx6LSlJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwMTpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+WPguaVsOmUmeivrycpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICflub/lkYrljZXlhYPml6DmlYgnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDAzOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5YaF6YOo6ZSZ6K+vJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwNDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+aXoOWQiOmAgueahOW5v+WRiiwg5bCd6K+V6YeN5paw5Yqg6L29Jyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwNTpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+W5v+WRiuato+WcqOiiq+WuoeaguO+8jOaXoOazleWxleeOsOW5v+WRiicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICflub/lkYrog73lipvooqvnpoHnlKgnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDA4OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5bm/5ZGK5Y2V5YWD5bey5YWz6ZetJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTIwMDAyOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5bm/5ZGK5Y+R6YCB55qE5qyh5pWw5bey6L6+5b2T5pel5LiK6ZmQJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGDop4bpopHlub/lkYrplJnor686aHR0cHM6Ly9taWNyb2FwcC5fYnl0ZWRhbmNlLmNvbS9kb2NzL3poLUNOL21pbmktZ2FtZS9kZXZlbG9wL29wZW4tY2FwYWNpdHkvYWRzL3Jld2FyZGVkLXZpZGVvLWFkL3Jld2FyZGVkLXZpZGVvLWFkLW9uLWVycm9yIyVFOSU5NCU5OSVFOCVBRiVBRiVFNyVBMCU4MSVFOCVBRiVBNiVFNiU4MyU4NWApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlkZW9BZC5vbkNsb3NlKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc1snaXNFbmRlZCddKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5PblZpZGVvQ2FsbEJhY2tMaXN0ZW5lcih0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5PblZpZGVvQ2FsbEJhY2tMaXN0ZW5lcihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZGVvQWQub25Mb2FkKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWRlb0FkLnNob3coKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlkZW9BZC5sb2FkKCk7XG4gICAgICAgIHRoaXMuc2hvd0xvYWRpbmcoKTtcbiAgICB9XG4gICAgdmlkZW9BZF9zaG93KE9uVmlkZW9DYWxsOiBGdW5jdGlvbikge1xuICAgICAgICB0aGlzLk9uVmlkZW9DYWxsQmFja0xpc3RlbmVyID0gT25WaWRlb0NhbGw7XG4gICAgICAgIGlmICh0aGlzLnZpZGVvQWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zaG93TG9hZGluZygpO1xuICAgICAgICAgICAgdGhpcy52aWRlb0FkLmxvYWQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdFZpZGVvKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5zdGVyQWRfc2hvdygpIHtcbiAgICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgaWYgKHRpbWUgLSB0aGlzLmluc2VydEFkVGltZSA8IDM1MDAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsICflub/lkYrlhrfljbTkuK0uLi4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluc2VydEFkVGltZSA9IHRpbWU7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBsZXQgaW50ZXJzdGl0aWFsQWQgPSB0dC5jcmVhdGVJbnRlcnN0aXRpYWxBZCh7XG4gICAgICAgICAgICBhZFVuaXRJZDogdGhpcy5pbnNlcnRBZFBhcmFtXG4gICAgICAgIH0pO1xuICAgICAgICBpbnRlcnN0aXRpYWxBZC5vbkVycm9yKChlcnI6IGFueSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChlcnJbJ2VyckNvZGUnXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMjAwMTpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+Wwj+eoi+W6j+WQr+WKqOS4gOWumuaXtumXtOWGheS4jeWFgeiuuOWxleekuuaPkuWxj+W5v+WRiicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDIwMDI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICfot53nprvlsI/nqIvluo/mj5LlsY/lub/lkYrmiJbogIXmv4DlirHop4bpopHlub/lkYrkuIrmrKHmkq3mlL7ml7bpl7Tpl7TpmpTkuI3otrPvvIzkuI3lhYHorrjlsZXnpLrmj5LlsY/lub/lkYonKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyMDAzOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5b2T5YmN5q2j5Zyo5pKt5pS+5r+A5Yqx6KeG6aKR5bm/5ZGK5oiW6ICF5o+S5bGP5bm/5ZGK77yM5LiN5YWB6K645YaN5qyh5bGV56S65o+S5bGP5bm/5ZGKJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjAwNDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+ivpemhuemUmeivr+S4jeaYr+W8gOWPkeiAheeahOW8guW4uOaDheWGte+8jOaIluWboOWwj+eoi+W6j+mhtemdouWIh+aNouWvvOiHtOW5v+WRiua4suafk+Wksei0pScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDIwMDU6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICfmj5LlsY/lub/lkYrlrp7kvovkuI3lhYHorrjot6jpobXpnaLosIPnlKgnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLy8g5pu05aSa6K+35Y+C6ICD6ZSZIOivr+eggeaWh+ahoyBcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbnRlcnN0aXRpYWxBZC5vbkNsb3NlKCgpID0+IHtcbiAgICAgICAgICAgIGludGVyc3RpdGlhbEFkLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGludGVyc3RpdGlhbEFkLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGludGVyc3RpdGlhbEFkLnNob3coKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcG9ydEFuYWx5dGljcyh2YWx1ZXM6IHN0cmluZyB8IG51bGwsIGN1c3RvbU9iamVjdDogT2JqZWN0ID0ge30pIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHR0LnJlcG9ydEFuYWx5dGljcyh2YWx1ZXMsIGN1c3RvbU9iamVjdCk7XG4gICAgfVxuICAgIHNob3dGYXZvcml0ZUd1aWRlKCkge1xuICAgICAgICAvLyAgIOW9kyB0eXBlID0gJ2Jhcicg5pe277yM5by55Ye655qE5byV5a+85piv5rWu56qX5byV5a+877yM5rWu56qX5byV5a+855qE5bGV546w5Yqb5bqm5q+U5rCU5rOh5byV5a+85pu05by677yM55So5oi35Zyo57uE5Lu25LiK6IO96L+b6KGM4oCc5re75Yqg4oCd5pON5L2c44CCXG4gICAgICAgIC8vICAg5bGV546w562W55Wl77yaXG4gICAgICAgIC8vICAgLSAxMHMg5ZCO6Ieq5Yqo5raI5aSx44CCXG4gICAgICAgIC8vICAgLSDmr4/kvY3nlKjmiLfmnIDlpJrop6bovr7jgJAyIOasoeOAke+8jOacgOefremXtOmalOOAkOS4gOWRqOOAkeaJjeiDveesrOS6jOasoeWxleeOsOOAglxuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgdHQuc2hvd0Zhdm9yaXRlR3VpZGUoe1xuICAgICAgICAgICAgdHlwZTogXCJiYXJcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwi5LiA6ZSu5re75Yqg5Yiw44CM5oiR55qE5bCP56iL5bqP44CNXCIsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJib3R0b21cIixcbiAgICAgICAgICAgIHN1Y2Nlc3MocmVzOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW8leWvvOe7hOS7tuWxleekuuaIkOWKn1wiLCByZXNbJ2Vyck1zZyddKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWlsKGVycjogYW55KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlvJXlr7znu4Tku7blsZXnpLrlpLHotKVcIiwgZXJyWydlcnJNc2cnXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb3BlbkF3ZW1lVXNlclByb2ZpbGUocmVzbG92ZTogRnVuY3Rpb24pIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0dC5vcGVuQXdlbWVVc2VyUHJvZmlsZSh7XG4gICAgICAgICAgICBzdWNjZXNzKHJlczogT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmVzbG92ZSh0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWlsKGU6IE9iamVjdCkge1xuICAgICAgICAgICAgICAgIHJlc2xvdmUoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbG9naW4oKSB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0dC5sb2dpbih7XG4gICAgICAgICAgICBmb3JjZTogdHJ1ZSxcbiAgICAgICAgICAgIHN1Y2Nlc3MocmVzOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsICfnmbvlvZXmiJDlip8nKTtcbiAgICAgICAgICAgICAgICBfYnl0ZWRhbmNlLkluc3RhbmNlLmdldFVzZXJJbmZvKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbChlcnI6IGFueSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICfnmbvlvZXlpLHotKUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgdHQuZ2V0VXNlckluZm8oe1xuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgICAgICAgIHN1Y2Nlc3MocmVzOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsICfnlKjmiLfkv6Hmga/ojrflj5bmiJDlip86JywgcmVzLnVzZXJJbmZvKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWlsKGU6IGFueSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICfnlKjmiLfkv6Hmga/ojrflj5blpLHotKU6JywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBjaF9ieXRlZGFuY2UgPSBfYnl0ZWRhbmNlOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/sdk/data.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ad17bPytDRIYpGu6OVsKux4', 'data');
// scripts/sdk/data.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.data = void 0;
var Constant_1 = require("./Constant");
var data;
(function (data_1) {
    var channel = cc.sys.platform;
    var path_playerbase = 'json/player_data';
    var path_gamebase = 'json/gamebase_data';
    var storageKey = 'dxcs';
    var ST_GameData = "ST_GameDataxx";
    var player_data = null;
    var gamebase_data = null;
    var _dataPool = {};
    /**
     * 初始化数据
     * @param deleteCache 重置
     */
    function init(deleteCache) {
        if (deleteCache === void 0) { deleteCache = false; }
        return __awaiter(this, void 0, Promise, function () {
            var pormises;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (cc.sys.isBrowser) {
                            cc.sys.localStorage.clear();
                        }
                        if (player_data && gamebase_data) {
                            return [2 /*return*/, Promise.resolve(['数据已加载'])];
                        }
                        if (!deleteCache) return [3 /*break*/, 2];
                        return [4 /*yield*/, deleteCacheFunc()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        pormises = [];
                        pormises.push(getLocalStorage(), getStorage());
                        if (cc.sys.localStorage.getItem(ST_GameData)) {
                            _dataPool = JSON.parse(cc.sys.localStorage.getItem(ST_GameData));
                        }
                        else {
                            _dataPool[Constant_1.default.ST_Privacy] = "0";
                            _dataPool[Constant_1.default.ST_SignOnceOn] = "0";
                            _dataPool[Constant_1.default.ST_SignOnceOnTime] = "0";
                            _dataPool[Constant_1.default.ST_ShakeOn] = "1";
                        }
                        return [2 /*return*/, Promise.all(pormises)];
                }
            });
        });
    }
    data_1.init = init;
    function gameJson(key1, key2, key3, key4) {
        if (key4 != undefined) {
            return gamebase_data[key1][key2][key3][key4];
        }
        if (key3 != undefined && key4 == undefined) {
            return gamebase_data[key1][key2][key3];
        }
        if (key2 != undefined && key3 == undefined) {
            return gamebase_data[key1][key2];
        }
        if (key1 != undefined && key2 == undefined) {
            return gamebase_data[key1];
        }
    }
    data_1.gameJson = gameJson;
    function getCache(key1, key2, key3, key4) {
        if (key4 != undefined) {
            return player_data[key1][key2][key3][key4];
        }
        if (key3 != undefined && key4 == undefined) {
            return player_data[key1][key2][key3];
        }
        if (key2 != undefined && key3 == undefined) {
            return player_data[key1][key2];
        }
        if (key1 != undefined && key2 == undefined) {
            return player_data[key1];
        }
    }
    data_1.getCache = getCache;
    function updateCache(arg1, arg2, arg3, arg4, arg5) {
        if (arg5 != undefined) {
            player_data[String(arg1)][String(arg2)][String(arg3)][String(arg4)] = arg5;
        }
        if (arg4 != undefined && arg5 == undefined) {
            player_data[String(arg1)][String(arg2)][String(arg3)] = arg4;
        }
        if (arg3 != undefined && arg4 == undefined) {
            player_data[String(arg1)][String(arg2)] = arg3;
        }
        if (arg2 != undefined && arg3 == undefined) {
            player_data[String(arg1)] = arg2;
        }
        setStorage();
    }
    data_1.updateCache = updateCache;
    function _setItem(key, value) {
        // cc.log("---- key, value------", key, value)
        _dataPool[key] = value;
        _save();
    }
    data_1._setItem = _setItem;
    function _getItem(key, defaultValue) {
        if (_dataPool[key]) {
            return _dataPool[key];
        }
        return defaultValue;
    }
    data_1._getItem = _getItem;
    function _save() {
        cc.sys.localStorage.setItem(ST_GameData, JSON.stringify(_dataPool));
    }
    data_1._save = _save;
    /**取ShakeOn开关 */
    function getShakeOn() {
        return _getItem(Constant_1.default.ST_ShakeOn, "1") == "1";
    }
    data_1.getShakeOn = getShakeOn;
    /**存ShakeOn开关 */
    function setShakeOn(value) {
        _setItem(Constant_1.default.ST_ShakeOn, value ? "1" : "0");
    }
    data_1.setShakeOn = setShakeOn;
    function getPrivacyOn() {
        return _getItem(Constant_1.default.ST_Privacy, "1") == "1";
    }
    data_1.getPrivacyOn = getPrivacyOn;
    function setPrivacyOn(value) {
        _setItem(Constant_1.default.ST_Privacy, value ? "1" : "0");
    }
    data_1.setPrivacyOn = setPrivacyOn;
    function getSignOnceOn() {
        var ret = _getItem(Constant_1.default.ST_SignOnceOnTime, "0");
        if (!ret) {
            ret = "0";
        }
        if (new Date().toDateString() != ret) { //每天弹一次
            return false;
        }
        return _getItem(Constant_1.default.ST_SignOnceOn, "1") == "1";
    }
    data_1.getSignOnceOn = getSignOnceOn;
    function setSignOnceOn(value) {
        _setItem(Constant_1.default.ST_SignOnceOnTime, new Date().toDateString());
        _setItem(Constant_1.default.ST_SignOnceOn, value ? "1" : "0");
    }
    data_1.setSignOnceOn = setSignOnceOn;
    function addCache(arg1, arg2, arg3, arg4, arg5) {
        var checkData;
        var baseData;
        var object = new Object();
        if (arg5 != undefined) {
            checkData = player_data[arg1][arg2][arg3][arg4];
            if (!checkData) {
                object[String(arg4)] = arg5;
                Object.assign(player_data[arg1][arg2][arg3], object);
                baseData = JSON.stringify(player_data);
                console.log('添加字段:' + arg4 + '=' + arg5);
            }
            else {
                console.log('添加失败,已存在键值对:' + arg4 + '=' + arg5);
            }
        }
        if (arg4 != undefined && arg5 == undefined) {
            checkData = player_data[arg1][arg2][arg3];
            if (!checkData) {
                object[String(arg3)] = arg4;
                Object.assign(player_data[arg1][arg2], object);
                baseData = JSON.stringify(player_data);
                console.log('添加字段:' + arg3 + '=' + arg4);
            }
            else {
                console.log('添加失败,已存在键值对:' + arg3 + '=' + arg4);
            }
        }
        if (arg3 != undefined && arg4 == undefined) {
            checkData = player_data[arg1][arg2];
            if (!checkData) {
                object[String(arg2)] = arg3;
                Object.assign(player_data[arg1], object);
                baseData = JSON.stringify(player_data);
                console.log('添加字段:' + arg2 + '=' + arg3);
            }
            else {
                console.log('添加失败,已存在键值对:' + arg2 + '=' + arg3);
            }
        }
        if (arg2 != undefined && arg3 == undefined) {
            checkData = player_data[arg1];
            if (!checkData) {
                object[String(arg1)] = arg2;
                Object.assign(player_data, object);
                baseData = JSON.stringify(player_data);
                console.log('添加字段:' + arg1 + '=' + arg2);
            }
            else {
                console.log('添加失败,已存在键值对:' + arg1 + '=' + arg2);
            }
        }
        switch (channel) {
            // case cc.sys.BYTEDANCE_GAME:
            //     //@ts-ignore
            //     tt.setStorage({
            //         key: storageKey,
            //         data: baseData,
            //         success(res: any) {
            //             console.log('字段添加成功!');
            //         },
            //         fail(res: any) {
            //             console.log('字段添加失败!');
            //         }
            //     });
            //     break;
            default:
                console.log('字段添加成功!');
                cc.sys.localStorage.setItem(storageKey, baseData);
                break;
        }
    }
    data_1.addCache = addCache;
    function getStorage() {
        return new Promise(function (resolve, reject) {
            console.log("开始加载玩家数据", channel == cc.sys.WECHAT_GAME);
            switch (channel) {
                case cc.sys.WECHAT_GAME:
                    // @ts-ignore
                    wx.getStorage({
                        key: storageKey,
                        success: function (res) {
                            console.log("成功加载玩家数据~~~~~~~~~~~~~~", storageKey, channel, res);
                            player_data = JSON.parse(res.data);
                            checkData(player_data, resolve);
                        },
                        fail: function (res) {
                            console.log("未能成功加载玩家数据~~~~~~~~~~~~~~", storageKey, channel, res);
                            loadPlayerData(resolve);
                        }
                    });
                    break;
                // case cc.sys.BYTEDANCE_GAME:
                //     // @ts-ignore
                //     tt.getStorage({
                //         key: storageKey,
                //         success(res: any) {
                //             player_data = JSON.parse(res.data);
                //             checkData(player_data, resolve);
                //         },
                //         fail(res: any) {
                //             loadPlayerData(resolve);
                //         }
                //     });
                //     break;
                // case cc.sys.QQ_PLAY:
                //     // @ts-ignore
                //     qq.getStorage({
                //         key: storageKey,
                //         success(res: any) {
                //             player_data = JSON.parse(res.data);
                //             checkData(player_data, resolve);
                //         },
                //         fail(res: any) {
                //             loadPlayerData(resolve);
                //         }
                //     });
                //     break;
                default:
                    try {
                        //从本地读取数据
                        var baseData = cc.sys.localStorage.getItem(storageKey);
                        //将string转换成json
                        player_data = JSON.parse(baseData);
                        checkData(player_data, resolve);
                    }
                    catch (error_temp) {
                        console.log(error_temp);
                    }
                    break;
            }
        });
    }
    function checkData(data, cb) {
        if (data) {
            cb('<加载缓存玩家数据>');
        }
        else {
            loadPlayerData(cb);
        }
    }
    function loadPlayerData(cb) {
        load(path_playerbase).then(function (base) {
            player_data = base;
            cb('<加载缓存玩家数据>');
        });
    }
    function getLocalStorage() {
        return new Promise(function (resolve, reject) {
            load(path_gamebase).then(function (base) {
                gamebase_data = base;
                resolve('加载游戏数据');
            });
        });
    }
    function setStorage() {
        var baseData = JSON.stringify(player_data);
        console.log("开始保存玩家数据", channel == cc.sys.WECHAT_GAME);
        switch (channel) {
            case cc.sys.WECHAT_GAME:
                // @ts-ignore
                wx.setStorage({
                    key: storageKey, data: baseData
                });
                break;
            // case cc.sys.BYTEDANCE_GAME:
            //     // @ts-ignore
            //     tt.setStorage({
            //         key: storageKey, data: baseData
            //     });
            //     break;
            // case cc.sys.QQ_PLAY:
            //     // @ts-ignore
            //     qq.setStorage({
            //         key: storageKey, data: baseData
            //     });
            //     break;
            default:
                cc.sys.localStorage.setItem(storageKey, baseData);
                break;
        }
    }
    function deleteCacheFunc() {
        return new Promise(function (resolve, reject) {
            switch (channel) {
                case cc.sys.WECHAT_GAME:
                    // @ts-ignore
                    wx.clearStorage({
                        success: function (res) {
                            resolve();
                        },
                        fail: function (res) {
                            reject();
                        }
                    });
                    break;
                // case cc.sys.BYTEDANCE_GAME:
                //     // @ts-ignore
                //     tt.clearStorage({
                //         success(res: any) {
                //             resolve();
                //         },
                //         fail(res: any) {
                //             reject();
                //         }
                //     });
                //     break;
                // case cc.sys.QQ_PLAY:
                //     //@ts-ignore
                //     qq.clearStorage({
                //         success(res: any) {
                //             resolve();
                //         },
                //         fail(res: any) {
                //             reject();
                //         }
                //     });
                //     break;
                default:
                    cc.sys.localStorage.removeItem(storageKey);
                    resolve();
                    break;
            }
        });
    }
    function load(path) {
        return new Promise(function (resolve, reject) {
            cc.resources.load(path, cc.JsonAsset, function (err, object) {
                if (err) {
                    console.log(err);
                    resolve("\u52A0\u8F7D:" + path + "\u5931\u8D25!");
                }
                else {
                    resolve(object.json);
                }
            });
        });
    }
})(data = exports.data || (exports.data = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcc2RrXFxkYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVDQUFrQztBQUVsQyxJQUFpQixJQUFJLENBOGRwQjtBQTlkRCxXQUFpQixNQUFJO0lBQ2pCLElBQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO0lBQ2hDLElBQU0sZUFBZSxHQUFHLGtCQUFrQixDQUFDO0lBQzNDLElBQU0sYUFBYSxHQUFHLG9CQUFvQixDQUFDO0lBQzNDLElBQU0sVUFBVSxHQUFXLE1BQU0sQ0FBQTtJQUNqQyxJQUFNLFdBQVcsR0FBVSxlQUFlLENBQUE7SUFFMUMsSUFBSSxXQUFXLEdBQVcsSUFBSSxDQUFDO0lBQy9CLElBQUksYUFBYSxHQUFXLElBQUksQ0FBQztJQUVqQyxJQUFJLFNBQVMsR0FBUSxFQUFFLENBQUM7SUFDeEI7OztPQUdHO0lBQ0gsU0FBc0IsSUFBSSxDQUFDLFdBQTRCO1FBQTVCLDRCQUFBLEVBQUEsbUJBQTRCO3VDQUFHLE9BQU87Ozs7O3dCQUU3RCxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFDOzRCQUNqQixFQUFFLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQzt5QkFDL0I7d0JBRUQsSUFBSSxXQUFXLElBQUksYUFBYSxFQUFFOzRCQUM5QixzQkFBTyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQzt5QkFDckM7NkJBQ0csV0FBVyxFQUFYLHdCQUFXO3dCQUNYLHFCQUFNLGVBQWUsRUFBRSxFQUFBOzt3QkFBdkIsU0FBdUIsQ0FBQzs7O3dCQUV4QixRQUFRLEdBQXNCLEVBQUUsQ0FBQzt3QkFDckMsUUFBUSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxDQUFDO3dCQUUv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QkFDcEIsd0JBQXdCO2dCQUN4Qiw4QkFBOEI7Z0JBQzlCLHlCQUF5QjtnQkFDekIsYUFBYTtnQkFDYiwyQkFBMkI7Z0JBQzNCLHdCQUF3QjtnQkFDeEIsWUFBWTtnQkFDWixVQUFVO2dCQUNWLGFBQWE7Z0JBQ2IsdUJBQXVCO2dCQUN2QixtQkFBbUI7Z0JBQ25CLHdCQUF3QjtnQkFDeEIsOEJBQThCO2dCQUM5Qix5QkFBeUI7Z0JBQ3pCLGFBQWE7Z0JBQ2IsMkJBQTJCO2dCQUMzQix3QkFBd0I7Z0JBQ3hCLFlBQVk7Z0JBQ1osVUFBVTtnQkFDVixhQUFhO2dCQUNiO29CQUNJLEVBQUUsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFDM0MsT0FBTyxFQUFFLENBQUM7b0JBQ1YsTUFBTTthQUNiO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsU0FBUyxJQUFJLENBQUMsSUFBWTtRQUN0QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBaUIsRUFBRSxNQUFnQjtZQUNuRCxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBRSxVQUFDLEdBQUcsRUFBRSxNQUFXO2dCQUNuRCxJQUFJLEdBQUcsRUFBRTtvQkFDTCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNqQixPQUFPLENBQUMsa0JBQU0sSUFBSSxrQkFBSyxDQUFDLENBQUM7aUJBQzVCO3FCQUFNO29CQUNILE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQ3hCO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7QUFDTCxDQUFDLEVBOWRnQixJQUFJLEdBQUosWUFBSSxLQUFKLFlBQUksUUE4ZHBCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbnN0YW50IGZyb20gXCIuL0NvbnN0YW50XCI7XG5cbmV4cG9ydCBuYW1lc3BhY2UgZGF0YSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IGNjLnN5cy5wbGF0Zm9ybTtcbiAgICBjb25zdCBwYXRoX3BsYXllcmJhc2UgPSAnanNvbi9wbGF5ZXJfZGF0YSc7XG4gICAgY29uc3QgcGF0aF9nYW1lYmFzZSA9ICdqc29uL2dhbWViYXNlX2RhdGEnO1xuICAgIGNvbnN0IHN0b3JhZ2VLZXk6IHN0cmluZyA9ICdkeGNzJ1xuICAgIGNvbnN0IFNUX0dhbWVEYXRhOnN0cmluZyA9IFwiU1RfR2FtZURhdGF4eFwiXG5cbiAgICB2YXIgcGxheWVyX2RhdGE6IE9iamVjdCA9IG51bGw7XG4gICAgdmFyIGdhbWViYXNlX2RhdGE6IE9iamVjdCA9IG51bGw7XG5cbiAgICB2YXIgX2RhdGFQb29sOiBhbnkgPSB7fTtcbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJbmlbDmja5cbiAgICAgKiBAcGFyYW0gZGVsZXRlQ2FjaGUg6YeN572uXG4gICAgICovXG4gICAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXQoZGVsZXRlQ2FjaGU6IGJvb2xlYW4gPSBmYWxzZSk6IFByb21pc2U8YW55W10+IHtcblxuICAgICAgICBpZiAoY2Muc3lzLmlzQnJvd3Nlcil7XG4gICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxheWVyX2RhdGEgJiYgZ2FtZWJhc2VfZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbJ+aVsOaNruW3suWKoOi9vSddKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ2FjaGUpIHtcbiAgICAgICAgICAgIGF3YWl0IGRlbGV0ZUNhY2hlRnVuYygpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwb3JtaXNlczogUHJvbWlzZTxzdHJpbmc+W10gPSBbXTtcbiAgICAgICAgcG9ybWlzZXMucHVzaChnZXRMb2NhbFN0b3JhZ2UoKSwgZ2V0U3RvcmFnZSgpKTtcblxuICAgICAgICBpZiAoY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUX0dhbWVEYXRhKSkge1xuICAgICAgICAgICAgX2RhdGFQb29sID0gSlNPTi5wYXJzZShjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RfR2FtZURhdGEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9kYXRhUG9vbFtDb25zdGFudC5TVF9Qcml2YWN5XSA9IFwiMFwiO1xuICAgICAgICAgICAgX2RhdGFQb29sW0NvbnN0YW50LlNUX1NpZ25PbmNlT25dID0gXCIwXCI7XG4gICAgICAgICAgICBfZGF0YVBvb2xbQ29uc3RhbnQuU1RfU2lnbk9uY2VPblRpbWVdID0gXCIwXCI7XG4gICAgICAgICAgICBfZGF0YVBvb2xbQ29uc3RhbnQuU1RfU2hha2VPbl0gPSBcIjFcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwb3JtaXNlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOivu+WPlmAgZ2FtZWJhc2VfZGF0YSBgIOS4remUruWAvOS4umAga2V5MSBg55qE5YC844CCXG4gICAgICogQHBhcmFtIGtleSDplK7lgLzvvIxga2V5YFxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBnYW1lSnNvbjxUPihrZXk6IHN0cmluZyk6IFQ7XG4gICAgLyoqXG4gICAgICog6K+75Y+WYCBnYW1lYmFzZV9kYXRhIGAg5a2Q5a+56LGhYCBrZXkxIGDkuK3plK7lgLzkuLpgIGtleTIgYOeahOWAvOOAglxuICAgICAqIEBwYXJhbSBrZXkxIOmUruWAvDHvvIxga2V5MWBcbiAgICAgKiBAcGFyYW0ga2V5MiDplK7lgLwy77yMYGtleTJgXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdhbWVKc29uPFQ+KGtleTE6IHN0cmluZywga2V5Mjogc3RyaW5nKTogVDtcbiAgICAvKipcbiAgICAgKiDor7vlj5ZgIGdhbWViYXNlX2RhdGEgYCDlrZDlr7nosaFgIGtleTEgYOeahOWtkOWvueixoWAga2V5MiBg5Lit6ZSu5YC85Li6YCBrZXkzIGDnmoTlgLzjgIJcbiAgICAgKiBAcGFyYW0ga2V5MSDplK7lgLwx77yMYGtleTFgXG4gICAgICogQHBhcmFtIGtleTIg6ZSu5YC8Mu+8jGBrZXkyYFxuICAgICAqIEBwYXJhbSBrZXkzIOmUruWAvDPvvIxga2V5M2BcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2FtZUpzb248VD4oa2V5MTogc3RyaW5nLCBrZXkyOiBzdHJpbmcsIGtleTM6IHN0cmluZyk6IFQ7XG4gICAgLyoqXG4gICAgICog6K+75Y+WYCBnYW1lYmFzZV9kYXRhIGAg5a2Q5a+56LGhYCBrZXkxIGDnmoTlrZDlr7nosaFgIGtleTIgYOeahOWtkOWvueixoWAga2V5MyBg5Lit6ZSu5YC85Li6YCBrZXk0IGDnmoTlgLzjgIJcbiAgICAgKiBAcGFyYW0ga2V5MSDplK7lgLwx77yMYGtleTFgXG4gICAgICogQHBhcmFtIGtleTIg6ZSu5YC8Mu+8jGBrZXkyYFxuICAgICAqIEBwYXJhbSBrZXkzIOmUruWAvDPvvIxga2V5M2BcbiAgICAgKiBAcGFyYW0ga2V5NCDplK7lgLw077yMYGtleTRgXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdhbWVKc29uPFQ+KGtleTE6IHN0cmluZywga2V5Mjogc3RyaW5nLCBrZXkzOiBzdHJpbmcsIGtleTQ6IHN0cmluZyk6IFQ7XG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdhbWVKc29uPFQ+KGtleTE6IHN0cmluZywga2V5Mj86IHN0cmluZywga2V5Mz86IHN0cmluZywga2V5ND86IHN0cmluZyk6IFQge1xuICAgICAgICBpZiAoa2V5NCE9dW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2FtZWJhc2VfZGF0YVtrZXkxXVtrZXkyXVtrZXkzXVtrZXk0XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5MyE9dW5kZWZpbmVkICYmIGtleTQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2FtZWJhc2VfZGF0YVtrZXkxXVtrZXkyXVtrZXkzXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5MiE9dW5kZWZpbmVkICYmIGtleTMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2FtZWJhc2VfZGF0YVtrZXkxXVtrZXkyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5MSE9dW5kZWZpbmVkICYmIGtleTIgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2FtZWJhc2VfZGF0YVtrZXkxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDor7vlj5ZgIHBsYXllcl9kYXRhIGDkuK3plK7lgLzkuLpgIGtleSBg55qE5YC844CCXG4gICAgICogQHBhcmFtIGtleSDplK7lgLzvvIxga2V5YFxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRDYWNoZTxUPihrZXk6IHN0cmluZyk6IFQ7XG4gICAgLyoqXG4gICAgICog6K+75Y+WYCBwbGF5ZXJfZGF0YSBg55qE5a2Q5a+56LGhYCBrZXkxIGDkuK3plK7lgLzkuLpgIGtleTIgYOeahOWAvOOAglxuICAgICAqIEBwYXJhbSBrZXkxIOmUruWAvDHvvIxga2V5MWBcbiAgICAgKiBAcGFyYW0ga2V5MiDplK7lgLwy77yMYGtleTJgXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldENhY2hlPFQ+KGtleTE6IHN0cmluZywga2V5Mjogc3RyaW5nKTogVDtcbiAgICAvKipcbiAgICAgKiDor7vlj5ZgIHBsYXllcl9kYXRhIGDnmoTlrZDlr7nosaFgIGtleTEgYOeahOWtkOWvueixoWAga2V5MiBg5Lit6ZSu5YC85Li6YCBrZXkzIGDnmoTlgLzjgIJcbiAgICAgKiBAcGFyYW0ga2V5MSDplK7lgLwx77yMYGtleTFgXG4gICAgICogQHBhcmFtIGtleTIg6ZSu5YC8Mu+8jGBrZXkyYFxuICAgICAqIEBwYXJhbSBrZXkzIOmUruWAvDPvvIxga2V5M2BcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0Q2FjaGU8VD4oa2V5MTogc3RyaW5nLCBrZXkyOiBzdHJpbmcsIGtleTM6IHN0cmluZyk6IFQ7XG4gICAgLyoqXG4gICAgICog6K+75Y+WYCBwbGF5ZXJfZGF0YSBg55qE5a2Q5a+56LGhYCBrZXkxIGDnmoTlrZDlr7nosaFgIGtleTIgYOeahOWtkOWvueixoWAga2V5MyBg5Lit6ZSu5YC85Li6YCBrZXk0IGDnmoTlgLzjgIJcbiAgICAgKiBAcGFyYW0ga2V5MSDplK7lgLwx77yMYGtleTFgXG4gICAgICogQHBhcmFtIGtleTIg6ZSu5YC8Mu+8jGBrZXkyYFxuICAgICAqIEBwYXJhbSBrZXkzIOmUruWAvDPvvIxga2V5M2BcbiAgICAgKiBAcGFyYW0ga2V5NCDplK7lgLw077yMYGtleTRgXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldENhY2hlPFQ+KGtleTE6IHN0cmluZywga2V5Mjogc3RyaW5nLCBrZXkzOiBzdHJpbmcsIGtleTQ6IHN0cmluZyk6IFQ7XG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldENhY2hlPFQ+KGtleTE6IHN0cmluZywga2V5Mj86IHN0cmluZywga2V5Mz86IHN0cmluZywga2V5ND86IHN0cmluZyk6IFQge1xuICAgICAgICBpZiAoa2V5NCE9dW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcGxheWVyX2RhdGFba2V5MV1ba2V5Ml1ba2V5M11ba2V5NF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleTMhPXVuZGVmaW5lZCAmJiBrZXk0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHBsYXllcl9kYXRhW2tleTFdW2tleTJdW2tleTNdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkyIT11bmRlZmluZWQgJiYga2V5MyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBwbGF5ZXJfZGF0YVtrZXkxXVtrZXkyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5MSE9dW5kZWZpbmVkICYmIGtleTIgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcGxheWVyX2RhdGFba2V5MV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog5bCGYCBwbGF5ZXJfZGF0YSBg5Lit55qE6ZSu5YC85Li6YCBrZXkgYOeahOWAvOS/ruaUueS4umAgdmFsdWUgYOOAglxuICAgICAqIEBwYXJhbSBrZXkxIOmUruWAvO+8jGBrZXlgXG4gICAgICogQHBhcmFtIHZhbHVlIOabtOaWsOaVsOaNrlxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDYWNoZTxUPihrZXk6IHN0cmluZywgdmFsdWU6IFQpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIOWwhmAgcGxheWVyX2RhdGEgYOeahOWtkOWvueixoWAga2V5MSBg5Lit55qE6ZSu5YC85Li6YCBrZXkyIGDnmoTlgLzkv67mlLnkuLpgIHZhbHVlIGDjgIJcbiAgICAgKiBAcGFyYW0ga2V5MSDplK7lgLwx77yMYGtleTFgXG4gICAgICogQHBhcmFtIGtleTIg6ZSu5YC8Mu+8jGBrZXkyYFxuICAgICAqIEBwYXJhbSB2YWx1ZSDmm7TmlrDmlbDmja5cbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2FjaGU8VD4oa2V5MTogc3RyaW5nLCBrZXkyOiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiDlsIZgIHBsYXllcl9kYXRhIGDnmoTlrZDlr7nosaFgIGtleTEgYOeahOWtkOWvueixoWAga2V5MiBg5Lit55qE6ZSu5YC85Li6YCBrZXkzIGDnmoTlgLzkv67mlLnkuLpgIHZhbHVlIGDjgIJcbiAgICAgKiBAcGFyYW0ga2V5MSDplK7lgLwx77yMYGtleTFgXG4gICAgICogQHBhcmFtIGtleTIg6ZSu5YC8Mu+8jGBrZXkyYFxuICAgICAqIEBwYXJhbSBrZXkzIOmUruWAvDPvvIxga2V5M2BcbiAgICAgKiBAcGFyYW0gdmFsdWUg5pu05paw5pWw5o2uXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhY2hlPFQ+KGtleTE6IHN0cmluZywga2V5Mjogc3RyaW5nLCBrZXkzOiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiDlsIZgIHBsYXllcl9kYXRhIGDnmoTlrZDlr7nosaFgIGtleTEgYOeahOWtkOWvueixoWAga2V5MiBg55qE5a2Q5a+56LGhYCBrZXkzIGDkuK3nmoTplK7lgLzkuLpgIGtleTQgYOeahOWAvOS/ruaUueS4umAgdmFsdWUgYOOAglxuICAgICAqIEBwYXJhbSBrZXkxIOmUruWAvDHvvIxga2V5MWBcbiAgICAgKiBAcGFyYW0ga2V5MiDplK7lgLwy77yMYGtleTJgXG4gICAgICogQHBhcmFtIGtleTMg6ZSu5YC8M++8jGBrZXkzYFxuICAgICAqIEBwYXJhbSBrZXk0IOmUruWAvDTvvIxga2V5NGBcbiAgICAgKiBAcGFyYW0gdmFsdWUg5pu05paw5pWw5o2uXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhY2hlPFQ+KGtleTE6IHN0cmluZywga2V5Mjogc3RyaW5nLCBrZXkzOiBzdHJpbmcsIGtleTQ6IHN0cmluZywgdmFsdWU6IFQpOiB2b2lkO1xuICAgIGV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDYWNoZTxUPihhcmcxOiBULCBhcmcyOiBULCBhcmczPzogVCwgYXJnND86IFQsIGFyZzU/OiBUKSB7XG4gICAgICAgIGlmIChhcmc1IT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwbGF5ZXJfZGF0YVtTdHJpbmcoYXJnMSldW1N0cmluZyhhcmcyKV1bU3RyaW5nKGFyZzMpXVtTdHJpbmcoYXJnNCldID0gYXJnNTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJnNCAhPSB1bmRlZmluZWQmJiBhcmc1ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGxheWVyX2RhdGFbU3RyaW5nKGFyZzEpXVtTdHJpbmcoYXJnMildW1N0cmluZyhhcmczKV0gPSBhcmc0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmczIT0gdW5kZWZpbmVkICYmIGFyZzQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwbGF5ZXJfZGF0YVtTdHJpbmcoYXJnMSldW1N0cmluZyhhcmcyKV0gPSBhcmczO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmcyICE9IHVuZGVmaW5lZCYmIGFyZzMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwbGF5ZXJfZGF0YVtTdHJpbmcoYXJnMSldID0gYXJnMjtcbiAgICAgICAgfVxuICAgICAgICBzZXRTdG9yYWdlKCk7XG4gICAgfVxuXG4gICAgXG4gICAgZXhwb3J0IGZ1bmN0aW9uIF9zZXRJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIC8vIGNjLmxvZyhcIi0tLS0ga2V5LCB2YWx1ZS0tLS0tLVwiLCBrZXksIHZhbHVlKVxuICAgICAgICBfZGF0YVBvb2xba2V5XSA9IHZhbHVlO1xuICAgICAgICBfc2F2ZSgpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBfZ2V0SXRlbShrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKF9kYXRhUG9vbFtrZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gX2RhdGFQb29sW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gX3NhdmUoKSB7XG4gICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVF9HYW1lRGF0YSwgSlNPTi5zdHJpbmdpZnkoX2RhdGFQb29sKSk7XG4gICAgfVxuXG4gICAgLyoq5Y+WU2hha2VPbuW8gOWFsyAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRTaGFrZU9uKCkge1xuICAgICAgICByZXR1cm4gX2dldEl0ZW0oQ29uc3RhbnQuU1RfU2hha2VPbiwgXCIxXCIpID09IFwiMVwiO1xuICAgIH1cbiAgICAvKirlrZhTaGFrZU9u5byA5YWzICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldFNoYWtlT24odmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgX3NldEl0ZW0oQ29uc3RhbnQuU1RfU2hha2VPbiwgdmFsdWUgPyBcIjFcIiA6IFwiMFwiKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0UHJpdmFjeU9uKCkge1xuICAgICAgICByZXR1cm4gX2dldEl0ZW0oQ29uc3RhbnQuU1RfUHJpdmFjeSwgXCIxXCIpID09IFwiMVwiO1xuICAgIH1cbiAgICBleHBvcnQgZnVuY3Rpb24gc2V0UHJpdmFjeU9uKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIF9zZXRJdGVtKENvbnN0YW50LlNUX1ByaXZhY3ksIHZhbHVlID8gXCIxXCIgOiBcIjBcIik7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldFNpZ25PbmNlT24oKSB7XG5cbiAgICAgICAgbGV0IHJldCA9IF9nZXRJdGVtKENvbnN0YW50LlNUX1NpZ25PbmNlT25UaW1lLCBcIjBcIik7XG4gICAgICAgIGlmICghcmV0KSB7XG4gICAgICAgICAgICByZXQgPSBcIjBcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3IERhdGUoKS50b0RhdGVTdHJpbmcoKSAhPSByZXQpey8v5q+P5aSp5by55LiA5qyhXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2dldEl0ZW0oQ29uc3RhbnQuU1RfU2lnbk9uY2VPbiwgXCIxXCIpID09IFwiMVwiO1xuICAgIH1cbiAgICBleHBvcnQgZnVuY3Rpb24gc2V0U2lnbk9uY2VPbih2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBfc2V0SXRlbShDb25zdGFudC5TVF9TaWduT25jZU9uVGltZSxuZXcgRGF0ZSgpLnRvRGF0ZVN0cmluZygpKVxuICAgICAgICBfc2V0SXRlbShDb25zdGFudC5TVF9TaWduT25jZU9uLCB2YWx1ZSA/IFwiMVwiIDogXCIwXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWcqGAgcGxheWVyX2RhdGEgYOS4reaPkuWFpemUruWAvOWvuWAga2V5MT12YWx1ZSBgXG4gICAgICogQHBhcmFtIGtleSDplK7lgLzvvIxga2V5YFxuICAgICAqIEBwYXJhbSB2YWx1ZSDmj5LlhaXmlbDmja5cbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gYWRkQ2FjaGU8VD4oa2V5OiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiDlnKhgIHBsYXllcl9kYXRhIGDnmoTlrZDlr7nosaFgIGtleTEgYOS4reaPkuWFpemUruWAvOWvuWAga2V5Mj12YWx1ZSBgXG4gICAgICogQHBhcmFtIGtleTEg6ZSu5YC877yMYGtleTFgXG4gICAgICogQHBhcmFtIGtleTIg6ZSu5YC877yMYGtleTJgXG4gICAgICogQHBhcmFtIHZhbHVlIOaPkuWFpeaVsOaNrlxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBhZGRDYWNoZTxUPihrZXkxOiBzdHJpbmcsIGtleTI6IHN0cmluZywgdmFsdWU6IFQpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqICDlnKhgIHBsYXllcl9kYXRhIGDnmoTlrZDlr7nosaFgIGtleTEgYOeahOWtkOWvueixoWAga2V5MiBg5Lit5o+S5YWl6ZSu5YC85a+5YCBrZXkzPXZhbHVlIGBcbiAgICAgKiBAcGFyYW0ga2V5MSDplK7lgLzvvIxga2V5MWBcbiAgICAgKiBAcGFyYW0ga2V5MiDplK7lgLzvvIxga2V5MmBcbiAgICAgKiBAcGFyYW0ga2V5MyDplK7lgLzvvIxga2V5M2BcbiAgICAgKiBAcGFyYW0gdmFsdWUg5o+S5YWl5pWw5o2uXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGFkZENhY2hlPFQ+KGtleTE6IHN0cmluZywga2V5Mjogc3RyaW5nLCBrZXkzOiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiDlnKhgIHBsYXllcl9kYXRhIGDnmoTlrZDlr7nosaFgIGtleTEgYOeahOWtkOWvueixoWAga2V5MiBg55qE5a2Q5a+56LGhYCBrZXkzIGDkuK3mj5LlhaXplK7lgLzlr7lgIGtleTQ9dmFsdWUgYFxuICAgICAqIEBwYXJhbSBrZXkxIOmUruWAvO+8jGBrZXkxYFxuICAgICAqIEBwYXJhbSBrZXkyIOmUruWAvO+8jGBrZXkyYFxuICAgICAqIEBwYXJhbSBrZXkzIOmUruWAvO+8jGBrZXkzYFxuICAgICAqIEBwYXJhbSBrZXk0IOmUruWAvO+8jGBrZXk0YFxuICAgICAqIEBwYXJhbSB2YWx1ZSDmj5LlhaXmlbDmja5cbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gYWRkQ2FjaGU8VD4oa2V5MTogc3RyaW5nLCBrZXkyOiBzdHJpbmcsIGtleTM6IHN0cmluZywga2V5NDogc3RyaW5nLCB2YWx1ZTogVCk6IHZvaWQ7XG4gICAgZXhwb3J0IGZ1bmN0aW9uIGFkZENhY2hlPFQ+KGFyZzE6IHN0cmluZywgYXJnMjogVCwgYXJnMz86IFQsIGFyZzQ/OiBULCBhcmc1PzogVCkge1xuICAgICAgICBsZXQgY2hlY2tEYXRhOiBUO1xuICAgICAgICBsZXQgYmFzZURhdGE6IHN0cmluZztcbiAgICAgICAgbGV0IG9iamVjdDogT2JqZWN0ID0gbmV3IE9iamVjdCgpO1xuXG4gICAgICAgIGlmIChhcmc1IT11bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoZWNrRGF0YSA9IHBsYXllcl9kYXRhW2FyZzFdW2FyZzJdW2FyZzNdW2FyZzRdO1xuICAgICAgICAgICAgaWYgKCFjaGVja0RhdGEpIHtcbiAgICAgICAgICAgICAgICBvYmplY3RbU3RyaW5nKGFyZzQpXSA9IGFyZzU7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwbGF5ZXJfZGF0YVthcmcxXVthcmcyXVthcmczXSwgb2JqZWN0KTtcbiAgICAgICAgICAgICAgICBiYXNlRGF0YSA9IEpTT04uc3RyaW5naWZ5KHBsYXllcl9kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5re75Yqg5a2X5q61OicgKyBhcmc0ICsgJz0nICsgYXJnNSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmt7vliqDlpLHotKUs5bey5a2Y5Zyo6ZSu5YC85a+5OicgKyBhcmc0ICsgJz0nICsgYXJnNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZzQgIT11bmRlZmluZWQmJiBhcmc1ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hlY2tEYXRhID0gcGxheWVyX2RhdGFbYXJnMV1bYXJnMl1bYXJnM107XG4gICAgICAgICAgICBpZiAoIWNoZWNrRGF0YSkge1xuICAgICAgICAgICAgICAgIG9iamVjdFtTdHJpbmcoYXJnMyldID0gYXJnNDtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHBsYXllcl9kYXRhW2FyZzFdW2FyZzJdLCBvYmplY3QpO1xuICAgICAgICAgICAgICAgIGJhc2VEYXRhID0gSlNPTi5zdHJpbmdpZnkocGxheWVyX2RhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmt7vliqDlrZfmrrU6JyArIGFyZzMgKyAnPScgKyBhcmc0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+a3u+WKoOWksei0pSzlt7LlrZjlnKjplK7lgLzlr7k6JyArIGFyZzMgKyAnPScgKyBhcmc0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJnMyE9dW5kZWZpbmVkICYmIGFyZzQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjaGVja0RhdGEgPSBwbGF5ZXJfZGF0YVthcmcxXVthcmcyXTtcbiAgICAgICAgICAgIGlmICghY2hlY2tEYXRhKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0W1N0cmluZyhhcmcyKV0gPSBhcmczO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocGxheWVyX2RhdGFbYXJnMV0sIG9iamVjdCk7XG4gICAgICAgICAgICAgICAgYmFzZURhdGEgPSBKU09OLnN0cmluZ2lmeShwbGF5ZXJfZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+a3u+WKoOWtl+autTonICsgYXJnMiArICc9JyArIGFyZzMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5re75Yqg5aSx6LSlLOW3suWtmOWcqOmUruWAvOWvuTonICsgYXJnMiArICc9JyArIGFyZzMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhcmcyIT11bmRlZmluZWQgJiYgYXJnMyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoZWNrRGF0YSA9IHBsYXllcl9kYXRhW2FyZzFdO1xuICAgICAgICAgICAgaWYgKCFjaGVja0RhdGEpIHtcbiAgICAgICAgICAgICAgICBvYmplY3RbU3RyaW5nKGFyZzEpXSA9IGFyZzI7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwbGF5ZXJfZGF0YSwgb2JqZWN0KTtcbiAgICAgICAgICAgICAgICBiYXNlRGF0YSA9IEpTT04uc3RyaW5naWZ5KHBsYXllcl9kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5re75Yqg5a2X5q61OicgKyBhcmcxICsgJz0nICsgYXJnMik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmt7vliqDlpLHotKUs5bey5a2Y5Zyo6ZSu5YC85a+5OicgKyBhcmcxICsgJz0nICsgYXJnMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgICAgICAgICAvLyBjYXNlIGNjLnN5cy5CWVRFREFOQ0VfR0FNRTpcbiAgICAgICAgICAgIC8vICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIC8vICAgICB0dC5zZXRTdG9yYWdlKHtcbiAgICAgICAgICAgIC8vICAgICAgICAga2V5OiBzdG9yYWdlS2V5LFxuICAgICAgICAgICAgLy8gICAgICAgICBkYXRhOiBiYXNlRGF0YSxcbiAgICAgICAgICAgIC8vICAgICAgICAgc3VjY2VzcyhyZXM6IGFueSkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJ+Wtl+autea3u+WKoOaIkOWKnyEnKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vICAgICAgICAgZmFpbChyZXM6IGFueSkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJ+Wtl+autea3u+WKoOWksei0pSEnKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgLy8gICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5a2X5q615re75Yqg5oiQ5YqfIScpO1xuICAgICAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBiYXNlRGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3RvcmFnZSgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmU6IEZ1bmN0aW9uLCByZWplY3Q6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW8gOWni+WKoOi9veeOqeWutuaVsOaNrlwiLGNoYW5uZWwgPT0gY2Muc3lzLldFQ0hBVF9HQU1FKVxuICAgICAgICAgICAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBjYy5zeXMuV0VDSEFUX0dBTUU6XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgd3guZ2V0U3RvcmFnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHN0b3JhZ2VLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlczogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmiJDlip/liqDovb3njqnlrrbmlbDmja5+fn5+fn5+fn5+fn5+flwiLHN0b3JhZ2VLZXksY2hhbm5lbCxyZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyX2RhdGEgPSBKU09OLnBhcnNlKHJlcy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGEocGxheWVyX2RhdGEsIHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWwocmVzOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuacquiDveaIkOWKn+WKoOi9veeOqeWutuaVsOaNrn5+fn5+fn5+fn5+fn5+XCIsc3RvcmFnZUtleSxjaGFubmVsLHJlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkUGxheWVyRGF0YShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIGNhc2UgY2Muc3lzLkJZVEVEQU5DRV9HQU1FOlxuICAgICAgICAgICAgICAgIC8vICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgLy8gICAgIHR0LmdldFN0b3JhZ2Uoe1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAga2V5OiBzdG9yYWdlS2V5LFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc3VjY2VzcyhyZXM6IGFueSkge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHBsYXllcl9kYXRhID0gSlNPTi5wYXJzZShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgY2hlY2tEYXRhKHBsYXllcl9kYXRhLCByZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBmYWlsKHJlczogYW55KSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbG9hZFBsYXllckRhdGEocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBjYXNlIGNjLnN5cy5RUV9QTEFZOlxuICAgICAgICAgICAgICAgIC8vICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgLy8gICAgIHFxLmdldFN0b3JhZ2Uoe1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAga2V5OiBzdG9yYWdlS2V5LFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc3VjY2VzcyhyZXM6IGFueSkge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHBsYXllcl9kYXRhID0gSlNPTi5wYXJzZShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgY2hlY2tEYXRhKHBsYXllcl9kYXRhLCByZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBmYWlsKHJlczogYW55KSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbG9hZFBsYXllckRhdGEocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/ku47mnKzlnLDor7vlj5bmlbDmja5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXNlRGF0YSA9IGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5bCGc3RyaW5n6L2s5o2i5oiQanNvblxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyX2RhdGEgPSBKU09OLnBhcnNlKGJhc2VEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrRGF0YShwbGF5ZXJfZGF0YSwgcmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yX3RlbXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yX3RlbXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tEYXRhKGRhdGE6IE9iamVjdCwgY2I6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBjYignPOWKoOi9vee8k+WtmOeOqeWutuaVsOaNrj4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvYWRQbGF5ZXJEYXRhKGNiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBsb2FkUGxheWVyRGF0YShjYjogRnVuY3Rpb24pIHtcbiAgICAgICAgbG9hZChwYXRoX3BsYXllcmJhc2UpLnRoZW4oYmFzZSA9PiB7XG4gICAgICAgICAgICBwbGF5ZXJfZGF0YSA9IGJhc2U7XG4gICAgICAgICAgICBjYignPOWKoOi9vee8k+WtmOeOqeWutuaVsOaNrj4nKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExvY2FsU3RvcmFnZSgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmU6IEZ1bmN0aW9uLCByZWplY3Q6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICBsb2FkKHBhdGhfZ2FtZWJhc2UpLnRoZW4oYmFzZSA9PiB7XG4gICAgICAgICAgICAgICAgZ2FtZWJhc2VfZGF0YSA9IGJhc2U7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgn5Yqg6L295ri45oiP5pWw5o2uJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFN0b3JhZ2UoKSB7XG4gICAgICAgIHZhciBiYXNlRGF0YSA9IEpTT04uc3RyaW5naWZ5KHBsYXllcl9kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coXCLlvIDlp4vkv53lrZjnjqnlrrbmlbDmja5cIixjaGFubmVsID09IGNjLnN5cy5XRUNIQVRfR0FNRSlcbiAgICAgICAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5XRUNIQVRfR0FNRTpcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgd3guc2V0U3RvcmFnZSh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogc3RvcmFnZUtleSwgZGF0YTogYmFzZURhdGFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIGNhc2UgY2Muc3lzLkJZVEVEQU5DRV9HQU1FOlxuICAgICAgICAgICAgLy8gICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIC8vICAgICB0dC5zZXRTdG9yYWdlKHtcbiAgICAgICAgICAgIC8vICAgICAgICAga2V5OiBzdG9yYWdlS2V5LCBkYXRhOiBiYXNlRGF0YVxuICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgLy8gICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gY2FzZSBjYy5zeXMuUVFfUExBWTpcbiAgICAgICAgICAgIC8vICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAvLyAgICAgcXEuc2V0U3RvcmFnZSh7XG4gICAgICAgICAgICAvLyAgICAgICAgIGtleTogc3RvcmFnZUtleSwgZGF0YTogYmFzZURhdGFcbiAgICAgICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgICAgIC8vICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXksIGJhc2VEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZWxldGVDYWNoZUZ1bmMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZTogRnVuY3Rpb24sIHJlamVjdDogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgY2Muc3lzLldFQ0hBVF9HQU1FOlxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHd4LmNsZWFyU3RvcmFnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlczogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWwocmVzOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIGNhc2UgY2Muc3lzLkJZVEVEQU5DRV9HQU1FOlxuICAgICAgICAgICAgICAgIC8vICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgLy8gICAgIHR0LmNsZWFyU3RvcmFnZSh7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBzdWNjZXNzKHJlczogYW55KSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGZhaWwocmVzOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIGNhc2UgY2Muc3lzLlFRX1BMQVk6XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIC8vICAgICBxcS5jbGVhclN0b3JhZ2Uoe1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc3VjY2VzcyhyZXM6IGFueSkge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBmYWlsKHJlczogYW55KSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc3RvcmFnZUtleSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsb2FkKHBhdGg6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZTogRnVuY3Rpb24sIHJlamVjdDogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGNjLnJlc291cmNlcy5sb2FkKHBhdGgsIGNjLkpzb25Bc3NldCwgKGVyciwgb2JqZWN0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYOWKoOi9vToke3BhdGh95aSx6LSlIWApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUob2JqZWN0Lmpzb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/controller/ad/ad_native_interstitial.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3b56b/goeRIKbMeVg+fS/Yl', 'ad_native_interstitial');
// syyx_sdk/controller/ad/ad_native_interstitial.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ad_native_interstitial = void 0;
var model_1 = require("../../model/model");
var syyx_sdk_enum_1 = require("../../configs/syyx_sdk_enum");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var syyx_manager_1 = require("../syyx_manager");
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var ad_banner_1 = require("./ad_banner");
var syyx_adv_manager_1 = require("./syyx_adv_manager");
var syyx_sdk_api_1 = require("../../syyx_sdk_api");
var ad_native_interstitial = /** @class */ (function () {
    function ad_native_interstitial() {
    }
    ad_native_interstitial.check_is_click_wrap = function () {
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["native_interstitial_click_wrap"]) {
            var rule = syyx_sdk_api_1.syyx_sdk_api.get_business_data_by_key('native_interstitial_click_wrap');
            if (rule) {
                if (this.next_click_wrap_count == -1) {
                    this.next_click_wrap_count = rule[0];
                }
                if (this.show_count == this.next_click_wrap_count) {
                    console.log("igc----- native_interstitial is easy click!");
                    this.next_click_wrap_count += rule[1] + Math.floor(Math.random() * (rule[2] - rule[1] + 1));
                    console.log("igc----- native_interstitial next easy click count：", this.next_click_wrap_count);
                    return true;
                }
            }
            else {
                return false;
            }
        }
        return false;
    };
    ad_native_interstitial.report_ad_click = function (ad_pos_id, native_data) {
        if (!this._ad_pos_id) {
            console.log("igc----- ad_native_interstitial  report_ad_click this.ad_pos_id is null!!");
            this._ad_pos_id = syyx_sdk_enum_1.e_ad_id.native_interstitial_hall;
        }
        if (this._ad_pos_id != ad_pos_id) {
            return;
        }
        //上报的是原生插屏点击  隐藏原生插屏Ui 重新请求新的原生插屏数据
        this.hide_native_interstitial_ui();
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["native_interstitial_report_click_update_switch"]) {
            if (this._business_config_data["native_interstitial_report_click_update_switch"].value[0] == 1) {
                this.load_native_interstitial(this._ad_param.ad_type, this._ad_param.ad_pos_id, this._ad_param.onLoad, this._ad_param.onShow, this._ad_param.onClose, this._ad_param.onError);
            }
        }
    };
    ad_native_interstitial.report_ad_show = function (ad_pos_id, native_data) {
        if (!this._ad_pos_id) {
            console.log("igc----- ad_native_interstitial  report_ad_click this.ad_pos_id is null!!");
            this._ad_pos_id = syyx_sdk_enum_1.e_ad_id.native_interstitial_hall;
        }
        if (this._ad_pos_id == ad_pos_id) {
            this._last_ad_id = native_data.id;
            ad_banner_1.ad_banner.hide_banner();
        }
    };
    ad_native_interstitial.check_can_load_native_interstitial = function () {
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["load_native_interstitial_rule"]) {
            if ((this.show_count + 1) % this._business_config_data["load_native_interstitial_rule"].value[0] == 0) {
                return true;
            }
            else {
                return false;
            }
        }
        return true;
    };
    /**
    * 加载原生插屏
    */
    ad_native_interstitial.load_native_interstitial = function (ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        var self = this;
        if (!ad_banner_1.ad_banner.can_show_first) {
            console.log("igc----- is in oppo first ad cd");
            return;
        }
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_click_limit(syyx_sdk_enum_1.e_ad_native_type.native_interstitial)) {
            this.hide_native_interstitial_ui();
            return;
        }
        this._ad_pos_id = ad_pos_id;
        this._ad_param = {
            ad_type: ad_type,
            ad_pos_id: ad_pos_id,
            onLoad: onLoad,
            onShow: onShow,
            onClose: onClose,
            onError: onError,
        };
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id) {
            console.log("igc----- ad_native_interstitial native_interstitial_id no configure in adv.csv");
            return;
        }
        if (!this.check_can_load_native_interstitial()) {
            console.log("igc-----syyx_adv_manager------ limit load_native_interstitial!!!");
            console.error("igc-----syyx_adv_manager-------load_native_interstitial onError");
            onError && onError();
            self.load_native_interstitial_error();
            return;
        }
        //上一个加载的原生banner没有展示过
        var latest_data = syyx_adv_manager_1.syyx_adv_manager.get_latest_native_data(this._native_data_list);
        if (latest_data && latest_data.state == syyx_sdk_enum_1.e_ad_native_state.need_show) {
            //展示原生插屏
            self.show_native_interstitial_ui(latest_data);
            onLoad && onLoad({}, latest_data);
            onShow && onShow();
            return;
        }
        //web渠道  返回假数据
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {
            var data = new model_1.native_ad_data();
            data.id = igc.utils_manager.get_random_name();
            data.adPosId = ad_pos_id;
            data.adId = "1";
            data.adUnitId = syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([0, 100000]);
            data.imgUrlList = "https://static-cdn.llewan.com/h5/ddsdk/plugin/share_img.jpg";
            data.title = "原生插屏标题" + syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([200, 300]);
            data.desc = "原生插屏描述" + syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([200, 300]);
            data.state = syyx_sdk_enum_1.e_ad_native_state.need_show;
            data.native_type = syyx_sdk_enum_1.e_ad_native_type.native_interstitial;
            this.add_native_data(data);
            //展示原生插屏
            this.show_native_interstitial_ui(data);
            onLoad && onLoad({}, data);
            onShow && onShow();
            return;
        }
        syyx_manager_1.syyx_manager.create_ad(igc.e_ad_type.native, ad_pos_id, function on_load(param, ad_data_list) {
            console.log("igc-----syyx_adv_manager-------load_native_interstitial on_load", ad_data_list);
            //返回数据异常
            if (ad_data_list == undefined || !ad_data_list[0]) {
                onError && onError();
            }
            else {
                var length = 0;
                if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {
                    //vivo渠道只取最后一个位置
                    length = ad_data_list.length - 1;
                }
                var data = new model_1.native_ad_data();
                data.id = igc.utils_manager.get_random_name();
                data.adPosId = ad_pos_id;
                data.adId = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
                data.adUnitId = ad_data_list[length].adUnitId;
                data.imgUrlList = syyx_sdk_utils_1.syyx_sdk_utils.format_remote_texture_url(ad_data_list[length].imgUrlList[0]);
                data.title = ad_data_list[length].title;
                data.desc = ad_data_list[length].desc;
                data.state = syyx_sdk_enum_1.e_ad_native_state.need_show;
                data.native_type = syyx_sdk_enum_1.e_ad_native_type.native_interstitial;
                self.add_native_data(data);
                //展示原生插屏
                self.show_native_interstitial_ui(data);
                onLoad && onLoad({}, data);
                onShow && onShow();
                // syyx_adv_manager.add_native_show_count()
            }
        }, function on_show() {
        }, function on_close(param, res) {
        }, function on_error(param, err) {
            onError && onError();
            console.error("igc-----syyx_adv_manager-------load_native_interstitial onError", err);
            self.load_native_interstitial_error();
        });
    };
    /**
     * 加载原生插屏失败
     */
    ad_native_interstitial.load_native_interstitial_error = function () {
        var native_data = undefined;
        if (this.check_can_load_native_interstitial()) {
            native_data = syyx_adv_manager_1.syyx_adv_manager.get_native_data(this._last_ad_id);
        }
        else {
            native_data = this.get_native_data(this._last_ad_id, syyx_sdk_enum_1.e_ad_native_type.native_interstitial);
        }
        if (native_data) {
            //自己有数据的话
            this.show_native_interstitial_ui(native_data);
        }
        else {
            this.show_normal_interstitial();
        }
    };
    /**
     * 普通插屏报错
     */
    ad_native_interstitial.load_normal_interstitial_error = function () {
        var native_data = undefined;
        if (this.check_can_load_native_interstitial()) {
            native_data = syyx_adv_manager_1.syyx_adv_manager.get_native_data();
        }
        else {
            native_data = this.get_native_data(undefined, syyx_sdk_enum_1.e_ad_native_type.native_interstitial);
        }
        if (native_data) {
            //自己有数据的话
            this.show_native_interstitial_ui(native_data);
        }
    };
    ad_native_interstitial.show_normal_interstitial = function () {
        var self = this;
        this._normal_ad_pos_id = syyx_adv_manager_1.syyx_adv_manager._adv_config_data[syyx_sdk_enum_1.e_ad_id.native_interstitial_hall].backup_id || undefined;
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel == igc.e_channel_type.vivo_qg && this._normal_ad_pos_id) {
            syyx_manager_1.syyx_manager.create_ad(igc.e_ad_type.interstitial, this._normal_ad_pos_id, function () {
                ad_banner_1.ad_banner.hide_banner();
            }, function () { }, function () {
            }, function () {
                //普通插屏加载报错
                self.load_normal_interstitial_error();
            });
        }
    };
    /**
     * 展示带遮罩的原生插屏
     */
    ad_native_interstitial.show_native_interstitial_ui = function (native_data) {
        syyx_sdk_api_1.syyx_sdk_api.create_interstitial(function (view) {
            view.show && view.show(native_data);
        });
    };
    /**
    * 隐藏带遮罩的原生插屏
    */
    ad_native_interstitial.hide_native_interstitial_ui = function () {
        syyx_sdk_api_1.syyx_sdk_api.load_view(model_1.syyx_view.interstitial, function (view) {
            view.hide && view.hide();
        });
    };
    /**
     * 储存原生数据
     * @param native_data 原生数据
     */
    ad_native_interstitial.add_native_data = function (native_data) {
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_open_oppo_rule()) {
            syyx_adv_manager_1.syyx_adv_manager.add_native_data(native_data);
        }
        else {
            this._native_data_list[0] = native_data;
        }
    };
    /**
     *  原生插屏只是用原生Banner和结算原生数据
     */
    ad_native_interstitial.get_native_data = function (ignore_id, ignore_type) {
        if (ignore_id === void 0) { ignore_id = undefined; }
        if (ignore_type === void 0) { ignore_type = undefined; }
        if (!ad_banner_1.ad_banner.can_show_first) {
            console.log("igc ----- oppo's first native ad is in cd");
            return undefined;
        }
        //判断各个原生点击率是否超标
        var banner_limit = syyx_adv_manager_1.syyx_adv_manager.check_is_click_limit(syyx_sdk_enum_1.e_ad_native_type.native_banner);
        var inner_limit = syyx_adv_manager_1.syyx_adv_manager.check_is_click_limit(syyx_sdk_enum_1.e_ad_native_type.native_inner_interstitial);
        var interstitial_limit = syyx_adv_manager_1.syyx_adv_manager.check_is_click_limit(syyx_sdk_enum_1.e_ad_native_type.native_interstitial);
        // console.log("原生插屏使用原生池 筛选条件--------->忽略id：", ignore_id, "忽略原生类型：", ignore_type)
        // console.log("原生Banner点击率:", banner_limit)
        // console.log("结算原生点击率:", inner_limit)
        // console.log("原生插屏点击率:", interstitial_limit)
        var cur_data_cache = [];
        for (var i in syyx_adv_manager_1.syyx_adv_manager._native_data_cache) {
            if (syyx_adv_manager_1.syyx_adv_manager._native_data_cache[i].id != ignore_id && syyx_adv_manager_1.syyx_adv_manager._native_data_cache[i].native_type != ignore_type) {
                if (syyx_adv_manager_1.syyx_adv_manager._native_data_cache[i].native_type == syyx_sdk_enum_1.e_ad_native_type.native_banner && !banner_limit) {
                    cur_data_cache.push(syyx_adv_manager_1.syyx_adv_manager._native_data_cache[i]);
                }
                else if (syyx_adv_manager_1.syyx_adv_manager._native_data_cache[i].native_type == syyx_sdk_enum_1.e_ad_native_type.native_inner_interstitial && !inner_limit) {
                    cur_data_cache.push(syyx_adv_manager_1.syyx_adv_manager._native_data_cache[i]);
                }
                else if (syyx_adv_manager_1.syyx_adv_manager._native_data_cache[i].native_type == syyx_sdk_enum_1.e_ad_native_type.native_interstitial && !interstitial_limit) {
                    cur_data_cache.push(syyx_adv_manager_1.syyx_adv_manager._native_data_cache[i]);
                }
            }
        }
        var banner_list = [];
        var inner_list = [];
        for (var i in cur_data_cache) {
            if (cur_data_cache[i].native_type == syyx_sdk_enum_1.e_ad_native_type.native_banner) {
                banner_list.push(cur_data_cache[i]);
            }
            else if (cur_data_cache[i].native_type == syyx_sdk_enum_1.e_ad_native_type.native_inner_interstitial) {
                inner_list.push(cur_data_cache[i]);
            }
        }
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["first_use_natibe_banner"]) {
            if (this._business_config_data["first_use_natibe_banner"].value[0] == 1) {
                if (banner_list.length > 0) {
                    // console.log("原生插屏使用原生banner数据")
                    return this.get_cur_data(banner_list);
                }
                else {
                    if (inner_list.length > 0) {
                        // console.log("原生插屏使用结算原生数据")
                        return this.get_cur_data(inner_list);
                    }
                }
            }
            else {
                if (inner_list.length > 0) {
                    // console.log("原生插屏使用结算原生数据")
                    return this.get_cur_data(inner_list);
                }
                else {
                    if (banner_list.length > 0) {
                        // console.log("原生插屏使用原生banner数据")
                        return this.get_cur_data(banner_list);
                    }
                }
            }
        }
        return undefined;
    };
    ad_native_interstitial.get_cur_data = function (cur_data_cache) {
        if (syyx_adv_manager_1.syyx_adv_manager.check_native_data_list_is_reprot(cur_data_cache)) {
            //全部数据都上报曝光过了
            console.log("igc----- syyx_adv_manager use old load native data");
            return syyx_adv_manager_1.syyx_adv_manager.get_min_order_native_data(cur_data_cache);
        }
        else {
            //有数据没有上报过曝光  用最新数据
            console.log("igc----- syyx_adv_manager use new load native data");
            return syyx_adv_manager_1.syyx_adv_manager.get_latest_native_data(cur_data_cache);
        }
    };
    /**
    * 上一次显示的id
    */
    ad_native_interstitial._last_ad_id = undefined;
    /**
      * 原生数据
      */
    ad_native_interstitial._native_data_list = [];
    /**
    * 远端运营配置
    */
    ad_native_interstitial._business_config_data = {};
    ad_native_interstitial.show_count = 0;
    ad_native_interstitial.next_click_wrap_count = -1;
    return ad_native_interstitial;
}());
exports.ad_native_interstitial = ad_native_interstitial;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbnRyb2xsZXJcXGFkXFxhZF9uYXRpdmVfaW50ZXJzdGl0aWFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUE4RDtBQUM5RCw2REFBMkY7QUFDM0YsNkRBQTREO0FBQzVELGdEQUErQztBQUMvQyxpRUFBMkQ7QUFDM0QseUNBQXdDO0FBQ3hDLHVEQUFzRDtBQUN0RCxtREFBa0Q7QUFDbEQ7SUFBQTtJQThYQSxDQUFDO0lBNVZVLDBDQUFtQixHQUExQjtRQUNJLElBQUksQ0FBQyxxQkFBcUIsR0FBRywyQkFBWSxDQUFDLG1CQUFtQixFQUFFLENBQUE7UUFDL0QsSUFBSSxJQUFJLENBQUMscUJBQXFCLElBQUksSUFBSSxDQUFDLHFCQUFxQixDQUFDLGdDQUFnQyxDQUFDLEVBQUU7WUFDNUYsSUFBSSxJQUFJLEdBQUcsMkJBQVksQ0FBQyx3QkFBd0IsQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFBO1lBQ2xGLElBQUksSUFBSSxFQUFFO2dCQUNOLElBQUksSUFBSSxDQUFDLHFCQUFxQixJQUFJLENBQUMsQ0FBQyxFQUFFO29CQUNsQyxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO2lCQUN2QztnQkFDRCxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFO29CQUMvQyxPQUFPLENBQUMsR0FBRyxDQUFDLDZDQUE2QyxDQUFDLENBQUE7b0JBQzFELElBQUksQ0FBQyxxQkFBcUIsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7b0JBQzNGLE9BQU8sQ0FBQyxHQUFHLENBQUMscURBQXFELEVBQUUs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LE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQTtxQkFDeEM7aUJBQ0o7YUFDSjtTQUNKO1FBQ0QsT0FBTyxTQUFTLENBQUE7SUFDcEIsQ0FBQztJQUVNLG1DQUFZLEdBQW5CLFVBQW9CLGNBQWM7UUFDOUIsSUFBSSxtQ0FBZ0IsQ0FBQyxnQ0FBZ0MsQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUNuRSxhQUFhO1lBQ2IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvREFBb0QsQ0FBQyxDQUFBO1lBQ2pFLE9BQU8sbUNBQWdCLENBQUMseUJBQXlCLENBQUMsY0FBYyxDQUFDLENBQUE7U0FDcEU7YUFBTTtZQUNILG1CQUFtQjtZQUNuQixPQUFPLENBQUMsR0FBRyxDQUFDLG9EQUFvRCxDQUFDLENBQUE7WUFDakUsT0FBTyxtQ0FBZ0IsQ0FBQyxzQkFBc0IsQ0FBQyxjQUFjLENBQUMsQ0FBQTtTQUNqRTtJQUNMLENBQUM7SUE1WEQ7O01BRUU7SUFDSyxrQ0FBVyxHQUFHLFNBQVMsQ0FBQTtJQUM5Qjs7UUFFSTtJQUNHLHdDQUFpQixHQUFHLEVBQUUsQ0FBQTtJQUU3Qjs7TUFFRTtJQUNLLDRDQUFxQixHQUFHLEVBQUUsQ0FBQztJQWlCM0IsaUNBQVUsR0FBRyxDQUFDLENBQUE7SUFFZCw0Q0FBcUIsR0FBRyxDQUFDLENBQUMsQ0FBQTtJQThWckMsNkJBQUM7Q0E5WEQsQUE4WEMsSUFBQTtBQTlYWSx3REFBc0IiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBuYXRpdmVfYWRfZGF0YSwgc3l5eF92aWV3IH0gZnJvbSBcIi4uLy4uL21vZGVsL21vZGVsXCI7XHJcbmltcG9ydCB7IGVfYWRfaWQsIGVfYWRfbmF0aXZlX3N0YXRlLCBlX2FkX25hdGl2ZV90eXBlIH0gZnJvbSBcIi4uLy4uL2NvbmZpZ3Mvc3l5eF9zZGtfZW51bVwiO1xyXG5pbXBvcnQgeyBzeXl4X3Nka191dGlscyB9IGZyb20gXCIuLi8uLi91dGlscy9zeXl4X3Nka191dGlsc1wiO1xyXG5pbXBvcnQgeyBzeXl4X21hbmFnZXIgfSBmcm9tIFwiLi4vc3l5eF9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHN5eXhfY29uc3QgfSBmcm9tIFwiLi4vLi4vY29uZmlncy9zeXl4X3Nka19jb25maWdcIjtcclxuaW1wb3J0IHsgYWRfYmFubmVyIH0gZnJvbSBcIi4vYWRfYmFubmVyXCI7XHJcbmltcG9ydCB7IHN5eXhfYWR2X21hbmFnZXIgfSBmcm9tIFwiLi9zeXl4X2Fkdl9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHN5eXhfc2RrX2FwaSB9IGZyb20gXCIuLi8uLi9zeXl4X3Nka19hcGlcIjtcclxuZXhwb3J0IGNsYXNzIGFkX25hdGl2ZV9pbnRlcnN0aXRpYWwge1xyXG4gICAgLyoqXHJcbiAgICAqIOS4iuS4gOasoeaYvuekuueahGlkXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIF9sYXN0X2FkX2lkID0gdW5kZWZpbmVkXHJcbiAgICAvKipcclxuICAgICAgKiDljp/nlJ/mlbDmja5cclxuICAgICAgKi9cclxuICAgIHN0YXRpYyBfbmF0aXZlX2RhdGFfbGlzdCA9IFtdXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOi/nOerr+i/kOiQpemFjee9rlxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBfYnVzaW5lc3NfY29uZmlnX2RhdGEgPSB7fTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOW5v+WRimlkXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfYWRfcG9zX2lkXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmma7pgJrmj5LlsY/phY3nva7ooahpZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX25vcm1hbF9hZF9wb3NfaWRcclxuXHJcbiAgICAvKipcclxuICAgICog5Yib5bu65bm/5ZGK5pe25Lyg5YWl55qE5Y+C5pWwXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIF9hZF9wYXJhbVxyXG5cclxuICAgIHN0YXRpYyBzaG93X2NvdW50ID0gMFxyXG5cclxuICAgIHN0YXRpYyBuZXh0X2NsaWNrX3dyYXBfY291bnQgPSAtMVxyXG5cclxuICAgIHN0YXRpYyBjaGVja19pc19jbGlja193cmFwKCkge1xyXG4gICAgICAgIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhID0gc3l5eF9tYW5hZ2VyLmdldF9idXNpbmVzc19jb25maWcoKVxyXG4gICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YSAmJiB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9pbnRlcnN0aXRpYWxfY2xpY2tfd3JhcFwiXSkge1xyXG4gICAgICAgICAgICBsZXQgcnVsZSA9IHN5eXhfc2RrX2FwaS5nZXRfYnVzaW5lc3NfZGF0YV9ieV9rZXkoJ25hdGl2ZV9pbnRlcnN0aXRpYWxfY2xpY2tfd3JhcCcpXHJcbiAgICAgICAgICAgIGlmIChydWxlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uZXh0X2NsaWNrX3dyYXBfY291bnQgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRfY2xpY2tfd3JhcF9jb3VudCA9IHJ1bGVbMF1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dfY291bnQgPT0gdGhpcy5uZXh0X2NsaWNrX3dyYXBfY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIG5hdGl2ZV9pbnRlcnN0aXRpYWwgaXMgZWFzeSBjbGljayFcIilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRfY2xpY2tfd3JhcF9jb3VudCArPSBydWxlWzFdICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHJ1bGVbMl0gLSBydWxlWzFdICsgMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBuYXRpdmVfaW50ZXJzdGl0aWFsIG5leHQgZWFzeSBjbGljayBjb3VudO+8mlwiLCB0aGlzLm5leHRfY2xpY2tfd3JhcF9jb3VudClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlcG9ydF9hZF9jbGljayhhZF9wb3NfaWQ6IHN0cmluZywgbmF0aXZlX2RhdGE/KSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5fYWRfcG9zX2lkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gYWRfbmF0aXZlX2ludGVyc3RpdGlhbCAgcmVwb3J0X2FkX2NsaWNrIHRoaXMuYWRfcG9zX2lkIGlzIG51bGwhIVwiKVxyXG4gICAgICAgICAgICB0aGlzLl9hZF9wb3NfaWQgPSBlX2FkX2lkLm5hdGl2ZV9pbnRlcnN0aXRpYWxfaGFsbFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2FkX3Bvc19pZCAhPSBhZF9wb3NfaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+S4iuaKpeeahOaYr+WOn+eUn+aPkuWxj+eCueWHuyAg6ZqQ6JeP5Y6f55Sf5o+S5bGPVWkg6YeN5paw6K+35rGC5paw55qE5Y6f55Sf5o+S5bGP5pWw5o2uXHJcbiAgICAgICAgdGhpcy5oaWRlX25hdGl2ZV9pbnRlcnN0aXRpYWxfdWkoKVxyXG5cclxuICAgICAgICB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YSA9IHN5eXhfbWFuYWdlci5nZXRfYnVzaW5lc3NfY29uZmlnKClcclxuICAgICAgICBpZiAodGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfaW50ZXJzdGl0aWFsX3JlcG9ydF9jbGlja191cGRhdGVfc3dpdGNoXCJdKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9pbnRlcnN0aXRpYWxfcmVwb3J0X2NsaWNrX3VwZGF0ZV9zd2l0Y2hcIl0udmFsdWVbMF0gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkX25hdGl2ZV9pbnRlcnN0aXRpYWwodGhpcy5fYWRfcGFyYW0uYWRfdHlwZSwgdGhpcy5fYWRfcGFyYW0uYWRfcG9zX2lkLCB0aGlzLl9hZF9wYXJhbS5vbkxvYWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRfcGFyYW0ub25TaG93LCB0aGlzLl9hZF9wYXJhbS5vbkNsb3NlLCB0aGlzLl9hZF9wYXJhbS5vbkVycm9yKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZXBvcnRfYWRfc2hvdyhhZF9wb3NfaWQ6IHN0cmluZywgbmF0aXZlX2RhdGEpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9hZF9wb3NfaWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBhZF9uYXRpdmVfaW50ZXJzdGl0aWFsICByZXBvcnRfYWRfY2xpY2sgdGhpcy5hZF9wb3NfaWQgaXMgbnVsbCEhXCIpXHJcbiAgICAgICAgICAgIHRoaXMuX2FkX3Bvc19pZCA9IGVfYWRfaWQubmF0aXZlX2ludGVyc3RpdGlhbF9oYWxsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fYWRfcG9zX2lkID09IGFkX3Bvc19pZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9sYXN0X2FkX2lkID0gbmF0aXZlX2RhdGEuaWRcclxuICAgICAgICAgICAgYWRfYmFubmVyLmhpZGVfYmFubmVyKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNoZWNrX2Nhbl9sb2FkX25hdGl2ZV9pbnRlcnN0aXRpYWwoKSB7XHJcbiAgICAgICAgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibG9hZF9uYXRpdmVfaW50ZXJzdGl0aWFsX3J1bGVcIl0pIHtcclxuICAgICAgICAgICAgaWYgKCh0aGlzLnNob3dfY291bnQgKyAxKSAlIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibG9hZF9uYXRpdmVfaW50ZXJzdGl0aWFsX3J1bGVcIl0udmFsdWVbMF0gPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOWKoOi9veWOn+eUn+aPkuWxj1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBsb2FkX25hdGl2ZV9pbnRlcnN0aXRpYWwoYWRfdHlwZT86IGlnYy5lX2FkX3R5cGUsIGFkX3Bvc19pZD86IHN0cmluZywgb25Mb2FkPzogRnVuY3Rpb24sIG9uU2hvdz86IEZ1bmN0aW9uLCBvbkNsb3NlPzogRnVuY3Rpb24sIG9uRXJyb3I/OiBGdW5jdGlvbikge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG5cclxuICAgICAgICBpZiAoIWFkX2Jhbm5lci5jYW5fc2hvd19maXJzdCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGlzIGluIG9wcG8gZmlyc3QgYWQgY2RcIilcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc3l5eF9hZHZfbWFuYWdlci5jaGVja19pc19jbGlja19saW1pdChlX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9pbnRlcnN0aXRpYWwpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZV9uYXRpdmVfaW50ZXJzdGl0aWFsX3VpKClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9hZF9wb3NfaWQgPSBhZF9wb3NfaWRcclxuICAgICAgICB0aGlzLl9hZF9wYXJhbSA9IHtcclxuICAgICAgICAgICAgYWRfdHlwZTogYWRfdHlwZSxcclxuICAgICAgICAgICAgYWRfcG9zX2lkOiBhZF9wb3NfaWQsXHJcbiAgICAgICAgICAgIG9uTG9hZDogb25Mb2FkLFxyXG4gICAgICAgICAgICBvblNob3c6IG9uU2hvdyxcclxuICAgICAgICAgICAgb25DbG9zZTogb25DbG9zZSxcclxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvcixcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhZF9pZCA9IHN5eXhfYWR2X21hbmFnZXIuZ2V0X2NoYW5uZWxfYWRfaWQoYWRfcG9zX2lkKVxyXG4gICAgICAgIGlmICghYWRfaWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBhZF9uYXRpdmVfaW50ZXJzdGl0aWFsIG5hdGl2ZV9pbnRlcnN0aXRpYWxfaWQgbm8gY29uZmlndXJlIGluIGFkdi5jc3ZcIilcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY2hlY2tfY2FuX2xvYWRfbmF0aXZlX2ludGVyc3RpdGlhbCgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS1zeXl4X2Fkdl9tYW5hZ2VyLS0tLS0tIGxpbWl0IGxvYWRfbmF0aXZlX2ludGVyc3RpdGlhbCEhIVwiKVxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaWdjLS0tLS1zeXl4X2Fkdl9tYW5hZ2VyLS0tLS0tLWxvYWRfbmF0aXZlX2ludGVyc3RpdGlhbCBvbkVycm9yXCIpXHJcbiAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcigpXHJcbiAgICAgICAgICAgIHNlbGYubG9hZF9uYXRpdmVfaW50ZXJzdGl0aWFsX2Vycm9yKClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+S4iuS4gOS4quWKoOi9veeahOWOn+eUn2Jhbm5lcuayoeacieWxleekuui/h1xyXG4gICAgICAgIGxldCBsYXRlc3RfZGF0YSA9IHN5eXhfYWR2X21hbmFnZXIuZ2V0X2xhdGVzdF9uYXRpdmVfZGF0YSh0aGlzLl9uYXRpdmVfZGF0YV9saXN0KVxyXG4gICAgICAgIGlmIChsYXRlc3RfZGF0YSAmJiBsYXRlc3RfZGF0YS5zdGF0ZSA9PSBlX2FkX25hdGl2ZV9zdGF0ZS5uZWVkX3Nob3cpIHtcclxuICAgICAgICAgICAgLy/lsZXnpLrljp/nlJ/mj5LlsY9cclxuICAgICAgICAgICAgc2VsZi5zaG93X25hdGl2ZV9pbnRlcnN0aXRpYWxfdWkobGF0ZXN0X2RhdGEpXHJcbiAgICAgICAgICAgIG9uTG9hZCAmJiBvbkxvYWQoe30sIGxhdGVzdF9kYXRhKVxyXG4gICAgICAgICAgICBvblNob3cgJiYgb25TaG93KClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3dlYua4oOmBkyAg6L+U5Zue5YGH5pWw5o2uXHJcbiAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLndlYikge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBuYXRpdmVfYWRfZGF0YSgpXHJcbiAgICAgICAgICAgIGRhdGEuaWQgPSBpZ2MudXRpbHNfbWFuYWdlci5nZXRfcmFuZG9tX25hbWUoKVxyXG4gICAgICAgICAgICBkYXRhLmFkUG9zSWQgPSBhZF9wb3NfaWRcclxuICAgICAgICAgICAgZGF0YS5hZElkID0gXCIxXCJcclxuICAgICAgICAgICAgZGF0YS5hZFVuaXRJZCA9IHN5eXhfc2RrX3V0aWxzLmdldF9yYW5kb21fbnVtYmVyKFswLCAxMDAwMDBdKVxyXG4gICAgICAgICAgICBkYXRhLmltZ1VybExpc3QgPSBcImh0dHBzOi8vc3RhdGljLWNkbi5sbGV3YW4uY29tL2g1L2Rkc2RrL3BsdWdpbi9zaGFyZV9pbWcuanBnXCJcclxuICAgICAgICAgICAgZGF0YS50aXRsZSA9IFwi5Y6f55Sf5o+S5bGP5qCH6aKYXCIgKyBzeXl4X3Nka191dGlscy5nZXRfcmFuZG9tX251bWJlcihbMjAwLCAzMDBdKVxyXG4gICAgICAgICAgICBkYXRhLmRlc2MgPSBcIuWOn+eUn+aPkuWxj+aPj+i/sFwiICsgc3l5eF9zZGtfdXRpbHMuZ2V0X3JhbmRvbV9udW1iZXIoWzIwMCwgMzAwXSlcclxuICAgICAgICAgICAgZGF0YS5zdGF0ZSA9IGVfYWRfbmF0aXZlX3N0YXRlLm5lZWRfc2hvd1xyXG4gICAgICAgICAgICBkYXRhLm5hdGl2ZV90eXBlID0gZV9hZF9uYXRpdmVfdHlwZS5uYXRpdmVfaW50ZXJzdGl0aWFsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkX25hdGl2ZV9kYXRhKGRhdGEpXHJcbiAgICAgICAgICAgIC8v5bGV56S65Y6f55Sf5o+S5bGPXHJcbiAgICAgICAgICAgIHRoaXMuc2hvd19uYXRpdmVfaW50ZXJzdGl0aWFsX3VpKGRhdGEpXHJcbiAgICAgICAgICAgIG9uTG9hZCAmJiBvbkxvYWQoe30sIGRhdGEpXHJcbiAgICAgICAgICAgIG9uU2hvdyAmJiBvblNob3coKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN5eXhfbWFuYWdlci5jcmVhdGVfYWQoaWdjLmVfYWRfdHlwZS5uYXRpdmUsIGFkX3Bvc19pZCxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25fbG9hZChwYXJhbSwgYWRfZGF0YV9saXN0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tc3l5eF9hZHZfbWFuYWdlci0tLS0tLS1sb2FkX25hdGl2ZV9pbnRlcnN0aXRpYWwgb25fbG9hZFwiLCBhZF9kYXRhX2xpc3QpXHJcbiAgICAgICAgICAgICAgICAvL+i/lOWbnuaVsOaNruW8guW4uFxyXG4gICAgICAgICAgICAgICAgaWYgKGFkX2RhdGFfbGlzdCA9PSB1bmRlZmluZWQgfHwgIWFkX2RhdGFfbGlzdFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcigpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSAwXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLnZpdm9fcWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy92aXZv5rig6YGT5Y+q5Y+W5pyA5ZCO5LiA5Liq5L2N572uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IGFkX2RhdGFfbGlzdC5sZW5ndGggLSAxXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IG5hdGl2ZV9hZF9kYXRhKClcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmlkID0gaWdjLnV0aWxzX21hbmFnZXIuZ2V0X3JhbmRvbV9uYW1lKClcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmFkUG9zSWQgPSBhZF9wb3NfaWRcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmFkSWQgPSBzeXl4X2Fkdl9tYW5hZ2VyLmdldF9jaGFubmVsX2FkX2lkKGFkX3Bvc19pZClcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmFkVW5pdElkID0gYWRfZGF0YV9saXN0W2xlbmd0aF0uYWRVbml0SWRcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmltZ1VybExpc3QgPSBzeXl4X3Nka191dGlscy5mb3JtYXRfcmVtb3RlX3RleHR1cmVfdXJsKGFkX2RhdGFfbGlzdFtsZW5ndGhdLmltZ1VybExpc3RbMF0pXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS50aXRsZSA9IGFkX2RhdGFfbGlzdFtsZW5ndGhdLnRpdGxlXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXNjID0gYWRfZGF0YV9saXN0W2xlbmd0aF0uZGVzY1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc3RhdGUgPSBlX2FkX25hdGl2ZV9zdGF0ZS5uZWVkX3Nob3dcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLm5hdGl2ZV90eXBlID0gZV9hZF9uYXRpdmVfdHlwZS5uYXRpdmVfaW50ZXJzdGl0aWFsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRfbmF0aXZlX2RhdGEoZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAvL+WxleekuuWOn+eUn+aPkuWxj1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2hvd19uYXRpdmVfaW50ZXJzdGl0aWFsX3VpKGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgb25Mb2FkICYmIG9uTG9hZCh7fSwgZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICBvblNob3cgJiYgb25TaG93KClcclxuICAgICAgICAgICAgICAgICAgICAvLyBzeXl4X2Fkdl9tYW5hZ2VyLmFkZF9uYXRpdmVfc2hvd19jb3VudCgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uX3Nob3coKSB7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uX2Nsb3NlKHBhcmFtLCByZXMpIHtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25fZXJyb3IocGFyYW0sIGVycikge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKClcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJpZ2MtLS0tLXN5eXhfYWR2X21hbmFnZXItLS0tLS0tbG9hZF9uYXRpdmVfaW50ZXJzdGl0aWFsIG9uRXJyb3JcIiwgZXJyKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2FkX25hdGl2ZV9pbnRlcnN0aXRpYWxfZXJyb3IoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6L295Y6f55Sf5o+S5bGP5aSx6LSlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBsb2FkX25hdGl2ZV9pbnRlcnN0aXRpYWxfZXJyb3IoKSB7XHJcbiAgICAgICAgbGV0IG5hdGl2ZV9kYXRhID0gdW5kZWZpbmVkXHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tfY2FuX2xvYWRfbmF0aXZlX2ludGVyc3RpdGlhbCgpKSB7XHJcbiAgICAgICAgICAgIG5hdGl2ZV9kYXRhID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfbmF0aXZlX2RhdGEodGhpcy5fbGFzdF9hZF9pZClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuYXRpdmVfZGF0YSA9IHRoaXMuZ2V0X25hdGl2ZV9kYXRhKHRoaXMuX2xhc3RfYWRfaWQsIGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2ludGVyc3RpdGlhbClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuYXRpdmVfZGF0YSkge1xyXG4gICAgICAgICAgICAvL+iHquW3seacieaVsOaNrueahOivnVxyXG4gICAgICAgICAgICB0aGlzLnNob3dfbmF0aXZlX2ludGVyc3RpdGlhbF91aShuYXRpdmVfZGF0YSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dfbm9ybWFsX2ludGVyc3RpdGlhbCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pmu6YCa5o+S5bGP5oql6ZSZXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBsb2FkX25vcm1hbF9pbnRlcnN0aXRpYWxfZXJyb3IoKSB7XHJcbiAgICAgICAgbGV0IG5hdGl2ZV9kYXRhID0gdW5kZWZpbmVkXHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tfY2FuX2xvYWRfbmF0aXZlX2ludGVyc3RpdGlhbCgpKSB7XHJcbiAgICAgICAgICAgIG5hdGl2ZV9kYXRhID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfbmF0aXZlX2RhdGEoKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5hdGl2ZV9kYXRhID0gdGhpcy5nZXRfbmF0aXZlX2RhdGEodW5kZWZpbmVkLCBlX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9pbnRlcnN0aXRpYWwpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuYXRpdmVfZGF0YSkge1xyXG4gICAgICAgICAgICAvL+iHquW3seacieaVsOaNrueahOivnVxyXG4gICAgICAgICAgICB0aGlzLnNob3dfbmF0aXZlX2ludGVyc3RpdGlhbF91aShuYXRpdmVfZGF0YSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNob3dfbm9ybWFsX2ludGVyc3RpdGlhbCgpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuICAgICAgICB0aGlzLl9ub3JtYWxfYWRfcG9zX2lkID0gc3l5eF9hZHZfbWFuYWdlci5fYWR2X2NvbmZpZ19kYXRhW2VfYWRfaWQubmF0aXZlX2ludGVyc3RpdGlhbF9oYWxsXS5iYWNrdXBfaWQgfHwgdW5kZWZpbmVkXHJcbiAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PSBpZ2MuZV9jaGFubmVsX3R5cGUudml2b19xZyAmJiB0aGlzLl9ub3JtYWxfYWRfcG9zX2lkKSB7XHJcbiAgICAgICAgICAgIHN5eXhfbWFuYWdlci5jcmVhdGVfYWQoXHJcbiAgICAgICAgICAgICAgICBpZ2MuZV9hZF90eXBlLmludGVyc3RpdGlhbCxcclxuICAgICAgICAgICAgICAgIHRoaXMuX25vcm1hbF9hZF9wb3NfaWQsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRfYmFubmVyLmhpZGVfYmFubmVyKClcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7IH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5pmu6YCa5o+S5bGP5Yqg6L295oql6ZSZXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkX25vcm1hbF9pbnRlcnN0aXRpYWxfZXJyb3IoKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlsZXnpLrluKbpga7nvannmoTljp/nlJ/mj5LlsY9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNob3dfbmF0aXZlX2ludGVyc3RpdGlhbF91aShuYXRpdmVfZGF0YSkge1xyXG4gICAgICAgIHN5eXhfc2RrX2FwaS5jcmVhdGVfaW50ZXJzdGl0aWFsKGZ1bmN0aW9uICh2aWV3KSB7XHJcbiAgICAgICAgICAgIHZpZXcuc2hvdyAmJiB2aWV3LnNob3cobmF0aXZlX2RhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDpmpDol4/luKbpga7nvannmoTljp/nlJ/mj5LlsY9cclxuICAgICovXHJcbiAgICBzdGF0aWMgaGlkZV9uYXRpdmVfaW50ZXJzdGl0aWFsX3VpKCkge1xyXG4gICAgICAgIHN5eXhfc2RrX2FwaS5sb2FkX3ZpZXcoc3l5eF92aWV3LmludGVyc3RpdGlhbCwgZnVuY3Rpb24gKHZpZXcpIHtcclxuICAgICAgICAgICAgdmlldy5oaWRlICYmIHZpZXcuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YKo5a2Y5Y6f55Sf5pWw5o2uXHJcbiAgICAgKiBAcGFyYW0gbmF0aXZlX2RhdGEg5Y6f55Sf5pWw5o2uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhZGRfbmF0aXZlX2RhdGEobmF0aXZlX2RhdGEpIHtcclxuICAgICAgICBpZiAoc3l5eF9hZHZfbWFuYWdlci5jaGVja19pc19vcGVuX29wcG9fcnVsZSgpKSB7XHJcbiAgICAgICAgICAgIHN5eXhfYWR2X21hbmFnZXIuYWRkX25hdGl2ZV9kYXRhKG5hdGl2ZV9kYXRhKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZV9kYXRhX2xpc3RbMF0gPSBuYXRpdmVfZGF0YVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICDljp/nlJ/mj5LlsY/lj6rmmK/nlKjljp/nlJ9CYW5uZXLlkoznu5Pnrpfljp/nlJ/mlbDmja5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldF9uYXRpdmVfZGF0YShpZ25vcmVfaWQgPSB1bmRlZmluZWQsIGlnbm9yZV90eXBlID0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKCFhZF9iYW5uZXIuY2FuX3Nob3dfZmlyc3QpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MgLS0tLS0gb3BwbydzIGZpcnN0IG5hdGl2ZSBhZCBpcyBpbiBjZFwiKVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WIpOaWreWQhOS4quWOn+eUn+eCueWHu+eOh+aYr+WQpui2heagh1xyXG4gICAgICAgIGxldCBiYW5uZXJfbGltaXQgPSBzeXl4X2Fkdl9tYW5hZ2VyLmNoZWNrX2lzX2NsaWNrX2xpbWl0KGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2Jhbm5lcilcclxuICAgICAgICBsZXQgaW5uZXJfbGltaXQgPSBzeXl4X2Fkdl9tYW5hZ2VyLmNoZWNrX2lzX2NsaWNrX2xpbWl0KGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbClcclxuICAgICAgICBsZXQgaW50ZXJzdGl0aWFsX2xpbWl0ID0gc3l5eF9hZHZfbWFuYWdlci5jaGVja19pc19jbGlja19saW1pdChlX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9pbnRlcnN0aXRpYWwpXHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5Y6f55Sf5o+S5bGP5L2/55So5Y6f55Sf5rGgIOetm+mAieadoeS7ti0tLS0tLS0tLT7lv73nlaVpZO+8mlwiLCBpZ25vcmVfaWQsIFwi5b+955Wl5Y6f55Sf57G75Z6L77yaXCIsIGlnbm9yZV90eXBlKVxyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuWOn+eUn0Jhbm5lcueCueWHu+eOhzpcIiwgYmFubmVyX2xpbWl0KVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwi57uT566X5Y6f55Sf54K55Ye7546HOlwiLCBpbm5lcl9saW1pdClcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuWOn+eUn+aPkuWxj+eCueWHu+eOhzpcIiwgaW50ZXJzdGl0aWFsX2xpbWl0KVxyXG5cclxuICAgICAgICBsZXQgY3VyX2RhdGFfY2FjaGUgPSBbXVxyXG4gICAgICAgIGZvciAobGV0IGkgaW4gc3l5eF9hZHZfbWFuYWdlci5fbmF0aXZlX2RhdGFfY2FjaGUpIHtcclxuICAgICAgICAgICAgaWYgKHN5eXhfYWR2X21hbmFnZXIuX25hdGl2ZV9kYXRhX2NhY2hlW2ldLmlkICE9IGlnbm9yZV9pZCAmJiBzeXl4X2Fkdl9tYW5hZ2VyLl9uYXRpdmVfZGF0YV9jYWNoZVtpXS5uYXRpdmVfdHlwZSAhPSBpZ25vcmVfdHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN5eXhfYWR2X21hbmFnZXIuX25hdGl2ZV9kYXRhX2NhY2hlW2ldLm5hdGl2ZV90eXBlID09IGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2Jhbm5lciAmJiAhYmFubmVyX2xpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyX2RhdGFfY2FjaGUucHVzaChzeXl4X2Fkdl9tYW5hZ2VyLl9uYXRpdmVfZGF0YV9jYWNoZVtpXSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3l5eF9hZHZfbWFuYWdlci5fbmF0aXZlX2RhdGFfY2FjaGVbaV0ubmF0aXZlX3R5cGUgPT0gZV9hZF9uYXRpdmVfdHlwZS5uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsICYmICFpbm5lcl9saW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cl9kYXRhX2NhY2hlLnB1c2goc3l5eF9hZHZfbWFuYWdlci5fbmF0aXZlX2RhdGFfY2FjaGVbaV0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN5eXhfYWR2X21hbmFnZXIuX25hdGl2ZV9kYXRhX2NhY2hlW2ldLm5hdGl2ZV90eXBlID09IGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2ludGVyc3RpdGlhbCAmJiAhaW50ZXJzdGl0aWFsX2xpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyX2RhdGFfY2FjaGUucHVzaChzeXl4X2Fkdl9tYW5hZ2VyLl9uYXRpdmVfZGF0YV9jYWNoZVtpXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGJhbm5lcl9saXN0ID0gW11cclxuICAgICAgICBsZXQgaW5uZXJfbGlzdCA9IFtdXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgaW4gY3VyX2RhdGFfY2FjaGUpIHtcclxuICAgICAgICAgICAgaWYgKGN1cl9kYXRhX2NhY2hlW2ldLm5hdGl2ZV90eXBlID09IGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2Jhbm5lcikge1xyXG4gICAgICAgICAgICAgICAgYmFubmVyX2xpc3QucHVzaChjdXJfZGF0YV9jYWNoZVtpXSlcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJfZGF0YV9jYWNoZVtpXS5uYXRpdmVfdHlwZSA9PSBlX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwpIHtcclxuICAgICAgICAgICAgICAgIGlubmVyX2xpc3QucHVzaChjdXJfZGF0YV9jYWNoZVtpXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiZmlyc3RfdXNlX25hdGliZV9iYW5uZXJcIl0pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiZmlyc3RfdXNlX25hdGliZV9iYW5uZXJcIl0udmFsdWVbMF0gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJhbm5lcl9saXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuWOn+eUn+aPkuWxj+S9v+eUqOWOn+eUn2Jhbm5lcuaVsOaNrlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldF9jdXJfZGF0YShiYW5uZXJfbGlzdClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyX2xpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuWOn+eUn+aPkuWxj+S9v+eUqOe7k+eul+WOn+eUn+aVsOaNrlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRfY3VyX2RhdGEoaW5uZXJfbGlzdClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXJfbGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCLljp/nlJ/mj5LlsY/kvb/nlKjnu5Pnrpfljp/nlJ/mlbDmja5cIilcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRfY3VyX2RhdGEoaW5uZXJfbGlzdClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhbm5lcl9saXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCLljp/nlJ/mj5LlsY/kvb/nlKjljp/nlJ9iYW5uZXLmlbDmja5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0X2N1cl9kYXRhKGJhbm5lcl9saXN0KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldF9jdXJfZGF0YShjdXJfZGF0YV9jYWNoZSkge1xyXG4gICAgICAgIGlmIChzeXl4X2Fkdl9tYW5hZ2VyLmNoZWNrX25hdGl2ZV9kYXRhX2xpc3RfaXNfcmVwcm90KGN1cl9kYXRhX2NhY2hlKSkge1xyXG4gICAgICAgICAgICAvL+WFqOmDqOaVsOaNrumDveS4iuaKpeabneWFiei/h+S6hlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHN5eXhfYWR2X21hbmFnZXIgdXNlIG9sZCBsb2FkIG5hdGl2ZSBkYXRhXCIpXHJcbiAgICAgICAgICAgIHJldHVybiBzeXl4X2Fkdl9tYW5hZ2VyLmdldF9taW5fb3JkZXJfbmF0aXZlX2RhdGEoY3VyX2RhdGFfY2FjaGUpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/mnInmlbDmja7msqHmnInkuIrmiqXov4fmm53lhYkgIOeUqOacgOaWsOaVsOaNrlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHN5eXhfYWR2X21hbmFnZXIgdXNlIG5ldyBsb2FkIG5hdGl2ZSBkYXRhXCIpXHJcbiAgICAgICAgICAgIHJldHVybiBzeXl4X2Fkdl9tYW5hZ2VyLmdldF9sYXRlc3RfbmF0aXZlX2RhdGEoY3VyX2RhdGFfY2FjaGUpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/controller/ad/ad_oppo_banner.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '10196p68lVF/5YENwMuBOG3', 'ad_oppo_banner');
// syyx_sdk/controller/ad/ad_oppo_banner.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ad_oppo_banner = void 0;
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var syyx_sdk_enum_1 = require("../../configs/syyx_sdk_enum");
var model_1 = require("../../model/model");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var syyx_manager_1 = require("../syyx_manager");
var ad_banner_1 = require("./ad_banner");
var syyx_adv_manager_1 = require("./syyx_adv_manager");
var ad_oppo_banner = /** @class */ (function () {
    function ad_oppo_banner() {
    }
    /**
     * 时间段内的banner展示刷新时间刷新时间
     */
    ad_oppo_banner.get_oppo_banner_show_update_time = function () {
        var play_game_time = syyx_adv_manager_1.syyx_adv_manager.get_play_game_time();
        var update_time_arr = undefined;
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["oppo_banner_cool_time"]) {
            update_time_arr = this._business_config_data["oppo_banner_cool_time"].value; // [[0, 120, 10], [121, 180, 11], [181, 240, 12]]
        }
        if (!update_time_arr || update_time_arr.length <= 0) {
            //默认值
            return 10;
        }
        var cd = 0;
        var last_arr = [];
        for (var i in update_time_arr) {
            last_arr = update_time_arr[i];
            if (update_time_arr[i][0] <= play_game_time && update_time_arr[i][1] >= play_game_time) {
                cd = update_time_arr[i][2];
                break;
            }
        }
        return cd || last_arr[2];
    };
    /**
     * 自动刷新定时器
     */
    ad_oppo_banner.run_timer = function () {
        var self = this;
        if (!this.is_run_timer) {
            this.is_run_timer = true;
            this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
            self.load_native_banner();
            setInterval(function () {
                if (self.banner_showing) {
                    self.banner_show_time++;
                }
                // if (self.banner_show_time > 0 && self.banner_show_time % self.update_cd == 0) { // update_cd 默认为5 // 调用load_native_banner之后，会变10， 11,12
                if (self.banner_show_time > 0 && self.banner_show_time % 30 == 0) { // update_cd 默认为5 // 调用load_native_banner之后，会变10， 11,12
                    console.log("igc----- update_native_banner");
                    self.load_native_banner();
                }
            }, 1000);
        }
        else {
            if (this._cur_native_data && !this.need_load) {
                this.show_native_banner_ui();
            }
            else {
                this.load_native_banner();
            }
        }
    };
    ad_oppo_banner.set_banner_height = function () {
        if (this.is_oppo_vivo()) {
            syyx_manager_1.syyx_manager.load_view(model_1.syyx_view.native_banner, function (view) {
                view && view.set_banner_height && view.set_banner_height(false);
            });
        }
    };
    /**
     * 检查是否需要强制加载刷新banner
     */
    ad_oppo_banner.check_need_strong_load_native_banner = function () {
        var strong_switch = false;
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["banner_strong_update_switch"]) {
            strong_switch = this._business_config_data["banner_strong_update_switch"].value[0] == 1;
        }
        // console.log("igc----- ad_oppo_banner banner_strong_update_switch->", strong_switch)
        return strong_switch;
    };
    /**
     * UI层要展示普通banner或者原生banner
     */
    ad_oppo_banner.show_banner = function (ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        //说明之前有hide banner
        if (!this.need_show) {
            this.check_need_strong_load_native_banner() && (this.need_load = true);
            this.need_show = true;
        }
        this._normal_banner_id = ad_pos_id;
        this._native_banner_id = syyx_adv_manager_1.syyx_adv_manager._adv_config_data[ad_pos_id].backup_id;
        this._ad_param = {
            ad_type: ad_type,
            ad_pos_id: ad_pos_id,
            onLoad: onLoad,
            onShow: onShow,
            onClose: onClose,
            onError: onError,
        };
        if (!ad_banner_1.ad_banner.can_show_first) {
            console.log("igc----- banner is in cooling time ");
            return;
        }
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id) {
            console.log("igc----- ad_oppo_banner normal_banner_id no configure in adv.csv");
            return;
        }
        this.run_timer();
    };
    /**
    * ui层要隐藏banner或者原生banner
    * 隐藏后销毁定时器  直到下一次show_banner才会重新启动定时器
    */
    ad_oppo_banner.hide_banner = function () {
        this.need_show = false;
        this.banner_showing = false;
        if (!ad_banner_1.ad_banner.can_show_first) {
            console.log("igc----- banner is in cooling time ");
            return;
        }
        this.hide_native_banner_ui();
        this.hide_normal_banner();
    };
    /**
     * 加载原生banner数据
     * 会根据不同情况 转去加载普通banner
     */
    ad_oppo_banner.load_native_banner = function () {
        var self = this;
        this.need_load = false;
        this.banner_timer_id && clearTimeout(this.banner_timer_id);
        // 刷新当前banner累计展示刷新的时间
        this.update_cd = this.get_oppo_banner_show_update_time(); // 跟玩的时间有关，要么10， 11， 12
        this.hide_native_banner_ui(); // 只是隐藏ui ， 下面的
        //当前不需要展示任何banner
        if (!this.need_show) {
            self.hide_banner(); // need_show也为false
            return;
        }
        this.update_cur_native_data(this._last_ad_id);
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_click_limit(syyx_sdk_enum_1.e_ad_native_type.native_banner)) {
            if (this._cur_native_data) {
                self.show_native_banner_ui();
            }
            else {
                self.set_show_error_model();
            }
            return;
        }
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_show_count_limit()) {
            console.log("igc----- ad_oppo_banner show native is show limit !!!");
            if (this._cur_native_data) {
                self.show_native_banner_ui();
            }
            else {
                self.set_show_error_model();
            }
            return;
        }
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg || syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg) {
            self.show_normal_banner();
            return;
        }
        //判断原生banner开关
        if (this._business_config_data && this._business_config_data["native_banner_open_switch"]) {
            //开关有值  且 值为0 关闭则设置定时器刷新普通banner
            if (this._business_config_data["native_banner_open_switch"].value[0] == 0) {
                self.show_normal_banner();
                return;
            }
        }
        //web渠道  返回假数据
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {
            var data = new model_1.native_ad_data();
            data.id = igc.utils_manager.get_random_name();
            data.adPosId = self._native_banner_id;
            data.adId = "1";
            data.adUnitId = syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([0, 100000]);
            data.imgUrlList = "https://static-cdn.llewan.com/h5/ddsdk/plugin/share_img.jpg";
            data.title = "banner测试标题" + syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([0, 100]);
            data.desc = "banner测试描述" + syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([0, 100]);
            data.state = syyx_sdk_enum_1.e_ad_native_state.need_show;
            data.native_type = syyx_sdk_enum_1.e_ad_native_type.native_banner;
            this.add_native_data(data);
            console.log("igc------syyx_adv_manager-------native_banner on_load web", data);
            //展示原生bannerui
            self.show_native_banner_ui();
            self._ad_param.onLoad && self._ad_param.onLoad();
            syyx_adv_manager_1.syyx_adv_manager.add_native_show_count();
            return;
        }
        //不是oppo vivo 或者 没有设置原生bannerId 则设置定时器刷新普通banner
        if (!self._native_banner_id || !this.is_oppo_vivo()) {
            self.show_normal_banner();
            return;
        }
        // //判断原生banner开关
        // if (this._business_config_data && this._business_config_data["native_banner_open_switch"]) {
        //     //开关有值  且 值为0 关闭则设置定时器刷新普通banner
        //     if (this._business_config_data["native_banner_open_switch"].value[0] == 0) {
        //         self.show_normal_banner()
        //         return
        //     }
        // }
        //上一个加载的原生banner没有展示过
        if (this._cur_native_data && this._cur_native_data.state == syyx_sdk_enum_1.e_ad_native_state.need_show) {
            self.show_native_banner_ui();
            return;
        }
        syyx_manager_1.syyx_manager.create_ad(igc.e_ad_type.native, self._native_banner_id, function on_load(param, ad_data_list) {
            console.log("igc------syyx_adv_manager-------native_banner on_load", ad_data_list);
            //返回数据异常
            if (ad_data_list == undefined || !ad_data_list[0]) {
                self.load_native_banner_error();
            }
            else {
                var length = 0;
                if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {
                    //vivo渠道只取最后一个位置
                    length = ad_data_list.length - 1;
                }
                var data = new model_1.native_ad_data();
                data.id = igc.utils_manager.get_random_name();
                data.adPosId = self._native_banner_id;
                data.adId = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(self._native_banner_id);
                data.adUnitId = ad_data_list[length].adUnitId;
                data.imgUrlList = syyx_sdk_utils_1.syyx_sdk_utils.format_remote_texture_url(ad_data_list[length].imgUrlList[0]);
                data.title = ad_data_list[length].title;
                data.desc = ad_data_list[length].desc;
                data.state = syyx_sdk_enum_1.e_ad_native_state.need_show;
                data.native_type = syyx_sdk_enum_1.e_ad_native_type.native_banner;
                self.add_native_data(data); // 保存缓存
                //展示原生bannerui
                self.show_native_banner_ui();
                self._ad_param.onLoad && self._ad_param.onLoad();
                syyx_adv_manager_1.syyx_adv_manager.add_native_show_count();
            }
        }, function on_show() {
        }, function on_close(param, res) {
        }, function on_error(param, err) {
            console.error("igc-----syyx_adv_manager-------native_banner onError", err); // 第一次没走这里
            self.load_native_banner_error();
        });
    };
    ad_oppo_banner.report_ad_click = function (ad_pos_id, native_data) {
        if (this._native_banner_id != ad_pos_id) {
            return;
        }
        if (this._business_config_data && this._business_config_data["native_banner_report_click_update_switch"]) {
            if (this._business_config_data["native_banner_report_click_update_switch"].value[0] == 1) {
                this.need_show = true;
                this.load_native_banner();
            }
        }
    };
    ad_oppo_banner.report_ad_show = function (ad_pos_id, native_data) {
        if (!this._native_banner_id) {
            // console.log("igc----- ad_native_interstitial  report_ad_click this.ad_pos_id is null!!")
            this._native_banner_id = syyx_sdk_enum_1.e_ad_id.native_banner;
        }
        if (this._native_banner_id == ad_pos_id) {
            this._last_ad_id = native_data.id;
        }
    };
    /**
     * 展示原生bannerUi
     */
    ad_oppo_banner.show_native_banner_ui = function () {
        var self = this;
        this.hide_normal_banner();
        if (this.need_show) {
            syyx_manager_1.syyx_manager.create_native_banner(function (view) {
                if (self._cur_native_data) {
                    self.banner_showing = true;
                    self._ad_param.onShow && self._ad_param.onShow();
                    view.show && view.show(self._cur_native_data);
                }
            });
        }
    };
    /**
     * 隐藏原生bannerUi
     */
    ad_oppo_banner.hide_native_banner_ui = function () {
        if (this.is_oppo_vivo()) {
            syyx_manager_1.syyx_manager.load_view(model_1.syyx_view.native_banner, function (view) {
                view && view.hide && view.hide();
            });
        }
    };
    /**
     * 加载原生失败
     */
    ad_oppo_banner.load_native_banner_error = function () {
        this.update_cur_native_data(this._last_ad_id);
        //原生加载失败 从池子取一个和上次展示不同的数据
        if (this._cur_native_data) {
            //有不同的数据
            this.show_native_banner_ui();
        }
        else {
            this.show_normal_banner();
        }
    };
    /**
    * 加载原普通Banner失败
    */
    ad_oppo_banner.load_normal_banner_error = function () {
        this.banner_showing = false;
        //普通banner报错  把之前累积展示的banner时间重置
        if (this.need_show) {
            this.update_cur_native_data();
            if (this._cur_native_data) {
                this.show_native_banner_ui();
            }
            else {
                this.set_show_error_model();
            }
        }
    };
    ad_oppo_banner.set_normal_banner_switch = function (value) {
        this.normal_banner_switch = value;
        if (!value) {
            this.hide_normal_banner();
        }
    };
    /**
    * 显示普通banner
    */
    ad_oppo_banner.show_normal_banner = function () {
        if (this._business_config_data && this._business_config_data["show_normal_banner_switch"]) {
            if (this._business_config_data["show_normal_banner_switch"].value[0] == 0) {
                return;
            }
        }
        if (!this.normal_banner_switch) {
            console.log("igc----- vivo ad_banner show_normal_banner normal_banner_switch is close!!!");
            this.load_normal_banner_error();
            return;
        }
        var self = this;
        //vivo渠道限制一下  销毁banner10s后才能展示普通banner
        if (!this.can_show_vivo_banner && syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {
            // console.error("igc------syyx_adv_manager show_normal_banner onError can_show_vivo_banner is false!!")
            console.log("igc----- vivo ad_banner show_normal_banner create too often!!!");
            console.log("igc----- vivo ad_banner show_normal_banner so that use old native banner data!!!");
            this.load_normal_banner_error();
            return;
        }
        syyx_manager_1.syyx_manager.create_ad(igc.e_ad_type.banner, self._normal_banner_id, function onLoad(param, res) {
            self._ad_param.onLoad && self._ad_param.onLoad();
        }, function onShow() {
            self.normal_banner_showing = true;
            console.log("igc----- show_normal_banner success");
            self.hide_native_banner_ui();
            //banner展示成功后判断当前能否展示banner
            self.banner_showing = self.need_show;
            if (self.need_show) {
                self._ad_param.onShow && self._ad_param.onShow();
                syyx_adv_manager_1.syyx_adv_manager.add_native_show_count();
            }
            else {
                self.hide_normal_banner();
            }
        }, function onClose(param, res) {
            self._ad_param.onClose && self._ad_param.onClose();
        }, function onError(param, err) {
            console.error("igc------syyx_adv_manager show_normal_banner onError", err);
            self._ad_param.onError && self._ad_param.onError(param, err);
            // console.log("igc----- fail to show normal banner so that use native banner's data")
            self.load_normal_banner_error();
        });
    };
    ad_oppo_banner.set_show_error_model = function () {
        var self = this;
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_open_oppo_rule()) {
            this.banner_timer_id && clearTimeout(this.banner_timer_id);
            this.banner_timer_id = setTimeout(function () {
                self.update_cur_native_data();
                if (self.need_show && !self._cur_native_data) {
                    // console.log("igc----- ad_oppo_banner set_show_error_model auto load_native_banner")
                    self.load_native_banner();
                }
            }, this.update_cd * 1000);
        }
    };
    ad_oppo_banner.hide_normal_banner = function () {
        var self = this;
        if (self._normal_banner_id) {
            //vivo渠道下  普通banner已经在显示  销毁的话记录10s内不能再次创建
            if (self.normal_banner_showing && syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {
                self.can_show_vivo_banner = false;
                this.normal_banner_timer_id && clearTimeout(this.normal_banner_timer_id);
                this.normal_banner_timer_id = setTimeout(function () {
                    self.can_show_vivo_banner = true;
                }, 11000);
            }
            self.normal_banner_showing = false;
            syyx_manager_1.syyx_manager.destroy_ad(igc.e_ad_type.banner, self._normal_banner_id);
        }
    };
    /**
     * 玩家手动点击了关闭banner
     */
    ad_oppo_banner.finger_close_banner = function () {
        if (this.is_oppo_vivo() && this._business_config_data && this._business_config_data["finger_close_banner_switch"]) {
            if (this._business_config_data["finger_close_banner_switch"].value[0] == 1) {
                var cd = this._business_config_data["finger_close_banner_switch"].value[1] || 60;
                this.hide_banner();
                ad_banner_1.ad_banner.can_show_first = false;
                setTimeout(function () {
                    ad_banner_1.ad_banner.can_show_first = true;
                }, cd * 1000);
            }
        }
    };
    /**
     * 更新当前正在显示原生Banner的数据
     */
    ad_oppo_banner.update_cur_native_data = function (ignore_id) {
        if (ignore_id === void 0) { ignore_id = undefined; }
        this.banner_show_time = 0;
        this._cur_native_data = syyx_adv_manager_1.syyx_adv_manager.get_native_data(ignore_id);
    };
    /**
     * 储存原生数据
     * @param native_data 原生数据
     */
    ad_oppo_banner.add_native_data = function (native_data) {
        syyx_adv_manager_1.syyx_adv_manager.add_native_data(native_data);
        this.update_cur_native_data(this._last_ad_id);
    };
    ad_oppo_banner.is_oppo_vivo = function () {
        return syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg || syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg || syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web;
    };
    /**
     * 上一次显示的id
     */
    ad_oppo_banner._last_ad_id = undefined;
    /**
    * 远端运营配置
    */
    ad_oppo_banner._business_config_data = {};
    /**
     * 配置表原生banner广告Id
     */
    ad_oppo_banner._native_banner_id = undefined;
    /**
     * 配置表普通banner广告Id
     */
    ad_oppo_banner._normal_banner_id = undefined;
    /**
     * banner累计展示刷新时间
     */
    ad_oppo_banner.update_cd = 5;
    /**
     * 刷新定时器是否开启
     */
    ad_oppo_banner.is_run_timer = false;
    /**
     * 当前是否需要展示banner
     */
    ad_oppo_banner.need_show = true;
    /**
     * banner是否正在显示
     */
    ad_oppo_banner.banner_showing = false;
    /**
     * banner累计展示时间
     */
    ad_oppo_banner.banner_show_time = 0;
    /**
     * 当前正在展示的原生数据
     */
    ad_oppo_banner._cur_native_data = undefined;
    /**
     * 普通Banner是否在显示
     */
    ad_oppo_banner.normal_banner_showing = false;
    /**
    * 能否显示vivo普通Banner
    */
    ad_oppo_banner.can_show_vivo_banner = true;
    /**
     * 普通banner开关
     */
    ad_oppo_banner.normal_banner_switch = true;
    /**
     * 是否需要加载
     */
    ad_oppo_banner.need_load = false;
    return ad_oppo_banner;
}());
exports.ad_oppo_banner = ad_oppo_banner;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbnRyb2xsZXJcXGFkXFxhZF9vcHBvX2Jhbm5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpRUFBMkQ7QUFDM0QsNkRBQTJGO0FBQzNGLDJDQUE4RDtBQUM5RCw2REFBNEQ7QUFDNUQsZ0RBQStDO0FBQy9DLHlDQUF3QztBQUN4Qyx1REFBc0Q7QUFFdEQ7SUFBQTtJQXdqQkEsQ0FBQztJQTdlRzs7T0FFRztJQUNJLCtDQUFnQyxHQUF2QztRQUNJLElBQUksY0FBYyxHQUFHLG1DQUFnQixDQUFDLGtCQUFrQixFQUFFLENBQUE7UUFDMUQsSUFBSSxlQUFlLEdBQUcsU0FBUyxDQUFBO1FBQy9CLElBQUksQ0FBQyxxQkFBcUIsR0FBRywyQkFBWSxDQUFDLG1CQUFtQixFQUFFLENBQUE7UUFDL0QsSUFBSSxJQUFJLENBQUMscUJBQXFCLElBQUksSUFBSSxDQUFDLHFCQUFxQixDQUFDLHVCQUF1QixDQUFDLEVBQUU7WUFDbkYsZUFBZSxHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLEtBQUssQ0FBQSxDQUFHLGlEQUFpRDtTQUNsSTtRQUVELElBQUksQ0FBQyxlQUFlLElBQUksZUFBZSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7WUFDakQsS0FBSztZQUNMLE9BQU8sRUFBRSxDQUFBO1NBQ1o7UUFFRCxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUE7UUFDVixJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUE7UUFDakIsS0FBSyxJQUFJLENBQUMsSUFBSSxlQUFlLEVBQUU7WUFDM0IsUUFBUSxHQUFHLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUM3QixJQUFJLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxjQUFjLElBQUksZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLGNBQWMsRUFBRTtnQkFDcEYs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V0FBVyxDQUFDLENBQUE7SUFDakQsQ0FBQztJQUVNLDJCQUFZLEdBQW5CO1FBQ0ksT0FBTyw0QkFBVSxDQUFDLGdCQUFnQixLQUFLLEdBQUcsQ0FBQyxjQUFjLENBQUMsT0FBTyxJQUFJLDRCQUFVLENBQUMsZ0JBQWdCLEtBQUssR0FBRyxDQUFDLGNBQWMsQ0FBQyxPQUFPLElBQUksNEJBQVUsQ0FBQyxnQkFBZ0IsS0FBSyxHQUFHLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQTtJQUM3TCxDQUFDO0lBcmpCRDs7T0FFRztJQUNJLDBCQUFXLEdBQUcsU0FBUyxDQUFBO0lBQzlCOztNQUVFO0lBQ0ssb0NBQXFCLEdBQUcsRUFBRSxDQUFDO0lBRWxDOztPQUVHO0lBQ0ksZ0NBQWlCLEdBQUcsU0FBUyxDQUFBO0lBRXBDOztPQUVHO0lBQ0ksZ0NBQWlCLEdBQUcsU0FBUyxDQUFBO0lBT3BDOztPQUVHO0lBQ0ksd0JBQVMsR0FBRyxDQUFDLENBQUE7SUFFcEI7O09BRUc7SUFDSSwyQkFBWSxHQUFHLEtBQUssQ0FBQTtJQUUzQjs7T0FFRztJQUNJLHdCQUFTLEdBQUcsSUFBSSxDQUFBO0lBRXZCOztPQUVHO0lBQ0ksNkJBQWMsR0FBRyxLQUFLLENBQUE7SUFFN0I7O09BRUc7SUFDSSwrQkFBZ0IsR0FBRyxDQUFDLENBQUE7SUFFM0I7O09BRUc7SUFDSSwrQkFBZ0IsR0FBRyxTQUFTLENBQUE7SUFFbkM7O09BRUc7SUFDSSxvQ0FBcUIsR0FBRyxLQUFLLENBQUE7SUFFcEM7O01BRUU7SUFDSyxtQ0FBb0IsR0FBRyxJQUFJLENBQUE7SUFFbEM7O09BRUc7SUFDSSxtQ0FBb0IsR0FBRyxJQUFJLENBQUE7SUFFbEM7O09BRUc7SUFDSSx3QkFBUyxHQUFHLEtBQUssQ0FBQTtJQStlNUIscUJBQUM7Q0F4akJELEFBd2pCQyxJQUFBO0FBeGpCWSx3Q0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN5eXhfY29uc3QgfSBmcm9tIFwiLi4vLi4vY29uZmlncy9zeXl4X3Nka19jb25maWdcIjtcclxuaW1wb3J0IHsgZV9hZF9uYXRpdmVfdHlwZSwgZV9hZF9uYXRpdmVfc3RhdGUsIGVfYWRfaWQgfSBmcm9tIFwiLi4vLi4vY29uZmlncy9zeXl4X3Nka19lbnVtXCI7XHJcbmltcG9ydCB7IG5hdGl2ZV9hZF9kYXRhLCBzeXl4X3ZpZXcgfSBmcm9tIFwiLi4vLi4vbW9kZWwvbW9kZWxcIjtcclxuaW1wb3J0IHsgc3l5eF9zZGtfdXRpbHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvc3l5eF9zZGtfdXRpbHNcIjtcclxuaW1wb3J0IHsgc3l5eF9tYW5hZ2VyIH0gZnJvbSBcIi4uL3N5eXhfbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBhZF9iYW5uZXIgfSBmcm9tIFwiLi9hZF9iYW5uZXJcIjtcclxuaW1wb3J0IHsgc3l5eF9hZHZfbWFuYWdlciB9IGZyb20gXCIuL3N5eXhfYWR2X21hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBhZF9vcHBvX2Jhbm5lciB7XHJcbiAgICAvKipcclxuICAgICAqIOS4iuS4gOasoeaYvuekuueahGlkXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfbGFzdF9hZF9pZCA9IHVuZGVmaW5lZFxyXG4gICAgLyoqXHJcbiAgICAqIOi/nOerr+i/kOiQpemFjee9rlxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBfYnVzaW5lc3NfY29uZmlnX2RhdGEgPSB7fTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOmFjee9ruihqOWOn+eUn2Jhbm5lcuW5v+WRiklkXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfbmF0aXZlX2Jhbm5lcl9pZCA9IHVuZGVmaW5lZFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6YWN572u6KGo5pmu6YCaYmFubmVy5bm/5ZGKSWRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIF9ub3JtYWxfYmFubmVyX2lkID0gdW5kZWZpbmVkXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOWIm+W7uuW5v+WRiuaXtuS8oOWFpeeahOWPguaVsFxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBfYWRfcGFyYW1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGJhbm5lcue0r+iuoeWxleekuuWIt+aWsOaXtumXtFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdXBkYXRlX2NkID0gNVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yi35paw5a6a5pe25Zmo5piv5ZCm5byA5ZCvXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc19ydW5fdGltZXIgPSBmYWxzZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5b2T5YmN5piv5ZCm6ZyA6KaB5bGV56S6YmFubmVyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBuZWVkX3Nob3cgPSB0cnVlXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBiYW5uZXLmmK/lkKbmraPlnKjmmL7npLpcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGJhbm5lcl9zaG93aW5nID0gZmFsc2VcclxuXHJcbiAgICAvKipcclxuICAgICAqIGJhbm5lcue0r+iuoeWxleekuuaXtumXtFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYmFubmVyX3Nob3dfdGltZSA9IDBcclxuXHJcbiAgICAvKipcclxuICAgICAqIOW9k+WJjeato+WcqOWxleekuueahOWOn+eUn+aVsOaNrlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX2N1cl9uYXRpdmVfZGF0YSA9IHVuZGVmaW5lZFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pmu6YCaQmFubmVy5piv5ZCm5Zyo5pi+56S6XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBub3JtYWxfYmFubmVyX3Nob3dpbmcgPSBmYWxzZVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDog73lkKbmmL7npLp2aXZv5pmu6YCaQmFubmVyXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGNhbl9zaG93X3Zpdm9fYmFubmVyID0gdHJ1ZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pmu6YCaYmFubmVy5byA5YWzXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBub3JtYWxfYmFubmVyX3N3aXRjaCA9IHRydWVcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpumcgOimgeWKoOi9vVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbmVlZF9sb2FkID0gZmFsc2VcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaXtumXtOauteWGheeahGJhbm5lcuWxleekuuWIt+aWsOaXtumXtOWIt+aWsOaXtumXtFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X29wcG9fYmFubmVyX3Nob3dfdXBkYXRlX3RpbWUoKSB7XHJcbiAgICAgICAgbGV0IHBsYXlfZ2FtZV90aW1lID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfcGxheV9nYW1lX3RpbWUoKVxyXG4gICAgICAgIGxldCB1cGRhdGVfdGltZV9hcnIgPSB1bmRlZmluZWRcclxuICAgICAgICB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YSA9IHN5eXhfbWFuYWdlci5nZXRfYnVzaW5lc3NfY29uZmlnKClcclxuICAgICAgICBpZiAodGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJvcHBvX2Jhbm5lcl9jb29sX3RpbWVcIl0pIHsgXHJcbiAgICAgICAgICAgIHVwZGF0ZV90aW1lX2FyciA9IHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wib3Bwb19iYW5uZXJfY29vbF90aW1lXCJdLnZhbHVlICAgLy8gW1swLCAxMjAsIDEwXSwgWzEyMSwgMTgwLCAxMV0sIFsxODEsIDI0MCwgMTJdXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF1cGRhdGVfdGltZV9hcnIgfHwgdXBkYXRlX3RpbWVfYXJyLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgIC8v6buY6K6k5YC8XHJcbiAgICAgICAgICAgIHJldHVybiAxMFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGNkID0gMFxyXG4gICAgICAgIGxldCBsYXN0X2FyciA9IFtdXHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiB1cGRhdGVfdGltZV9hcnIpIHtcclxuICAgICAgICAgICAgbGFzdF9hcnIgPSB1cGRhdGVfdGltZV9hcnJbaV1cclxuICAgICAgICAgICAgaWYgKHVwZGF0ZV90aW1lX2FycltpXVswXSA8PSBwbGF5X2dhbWVfdGltZSAmJiB1cGRhdGVfdGltZV9hcnJbaV1bMV0gPj0gcGxheV9nYW1lX3RpbWUpIHtcclxuICAgICAgICAgICAgICAgIGNkID0gdXBkYXRlX3RpbWVfYXJyW2ldWzJdXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjZCB8fCBsYXN0X2FyclsyXVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Ieq5Yqo5Yi35paw5a6a5pe25ZmoXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBydW5fdGltZXIoKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzX3J1bl90aW1lcikge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc19ydW5fdGltZXIgPSB0cnVlXHJcbiAgICAgICAgICAgIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhID0gc3l5eF9tYW5hZ2VyLmdldF9idXNpbmVzc19jb25maWcoKVxyXG5cclxuICAgICAgICAgICAgc2VsZi5sb2FkX25hdGl2ZV9iYW5uZXIoKVxyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5iYW5uZXJfc2hvd2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYmFubmVyX3Nob3dfdGltZSsrXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoc2VsZi5iYW5uZXJfc2hvd190aW1lID4gMCAmJiBzZWxmLmJhbm5lcl9zaG93X3RpbWUgJSBzZWxmLnVwZGF0ZV9jZCA9PSAwKSB7IC8vIHVwZGF0ZV9jZCDpu5jorqTkuLo1IC8vIOiwg+eUqGxvYWRfbmF0aXZlX2Jhbm5lcuS5i+WQju+8jOS8muWPmDEw77yMIDExLDEyXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5iYW5uZXJfc2hvd190aW1lID4gMCAmJiBzZWxmLmJhbm5lcl9zaG93X3RpbWUgJSAzMCA9PSAwKSB7IC8vIHVwZGF0ZV9jZCDpu5jorqTkuLo1IC8vIOiwg+eUqGxvYWRfbmF0aXZlX2Jhbm5lcuS5i+WQju+8jOS8muWPmDEw77yMIDExLDEyXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSB1cGRhdGVfbmF0aXZlX2Jhbm5lclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZF9uYXRpdmVfYmFubmVyKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwMClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJfbmF0aXZlX2RhdGEgJiYgIXRoaXMubmVlZF9sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dfbmF0aXZlX2Jhbm5lcl91aSgpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRfbmF0aXZlX2Jhbm5lcigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNldF9iYW5uZXJfaGVpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzX29wcG9fdml2bygpKSB7XHJcbiAgICAgICAgICAgIHN5eXhfbWFuYWdlci5sb2FkX3ZpZXcoc3l5eF92aWV3Lm5hdGl2ZV9iYW5uZXIsIGZ1bmN0aW9uICh2aWV3KSB7XHJcbiAgICAgICAgICAgICAgICB2aWV3ICYmIHZpZXcuc2V0X2Jhbm5lcl9oZWlnaHQgJiYgdmlldy5zZXRfYmFubmVyX2hlaWdodChmYWxzZSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmo4Dmn6XmmK/lkKbpnIDopoHlvLrliLbliqDovb3liLfmlrBiYW5uZXJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNoZWNrX25lZWRfc3Ryb25nX2xvYWRfbmF0aXZlX2Jhbm5lcigpIHtcclxuICAgICAgICBsZXQgc3Ryb25nX3N3aXRjaCA9IGZhbHNlXHJcbiAgICAgICAgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiYmFubmVyX3N0cm9uZ191cGRhdGVfc3dpdGNoXCJdKSB7XHJcbiAgICAgICAgICAgIHN0cm9uZ19zd2l0Y2ggPSB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcImJhbm5lcl9zdHJvbmdfdXBkYXRlX3N3aXRjaFwiXS52YWx1ZVswXSA9PSAxXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gYWRfb3Bwb19iYW5uZXIgYmFubmVyX3N0cm9uZ191cGRhdGVfc3dpdGNoLT5cIiwgc3Ryb25nX3N3aXRjaClcclxuICAgICAgICByZXR1cm4gc3Ryb25nX3N3aXRjaFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVUnlsYLopoHlsZXnpLrmma7pgJpiYW5uZXLmiJbogIXljp/nlJ9iYW5uZXJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNob3dfYmFubmVyKGFkX3R5cGU/OiBpZ2MuZV9hZF90eXBlLCBhZF9wb3NfaWQ/OiBzdHJpbmcsIG9uTG9hZD86IEZ1bmN0aW9uLCBvblNob3c/OiBGdW5jdGlvbiwgb25DbG9zZT86IEZ1bmN0aW9uLCBvbkVycm9yPzogRnVuY3Rpb24pIHtcclxuXHJcbiAgICAgICAgLy/or7TmmI7kuYvliY3mnIloaWRlIGJhbm5lclxyXG4gICAgICAgIGlmICghdGhpcy5uZWVkX3Nob3cpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja19uZWVkX3N0cm9uZ19sb2FkX25hdGl2ZV9iYW5uZXIoKSAmJiAodGhpcy5uZWVkX2xvYWQgPSB0cnVlKVxyXG4gICAgICAgICAgICB0aGlzLm5lZWRfc2hvdyA9IHRydWVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX25vcm1hbF9iYW5uZXJfaWQgPSBhZF9wb3NfaWRcclxuICAgICAgICB0aGlzLl9uYXRpdmVfYmFubmVyX2lkID0gc3l5eF9hZHZfbWFuYWdlci5fYWR2X2NvbmZpZ19kYXRhW2FkX3Bvc19pZF0uYmFja3VwX2lkXHJcblxyXG4gICAgICAgIHRoaXMuX2FkX3BhcmFtID0ge1xyXG4gICAgICAgICAgICBhZF90eXBlOiBhZF90eXBlLFxyXG4gICAgICAgICAgICBhZF9wb3NfaWQ6IGFkX3Bvc19pZCxcclxuICAgICAgICAgICAgb25Mb2FkOiBvbkxvYWQsXHJcbiAgICAgICAgICAgIG9uU2hvdzogb25TaG93LFxyXG4gICAgICAgICAgICBvbkNsb3NlOiBvbkNsb3NlLFxyXG4gICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yLFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFkX2Jhbm5lci5jYW5fc2hvd19maXJzdCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGJhbm5lciBpcyBpbiBjb29saW5nIHRpbWUgXCIpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGFkX2lkID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfY2hhbm5lbF9hZF9pZChhZF9wb3NfaWQpXHJcblxyXG4gICAgICAgIGlmICghYWRfaWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBhZF9vcHBvX2Jhbm5lciBub3JtYWxfYmFubmVyX2lkIG5vIGNvbmZpZ3VyZSBpbiBhZHYuY3N2XCIpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ydW5fdGltZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiB1aeWxguimgemakOiXj2Jhbm5lcuaIluiAheWOn+eUn2Jhbm5lclxyXG4gICAgKiDpmpDol4/lkI7plIDmr4Hlrprml7blmaggIOebtOWIsOS4i+S4gOasoXNob3dfYmFubmVy5omN5Lya6YeN5paw5ZCv5Yqo5a6a5pe25ZmoXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGhpZGVfYmFubmVyKCkge1xyXG4gICAgICAgIHRoaXMubmVlZF9zaG93ID0gZmFsc2VcclxuICAgICAgICB0aGlzLmJhbm5lcl9zaG93aW5nID0gZmFsc2VcclxuICAgICAgICBpZiAoIWFkX2Jhbm5lci5jYW5fc2hvd19maXJzdCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGJhbm5lciBpcyBpbiBjb29saW5nIHRpbWUgXCIpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhpZGVfbmF0aXZlX2Jhbm5lcl91aSgpXHJcbiAgICAgICAgdGhpcy5oaWRlX25vcm1hbF9iYW5uZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6L295Y6f55SfYmFubmVy5pWw5o2uXHJcbiAgICAgKiDkvJrmoLnmja7kuI3lkIzmg4XlhrUg6L2s5Y675Yqg6L295pmu6YCaYmFubmVyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBsb2FkX25hdGl2ZV9iYW5uZXIoKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcblxyXG4gICAgICAgIHRoaXMubmVlZF9sb2FkID0gZmFsc2VcclxuXHJcbiAgICAgICAgdGhpcy5iYW5uZXJfdGltZXJfaWQgJiYgY2xlYXJUaW1lb3V0KHRoaXMuYmFubmVyX3RpbWVyX2lkKVxyXG5cclxuICAgICAgICAvLyDliLfmlrDlvZPliY1iYW5uZXLntK/orqHlsZXnpLrliLfmlrDnmoTml7bpl7RcclxuICAgICAgICB0aGlzLnVwZGF0ZV9jZCA9IHRoaXMuZ2V0X29wcG9fYmFubmVyX3Nob3dfdXBkYXRlX3RpbWUoKSAvLyDot5/njqnnmoTml7bpl7TmnInlhbPvvIzopoHkuYgxMO+8jCAxMe+8jCAxMlxyXG5cclxuICAgICAgICB0aGlzLmhpZGVfbmF0aXZlX2Jhbm5lcl91aSgpICAvLyDlj6rmmK/pmpDol491aSDvvIwg5LiL6Z2i55qEXHJcblxyXG4gICAgICAgIC8v5b2T5YmN5LiN6ZyA6KaB5bGV56S65Lu75L2VYmFubmVyXHJcbiAgICAgICAgaWYgKCF0aGlzLm5lZWRfc2hvdykge1xyXG4gICAgICAgICAgICBzZWxmLmhpZGVfYmFubmVyKCkgLy8gbmVlZF9zaG935Lmf5Li6ZmFsc2VcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZV9jdXJfbmF0aXZlX2RhdGEodGhpcy5fbGFzdF9hZF9pZClcclxuXHJcbiAgICAgICAgaWYgKHN5eXhfYWR2X21hbmFnZXIuY2hlY2tfaXNfY2xpY2tfbGltaXQoZV9hZF9uYXRpdmVfdHlwZS5uYXRpdmVfYmFubmVyKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY3VyX25hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNob3dfbmF0aXZlX2Jhbm5lcl91aSgpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNldF9zaG93X2Vycm9yX21vZGVsKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzeXl4X2Fkdl9tYW5hZ2VyLmNoZWNrX2lzX3Nob3dfY291bnRfbGltaXQoKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGFkX29wcG9fYmFubmVyIHNob3cgbmF0aXZlIGlzIHNob3cgbGltaXQgISEhXCIpXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJfbmF0aXZlX2RhdGEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2hvd19uYXRpdmVfYmFubmVyX3VpKClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2V0X3Nob3dfZXJyb3JfbW9kZWwoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLnZpdm9fcWcgfHwgc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUub3Bwb19xZykge1xyXG4gICAgICAgICAgICBzZWxmLnNob3dfbm9ybWFsX2Jhbm5lcigpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/liKTmlq3ljp/nlJ9iYW5uZXLlvIDlhbNcclxuICAgICAgICBpZiAodGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfYmFubmVyX29wZW5fc3dpdGNoXCJdKSB7XHJcbiAgICAgICAgICAgIC8v5byA5YWz5pyJ5YC8ICDkuJQg5YC85Li6MCDlhbPpl63liJnorr7nva7lrprml7blmajliLfmlrDmma7pgJpiYW5uZXJcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2Jhbm5lcl9vcGVuX3N3aXRjaFwiXS52YWx1ZVswXSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNob3dfbm9ybWFsX2Jhbm5lcigpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy93ZWLmuKDpgZMgIOi/lOWbnuWBh+aVsOaNrlxyXG4gICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS53ZWIpIHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgbmF0aXZlX2FkX2RhdGEoKVxyXG4gICAgICAgICAgICBkYXRhLmlkID0gaWdjLnV0aWxzX21hbmFnZXIuZ2V0X3JhbmRvbV9uYW1lKClcclxuICAgICAgICAgICAgZGF0YS5hZFBvc0lkID0gc2VsZi5fbmF0aXZlX2Jhbm5lcl9pZFxyXG4gICAgICAgICAgICBkYXRhLmFkSWQgPSBcIjFcIlxyXG4gICAgICAgICAgICBkYXRhLmFkVW5pdElkID0gc3l5eF9zZGtfdXRpbHMuZ2V0X3JhbmRvbV9udW1iZXIoWzAsIDEwMDAwMF0pXHJcbiAgICAgICAgICAgIGRhdGEuaW1nVXJsTGlzdCA9IFwiaHR0cHM6Ly9zdGF0aWMtY2RuLmxsZXdhbi5jb20vaDUvZGRzZGsvcGx1Z2luL3NoYXJlX2ltZy5qcGdcIlxyXG4gICAgICAgICAgICBkYXRhLnRpdGxlID0gXCJiYW5uZXLmtYvor5XmoIfpophcIiArIHN5eXhfc2RrX3V0aWxzLmdldF9yYW5kb21fbnVtYmVyKFswLCAxMDBdKVxyXG4gICAgICAgICAgICBkYXRhLmRlc2MgPSBcImJhbm5lcua1i+ivleaPj+i/sFwiICsgc3l5eF9zZGtfdXRpbHMuZ2V0X3JhbmRvbV9udW1iZXIoWzAsIDEwMF0pXHJcbiAgICAgICAgICAgIGRhdGEuc3RhdGUgPSBlX2FkX25hdGl2ZV9zdGF0ZS5uZWVkX3Nob3dcclxuICAgICAgICAgICAgZGF0YS5uYXRpdmVfdHlwZSA9IGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2Jhbm5lclxyXG4gICAgICAgICAgICB0aGlzLmFkZF9uYXRpdmVfZGF0YShkYXRhKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tLXN5eXhfYWR2X21hbmFnZXItLS0tLS0tbmF0aXZlX2Jhbm5lciBvbl9sb2FkIHdlYlwiLCBkYXRhKVxyXG4gICAgICAgICAgICAvL+WxleekuuWOn+eUn2Jhbm5lcnVpXHJcbiAgICAgICAgICAgIHNlbGYuc2hvd19uYXRpdmVfYmFubmVyX3VpKClcclxuICAgICAgICAgICAgc2VsZi5fYWRfcGFyYW0ub25Mb2FkICYmIHNlbGYuX2FkX3BhcmFtLm9uTG9hZCgpXHJcbiAgICAgICAgICAgIHN5eXhfYWR2X21hbmFnZXIuYWRkX25hdGl2ZV9zaG93X2NvdW50KClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+S4jeaYr29wcG8gdml2byDmiJbogIUg5rKh5pyJ6K6+572u5Y6f55SfYmFubmVySWQg5YiZ6K6+572u5a6a5pe25Zmo5Yi35paw5pmu6YCaYmFubmVyXHJcbiAgICAgICAgaWYgKCFzZWxmLl9uYXRpdmVfYmFubmVyX2lkIHx8ICF0aGlzLmlzX29wcG9fdml2bygpKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2hvd19ub3JtYWxfYmFubmVyKClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAvL+WIpOaWreWOn+eUn2Jhbm5lcuW8gOWFs1xyXG4gICAgICAgIC8vIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YSAmJiB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9iYW5uZXJfb3Blbl9zd2l0Y2hcIl0pIHtcclxuICAgICAgICAvLyAgICAgLy/lvIDlhbPmnInlgLwgIOS4lCDlgLzkuLowIOWFs+mXreWImeiuvue9ruWumuaXtuWZqOWIt+aWsOaZrumAmmJhbm5lclxyXG4gICAgICAgIC8vICAgICBpZiAodGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfYmFubmVyX29wZW5fc3dpdGNoXCJdLnZhbHVlWzBdID09IDApIHtcclxuICAgICAgICAvLyAgICAgICAgIHNlbGYuc2hvd19ub3JtYWxfYmFubmVyKClcclxuICAgICAgICAvLyAgICAgICAgIHJldHVyblxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvL+S4iuS4gOS4quWKoOi9veeahOWOn+eUn2Jhbm5lcuayoeacieWxleekuui/h1xyXG4gICAgICAgIGlmICh0aGlzLl9jdXJfbmF0aXZlX2RhdGEgJiYgdGhpcy5fY3VyX25hdGl2ZV9kYXRhLnN0YXRlID09IGVfYWRfbmF0aXZlX3N0YXRlLm5lZWRfc2hvdykge1xyXG4gICAgICAgICAgICBzZWxmLnNob3dfbmF0aXZlX2Jhbm5lcl91aSgpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3l5eF9tYW5hZ2VyLmNyZWF0ZV9hZChpZ2MuZV9hZF90eXBlLm5hdGl2ZSwgc2VsZi5fbmF0aXZlX2Jhbm5lcl9pZCxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25fbG9hZChwYXJhbSwgYWRfZGF0YV9saXN0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tLXN5eXhfYWR2X21hbmFnZXItLS0tLS0tbmF0aXZlX2Jhbm5lciBvbl9sb2FkXCIsIGFkX2RhdGFfbGlzdClcclxuICAgICAgICAgICAgICAgIC8v6L+U5Zue5pWw5o2u5byC5bi4XHJcbiAgICAgICAgICAgICAgICBpZiAoYWRfZGF0YV9saXN0ID09IHVuZGVmaW5lZCB8fCAhYWRfZGF0YV9saXN0WzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkX25hdGl2ZV9iYW5uZXJfZXJyb3IoKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoID0gMFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS52aXZvX3FnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdml2b+a4oOmBk+WPquWPluacgOWQjuS4gOS4quS9jee9rlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBhZF9kYXRhX2xpc3QubGVuZ3RoIC0gMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBuYXRpdmVfYWRfZGF0YSgpXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pZCA9IGlnYy51dGlsc19tYW5hZ2VyLmdldF9yYW5kb21fbmFtZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5hZFBvc0lkID0gc2VsZi5fbmF0aXZlX2Jhbm5lcl9pZFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuYWRJZCA9IHN5eXhfYWR2X21hbmFnZXIuZ2V0X2NoYW5uZWxfYWRfaWQoc2VsZi5fbmF0aXZlX2Jhbm5lcl9pZClcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmFkVW5pdElkID0gYWRfZGF0YV9saXN0W2xlbmd0aF0uYWRVbml0SWRcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmltZ1VybExpc3QgPSBzeXl4X3Nka191dGlscy5mb3JtYXRfcmVtb3RlX3RleHR1cmVfdXJsKGFkX2RhdGFfbGlzdFtsZW5ndGhdLmltZ1VybExpc3RbMF0pXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS50aXRsZSA9IGFkX2RhdGFfbGlzdFtsZW5ndGhdLnRpdGxlXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXNjID0gYWRfZGF0YV9saXN0W2xlbmd0aF0uZGVzY1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc3RhdGUgPSBlX2FkX25hdGl2ZV9zdGF0ZS5uZWVkX3Nob3dcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLm5hdGl2ZV90eXBlID0gZV9hZF9uYXRpdmVfdHlwZS5uYXRpdmVfYmFubmVyXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRfbmF0aXZlX2RhdGEoZGF0YSkgLy8g5L+d5a2Y57yT5a2YXHJcbiAgICAgICAgICAgICAgICAgICAgLy/lsZXnpLrljp/nlJ9iYW5uZXJ1aVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2hvd19uYXRpdmVfYmFubmVyX3VpKClcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9hZF9wYXJhbS5vbkxvYWQgJiYgc2VsZi5fYWRfcGFyYW0ub25Mb2FkKClcclxuICAgICAgICAgICAgICAgICAgICBzeXl4X2Fkdl9tYW5hZ2VyLmFkZF9uYXRpdmVfc2hvd19jb3VudCgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uX3Nob3coKSB7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uX2Nsb3NlKHBhcmFtLCByZXMpIHtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25fZXJyb3IocGFyYW0sIGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImlnYy0tLS0tc3l5eF9hZHZfbWFuYWdlci0tLS0tLS1uYXRpdmVfYmFubmVyIG9uRXJyb3JcIiwgZXJyKSAvLyDnrKzkuIDmrKHmsqHotbDov5nph4xcclxuICAgICAgICAgICAgICAgIHNlbGYubG9hZF9uYXRpdmVfYmFubmVyX2Vycm9yKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmVwb3J0X2FkX2NsaWNrKGFkX3Bvc19pZDogc3RyaW5nLCBuYXRpdmVfZGF0YT8pIHtcclxuICAgICAgICBpZiAodGhpcy5fbmF0aXZlX2Jhbm5lcl9pZCAhPSBhZF9wb3NfaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfYmFubmVyX3JlcG9ydF9jbGlja191cGRhdGVfc3dpdGNoXCJdKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9iYW5uZXJfcmVwb3J0X2NsaWNrX3VwZGF0ZV9zd2l0Y2hcIl0udmFsdWVbMF0gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkX3Nob3cgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRfbmF0aXZlX2Jhbm5lcigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlcG9ydF9hZF9zaG93KGFkX3Bvc19pZDogc3RyaW5nLCBuYXRpdmVfZGF0YSkge1xyXG4gICAgICAgIGlmICghdGhpcy5fbmF0aXZlX2Jhbm5lcl9pZCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGFkX25hdGl2ZV9pbnRlcnN0aXRpYWwgIHJlcG9ydF9hZF9jbGljayB0aGlzLmFkX3Bvc19pZCBpcyBudWxsISFcIilcclxuICAgICAgICAgICAgdGhpcy5fbmF0aXZlX2Jhbm5lcl9pZCA9IGVfYWRfaWQubmF0aXZlX2Jhbm5lclxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX25hdGl2ZV9iYW5uZXJfaWQgPT0gYWRfcG9zX2lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xhc3RfYWRfaWQgPSBuYXRpdmVfZGF0YS5pZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWxleekuuWOn+eUn2Jhbm5lclVpXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzaG93X25hdGl2ZV9iYW5uZXJfdWkoKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcbiAgICAgICAgdGhpcy5oaWRlX25vcm1hbF9iYW5uZXIoKVxyXG4gICAgICAgIGlmICh0aGlzLm5lZWRfc2hvdykge1xyXG4gICAgICAgICAgICBzeXl4X21hbmFnZXIuY3JlYXRlX25hdGl2ZV9iYW5uZXIoZnVuY3Rpb24gKHZpZXcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9jdXJfbmF0aXZlX2RhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmJhbm5lcl9zaG93aW5nID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2FkX3BhcmFtLm9uU2hvdyAmJiBzZWxmLl9hZF9wYXJhbS5vblNob3coKVxyXG4gICAgICAgICAgICAgICAgICAgIHZpZXcuc2hvdyAmJiB2aWV3LnNob3coc2VsZi5fY3VyX25hdGl2ZV9kYXRhKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmakOiXj+WOn+eUn2Jhbm5lclVpXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBoaWRlX25hdGl2ZV9iYW5uZXJfdWkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNfb3Bwb192aXZvKCkpIHtcclxuICAgICAgICAgICAgc3l5eF9tYW5hZ2VyLmxvYWRfdmlldyhzeXl4X3ZpZXcubmF0aXZlX2Jhbm5lciwgZnVuY3Rpb24gKHZpZXcpIHtcclxuICAgICAgICAgICAgICAgIHZpZXcgJiYgdmlldy5oaWRlICYmIHZpZXcuaGlkZSgpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6L295Y6f55Sf5aSx6LSlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBsb2FkX25hdGl2ZV9iYW5uZXJfZXJyb3IoKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVfY3VyX25hdGl2ZV9kYXRhKHRoaXMuX2xhc3RfYWRfaWQpXHJcbiAgICAgICAgLy/ljp/nlJ/liqDovb3lpLHotKUg5LuO5rGg5a2Q5Y+W5LiA5Liq5ZKM5LiK5qyh5bGV56S65LiN5ZCM55qE5pWw5o2uXHJcbiAgICAgICAgaWYgKHRoaXMuX2N1cl9uYXRpdmVfZGF0YSkge1xyXG4gICAgICAgICAgICAvL+acieS4jeWQjOeahOaVsOaNrlxyXG4gICAgICAgICAgICB0aGlzLnNob3dfbmF0aXZlX2Jhbm5lcl91aSgpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93X25vcm1hbF9iYW5uZXIoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOWKoOi9veWOn+aZrumAmkJhbm5lcuWksei0pVxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBsb2FkX25vcm1hbF9iYW5uZXJfZXJyb3IoKSB7XHJcbiAgICAgICAgdGhpcy5iYW5uZXJfc2hvd2luZyA9IGZhbHNlXHJcbiAgICAgICAgLy/mma7pgJpiYW5uZXLmiqXplJkgIOaKiuS5i+WJjee0r+enr+WxleekuueahGJhbm5lcuaXtumXtOmHjee9rlxyXG4gICAgICAgIGlmICh0aGlzLm5lZWRfc2hvdykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZV9jdXJfbmF0aXZlX2RhdGEoKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fY3VyX25hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dfbmF0aXZlX2Jhbm5lcl91aSgpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9zaG93X2Vycm9yX21vZGVsKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0X25vcm1hbF9iYW5uZXJfc3dpdGNoKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5ub3JtYWxfYmFubmVyX3N3aXRjaCA9IHZhbHVlXHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVfbm9ybWFsX2Jhbm5lcigpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAqIOaYvuekuuaZrumAmmJhbm5lclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBzaG93X25vcm1hbF9iYW5uZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wic2hvd19ub3JtYWxfYmFubmVyX3N3aXRjaFwiXSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJzaG93X25vcm1hbF9iYW5uZXJfc3dpdGNoXCJdLnZhbHVlWzBdID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMubm9ybWFsX2Jhbm5lcl9zd2l0Y2gpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSB2aXZvIGFkX2Jhbm5lciBzaG93X25vcm1hbF9iYW5uZXIgbm9ybWFsX2Jhbm5lcl9zd2l0Y2ggaXMgY2xvc2UhISFcIilcclxuICAgICAgICAgICAgdGhpcy5sb2FkX25vcm1hbF9iYW5uZXJfZXJyb3IoKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICAvL3Zpdm/muKDpgZPpmZDliLbkuIDkuIsgIOmUgOavgWJhbm5lcjEwc+WQjuaJjeiDveWxleekuuaZrumAmmJhbm5lclxyXG4gICAgICAgIGlmICghdGhpcy5jYW5fc2hvd192aXZvX2Jhbm5lciAmJiBzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS52aXZvX3FnKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJpZ2MtLS0tLS1zeXl4X2Fkdl9tYW5hZ2VyIHNob3dfbm9ybWFsX2Jhbm5lciBvbkVycm9yIGNhbl9zaG93X3Zpdm9fYmFubmVyIGlzIGZhbHNlISFcIilcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSB2aXZvIGFkX2Jhbm5lciBzaG93X25vcm1hbF9iYW5uZXIgY3JlYXRlIHRvbyBvZnRlbiEhIVwiKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHZpdm8gYWRfYmFubmVyIHNob3dfbm9ybWFsX2Jhbm5lciBzbyB0aGF0IHVzZSBvbGQgbmF0aXZlIGJhbm5lciBkYXRhISEhXCIpXHJcbiAgICAgICAgICAgIHRoaXMubG9hZF9ub3JtYWxfYmFubmVyX2Vycm9yKClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzeXl4X21hbmFnZXIuY3JlYXRlX2FkKGlnYy5lX2FkX3R5cGUuYmFubmVyLCBzZWxmLl9ub3JtYWxfYmFubmVyX2lkLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBvbkxvYWQocGFyYW0sIHJlcykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fYWRfcGFyYW0ub25Mb2FkICYmIHNlbGYuX2FkX3BhcmFtLm9uTG9hZCgpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uU2hvdygpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubm9ybWFsX2Jhbm5lcl9zaG93aW5nID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBzaG93X25vcm1hbF9iYW5uZXIgc3VjY2Vzc1wiKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlX25hdGl2ZV9iYW5uZXJfdWkoKVxyXG4gICAgICAgICAgICAgICAgLy9iYW5uZXLlsZXnpLrmiJDlip/lkI7liKTmlq3lvZPliY3og73lkKblsZXnpLpiYW5uZXJcclxuICAgICAgICAgICAgICAgIHNlbGYuYmFubmVyX3Nob3dpbmcgPSBzZWxmLm5lZWRfc2hvd1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubmVlZF9zaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYWRfcGFyYW0ub25TaG93ICYmIHNlbGYuX2FkX3BhcmFtLm9uU2hvdygpXHJcbiAgICAgICAgICAgICAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5hZGRfbmF0aXZlX3Nob3dfY291bnQoKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVfbm9ybWFsX2Jhbm5lcigpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uQ2xvc2UocGFyYW0sIHJlcykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fYWRfcGFyYW0ub25DbG9zZSAmJiBzZWxmLl9hZF9wYXJhbS5vbkNsb3NlKClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25FcnJvcihwYXJhbSwgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaWdjLS0tLS0tc3l5eF9hZHZfbWFuYWdlciBzaG93X25vcm1hbF9iYW5uZXIgb25FcnJvclwiLCBlcnIpXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9hZF9wYXJhbS5vbkVycm9yICYmIHNlbGYuX2FkX3BhcmFtLm9uRXJyb3IocGFyYW0sIGVycik7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGZhaWwgdG8gc2hvdyBub3JtYWwgYmFubmVyIHNvIHRoYXQgdXNlIG5hdGl2ZSBiYW5uZXIncyBkYXRhXCIpXHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvYWRfbm9ybWFsX2Jhbm5lcl9lcnJvcigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvZPov5vlhaXliLBiYW5uZXLlsZXnpLrmiqXplJnml7bvvIzmraTml7bmsqHmnInku7vkvZXljp/nlJ9iYW5uZXLmlbDmja5cclxuICAgICAqIOmXtOmalOS4gOauteaXtumXtOWOu+WIpOaWreW9k+WJjeaYr+WQpumcgOimgeWxleekuuW5tuS4lOW9k+WJjeayoeacieWOn+eUn2Jhbm5lcueahOaVsOaNruWPr+S7peWxleekuu+8jOWwseWOu+WKoOi9veWxleekulxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYmFubmVyX3RpbWVyX2lkXHJcbiAgICBzdGF0aWMgc2V0X3Nob3dfZXJyb3JfbW9kZWwoKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcbiAgICAgICAgaWYgKHN5eXhfYWR2X21hbmFnZXIuY2hlY2tfaXNfb3Blbl9vcHBvX3J1bGUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmJhbm5lcl90aW1lcl9pZCAmJiBjbGVhclRpbWVvdXQodGhpcy5iYW5uZXJfdGltZXJfaWQpXHJcbiAgICAgICAgICAgIHRoaXMuYmFubmVyX3RpbWVyX2lkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZV9jdXJfbmF0aXZlX2RhdGEoKVxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubmVlZF9zaG93ICYmICFzZWxmLl9jdXJfbmF0aXZlX2RhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGFkX29wcG9fYmFubmVyIHNldF9zaG93X2Vycm9yX21vZGVsIGF1dG8gbG9hZF9uYXRpdmVfYmFubmVyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkX25hdGl2ZV9iYW5uZXIoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzLnVwZGF0ZV9jZCAqIDEwMDApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZqQ6JeP5pmu6YCaYmFubmVyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBub3JtYWxfYmFubmVyX3RpbWVyX2lkXHJcbiAgICBzdGF0aWMgaGlkZV9ub3JtYWxfYmFubmVyKCkge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBpZiAoc2VsZi5fbm9ybWFsX2Jhbm5lcl9pZCkge1xyXG5cclxuICAgICAgICAgICAgLy92aXZv5rig6YGT5LiLICDmma7pgJpiYW5uZXLlt7Lnu4/lnKjmmL7npLogIOmUgOavgeeahOivneiusOW9lTEwc+WGheS4jeiDveWGjeasoeWIm+W7ulxyXG4gICAgICAgICAgICBpZiAoc2VsZi5ub3JtYWxfYmFubmVyX3Nob3dpbmcgJiYgc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUudml2b19xZykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jYW5fc2hvd192aXZvX2Jhbm5lciA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vcm1hbF9iYW5uZXJfdGltZXJfaWQgJiYgY2xlYXJUaW1lb3V0KHRoaXMubm9ybWFsX2Jhbm5lcl90aW1lcl9pZClcclxuICAgICAgICAgICAgICAgIHRoaXMubm9ybWFsX2Jhbm5lcl90aW1lcl9pZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2FuX3Nob3dfdml2b19iYW5uZXIgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9LCAxMTAwMClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLm5vcm1hbF9iYW5uZXJfc2hvd2luZyA9IGZhbHNlXHJcbiAgICAgICAgICAgIHN5eXhfbWFuYWdlci5kZXN0cm95X2FkKGlnYy5lX2FkX3R5cGUuYmFubmVyLCBzZWxmLl9ub3JtYWxfYmFubmVyX2lkKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOeOqeWutuaJi+WKqOeCueWHu+S6huWFs+mXrWJhbm5lclxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZmluZ2VyX2Nsb3NlX2Jhbm5lcigpIHtcclxuICAgICAgICBpZiAodGhpcy5pc19vcHBvX3Zpdm8oKSAmJiB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YSAmJiB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcImZpbmdlcl9jbG9zZV9iYW5uZXJfc3dpdGNoXCJdKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcImZpbmdlcl9jbG9zZV9iYW5uZXJfc3dpdGNoXCJdLnZhbHVlWzBdID09IDEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjZCA9IHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiZmluZ2VyX2Nsb3NlX2Jhbm5lcl9zd2l0Y2hcIl0udmFsdWVbMV0gfHwgNjBcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZV9iYW5uZXIoKVxyXG4gICAgICAgICAgICAgICAgYWRfYmFubmVyLmNhbl9zaG93X2ZpcnN0ID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkX2Jhbm5lci5jYW5fc2hvd19maXJzdCA9IHRydWVcclxuICAgICAgICAgICAgICAgIH0sIGNkICogMTAwMClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDlvZPliY3mraPlnKjmmL7npLrljp/nlJ9CYW5uZXLnmoTmlbDmja5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHVwZGF0ZV9jdXJfbmF0aXZlX2RhdGEoaWdub3JlX2lkID0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhpcy5iYW5uZXJfc2hvd190aW1lID0gMFxyXG4gICAgICAgIHRoaXMuX2N1cl9uYXRpdmVfZGF0YSA9IHN5eXhfYWR2X21hbmFnZXIuZ2V0X25hdGl2ZV9kYXRhKGlnbm9yZV9pZClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWCqOWtmOWOn+eUn+aVsOaNrlxyXG4gICAgICogQHBhcmFtIG5hdGl2ZV9kYXRhIOWOn+eUn+aVsOaNrlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYWRkX25hdGl2ZV9kYXRhKG5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5hZGRfbmF0aXZlX2RhdGEobmF0aXZlX2RhdGEpXHJcbiAgICAgICAgdGhpcy51cGRhdGVfY3VyX25hdGl2ZV9kYXRhKHRoaXMuX2xhc3RfYWRfaWQpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzX29wcG9fdml2bygpIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUub3Bwb19xZyB8fCBzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS52aXZvX3FnIHx8IHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLndlYlxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/controller/ad/ad_block.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5c619pCq/9P2LwGNx2Vh9gI', 'ad_block');
// syyx_sdk/controller/ad/ad_block.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var syyx_manager_1 = require("../syyx_manager");
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var syyx_adv_manager_1 = require("./syyx_adv_manager");
var ad_block = /** @class */ (function () {
    function ad_block() {
        /**
        * 远端运营配置
        */
        this._business_config_data = {};
        /**
         * banner自动刷新时间
         */
        this.auto_update_cd = [20, 20];
        /**
         * 是否正在倒计时刷新
         */
        this.is_run_timer = false;
        /**
         * 当前是否需要积木
         */
        this.need_show = true;
    }
    /**
     * 自动刷新定时器
     */
    ad_block.prototype.run_timer = function () {
        var is_qq = syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.qq
            || syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web;
        if (!this.is_run_timer && is_qq) {
            this.is_run_timer = true;
            this.timer_func();
        }
    };
    ad_block.prototype.timer_func = function () {
        var self = this;
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["banner_cool_time"]) {
            this.auto_update_cd = this._business_config_data["banner_cool_time"].value;
        }
        this.hide_block();
        this.need_show = true;
        this.load_block();
        if (this._ad_param && this._ad_param.style && this._ad_param.style.auto_update) {
            var cd = syyx_sdk_utils_1.syyx_sdk_utils.get_random_number(this.auto_update_cd);
            console.log("igc------syyx_ui_block next time to refresh right side block's  cd", cd);
            this.timer_id && clearTimeout(this.timer_id);
            this.timer_id = setTimeout(function () {
                self.timer_func();
            }, cd * 1000);
        }
    };
    ad_block.prototype.show_block = function (style, ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        this._ad_pos_id = ad_pos_id;
        this._ad_param = {
            style: style,
            ad_type: ad_type,
            ad_pos_id: ad_pos_id,
            onLoad: onLoad,
            onShow: onShow,
            onClose: onClose,
            onError: onError,
        };
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id || ad_id == "1" || ad_id == "0") {
            console.log("igc----- ad_block native_interstitial_id no configure in adv.csv");
            return;
        }
        this.run_timer();
    };
    ad_block.prototype.hide_block = function () {
        this.need_show = false;
        this.destroy_timer();
        syyx_manager_1.syyx_manager.hide_ad(igc.e_ad_type.block, this._ad_pos_id);
    };
    ad_block.prototype.destroy_timer = function () {
        this.is_run_timer = false;
        //销毁定时器
        this.timer_id && clearTimeout(this.timer_id);
        this.timer_id = undefined;
    };
    /**
    * 加载原生插屏
    * @param call_back 加载数据成功回调
    */
    ad_block.prototype.load_block = function (call_back) {
        var self = this;
        //当前不需要展示任何banner
        if (!this.need_show) {
            this.hide_block();
            return;
        }
        var block_bottom_offset = 5;
        if (this._business_config_data && this._business_config_data["block_bottom_offset"]) {
            if (this._business_config_data["block_bottom_offset"].value[0] > 0) {
                block_bottom_offset = this._business_config_data["block_bottom_offset"];
            }
        }
        var vertical_center_y = undefined;
        if (this._ad_param.style.vertical_center_y >= -888888) {
            vertical_center_y = this._ad_param.style.vertical_center_y;
        }
        var vertical_right = undefined;
        if (this._ad_param.style.vertical_right >= 0) {
            vertical_right = this._ad_param.style.vertical_right;
        }
        var ad_param = {
            ad_type: igc.e_ad_type.block,
            ad_id: syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(this._ad_pos_id),
            ad_pos_id: this._ad_pos_id,
            ad_event: this._ad_pos_id,
            ad_scene: this._ad_pos_id,
            style: {
                left: this._ad_param.style.left >= 20 ? this._ad_param.style.left : 20,
                top: this._ad_param.style.top >= 50 ? this._ad_param.style.top : 50 //top太小会报错
            },
            vertical_center_y: vertical_center_y,
            vertical_right: vertical_right,
            bottom_offset: block_bottom_offset,
            size: this._ad_param.style.size || 5,
            orientation: this._ad_param.style.orientation || "landscape",
            onShow: function () {
                console.error("igc-----syyx_adv_manager-------load_block onShow");
                if (!self.need_show) {
                    self.hide_block();
                    return;
                }
            },
            onError: function (param, err) {
                console.error("igc-----syyx_adv_manager-------load_block onError", err);
                self._ad_param.onError && self._ad_param.onError(param, err);
            }
        };
        igc.igc_main.instance.create_ad(ad_param);
    };
    return ad_block;
}());
exports.default = ad_block;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbnRyb2xsZXJcXGFkXFxhZF9ibG9jay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdEQUErQztBQUMvQyxpRUFBMkQ7QUFDM0QsNkRBQTREO0FBQzVELHVEQUFzRDtBQUV0RDtJQUFBO1FBQ0k7O1VBRUU7UUFDTSwwQkFBcUIsR0FBRyxFQUFFLENBQUM7UUFZbkM7O1dBRUc7UUFDSyxtQkFBYyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFBO1FBRWpDOztXQUVHO1FBQ0ssaUJBQVksR0FBRyxLQUFLLENBQUE7UUFFNUI7O1dBRUc7UUFDSyxjQUFTLEdBQUcsSUFBSSxDQUFBO0lBbUk1QixDQUFDO0lBaklHOztPQUVHO0lBQ0ssNEJBQVMsR0FBakI7UUFDSSxJQUFJLEtBQUssR0FBRyw0QkFBVSxDQUFDLGdCQUFnQixLQUFLLEdBQUcsQ0FBQyxjQUFjLENBQUMsRUFBRTtlQUMxRCw0QkFBVSxDQUFDLGdCQUFnQixLQUFLLEdBQUcsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFBO1FBQzdELElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxJQUFJLEtBQUssRUFBRTtZQUM3QixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQTtZQUN4QixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUE7U0FDcEI7SUFDTCxDQUFDO0lBR08sNkJBQVUsR0FBbEI7UUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUE7UUFDZixJQUFJLENBQUMscUJBQXFCLEdBQUcsMkJBQVksQ0FBQyxtQkFBbUIsRUFBRSxDQUFBO1FBQy9ELElBQUksSUFBSSxDQUFDLHFCQUFxQixJQUFJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQzlFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLENBQUMsS0FBSyxDQUFBO1NBQzdFO1FB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QUFtQjtZQUNsQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUM7WUFDcEMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFdBQVcsSUFBSSxXQUFXO1lBRTVELE1BQU0sRUFBRTtnQkFDSixPQUFPLENBQUMsS0FBSyxDQUFDLGtEQUFrRCxDQUFDLENBQUE7Z0JBQ2pFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO29CQUNqQixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUE7b0JBQ2pCLE9BQU07aUJBQ1Q7WUFDTCxDQUFDO1lBRUQsT0FBTyxFQUFFLFVBQVUsS0FBSyxFQUFFLEdBQUc7Z0JBQ3pCLE9BQU8sQ0FBQyxLQUFLLENBQUMsbURBQW1ELEVBQUUsR0FBRyxDQUFDLENBQUE7Z0JBQ3ZFLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQTtZQUNoRSxDQUFDO1NBQ0osQ0FBQTtRQUVELEdBQUcsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQTtJQUM3QyxDQUFDO0lBQ0wsZUFBQztBQUFELENBaEtBLEFBZ0tDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzeXl4X21hbmFnZXIgfSBmcm9tIFwiLi4vc3l5eF9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHN5eXhfY29uc3QgfSBmcm9tIFwiLi4vLi4vY29uZmlncy9zeXl4X3Nka19jb25maWdcIjtcclxuaW1wb3J0IHsgc3l5eF9zZGtfdXRpbHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvc3l5eF9zZGtfdXRpbHNcIjtcclxuaW1wb3J0IHsgc3l5eF9hZHZfbWFuYWdlciB9IGZyb20gXCIuL3N5eXhfYWR2X21hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGFkX2Jsb2NrIHtcclxuICAgIC8qKlxyXG4gICAgKiDov5znq6/ov5DokKXphY3nva5cclxuICAgICovXHJcbiAgICBwcml2YXRlIF9idXNpbmVzc19jb25maWdfZGF0YSA9IHt9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6YWN572u6KGo5bm/5ZGKaWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfYWRfcG9zX2lkXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJvlu7rlub/lkYrml7bkvKDlhaXnmoTlj4LmlbBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfYWRfcGFyYW1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGJhbm5lcuiHquWKqOWIt+aWsOaXtumXtFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGF1dG9fdXBkYXRlX2NkID0gWzIwLCAyMF1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpuato+WcqOWAkuiuoeaXtuWIt+aWsFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzX3J1bl90aW1lciA9IGZhbHNlXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvZPliY3mmK/lkKbpnIDopoHnp6/mnKhcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBuZWVkX3Nob3cgPSB0cnVlXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDoh6rliqjliLfmlrDlrprml7blmahcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBydW5fdGltZXIoKSB7XHJcbiAgICAgICAgbGV0IGlzX3FxID0gc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUucXFcclxuICAgICAgICAgICAgfHwgc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUud2ViXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzX3J1bl90aW1lciAmJiBpc19xcSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzX3J1bl90aW1lciA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy50aW1lcl9mdW5jKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0aW1lcl9pZFxyXG4gICAgcHJpdmF0ZSB0aW1lcl9mdW5jKCkge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhID0gc3l5eF9tYW5hZ2VyLmdldF9idXNpbmVzc19jb25maWcoKVxyXG4gICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YSAmJiB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcImJhbm5lcl9jb29sX3RpbWVcIl0pIHtcclxuICAgICAgICAgICAgdGhpcy5hdXRvX3VwZGF0ZV9jZCA9IHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiYmFubmVyX2Nvb2xfdGltZVwiXS52YWx1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhpZGVfYmxvY2soKVxyXG4gICAgICAgIHRoaXMubmVlZF9zaG93ID0gdHJ1ZVxyXG4gICAgICAgIHRoaXMubG9hZF9ibG9jaygpXHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9hZF9wYXJhbSAmJiB0aGlzLl9hZF9wYXJhbS5zdHlsZSAmJiB0aGlzLl9hZF9wYXJhbS5zdHlsZS5hdXRvX3VwZGF0ZSkge1xyXG4gICAgICAgICAgICBsZXQgY2QgPSBzeXl4X3Nka191dGlscy5nZXRfcmFuZG9tX251bWJlcih0aGlzLmF1dG9fdXBkYXRlX2NkKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tLXN5eXhfdWlfYmxvY2sgbmV4dCB0aW1lIHRvIHJlZnJlc2ggcmlnaHQgc2lkZSBibG9jaydzICBjZFwiLCBjZClcclxuICAgICAgICAgICAgdGhpcy50aW1lcl9pZCAmJiBjbGVhclRpbWVvdXQodGhpcy50aW1lcl9pZClcclxuICAgICAgICAgICAgdGhpcy50aW1lcl9pZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZi50aW1lcl9mdW5jKClcclxuICAgICAgICAgICAgfSwgY2QgKiAxMDAwKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dfYmxvY2soc3R5bGUsIGFkX3R5cGU/OiBpZ2MuZV9hZF90eXBlLCBhZF9wb3NfaWQ/OiBzdHJpbmcsIG9uTG9hZD86IEZ1bmN0aW9uLFxyXG4gICAgICAgIG9uU2hvdz86IEZ1bmN0aW9uLCBvbkNsb3NlPzogRnVuY3Rpb24sIG9uRXJyb3I/OiBGdW5jdGlvbikge1xyXG4gICAgICAgIHRoaXMuX2FkX3Bvc19pZCA9IGFkX3Bvc19pZFxyXG4gICAgICAgIHRoaXMuX2FkX3BhcmFtID0ge1xyXG4gICAgICAgICAgICBzdHlsZTogc3R5bGUsXHJcbiAgICAgICAgICAgIGFkX3R5cGU6IGFkX3R5cGUsXHJcbiAgICAgICAgICAgIGFkX3Bvc19pZDogYWRfcG9zX2lkLFxyXG4gICAgICAgICAgICBvbkxvYWQ6IG9uTG9hZCxcclxuICAgICAgICAgICAgb25TaG93OiBvblNob3csXHJcbiAgICAgICAgICAgIG9uQ2xvc2U6IG9uQ2xvc2UsXHJcbiAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3IsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhZF9pZCA9IHN5eXhfYWR2X21hbmFnZXIuZ2V0X2NoYW5uZWxfYWRfaWQoYWRfcG9zX2lkKVxyXG4gICAgICAgIGlmICghYWRfaWQgfHwgYWRfaWQgPT0gXCIxXCIgfHwgYWRfaWQgPT0gXCIwXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBhZF9ibG9jayBuYXRpdmVfaW50ZXJzdGl0aWFsX2lkIG5vIGNvbmZpZ3VyZSBpbiBhZHYuY3N2XCIpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJ1bl90aW1lcigpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoaWRlX2Jsb2NrKCkge1xyXG4gICAgICAgIHRoaXMubmVlZF9zaG93ID0gZmFsc2VcclxuICAgICAgICB0aGlzLmRlc3Ryb3lfdGltZXIoKVxyXG4gICAgICAgIHN5eXhfbWFuYWdlci5oaWRlX2FkKGlnYy5lX2FkX3R5cGUuYmxvY2ssIHRoaXMuX2FkX3Bvc19pZClcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRlc3Ryb3lfdGltZXIoKSB7XHJcbiAgICAgICAgdGhpcy5pc19ydW5fdGltZXIgPSBmYWxzZVxyXG4gICAgICAgIC8v6ZSA5q+B5a6a5pe25ZmoXHJcbiAgICAgICAgdGhpcy50aW1lcl9pZCAmJiBjbGVhclRpbWVvdXQodGhpcy50aW1lcl9pZClcclxuICAgICAgICB0aGlzLnRpbWVyX2lkID0gdW5kZWZpbmVkXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOWKoOi9veWOn+eUn+aPkuWxj1xyXG4gICAgKiBAcGFyYW0gY2FsbF9iYWNrIOWKoOi9veaVsOaNruaIkOWKn+Wbnuiwg1xyXG4gICAgKi9cclxuICAgIHByaXZhdGUgbG9hZF9ibG9jayhjYWxsX2JhY2s/KSB7XHJcblxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG5cclxuICAgICAgICAvL+W9k+WJjeS4jemcgOimgeWxleekuuS7u+S9lWJhbm5lclxyXG4gICAgICAgIGlmICghdGhpcy5uZWVkX3Nob3cpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlX2Jsb2NrKClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYmxvY2tfYm90dG9tX29mZnNldCA9IDVcclxuICAgICAgICBpZiAodGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJibG9ja19ib3R0b21fb2Zmc2V0XCJdKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcImJsb2NrX2JvdHRvbV9vZmZzZXRcIl0udmFsdWVbMF0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBibG9ja19ib3R0b21fb2Zmc2V0ID0gdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJibG9ja19ib3R0b21fb2Zmc2V0XCJdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB2ZXJ0aWNhbF9jZW50ZXJfeSA9IHVuZGVmaW5lZFxyXG4gICAgICAgIGlmICh0aGlzLl9hZF9wYXJhbS5zdHlsZS52ZXJ0aWNhbF9jZW50ZXJfeSA+PSAtODg4ODg4KSB7XHJcbiAgICAgICAgICAgIHZlcnRpY2FsX2NlbnRlcl95ID0gdGhpcy5fYWRfcGFyYW0uc3R5bGUudmVydGljYWxfY2VudGVyX3lcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB2ZXJ0aWNhbF9yaWdodCA9IHVuZGVmaW5lZFxyXG4gICAgICAgIGlmICh0aGlzLl9hZF9wYXJhbS5zdHlsZS52ZXJ0aWNhbF9yaWdodCA+PSAwKSB7XHJcbiAgICAgICAgICAgIHZlcnRpY2FsX3JpZ2h0ID0gdGhpcy5fYWRfcGFyYW0uc3R5bGUudmVydGljYWxfcmlnaHRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhZF9wYXJhbSA9IHtcclxuICAgICAgICAgICAgYWRfdHlwZTogaWdjLmVfYWRfdHlwZS5ibG9jayxcclxuICAgICAgICAgICAgYWRfaWQ6IHN5eXhfYWR2X21hbmFnZXIuZ2V0X2NoYW5uZWxfYWRfaWQodGhpcy5fYWRfcG9zX2lkKSxcclxuICAgICAgICAgICAgYWRfcG9zX2lkOiB0aGlzLl9hZF9wb3NfaWQsXHJcbiAgICAgICAgICAgIGFkX2V2ZW50OiB0aGlzLl9hZF9wb3NfaWQsICAvL+WPquaYr+Whq+WFhVxyXG4gICAgICAgICAgICBhZF9zY2VuZTogdGhpcy5fYWRfcG9zX2lkLFxyXG4gICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgbGVmdDogdGhpcy5fYWRfcGFyYW0uc3R5bGUubGVmdCA+PSAyMCA/IHRoaXMuX2FkX3BhcmFtLnN0eWxlLmxlZnQgOiAyMCwgLy9sZWZ05aSq5bCP5Lya5oql6ZSZXHJcbiAgICAgICAgICAgICAgICB0b3A6IHRoaXMuX2FkX3BhcmFtLnN0eWxlLnRvcCA+PSA1MCA/IHRoaXMuX2FkX3BhcmFtLnN0eWxlLnRvcCA6IDUwIC8vdG9w5aSq5bCP5Lya5oql6ZSZXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHZlcnRpY2FsX2NlbnRlcl95OiB2ZXJ0aWNhbF9jZW50ZXJfeSxcclxuICAgICAgICAgICAgdmVydGljYWxfcmlnaHQ6IHZlcnRpY2FsX3JpZ2h0LFxyXG4gICAgICAgICAgICBib3R0b21fb2Zmc2V0OiBibG9ja19ib3R0b21fb2Zmc2V0LC8v5qiq5ZCR5bGV56S6IOS4lCDot53nprvlupXpg6jnmoTot53nprtcclxuICAgICAgICAgICAgc2l6ZTogdGhpcy5fYWRfcGFyYW0uc3R5bGUuc2l6ZSB8fCA1LFxyXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogdGhpcy5fYWRfcGFyYW0uc3R5bGUub3JpZW50YXRpb24gfHwgXCJsYW5kc2NhcGVcIiwgLy92ZXJ0aWNhbFxyXG5cclxuICAgICAgICAgICAgb25TaG93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaWdjLS0tLS1zeXl4X2Fkdl9tYW5hZ2VyLS0tLS0tLWxvYWRfYmxvY2sgb25TaG93XCIpXHJcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGYubmVlZF9zaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlX2Jsb2NrKClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChwYXJhbSwgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaWdjLS0tLS1zeXl4X2Fkdl9tYW5hZ2VyLS0tLS0tLWxvYWRfYmxvY2sgb25FcnJvclwiLCBlcnIpXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9hZF9wYXJhbS5vbkVycm9yICYmIHNlbGYuX2FkX3BhcmFtLm9uRXJyb3IocGFyYW0sIGVycilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWdjLmlnY19tYWluLmluc3RhbmNlLmNyZWF0ZV9hZChhZF9wYXJhbSlcclxuICAgIH1cclxufVxyXG5cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/model/model.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '22f98UduLZP4ogQj7etrn5S', 'model');
// syyx_sdk/model/model.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.launch_options = exports.push_param = exports.native_ad_data = exports.syyx_view = void 0;
var syyx_view;
(function (syyx_view) {
    /**
     * 原生banner广告
     */
    syyx_view[syyx_view["native_banner"] = 0] = "native_banner";
    /**
     * 结算原生广告
     */
    syyx_view[syyx_view["inner_interstitial"] = 1] = "inner_interstitial";
    syyx_view[syyx_view["inner_interstitial_bn"] = 2] = "inner_interstitial_bn";
    /**
     * 需要遮罩的插屏广告
     */
    syyx_view[syyx_view["interstitial"] = 3] = "interstitial";
    /**
     * 原生icon广告
     */
    syyx_view[syyx_view["native_icon"] = 4] = "native_icon";
    /**
     * tips提示框
     */
    syyx_view[syyx_view["toast"] = 5] = "toast";
    /**
     * 新品尝鲜
     */
    syyx_view[syyx_view["ctr_test"] = 6] = "ctr_test";
})(syyx_view = exports.syyx_view || (exports.syyx_view = {}));
var native_ad_data = /** @class */ (function () {
    function native_ad_data() {
        /**
         * 层级
         * 主要用于达到展示上限时，筛选数据用
         */
        this.order = 0;
    }
    return native_ad_data;
}());
exports.native_ad_data = native_ad_data;
var push_param = /** @class */ (function () {
    function push_param() {
    }
    return push_param;
}());
exports.push_param = push_param;
/**
 * 不同平台能获取到参数不同
 */
var launch_options = /** @class */ (function () {
    function launch_options() {
    }
    return launch_options;
}());
exports.launch_options = launch_options;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXG1vZGVsXFxtb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFZLFNBZ0NYO0FBaENELFdBQVksU0FBUztJQUNqQjs7T0FFRztJQUNILDJEQUFhLENBQUE7SUFFYjs7T0FFRztJQUNILHFFQUFrQixDQUFBO0lBRWxCLDJFQUFxQixDQUFBO0lBRXJCOztPQUVHO0lBQ0gseURBQVksQ0FBQTtJQUVaOztPQUVHO0lBQ0gsdURBQVcsQ0FBQTtJQUVYOztPQUVHO0lBQ0gsMkNBQUssQ0FBQTtJQUVMOztPQUVHO0lBQ0gsaURBQVEsQ0FBQTtBQUNaLENBQUMsRUFoQ1csU0FBUyxHQUFULGlCQUFTLEtBQVQsaUJBQVMsUUFnQ3BCO0FBQ0Q7SUFBQTtRQTJDSTs7O1dBR0c7UUFDSCxVQUFLLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsQ0FBQztJQUFELHFCQUFDO0FBQUQsQ0FoREEsQUFnREMsSUFBQTtBQWhEWSx3Q0FBYztBQWtEM0I7SUFBQTtJQWtCQSxDQUFDO0lBQUQsaUJBQUM7QUFBRCxDQWxCQSxBQWtCQyxJQUFBO0FBbEJZLGdDQUFVO0FBb0J2Qjs7R0FFRztBQUNIO0lBQUE7SUFxQkEsQ0FBQztJQUFELHFCQUFDO0FBQUQsQ0FyQkEsQUFxQkMsSUFBQTtBQXJCWSx3Q0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIHN5eXhfdmlldyB7XHJcbiAgICAvKipcclxuICAgICAqIOWOn+eUn2Jhbm5lcuW5v+WRilxyXG4gICAgICovXHJcbiAgICBuYXRpdmVfYmFubmVyLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57uT566X5Y6f55Sf5bm/5ZGKXHJcbiAgICAgKi9cclxuICAgIGlubmVyX2ludGVyc3RpdGlhbCxcclxuXHJcbiAgICBpbm5lcl9pbnRlcnN0aXRpYWxfYm4sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpnIDopoHpga7nvannmoTmj5LlsY/lub/lkYpcclxuICAgICAqL1xyXG4gICAgaW50ZXJzdGl0aWFsLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y6f55SfaWNvbuW5v+WRilxyXG4gICAgICovXHJcbiAgICBuYXRpdmVfaWNvbixcclxuXHJcbiAgICAvKipcclxuICAgICAqIHRpcHPmj5DnpLrmoYZcclxuICAgICAqL1xyXG4gICAgdG9hc3QsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmlrDlk4HlsJ3pspxcclxuICAgICAqL1xyXG4gICAgY3RyX3Rlc3QsXHJcbn1cclxuZXhwb3J0IGNsYXNzIG5hdGl2ZV9hZF9kYXRhIHtcclxuICAgIC8qKlxyXG4gICAgICog6ZqP5py655Sf5oiQaWRcclxuICAgICovXHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiDphY3nva7ooajlub/lkYppZFxyXG4gICAgICovXHJcbiAgICBhZFBvc0lkOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICog5rig6YGT5bm/5ZGKaWRcclxuICAgICovXHJcbiAgICBhZElkOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIOW5v+WRiuWbvueJh1xyXG4gICAgICovXHJcbiAgICBpbWdVcmxMaXN0OiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlub/lkYrmoIfpophcclxuICAgICAqL1xyXG4gICAgdGl0bGU6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOW5v+WRiuaPj+i/sFxyXG4gICAgICovXHJcbiAgICBkZXNjOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlub/lkYppZFxyXG4gICAgICovXHJcbiAgICBhZFVuaXRJZDogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5bm/5ZGK54q25oCBXHJcbiAgICAgKi9cclxuICAgIHN0YXRlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y6f55Sf5bm/5ZGK57G75Z6LICDljp/nlJ9CYW5uZXLjgIHnu5Pnrpfljp/nlJ/nrYlcclxuICAgICAqL1xyXG4gICAgbmF0aXZlX3R5cGU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlsYLnuqdcclxuICAgICAqIOS4u+imgeeUqOS6jui+vuWIsOWxleekuuS4iumZkOaXtu+8jOetm+mAieaVsOaNrueUqFxyXG4gICAgICovXHJcbiAgICBvcmRlciA9IDA7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBwdXNoX3BhcmFtIHtcclxuICAgIC8qKlxyXG4gICAgICog5Zy65pmvXHJcbiAgICAgKi9cclxuICAgIHNjZW5lX25hbWU7XHJcbiAgICAvKipcclxuICAgICAqIOeroOiKglxyXG4gICAgICovXHJcbiAgICBjaGFwdGVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiDlvZPliY3op4blm77nsbvlnotcclxuICAgICAqL1xyXG4gICAgcHVzaF92aWV3OiBhbnlcclxuXHJcbiAgICAvKipcclxuICAgICAqIOesrOWHoOS4quS9jee9rlxyXG4gICAgICovXHJcbiAgICBwb3NpdGlvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS4jeWQjOW5s+WPsOiDveiOt+WPluWIsOWPguaVsOS4jeWQjFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIGxhdW5jaF9vcHRpb25zIHtcclxuICAgIC8qKlxyXG4gICAgKiDlnLrmma/lgLxcclxuICAgICovXHJcbiAgICBzY2VuZTtcclxuICAgIC8qKlxyXG4gICAgICog5p+l6K+i5Y+C5pWwXHJcbiAgICAgKi9cclxuICAgIHF1ZXJ5O1xyXG4gICAgLyoqXHJcbiAgICAgKiDlsI/muLjmiI/lkK/liqjmnaXmupBcclxuICAgICAqL1xyXG4gICAgcmVmZXJyZXJJbmZvO1xyXG4gICAgLyoqXHJcbiAgICAgKiDnvqTlhaXlj6Pkv6Hmga9cclxuICAgICAqL1xyXG4gICAgZW50cnlEYXRhSGFzaDtcclxuICAgIC8qKlxyXG4gICAgICog5bCP5ri45oiP5Z+65pys5L+h5oGv77yM5YyF5ous5a6/5Li7IElk77yMZ2FtZUlk77yM5ZCv5Yqo5Zy65pmv562J5Y+C5pWwXHJcbiAgICAgKi9cclxuICAgIGV4dHJhO1xyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/controller/ctr_test/syyx_ctr_manager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0635aJi+aNFGYzSUNL32/hy', 'syyx_ctr_manager');
// syyx_sdk/controller/ctr_test/syyx_ctr_manager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.syyx_ctr_manager = void 0;
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var syyx_manager_1 = require("../syyx_manager");
var model_1 = require("../../model/model");
var syyx_ctr_manager = /** @class */ (function () {
    function syyx_ctr_manager() {
    }
    /**
    * 加载超能力测试配置
    */
    syyx_ctr_manager.load_ctr_config = function () {
        var guobao_new_product_data = syyx_manager_1.syyx_manager._guobao_init_config_data;
        var seldads = [];
        var gc_statu = '';
        var self = this;
        if (guobao_new_product_data.length > 0) {
            for (var _i = 0, guobao_new_product_data_1 = guobao_new_product_data; _i < guobao_new_product_data_1.length; _i++) {
                var i = guobao_new_product_data_1[_i];
                if (i.type == "self") {
                    seldads = i.data;
                    gc_statu = i.gc_status; // 0关闭，1开启
                    self.new_product_location_id = i.location_id;
                    break;
                }
            }
        }
        var ctrdata = {
            list: seldads,
            open_switch: gc_statu
            // open_switch: 0 // 0 关闭，1开启
        };
        this.on_load_ctr(true, '', 5, JSON.stringify(ctrdata));
    };
    /**
     *  远端超能力配置返回
     */
    syyx_ctr_manager.on_load_ctr = function (ret, key, version, data) {
        if (ret === true) {
            //把数据和返回的version 保存本地
            this.ctr_data = JSON.parse(data);
            localStorage.setItem(syyx_sdk_config_1.syyx_const.local_ctr_config_version, version);
            localStorage.setItem(syyx_sdk_config_1.syyx_const.local_ctr_config_data, data);
            this.__remote_ctr_inited = true;
        }
        else {
            var save_data = localStorage.getItem(syyx_sdk_config_1.syyx_const.local_ctr_config_data);
            if (save_data) {
                this.__remote_ctr_inited = true;
            }
        }
        console.log("sdk--新品----- syyx_ctr_manager", this.ctr_data); // open_switch 有 list
    };
    /**
     * 测试完毕
     */
    syyx_ctr_manager.set_ctr_test_compelete = function () {
        this.ctr_test_compelete = true;
    };
    /**
     * 是否测试完毕
     */
    syyx_ctr_manager.check_is_ctr_test_compelete = function () {
        return this.ctr_test_compelete;
    };
    /**
     * 展示新品尝鲜
     */
    syyx_ctr_manager.show_new_products = function (call_back) {
        if (this.ctr_test_compelete) {
            console.log("igc----- syyx_ctr_manager test compelete!");
            return;
        }
        if (this.check_is_open()) { // 根据国宝数据，gc_statuc判断
            syyx_manager_1.syyx_manager.load_view(model_1.syyx_view.ctr_test, function (view) {
                view && view.show && view.show(call_back);
            });
        }
    };
    syyx_ctr_manager.get_new_products_reward = function () {
        var _business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (_business_config_data && _business_config_data["ctr_test_reward_count"]) {
            return _business_config_data["ctr_test_reward_count"].value[0];
        }
        return 100;
    };
    /**
     * 是否开启新品尝鲜
     */
    syyx_ctr_manager.check_is_open = function () {
        if (this.ctr_data && this.ctr_data.open_switch == 1) { // 根据国宝数据，gc_statuc判断
            return true;
        }
        console.log("igc----- syyx_ctr_manager is close");
        return false;
    };
    /**
     * 获取ctr配置数据
     */
    syyx_ctr_manager.get_ctr_data = function () {
        if (this.check_is_open()) {
            return this.ctr_data;
        }
        return undefined;
    };
    /**
     * 远端配置版本号
     */
    syyx_ctr_manager.__ctr_version = "__ctr_version";
    /**
     *远端配置拉取成功
     */
    syyx_ctr_manager.__remote_ctr_inited = false;
    /**
     *  配置表
     */
    syyx_ctr_manager.ctr_data = null;
    syyx_ctr_manager.new_product_location_id = '';
    /**
     *  超能力测试完毕
    */
    syyx_ctr_manager.ctr_test_compelete = false;
    return syyx_ctr_manager;
}());
exports.syyx_ctr_manager = syyx_ctr_manager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbnRyb2xsZXJcXGN0cl90ZXN0XFxzeXl4X2N0cl9tYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGlFQUEyRDtBQUMzRCxnREFBK0M7QUFDL0MsMkNBQThDO0FBRTlDO0lBQUE7SUFxSUEsQ0FBQztJQTdHRzs7TUFFRTtJQUNLLGdDQUFlLEdBQXRCO1FBRUksSUFBSSx1QkFBdUIsR0FBRywyQkFBWSxDQUFDLHdCQUF3QixDQUFBO1FBQ25FLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQTtRQUNoQixJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUE7UUFDakIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFBO1FBRWYsSUFBRyx1QkFBdUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ25DLEtBQWMsVUFBdUIsRUFBdkIsbURBQXVCLEVBQXZCLHFDQUF1QixFQUF2QixJQUF1QixFQUFFO2dCQUFsQyxJQUFJLENBQUMsZ0NBQUE7Z0JBQ04sSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLE1BQU0sRUFBRTtvQkFDbEIsT0FBTyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7b0JBQ2pCLFFBQVEsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFBLENBQUMsVUFBVTtvQkFDakMsSUFBSSxDQUFDLHVCQUF1QixHQUFHLENBQUMsQ0FBQyxXQUFXLENBQUE7b0JBQzVDLE1BQU07aUJBQ1Q7YUFDSjtTQUNKO1FBRUQsSUFBSSxPQUFPLEdBQUc7WUFDVixJQUFJLEVBQUUsT0FBTztZQUNiLFdBQVcsRUFBRSxRQUFRO1lBQ3JCLDZCQUE2QjtTQUNoQyxDQUFBO1FBRUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUE7SUFDMUQsQ0FBQztJQUVEOztPQUVHO0lBQ0ksNEJBQVcsR0FBbEIs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LEFBcUlDLElBQUE7QUFySVksNENBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3l5eF9jb25zdCB9IGZyb20gXCIuLi8uLi9jb25maWdzL3N5eXhfc2RrX2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBzeXl4X21hbmFnZXIgfSBmcm9tIFwiLi4vc3l5eF9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHN5eXhfdmlldyB9IGZyb20gJy4uLy4uL21vZGVsL21vZGVsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBzeXl4X2N0cl9tYW5hZ2VyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOi/nOerr+mFjee9rueJiOacrOWPt1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX19jdHJfdmVyc2lvbiA9IFwiX19jdHJfdmVyc2lvblwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICrov5znq6/phY3nva7mi4nlj5bmiJDlip9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIF9fcmVtb3RlX2N0cl9pbml0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqICDphY3nva7ooahcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGN0cl9kYXRhID0gbnVsbFxyXG5cclxuICAgIHN0YXRpYyBuZXdfcHJvZHVjdF9sb2NhdGlvbl9pZCA9ICcnXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAg6LaF6IO95Yqb5rWL6K+V5a6M5q+VXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGN0cl90ZXN0X2NvbXBlbGV0ZSA9IGZhbHNlXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOWKoOi9vei2heiDveWKm+a1i+ivlemFjee9rlxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBsb2FkX2N0cl9jb25maWcoKSB7XHJcblxyXG4gICAgICAgIGxldCBndW9iYW9fbmV3X3Byb2R1Y3RfZGF0YSA9IHN5eXhfbWFuYWdlci5fZ3VvYmFvX2luaXRfY29uZmlnX2RhdGFcclxuICAgICAgICBsZXQgc2VsZGFkcyA9IFtdXHJcbiAgICAgICAgbGV0IGdjX3N0YXR1ID0gJydcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuXHJcbiAgICAgICAgaWYoZ3VvYmFvX25ld19wcm9kdWN0X2RhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpIG9mIGd1b2Jhb19uZXdfcHJvZHVjdF9kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaS50eXBlID09IFwic2VsZlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZGFkcyA9IGkuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBnY19zdGF0dSA9IGkuZ2Nfc3RhdHVzIC8vIDDlhbPpl63vvIwx5byA5ZCvXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5uZXdfcHJvZHVjdF9sb2NhdGlvbl9pZCA9IGkubG9jYXRpb25faWQgXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjdHJkYXRhID0ge1xyXG4gICAgICAgICAgICBsaXN0OiBzZWxkYWRzLFxyXG4gICAgICAgICAgICBvcGVuX3N3aXRjaDogZ2Nfc3RhdHVcclxuICAgICAgICAgICAgLy8gb3Blbl9zd2l0Y2g6IDAgLy8gMCDlhbPpl63vvIwx5byA5ZCvXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9uX2xvYWRfY3RyKHRydWUsICcnLCA1LCBKU09OLnN0cmluZ2lmeShjdHJkYXRhKSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICDov5znq6/otoXog73lipvphY3nva7ov5Tlm54gXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBvbl9sb2FkX2N0cihyZXQsIGtleSwgdmVyc2lvbiwgZGF0YSkge1xyXG4gICAgICAgIGlmIChyZXQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgLy/miormlbDmja7lkozov5Tlm57nmoR2ZXJzaW9uIOS/neWtmOacrOWcsFxyXG4gICAgICAgICAgICB0aGlzLmN0cl9kYXRhID0gSlNPTi5wYXJzZShkYXRhKVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzeXl4X2NvbnN0LmxvY2FsX2N0cl9jb25maWdfdmVyc2lvbiwgdmVyc2lvbik7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN5eXhfY29uc3QubG9jYWxfY3RyX2NvbmZpZ19kYXRhLCBkYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5fX3JlbW90ZV9jdHJfaW5pdGVkID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHNhdmVfZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN5eXhfY29uc3QubG9jYWxfY3RyX2NvbmZpZ19kYXRhKVxyXG4gICAgICAgICAgICBpZiAoc2F2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9fcmVtb3RlX2N0cl9pbml0ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzZGstLeaWsOWTgS0tLS0tIHN5eXhfY3RyX21hbmFnZXJcIiwgdGhpcy5jdHJfZGF0YSkgLy8gb3Blbl9zd2l0Y2gg5pyJIGxpc3RcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa1i+ivleWujOavlVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2V0X2N0cl90ZXN0X2NvbXBlbGV0ZSgpIHtcclxuICAgICAgICB0aGlzLmN0cl90ZXN0X2NvbXBlbGV0ZSA9IHRydWVcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpua1i+ivleWujOavlVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY2hlY2tfaXNfY3RyX3Rlc3RfY29tcGVsZXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0cl90ZXN0X2NvbXBlbGV0ZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5bGV56S65paw5ZOB5bCd6bKcXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzaG93X25ld19wcm9kdWN0cyhjYWxsX2JhY2s/KSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmN0cl90ZXN0X2NvbXBlbGV0ZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHN5eXhfY3RyX21hbmFnZXIgdGVzdCBjb21wZWxldGUhXCIpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tfaXNfb3BlbigpKSB7IC8vIOagueaNruWbveWuneaVsOaNru+8jGdjX3N0YXR1Y+WIpOaWrVxyXG4gICAgICAgICAgICBzeXl4X21hbmFnZXIubG9hZF92aWV3KHN5eXhfdmlldy5jdHJfdGVzdCwgZnVuY3Rpb24gKHZpZXcpIHtcclxuICAgICAgICAgICAgICAgIHZpZXcgJiYgdmlldy5zaG93ICYmIHZpZXcuc2hvdyhjYWxsX2JhY2spXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRfbmV3X3Byb2R1Y3RzX3Jld2FyZCgpIHtcclxuICAgICAgICBsZXQgX2J1c2luZXNzX2NvbmZpZ19kYXRhID0gc3l5eF9tYW5hZ2VyLmdldF9idXNpbmVzc19jb25maWcoKVxyXG4gICAgICAgIGlmIChfYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiY3RyX3Rlc3RfcmV3YXJkX2NvdW50XCJdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJjdHJfdGVzdF9yZXdhcmRfY291bnRcIl0udmFsdWVbMF1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDEwMFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5piv5ZCm5byA5ZCv5paw5ZOB5bCd6bKcXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjaGVja19pc19vcGVuKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmN0cl9kYXRhICYmIHRoaXMuY3RyX2RhdGEub3Blbl9zd2l0Y2ggPT0gMSkgeyAvLyDmoLnmja7lm73lrp3mlbDmja7vvIxnY19zdGF0dWPliKTmlq1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBzeXl4X2N0cl9tYW5hZ2VyIGlzIGNsb3NlXCIpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5ZjdHLphY3nva7mlbDmja5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldF9jdHJfZGF0YSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jaGVja19pc19vcGVuKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3RyX2RhdGFcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/script/ui-base.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '00109Rju3VNg4Bj/UdWdnXd', 'ui-base');
// framework/script/ui-base.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIBase = /** @class */ (function (_super) {
    __extends(UIBase, _super);
    function UIBase() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * 设置UI根节点
     * @param node
     */
    UIBase.prototype._setRootNode = function (node) {
        this._rootNode = node;
    };
    /**
     * 设置是否激活UI
     * @param active 是否激活
     */
    UIBase.prototype._setActive = function (active) {
        this._rootNode.active = active;
    };
    /**
     * 设置UI名称
     * @param name UI名称
     */
    UIBase.prototype._setUIName = function (name) {
        this._uiName = name;
    };
    /**
     * 获得UI名称
     */
    UIBase.prototype.getUIName = function () {
        return this._uiName;
    };
    /**
     * 设置所属画布节点
     * @param canvas - 画布节点
     */
    UIBase.prototype._setCanvas = function (canvas) {
        this._canvas = canvas;
    };
    /**
     * 获得画布节点
     */
    UIBase.prototype.getCanvas = function () {
        return this._canvas;
    };
    /**
     * 设置节点索引
     * @param zIndex
     */
    UIBase.prototype._setSiblingIndex = function (zIndex) {
        this._zIndex = zIndex;
        this.node.setSiblingIndex(zIndex);
    };
    /**
     * 获取节点索引
     * @returns number
     */
    UIBase.prototype.getSiblingIndex = function () {
        return this._zIndex;
    };
    /**
     * 监听层级变化
     */
    UIBase.prototype.onIndexChange = function (z_index) {
    };
    /**
     * UI已加载回调，你可以在这里自定义一些动画或者做一些适配操作
     */
    UIBase.prototype.onUICreate = function () {
    };
    /**
     * UI释放
     */
    UIBase.prototype.onUIRelease = function () {
    };
    /**
     * UI启动回调
     * @param args - 打开参数
     */
    UIBase.prototype.onUILaunch = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
    };
    /**
     * UI关闭回调
     */
    UIBase.prototype.onUIClose = function () {
    };
    UIBase = __decorate([
        ccclass
    ], UIBase);
    return UIBase;
}(cc.Component));
exports.default = UIBase;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxzY3JpcHRcXHVpLWJhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7QUFDNUUsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBb0MsMEJBQVk7SUFBaEQ7O0lBdUdBLENBQUM7SUF0Rkc7OztPQUdHO0lBQ0gsNkJBQVksR0FBWixVQUFhLElBQWE7UUFDdEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7SUFDMUIsQ0FBQztJQUNEOzs7T0FHRztJQUNILDJCQUFVLEdBQVYsVUFBVyxNQUFlO1FBQ3RCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUNuQyxDQUFDO0lBQ0Q7OztPQUdHO0lBQ0gsMkJBQVUsR0FBVixVQUFXLElBQVk7UUFDbkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDeEIsQ0FBQztJQUNEOztPQUVHO0lBQ0gsMEJBQVMsR0FBVDtRQUNJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN4QixDQUFDO0lBQ0Q7OztPQUdHO0lBQ0gsMkJBQVUsR0FBVixVQUFXLE1BQWU7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7SUFDMUIsQ0FBQztJQUNEOztPQUVHO0lBQ0gsMEJBQVMsR0FBVDtRQUNJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN4QixDQUFDO0lBQ0Q7OztPQUdHO0lBQ0gsaUNBQWdCLEdBQWhCLFVBQWlCLE1BQWM7UUFDM0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7UUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUNEOzs7T0FHRztJQUNILGdDQUFlLEdBQWY7UUFDSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDeEIsQ0FBQztJQUNEOztPQUVHO0lBQ0gsOEJBQWEsR0FBYixVQUFjLE9BQWU7SUFFN0IsQ0FBQztJQUNEOztPQUVHO0lBQ0gsMkJBQVUsR0FBVjtJQUVBLENBQUM7SUFDRDs7T0FFRztJQUNILDRCQUFXLEdBQVg7SUFFQSxDQUFDO0lBQ0Q7OztPQUdHO0lBQ0gsMkJBQVUsR0FBVjtRQUFXLGNBQWM7YUFBZCxVQUFjLEVBQWQscUJBQWMsRUFBZCxJQUFjO1lBQWQseUJBQWM7O0lBRXpCLENBQUM7SUFDRDs7T0FFRztJQUNILDBCQUFTLEdBQVQ7SUFFQSxDQUFDO0lBdEdnQixNQUFNO1FBRDFCLE9BQU87T0FDYSxNQUFNLENBdUcxQjtJQUFELGFBQUM7Q0F2R0QsQUF1R0MsQ0F2R21DLEVBQUUsQ0FBQyxTQUFTLEdBdUcvQztrQkF2R29CLE1BQU0iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUJhc2UgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIOaJgOWxnueUu+W4g+iKgueCuVxuICAgICAqL1xuICAgIF9jYW52YXM6IGNjLk5vZGU7XG4gICAgLyoqXG4gICAgICog5qC56IqC54K5XG4gICAgICovXG4gICAgX3Jvb3ROb2RlOiBjYy5Ob2RlO1xuICAgIC8qKlxuICAgICAqIFVJ5ZCN56ewXG4gICAgICovXG4gICAgX3VpTmFtZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIOiKgueCuee0ouW8lVxuICAgICAqL1xuICAgIF96SW5kZXg6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiDorr7nva5VSeagueiKgueCuVxuICAgICAqIEBwYXJhbSBub2RlIFxuICAgICAqL1xuICAgIF9zZXRSb290Tm9kZShub2RlOiBjYy5Ob2RlKSB7XG4gICAgICAgIHRoaXMuX3Jvb3ROb2RlID0gbm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog6K6+572u5piv5ZCm5r+A5rS7VUlcbiAgICAgKiBAcGFyYW0gYWN0aXZlIOaYr+WQpua/gOa0u1xuICAgICAqL1xuICAgIF9zZXRBY3RpdmUoYWN0aXZlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX3Jvb3ROb2RlLmFjdGl2ZSA9IGFjdGl2ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog6K6+572uVUnlkI3np7BcbiAgICAgKiBAcGFyYW0gbmFtZSBVSeWQjeensFxuICAgICAqL1xuICAgIF9zZXRVSU5hbWUobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3VpTmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOiOt+W+l1VJ5ZCN56ewXG4gICAgICovXG4gICAgZ2V0VUlOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl91aU5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOiuvue9ruaJgOWxnueUu+W4g+iKgueCuVxuICAgICAqIEBwYXJhbSBjYW52YXMgLSDnlLvluIPoioLngrlcbiAgICAgKi9cbiAgICBfc2V0Q2FudmFzKGNhbnZhczogY2MuTm9kZSkge1xuICAgICAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOiOt+W+l+eUu+W4g+iKgueCuVxuICAgICAqL1xuICAgIGdldENhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcztcbiAgICB9XG4gICAgLyoqXG4gICAgICog6K6+572u6IqC54K557Si5byVXG4gICAgICogQHBhcmFtIHpJbmRleCBcbiAgICAgKi9cbiAgICBfc2V0U2libGluZ0luZGV4KHpJbmRleDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3pJbmRleCA9IHpJbmRleDtcbiAgICAgICAgdGhpcy5ub2RlLnNldFNpYmxpbmdJbmRleCh6SW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDojrflj5boioLngrnntKLlvJVcbiAgICAgKiBAcmV0dXJucyBudW1iZXJcbiAgICAgKi9cbiAgICBnZXRTaWJsaW5nSW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl96SW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOebkeWQrOWxgue6p+WPmOWMllxuICAgICAqL1xuICAgIG9uSW5kZXhDaGFuZ2Uoel9pbmRleDogbnVtYmVyKSB7XG5cbiAgICB9XG4gICAgLyoqXG4gICAgICogVUnlt7LliqDovb3lm57osIPvvIzkvaDlj6/ku6XlnKjov5nph4zoh6rlrprkuYnkuIDkupvliqjnlLvmiJbogIXlgZrkuIDkupvpgILphY3mk43kvZxcbiAgICAgKi9cbiAgICBvblVJQ3JlYXRlKCkge1xuXG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVJ6YeK5pS+XG4gICAgICovXG4gICAgb25VSVJlbGVhc2UoKSB7XG5cbiAgICB9XG4gICAgLyoqXG4gICAgICogVUnlkK/liqjlm57osINcbiAgICAgKiBAcGFyYW0gYXJncyAtIOaJk+W8gOWPguaVsFxuICAgICAqL1xuICAgIG9uVUlMYXVuY2goLi4uYXJnczogYW55W10pIHtcblxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVSeWFs+mXreWbnuiwg1xuICAgICAqL1xuICAgIG9uVUlDbG9zZSgpIHtcblxuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/syyx_ui/ad/syyx_ui_native_icon.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c7c1ddA8fdBNo6gfRknrvxY', 'syyx_ui_native_icon');
// syyx_sdk/syyx_ui/ad/syyx_ui_native_icon.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var syyx_sdk_enum_1 = require("./../../configs/syyx_sdk_enum");
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var syyx_manager_1 = require("../../controller/syyx_manager");
var syyx_sdk_api_1 = require("../../syyx_sdk_api");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var syyx_adv_manager_1 = require("../../controller/ad/syyx_adv_manager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var syyx_ui_native_icon = /** @class */ (function (_super) {
    __extends(syyx_ui_native_icon, _super);
    function syyx_ui_native_icon() {
        var _this = _super.call(this) || this;
        _this.icon_close = null;
        _this.native_node = null;
        _this.img_icon = null;
        _this.set_background_on_show();
        return _this;
    }
    syyx_ui_native_icon.prototype.on_click_adv = function () {
        this.report_click();
    };
    syyx_ui_native_icon.prototype.on_click_close = function () {
        var _business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (_business_config_data && _business_config_data["native_icon_trap_pro"]) {
            var trap_pro = _business_config_data["native_icon_trap_pro"].value[0]; // 0
            if (trap_pro >= 0 && Math.random() <= trap_pro) { // trap_pro为0，不满足条件
                this.report_click();
            }
        }
        this.hide();
    };
    /**
    * 广告被点击
    */
    syyx_ui_native_icon.prototype.report_click = function () {
        if (this.native_data) {
            syyx_adv_manager_1.syyx_adv_manager.report_ad_click(syyx_sdk_enum_1.e_ad_id.native_icon, this.native_data);
        }
    };
    /**
    * 广告被曝光
    */
    syyx_ui_native_icon.prototype.report_show = function () {
        if (this.native_data) {
            syyx_adv_manager_1.syyx_adv_manager.report_ad_show(syyx_sdk_enum_1.e_ad_id.native_icon, this.native_data);
        }
    };
    syyx_ui_native_icon.prototype.show = function (parent, native_data) {
        if (this.node && !this.node.parent && parent) {
            this.native_data = native_data;
            this.node.parent = parent;
            this.on_show();
        }
    };
    /**
    * 上报点击后  重新拉取原生数据刷新界面
    */
    syyx_ui_native_icon.prototype.report_click_update_view = function (native_data) {
        if (this.node && this.node.parent) {
            this.native_data = native_data;
            this.refresh();
        }
    };
    syyx_ui_native_icon.prototype.on_show = function () {
        this.icon_close.on(cc.Node.EventType.TOUCH_END, this.on_click_close, this);
        this.img_icon.node.on(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        this.refresh();
    };
    syyx_ui_native_icon.prototype.refresh = function () {
        syyx_sdk_utils_1.syyx_sdk_utils.set_texture_url(this.img_icon, this.native_data.imgUrlList, this.hide.bind(this));
        this.report_show();
        this.play_icon_animation();
    };
    syyx_ui_native_icon.prototype.play_icon_animation = function () {
        this.stop_icon_animation();
        this.native_node.rotation = 0;
        var move1 = cc.rotateTo(0.2, -5);
        var move2 = cc.rotateTo(0.4, 5);
        var move3 = cc.rotateTo(0.2, 0);
        this.icon_ani = this.native_node.runAction(cc.sequence(move1, move2, move3));
    };
    syyx_ui_native_icon.prototype.stop_icon_animation = function () {
        if (this.icon_ani) {
            this.native_node.stopAction(this.icon_ani);
            this.icon_ani = null;
        }
    };
    syyx_ui_native_icon.prototype.hide = function () {
        if (this.node && this.node.parent) {
            this.node.parent.removeChild(this.node);
            this.on_hide();
        }
    };
    syyx_ui_native_icon.prototype.on_hide = function () {
        this.icon_close.off(cc.Node.EventType.TOUCH_END, this.on_click_close, this);
        this.img_icon.node.off(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
    };
    syyx_ui_native_icon.prototype.set_default_pos = function (style) {
    };
    syyx_ui_native_icon.prototype.set_style_pos = function (x, y) {
    };
    syyx_ui_native_icon.prototype.set_background_on_show = function () {
        var self = this;
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.hw_qg) {
            //后台到前台
            syyx_sdk_api_1.syyx_sdk_api.on_show(function () {
                if (self && cc.isValid(self.node)) {
                    console.log("igc----- native_icon set_background_on_show");
                    self.report_show();
                }
            });
        }
    };
    __decorate([
        property(cc.Node)
    ], syyx_ui_native_icon.prototype, "icon_close", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_native_icon.prototype, "native_node", void 0);
    __decorate([
        property(cc.Sprite)
    ], syyx_ui_native_icon.prototype, "img_icon", void 0);
    syyx_ui_native_icon = __decorate([
        ccclass
    ], syyx_ui_native_icon);
    return syyx_ui_native_icon;
}(cc.Component));
exports.default = syyx_ui_native_icon;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXHN5eXhfdWlcXGFkXFxzeXl4X3VpX25hdGl2ZV9pY29uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtEQUF3RDtBQUN4RCxpRUFBMkQ7QUFDM0QsOERBQTZEO0FBRTdELG1EQUFrRDtBQUNsRCw2REFBNEQ7QUFDNUQseUVBQXdFO0FBRWxFLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQWlELHVDQUFZO0lBZ0J6RDtRQUFBLFlBQ0ksaUJBQU8sU0FHVjtRQWpCRCxnQkFBVSxHQUFZLElBQUksQ0FBQztRQUczQixpQkFBVyxHQUFZLElBQUksQ0FBQztRQUc1QixjQUFRLEdBQWMsSUFBSSxDQUFDO1FBVXZCLEtBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFBOztJQUNqQyxDQUFDO0lBRUQsMENBQVksR0FBWjtRQUNJLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsNENBQWMsR0FBZDtRQUNJLElBQUkscUJBQXFCLEdBQUcsMkJBQVksQ0FBQyxtQkFBbUIsRUFBRSxDQUFBO1FBQzlELElBQUkscUJBQXFCLElBQUkscUJBQXFCLENBQUMsc0JBQXNCLENBQUMsRUFBRTtZQUN4RSxJQUFJLFFBQVEsR0FBRyxxQkFBcUIsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDLElBQUk7WUFDMUUsSUFBSSxRQUFRLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxRQUFRLEVBQUUsRUFBRSxtQkFBbUI7Z0JBQ2pFLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQTthQUN0QjtTQUNKO1FBQ0QsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRDs7TUFFRTtJQUNGLDBDQUFZLEdBQVo7UUFDSSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDbEIsbUNBQWdCLENBQUMsZUFBZSxDQUFDLHVCQUFPLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQTtTQUMxRTtJQUNMLENBQUM7SUFFRDs7TUFFRTtJQUNGLHlDQUFXLEdBQVg7UUFDSSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDbEIsbUNBQWdCLENBQUMsY0FBYyxDQUFDLHVCQUFPLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQTtTQUN6RTtJQUNMLENBQUM7SUFFRCxrQ0FBSSxHQUFKLFVBQUssTUFBTSxFQUFFLFdBQVc7UUFDcEIsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksTUFBTSxFQUFFO1lBQzFDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1lBQzlCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtZQUN6QixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDbEI7SUFDTCxDQUFDO0lBRUQ7O01BRUU7SUFDRixzREFBd0IsR0FBeEIsVUFBeUIsV0FBVztRQUNoQyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDL0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUE7WUFDOUIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFBO1NBQ2pCO0lBQ0wsQ0FBQztJQUVELHFDQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUMxRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFDM0UsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFBO0lBQ2xCLENBQUM7SUFFRCxxQ0FBTyxHQUFQO1FBQ0ksK0JBQWMsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO1FBQ2hHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQTtRQUNsQixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQTtJQUM5QixDQUFDO0lBR08saURBQW1CLEdBQTNCO1FBQ0ksSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUE7UUFDMUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFBO1FBQzdCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDaEMsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDL0IsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQTtJQUNoRixDQUFDO0lBR08saURBQW1CLEdBQTNCO1FBQ0ksSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBQzFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFBO1NBQ3ZCO0lBQ0wsQ0FBQztJQUVELGtDQUFJLEdBQUo7UUFDSSxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUN2QyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDbEI7SUFDTCxDQUFDO0lBRUQscUNBQU8sR0FBUDtRQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFBO1FBQzNFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQTtJQUNoRixDQUFDO0lBRUQsNkNBQWUsR0FBZixVQUFnQixLQUFLO0lBRXJCLENBQUM7SUFFRCwyQ0FBYSxHQUFiLFVBQWMsQ0FBQyxFQUFFLENBQUM7SUFFbEIsQ0FBQztJQUVELG9EQUFzQixHQUF0QjtRQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQTtRQUNmLElBQUksNEJBQVUsQ0FBQyxnQkFBZ0IsS0FBSyxHQUFHLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRTtZQUMxRCxPQUFPO1lBQ1AsMkJBQVksQ0FBQyxPQUFPLENBQ2hCO2dCQUNJLElBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO29CQUMvQixPQUFPLENBQUMsR0FBRyxDQUFDLDZDQUE2QyxDQUFDLENBQUE7b0JBQzFELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQTtpQkFDckI7WUFDTCxDQUFDLENBQ0osQ0FBQTtTQUNKO0lBQ0wsQ0FBQztJQXJJRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzJEQUNTO0lBRzNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NERBQ1U7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt5REFDTztJQVRWLG1CQUFtQjtRQUR2QyxPQUFPO09BQ2EsbUJBQW1CLENBeUl2QztJQUFELDBCQUFDO0NBeklELEFBeUlDLENBeklnRCxFQUFFLENBQUMsU0FBUyxHQXlJNUQ7a0JBeklvQixtQkFBbUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlX2FkX2lkIH0gZnJvbSAnLi8uLi8uLi9jb25maWdzL3N5eXhfc2RrX2VudW0nO1xyXG5pbXBvcnQgeyBzeXl4X2NvbnN0IH0gZnJvbSBcIi4uLy4uL2NvbmZpZ3Mvc3l5eF9zZGtfY29uZmlnXCI7XHJcbmltcG9ydCB7IHN5eXhfbWFuYWdlciB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVyL3N5eXhfbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBuYXRpdmVfYWRfZGF0YSB9IGZyb20gXCIuLi8uLi9tb2RlbC9tb2RlbFwiO1xyXG5pbXBvcnQgeyBzeXl4X3Nka19hcGkgfSBmcm9tIFwiLi4vLi4vc3l5eF9zZGtfYXBpXCI7XHJcbmltcG9ydCB7IHN5eXhfc2RrX3V0aWxzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3N5eXhfc2RrX3V0aWxzXCI7XHJcbmltcG9ydCB7IHN5eXhfYWR2X21hbmFnZXIgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL2FkL3N5eXhfYWR2X21hbmFnZXInO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHN5eXhfdWlfbmF0aXZlX2ljb24gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgaWNvbl9jbG9zZTogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBuYXRpdmVfbm9kZTogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGltZ19pY29uOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y6f55Sf5bm/5ZGK5pWw5o2uXHJcbiAgICAgKi9cclxuICAgIG5hdGl2ZV9kYXRhOiBuYXRpdmVfYWRfZGF0YVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuXHJcbiAgICAgICAgdGhpcy5zZXRfYmFja2dyb3VuZF9vbl9zaG93KClcclxuICAgIH1cclxuXHJcbiAgICBvbl9jbGlja19hZHYoKSB7XHJcbiAgICAgICAgdGhpcy5yZXBvcnRfY2xpY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBvbl9jbGlja19jbG9zZSgpIHtcclxuICAgICAgICBsZXQgX2J1c2luZXNzX2NvbmZpZ19kYXRhID0gc3l5eF9tYW5hZ2VyLmdldF9idXNpbmVzc19jb25maWcoKVxyXG4gICAgICAgIGlmIChfYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2ljb25fdHJhcF9wcm9cIl0pIHtcclxuICAgICAgICAgICAgbGV0IHRyYXBfcHJvID0gX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2ljb25fdHJhcF9wcm9cIl0udmFsdWVbMF0gLy8gMFxyXG4gICAgICAgICAgICBpZiAodHJhcF9wcm8gPj0gMCAmJiBNYXRoLnJhbmRvbSgpIDw9IHRyYXBfcHJvKSB7IC8vIHRyYXBfcHJv5Li6MO+8jOS4jea7oei2s+adoeS7tlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRfY2xpY2soKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDlub/lkYrooqvngrnlh7tcclxuICAgICovXHJcbiAgICByZXBvcnRfY2xpY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubmF0aXZlX2RhdGEpIHtcclxuICAgICAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5yZXBvcnRfYWRfY2xpY2soZV9hZF9pZC5uYXRpdmVfaWNvbiwgdGhpcy5uYXRpdmVfZGF0YSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOW5v+WRiuiiq+abneWFiVxyXG4gICAgKi9cclxuICAgIHJlcG9ydF9zaG93KCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgIHN5eXhfYWR2X21hbmFnZXIucmVwb3J0X2FkX3Nob3coZV9hZF9pZC5uYXRpdmVfaWNvbiwgdGhpcy5uYXRpdmVfZGF0YSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdyhwYXJlbnQsIG5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubm9kZSAmJiAhdGhpcy5ub2RlLnBhcmVudCAmJiBwYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5uYXRpdmVfZGF0YSA9IG5hdGl2ZV9kYXRhXHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5wYXJlbnQgPSBwYXJlbnRcclxuICAgICAgICAgICAgdGhpcy5vbl9zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDkuIrmiqXngrnlh7vlkI4gIOmHjeaWsOaLieWPluWOn+eUn+aVsOaNruWIt+aWsOeVjOmdolxyXG4gICAgKi9cclxuICAgIHJlcG9ydF9jbGlja191cGRhdGVfdmlldyhuYXRpdmVfZGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUgJiYgdGhpcy5ub2RlLnBhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLm5hdGl2ZV9kYXRhID0gbmF0aXZlX2RhdGFcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25fc2hvdygpIHtcclxuICAgICAgICB0aGlzLmljb25fY2xvc2Uub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uX2NsaWNrX2Nsb3NlLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaW1nX2ljb24ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMub25fY2xpY2tfYWR2LCB0aGlzKVxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpXHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaCgpIHtcclxuICAgICAgICBzeXl4X3Nka191dGlscy5zZXRfdGV4dHVyZV91cmwodGhpcy5pbWdfaWNvbiwgdGhpcy5uYXRpdmVfZGF0YS5pbWdVcmxMaXN0LCB0aGlzLmhpZGUuYmluZCh0aGlzKSlcclxuICAgICAgICB0aGlzLnJlcG9ydF9zaG93KClcclxuICAgICAgICB0aGlzLnBsYXlfaWNvbl9hbmltYXRpb24oKVxyXG4gICAgfVxyXG5cclxuICAgIGljb25fYW5pXHJcbiAgICBwcml2YXRlIHBsYXlfaWNvbl9hbmltYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wX2ljb25fYW5pbWF0aW9uKClcclxuICAgICAgICB0aGlzLm5hdGl2ZV9ub2RlLnJvdGF0aW9uID0gMFxyXG4gICAgICAgIGxldCBtb3ZlMSA9IGNjLnJvdGF0ZVRvKDAuMiwgLTUpXHJcbiAgICAgICAgbGV0IG1vdmUyID0gY2Mucm90YXRlVG8oMC40LCA1KVxyXG4gICAgICAgIGxldCBtb3ZlMyA9IGNjLnJvdGF0ZVRvKDAuMiwgMClcclxuICAgICAgICB0aGlzLmljb25fYW5pID0gdGhpcy5uYXRpdmVfbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UobW92ZTEsIG1vdmUyLCBtb3ZlMykpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgc3RvcF9pY29uX2FuaW1hdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5pY29uX2FuaSkge1xyXG4gICAgICAgICAgICB0aGlzLm5hdGl2ZV9ub2RlLnN0b3BBY3Rpb24odGhpcy5pY29uX2FuaSlcclxuICAgICAgICAgICAgdGhpcy5pY29uX2FuaSA9IG51bGxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ub2RlICYmIHRoaXMubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpXHJcbiAgICAgICAgICAgIHRoaXMub25faGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbl9oaWRlKCkge1xyXG4gICAgICAgIHRoaXMuaWNvbl9jbG9zZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uX2NsaWNrX2Nsb3NlLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaW1nX2ljb24ubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uX2NsaWNrX2FkdiwgdGhpcylcclxuICAgIH1cclxuXHJcbiAgICBzZXRfZGVmYXVsdF9wb3Moc3R5bGUpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0X3N0eWxlX3Bvcyh4LCB5KSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldF9iYWNrZ3JvdW5kX29uX3Nob3coKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcbiAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLmh3X3FnKSB7XHJcbiAgICAgICAgICAgIC8v5ZCO5Y+w5Yiw5YmN5Y+wXHJcbiAgICAgICAgICAgIHN5eXhfc2RrX2FwaS5vbl9zaG93KFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmICYmIGNjLmlzVmFsaWQoc2VsZi5ub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIG5hdGl2ZV9pY29uIHNldF9iYWNrZ3JvdW5kX29uX3Nob3dcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXBvcnRfc2hvdygpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/caijiTools.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3b539O4uiZOPq4nkPn4HvON', 'caijiTools');
// scripts/caijiTools.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.caijiTools = void 0;
var audioNameMgr_1 = require("./audioNameMgr");
var dontDestroy_1 = require("./dontDestroy");
var audioManager_1 = require("./main/audioManager");
var data_1 = require("./sdk/data");
(function () {
    var Super = function () { };
    Super.prototype = cc.Button.prototype;
    //实例化原型
    Super.prototype._onTouchBegan = function (event) {
        if (this.interactable && this.enabledInHierarchy) {
            var target = event.target;
            if (target.getComponent(cc.Button).clickEvents[0].customEventData != "offsound") {
                audioManager_1.default.playAudio(audioNameMgr_1.audioName.button, false, 0.6);
            }
            if (this._pressed) {
                cc.Component.EventHandler.emitEvents(this.clickEvents, event);
                this.node.emit("click", this);
            }
            this._pressed = true;
            this._updateState();
            event.stopPropagation();
        }
    };
})();
var caijiTools;
(function (caijiTools) {
    /**
     * 加载音频资源
     * @param path resource下路径
    */
    function loadAudioClip(path) {
        return __awaiter(this, void 0, void 0, function () {
            var res;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools.loadResources(path, cc.AudioClip)];
                    case 1:
                        res = _a.sent();
                        return [2 /*return*/, res];
                }
            });
        });
    }
    caijiTools.loadAudioClip = loadAudioClip;
    /**
     * 加载分包中音频
     * @param bundleName 分包名
     * @param path 分包下路径
     * @returns
     */
    function loadAudioClipBundle(bundleName, path) {
        return __awaiter(this, void 0, void 0, function () {
            var res;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools.loadBundleRes(bundleName, path, cc.AudioClip)];
                    case 1:
                        res = _a.sent();
                        return [2 /*return*/, res];
                }
            });
        });
    }
    caijiTools.loadAudioClipBundle = loadAudioClipBundle;
    function loadSkeleton(path) {
        return __awaiter(this, void 0, void 0, function () {
            var res;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools.loadResources(path, sp.SkeletonData)];
                    case 1:
                        res = _a.sent();
                        return [2 /*return*/, res];
                }
            });
        });
    }
    caijiTools.loadSkeleton = loadSkeleton;
    /**
     * 加载图片资源
     * @param path resource下路径
     */
    function loadSpriteFrame(path) {
        return __awaiter(this, void 0, void 0, function () {
            var res;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools.loadResources(path, cc.SpriteFrame)];
                    case 1:
                        res = _a.sent();
                        return [2 /*return*/, res];
                }
            });
        });
    }
    caijiTools.loadSpriteFrame = loadSpriteFrame;
    /**
     * 加载分包中图片
     * @param bundleName 分包名
     * @param path 分包下路径
     * @returns
     */
    function loadSpriteFrameBundle(bundleName, path) {
        return __awaiter(this, void 0, void 0, function () {
            var res;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools.loadBundleRes(bundleName, path, cc.SpriteFrame)];
                    case 1:
                        res = _a.sent();
                        return [2 /*return*/, res];
                }
            });
        });
    }
    caijiTools.loadSpriteFrameBundle = loadSpriteFrameBundle;
    /**
     * 加载texture2d资源
     * @param path 远程链接
     */
    function loadUrlTxture(path) {
        return __awaiter(this, void 0, void 0, function () {
            var res;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools.loadUrlResources(path, cc.Texture2D)];
                    case 1:
                        res = _a.sent();
                        return [2 /*return*/, res];
                }
            });
        });
    }
    caijiTools.loadUrlTxture = loadUrlTxture;
    /**
     * 加载预制体资源
     * @param path resource下路径
    */
    function loadPrefab(path) {
        return __awaiter(this, void 0, void 0, function () {
            var res;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools.loadResources(path, cc.Prefab)];
                    case 1:
                        res = _a.sent();
                        return [2 /*return*/, res];
                }
            });
        });
    }
    caijiTools.loadPrefab = loadPrefab;
    function loadResources(path, type) {
        return new Promise(function (resolve, reject) {
            cc.resources.load(path, type, function (err, res) {
                if (err) {
                    console.log("加载资源失败！" + path);
                    resolve(null);
                    return;
                }
                resolve(res);
            });
        });
    }
    caijiTools.loadResources = loadResources;
    /**
     * 加载分包资源
     * @param bundleName 分包名
     * @param path 分包下路径
     * @param type 文件类型
     * @returns
     */
    function loadBundleRes(bundleName, path, type) {
        return new Promise(function (resolve, reject) {
            var bundle = cc.assetManager.getBundle(bundleName);
            if (!bundle) {
                cc.log("loadBundleRes first:", bundleName);
                cc.assetManager.loadBundle(bundleName, function (err, b) {
                    if (!err) {
                        bundle = b;
                        bundle.load(path, type, function (err, res) {
                            if (err) {
                                cc.log("loadBundleRes first:", bundleName, path, " fail:", err);
                            }
                            resolve(res);
                        });
                    }
                    else {
                        cc.log("loadBundleRes first:", bundleName, " fail:", err);
                    }
                });
            }
            else {
                bundle.load(path, type, function (err, res) {
                    if (err) {
                        cc.log("loadBundleRes:", bundleName, path, " fail:", err);
                    }
                    resolve(res);
                });
            }
        });
    }
    caijiTools.loadBundleRes = loadBundleRes;
    /**
     * 加载分包
     * @param bundleName 分包名
     */
    function loadBundlePackage(bundleName, callBack) {
        cc.assetManager.loadBundle(bundleName, function (err, bundle) {
            if (err) {
                console.log(err);
            }
            else {
                callBack(bundleName);
            }
        });
    }
    caijiTools.loadBundlePackage = loadBundlePackage;
    function loadUrlResources(path, type) {
        return new Promise(function (resolve, reject) {
            cc.assetManager.loadRemote(path, type, function (err, res) {
                if (err) {
                    console.log("加载url资源失败！" + path);
                    return;
                }
                resolve(res);
            });
        });
    }
    caijiTools.loadUrlResources = loadUrlResources;
    function addCoin(addNum, coinLabel, coinNode) {
        if (coinLabel === void 0) { coinLabel = null; }
        if (coinNode === void 0) { coinNode = null; }
        var nowCoin = Number(data_1.data.getCache("Base", "coin"));
        var obj = { a: nowCoin };
        nowCoin += addNum;
        data_1.data.updateCache("Base", "coin", nowCoin);
        caijiTools.showGetCoinTip(addNum);
        if (coinLabel != null) {
            coinLabel.unscheduleAllCallbacks();
            //@ts-ignore
            cc.tween(obj)
                .to(1, { a: nowCoin }, {
                progress: function (start, end, current, t) {
                    //start:起始值 end:终点值 current:当前值 t:总时占比0~1 
                    //返回值为最终赋值
                    var now = cc.misc.lerp(start, end, t);
                    coinLabel.string = now.toFixed(0);
                    return now;
                },
                easing: "cubicOut"
            })
                .start();
        }
        if (coinNode == null)
            return;
        cc.resources.load("prefab/addLable", cc.Prefab, function (err, Prefab) {
            if (err != null) {
                cc.log(err);
                return;
            }
            var addLable = cc.instantiate(Prefab);
            addLable.setParent(coinNode);
            addLable.setPosition(cc.v2(coinNode.width / 2, -coinNode.height / 2));
            addLable.getComponent(cc.Label).string = addNum > 0 ? ("+" + addNum) : addNum.toString();
            addLable.active = true;
            cc.tween(addLable)
                .to(0.1, { scale: 0.8 })
                .by(0.5, { position: cc.v3(0, 70), opacity: -255 })
                .call(function () {
                addLable.destroy();
            })
                .start();
        });
    }
    caijiTools.addCoin = addCoin;
    function showGetCoinTip(addNum) {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, node;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools.loadPrefab("prefabs/ui/getCoinTip")];
                    case 1:
                        prefab = _a.sent();
                        if (!prefab)
                            return [2 /*return*/];
                        node = caijiTools.createNode(prefab, cc.find("Canvas"));
                        node.getComponent("getCoinTip").addNum = addNum;
                        node.setPosition(0, cc.winSize.height / 2 * 0.2);
                        node.active = true;
                        return [2 /*return*/];
                }
            });
        });
    }
    caijiTools.showGetCoinTip = showGetCoinTip;
    function showGetPowerTip(addNum) {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, node;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools.loadPrefab("prefabs/ui/getPowerTip")];
                    case 1:
                        prefab = _a.sent();
                        if (!prefab)
                            return [2 /*return*/];
                        node = caijiTools.createNode(prefab, cc.find("Canvas"));
                        node.getComponent("getPowerTip").addNum = addNum;
                        node.setPosition(0, cc.winSize.height / 2 * 0.2);
                        node.active = true;
                        return [2 /*return*/];
                }
            });
        });
    }
    caijiTools.showGetPowerTip = showGetPowerTip;
    function addPower(addNum, powerLabel) {
        if (powerLabel === void 0) { powerLabel = null; }
        var nowPower = Number(data_1.data.getCache("Base", "power"));
        var obj = { a: nowPower };
        nowPower += addNum;
        data_1.data.updateCache("Base", "power", nowPower);
        dontDestroy_1.default.instance.checkPowerIsFull();
        caijiTools.showGetPowerTip(addNum);
        if (powerLabel != null) {
            powerLabel.unscheduleAllCallbacks();
            //@ts-ignore
            cc.tween(obj)
                .to(0.5, { a: nowPower }, {
                progress: function (start, end, current, t) {
                    //start:起始值 end:终点值 current:当前值 t:总时占比0~1 
                    //返回值为最终赋值
                    var now = cc.misc.lerp(start, end, t);
                    powerLabel.string = now.toFixed(0);
                    return now;
                },
                easing: "cubicOut"
            })
                .start();
        }
    }
    caijiTools.addPower = addPower;
    function isCoinEnough(number) {
        return Number(data_1.data.getCache("Base", "coin")) >= number;
    }
    caijiTools.isCoinEnough = isCoinEnough;
    function isPowerEnough(number) {
        return Number(data_1.data.getCache("Base", "power")) >= number;
    }
    caijiTools.isPowerEnough = isPowerEnough;
    /**
     * 展示解锁皮肤弹窗
     * @param skinIndex 下标从0开始
     * @param uiName 获得皮肤弹窗ui名
     */
    function showUnlockSkin(skinIndex, uiName) {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, ndoe;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        data_1.data.updateCache("Base", "inUsingSkin", skinIndex);
                        data_1.data.updateCache("skins", skinIndex.toString(), 1);
                        return [4 /*yield*/, caijiTools.loadPrefab("prefabs/ui/" + uiName)];
                    case 1:
                        prefab = _a.sent();
                        ndoe = caijiTools.createNode(prefab, cc.find("Canvas"), true);
                        ndoe.getComponent(uiName).skinIndex = skinIndex;
                        return [2 /*return*/];
                }
            });
        });
    }
    caijiTools.showUnlockSkin = showUnlockSkin;
    /**
    * 弹窗
    * @param uiName 弹窗ui名
    */
    function showPopup(uiName, parent, isShow, zIndexMax) {
        if (isShow === void 0) { isShow = true; }
        if (zIndexMax === void 0) { zIndexMax = false; }
        return __awaiter(this, void 0, void 0, function () {
            var prefab;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools.loadPrefab("prefabs/ui/" + uiName)];
                    case 1:
                        prefab = _a.sent();
                        if (prefab)
                            return [2 /*return*/, caijiTools.createNode(prefab, parent, isShow, zIndexMax)];
                        return [2 /*return*/];
                }
            });
        });
    }
    caijiTools.showPopup = showPopup;
    function createNode(prefab, parent, isShow, zIndexMax) {
        if (isShow === void 0) { isShow = true; }
        if (zIndexMax === void 0) { zIndexMax = false; }
        var newNode = cc.instantiate(prefab);
        newNode.setParent(parent);
        newNode.setPosition(0, 0);
        if (zIndexMax) {
            newNode.zIndex = cc.macro.MAX_ZINDEX;
        }
        newNode.active = isShow;
        return newNode;
    }
    caijiTools.createNode = createNode;
    function updatePowerTimer(powerLabel, powerTimerLabel, maxPower) {
        var nowPower = data_1.data.getCache("Base", "power");
        powerLabel.string = nowPower;
        if (dontDestroy_1.default.instance.isTimer && powerTimerLabel.node.active == false) {
            powerTimerLabel.node.active = true;
        }
        else if (dontDestroy_1.default.instance.isTimer == false && powerTimerLabel.node.active == true) {
            powerTimerLabel.node.active = false;
        }
        if (Number(nowPower) >= maxPower)
            return;
        if (dontDestroy_1.default.instance.sec >= 10) {
            powerTimerLabel.string = "0" + dontDestroy_1.default.instance.min + ":" + dontDestroy_1.default.instance.sec;
        }
        else {
            powerTimerLabel.string = "0" + dontDestroy_1.default.instance.min + ":" + "0" + dontDestroy_1.default.instance.sec;
        }
    }
    caijiTools.updatePowerTimer = updatePowerTimer;
    /**
     * 抖动相机
     * @param cameraNode 相机节点
     * @param repeat 重复次数
     * @param offsetX x偏移量
     * @param offsetY y偏移量
     */
    function screenShake(cameraNode, repeat, offsetX, offsetY) {
        if (repeat === void 0) { repeat = 6; }
        if (offsetX === void 0) { offsetX = 5; }
        if (offsetY === void 0) { offsetY = 10; }
        var times = 0;
        var nowX = offsetX;
        var nowY = offsetY;
        var tween = function (ox, oy) {
            times++;
            cc.tween(cameraNode)
                .by(0.03, { y: oy })
                .by(0.03, { y: -oy })
                .call(function () {
                if (times < repeat) {
                    nowX = nowX - offsetX / repeat;
                    nowY = nowY - offsetY / repeat;
                    tween(nowX, nowY);
                }
            })
                .start();
        };
        tween(nowX, nowY);
    }
    caijiTools.screenShake = screenShake;
    /**
     * 改变build相机的y轴坐标使其建筑一直保持在最底部
     * @param camera 目标相机
     */
    function changeBulidCamera_posY(camera) {
        var Y = (1 / camera.zoomRatio - 1) * cc.winSize.height / 2;
        camera.node.y = Y;
    }
    caijiTools.changeBulidCamera_posY = changeBulidCamera_posY;
    /**
     * 获取两向量的夹角
     * @param vec1 向量1
     * @param vec2 向量2
     */
    function getAngleBetweenTwoVec(vec1, vec2) {
        return vec1.normalize().signAngle(vec2.normalize()) * 180 / Math.PI;
    }
    caijiTools.getAngleBetweenTwoVec = getAngleBetweenTwoVec;
    /**
     * 获取方向角度（以y轴正方向为基准顺时针旋转180°为正，逆时针180°为负）
     * @param x
     * @param y
     */
    function getAngleDependY(x, y) {
        var rad = Math.atan2(x, y); // 反正切函数，得到弧度
        var angle = 180 * rad / Math.PI; // 将弧度rad转换为角度
        return angle;
    }
    caijiTools.getAngleDependY = getAngleDependY;
    //cc.misc.degreesToRadians(deg) // 角度转弧度
    //cc.misc.radiansToDegrees(rad)  // 弧度转角度
    /**
     * 获取角度方向向量
     * @param angle 角度
     */
    function getDirection(angle) {
        var x = Math.sin(-angle * Math.PI / 180);
        var y = Math.cos(-angle * Math.PI / 180);
        return cc.v2(x, y);
    }
    caijiTools.getDirection = getDirection;
    /**
     * 获取贝塞尔曲线轨迹点
     * @param startPos 起点
     * @param controlPos 控制点
     * @param endPos 终点
     * @param posCount  取点数量
     */
    function getBezierPositions(startPos, controlPos, endPos, posCount) {
        var result = new Array();
        for (var i = 0; i < posCount; i++) {
            result[i] = cc.v2();
        }
        for (var i_1 = 0; i_1 < posCount; i_1++) {
            var t = i_1 / posCount;
            result[i_1].x = 1 * Math.pow(1 - t, 2) * Math.pow(t, 0) * startPos.x
                + 2 * Math.pow(1 - t, 1) * Math.pow(t, 1) * controlPos.x
                + 1 * Math.pow(1 - t, 0) * Math.pow(t, 2) * endPos.x;
            result[i_1].y = 1 * Math.pow(1 - t, 2) * Math.pow(t, 0) * startPos.y
                + 2 * Math.pow(1 - t, 1) * Math.pow(t, 1) * controlPos.y
                + 1 * Math.pow(1 - t, 0) * Math.pow(t, 2) * endPos.y;
        }
        return result;
    }
    caijiTools.getBezierPositions = getBezierPositions;
    /**
    * 截屏
    * @param camera 渲染摄像机
    * @param showTexture 渲染到目标节点（带sprite组件）
     */
    function cutPicture(camera, showTexture, size) {
        if (size === void 0) { size = null; }
        var w = size != null ? size.width : cc.winSize.width;
        var h = size != null ? size.height : cc.winSize.height;
        var rendTexture = new cc.RenderTexture();
        //@ts-ignore
        var gl = cc.game._renderContext;
        //@ts-ignore
        rendTexture.initWithSize(w, h, gl.STENCIL_INDEX8);
        //camera.cullingMask = 0xffffffff;
        camera.targetTexture = rendTexture;
        //@ts-ignore
        camera.render();
        // 指定需要读取的区域的像素
        var pixels = new Uint8Array(w * h * 4);
        var data = rendTexture.readPixels(pixels);
        var _width = rendTexture.width;
        var _height = rendTexture.height;
        var picData = caijiTools.filpYImage(data, _width, _height);
        var texture2d = new cc.Texture2D();
        //@ts-ignore
        texture2d.initWithData(picData, cc.Texture2D.RGBA8888, _width, _height);
        var spriteFrame = new cc.SpriteFrame();
        spriteFrame.setTexture(texture2d);
        showTexture.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        showTexture.setContentSize(cc.size(w, h));
        camera.targetTexture = null;
        /*         console.log("size==="+showTexture.getContentSize());
                console.log("pos==="+showTexture.position.toString()); */
    }
    caijiTools.cutPicture = cutPicture;
    /**
     * 截取指定高度的图
     * @param camera 渲染相机
     * @param showTexture 渲染至目标节点
     * @param startY y轴开始坐标（屏幕坐标）
     * @param cutHeight 截取高度
     */
    function cutPicture_height(camera, showTexture, startY, cutHeight) {
        var w = cc.winSize.width;
        var h = cc.winSize.height;
        var rendTexture = new cc.RenderTexture();
        //@ts-ignore
        var gl = cc.game._renderContext;
        //@ts-ignore
        rendTexture.initWithSize(w, h, gl.STENCIL_INDEX8);
        //camera.cullingMask = 0xffffffff;
        camera.targetTexture = rendTexture;
        //@ts-ignore
        camera.render();
        // 指定需要读取的区域的像素
        var pixels = new Uint8Array(w * h * 4);
        var x = 0;
        var y = startY; //（x,y）为开始截取的屏幕坐标点
        var Pixels_y = cutHeight; //截取高度
        var data = rendTexture.readPixels(pixels, x, y, w, Pixels_y); //readPixels();
        var _width = rendTexture.width;
        var picData = this.filpYImage(data, _width, Pixels_y);
        var texture2d = new cc.Texture2D();
        //@ts-ignore
        texture2d.initWithData(picData, cc.Texture2D.RGBA8888, _width, Pixels_y);
        var spriteFrame = new cc.SpriteFrame();
        spriteFrame.setTexture(texture2d);
        showTexture.getComponent(cc.Sprite).spriteFrame = spriteFrame;
        showTexture.setContentSize(cc.size(w, Pixels_y));
    }
    caijiTools.cutPicture_height = cutPicture_height;
    function filpYImage(data, width, height) {
        // create the data array
        var picData = new Uint8Array(width * height * 4);
        var rowBytes = width * 4;
        for (var row = 0; row < height; row++) {
            var srow = height - 1 - row;
            var start = srow * width * 4;
            var reStart = row * width * 4;
            // save the piexls data
            for (var i = 0; i < rowBytes; i++) {
                picData[reStart + i] = data[start + i];
            }
        }
        return picData;
    }
    caijiTools.filpYImage = filpYImage;
    /**
     * 将相机渲染到节点
     * @param sprite 目标精灵组件
     * @param camera 渲染相机
     */
    function setCameraTexture(sprite, camera) {
        var texture = new cc.RenderTexture();
        texture.initWithSize(sprite.node.width, sprite.node.height);
        var spriteFrame = new cc.SpriteFrame();
        spriteFrame.setTexture(texture);
        camera.targetTexture = texture;
        sprite.spriteFrame = spriteFrame;
    }
    caijiTools.setCameraTexture = setCameraTexture;
    function playSkeletonAnimation(skeleton, animationName, timeScale, isLoop) {
        if (isLoop === void 0) { isLoop = false; }
        if (animationName == skeleton.animation) {
            return;
        }
        skeleton.setAnimation(0, animationName, isLoop);
        skeleton.timeScale = timeScale;
    }
    caijiTools.playSkeletonAnimation = playSkeletonAnimation;
    /**
     * graphics画线
     * @param wordlPos 世界坐标点集
     * @param graphics graphics组件
     */
    function drawGraphics(wordlPos, graphics) {
        for (var i = 0; i < wordlPos.length; i++) {
            var nodePos = graphics.node.convertToNodeSpaceAR(wordlPos[i]);
            if (i == 0) {
                graphics.moveTo(nodePos.x, nodePos.y);
            }
            else {
                graphics.lineTo(nodePos.x, nodePos.y);
            }
            graphics.stroke();
        }
    }
    caijiTools.drawGraphics = drawGraphics;
    /**
     * 依次加载指定的游戏子包(子节跳动)
     * @param name 子包别名集合
    */
    function loadSubPackge(name) {
        var loadFunc = function (name) {
            return new Promise(function (resolve, reject) {
                //@ts-ignore
                tt.loadSubpackage({
                    name: name,
                    success: function (res) {
                        cc.assetManager.loadBundle(name, function (err, bundle) {
                            if (err) {
                                reject(err);
                                return;
                            }
                            resolve(name + "加载完成");
                        });
                    },
                    fail: function (res) {
                        reject(res);
                    }
                });
            });
        };
        var promises = [];
        name.forEach(function (root) {
            promises.push(loadFunc(root));
        });
        return Promise.all(promises);
    }
    caijiTools.loadSubPackge = loadSubPackge;
    /**
    * 动态绑定Button点击事件
    * @param node         脚本所在节点
    * @param script_name  脚本文件名
    * @param method       指向脚本文件中的方法
    * @param btnNode      button组件所在节点
    * @param data         传递的参数
    */
    function BindButtonClickListener(node, script_name, method, btnNode, data) {
        if (data === void 0) { data = ""; }
        var clickEventHandler = new cc.Component.EventHandler();
        clickEventHandler.target = node;
        clickEventHandler.component = script_name;
        clickEventHandler.handler = method;
        if (data != "") {
            clickEventHandler.customEventData = data;
        }
        var button = btnNode.getComponent(cc.Button);
        button.clickEvents.push(clickEventHandler);
    }
    caijiTools.BindButtonClickListener = BindButtonClickListener;
    function openPhysicsSystem(isShowDebugPhy, isShowDebugCollider) {
        if (isShowDebugPhy === void 0) { isShowDebugPhy = 1; }
        if (isShowDebugCollider === void 0) { isShowDebugCollider = false; }
        var physicsManager = cc.director.getPhysicsManager();
        var colliderManager = cc.director.getCollisionManager();
        physicsManager.enabled = true;
        colliderManager.enabled = true;
        colliderManager.enabledDebugDraw = isShowDebugCollider == false ? false : true;
        physicsManager.debugDrawFlags = isShowDebugPhy == 1 ? 1 : 0;
    }
    caijiTools.openPhysicsSystem = openPhysicsSystem;
    /**
     * 随机整数
     * @param min 最小值
     * @param max 最大值
     * @returns
     */
    function random_int(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    caijiTools.random_int = random_int;
})(caijiTools = exports.caijiTools || (exports.caijiTools = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcY2FpamlUb29scy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQ0FBMkM7QUFDM0MsNkNBQXdDO0FBQ3hDLG9EQUErQztBQUMvQyxtQ0FBa0M7QUFDbEMsQ0FBQztJQUNHLElBQUksS0FBSyxHQUFHLGNBQVcsQ0FBQyxDQUFDO0lBQ3pCLEtBQUssQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUM7SUFDdEMsT0FBTztJQUNQLEtBQUssQ0FBQyxTQUFTLENBQUMsYUFBYSxHQUFHLFVBQVUsS0FBSztRQUMzQyxJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDLGtCQUFrQixFQUFFO1lBQzlDLElBQUksTUFBTSxHQUFTLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFDaEMsSUFBRyxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsZUFBZSxJQUFFLFVBQVUsRUFBQztnQkFDekUsc0JBQVksQ0FBQyxTQUFTLENBQUMsd0JBQVMsQ0FBQyxNQUFNLEVBQUMsS0FBSyxFQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3REO1lBQ0QsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUNmLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUM5RCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7YUFDakM7WUFDRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztZQUNyQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDcEIsS0FBSyxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQzNC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LFFBb2lCMUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdWRpb05hbWUgfSBmcm9tIFwiLi9hdWRpb05hbWVNZ3JcIjtcbmltcG9ydCBkb250RGVzdHJveSBmcm9tIFwiLi9kb250RGVzdHJveVwiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IHsgZGF0YSB9IGZyb20gXCIuL3Nkay9kYXRhXCI7XG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgU3VwZXIgPSBmdW5jdGlvbigpe307XG4gICAgU3VwZXIucHJvdG90eXBlID0gY2MuQnV0dG9uLnByb3RvdHlwZTtcbiAgICAvL+WunuS+i+WMluWOn+Wei1xuICAgIFN1cGVyLnByb3RvdHlwZS5fb25Ub3VjaEJlZ2FuID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0YWJsZSAmJiB0aGlzLmVuYWJsZWRJbkhpZXJhcmNoeSkge1xuICAgICAgICAgICAgbGV0IHRhcmdldDpjYy5Ob2RlPWV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIGlmKHRhcmdldC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5jbGlja0V2ZW50c1swXS5jdXN0b21FdmVudERhdGEhPVwib2Zmc291bmRcIil7XG4gICAgICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuYnV0dG9uLGZhbHNlLDAuNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fcHJlc3NlZCkge1xuICAgICAgICAgICAgICAgIGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIuZW1pdEV2ZW50cyh0aGlzLmNsaWNrRXZlbnRzLCBldmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmVtaXQoXCJjbGlja1wiLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUoKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG5leHBvcnQgbmFtZXNwYWNlIGNhaWppVG9vbHMge1xuICAgIC8qKlxuICAgICAqIOWKoOi9vemfs+mikei1hOa6kFxuICAgICAqIEBwYXJhbSBwYXRoIHJlc291cmNl5LiL6Lev5b6EXG4gICAgKi9cbiAgICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEF1ZGlvQ2xpcChwYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IGNhaWppVG9vbHMubG9hZFJlc291cmNlczxjYy5BdWRpb0NsaXA+KHBhdGgsIGNjLkF1ZGlvQ2xpcCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWKoOi9veWIhuWMheS4remfs+mikVxuICAgICAqIEBwYXJhbSBidW5kbGVOYW1lIOWIhuWMheWQjVxuICAgICAqIEBwYXJhbSBwYXRoIOWIhuWMheS4i+i3r+W+hFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQXVkaW9DbGlwQnVuZGxlKGJ1bmRsZU5hbWU6IHN0cmluZywgcGF0aDogc3RyaW5nKSB7XG4gICAgICAgIGxldCByZXMgPSBhd2FpdCBjYWlqaVRvb2xzLmxvYWRCdW5kbGVSZXM8Y2MuQXVkaW9DbGlwPihidW5kbGVOYW1lLCBwYXRoLCBjYy5BdWRpb0NsaXApO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFNrZWxldG9uKHBhdGg6IHN0cmluZykge1xuICAgICAgICBsZXQgcmVzID0gYXdhaXQgY2FpamlUb29scy5sb2FkUmVzb3VyY2VzPHNwLlNrZWxldG9uRGF0YT4ocGF0aCwgc3AuU2tlbGV0b25EYXRhKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICog5Yqg6L295Zu+54mH6LWE5rqQXG4gICAgICogQHBhcmFtIHBhdGggcmVzb3VyY2XkuIvot6/lvoRcbiAgICAgKi9cbiAgICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFNwcml0ZUZyYW1lKHBhdGg6IHN0cmluZykge1xuICAgICAgICBsZXQgcmVzID0gYXdhaXQgY2FpamlUb29scy5sb2FkUmVzb3VyY2VzPGNjLlNwcml0ZUZyYW1lPihwYXRoLCBjYy5TcHJpdGVGcmFtZSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWKoOi9veWIhuWMheS4reWbvueJh1xuICAgICAqIEBwYXJhbSBidW5kbGVOYW1lIOWIhuWMheWQjVxuICAgICAqIEBwYXJhbSBwYXRoIOWIhuWMheS4i+i3r+W+hFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkU3ByaXRlRnJhbWVCdW5kbGUoYnVuZGxlTmFtZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IGNhaWppVG9vbHMubG9hZEJ1bmRsZVJlczxjYy5TcHJpdGVGcmFtZT4oYnVuZGxlTmFtZSwgcGF0aCwgY2MuU3ByaXRlRnJhbWUpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDliqDovb10ZXh0dXJlMmTotYTmupBcbiAgICAgKiBAcGFyYW0gcGF0aCDov5znqIvpk77mjqVcbiAgICAgKi9cbiAgICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFVybFR4dHVyZShwYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IGNhaWppVG9vbHMubG9hZFVybFJlc291cmNlczxjYy5UZXh0dXJlMkQ+KHBhdGgsIGNjLlRleHR1cmUyRCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWKoOi9vemihOWItuS9k+i1hOa6kFxuICAgICAqIEBwYXJhbSBwYXRoIHJlc291cmNl5LiL6Lev5b6EXG4gICAgKi9cbiAgICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFByZWZhYihwYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IGNhaWppVG9vbHMubG9hZFJlc291cmNlczxjYy5QcmVmYWI+KHBhdGgsIGNjLlByZWZhYik7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiBsb2FkUmVzb3VyY2VzPFQ+KHBhdGg6IHN0cmluZywgdHlwZSk6IFByb21pc2U8VD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY2MucmVzb3VyY2VzLmxvYWQocGF0aCwgdHlwZSwgZnVuY3Rpb24gKGVyciwgcmVzOiB0eXBlb2YgdHlwZSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLliqDovb3otYTmupDlpLHotKXvvIFcIiArIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDliqDovb3liIbljIXotYTmupBcbiAgICAgKiBAcGFyYW0gYnVuZGxlTmFtZSDliIbljIXlkI1cbiAgICAgKiBAcGFyYW0gcGF0aCDliIbljIXkuIvot6/lvoRcbiAgICAgKiBAcGFyYW0gdHlwZSDmlofku7bnsbvlnotcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gbG9hZEJ1bmRsZVJlczxUPihidW5kbGVOYW1lOiBzdHJpbmcsIHBhdGg6IHN0cmluZywgdHlwZSk6IFByb21pc2U8VD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IGJ1bmRsZSA9IGNjLmFzc2V0TWFuYWdlci5nZXRCdW5kbGUoYnVuZGxlTmFtZSk7XG4gICAgICAgICAgICBpZiAoIWJ1bmRsZSkge1xuICAgICAgICAgICAgICAgIGNjLmxvZyhcImxvYWRCdW5kbGVSZXMgZmlyc3Q6XCIsYnVuZGxlTmFtZSlcbiAgICAgICAgICAgICAgICBjYy5hc3NldE1hbmFnZXIubG9hZEJ1bmRsZShidW5kbGVOYW1lLCAoZXJyLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidW5kbGUgPSBiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVuZGxlLmxvYWQocGF0aCwgdHlwZSwgKGVyciwgcmVzOiB0eXBlb2YgdHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5sb2coXCJsb2FkQnVuZGxlUmVzIGZpcnN0OlwiLGJ1bmRsZU5hbWUscGF0aCxcIiBmYWlsOlwiLGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgY2MubG9nKFwibG9hZEJ1bmRsZVJlcyBmaXJzdDpcIixidW5kbGVOYW1lLFwiIGZhaWw6XCIsZXJyKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1bmRsZS5sb2FkKHBhdGgsIHR5cGUsIChlcnIsIHJlczogdHlwZW9mIHR5cGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycil7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5sb2coXCJsb2FkQnVuZGxlUmVzOlwiLGJ1bmRsZU5hbWUscGF0aCxcIiBmYWlsOlwiLGVycilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWKoOi9veWIhuWMhVxuICAgICAqIEBwYXJhbSBidW5kbGVOYW1lIOWIhuWMheWQjVxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBsb2FkQnVuZGxlUGFja2FnZShidW5kbGVOYW1lOnN0cmluZyxjYWxsQmFjazpGdW5jdGlvbil7XG4gICAgICAgIGNjLmFzc2V0TWFuYWdlci5sb2FkQnVuZGxlKGJ1bmRsZU5hbWUsIChlcnIsIGJ1bmRsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBjYWxsQmFjayhidW5kbGVOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiBsb2FkVXJsUmVzb3VyY2VzPFQ+KHBhdGg6IHN0cmluZywgdHlwZSk6IFByb21pc2U8VD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY2MuYXNzZXRNYW5hZ2VyLmxvYWRSZW1vdGUocGF0aCwgdHlwZSwgZnVuY3Rpb24gKGVyciwgcmVzOiB0eXBlb2YgdHlwZSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLliqDovb11cmzotYTmupDlpLHotKXvvIFcIiArIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBleHBvcnQgZnVuY3Rpb24gYWRkQ29pbihhZGROdW06IG51bWJlciwgY29pbkxhYmVsOiBjYy5MYWJlbCA9IG51bGwsIGNvaW5Ob2RlOiBjYy5Ob2RlID0gbnVsbCkge1xuICAgICAgICBsZXQgbm93Q29pbiA9IE51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLCBcImNvaW5cIikpO1xuICAgICAgICBsZXQgb2JqID0geyBhOiBub3dDb2luIH07XG4gICAgICAgIG5vd0NvaW4gKz0gYWRkTnVtO1xuICAgICAgICBkYXRhLnVwZGF0ZUNhY2hlKFwiQmFzZVwiLCBcImNvaW5cIiwgbm93Q29pbik7XG4gICAgICAgIGNhaWppVG9vbHMuc2hvd0dldENvaW5UaXAoYWRkTnVtKTtcbiAgICAgICAgaWYgKGNvaW5MYWJlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb2luTGFiZWwudW5zY2hlZHVsZUFsbENhbGxiYWNrcygpO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBjYy50d2VlbihvYmopXG4gICAgICAgICAgICAgICAgLnRvKDEsIHsgYTogbm93Q29pbiB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIsIGN1cnJlbnQ6IGFueSwgdDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3N0YXJ0Oui1t+Wni+WAvCBlbmQ657uI54K55YC8IGN1cnJlbnQ65b2T5YmN5YC8IHQ65oC75pe25Y2g5q+UMH4xIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy/ov5Tlm57lgLzkuLrmnIDnu4jotYvlgLxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3cgPSBjYy5taXNjLmxlcnAoc3RhcnQsIGVuZCwgdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2luTGFiZWwuc3RyaW5nID0gbm93LnRvRml4ZWQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm93O1xuICAgICAgICAgICAgICAgICAgICB9LCBlYXNpbmc6IFwiY3ViaWNPdXRcIlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvaW5Ob2RlID09IG51bGwpIHJldHVybjtcbiAgICAgICAgY2MucmVzb3VyY2VzLmxvYWQoXCJwcmVmYWIvYWRkTGFibGVcIiwgY2MuUHJlZmFiLCBmdW5jdGlvbiAoZXJyLCBQcmVmYWI6IGNjLlByZWZhYikge1xuICAgICAgICAgICAgaWYgKGVyciAhPSBudWxsKXtcbiAgICAgICAgICAgICAgICBjYy5sb2coZXJyKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGFkZExhYmxlID0gY2MuaW5zdGFudGlhdGUoUHJlZmFiKTtcbiAgICAgICAgICAgIGFkZExhYmxlLnNldFBhcmVudChjb2luTm9kZSk7XG4gICAgICAgICAgICBhZGRMYWJsZS5zZXRQb3NpdGlvbihjYy52Mihjb2luTm9kZS53aWR0aCAvIDIsIC1jb2luTm9kZS5oZWlnaHQgLyAyKSk7XG4gICAgICAgICAgICBhZGRMYWJsZS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGFkZE51bSA+IDAgPyAoXCIrXCIgKyBhZGROdW0pIDogYWRkTnVtLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBhZGRMYWJsZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgY2MudHdlZW4oYWRkTGFibGUpXG4gICAgICAgICAgICAgICAgLnRvKDAuMSwgeyBzY2FsZTogMC44IH0pXG4gICAgICAgICAgICAgICAgLmJ5KDAuNSwgeyBwb3NpdGlvbjogY2MudjMoMCwgNzApLCBvcGFjaXR5OiAtMjU1IH0pXG4gICAgICAgICAgICAgICAgLmNhbGwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhZGRMYWJsZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc3RhcnQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaG93R2V0Q29pblRpcChhZGROdW06IG51bWJlcikge1xuICAgICAgICBsZXQgcHJlZmFiID0gYXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy91aS9nZXRDb2luVGlwXCIpO1xuICAgICAgICBpZiAoIXByZWZhYikgcmV0dXJuO1xuICAgICAgICBsZXQgbm9kZSA9IGNhaWppVG9vbHMuY3JlYXRlTm9kZShwcmVmYWIsIGNjLmZpbmQoXCJDYW52YXNcIikpO1xuICAgICAgICBub2RlLmdldENvbXBvbmVudChcImdldENvaW5UaXBcIikuYWRkTnVtID0gYWRkTnVtO1xuICAgICAgICBub2RlLnNldFBvc2l0aW9uKDAsIGNjLndpblNpemUuaGVpZ2h0IC8gMiAqIDAuMik7XG4gICAgICAgIG5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNob3dHZXRQb3dlclRpcChhZGROdW06IG51bWJlcikge1xuICAgICAgICBsZXQgcHJlZmFiID0gYXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy91aS9nZXRQb3dlclRpcFwiKTtcbiAgICAgICAgaWYgKCFwcmVmYWIpIHJldHVybjtcbiAgICAgICAgbGV0IG5vZGUgPSBjYWlqaVRvb2xzLmNyZWF0ZU5vZGUocHJlZmFiLCBjYy5maW5kKFwiQ2FudmFzXCIpKTtcbiAgICAgICAgbm9kZS5nZXRDb21wb25lbnQoXCJnZXRQb3dlclRpcFwiKS5hZGROdW0gPSBhZGROdW07XG4gICAgICAgIG5vZGUuc2V0UG9zaXRpb24oMCwgY2Mud2luU2l6ZS5oZWlnaHQgLyAyICogMC4yKTtcbiAgICAgICAgbm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgICBleHBvcnQgZnVuY3Rpb24gYWRkUG93ZXIoYWRkTnVtOiBudW1iZXIsIHBvd2VyTGFiZWw6IGNjLkxhYmVsID0gbnVsbCkge1xuICAgICAgICBsZXQgbm93UG93ZXIgPSBOdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIiwgXCJwb3dlclwiKSk7XG4gICAgICAgIGxldCBvYmogPSB7IGE6IG5vd1Bvd2VyIH07XG4gICAgICAgIG5vd1Bvd2VyICs9IGFkZE51bTtcbiAgICAgICAgZGF0YS51cGRhdGVDYWNoZShcIkJhc2VcIiwgXCJwb3dlclwiLCBub3dQb3dlcik7XG4gICAgICAgIGRvbnREZXN0cm95Lmluc3RhbmNlLmNoZWNrUG93ZXJJc0Z1bGwoKTtcbiAgICAgICAgY2FpamlUb29scy5zaG93R2V0UG93ZXJUaXAoYWRkTnVtKTtcbiAgICAgICAgaWYgKHBvd2VyTGFiZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgcG93ZXJMYWJlbC51bnNjaGVkdWxlQWxsQ2FsbGJhY2tzKCk7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGNjLnR3ZWVuKG9iailcbiAgICAgICAgICAgICAgICAudG8oMC41LCB7IGE6IG5vd1Bvd2VyIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlciwgY3VycmVudDogYW55LCB0OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc3RhcnQ66LW35aeL5YC8IGVuZDrnu4jngrnlgLwgY3VycmVudDrlvZPliY3lgLwgdDrmgLvml7bljaDmr5QwfjEgXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+i/lOWbnuWAvOS4uuacgOe7iOi1i+WAvFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdyA9IGNjLm1pc2MubGVycChzdGFydCwgZW5kLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VyTGFiZWwuc3RyaW5nID0gbm93LnRvRml4ZWQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm93O1xuICAgICAgICAgICAgICAgICAgICB9LCBlYXNpbmc6IFwiY3ViaWNPdXRcIlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzQ29pbkVub3VnaChudW1iZXI6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gTnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJCYXNlXCIsIFwiY29pblwiKSkgPj0gbnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgZnVuY3Rpb24gaXNQb3dlckVub3VnaChudW1iZXI6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gTnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJCYXNlXCIsIFwicG93ZXJcIikpID49IG51bWJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5bGV56S66Kej6ZSB55qu6IKk5by556qXIFxuICAgICAqIEBwYXJhbSBza2luSW5kZXgg5LiL5qCH5LuOMOW8gOWni1xuICAgICAqIEBwYXJhbSB1aU5hbWUg6I635b6X55qu6IKk5by556qXdWnlkI1cbiAgICAgKi9cbiAgICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvd1VubG9ja1NraW4oc2tpbkluZGV4OiBudW1iZXIsIHVpTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGRhdGEudXBkYXRlQ2FjaGUoXCJCYXNlXCIsIFwiaW5Vc2luZ1NraW5cIiwgc2tpbkluZGV4KTtcbiAgICAgICAgZGF0YS51cGRhdGVDYWNoZShcInNraW5zXCIsIHNraW5JbmRleC50b1N0cmluZygpLCAxKTtcbiAgICAgICAgbGV0IHByZWZhYiA9IGF3YWl0IGNhaWppVG9vbHMubG9hZFByZWZhYihcInByZWZhYnMvdWkvXCIgKyB1aU5hbWUpO1xuICAgICAgICBsZXQgbmRvZSA9IGNhaWppVG9vbHMuY3JlYXRlTm9kZShwcmVmYWIsIGNjLmZpbmQoXCJDYW52YXNcIiksIHRydWUpO1xuICAgICAgICBuZG9lLmdldENvbXBvbmVudCh1aU5hbWUpLnNraW5JbmRleCA9IHNraW5JbmRleDtcbiAgICB9XG4gICAgLyoqXG4gICAgKiDlvLnnqpdcbiAgICAqIEBwYXJhbSB1aU5hbWUg5by556qXdWnlkI1cbiAgICAqL1xuICAgIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaG93UG9wdXAodWlOYW1lOiBzdHJpbmcsIHBhcmVudDogY2MuTm9kZSxpc1Nob3c9dHJ1ZSx6SW5kZXhNYXg6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBsZXQgcHJlZmFiID0gYXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy91aS9cIiArIHVpTmFtZSk7XG4gICAgICAgIGlmKHByZWZhYilcbiAgICAgICAgcmV0dXJuIGNhaWppVG9vbHMuY3JlYXRlTm9kZShwcmVmYWIsIHBhcmVudCwgaXNTaG93LHpJbmRleE1heCk7XG4gICAgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb2RlKHByZWZhYjogY2MuUHJlZmFiLCBwYXJlbnQ6IGNjLk5vZGUsaXNTaG93OmJvb2xlYW49dHJ1ZSx6SW5kZXhNYXg6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBsZXQgbmV3Tm9kZTogY2MuTm9kZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYik7XG4gICAgICAgIG5ld05vZGUuc2V0UGFyZW50KHBhcmVudCk7XG4gICAgICAgIG5ld05vZGUuc2V0UG9zaXRpb24oMCwgMCk7XG4gICAgICAgIGlmICh6SW5kZXhNYXgpIHtcbiAgICAgICAgICAgIG5ld05vZGUuekluZGV4ID0gY2MubWFjcm8uTUFYX1pJTkRFWDtcbiAgICAgICAgfVxuICAgICAgICBuZXdOb2RlLmFjdGl2ZSA9IGlzU2hvdztcbiAgICAgICAgcmV0dXJuIG5ld05vZGU7XG4gICAgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQb3dlclRpbWVyKHBvd2VyTGFiZWw6IGNjLkxhYmVsLCBwb3dlclRpbWVyTGFiZWw6IGNjLkxhYmVsLG1heFBvd2VyOm51bWJlcikge1xuICAgICAgICBsZXQgbm93UG93ZXIgPSBkYXRhLmdldENhY2hlPHN0cmluZz4oXCJCYXNlXCIsIFwicG93ZXJcIik7XG4gICAgICAgIHBvd2VyTGFiZWwuc3RyaW5nID0gbm93UG93ZXI7XG4gICAgICAgIGlmIChkb250RGVzdHJveS5pbnN0YW5jZS5pc1RpbWVyICYmIHBvd2VyVGltZXJMYWJlbC5ub2RlLmFjdGl2ZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgcG93ZXJUaW1lckxhYmVsLm5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChkb250RGVzdHJveS5pbnN0YW5jZS5pc1RpbWVyID09IGZhbHNlICYmIHBvd2VyVGltZXJMYWJlbC5ub2RlLmFjdGl2ZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICBwb3dlclRpbWVyTGFiZWwubm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZihOdW1iZXIobm93UG93ZXIpPj1tYXhQb3dlcikgcmV0dXJuO1xuICAgICAgICBpZiAoZG9udERlc3Ryb3kuaW5zdGFuY2Uuc2VjID49IDEwKSB7XG4gICAgICAgICAgICBwb3dlclRpbWVyTGFiZWwuc3RyaW5nID0gXCIwXCIgKyBkb250RGVzdHJveS5pbnN0YW5jZS5taW4gKyBcIjpcIiArIGRvbnREZXN0cm95Lmluc3RhbmNlLnNlYztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvd2VyVGltZXJMYWJlbC5zdHJpbmcgPSBcIjBcIiArIGRvbnREZXN0cm95Lmluc3RhbmNlLm1pbiArIFwiOlwiICsgXCIwXCIgKyBkb250RGVzdHJveS5pbnN0YW5jZS5zZWMgO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOaKluWKqOebuOaculxuICAgICAqIEBwYXJhbSBjYW1lcmFOb2RlIOebuOacuuiKgueCuVxuICAgICAqIEBwYXJhbSByZXBlYXQg6YeN5aSN5qyh5pWwXG4gICAgICogQHBhcmFtIG9mZnNldFggeOWBj+enu+mHj1xuICAgICAqIEBwYXJhbSBvZmZzZXRZIHnlgY/np7vph49cbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gc2NyZWVuU2hha2UoY2FtZXJhTm9kZTogY2MuTm9kZSwgcmVwZWF0OiBudW1iZXIgPSA2LCBvZmZzZXRYOiBudW1iZXIgPSA1LCBvZmZzZXRZOiBudW1iZXIgPSAxMCkge1xuICAgICAgICBsZXQgdGltZXM9MDtcbiAgICAgICAgbGV0IG5vd1g9b2Zmc2V0WDtcbiAgICAgICAgbGV0IG5vd1k9b2Zmc2V0WTtcbiAgICAgICAgbGV0IHR3ZWVuPShveCxveSk9PntcbiAgICAgICAgICAgIHRpbWVzKys7XG4gICAgICAgICAgICBjYy50d2VlbihjYW1lcmFOb2RlKVxuICAgICAgICAgICAgLmJ5KDAuMDMsIHsgeTpveSB9KVxuICAgICAgICAgICAgLmJ5KDAuMDMsIHsgeTotb3kgfSlcbiAgICAgICAgICAgIC5jYWxsKCgpPT57XG4gICAgICAgICAgICAgICAgaWYodGltZXM8cmVwZWF0KXtcbiAgICAgICAgICAgICAgICAgICAgbm93WD1ub3dYLW9mZnNldFgvcmVwZWF0O1xuICAgICAgICAgICAgICAgICAgICBub3dZPW5vd1ktb2Zmc2V0WS9yZXBlYXQ7XG4gICAgICAgICAgICAgICAgICAgIHR3ZWVuKG5vd1gsbm93WSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGFydCgpXG4gICAgICAgIH1cbiAgICAgICAgdHdlZW4obm93WCxub3dZKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5pS55Y+YYnVpbGTnm7jmnLrnmoR56L205Z2Q5qCH5L2/5YW25bu6562R5LiA55u05L+d5oyB5Zyo5pyA5bqV6YOoXG4gICAgICogQHBhcmFtIGNhbWVyYSDnm67moIfnm7jmnLpcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gY2hhbmdlQnVsaWRDYW1lcmFfcG9zWShjYW1lcmE6IGNjLkNhbWVyYSkge1xuICAgICAgICBsZXQgWSA9ICgxIC8gY2FtZXJhLnpvb21SYXRpbyAtIDEpICogY2Mud2luU2l6ZS5oZWlnaHQgLyAyO1xuICAgICAgICBjYW1lcmEubm9kZS55ID0gWTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDojrflj5bkuKTlkJHph4/nmoTlpLnop5JcbiAgICAgKiBAcGFyYW0gdmVjMSDlkJHph48xXG4gICAgICogQHBhcmFtIHZlYzIg5ZCR6YePMlxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRBbmdsZUJldHdlZW5Ud29WZWModmVjMTogY2MuVmVjMiwgdmVjMjogY2MuVmVjMikge1xuICAgICAgICByZXR1cm4gdmVjMS5ub3JtYWxpemUoKS5zaWduQW5nbGUodmVjMi5ub3JtYWxpemUoKSkgKiAxODAgLyBNYXRoLlBJO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDojrflj5bmlrnlkJHop5LluqbvvIjku6V56L205q2j5pa55ZCR5Li65Z+65YeG6aG65pe26ZKI5peL6L2sMTgwwrDkuLrmraPvvIzpgIbml7bpkogxODDCsOS4uui0n++8iVxuICAgICAqIEBwYXJhbSB4IFxuICAgICAqIEBwYXJhbSB5IFxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRBbmdsZURlcGVuZFkoeCwgeSkge1xuICAgICAgICBsZXQgcmFkID0gTWF0aC5hdGFuMih4LCB5KTsgLy8g5Y+N5q2j5YiH5Ye95pWw77yM5b6X5Yiw5byn5bqmXG4gICAgICAgIGxldCBhbmdsZSA9IDE4MCAqIHJhZCAvIE1hdGguUEk7ICAgIC8vIOWwhuW8p+W6pnJhZOi9rOaNouS4uuinkuW6plxuICAgICAgICByZXR1cm4gYW5nbGU7XG4gICAgfVxuICAgIC8vY2MubWlzYy5kZWdyZWVzVG9SYWRpYW5zKGRlZykgLy8g6KeS5bqm6L2s5byn5bqmXG4gICAgLy9jYy5taXNjLnJhZGlhbnNUb0RlZ3JlZXMocmFkKSAgLy8g5byn5bqm6L2s6KeS5bqmXG4gICAgLyoqXG4gICAgICog6I635Y+W6KeS5bqm5pa55ZCR5ZCR6YePXG4gICAgICogQHBhcmFtIGFuZ2xlIOinkuW6plxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXREaXJlY3Rpb24oYW5nbGUpIHtcbiAgICAgICAgbGV0IHggPSBNYXRoLnNpbigtYW5nbGUgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgbGV0IHkgPSBNYXRoLmNvcygtYW5nbGUgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgcmV0dXJuIGNjLnYyKHgsIHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDojrflj5botJ3loZ7lsJTmm7Lnur/ovajov7nngrlcbiAgICAgKiBAcGFyYW0gc3RhcnRQb3Mg6LW354K5XG4gICAgICogQHBhcmFtIGNvbnRyb2xQb3Mg5o6n5Yi254K5XG4gICAgICogQHBhcmFtIGVuZFBvcyDnu4jngrlcbiAgICAgKiBAcGFyYW0gcG9zQ291bnQgIOWPlueCueaVsOmHj1xuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRCZXppZXJQb3NpdGlvbnMoc3RhcnRQb3MsIGNvbnRyb2xQb3MsIGVuZFBvcywgcG9zQ291bnQpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBBcnJheSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtpXSA9IGNjLnYyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb3NDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdCA9IGkgLyBwb3NDb3VudDtcbiAgICAgICAgICAgIHJlc3VsdFtpXS54ID0gMSAqIE1hdGgucG93KDEgLSB0LCAyKSAqIE1hdGgucG93KHQsIDApICogc3RhcnRQb3MueFxuICAgICAgICAgICAgICAgICsgMiAqIE1hdGgucG93KDEgLSB0LCAxKSAqIE1hdGgucG93KHQsIDEpICogY29udHJvbFBvcy54XG4gICAgICAgICAgICAgICAgKyAxICogTWF0aC5wb3coMSAtIHQsIDApICogTWF0aC5wb3codCwgMikgKiBlbmRQb3MueDtcbiAgICAgICAgICAgIHJlc3VsdFtpXS55ID0gMSAqIE1hdGgucG93KDEgLSB0LCAyKSAqIE1hdGgucG93KHQsIDApICogc3RhcnRQb3MueVxuICAgICAgICAgICAgICAgICsgMiAqIE1hdGgucG93KDEgLSB0LCAxKSAqIE1hdGgucG93KHQsIDEpICogY29udHJvbFBvcy55XG4gICAgICAgICAgICAgICAgKyAxICogTWF0aC5wb3coMSAtIHQsIDApICogTWF0aC5wb3codCwgMikgKiBlbmRQb3MueTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAqIOaIquWxj1xuICAgICogQHBhcmFtIGNhbWVyYSDmuLLmn5PmkYTlg4/mnLpcbiAgICAqIEBwYXJhbSBzaG93VGV4dHVyZSDmuLLmn5PliLDnm67moIfoioLngrnvvIjluKZzcHJpdGXnu4Tku7bvvIlcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gY3V0UGljdHVyZShjYW1lcmE6IGNjLkNhbWVyYSwgc2hvd1RleHR1cmU6IGNjLk5vZGUsIHNpemU6IGNjLlNpemUgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHc6IG51bWJlciA9IHNpemUgIT0gbnVsbCA/IHNpemUud2lkdGggOiBjYy53aW5TaXplLndpZHRoO1xuICAgICAgICBjb25zdCBoOiBudW1iZXIgPSBzaXplICE9IG51bGwgPyBzaXplLmhlaWdodCA6IGNjLndpblNpemUuaGVpZ2h0O1xuXG4gICAgICAgIGxldCByZW5kVGV4dHVyZTogY2MuUmVuZGVyVGV4dHVyZSA9IG5ldyBjYy5SZW5kZXJUZXh0dXJlKCk7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBsZXQgZ2wgPSBjYy5nYW1lLl9yZW5kZXJDb250ZXh0O1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgcmVuZFRleHR1cmUuaW5pdFdpdGhTaXplKHcsIGgsIGdsLlNURU5DSUxfSU5ERVg4KTtcblxuICAgICAgICAvL2NhbWVyYS5jdWxsaW5nTWFzayA9IDB4ZmZmZmZmZmY7XG4gICAgICAgIGNhbWVyYS50YXJnZXRUZXh0dXJlID0gcmVuZFRleHR1cmU7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBjYW1lcmEucmVuZGVyKCk7XG5cbiAgICAgICAgLy8g5oyH5a6a6ZyA6KaB6K+75Y+W55qE5Yy65Z+f55qE5YOP57SgXG4gICAgICAgIGxldCBwaXhlbHMgPSBuZXcgVWludDhBcnJheSh3ICogaCAqIDQpO1xuICAgICAgICBsZXQgZGF0YSA9IHJlbmRUZXh0dXJlLnJlYWRQaXhlbHMocGl4ZWxzKTtcbiAgICAgICAgbGV0IF93aWR0aCA9IHJlbmRUZXh0dXJlLndpZHRoO1xuICAgICAgICBsZXQgX2hlaWdodCA9IHJlbmRUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgbGV0IHBpY0RhdGEgPSBjYWlqaVRvb2xzLmZpbHBZSW1hZ2UoZGF0YSwgX3dpZHRoLCBfaGVpZ2h0KTtcblxuICAgICAgICBsZXQgdGV4dHVyZTJkOiBjYy5UZXh0dXJlMkQgPSBuZXcgY2MuVGV4dHVyZTJEKCk7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0ZXh0dXJlMmQuaW5pdFdpdGhEYXRhKHBpY0RhdGEsIGNjLlRleHR1cmUyRC5SR0JBODg4OCwgX3dpZHRoLCBfaGVpZ2h0KTtcblxuICAgICAgICBsZXQgc3ByaXRlRnJhbWUgPSBuZXcgY2MuU3ByaXRlRnJhbWUoKTtcbiAgICAgICAgc3ByaXRlRnJhbWUuc2V0VGV4dHVyZSh0ZXh0dXJlMmQpO1xuXG4gICAgICAgIHNob3dUZXh0dXJlLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWU7XG4gICAgICAgIHNob3dUZXh0dXJlLnNldENvbnRlbnRTaXplKGNjLnNpemUodywgaCkpO1xuICAgICAgICBjYW1lcmEudGFyZ2V0VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIC8qICAgICAgICAgY29uc29sZS5sb2coXCJzaXplPT09XCIrc2hvd1RleHR1cmUuZ2V0Q29udGVudFNpemUoKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwb3M9PT1cIitzaG93VGV4dHVyZS5wb3NpdGlvbi50b1N0cmluZygpKTsgKi9cbiAgICB9XG4gICAgLyoqXG4gICAgICog5oiq5Y+W5oyH5a6a6auY5bqm55qE5Zu+XG4gICAgICogQHBhcmFtIGNhbWVyYSDmuLLmn5Pnm7jmnLpcbiAgICAgKiBAcGFyYW0gc2hvd1RleHR1cmUg5riy5p+T6Iez55uu5qCH6IqC54K5XG4gICAgICogQHBhcmFtIHN0YXJ0WSB56L205byA5aeL5Z2Q5qCH77yI5bGP5bmV5Z2Q5qCH77yJXG4gICAgICogQHBhcmFtIGN1dEhlaWdodCDmiKrlj5bpq5jluqZcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gY3V0UGljdHVyZV9oZWlnaHQoY2FtZXJhOiBjYy5DYW1lcmEsIHNob3dUZXh0dXJlOiBjYy5Ob2RlLCBzdGFydFk6IG51bWJlciwgY3V0SGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgdzogbnVtYmVyID0gY2Mud2luU2l6ZS53aWR0aDtcbiAgICAgICAgY29uc3QgaDogbnVtYmVyID0gY2Mud2luU2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgbGV0IHJlbmRUZXh0dXJlOiBjYy5SZW5kZXJUZXh0dXJlID0gbmV3IGNjLlJlbmRlclRleHR1cmUoKTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGxldCBnbCA9IGNjLmdhbWUuX3JlbmRlckNvbnRleHQ7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICByZW5kVGV4dHVyZS5pbml0V2l0aFNpemUodywgaCwgZ2wuU1RFTkNJTF9JTkRFWDgpO1xuXG4gICAgICAgIC8vY2FtZXJhLmN1bGxpbmdNYXNrID0gMHhmZmZmZmZmZjtcbiAgICAgICAgY2FtZXJhLnRhcmdldFRleHR1cmUgPSByZW5kVGV4dHVyZTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGNhbWVyYS5yZW5kZXIoKTtcblxuICAgICAgICAvLyDmjIflrprpnIDopoHor7vlj5bnmoTljLrln5/nmoTlg4/ntKBcbiAgICAgICAgbGV0IHBpeGVscyA9IG5ldyBVaW50OEFycmF5KHcgKiBoICogNCk7XG4gICAgICAgIGxldCB4ID0gMDtcbiAgICAgICAgbGV0IHkgPSBzdGFydFk7ICAgICAgIC8v77yIeCx577yJ5Li65byA5aeL5oiq5Y+W55qE5bGP5bmV5Z2Q5qCH54K5XG4gICAgICAgIGxldCBQaXhlbHNfeSA9IGN1dEhlaWdodDsgIC8v5oiq5Y+W6auY5bqmXG4gICAgICAgIGxldCBkYXRhID0gcmVuZFRleHR1cmUucmVhZFBpeGVscyhwaXhlbHMsIHgsIHksIHcsIFBpeGVsc195KTsvL3JlYWRQaXhlbHMoKTtcbiAgICAgICAgbGV0IF93aWR0aCA9IHJlbmRUZXh0dXJlLndpZHRoO1xuICAgICAgICBsZXQgcGljRGF0YSA9IHRoaXMuZmlscFlJbWFnZShkYXRhLCBfd2lkdGgsIFBpeGVsc195KTtcblxuICAgICAgICBsZXQgdGV4dHVyZTJkOiBjYy5UZXh0dXJlMkQgPSBuZXcgY2MuVGV4dHVyZTJEKCk7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0ZXh0dXJlMmQuaW5pdFdpdGhEYXRhKHBpY0RhdGEsIGNjLlRleHR1cmUyRC5SR0JBODg4OCwgX3dpZHRoLCBQaXhlbHNfeSk7XG5cbiAgICAgICAgbGV0IHNwcml0ZUZyYW1lID0gbmV3IGNjLlNwcml0ZUZyYW1lKCk7XG4gICAgICAgIHNwcml0ZUZyYW1lLnNldFRleHR1cmUodGV4dHVyZTJkKTtcblxuICAgICAgICBzaG93VGV4dHVyZS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHNwcml0ZUZyYW1lO1xuICAgICAgICBzaG93VGV4dHVyZS5zZXRDb250ZW50U2l6ZShjYy5zaXplKHcsIFBpeGVsc195KSk7XG4gICAgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiBmaWxwWUltYWdlKGRhdGEsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBkYXRhIGFycmF5XG4gICAgICAgIGxldCBwaWNEYXRhID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICAgICAgbGV0IHJvd0J5dGVzID0gd2lkdGggKiA0O1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBoZWlnaHQ7IHJvdysrKSB7XG4gICAgICAgICAgICBsZXQgc3JvdyA9IGhlaWdodCAtIDEgLSByb3c7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBzcm93ICogd2lkdGggKiA0O1xuICAgICAgICAgICAgbGV0IHJlU3RhcnQgPSByb3cgKiB3aWR0aCAqIDQ7XG4gICAgICAgICAgICAvLyBzYXZlIHRoZSBwaWV4bHMgZGF0YVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dCeXRlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGljRGF0YVtyZVN0YXJ0ICsgaV0gPSBkYXRhW3N0YXJ0ICsgaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpY0RhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWwhuebuOacuua4suafk+WIsOiKgueCuVxuICAgICAqIEBwYXJhbSBzcHJpdGUg55uu5qCH57K+54G157uE5Lu2XG4gICAgICogQHBhcmFtIGNhbWVyYSDmuLLmn5Pnm7jmnLpcbiAgICAgKi9cbiAgICAgZXhwb3J0IGZ1bmN0aW9uIHNldENhbWVyYVRleHR1cmUoc3ByaXRlOiBjYy5TcHJpdGUsIGNhbWVyYTogY2MuQ2FtZXJhKSB7XG4gICAgICAgIGxldCB0ZXh0dXJlID0gbmV3IGNjLlJlbmRlclRleHR1cmUoKTtcbiAgICAgICAgdGV4dHVyZS5pbml0V2l0aFNpemUoc3ByaXRlLm5vZGUud2lkdGgsIHNwcml0ZS5ub2RlLmhlaWdodCk7XG4gICAgICAgIGxldCBzcHJpdGVGcmFtZSA9IG5ldyBjYy5TcHJpdGVGcmFtZSgpO1xuICAgICAgICBzcHJpdGVGcmFtZS5zZXRUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICBjYW1lcmEudGFyZ2V0VGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHNwcml0ZS5zcHJpdGVGcmFtZSA9IHNwcml0ZUZyYW1lO1xuICAgIH1cbiAgICBleHBvcnQgZnVuY3Rpb24gcGxheVNrZWxldG9uQW5pbWF0aW9uKHNrZWxldG9uOiBzcC5Ta2VsZXRvbiwgYW5pbWF0aW9uTmFtZTogc3RyaW5nLCB0aW1lU2NhbGUsIGlzTG9vcDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25OYW1lID09IHNrZWxldG9uLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNrZWxldG9uLnNldEFuaW1hdGlvbigwLCBhbmltYXRpb25OYW1lLCBpc0xvb3ApO1xuICAgICAgICBza2VsZXRvbi50aW1lU2NhbGUgPSB0aW1lU2NhbGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdyYXBoaWNz55S757q/XG4gICAgICogQHBhcmFtIHdvcmRsUG9zIOS4lueVjOWdkOagh+eCuembhlxuICAgICAqIEBwYXJhbSBncmFwaGljcyBncmFwaGljc+e7hOS7tlxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBkcmF3R3JhcGhpY3Mod29yZGxQb3M6IGNjLlZlYzJbXSwgZ3JhcGhpY3M6IGNjLkdyYXBoaWNzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZGxQb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBub2RlUG9zID0gZ3JhcGhpY3Mubm9kZS5jb252ZXJ0VG9Ob2RlU3BhY2VBUih3b3JkbFBvc1tpXSk7XG4gICAgICAgICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgZ3JhcGhpY3MubW92ZVRvKG5vZGVQb3MueCwgbm9kZVBvcy55KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ3JhcGhpY3MubGluZVRvKG5vZGVQb3MueCwgbm9kZVBvcy55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyYXBoaWNzLnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOS+neasoeWKoOi9veaMh+WumueahOa4uOaIj+WtkOWMhSjlrZDoioLot7PliqgpXG4gICAgICogQHBhcmFtIG5hbWUg5a2Q5YyF5Yir5ZCN6ZuG5ZCIXG4gICAgKi9cbiAgICAgZXhwb3J0IGZ1bmN0aW9uIGxvYWRTdWJQYWNrZ2UobmFtZTogc3RyaW5nW10pIHtcbiAgICAgICAgbGV0IGxvYWRGdW5jOiBGdW5jdGlvbiA9IGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdHQubG9hZFN1YnBhY2thZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLCAvLyBuYW1lIOWPr+S7peWhqyBuYW1lIOaIluiAhSByb290XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLmFzc2V0TWFuYWdlci5sb2FkQnVuZGxlKG5hbWUsIChlcnIsIGJ1bmRsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShuYW1lICsgXCLliqDovb3lrozmiJBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmYWlsOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByb21pc2VzOiBQcm9taXNlPHN0cmluZz5bXSA9IFtdO1xuICAgICAgICBuYW1lLmZvckVhY2gocm9vdCA9PiB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGxvYWRGdW5jKHJvb3QpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICog5Yqo5oCB57uR5a6aQnV0dG9u54K55Ye75LqL5Lu2XG4gICAgKiBAcGFyYW0gbm9kZSAgICAgICAgIOiEmuacrOaJgOWcqOiKgueCuVxuICAgICogQHBhcmFtIHNjcmlwdF9uYW1lICDohJrmnKzmlofku7blkI1cbiAgICAqIEBwYXJhbSBtZXRob2QgICAgICAg5oyH5ZCR6ISa5pys5paH5Lu25Lit55qE5pa55rOVIFxuICAgICogQHBhcmFtIGJ0bk5vZGUgICAgICBidXR0b27nu4Tku7bmiYDlnKjoioLngrlcbiAgICAqIEBwYXJhbSBkYXRhICAgICAgICAg5Lyg6YCS55qE5Y+C5pWwIFxuICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIEJpbmRCdXR0b25DbGlja0xpc3RlbmVyKG5vZGU6IGNjLk5vZGUsIHNjcmlwdF9uYW1lOiBzdHJpbmcsIG1ldGhvZDogc3RyaW5nLCBidG5Ob2RlOiBjYy5Ob2RlLCBkYXRhOiBzdHJpbmcgPSBcIlwiKTogdm9pZCB7XG4gICAgICAgIHZhciBjbGlja0V2ZW50SGFuZGxlcjogY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlciA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKCk7XG4gICAgICAgIGNsaWNrRXZlbnRIYW5kbGVyLnRhcmdldCA9IG5vZGU7XG4gICAgICAgIGNsaWNrRXZlbnRIYW5kbGVyLmNvbXBvbmVudCA9IHNjcmlwdF9uYW1lO1xuICAgICAgICBjbGlja0V2ZW50SGFuZGxlci5oYW5kbGVyID0gbWV0aG9kO1xuICAgICAgICBpZiAoZGF0YSAhPSBcIlwiKSB7XG4gICAgICAgICAgICBjbGlja0V2ZW50SGFuZGxlci5jdXN0b21FdmVudERhdGEgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidXR0b246IGNjLkJ1dHRvbiA9IGJ0bk5vZGUuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbik7XG4gICAgICAgIGJ1dHRvbi5jbGlja0V2ZW50cy5wdXNoKGNsaWNrRXZlbnRIYW5kbGVyKTtcbiAgICB9XG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9wZW5QaHlzaWNzU3lzdGVtKGlzU2hvd0RlYnVnUGh5Ok51bWJlcj0xLGlzU2hvd0RlYnVnQ29sbGlkZXI6Ym9vbGVhbj1mYWxzZSl7XG4gICAgICAgIGxldCBwaHlzaWNzTWFuYWdlcj1jYy5kaXJlY3Rvci5nZXRQaHlzaWNzTWFuYWdlcigpO1xuICAgICAgICBsZXQgY29sbGlkZXJNYW5hZ2VyPWNjLmRpcmVjdG9yLmdldENvbGxpc2lvbk1hbmFnZXIoKTtcbiAgICAgICAgcGh5c2ljc01hbmFnZXIuZW5hYmxlZD10cnVlO1xuICAgICAgICBjb2xsaWRlck1hbmFnZXIuZW5hYmxlZD10cnVlO1xuICAgICAgICBjb2xsaWRlck1hbmFnZXIuZW5hYmxlZERlYnVnRHJhdz1pc1Nob3dEZWJ1Z0NvbGxpZGVyPT1mYWxzZT9mYWxzZTp0cnVlO1xuICAgICAgICBwaHlzaWNzTWFuYWdlci5kZWJ1Z0RyYXdGbGFncz1pc1Nob3dEZWJ1Z1BoeT09MT8xOjA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOmaj+acuuaVtOaVsFxuICAgICAqIEBwYXJhbSBtaW4g5pyA5bCP5YC8XG4gICAgICogQHBhcmFtIG1heCDmnIDlpKflgLxcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gcmFuZG9tX2ludChtaW4sIG1heCk6IG51bWJlciB7ICBcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/E39controller.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '07446vuLudCTZ1bGrDVe7v7', 'E39controller');
// scripts/game/E39controller.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var E39Laser_1 = require("./E39Laser");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var bossHp_1 = require("./ui/bossHp");
var uiManager_1 = require("./ui/uiManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["laser"] = 0] = "laser";
    damageCollider[damageCollider["forward"] = 1] = "forward";
    damageCollider[damageCollider["scratch"] = 2] = "scratch";
})(damageCollider || (damageCollider = {}));
var E39controller = /** @class */ (function (_super) {
    __extends(E39controller, _super);
    function E39controller() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.dieEffectName = "";
        _this.rushSpeed = 700; //冲击速度
        _this.moveSpeed = 140; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 0.5; //ai间隔
        _this.stopDistance = 230; //停止距离
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 25000; //手里剑攻击作用力
        _this.beHitForce_x = 25000; //普通攻击作用力
        _this.beHitForce_y_shuriken = 50000; //普通攻击作用力
        _this.beHitForce_x_attack3 = 350000; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.allowMoveTime = 2; //允许move状态最长时间
        _this.allowAttackTime = 2; //允许连续attack次数
        _this.attackTimes = 0; //attack连续次数
        _this.skill1_x = 0; //泰山压顶落地坐标（升空时玩家位置）
        _this.isStartRush = false; //开始冲撞
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isMove = false; //是否处于移动状态
        _this.isWuDi = true; //无敌状态
        _this.dmgCollider = null;
        _this.isHighLight = false;
        _this.highLight_A = {
            a: 0.5
        };
        _this.nomalAttackMax = 5; //普通攻击连续最大次数
        _this.normalAttackTimes = 0; //普通攻击次数（达一定次数后升空放小蜘蛛）
        _this.lastAttackState = null;
        _this.spiderlingPrefab = null;
        return _this;
    }
    E39controller.prototype.onLoad = function () {
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    E39controller.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
    };
    E39controller.prototype.init = function () {
        var _this = this;
        uiManager_1.default.ins.showBossHp(bossHp_1.bossName.enemy39);
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        //this.idle();
        this.scheduleOnce(function () {
            _this.FX_landing();
        }, 2.4);
    };
    E39controller.prototype.update = function () {
        this.highLightAction();
        if (this.isMove == false)
            return;
        var distance = this.getDistanceX();
        if (Math.abs(distance) < this.stopDistance) {
            this.attack();
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.attack)
                return;
            this.moveToPlayer();
        }
    };
    E39controller.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "wall") {
        }
    };
    E39controller.prototype.showDamageCollider = function (collider) {
        if (collider != damageCollider.laser) {
            this.skeleton.node.children[collider].getComponent(enemyHitCollider_1.default).enemyControl = this;
        }
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    E39controller.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    E39controller.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    E39controller.prototype.AI_start = function () {
        var _this = this;
        this.stopDistance = caijiTools_1.caijiTools.random_int(150, 400);
        if (this.isDie)
            return;
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.changeMovState(false);
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            if ([animationState_1.enemyState.Idle, animationState_1.enemyState.Idle2, animationState_1.enemyState.Idle3].includes(this.enemyAnimation.state))
                return;
            this.enemyAnimation.changeState(animationState_1.enemyState.Idle, 1, true, true);
            return;
        }
        var distance = Math.abs(this.getDistanceX());
        if (distance < this.stopDistance) {
            this.attack();
        }
        else {
            this.changeDirection();
            this.enemyAnimation.changeState(animationState_1.enemyState.Move, 1, true, true, true);
            this.changeMovState(true);
            this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.moveSpeed : this.moveSpeed;
        }
    };
    E39controller.prototype.AI_stop = function () {
        this.idle();
    };
    E39controller.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    E39controller.prototype.idle = function () {
        this.changeMovState(false);
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        var random = caijiTools_1.caijiTools.random_int(1, 3);
        switch (random) {
            case 1:
                this.enemyAnimation.changeState(animationState_1.enemyState.Idle, 1, true, true);
                break;
            case 2:
                this.enemyAnimation.changeState(animationState_1.enemyState.Idle2, 1, true, true);
                break;
            case 3:
                this.enemyAnimation.changeState(animationState_1.enemyState.Idle3, 1, true, true);
                break;
        }
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E39Above2);
    };
    E39controller.prototype.attack = function () {
        this.changeDirection();
        this.setRigibodySpeed(0, 0);
        this.changeMovState(false);
        this.setLinearDamping(0);
        if (this.normalAttackTimes == this.nomalAttackMax) {
            this.initAttackTimes();
            this.above1();
        }
        else {
            this.normalAttackTimes++;
            var distnace = this.getDistanceX();
            var attackState = [
                animationState_1.enemyState.Jump_FWD,
                animationState_1.enemyState.Jump_Back,
                animationState_1.enemyState.Scratch
            ];
            if (this.lastAttackState != null) {
                attackState.splice(attackState.indexOf(this.lastAttackState), 1);
            }
            var random = caijiTools_1.caijiTools.random_int(0, attackState.length - 1);
            var state = attackState[random];
            if (distnace > 300) {
                //跃击
                state = animationState_1.enemyState.Jump_FWD;
            }
            switch (state) {
                case animationState_1.enemyState.Jump_FWD:
                    this.Jump_FWD();
                    break;
                case animationState_1.enemyState.Jump_Back:
                    this.Jump_Back();
                    break;
                case animationState_1.enemyState.Scratch:
                    this.Scratch();
                    break;
            }
            this.lastAttackState = state;
        }
    };
    E39controller.prototype.initAttackTimes = function () {
        this.normalAttackTimes = 0;
        this.nomalAttackMax = caijiTools_1.caijiTools.random_int(4, 6);
    };
    //攻击结束
    E39controller.prototype.attackComplete = function () {
        var random = caijiTools_1.caijiTools.random_int(1, 100);
        if (random < 30) {
            this.idle();
        }
        else {
            this.AI_start();
        }
    };
    E39controller.prototype.bornComplete = function () {
        this.closeWuDi();
        this.AI_start();
    };
    //开始生成小蜘蛛
    E39controller.prototype.above1Complete = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E39Above2);
        this.schedule(this.createSpiderling, 0.5, 6);
        this.scheduleOnce(function () {
            _this.above2();
        }, 4);
    };
    E39controller.prototype.createSpiderling = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, spiderling, x;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!(this.spiderlingPrefab == null)) return [3 /*break*/, 2];
                        _a = this;
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/enemys/spiderling")];
                    case 1:
                        _a.spiderlingPrefab = _b.sent();
                        _b.label = 2;
                    case 2:
                        spiderling = caijiTools_1.caijiTools.createNode(this.spiderlingPrefab, this.node.parent);
                        x = GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(-cc.winSize.width * 0.6, cc.winSize.width * 0.6);
                        spiderling.setPosition(x, -182);
                        spiderling.setSiblingIndex(this.node.getSiblingIndex());
                        spiderling.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    //着落完成
    E39controller.prototype.above2Complete = function () {
        this.closeWuDi();
        this.AI_start();
    };
    E39controller.prototype.idleComplete = function () {
        if (GameManager_1.default.instance.playerController.isDie)
            return;
        this.AI_start();
    };
    E39controller.prototype.changeDirection = function () {
        if (GameManager_1.default.instance.player == null)
            return;
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x - this.node.x > 0 ? -this.scaleX_skeleton : this.scaleX_skeleton;
        //this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    E39controller.prototype.die = function () {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E39_death);
        this.isDie = true;
        this.setRigibodySpeed(0, 0);
        this.changeMovState(false);
        this.unscheduleAllCallbacks();
        this.enemyAnimation.changeState(animationState_1.enemyState.Die, 1, false, true);
        this.dieCount();
    };
    E39controller.prototype.move = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.Move, 1, true, true);
    };
    E39controller.prototype.moveToPlayer = function () {
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    E39controller.prototype.openWuDi = function () {
        this.isWuDi = true;
    };
    E39controller.prototype.closeWuDi = function () {
        this.isWuDi = false;
    };
    //升空
    E39controller.prototype.above1 = function () {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E39Above1);
        this.openWuDi();
        this.enemyAnimation.changeState(animationState_1.enemyState.Above1, 1, false, true);
    };
    //降落
    E39controller.prototype.above2 = function () {
        var _this = this;
        this.node.x = GameManager_1.default.instance.player.x;
        this.enemyAnimation.changeState(animationState_1.enemyState.Above2, 1, false, true);
        this.scheduleOnce(function () {
            _this.FX_landing();
        }, 2.4);
    };
    //后跳激光攻击
    E39controller.prototype.Jump_Back = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E39Jump);
        this.enemyAnimation.changeState(animationState_1.enemyState.Jump_Back, 1, false);
        this.scheduleOnce(function () {
            var offsetX = _this.skeleton.node.scaleX > 0 ? 150 : -150;
            cc.tween(_this.node)
                .by(0.3, { x: offsetX })
                .call(function () {
                _this.scheduleOnce(function () {
                    if (_this.enemyAnimation.state != animationState_1.enemyState.Jump_Back)
                        return;
                    audioManager_1.default.playAudio(audioNameMgr_1.audioName.E39Laser);
                    _this.showDamageCollider(damageCollider.laser);
                }, 0.5);
            })
                .start();
        }, 0.5);
    };
    //前跃攻击
    E39controller.prototype.Jump_FWD = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E39Jump);
        this.enemyAnimation.changeState(animationState_1.enemyState.Jump_FWD, 1, false);
        this.showDamageCollider(damageCollider.forward);
        this.scheduleOnce(function () {
            var offsetX = _this.skeleton.node.scaleX > 0 ? -150 : 150;
            cc.tween(_this.node)
                .by(0.3, { x: offsetX })
                .call(function () {
                _this.scheduleOnce(function () {
                    if (_this.enemyAnimation.state != animationState_1.enemyState.Jump_FWD)
                        return;
                    audioManager_1.default.playAudio(audioNameMgr_1.audioName.E39Attack);
                    _this.hit(_this.damage);
                }, 0.25);
            })
                .start();
        }, 0.5);
    };
    //腿击
    E39controller.prototype.Scratch = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E39Scratch);
        this.enemyAnimation.changeState(animationState_1.enemyState.Scratch, 1, false);
        this.showDamageCollider(damageCollider.scratch);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.Scratch)
                return;
            _this.hit(_this.damage);
        }, 0.6);
    };
    //虚弱
    E39controller.prototype.Staggered = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.Staggered, 1, false);
    };
    //虚弱结束
    E39controller.prototype.StaggeredReset = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.StaggeredReset, 1, false);
    };
    E39controller.prototype.FX_landing = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        audioManager_1.default.playAudio(audioNameMgr_1.audioName.Spell_Earth_02);
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/landingFX_enemy39")];
                    case 1:
                        prefab = _a.sent();
                        fx = caijiTools_1.caijiTools.createNode(prefab, this.node.parent);
                        fx.setSiblingIndex(this.node.getSiblingIndex() + 1);
                        fx.setPosition(this.node.x, this.node.y);
                        fx.active = true;
                        this.scheduleOnce(function () {
                            fx.destroy();
                        }, 2);
                        Events_1.default.instance.screenShake();
                        return [2 /*return*/];
                }
            });
        });
    };
    //脚步
    E39controller.prototype.footStep = function (e, event) {
        //if(event.time>0)
        //audioManager.playAudio(audioName.E39Step,false,0.6);
    };
    E39controller.prototype.beHit = function (damage, dmgType) {
        if (this.isDie || this.isWuDi)
            return;
        // let isContinue = this.checkIsSwordRain(dmgType);//设置剑雨攻击间隔
        // if (isContinue == 0) return;
        this.changeState_beHit(dmgType);
        var x = this.skeleton.node.scaleX > 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        this.highLight();
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        this.updateHp(damage);
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
    };
    E39controller.prototype.hit = function (damage) {
        if (this.dmgCollider != damageCollider.laser) {
            this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(this.node, damage);
        }
    };
    E39controller.prototype.laserHit = function () {
        if (this.dmgCollider != damageCollider.laser)
            return;
        this.getDamageCollider().getComponent(E39Laser_1.default).laserCollider.getComponent(enemyHitCollider_1.default).hit(this.node, this.damage);
        this.hideDamageCollider();
    };
    E39controller.prototype.updateHp = function (damage) {
        this.hp -= damage;
        uiManager_1.default.ins.bossHp.addHp(-damage);
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    E39controller.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    E39controller.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.get_hurt2;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.knock_down;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.get_hurt1;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    E39controller.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    E39controller.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    E39controller.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    E39controller.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    E39controller.prototype.highLightAction = function () {
        if (this.isHighLight) {
            this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, this.highLight_A.a]);
        }
    };
    E39controller.prototype.highLight = function () {
        var _this = this;
        if (this.isHighLight)
            return;
        this.isHighLight = true;
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        cc.tween(this.highLight_A)
            .to(0.1, { a: 0 })
            .call(function () {
            _this.closeHighLight();
        })
            .start();
    };
    E39controller.prototype.closeHighLight = function () {
        this.isHighLight = false;
        this.highLight_A.a = 0.5;
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    E39controller.prototype.getDistanceX = function () {
        return Math.abs(this.node.x - GameManager_1.default.instance.player.x);
    };
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], E39controller.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], E39controller.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.String)
    ], E39controller.prototype, "dieEffectName", void 0);
    E39controller = __decorate([
        ccclass
    ], E39controller);
    return E39controller;
}(enemyBase_1.default));
exports.default = E39controller;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRTM5Y29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnREFBNEM7QUFDNUMsNENBQTJDO0FBQzNDLHFEQUFnRDtBQUNoRCxtREFBcUU7QUFDckUsdUNBQWtDO0FBQ2xDLG1EQUE4QztBQUM5Qyx5Q0FBb0M7QUFDcEMsdURBQWtEO0FBQ2xELG1DQUE4QjtBQUM5Qiw2Q0FBd0M7QUFDeEMsc0NBQXVDO0FBQ3ZDLDRDQUF1QztBQUVqQyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUM1QyxJQUFLLGNBSUo7QUFKRCxXQUFLLGNBQWM7SUFDZixxREFBSyxDQUFBO0lBQ0wseURBQU8sQ0FBQTtJQUNQLHlEQUFPLENBQUE7QUFDWCxDQUFDLEVBSkksY0FBYyxLQUFkLGNBQWMsUUFJbEI7QUFFRDtJQUEyQyxpQ0FBUztJQUFwRDtRQUFBLHFFQWdkQztRQTdjRyx3QkFBa0IsR0FBVyxDQUFDLENBQUM7UUFFL0Isd0JBQWtCLEdBQVcsQ0FBQyxDQUFDO1FBRS9CLG1CQUFhLEdBQVcsRUFBRSxDQUFDO1FBRTNCLGVBQVMsR0FBVyxHQUFHLENBQUMsQ0FBQSxNQUFNO1FBQzlCLGVBQVMsR0FBVyxHQUFHLENBQUMsQ0FBQSxNQUFNO1FBQzlCLGNBQVEsR0FBVyxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQzNCLGlCQUFXLEdBQVcsR0FBRyxDQUFDLENBQUEsTUFBTTtRQUNoQyxrQkFBWSxHQUFXLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDakMsUUFBRSxHQUFXLENBQUMsQ0FBQztRQUNmLGFBQU8sR0FBVyxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQzFCLGtCQUFZLEdBQVcsS0FBSyxDQUFDLENBQUEsVUFBVTtR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S0FBSyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUNELHNDQUFjLEdBQWQ7UUFDSSxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztRQUN6QixJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDekIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBQ0Qsb0NBQVksR0FBWjtRQUNJLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakUsQ0FBQztJQTVjRDtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQzs2REFDcEI7SUFFL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLENBQUM7NkRBQ3BCO0lBRS9CO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7d0RBQ087SUFQVixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBZ2RqQztJQUFELG9CQUFDO0NBaGRELEFBZ2RDLENBaGQwQyxtQkFBUyxHQWdkbkQ7a0JBaGRvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IHsgYXR0YWNrVHlwZSwgZW5lbXlOYW1lLCBlbmVteVN0YXRlIH0gZnJvbSBcIi4vYW5pbWF0aW9uU3RhdGVcIjtcbmltcG9ydCBFMzlMYXNlciBmcm9tIFwiLi9FMzlMYXNlclwiO1xuaW1wb3J0IGVuZW15QW5pbWF0aW9uIGZyb20gXCIuL2VuZW15QW5pbWF0aW9uXCI7XG5pbXBvcnQgZW5lbXlCYXNlIGZyb20gXCIuL2VuZW15QmFzZVwiO1xuaW1wb3J0IGVuZW15SGl0Q29sbGlkZXIgZnJvbSBcIi4vZW5lbXlIaXRDb2xsaWRlclwiO1xuaW1wb3J0IEV2ZW50cyBmcm9tIFwiLi9FdmVudHNcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xuaW1wb3J0IHsgYm9zc05hbWUgfSBmcm9tIFwiLi91aS9ib3NzSHBcIjtcbmltcG9ydCB1aU1hbmFnZXIgZnJvbSBcIi4vdWkvdWlNYW5hZ2VyXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5lbnVtIGRhbWFnZUNvbGxpZGVyIHtcbiAgICBsYXNlcixcbiAgICBmb3J3YXJkLFxuICAgIHNjcmF0Y2hcbn1cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFMzljb250cm9sbGVyIGV4dGVuZHMgZW5lbXlCYXNlIHtcblxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkZsb2F0LCB0b29sdGlwOiBcIuS8pOWus+aViOaenHjovbTlgY/np7vlgLxcIiB9KVxuICAgIGRhbWFnZUxhYmVsT2Zmc2V0WDogbnVtYmVyID0gMDtcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5GbG9hdCwgdG9vbHRpcDogXCLkvKTlrrPmlYjmnpx56L205YGP56e75YC8XCIgfSlcbiAgICBkYW1hZ2VMYWJlbE9mZnNldFk6IG51bWJlciA9IDA7XG4gICAgQHByb3BlcnR5KGNjLlN0cmluZylcbiAgICBkaWVFZmZlY3ROYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG4gICAgcnVzaFNwZWVkOiBudW1iZXIgPSA3MDA7Ly/lhrLlh7vpgJ/luqZcbiAgICBtb3ZlU3BlZWQ6IG51bWJlciA9IDE0MDsvL+enu+WKqOmAn+W6plxuICAgIG5vd1NwZWVkOiBudW1iZXIgPSAwOy8v5b2T5YmN6YCf5bqmXG4gICAgQUlfaW50ZXJ2YWw6IG51bWJlciA9IDAuNTsvL2Fp6Ze06ZqUXG4gICAgc3RvcERpc3RhbmNlOiBudW1iZXIgPSAyMzA7Ly/lgZzmraLot53nprtcbiAgICBocDogbnVtYmVyID0gMDtcbiAgICBocFRpbWVzOiBudW1iZXIgPSAxOy8v6KGA6YeP5YCN5pWwXG4gICAgYmVIaXRGb3JjZV95OiBudW1iZXIgPSAyNTAwMDsvL+aJi+mHjOWJkeaUu+WHu+S9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeDogbnVtYmVyID0gMjUwMDAvL+aZrumAmuaUu+WHu+S9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeV9zaHVyaWtlbjogbnVtYmVyID0gNTAwMDAvL+aZrumAmuaUu+WHu+S9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeF9hdHRhY2szOiBudW1iZXIgPSAzNTAwMDA7Ly/ooqvlh7vpo57kvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3lfYXR0YWNrMzogbnVtYmVyID0gMDsvL+iiq+WHu+mjnuS9nOeUqOWKm1xuICAgIHNjYWxlWF9za2VsZXRvbjogbnVtYmVyID0gMDtcbiAgICBhbGxvd01vdmVUaW1lOiBudW1iZXIgPSAyOy8v5YWB6K64bW92ZeeKtuaAgeacgOmVv+aXtumXtFxuICAgIGFsbG93QXR0YWNrVGltZTogbnVtYmVyID0gMjsvL+WFgeiuuOi/nue7rWF0dGFja+asoeaVsFxuICAgIGF0dGFja1RpbWVzOiBudW1iZXIgPSAwOy8vYXR0YWNr6L+e57ut5qyh5pWwXG4gICAgc2tpbGwxX3g6IG51bWJlciA9IDA7Ly/ms7DlsbHljovpobbokL3lnLDlnZDmoIfvvIjljYfnqbrml7bnjqnlrrbkvY3nva7vvIlcbiAgICBpc1N0YXJ0UnVzaDogYm9vbGVhbiA9IGZhbHNlOy8v5byA5aeL5Yay5pKeXG4gICAgaXNEaWU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBza2VsZXRvbjogc3AuU2tlbGV0b24gPSBudWxsO1xuICAgIGVuZW15QW5pbWF0aW9uOiBlbmVteUFuaW1hdGlvbiA9IG51bGw7XG4gICAgcmlnaWJvZHk6IGNjLlJpZ2lkQm9keSA9IG51bGw7XG4gICAgYm94Q29sbGlkZXI6IGNjLlBoeXNpY3NCb3hDb2xsaWRlciA9IG51bGw7XG4gICAgaXNTd29yZFJhaW5DZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzTW92ZTogYm9vbGVhbiA9IGZhbHNlOy8v5piv5ZCm5aSE5LqO56e75Yqo54q25oCBXG4gICAgaXNXdURpOiBib29sZWFuID0gdHJ1ZTsvL+aXoOaVjOeKtuaAgVxuICAgIGRtZ0NvbGxpZGVyOiBkYW1hZ2VDb2xsaWRlciA9IG51bGw7XG4gICAgaXNIaWdoTGlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBoaWdoTGlnaHRfQSA9IHtcbiAgICAgICAgYTogMC41XG4gICAgfTtcbiAgICBub21hbEF0dGFja01heDogbnVtYmVyID0gNTsvL+aZrumAmuaUu+WHu+i/nue7reacgOWkp+asoeaVsFxuICAgIG5vcm1hbEF0dGFja1RpbWVzOiBudW1iZXIgPSAwOy8v5pmu6YCa5pS75Ye75qyh5pWw77yI6L6+5LiA5a6a5qyh5pWw5ZCO5Y2H56m65pS+5bCP6JyY6Jub77yJXG4gICAgbGFzdEF0dGFja1N0YXRlOiBlbmVteVN0YXRlID0gbnVsbDtcbiAgICBzcGlkZXJsaW5nUHJlZmFiOiBjYy5QcmVmYWIgPSBudWxsO1xuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uID0gdGhpcy5ub2RlLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbik7XG4gICAgICAgIHRoaXMuc2NhbGVYX3NrZWxldG9uID0gTWF0aC5hYnModGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCk7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24gPSB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGVuZW15QW5pbWF0aW9uKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5lbmVteUNvbnRyb2xsZXIgPSB0aGlzO1xuICAgICAgICB0aGlzLnJpZ2lib2R5ID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5SaWdpZEJvZHkpO1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5QaHlzaWNzQm94Q29sbGlkZXIpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuc2tlbGV0b24uc2tlbGV0b25EYXRhLl9za2VsZXRvbkNhY2hlLmFuaW1hdGlvbnMpO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICB1aU1hbmFnZXIuaW5zLnNob3dCb3NzSHAoYm9zc05hbWUuZW5lbXkzOSk7XG4gICAgICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICAgICAgdGhpcy5ocCA9IHRoaXMuaHBNYXggKiB0aGlzLmhwVGltZXM7XG4gICAgICAgIC8vdGhpcy5pZGxlKCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuRlhfbGFuZGluZygpO1xuICAgICAgICB9LCAyLjQpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuaGlnaExpZ2h0QWN0aW9uKCk7XG4gICAgICAgIGlmICh0aGlzLmlzTW92ZSA9PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSB0aGlzLmdldERpc3RhbmNlWCgpO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGlzdGFuY2UpIDwgdGhpcy5zdG9wRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSA9PSBlbmVteVN0YXRlLmF0dGFjaykgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG9QbGF5ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkJlZ2luQ29udGFjdChjb250YWN0OiBjYy5QaHlzaWNzQ29udGFjdCwgc2VsZkNvbGxpZGVyOiBjYy5QaHlzaWNzQ29sbGlkZXIsIG90aGVyQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlcikge1xuICAgICAgICBsZXQgb3RoZXIgPSBvdGhlckNvbGxpZGVyLm5vZGU7XG4gICAgICAgIC8vIGxldCB3b3JsZE1hbmlmb2xkID0gY29udGFjdC5nZXRXb3JsZE1hbmlmb2xkKCk7XG4gICAgICAgIC8vIGxldCBub3JtYWwgPSB3b3JsZE1hbmlmb2xkLm5vcm1hbDtcbiAgICAgICAgaWYgKG90aGVyLmdyb3VwID09IFwid2FsbFwiKSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd0RhbWFnZUNvbGxpZGVyKGNvbGxpZGVyOiBkYW1hZ2VDb2xsaWRlcikge1xuICAgICAgICBpZiAoY29sbGlkZXIgIT0gZGFtYWdlQ29sbGlkZXIubGFzZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5jaGlsZHJlbltjb2xsaWRlcl0uZ2V0Q29tcG9uZW50KGVuZW15SGl0Q29sbGlkZXIpLmVuZW15Q29udHJvbCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW2NvbGxpZGVyXS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRtZ0NvbGxpZGVyID0gY29sbGlkZXI7XG4gICAgfVxuICAgIGdldERhbWFnZUNvbGxpZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdO1xuICAgIH1cbiAgICBoaWRlRGFtYWdlQ29sbGlkZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmRtZ0NvbGxpZGVyID09IG51bGwpIHJldHVybjtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRtZ0NvbGxpZGVyID0gbnVsbDtcbiAgICB9XG4gICAgQUlfc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc3RvcERpc3RhbmNlID0gY2FpamlUb29scy5yYW5kb21faW50KDE1MCwgNDAwKTtcbiAgICAgICAgaWYgKHRoaXMuaXNEaWUpIHJldHVybjtcbiAgICAgICAgaWYgKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuaXNEaWUpIHtcbiAgICAgICAgICAgIC8v546p5a625bey5q27IOWBnOatouenu+WKqFxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5BSV9zdGFydCgpO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICBpZiAoW2VuZW15U3RhdGUuSWRsZSwgZW5lbXlTdGF0ZS5JZGxlMiwgZW5lbXlTdGF0ZS5JZGxlM10uaW5jbHVkZXModGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSkpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5JZGxlLCAxLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLmFicyh0aGlzLmdldERpc3RhbmNlWCgpKTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgdGhpcy5zdG9wRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLk1vdmUsIDEsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMubm93U3BlZWQgPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IC10aGlzLm1vdmVTcGVlZCA6IHRoaXMubW92ZVNwZWVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIEFJX3N0b3AoKSB7XG4gICAgICAgIHRoaXMuaWRsZSgpO1xuICAgIH1cbiAgICBjaGFuZ2VNb3ZTdGF0ZShpc01vdmU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5pc01vdmUgPSBpc01vdmU7XG4gICAgfVxuICAgIGlkbGUoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoMCk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwLCAwKTtcbiAgICAgICAgbGV0IHJhbmRvbSA9IGNhaWppVG9vbHMucmFuZG9tX2ludCgxLCAzKTtcbiAgICAgICAgc3dpdGNoIChyYW5kb20pIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuSWRsZSwgMSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLklkbGUyLCAxLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuSWRsZTMsIDEsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUzOUFib3ZlMik7XG4gICAgfVxuICAgIGF0dGFjaygpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDAsIDApO1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDApO1xuICAgICAgICBpZiAodGhpcy5ub3JtYWxBdHRhY2tUaW1lcyA9PSB0aGlzLm5vbWFsQXR0YWNrTWF4KSB7XG4gICAgICAgICAgICB0aGlzLmluaXRBdHRhY2tUaW1lcygpO1xuICAgICAgICAgICAgdGhpcy5hYm92ZTEoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsQXR0YWNrVGltZXMrKztcbiAgICAgICAgICAgIGxldCBkaXN0bmFjZSA9IHRoaXMuZ2V0RGlzdGFuY2VYKCk7XG4gICAgICAgICAgICBsZXQgYXR0YWNrU3RhdGU6IEFycmF5PGVuZW15U3RhdGU+ID0gW1xuICAgICAgICAgICAgICAgIGVuZW15U3RhdGUuSnVtcF9GV0QsXG4gICAgICAgICAgICAgICAgZW5lbXlTdGF0ZS5KdW1wX0JhY2ssXG4gICAgICAgICAgICAgICAgZW5lbXlTdGF0ZS5TY3JhdGNoXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdEF0dGFja1N0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhdHRhY2tTdGF0ZS5zcGxpY2UoYXR0YWNrU3RhdGUuaW5kZXhPZih0aGlzLmxhc3RBdHRhY2tTdGF0ZSksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJhbmRvbSA9IGNhaWppVG9vbHMucmFuZG9tX2ludCgwLCBhdHRhY2tTdGF0ZS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IGF0dGFja1N0YXRlW3JhbmRvbV07XG4gICAgICAgICAgICBpZiAoZGlzdG5hY2UgPiAzMDApIHtcbiAgICAgICAgICAgICAgICAvL+i3g+WHu1xuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5KdW1wX0ZXRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUuSnVtcF9GV0Q6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuSnVtcF9GV0QoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLkp1bXBfQmFjazpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5KdW1wX0JhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLlNjcmF0Y2g6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuU2NyYXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGFzdEF0dGFja1N0YXRlID0gc3RhdGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdEF0dGFja1RpbWVzKCkge1xuICAgICAgICB0aGlzLm5vcm1hbEF0dGFja1RpbWVzID0gMDtcbiAgICAgICAgdGhpcy5ub21hbEF0dGFja01heCA9IGNhaWppVG9vbHMucmFuZG9tX2ludCg0LCA2KTtcbiAgICB9XG4gICAgLy/mlLvlh7vnu5PmnZ9cbiAgICBhdHRhY2tDb21wbGV0ZSgpIHtcbiAgICAgICAgbGV0IHJhbmRvbSA9IGNhaWppVG9vbHMucmFuZG9tX2ludCgxLCAxMDApO1xuICAgICAgICBpZiAocmFuZG9tIDwgMzApIHtcbiAgICAgICAgICAgIHRoaXMuaWRsZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5BSV9zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJvcm5Db21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5jbG9zZVd1RGkoKTtcbiAgICAgICAgdGhpcy5BSV9zdGFydCgpO1xuICAgIH1cbiAgICAvL+W8gOWni+eUn+aIkOWwj+icmOibm1xuICAgIGFib3ZlMUNvbXBsZXRlKCkge1xuICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5FMzlBYm92ZTIpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlKHRoaXMuY3JlYXRlU3BpZGVybGluZywgMC41LCA2KTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hYm92ZTIoKTtcbiAgICAgICAgfSwgNCk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZVNwaWRlcmxpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLnNwaWRlcmxpbmdQcmVmYWIgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zcGlkZXJsaW5nUHJlZmFiID0gYXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy9lbmVteXMvc3BpZGVybGluZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3BpZGVybGluZyA9IGNhaWppVG9vbHMuY3JlYXRlTm9kZSh0aGlzLnNwaWRlcmxpbmdQcmVmYWIsIHRoaXMubm9kZS5wYXJlbnQpO1xuICAgICAgICBsZXQgeCA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ICsgY2FpamlUb29scy5yYW5kb21faW50KC1jYy53aW5TaXplLndpZHRoICogMC42LCBjYy53aW5TaXplLndpZHRoICogMC42KVxuICAgICAgICBzcGlkZXJsaW5nLnNldFBvc2l0aW9uKHgsIC0xODIpO1xuICAgICAgICBzcGlkZXJsaW5nLnNldFNpYmxpbmdJbmRleCh0aGlzLm5vZGUuZ2V0U2libGluZ0luZGV4KCkpO1xuICAgICAgICBzcGlkZXJsaW5nLmFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIC8v552A6JC95a6M5oiQXG4gICAgYWJvdmUyQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMuY2xvc2VXdURpKCk7XG4gICAgICAgIHRoaXMuQUlfc3RhcnQoKTtcbiAgICB9XG4gICAgaWRsZUNvbXBsZXRlKCkge1xuICAgICAgICBpZiAoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5pc0RpZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLkFJX3N0YXJ0KCk7XG4gICAgfVxuICAgIGNoYW5nZURpcmVjdGlvbigpIHtcbiAgICAgICAgaWYgKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllciA9PSBudWxsKSByZXR1cm47XG4gICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAtIHRoaXMubm9kZS54ID4gMCA/IC10aGlzLnNjYWxlWF9za2VsZXRvbiA6IHRoaXMuc2NhbGVYX3NrZWxldG9uO1xuICAgICAgICAvL3RoaXMuaHBOb2RlLnggPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IC0yOCA6IDI4O1xuICAgIH1cbiAgICBkaWUoKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUzOV9kZWF0aCk7XG4gICAgICAgIHRoaXMuaXNEaWUgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCwgMCk7XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnVuc2NoZWR1bGVBbGxDYWxsYmFja3MoKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLkRpZSwgMSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB0aGlzLmRpZUNvdW50KCk7XG4gICAgfVxuICAgIG1vdmUoKSB7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5Nb3ZlLCAxLCB0cnVlLCB0cnVlKTtcbiAgICB9XG4gICAgbW92ZVRvUGxheWVyKCkge1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5ID0gY2MudjIodGhpcy5ub3dTcGVlZCwgMCk7XG4gICAgfVxuICAgIG9wZW5XdURpKCkge1xuICAgICAgICB0aGlzLmlzV3VEaSA9IHRydWU7XG4gICAgfVxuICAgIGNsb3NlV3VEaSgpIHtcbiAgICAgICAgdGhpcy5pc1d1RGkgPSBmYWxzZTtcbiAgICB9XG4gICAgLy/ljYfnqbpcbiAgICBhYm92ZTEoKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUzOUFib3ZlMSk7XG4gICAgICAgIHRoaXMub3Blbld1RGkoKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLkFib3ZlMSwgMSwgZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgICAvL+mZjeiQvVxuICAgIGFib3ZlMigpIHtcbiAgICAgICAgdGhpcy5ub2RlLnggPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueDtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLkFib3ZlMiwgMSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLkZYX2xhbmRpbmcoKTtcbiAgICAgICAgfSwgMi40KTtcbiAgICB9XG4gICAgLy/lkI7ot7Pmv4DlhYnmlLvlh7tcbiAgICBKdW1wX0JhY2soKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUzOUp1bXApO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuSnVtcF9CYWNrLCAxLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBvZmZzZXRYID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAxNTAgOiAtMTUwO1xuICAgICAgICAgICAgY2MudHdlZW4odGhpcy5ub2RlKVxuICAgICAgICAgICAgICAgIC5ieSgwLjMsIHsgeDogb2Zmc2V0WCB9KVxuICAgICAgICAgICAgICAgIC5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGUgIT0gZW5lbXlTdGF0ZS5KdW1wX0JhY2spIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUzOUxhc2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0RhbWFnZUNvbGxpZGVyKGRhbWFnZUNvbGxpZGVyLmxhc2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMC41KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zdGFydCgpO1xuICAgICAgICB9LCAwLjUpO1xuICAgIH1cbiAgICAvL+WJjei3g+aUu+WHu1xuICAgIEp1bXBfRldEKCkge1xuICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5FMzlKdW1wKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLkp1bXBfRldELCAxLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2hvd0RhbWFnZUNvbGxpZGVyKGRhbWFnZUNvbGxpZGVyLmZvcndhcmQpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0WCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gLTE1MCA6IDE1MDtcbiAgICAgICAgICAgIGNjLnR3ZWVuKHRoaXMubm9kZSlcbiAgICAgICAgICAgICAgICAuYnkoMC4zLCB7IHg6IG9mZnNldFggfSlcbiAgICAgICAgICAgICAgICAuY2FsbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlICE9IGVuZW15U3RhdGUuSnVtcF9GV0QpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUzOUF0dGFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpdCh0aGlzLmRhbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDAuMjUpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgICAgIH0sIDAuNSk7XG4gICAgfVxuICAgIC8v6IW/5Ye7XG4gICAgU2NyYXRjaCgpIHtcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuRTM5U2NyYXRjaCk7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5TY3JhdGNoLCAxLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2hvd0RhbWFnZUNvbGxpZGVyKGRhbWFnZUNvbGxpZGVyLnNjcmF0Y2gpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSAhPSBlbmVteVN0YXRlLlNjcmF0Y2gpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaGl0KHRoaXMuZGFtYWdlKTtcbiAgICAgICAgfSwgMC42KTtcbiAgICB9XG4gICAgLy/omZrlvLFcbiAgICBTdGFnZ2VyZWQoKSB7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5TdGFnZ2VyZWQsIDEsIGZhbHNlKTtcbiAgICB9XG4gICAgLy/omZrlvLHnu5PmnZ9cbiAgICBTdGFnZ2VyZWRSZXNldCgpIHtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLlN0YWdnZXJlZFJlc2V0LCAxLCBmYWxzZSk7XG4gICAgfVxuICAgIGFzeW5jIEZYX2xhbmRpbmcoKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLlNwZWxsX0VhcnRoXzAyKTtcbiAgICAgICAgbGV0IHByZWZhYiA9IGF3YWl0IGNhaWppVG9vbHMubG9hZFByZWZhYihcInByZWZhYnMvbGFuZGluZ0ZYX2VuZW15MzlcIik7XG4gICAgICAgIGxldCBmeCA9IGNhaWppVG9vbHMuY3JlYXRlTm9kZShwcmVmYWIsIHRoaXMubm9kZS5wYXJlbnQpO1xuICAgICAgICBmeC5zZXRTaWJsaW5nSW5kZXgodGhpcy5ub2RlLmdldFNpYmxpbmdJbmRleCgpICsgMSk7XG4gICAgICAgIGZ4LnNldFBvc2l0aW9uKHRoaXMubm9kZS54LCB0aGlzLm5vZGUueSk7XG4gICAgICAgIGZ4LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIGZ4LmRlc3Ryb3koKTtcbiAgICAgICAgfSwgMik7XG4gICAgICAgIEV2ZW50cy5pbnN0YW5jZS5zY3JlZW5TaGFrZSgpO1xuICAgIH1cbiAgICAvL+iEmuatpVxuICAgIGZvb3RTdGVwKGUsIGV2ZW50KSB7XG4gICAgICAgIC8vaWYoZXZlbnQudGltZT4wKVxuICAgICAgICAvL2F1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUzOVN0ZXAsZmFsc2UsMC42KTtcbiAgICB9XG4gICAgYmVIaXQoZGFtYWdlOiBudW1iZXIsIGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaWUgfHwgdGhpcy5pc1d1RGkpIHJldHVybjtcbiAgICAgICAgLy8gbGV0IGlzQ29udGludWUgPSB0aGlzLmNoZWNrSXNTd29yZFJhaW4oZG1nVHlwZSk7Ly/orr7nva7liZHpm6jmlLvlh7vpl7TpmpRcbiAgICAgICAgLy8gaWYgKGlzQ29udGludWUgPT0gMCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlX2JlSGl0KGRtZ1R5cGUpO1xuICAgICAgICBsZXQgeCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gdGhpcy5ub2RlLnggKyB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WCA6IHRoaXMubm9kZS54IC0gdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFg7XG4gICAgICAgIGxldCB5ID0gdGhpcy5ub2RlLnkgKyB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WTtcbiAgICAgICAgdGhpcy5oaWdoTGlnaHQoKTtcbiAgICAgICAgRXZlbnRzLmluc3RhbmNlLnNob3dEYW1hZ2VMYWJlbF9lbmVteSh0aGlzLm5vZGUsIGRhbWFnZSwgY2MudjIoeCwgeSkpO1xuICAgICAgICB0aGlzLnVwZGF0ZUhwKGRhbWFnZSk7XG4gICAgICAgIGlmICh0aGlzLmhwIDw9IDApIHtcbiAgICAgICAgICAgIEV2ZW50cy5pbnN0YW5jZS5jcmVhdGVFbmVteURpZUVmZmVjdCh0aGlzLm5vZGUsIHRoaXMuZGllRWZmZWN0TmFtZSwgY2MudjIoeCwgeSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhpdChkYW1hZ2U6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5kbWdDb2xsaWRlciAhPSBkYW1hZ2VDb2xsaWRlci5sYXNlcikge1xuICAgICAgICAgICAgdGhpcy5nZXREYW1hZ2VDb2xsaWRlcigpLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5oaXQodGhpcy5ub2RlLCBkYW1hZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxhc2VySGl0KCkge1xuICAgICAgICBpZiAodGhpcy5kbWdDb2xsaWRlciAhPSBkYW1hZ2VDb2xsaWRlci5sYXNlcikgcmV0dXJuO1xuICAgICAgICB0aGlzLmdldERhbWFnZUNvbGxpZGVyKCkuZ2V0Q29tcG9uZW50KEUzOUxhc2VyKS5sYXNlckNvbGxpZGVyLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5oaXQodGhpcy5ub2RlLCB0aGlzLmRhbWFnZSk7XG4gICAgICAgIHRoaXMuaGlkZURhbWFnZUNvbGxpZGVyKCk7XG4gICAgfVxuICAgIHVwZGF0ZUhwKGRhbWFnZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaHAgLT0gZGFtYWdlO1xuICAgICAgICB1aU1hbmFnZXIuaW5zLmJvc3NIcC5hZGRIcCgtZGFtYWdlKTtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5ocCA9IDA7XG4gICAgICAgICAgICB0aGlzLmRpZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFJpZ2lib2R5U3BlZWQoeDogbnVtYmVyLCB5OiBudW1iZXIgPSAwKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52Mih4LCB5KTtcbiAgICB9XG4gICAgY2hhbmdlU3RhdGVfYmVIaXQoZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICBpZiAodGhpcy5pc1N1cGVyQXJtb3IpIHJldHVybjtcbiAgICAgICAgbGV0IHN0YXRlID0gbnVsbDtcbiAgICAgICAgbGV0IGlzS25vY2tEb3duID0gZG1nVHlwZSA9PSBhdHRhY2tUeXBlLmF0dGFjazMgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoZG1nVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazE6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MjtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsIDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2szOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZygwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZyg1KTtcbiAgICAgICAgICAgICAgICB9LCAwLjQpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5rbm9ja19kb3duO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGUueCA8IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ICYmIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tlbGV0b24ubm9kZS5zY2FsZVggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MigtdGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ub2RlLnggPiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAmJiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIodGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5qdW1wSGl0OlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLnNodXJpa2VuOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iZUhpdEZvcmNlX3lfc2h1cmlrZW4pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5zd29yZFJhaW46XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShzdGF0ZSwgMSwgZmFsc2UsIGlzS25vY2tEb3duKTtcbiAgICB9XG4gICAgc2V0TGluZWFyRGFtcGluZyhkYW1waW5nOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJEYW1waW5nID0gZGFtcGluZztcbiAgICB9XG4gICAgc2V0RnJpY3Rpb24oZnJpY3Rpb246IG51bWJlciA9IDApIHtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5mcmljdGlvbiA9IGZyaWN0aW9uO1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmFwcGx5KCk7XG4gICAgfVxuICAgIGFwcGx5Rm9yY2UoZm9yY2U6IGNjLlZlYzIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBlckFybW9yKSByZXR1cm47XG4gICAgICAgIHRoaXMucmlnaWJvZHkuYXBwbHlGb3JjZVRvQ2VudGVyKGZvcmNlLCB0cnVlKTtcbiAgICB9XG4gICAgY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIGlmIChkbWdUeXBlID09IGF0dGFja1R5cGUuc3dvcmRSYWluKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1N3b3JkUmFpbkNkKSByZXR1cm4gMDtcbiAgICAgICAgICAgIHRoaXMuaXNTd29yZFJhaW5DZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1N3b3JkUmFpbkNkID0gZmFsc2U7XG4gICAgICAgICAgICB9LCB0aGlzLnN3b3JkUmFpbkhpdENkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaGlnaExpZ2h0QWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5pc0hpZ2hMaWdodCkge1xuICAgICAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImhpZ2hMaWdodENvbG9yXCIsIFsxLjAsIDEuMCwgMS4wLCB0aGlzLmhpZ2hMaWdodF9BLmFdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoaWdoTGlnaHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSGlnaExpZ2h0KSByZXR1cm47XG4gICAgICAgIHRoaXMuaXNIaWdoTGlnaHQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMSk7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJoaWdoTGlnaHRDb2xvclwiLCBbMS4wLCAxLjAsIDEuMCwgMC41XSk7XG4gICAgICAgIGNjLnR3ZWVuKHRoaXMuaGlnaExpZ2h0X0EpXG4gICAgICAgICAgICAudG8oMC4xLCB7IGE6IDAgfSlcbiAgICAgICAgICAgIC5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlSGlnaExpZ2h0KCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgfVxuICAgIGNsb3NlSGlnaExpZ2h0KCkge1xuICAgICAgICB0aGlzLmlzSGlnaExpZ2h0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGlnaExpZ2h0X0EuYSA9IDAuNTtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImJlSGl0XCIsIDApO1xuICAgIH1cbiAgICBnZXREaXN0YW5jZVgoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLm5vZGUueCAtIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54KTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/uiBase.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '90251wPCgFEt7ps7d8aUEx6', 'uiBase');
// scripts/uiBase.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.bundleName = exports.uiName = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var uiName;
(function (uiName) {
    uiName["choseLevelPanel"] = "choseLevelPanel";
    uiName["losePanel"] = "losePanel";
    uiName["winPanel"] = "winPanel";
    uiName["wuDiPopup"] = "wuDiPopup";
    uiName["fullHpPopup"] = "fullHpPopup";
    uiName["doubleDamagePopup"] = "doubleDamagePopup";
    uiName["pausePanel"] = "pausePanel";
    uiName["upgradePanel"] = "upgradePanel";
    uiName["signInPanel"] = "signPanel";
})(uiName = exports.uiName || (exports.uiName = {}));
var bundleName;
(function (bundleName) {
    bundleName["game"] = "game";
    bundleName["mainUi"] = "mainUi";
    bundleName["sp_enemy"] = "sp_enemy";
    bundleName["sp_others"] = "sp_others";
    bundleName["sp_player"] = "sp_player";
})(bundleName = exports.bundleName || (exports.bundleName = {}));
var uiBase = /** @class */ (function (_super) {
    __extends(uiBase, _super);
    function uiBase() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    uiBase.prototype.initUi = function () {
        this.node.setContentSize(cc.winSize);
        this.node.children[0].setContentSize(cc.winSize);
    };
    uiBase.prototype.creatBloackInput = function () {
    };
    uiBase = __decorate([
        ccclass
    ], uiBase);
    return uiBase;
}(cc.Component));
exports.default = uiBase;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcdWlCYXNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU1RSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQyxJQUFZLE1BVVg7QUFWRCxXQUFZLE1BQU07SUFDZCw2Q0FBaUMsQ0FBQTtJQUNqQyxpQ0FBcUIsQ0FBQTtJQUNyQiwrQkFBbUIsQ0FBQTtJQUNuQixpQ0FBcUIsQ0FBQTtJQUNyQixxQ0FBeUIsQ0FBQTtJQUN6QixpREFBcUMsQ0FBQTtJQUNyQyxtQ0FBdUIsQ0FBQTtJQUN2Qix1Q0FBMkIsQ0FBQTtJQUMzQixtQ0FBdUIsQ0FBQTtBQUMzQixDQUFDLEVBVlcsTUFBTSxHQUFOLGNBQU0sS0FBTixjQUFNLFFBVWpCO0FBQ0QsSUFBWSxVQU1YO0FBTkQsV0FBWSxVQUFVO0lBQ2xCLDJCQUFXLENBQUE7SUFDWCwrQkFBZSxDQUFBO0lBQ2YsbUNBQW1CLENBQUE7SUFDbkIscUNBQXFCLENBQUE7SUFDckIscUNBQXFCLENBQUE7QUFDekIsQ0FBQyxFQU5XLFVBQVUsR0FBVixrQkFBVSxLQUFWLGtCQUFVLFFBTXJCO0FBRUQ7SUFBb0MsMEJBQVk7SUFBaEQ7O0lBVUEsQ0FBQztJQVBHLHVCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDckMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBQ0QsaUNBQWdCLEdBQWhCO0lBRUEsQ0FBQztJQVRnQixNQUFNO1FBRDFCLE9BQU87T0FDYSxNQUFNLENBVTFCO0lBQUQsYUFBQztDQVZELEFBVUMsQ0FWbUMsRUFBRSxDQUFDLFNBQVMsR0FVL0M7a0JBVm9CLE1BQU0iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbmV4cG9ydCBlbnVtIHVpTmFtZXtcbiAgICBjaG9zZUxldmVsUGFuZWw9XCJjaG9zZUxldmVsUGFuZWxcIixcbiAgICBsb3NlUGFuZWw9XCJsb3NlUGFuZWxcIixcbiAgICB3aW5QYW5lbD1cIndpblBhbmVsXCIsXG4gICAgd3VEaVBvcHVwPVwid3VEaVBvcHVwXCIsXG4gICAgZnVsbEhwUG9wdXA9XCJmdWxsSHBQb3B1cFwiLFxuICAgIGRvdWJsZURhbWFnZVBvcHVwPVwiZG91YmxlRGFtYWdlUG9wdXBcIixcbiAgICBwYXVzZVBhbmVsPVwicGF1c2VQYW5lbFwiLFxuICAgIHVwZ3JhZGVQYW5lbD1cInVwZ3JhZGVQYW5lbFwiLFxuICAgIHNpZ25JblBhbmVsPVwic2lnblBhbmVsXCJcbn1cbmV4cG9ydCBlbnVtIGJ1bmRsZU5hbWV7XG4gICAgZ2FtZT1cImdhbWVcIixcbiAgICBtYWluVWk9XCJtYWluVWlcIixcbiAgICBzcF9lbmVteT1cInNwX2VuZW15XCIsXG4gICAgc3Bfb3RoZXJzPVwic3Bfb3RoZXJzXCIsXG4gICAgc3BfcGxheWVyPVwic3BfcGxheWVyXCJcbn1cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB1aUJhc2UgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG5cbiAgICBpbml0VWkoKXtcbiAgICAgICAgdGhpcy5ub2RlLnNldENvbnRlbnRTaXplKGNjLndpblNpemUpO1xuICAgICAgICB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uc2V0Q29udGVudFNpemUoY2Mud2luU2l6ZSk7XG4gICAgfVxuICAgIGNyZWF0QmxvYWNrSW5wdXQoKXtcbiAgICAgICAgXG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/initLoading.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2ad15n162lFCLXoodReaQy3', 'initLoading');
// scripts/initLoading.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var export_sdk_1 = require("../syyx_sdk/export_sdk");
var syyx_sdk_api_1 = require("../syyx_sdk/syyx_sdk_api");
var caijiTools_1 = require("./caijiTools");
var ad_1 = require("./sdk/ad");
var data_1 = require("./sdk/data");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var initLoading = /** @class */ (function (_super) {
    __extends(initLoading, _super);
    function initLoading() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.successNum = 0;
        // bundleName:string[]=["mainUi","prefabs","game","sp_enemy","sp_others","sp_player","sounds"];
        _this.bundleName = ["game", "sp_enemy", "sp_others", "sounds"];
        _this.actionTime = 1;
        _this.version = "1.0.1";
        return _this;
    }
    initLoading.prototype.start = function () {
        var _this = this;
        data_1.data.init(false).then(function () {
            _this.addNewData();
            // this.unlockAllLevel();
        });
        // if (cc.sys.isBrowser){
        //     ad.init(true);
        // }else
        {
            ad_1.ad.init(false);
        }
        this.loadBundle();
        this.initSDK();
    };
    initLoading.prototype.initSDK = function () {
        console.log("init SDK....");
        syyx_sdk_api_1.syyx_sdk_api.init(function (ret, param) {
            if (ret === true) {
                if (param.load_init_complete) { }
                if (param.load_local_complete) {
                    //本地配置加载完成
                    setTimeout(function () {
                        export_sdk_1.Export.preload_YSAD("10304001"); // 预加载原生banner
                    }, 600);
                }
                if (param.load_remote_complete) {
                    //远端配置拉取完毕
                    console.log("sdk-----business_config data:" + JSON.stringify(param.business_config));
                }
            }
        }.bind(this));
    };
    initLoading.prototype.unlockAllLevel = function () {
        for (var i = 0; i < 20; i++) {
            data_1.data.updateCache("levelUnlock", i.toString(), 1);
        }
    };
    initLoading.prototype.loadBundle = function () {
        var _this = this;
        var self = this;
        for (var _i = 0, _a = this.bundleName; _i < _a.length; _i++) {
            var name = _a[_i];
            caijiTools_1.caijiTools.loadBundlePackage(name, function (successName) {
                self.successNum++;
                if (self.successNum == self.bundleName.length) {
                    if (cc.director.getTotalTime() < 1000) {
                        _this.scheduleOnce(function () {
                            _this.enterMain();
                        }, 0.5);
                    }
                    else {
                        _this.enterMain();
                    }
                }
            });
        }
    };
    initLoading.prototype.enterMain = function () {
        for (var _i = 0, _a = this.node.children; _i < _a.length; _i++) {
            var child = _a[_i];
            if (child.childrenCount != 0) {
                cc.tween(child.children[0])
                    .to(this.actionTime, { color: cc.color(0, 0, 0) })
                    .start();
            }
            cc.tween(child)
                .to(this.actionTime, { color: cc.color(0, 0, 0) })
                .start();
        }
        this.scheduleOnce(function () {
            cc.director.loadScene("main");
        }, this.actionTime);
    };
    initLoading.prototype.addNewData = function () {
        if (data_1.data.getCache("Base", "version") == this.version)
            return;
        data_1.data.updateCache("Base", "version", this.version);
    };
    initLoading = __decorate([
        ccclass
    ], initLoading);
    return initLoading;
}(cc.Component));
exports.default = initLoading;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcaW5pdExvYWRpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYscURBQWdEO0FBQ2hELHlEQUF3RDtBQUN4RCwyQ0FBMEM7QUFDMUMsK0JBQThCO0FBQzlCLG1DQUFrQztBQUU1QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF5QywrQkFBWTtJQUFyRDtRQUFBLHFFQXdGQztRQXRGRyxnQkFBVSxHQUFRLENBQUMsQ0FBQztRQUNwQiwrRkFBK0Y7UUFDL0YsZ0JBQVUsR0FBVSxDQUFDLE1BQU0sRUFBQyxVQUFVLEVBQUMsV0FBVyxFQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRTdELGdCQUFVLEdBQVEsQ0FBQyxDQUFDO1FBQ3BCLGFBQU8sR0FBUSxPQUFPLENBQUM7O0lBaUYzQixDQUFDO0lBL0VHLDJCQUFLLEdBQUw7UUFBQSxpQkFlQztRQWRHLFdBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ2xCLEtBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNsQix5QkFBeUI7UUFDN0IsQ0FBQyxDQUFDLENBQUM7UUFDSCx5QkFBeUI7UUFDekIscUJBQXFCO1FBQ3JCLFFBQVE7UUFDUjtZQUNJLE9BQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDbEI7UUFFRCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFFbEIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFBO0lBQ2xCLENBQUM7SUFHTSw2QkFBTyxHQUFkO1FBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQTtRQUMzQiwyQkFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxLQUFLO1lBQ2xDLElBQUksR0FBRyxLQUFLLElBQUksRUFBRTtnQkFDZCxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxHQUFFO2dCQUNoQyxJQUFJLEtBQUssQ0FBQyxtQkFBbUIsRUFBRTtvQkFDM0IsVUFBVTtvQkFDVixVQUFVLENBQUM7d0JBQ1AsbUJBQU0sQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUEsQ0FBQyxjQUFjO29CQUNsRCxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7aUJBQ1g7Z0JBQ0QsSUFBSSxLQUFLLENBQUMsb0JBQW9CLEVBQUU7b0JBQzVCLFVBQVU7b0JBQ1YsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO2lCQUN4RjthQUNKO1FBQ0wsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO0lBQ2pCLENBQUM7SUFHRCxvQ0FBYyxHQUFkO1FBQ0ksS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUUsRUFBQztZQUNqQixXQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBQyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUMsQ0FBQyxDQUFDLENBQUE7U0FDakQ7SUFDTCxDQUFDO0lBQ0QsZ0NBQVUsR0FBVjtRQUFBLGlCQWdCQztRQWZHLElBQUksSUFBSSxHQUFDLElBQUksQ0FBQztRQUNkLEtBQWdCLFVBQWUsRUFBZixLQUFBLElBQUksQ0FBQyxVQUFVLEVBQWYsY0FBZSxFQUFmLElBQWUsRUFBQztZQUE1QixJQUFJLElBQUksU0FBQTtZQUNSLHVCQUFVLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFDLFVBQUMsV0FBVztnQkFDMUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO2dCQUNsQixJQUFHLElBQUksQ0FBQyxVQUFVLElBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUM7b0JBQ3ZDLElBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsR0FBQyxJQUFJLEVBQUM7d0JBQy9CLEtBQUksQ0FBQyxZQUFZLENBQUM7NEJBQ2QsS0FBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO3dCQUNyQixDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUM7cUJBQ1Y7eUJBQUk7d0JBQ0QsS0FBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO3FCQUNwQjtpQkFDSjtZQUNMLENBQUMsQ0FBQyxDQUFDO1NBQ047SUFDTCxDQUFDO0lBQ0QsK0JBQVMsR0FBVDtRQUNJLEtBQWlCLFVBQWtCLEVBQWxCLEtBQUEsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQWxCLGNBQWtCLEVBQWxCLElBQWtCLEVBQUM7WUFBaEMsSUFBSSxLQUFLLFNBQUE7WUFDVCxJQUFHLEtBQUssQ0FBQyxhQUFhLElBQUUsQ0FBQyxFQUFDO2dCQUN0QixFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQzFCLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLEVBQUMsS0FBSyxFQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBQyxDQUFDO3FCQUMzQyxLQUFLLEVBQUUsQ0FBQzthQUNaO1lBQ0QsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7aUJBQ2QsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUMsRUFBQyxLQUFLLEVBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUM7aUJBQzNDLEtBQUssRUFBRSxDQUFDO1NBQ1o7UUFDRCxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbEMsQ0FBQyxFQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBQ0QsZ0NBQVUsR0FBVjtRQUNJLElBQUcsV0FBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUMsU0FBUyxDQUFDLElBQUUsSUFBSSxDQUFDLE9BQU87WUFBRSxPQUFPO1FBQ3pELFdBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQXZGZ0IsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQXdGL0I7SUFBRCxrQkFBQztDQXhGRCxBQXdGQyxDQXhGd0MsRUFBRSxDQUFDLFNBQVMsR0F3RnBEO2tCQXhGb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBFeHBvcnQgfSBmcm9tIFwiLi4vc3l5eF9zZGsvZXhwb3J0X3Nka1wiO1xuaW1wb3J0IHsgc3l5eF9zZGtfYXBpIH0gZnJvbSBcIi4uL3N5eXhfc2RrL3N5eXhfc2RrX2FwaVwiO1xuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuL2NhaWppVG9vbHNcIjtcbmltcG9ydCB7IGFkIH0gZnJvbSBcIi4vc2RrL2FkXCI7XG5pbXBvcnQgeyBkYXRhIH0gZnJvbSBcIi4vc2RrL2RhdGFcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBpbml0TG9hZGluZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBzdWNjZXNzTnVtOm51bWJlcj0wO1xuICAgIC8vIGJ1bmRsZU5hbWU6c3RyaW5nW109W1wibWFpblVpXCIsXCJwcmVmYWJzXCIsXCJnYW1lXCIsXCJzcF9lbmVteVwiLFwic3Bfb3RoZXJzXCIsXCJzcF9wbGF5ZXJcIixcInNvdW5kc1wiXTtcbiAgICBidW5kbGVOYW1lOnN0cmluZ1tdPVtcImdhbWVcIixcInNwX2VuZW15XCIsXCJzcF9vdGhlcnNcIixcInNvdW5kc1wiXTtcblxuICAgIGFjdGlvblRpbWU6bnVtYmVyPTE7XG4gICAgdmVyc2lvbjpzdHJpbmc9XCIxLjAuMVwiO1xuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICBkYXRhLmluaXQoZmFsc2UpLnRoZW4oKCk9PntcbiAgICAgICAgICAgIHRoaXMuYWRkTmV3RGF0YSgpO1xuICAgICAgICAgICAgLy8gdGhpcy51bmxvY2tBbGxMZXZlbCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaWYgKGNjLnN5cy5pc0Jyb3dzZXIpe1xuICAgICAgICAvLyAgICAgYWQuaW5pdCh0cnVlKTtcbiAgICAgICAgLy8gfWVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgYWQuaW5pdChmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvYWRCdW5kbGUoKTtcblxuICAgICAgICB0aGlzLmluaXRTREsoKVxuICAgIH1cblxuXG4gICAgcHVibGljIGluaXRTREsoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW5pdCBTREsuLi4uXCIpXG4gICAgICAgIHN5eXhfc2RrX2FwaS5pbml0KGZ1bmN0aW9uIChyZXQsIHBhcmFtKSB7XG4gICAgICAgICAgICBpZiAocmV0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtLmxvYWRfaW5pdF9jb21wbGV0ZSkge31cbiAgICAgICAgICAgICAgICBpZiAocGFyYW0ubG9hZF9sb2NhbF9jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvL+acrOWcsOmFjee9ruWKoOi9veWujOaIkFxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEV4cG9ydC5wcmVsb2FkX1lTQUQoXCIxMDMwNDAwMVwiKSAvLyDpooTliqDovb3ljp/nlJ9iYW5uZXJcbiAgICAgICAgICAgICAgICAgICAgfSwgNjAwKTsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJhbS5sb2FkX3JlbW90ZV9jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvL+i/nOerr+mFjee9ruaLieWPluWujOavlVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNkay0tLS0tYnVzaW5lc3NfY29uZmlnIGRhdGE6XCIgKyBKU09OLnN0cmluZ2lmeShwYXJhbS5idXNpbmVzc19jb25maWcpKTsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpXG4gICAgfVxuICAgIFxuICAgIFxuICAgIHVubG9ja0FsbExldmVsKCl7XG4gICAgICAgIGZvcihsZXQgaT0wO2k8MjA7aSsrKXtcbiAgICAgICAgICAgIGRhdGEudXBkYXRlQ2FjaGUoXCJsZXZlbFVubG9ja1wiLGkudG9TdHJpbmcoKSwxKVxuICAgICAgICB9XG4gICAgfVxuICAgIGxvYWRCdW5kbGUoKXtcbiAgICAgICAgbGV0IHNlbGY9dGhpcztcbiAgICAgICAgZm9yKGxldCBuYW1lIG9mIHRoaXMuYnVuZGxlTmFtZSl7XG4gICAgICAgICAgICBjYWlqaVRvb2xzLmxvYWRCdW5kbGVQYWNrYWdlKG5hbWUsKHN1Y2Nlc3NOYW1lKT0+e1xuICAgICAgICAgICAgICAgIHNlbGYuc3VjY2Vzc051bSsrO1xuICAgICAgICAgICAgICAgIGlmKHNlbGYuc3VjY2Vzc051bT09c2VsZi5idW5kbGVOYW1lLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNjLmRpcmVjdG9yLmdldFRvdGFsVGltZSgpPDEwMDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGVyTWFpbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwwLjUpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50ZXJNYWluKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbnRlck1haW4oKXtcbiAgICAgICAgZm9yKGxldCBjaGlsZCBvZiB0aGlzLm5vZGUuY2hpbGRyZW4pe1xuICAgICAgICAgICAgaWYoY2hpbGQuY2hpbGRyZW5Db3VudCE9MCl7XG4gICAgICAgICAgICAgICAgY2MudHdlZW4oY2hpbGQuY2hpbGRyZW5bMF0pXG4gICAgICAgICAgICAgICAgLnRvKHRoaXMuYWN0aW9uVGltZSx7Y29sb3I6Y2MuY29sb3IoMCwwLDApfSlcbiAgICAgICAgICAgICAgICAuc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNjLnR3ZWVuKGNoaWxkKVxuICAgICAgICAgICAgLnRvKHRoaXMuYWN0aW9uVGltZSx7Y29sb3I6Y2MuY29sb3IoMCwwLDApfSlcbiAgICAgICAgICAgIC5zdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJtYWluXCIpO1xuICAgICAgICB9LHRoaXMuYWN0aW9uVGltZSk7XG4gICAgfVxuICAgIGFkZE5ld0RhdGEoKXtcbiAgICAgICAgaWYoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcInZlcnNpb25cIik9PXRoaXMudmVyc2lvbikgcmV0dXJuO1xuICAgICAgICBkYXRhLnVwZGF0ZUNhY2hlKFwiQmFzZVwiLFwidmVyc2lvblwiLHRoaXMudmVyc2lvbik7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/test.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f474aiUe1xDU6HX6eyIf4h3', 'test');
// scripts/test.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var test = /** @class */ (function (_super) {
    __extends(test, _super);
    function test() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    test.prototype.start = function () {
    };
    test.prototype.update = function () {
    };
    test.prototype.newfunction = function () { };
    ;
    test.prototype.newfunction2 = function () { };
    ;
    test.prototype.testFunction = function () { };
    ;
    test = __decorate([
        ccclass
    ], test);
    return test;
}(cc.Component));
exports.default = test;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcdGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUs1RSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFrQyx3QkFBWTtJQUE5Qzs7SUFnQkEsQ0FBQztJQVpHLG9CQUFLLEdBQUw7SUFDQSxDQUFDO0lBRUQscUJBQU0sR0FBTjtJQUVBLENBQUM7SUFJRCwwQkFBVyxHQUFYLGNBQWMsQ0FBQztJQUFBLENBQUM7SUFDaEIsMkJBQVksR0FBWixjQUFlLENBQUM7SUFBQSxDQUFDO0lBQ2pCLDJCQUFZLEdBQVosY0FBZSxDQUFDO0lBQUEsQ0FBQztJQWZBLElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0FnQnhCO0lBQUQsV0FBQztDQWhCRCxBQWdCQyxDQWhCaUMsRUFBRSxDQUFDLFNBQVMsR0FnQjdDO2tCQWhCb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBhZCB9IGZyb20gXCIuL3Nkay9hZFwiO1xuaW1wb3J0IHsgZGF0YSB9IGZyb20gXCIuL3Nkay9kYXRhXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgdGVzdCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cblxuXG4gICAgc3RhcnQgKCkge1xuICAgIH1cblxuICAgIHVwZGF0ZSgpe1xuICAgICAgICBcbiAgICB9XG5cblxuICAgIFxuICAgIG5ld2Z1bmN0aW9uKCl7fTtcbiAgICBuZXdmdW5jdGlvbjIoKXt9O1xuICAgIHRlc3RGdW5jdGlvbigpe307XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/Msg.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '41c29stRcNAHIP7/d1825in', 'Msg');
// scripts/Msg.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Msg = /** @class */ (function (_super) {
    __extends(Msg, _super);
    function Msg() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Msg_1 = Msg;
    Msg.tweeNode = function (node) {
        cc.tween(node)
            .to(0.3, { scale: 1 }, { easing: "backOut" })
            .start();
    };
    Msg.Show = function (msg) {
        {
            if (Msg_1.isShow) {
                return;
            }
            Msg_1.isShow = true;
            Msg_1.okbtn_callback = null;
            cc.loader.loadRes(this.tipsPanelPrefab, cc.Prefab, function (error, resource) {
                Msg_1.isShow = false;
                if (error) {
                    cc.error(error);
                    return;
                }
                if (resource) {
                    var node_1 = cc.instantiate(resource);
                    if (node_1) {
                        cc.find("Canvas").addChild(node_1);
                        node_1.active = true;
                        node_1.position = cc.Vec3.ZERO;
                        var label = cc.find("Label", node_1).getComponent(cc.Label);
                        label.string = msg;
                        node_1.scale = 0;
                        Msg_1.tweeNode(node_1);
                        label.scheduleOnce(function () {
                            node_1.destroy();
                        }, 1.5);
                    }
                }
            });
        }
    };
    var Msg_1;
    Msg.tipsPanelPrefab = "prefabs/ui/TipsPanel";
    Msg.isShow = false;
    Msg.okbtn_callback = null;
    Msg = Msg_1 = __decorate([
        ccclass
    ], Msg);
    return Msg;
}(cc.Component));
exports.default = Msg;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcTXNnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVNLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQWlDLHVCQUFZO0lBQTdDOztJQStDQSxDQUFDO1lBL0NvQixHQUFHO0lBR04sWUFBUSxHQUF0QixVQUF1QixJQUFhO1FBQ2hDLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO2FBQ1QsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsQ0FBQzthQUM1QyxLQUFLLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBS2EsUUFBSSxHQUFsQixVQUFtQixHQUFVO1FBQzdCO1lBQ1EsSUFBSSxLQUFHLENBQUMsTUFBTSxFQUFDO2dCQUNYLE9BQU07YUFDVDtZQUNELEtBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBO1lBQ2pCLEtBQUcsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFBO1lBQ3pCLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsRUFBRSxDQUFDLE1BQU0sRUFBRSxVQUFDLEtBQVcsRUFBRSxRQUFrQjtnQkFDL0UsS0FBRyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUE7Z0JBRWxCLElBQUksS0FBSyxFQUFFO29CQUNQLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2YsT0FBTTtpQkFDVDtnQkFDRCxJQUFJLFFBQVEsRUFBRTtvQkFDVixJQUFJLE1BQUksR0FBWSxFQUFFLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUM3QyxJQUFJLE1BQUksRUFBRTt3QkFDTixFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxNQUFJLENBQUMsQ0FBQzt3QkFDakMsTUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7d0JBQ25CLE1BQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7d0JBRTdCLElBQUksS0FBSyxHQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQUksQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQ3BFLEtBQUssQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO3dCQUVuQixNQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQzt3QkFDZixLQUFHLENBQUMsUUFBUSxDQUFDLE1BQUksQ0FBQyxDQUFDO3dCQUVuQixLQUFLLENBQUMsWUFBWSxDQUFDOzRCQUNmLE1BQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQzt3QkFDbkIsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO3FCQUNYO2lCQUNKO1lBQ0wsQ0FBQyxDQUFDLENBQUE7U0FDTDtJQUNMLENBQUM7O0lBN0NjLG1CQUFlLEdBQVcsc0JBQXNCLENBQUM7SUFRekQsVUFBTSxHQUFXLEtBQUssQ0FBQTtJQUN0QixrQkFBYyxHQUFhLElBQUksQ0FBQTtJQVZyQixHQUFHO1FBRHZCLE9BQU87T0FDYSxHQUFHLENBK0N2QjtJQUFELFVBQUM7Q0EvQ0QsQUErQ0MsQ0EvQ2dDLEVBQUUsQ0FBQyxTQUFTLEdBK0M1QztrQkEvQ29CLEdBQUciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcblxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1zZyBleHRlbmRzIGNjLkNvbXBvbmVudHtcbiAgICBwcml2YXRlIHN0YXRpYyB0aXBzUGFuZWxQcmVmYWI6IHN0cmluZyA9IFwicHJlZmFicy91aS9UaXBzUGFuZWxcIjtcblxuICAgIHB1YmxpYyBzdGF0aWMgdHdlZU5vZGUobm9kZTogY2MuTm9kZSkge1xuICAgICAgICBjYy50d2Vlbihub2RlKVxuICAgICAgICAgICAgLnRvKDAuMywgeyBzY2FsZTogMSB9LCB7IGVhc2luZzogXCJiYWNrT3V0XCIgfSlcbiAgICAgICAgICAgIC5zdGFydCgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc1Nob3c6Ym9vbGVhbiA9IGZhbHNlXG4gICAgc3RhdGljIG9rYnRuX2NhbGxiYWNrOkZ1bmN0aW9uICA9IG51bGxcbiAgICAgICAgICAgIFxuICAgIHB1YmxpYyBzdGF0aWMgU2hvdyhtc2c6c3RyaW5nKSB7XG4gICAge1xuICAgICAgICAgICAgaWYgKE1zZy5pc1Nob3cpe1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTXNnLmlzU2hvdyA9IHRydWVcbiAgICAgICAgICAgIE1zZy5va2J0bl9jYWxsYmFjayA9IG51bGxcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHRoaXMudGlwc1BhbmVsUHJlZmFiLCBjYy5QcmVmYWIsIChlcnJvcjpFcnJvciwgcmVzb3VyY2U6Y2MuUHJlZmFiKSA9PiB7XG4gICAgICAgICAgICAgICAgTXNnLmlzU2hvdyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNjLmVycm9yKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlOiBjYy5Ob2RlID0gY2MuaW5zdGFudGlhdGUocmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2MuZmluZChcIkNhbnZhc1wiKS5hZGRDaGlsZChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucG9zaXRpb24gPSBjYy5WZWMzLlpFUk87XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYWJlbDogY2MuTGFiZWwgPSBjYy5maW5kKFwiTGFiZWxcIiwgbm9kZSkuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLnN0cmluZyA9IG1zZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zY2FsZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBNc2cudHdlZU5vZGUobm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxLjUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/coinDrop.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f1a83cX+ipL2ZseGzqWEkm5', 'coinDrop');
// scripts/game/coinDrop.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var data_1 = require("../sdk/data");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var coinDrop = /** @class */ (function (_super) {
    __extends(coinDrop, _super);
    function coinDrop() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.coinNumer = 1;
        _this.targetPosition = null;
        _this.isPickUpTime = false;
        _this.rigibody = null;
        _this.circleCollider = null;
        _this.speed = 1200;
        _this.isDropFloor = false;
        return _this;
    }
    coinDrop.prototype.onLoad = function () {
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.circleCollider = this.node.getComponent(cc.PhysicsCircleCollider);
    };
    coinDrop.prototype.start = function () {
        var _this = this;
        GameManager_1.default.instance.dropCoins.push(this.node);
        this.addForce();
        this.scheduleOnce(function () {
            _this.startMoveToPlayer();
        }, 1.5);
    };
    coinDrop.prototype.addForce = function () {
        var force_x = caijiTools_1.caijiTools.random_int(-60, 60) * 150;
        var force_y = caijiTools_1.caijiTools.random_int(30, 60) * 150;
        this.rigibody.applyForceToCenter(cc.v2(force_x, force_y), true);
    };
    coinDrop.prototype.startMoveToPlayer = function () {
        this.isPickUpTime = true;
        this.closeDamping();
    };
    coinDrop.prototype.update = function (dt) {
        if (this.isPickUpTime) {
            this.moveToPlayer();
        }
    };
    coinDrop.prototype.lateUpdate = function () {
        if (this.rigibody.linearVelocity.len() < 10) {
            if (this.circleCollider.restitution == 0)
                return;
            this.rigibody.linearVelocity = cc.v2(0, 0);
            this.circleCollider.restitution = 0;
            this.circleCollider.apply();
        }
    };
    coinDrop.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        if (other.group == "ground") {
            this.openDamping();
        }
        else if (other.group == "player") {
            contact.disabled = true;
        }
    };
    coinDrop.prototype.addCoin = function () {
        var coin = Number(data_1.data.getCache("Base", "coin")) + this.coinNumer;
        data_1.data.updateCache("Base", "coin", coin);
    };
    coinDrop.prototype.moveToPlayer = function () {
        this.targetPosition = cc.v3(GameManager_1.default.instance.player.x, GameManager_1.default.instance.player.y + 70);
        var direct = this.targetPosition.sub(this.node.position).normalizeSelf();
        this.rigibody.linearVelocity = cc.v2(direct.x * this.speed, direct.y * this.speed);
        var len = this.targetPosition.sub(this.node.position).len();
        if (len < 15) {
            this.addCoin();
            this.node.active = false;
            this.node.destroy();
        }
    };
    coinDrop.prototype.openDamping = function () {
        if (this.isDropFloor)
            return;
        this.isDropFloor = true;
        this.rigibody.linearDamping = 2;
        this.rigibody.angularDamping = 2;
    };
    coinDrop.prototype.closeDamping = function () {
        this.rigibody.linearDamping = 0;
    };
    coinDrop = __decorate([
        ccclass
    ], coinDrop);
    return coinDrop;
}(cc.Component));
exports.default = coinDrop;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcY29pbkRyb3AudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsNENBQTJDO0FBQzNDLG9DQUFtQztBQUNuQyw2Q0FBd0M7QUFFbEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7UUFBQSxxRUE0RUM7UUExRUcsZUFBUyxHQUFRLENBQUMsQ0FBQztRQUNuQixvQkFBYyxHQUFTLElBQUksQ0FBQztRQUM1QixrQkFBWSxHQUFTLEtBQUssQ0FBQztRQUMzQixjQUFRLEdBQWMsSUFBSSxDQUFDO1FBQzNCLG9CQUFjLEdBQTBCLElBQUksQ0FBQztRQUM3QyxXQUFLLEdBQVEsSUFBSSxDQUFDO1FBQ2xCLGlCQUFXLEdBQVMsS0FBSyxDQUFDOztJQW9FOUIsQ0FBQztJQWxFRyx5QkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLGNBQWMsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBQ0Qsd0JBQUssR0FBTDtRQUFBLGlCQU1DO1FBTEcscUJBQVcsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxLQUFJLENB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QUcsRUFBRSxDQUFDO1FBQzFELElBQUcsR0FBRyxHQUFDLEVBQUUsRUFBQztZQUNOLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNmLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFDLEtBQUssQ0FBQztZQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ3ZCO0lBQ0wsQ0FBQztJQUNELDhCQUFXLEdBQVg7UUFDSSxJQUFHLElBQUksQ0FBQyxXQUFXO1lBQUUsT0FBTztRQUM1QixJQUFJLENBQUMsV0FBVyxHQUFDLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsR0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEdBQUMsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFDRCwrQkFBWSxHQUFaO1FBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLEdBQUMsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUEzRWdCLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0E0RTVCO0lBQUQsZUFBQztDQTVFRCxBQTRFQyxDQTVFcUMsRUFBRSxDQUFDLFNBQVMsR0E0RWpEO2tCQTVFb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCB7IGRhdGEgfSBmcm9tIFwiLi4vc2RrL2RhdGFcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGNvaW5Ecm9wIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIGNvaW5OdW1lcjpudW1iZXI9MTtcbiAgICB0YXJnZXRQb3NpdGlvbjpjYy5WZWMzPW51bGw7XG4gICAgaXNQaWNrVXBUaW1lOmJvb2xlYW49ZmFsc2U7XG4gICAgcmlnaWJvZHk6Y2MuUmlnaWRCb2R5PW51bGw7XG4gICAgY2lyY2xlQ29sbGlkZXI6Y2MuUGh5c2ljc0NpcmNsZUNvbGxpZGVyPW51bGw7XG4gICAgc3BlZWQ6bnVtYmVyPTEyMDA7XG4gICAgaXNEcm9wRmxvb3I6Ym9vbGVhbj1mYWxzZTtcblxuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHk9dGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5SaWdpZEJvZHkpO1xuICAgICAgICB0aGlzLmNpcmNsZUNvbGxpZGVyPXRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuUGh5c2ljc0NpcmNsZUNvbGxpZGVyKTtcbiAgICB9XG4gICAgc3RhcnQgKCkge1xuICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5kcm9wQ29pbnMucHVzaCh0aGlzLm5vZGUpO1xuICAgICAgICB0aGlzLmFkZEZvcmNlKCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLnN0YXJ0TW92ZVRvUGxheWVyKCk7XG4gICAgICAgIH0sMS41KTtcbiAgICB9XG5cbiAgICBhZGRGb3JjZSgpe1xuICAgICAgICBsZXQgZm9yY2VfeD1jYWlqaVRvb2xzLnJhbmRvbV9pbnQoLTYwLDYwKSoxNTA7XG4gICAgICAgIGxldCBmb3JjZV95PWNhaWppVG9vbHMucmFuZG9tX2ludCgzMCw2MCkqMTUwO1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmFwcGx5Rm9yY2VUb0NlbnRlcihjYy52Mihmb3JjZV94LGZvcmNlX3kpLHRydWUpO1xuICAgIH1cbiAgICBzdGFydE1vdmVUb1BsYXllcigpe1xuICAgICAgICB0aGlzLmlzUGlja1VwVGltZT10cnVlO1xuICAgICAgICB0aGlzLmNsb3NlRGFtcGluZygpO1xuICAgIH1cbiAgICB1cGRhdGUgKGR0KSB7XG4gICAgICAgIGlmKHRoaXMuaXNQaWNrVXBUaW1lKXtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvUGxheWVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGF0ZVVwZGF0ZSgpe1xuICAgICAgICBpZih0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5LmxlbigpPDEwKXtcbiAgICAgICAgICAgIGlmKHRoaXMuY2lyY2xlQ29sbGlkZXIucmVzdGl0dXRpb249PTApIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHk9Y2MudjIoMCwwKTtcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlQ29sbGlkZXIucmVzdGl0dXRpb249MDtcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlQ29sbGlkZXIuYXBwbHkoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkJlZ2luQ29udGFjdChjb250YWN0OiBjYy5QaHlzaWNzQ29udGFjdCwgc2VsZkNvbGxpZGVyOiBjYy5QaHlzaWNzQ29sbGlkZXIsIG90aGVyQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlcikge1xuICAgICAgICBsZXQgb3RoZXIgPSBvdGhlckNvbGxpZGVyLm5vZGU7XG4gICAgICAgIGlmIChvdGhlci5ncm91cCA9PSBcImdyb3VuZFwiKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5EYW1waW5nKCk7XG4gICAgICAgIH1lbHNlIGlmKG90aGVyLmdyb3VwPT1cInBsYXllclwiKXtcbiAgICAgICAgICAgIGNvbnRhY3QuZGlzYWJsZWQ9dHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRDb2luKCl7XG4gICAgICAgIGxldCBjb2luPU51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwiY29pblwiKSkrdGhpcy5jb2luTnVtZXI7XG4gICAgICAgIGRhdGEudXBkYXRlQ2FjaGUoXCJCYXNlXCIsXCJjb2luXCIsY29pbik7XG4gICAgfVxuICAgIG1vdmVUb1BsYXllcigpe1xuICAgICAgICB0aGlzLnRhcmdldFBvc2l0aW9uPWNjLnYzKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54LEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci55KzcwKVxuICAgICAgICBsZXQgZGlyZWN0PXRoaXMudGFyZ2V0UG9zaXRpb24uc3ViKHRoaXMubm9kZS5wb3NpdGlvbikubm9ybWFsaXplU2VsZigpO1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5PWNjLnYyKGRpcmVjdC54KnRoaXMuc3BlZWQsZGlyZWN0LnkqdGhpcy5zcGVlZCk7XG4gICAgICAgIGxldCBsZW49dGhpcy50YXJnZXRQb3NpdGlvbi5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKS5sZW4oKTtcbiAgICAgICAgaWYobGVuPDE1KXtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29pbigpO1xuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZT1mYWxzZTtcbiAgICAgICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb3BlbkRhbXBpbmcoKXtcbiAgICAgICAgaWYodGhpcy5pc0Ryb3BGbG9vcikgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzRHJvcEZsb29yPXRydWU7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyRGFtcGluZz0yO1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmFuZ3VsYXJEYW1waW5nPTI7XG4gICAgfVxuICAgIGNsb3NlRGFtcGluZygpe1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhckRhbXBpbmc9MDtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/damageEffect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '996a64NhE9I8K6SbtCym/DI', 'damageEffect');
// scripts/game/damageEffect.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var damageTipPool_1 = require("./damageTipPool");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageEffect = /** @class */ (function (_super) {
    __extends(damageEffect, _super);
    function damageEffect() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    damageEffect.prototype.onLoad = function () {
        var _this = this;
        this.node.getComponent(cc.Animation).on("finished", function () {
            damageTipPool_1.default.instance.recoveryDmgEffect(_this.node);
        });
    };
    damageEffect.prototype.onEnable = function () {
        this.node.getComponent(cc.Animation).play();
    };
    damageEffect.prototype.reuse = function () {
        this.node.angle = caijiTools_1.caijiTools.random_int(0, 360);
    };
    damageEffect.prototype.unuse = function () {
        this.node.active = false;
    };
    damageEffect = __decorate([
        ccclass
    ], damageEffect);
    return damageEffect;
}(cc.Component));
exports.default = damageEffect;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcZGFtYWdlRWZmZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLDRDQUEyQztBQUMzQyxpREFBNEM7QUFFdEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMEMsZ0NBQVk7SUFBdEQ7O0lBa0JBLENBQUM7SUFmRyw2QkFBTSxHQUFOO1FBQUEsaUJBSUM7UUFIRyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBQztZQUMvQyx1QkFBYSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEQsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsK0JBQVEsR0FBUjtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoRCxDQUFDO0lBRUQsNEJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFDLHVCQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBQ0QsNEJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFDLEtBQUssQ0FBQztJQUMzQixDQUFDO0lBakJnQixZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBa0JoQztJQUFELG1CQUFDO0NBbEJELEFBa0JDLENBbEJ5QyxFQUFFLENBQUMsU0FBUyxHQWtCckQ7a0JBbEJvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vY2FpamlUb29sc1wiO1xuaW1wb3J0IGRhbWFnZVRpcFBvb2wgZnJvbSBcIi4vZGFtYWdlVGlwUG9vbFwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGRhbWFnZUVmZmVjdCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cblxuICAgIG9uTG9hZCgpe1xuICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbikub24oXCJmaW5pc2hlZFwiLCgpPT57XG4gICAgICAgICAgICBkYW1hZ2VUaXBQb29sLmluc3RhbmNlLnJlY292ZXJ5RG1nRWZmZWN0KHRoaXMubm9kZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbkVuYWJsZSAoKSB7XG4gICAgICAgIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5wbGF5KCk7XG4gICAgfVxuXG4gICAgcmV1c2UoKXtcbiAgICAgICAgdGhpcy5ub2RlLmFuZ2xlPWNhaWppVG9vbHMucmFuZG9tX2ludCgwLDM2MCk7XG4gICAgfVxuICAgIHVudXNlKCl7XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmU9ZmFsc2U7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/FX_revive.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2e8a0lyOdNJY79/UntXWudK', 'FX_revive');
// scripts/game/FX_revive.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var FX_revive = /** @class */ (function (_super) {
    __extends(FX_revive, _super);
    function FX_revive() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.animation = null;
        return _this;
    }
    FX_revive.prototype.onLoad = function () {
        this.animation = this.node.getComponent(cc.Animation);
    };
    FX_revive.prototype.start = function () {
    };
    FX_revive.prototype.animationFinished = function () {
        var _this = this;
        this.createLightFx();
        this.scheduleOnce(function () {
            _this.node.destroy();
        }, 2);
    };
    FX_revive.prototype.createLightFx = function () {
        return __awaiter(this, void 0, void 0, function () {
            var pre, fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/fx_reviveLight")];
                    case 1:
                        pre = _a.sent();
                        fx = cc.instantiate(pre);
                        fx.setParent(this.node.parent);
                        fx.setPosition(this.node.x, this.node.y + 110);
                        fx.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    FX_revive = __decorate([
        ccclass
    ], FX_revive);
    return FX_revive;
}(cc.Component));
exports.default = FX_revive;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRlhfcmV2aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLDRDQUEyQztBQUVyQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQXdCQztRQXRCRyxlQUFTLEdBQWMsSUFBSSxDQUFDOztJQXNCaEMsQ0FBQztJQXBCRywwQkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVELHlCQUFLLEdBQUw7SUFDQSxDQUFDO0lBRUQscUNBQWlCLEdBQWpCO1FBQUEsaUJBS0M7UUFKRyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNkLEtBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDeEIsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ1QsQ0FBQztJQUNLLGlDQUFhLEdBQW5COzs7Ozs0QkFDWSxxQkFBTSx1QkFBVSxDQUFDLFVBQVUsQ0FBQyx3QkFBd0IsQ0FBQyxFQUFBOzt3QkFBekQsR0FBRyxHQUFDLFNBQXFEO3dCQUN6RCxFQUFFLEdBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDM0IsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO3dCQUMvQixFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUM1QyxFQUFFLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQzs7Ozs7S0FDbEI7SUF2QmdCLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0F3QjdCO0lBQUQsZ0JBQUM7Q0F4QkQsQUF3QkMsQ0F4QnNDLEVBQUUsQ0FBQyxTQUFTLEdBd0JsRDtrQkF4Qm9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRlhfcmV2aXZlIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIGFuaW1hdGlvbjpjYy5BbmltYXRpb249bnVsbDtcblxuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uPXRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKTtcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgfVxuXG4gICAgYW5pbWF0aW9uRmluaXNoZWQoKXtcbiAgICAgICAgdGhpcy5jcmVhdGVMaWdodEZ4KCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xuICAgICAgICB9LDIpO1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVMaWdodEZ4KCl7XG4gICAgICAgIGxldCBwcmU9YXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy9meF9yZXZpdmVMaWdodFwiKTtcbiAgICAgICAgbGV0IGZ4PWNjLmluc3RhbnRpYXRlKHByZSk7XG4gICAgICAgIGZ4LnNldFBhcmVudCh0aGlzLm5vZGUucGFyZW50KTtcbiAgICAgICAgZnguc2V0UG9zaXRpb24odGhpcy5ub2RlLngsdGhpcy5ub2RlLnkrMTEwKTtcbiAgICAgICAgZnguYWN0aXZlPXRydWU7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/E39Laser.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2cee1aH1slEk45kBHCPHTzC', 'E39Laser');
// scripts/game/E39Laser.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var E39controller_1 = require("./E39controller");
var enemyHitCollider_1 = require("./enemyHitCollider");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var E39Laser = /** @class */ (function (_super) {
    __extends(E39Laser, _super);
    function E39Laser() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.laserCollider = null;
        _this.E39 = null;
        return _this;
        // update (dt) {}
    }
    // onLoad () {}
    E39Laser.prototype.start = function () {
        this.laserCollider.getComponent(enemyHitCollider_1.default).enemyControl = this.E39;
    };
    __decorate([
        property(cc.Node)
    ], E39Laser.prototype, "laserCollider", void 0);
    __decorate([
        property(E39controller_1.default)
    ], E39Laser.prototype, "E39", void 0);
    E39Laser = __decorate([
        ccclass
    ], E39Laser);
    return E39Laser;
}(cc.Component));
exports.default = E39Laser;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRTM5TGFzZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsaURBQTRDO0FBQzVDLHVEQUFrRDtBQUU1QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQWNDO1FBWEcsbUJBQWEsR0FBUyxJQUFJLENBQUM7UUFFM0IsU0FBRyxHQUFlLElBQUksQ0FBQzs7UUFRdkIsaUJBQWlCO0lBQ3JCLENBQUM7SUFQRyxlQUFlO0lBRWYsd0JBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUMsWUFBWSxHQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDNUUsQ0FBQztJQVJEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7bURBQ1M7SUFFM0I7UUFEQyxRQUFRLENBQUMsdUJBQWEsQ0FBQzt5Q0FDRDtJQUxOLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0FjNUI7SUFBRCxlQUFDO0NBZEQsQUFjQyxDQWRxQyxFQUFFLENBQUMsU0FBUyxHQWNqRDtrQkFkb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgRTM5Y29udHJvbGxlciBmcm9tIFwiLi9FMzljb250cm9sbGVyXCI7XG5pbXBvcnQgZW5lbXlIaXRDb2xsaWRlciBmcm9tIFwiLi9lbmVteUhpdENvbGxpZGVyXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRTM5TGFzZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgbGFzZXJDb2xsaWRlcjpjYy5Ob2RlPW51bGw7XG4gICAgQHByb3BlcnR5KEUzOWNvbnRyb2xsZXIpXG4gICAgRTM5OkUzOWNvbnRyb2xsZXI9bnVsbDtcblxuICAgIC8vIG9uTG9hZCAoKSB7fVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICB0aGlzLmxhc2VyQ29sbGlkZXIuZ2V0Q29tcG9uZW50KGVuZW15SGl0Q29sbGlkZXIpLmVuZW15Q29udHJvbD10aGlzLkUzOTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/cameraControl.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0c02ciEqSJJmLZwwwoTkkhj', 'cameraControl');
// scripts/game/cameraControl.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var cameraControl = /** @class */ (function (_super) {
    __extends(cameraControl, _super);
    function cameraControl() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.cameraNode = null;
        _this.mainCamera = null;
        _this.offsetX = 0; //相机移动条件:与玩家X轴相差临界值
        _this.y_min = -200;
        _this.y_max = 90;
        _this.maxOffsetX = [
            1300, 50, 1000, 0, 320, 250, 250, 800, 450, 0,
            1000, 1100, 650, 1000, 1000, 1000, 0, 1100, 1800, 1100
        ];
        return _this;
    }
    cameraControl_1 = cameraControl;
    cameraControl.prototype.onLoad = function () {
        cameraControl_1.instance = this;
        this.cameraNode = this.node;
        this.offsetX = 0; //cc.winSize.width/2*0.4;
        this.mainCamera = this.node.getComponent(cc.Camera);
    };
    cameraControl.prototype.start = function () {
    };
    cameraControl.prototype.update = function (dt) {
        if (GameManager_1.default.instance.playerController == null)
            return;
        var worldPos_player = GameManager_1.default.instance.player.parent.convertToWorldSpaceAR(GameManager_1.default.instance.player.position);
        var nodePos_player = this.node.parent.convertToNodeSpaceAR(worldPos_player);
        this.changeCameraX(nodePos_player);
    };
    cameraControl.prototype.changeCameraY = function (screenPos, nodePos_player) {
        var newY = 0;
        if ((screenPos.y - 320) > 70) {
            newY = nodePos_player.y - 70;
            newY = newY > this.y_max ? this.y_max : newY;
            this.node.y = cc.misc.lerp(this.node.y, newY, 0.05);
        }
        else if (screenPos.y < 250) {
            newY = nodePos_player.y + 70;
            newY = newY < this.y_min ? this.y_min : newY;
            this.node.y = cc.misc.lerp(this.node.y, newY, 0.1);
        }
    };
    cameraControl.prototype.changeCameraX = function (nodePos_player) {
        if (Math.abs(nodePos_player.x - this.node.x) >= this.offsetX) {
            if ((this.node.x <= 0 && this.node.x > nodePos_player.x) ||
                (this.node.x >= this.maxOffsetX[0] && this.node.x < nodePos_player.x)) {
                return;
            }
            var newX = nodePos_player.x > this.node.x ? nodePos_player.x - this.offsetX : nodePos_player.x + this.offsetX;
            this.node.x = cc.misc.lerp(this.node.x, newX, 0.1);
        }
    };
    cameraControl.prototype.getPlayerPosInBuildCamera = function (player) {
        var screenPos = new cc.Vec2();
        var toWorldPos = player.parent.convertToWorldSpaceAR(player.getPosition());
        this.mainCamera.getWorldToScreenPoint(toWorldPos, screenPos);
        return screenPos;
    };
    cameraControl.prototype.changeCameraView = function (time, position, zoomRatio) {
        cc.tween(this.node)
            .to(time, { position: position }, { easing: "sineOut" })
            .start();
        cc.tween(this.mainCamera)
            .to(time, { zoomRatio: zoomRatio }, { easing: "sineOut" })
            .start();
    };
    var cameraControl_1;
    cameraControl.instance = null;
    cameraControl = cameraControl_1 = __decorate([
        ccclass
    ], cameraControl);
    return cameraControl;
}(cc.Component));
exports.default = cameraControl;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcY2FtZXJhQ29udHJvbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdsRiw2Q0FBd0M7QUFFbEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUFtRUM7UUFqRUcsZ0JBQVUsR0FBUyxJQUFJLENBQUM7UUFDeEIsZ0JBQVUsR0FBVyxJQUFJLENBQUM7UUFDMUIsYUFBTyxHQUFRLENBQUMsQ0FBQyxDQUFBLG1CQUFtQjtRQUVwQyxXQUFLLEdBQVEsQ0FBQyxHQUFHLENBQUM7UUFDbEIsV0FBSyxHQUFRLEVBQUUsQ0FBQztRQXdEaEIsZ0JBQVUsR0FBVTtZQUNoQixJQUFJLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDO1lBQ3BDLElBQUksRUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUk7U0FDaEQsQ0FBQzs7SUFDTixDQUFDO3NCQW5Fb0IsYUFBYTtJQVM5Qiw4QkFBTSxHQUFOO1FBQ0ksZUFBYSxDQUFDLFFBQVEsR0FBQyxJQUFJLENBQUM7UUFDNUIsSUFBSSxDQUFDLFVBQVUsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQzFCLElBQUksQ0FBQyxPQUFPLEdBQUMsQ0FBQyxDQUFDLENBQUEseUJBQXlCO1FBQ3hDLElBQUksQ0FBQyxVQUFVLEdBQUMsSUFB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QyxHQUFHLENBQUMsQ0FBQztTQUNsRDtJQUNMLENBQUM7SUFDRCxpREFBeUIsR0FBekIsVUFBMEIsTUFBYztRQUNwQyxJQUFJLFNBQVMsR0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM1QixJQUFJLFVBQVUsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBQzNFLElBQUksQ0FBQyxVQUFVLENBQUMscUJBQXFCLENBQUMsVUFBVSxFQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzVELE9BQU8sU0FBUyxDQUFDO0lBQ3JCLENBQUM7SUFDRCx3Q0FBZ0IsR0FBaEIsVUFBaUIsSUFBVyxFQUFDLFFBQWdCLEVBQUMsU0FBZ0I7UUFDMUQsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO2FBQ2xCLEVBQUUsQ0FBQyxJQUFJLEVBQUMsRUFBQyxRQUFRLEVBQUMsUUFBUSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsU0FBUyxFQUFDLENBQUM7YUFDL0MsS0FBSyxFQUFFLENBQUM7UUFDVCxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7YUFDeEIsRUFBRSxDQUFDLElBQUksRUFBQyxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxTQUFTLEVBQUMsQ0FBQzthQUNqRCxLQUFLLEVBQUUsQ0FBQztJQUNiLENBQUM7O0lBckRNLHNCQUFRLEdBQWUsSUFBSSxDQUFDO0lBUmxCLGFBQWE7UUFEakMsT0FBTztPQUNhLGFBQWEsQ0FtRWpDO0lBQUQsb0JBQUM7Q0FuRUQsQUFtRUMsQ0FuRTBDLEVBQUUsQ0FBQyxTQUFTLEdBbUV0RDtrQkFuRW9CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4vR2FtZU1hbmFnZXJcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBjYW1lcmFDb250cm9sIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIGNhbWVyYU5vZGU6Y2MuTm9kZT1udWxsO1xuICAgIG1haW5DYW1lcmE6Y2MuQ2FtZXJhPW51bGw7XG4gICAgb2Zmc2V0WDpudW1iZXI9MDsvL+ebuOacuuenu+WKqOadoeS7tjrkuI7njqnlrrZY6L2055u45beu5Li055WM5YC8XG5cbiAgICB5X21pbjpudW1iZXI9LTIwMDtcbiAgICB5X21heDpudW1iZXI9OTA7XG4gICAgc3RhdGljIGluc3RhbmNlOmNhbWVyYUNvbnRyb2w9bnVsbDtcbiAgICBvbkxvYWQgKCkge1xuICAgICAgICBjYW1lcmFDb250cm9sLmluc3RhbmNlPXRoaXM7XG4gICAgICAgIHRoaXMuY2FtZXJhTm9kZT10aGlzLm5vZGU7XG4gICAgICAgIHRoaXMub2Zmc2V0WD0wOy8vY2Mud2luU2l6ZS53aWR0aC8yKjAuNDtcbiAgICAgICAgdGhpcy5tYWluQ2FtZXJhPXRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuQ2FtZXJhKTtcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7ICAgICBcblxuICAgIH1cblxuICAgIHVwZGF0ZSAoZHQpIHtcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlcj09bnVsbCkgcmV0dXJuO1xuICAgICAgICBsZXQgd29ybGRQb3NfcGxheWVyPUdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci5wYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci5wb3NpdGlvbik7XG4gICAgICAgIGxldCBub2RlUG9zX3BsYXllcj10aGlzLm5vZGUucGFyZW50LmNvbnZlcnRUb05vZGVTcGFjZUFSKHdvcmxkUG9zX3BsYXllcik7XG4gICAgICAgIHRoaXMuY2hhbmdlQ2FtZXJhWChub2RlUG9zX3BsYXllcik7XG4gICAgfVxuICAgIGNoYW5nZUNhbWVyYVkoc2NyZWVuUG9zOmNjLlZlYzIsbm9kZVBvc19wbGF5ZXIpe1xuICAgICAgICBsZXQgbmV3WT0wO1xuICAgICAgICBpZigoc2NyZWVuUG9zLnktMzIwKT43MCl7XG4gICAgICAgICAgICBuZXdZPW5vZGVQb3NfcGxheWVyLnktNzA7XG4gICAgICAgICAgICBuZXdZPW5ld1k+dGhpcy55X21heD90aGlzLnlfbWF4Om5ld1k7XG4gICAgICAgICAgICB0aGlzLm5vZGUueT1jYy5taXNjLmxlcnAodGhpcy5ub2RlLnksbmV3WSwwLjA1KTtcbiAgICAgICAgfWVsc2UgaWYoc2NyZWVuUG9zLnk8MjUwKXtcbiAgICAgICAgICAgIG5ld1k9bm9kZVBvc19wbGF5ZXIueSs3MDtcbiAgICAgICAgICAgIG5ld1k9bmV3WTx0aGlzLnlfbWluP3RoaXMueV9taW46bmV3WTtcbiAgICAgICAgICAgIHRoaXMubm9kZS55PWNjLm1pc2MubGVycCh0aGlzLm5vZGUueSxuZXdZLDAuMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hhbmdlQ2FtZXJhWChub2RlUG9zX3BsYXllcil7XG4gICAgICAgIGlmKE1hdGguYWJzKG5vZGVQb3NfcGxheWVyLngtdGhpcy5ub2RlLngpPj10aGlzLm9mZnNldFgpe1xuICAgICAgICAgICAgaWYoKHRoaXMubm9kZS54PD0wJiZ0aGlzLm5vZGUueD5ub2RlUG9zX3BsYXllci54KXx8XG4gICAgICAgICAgICAodGhpcy5ub2RlLng+PXRoaXMubWF4T2Zmc2V0WFswXSYmdGhpcy5ub2RlLng8bm9kZVBvc19wbGF5ZXIueCkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuZXdYPW5vZGVQb3NfcGxheWVyLng+dGhpcy5ub2RlLng/bm9kZVBvc19wbGF5ZXIueC10aGlzLm9mZnNldFg6bm9kZVBvc19wbGF5ZXIueCt0aGlzLm9mZnNldFg7XG4gICAgICAgICAgICB0aGlzLm5vZGUueD1jYy5taXNjLmxlcnAodGhpcy5ub2RlLngsbmV3WCwwLjEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBsYXllclBvc0luQnVpbGRDYW1lcmEocGxheWVyOmNjLk5vZGUpOmNjLlZlYzJ7XG4gICAgICAgIGxldCBzY3JlZW5Qb3M9bmV3IGNjLlZlYzIoKTtcbiAgICAgICAgbGV0IHRvV29ybGRQb3MgPSBwbGF5ZXIucGFyZW50LmNvbnZlcnRUb1dvcmxkU3BhY2VBUihwbGF5ZXIuZ2V0UG9zaXRpb24oKSk7IFxuICAgICAgICB0aGlzLm1haW5DYW1lcmEuZ2V0V29ybGRUb1NjcmVlblBvaW50KHRvV29ybGRQb3Msc2NyZWVuUG9zKTsgXG4gICAgICAgIHJldHVybiBzY3JlZW5Qb3M7XG4gICAgfVxuICAgIGNoYW5nZUNhbWVyYVZpZXcodGltZTpudW1iZXIscG9zaXRpb246Y2MuVmVjMyx6b29tUmF0aW86bnVtYmVyKXtcbiAgICAgICAgY2MudHdlZW4odGhpcy5ub2RlKVxuICAgICAgICAudG8odGltZSx7cG9zaXRpb246cG9zaXRpb259LHtlYXNpbmc6XCJzaW5lT3V0XCJ9KVxuICAgICAgICAuc3RhcnQoKTtcbiAgICAgICAgY2MudHdlZW4odGhpcy5tYWluQ2FtZXJhKVxuICAgICAgICAudG8odGltZSx7em9vbVJhdGlvOnpvb21SYXRpb30se2Vhc2luZzpcInNpbmVPdXRcIn0pXG4gICAgICAgIC5zdGFydCgpO1xuICAgIH1cblxuICAgIG1heE9mZnNldFg6bnVtYmVyW109W1xuICAgICAgICAxMzAwLDUwLDEwMDAsMCwzMjAsMjUwLDI1MCw4MDAsNDUwLDAsXG4gICAgICAgIDEwMDAsMTEwMCw2NTAsMTAwMCwxMDAwLDEwMDAsMCwxMTAwLDE4MDAsMTEwMFxuICAgIF07XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/enemyDieEffect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5f3ce52MshLyYdrlbm7o2pi', 'enemyDieEffect');
// scripts/game/enemyDieEffect.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var enemyDieEffect = /** @class */ (function (_super) {
    __extends(enemyDieEffect, _super);
    function enemyDieEffect() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.force_x = 10000;
        _this.force_y = 17000;
        _this.animation = null;
        return _this;
        // update (dt) {}
    }
    enemyDieEffect.prototype.onLoad = function () {
        this.animation = this.node.getComponent(cc.Animation);
    };
    enemyDieEffect.prototype.start = function () {
        var _this = this;
        this.play();
        this.scheduleOnce(function () {
            _this.node.destroy();
        }, 2);
    };
    ;
    enemyDieEffect.prototype.play = function () {
        var x = 0;
        var y = 0;
        this.node.children[0].angle = caijiTools_1.caijiTools.random_int(0, 360);
        this.animation.play();
        for (var _i = 0, _a = this.node.children[1].children; _i < _a.length; _i++) {
            var child = _a[_i];
            x = caijiTools_1.caijiTools.random_int(-50, 50) / 100;
            y = caijiTools_1.caijiTools.random_int(30, 100) / 100;
            var normal = cc.v2(x, y).normalizeSelf();
            var rigibody = child.getComponent(cc.RigidBody);
            rigibody.applyAngularImpulse(caijiTools_1.caijiTools.random_int(-500, 500), false);
            rigibody.applyForceToCenter(cc.v2(normal.x * this.force_x, normal.y * this.force_y), true);
        }
    };
    enemyDieEffect = __decorate([
        ccclass
    ], enemyDieEffect);
    return enemyDieEffect;
}(cc.Component));
exports.default = enemyDieEffect;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcZW5lbXlEaWVFZmZlY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsNENBQTJDO0FBRXJDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBK0JDO1FBN0JHLGFBQU8sR0FBUSxLQUFLLENBQUM7UUFDckIsYUFBTyxHQUFRLEtBQUssQ0FBQztRQUNyQixlQUFTLEdBQWMsSUFBSSxDQUFDOztRQTBCNUIsaUJBQWlCO0lBQ3JCLENBQUM7SUF6QkcsK0JBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFDRCw4QkFBSyxHQUFMO1FBQUEsaUJBS0M7UUFKRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDWixJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsS0FBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN4QixDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFDVCxDQUFDO0lBQUEsQ0FBQztJQUNGLDZCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsR0FBQyxDQUFDLENBQUM7UUFDUixJQUFJLENBQUMsR0FBQyxDQUFDLENBQUM7UUFDUixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUMsdUJBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3pELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdEIsS0FBaUIsVUFBOEIsRUFBOUIsS0FBQSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQTlCLGNBQThCLEVBQTlCLElBQThCLEVBQUM7WUFBNUMsSUFBSSxLQUFLLFNBQUE7WUFDVCxDQUFDLEdBQUMsdUJBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLEVBQUMsRUFBRSxDQUFDLEdBQUMsR0FBRyxDQUFDO1lBQ3BDLENBQUMsR0FBQyx1QkFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFLEVBQUMsR0FBRyxDQUFDLEdBQUMsR0FBRyxDQUFDO1lBQ3BDLElBQUksTUFBTSxHQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3RDLElBQUksUUFBUSxHQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzlDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyx1QkFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsRUFBQyxLQUFLLENBQUMsQ0FBQztZQUNwRSxRQUFRLENBQUMsa0JBQWtCLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxPQUFPLEVBQUMsTUFBTSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7U0FDeEY7SUFDTCxDQUFDO0lBNUJnQixjQUFjO1FBRGxDLE9BQU87T0FDYSxjQUFjLENBK0JsQztJQUFELHFCQUFDO0NBL0JELEFBK0JDLENBL0IyQyxFQUFFLENBQUMsU0FBUyxHQStCdkQ7a0JBL0JvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vY2FpamlUb29sc1wiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGVuZW15RGllRWZmZWN0IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIGZvcmNlX3g6bnVtYmVyPTEwMDAwO1xuICAgIGZvcmNlX3k6bnVtYmVyPTE3MDAwO1xuICAgIGFuaW1hdGlvbjpjYy5BbmltYXRpb249bnVsbDtcblxuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uPXRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKTtcbiAgICB9XG4gICAgc3RhcnQoKXtcbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xuICAgICAgICB9LDIpO1xuICAgIH07XG4gICAgcGxheSgpe1xuICAgICAgICBsZXQgeD0wO1xuICAgICAgICBsZXQgeT0wO1xuICAgICAgICB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uYW5nbGU9Y2FpamlUb29scy5yYW5kb21faW50KDAsMzYwKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb24ucGxheSgpO1xuICAgICAgICBmb3IobGV0IGNoaWxkIG9mIHRoaXMubm9kZS5jaGlsZHJlblsxXS5jaGlsZHJlbil7XG4gICAgICAgICAgICB4PWNhaWppVG9vbHMucmFuZG9tX2ludCgtNTAsNTApLzEwMDtcbiAgICAgICAgICAgIHk9Y2FpamlUb29scy5yYW5kb21faW50KDMwLDEwMCkvMTAwO1xuICAgICAgICAgICAgbGV0IG5vcm1hbD1jYy52Mih4LHkpLm5vcm1hbGl6ZVNlbGYoKTtcbiAgICAgICAgICAgIGxldCByaWdpYm9keT1jaGlsZC5nZXRDb21wb25lbnQoY2MuUmlnaWRCb2R5KTtcbiAgICAgICAgICAgIHJpZ2lib2R5LmFwcGx5QW5ndWxhckltcHVsc2UoY2FpamlUb29scy5yYW5kb21faW50KC01MDAsNTAwKSxmYWxzZSk7XG4gICAgICAgICAgICByaWdpYm9keS5hcHBseUZvcmNlVG9DZW50ZXIoY2MudjIobm9ybWFsLngqdGhpcy5mb3JjZV94LG5vcm1hbC55KnRoaXMuZm9yY2VfeSksdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/damageLabel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2ba7dBjhcBPT4tDUpx3sf4S', 'damageLabel');
// scripts/game/damageLabel.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var damageTipPool_1 = require("./damageTipPool");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageLabel = /** @class */ (function (_super) {
    __extends(damageLabel, _super);
    function damageLabel() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        _this.damage = 0;
        _this.color = cc.Color.GREEN;
        return _this;
    }
    damageLabel.prototype.onLoad = function () {
        this.label = this.node.getComponent(cc.Label);
    };
    damageLabel.prototype.onEnable = function () {
        this.node.color = this.color;
        if (this.color.g == 255 && this.color.r == 0) {
            this.node.getComponent(cc.Label).string = "+" + this.damage.toString();
            this.addHpAciton();
        }
        else {
            this.node.getComponent(cc.Label).string = this.damage.toString();
            this.damageAction();
        }
    };
    damageLabel.prototype.addHpAciton = function () {
        var _this = this;
        this.label.fontSize = 0;
        this.label.lineHeight = 0;
        //this.node.opacity=255;
        cc.tween(this.node)
            .parallel(cc.tween().by(0.01, { opacity: 255 }), cc.tween().by(0.5, { y: 80 }))
            .by(0.2, { opacity: -255, y: 40 })
            .call(function () {
            damageTipPool_1.default.instance.recoveryDmgLabel(_this.node);
        })
            .start();
        cc.tween(this.label)
            .to(0.1, { fontSize: 32, lineHeight: 32 })
            .start();
    };
    damageLabel.prototype.damageAction = function () {
        var _this = this;
        this.node.opacity = 255;
        cc.tween(this.node)
            .parallel(cc.tween().by(0.4, { y: 120 }), cc.tween().to(0.06, { scale: 1.4 }).to(0.1, { scale: 1 }))
            .by(0.2, { opacity: -255, y: 60 })
            .call(function () {
            damageTipPool_1.default.instance.recoveryDmgLabel(_this.node);
        })
            .start();
        /*         cc.tween(this.label)
                .to(0.06,{fontSize:45,lineHeight:45})
                .to(0.07,{fontSize:32,lineHeight:32})
                .start(); */
    };
    damageLabel.prototype.reuse = function () {
        /*         let size=(this.node.color.g==255&&this.color.r==0)?0:32;
                this.label.fontSize=size;
                this.label.lineHeight=size;
                this.node.opacity=255; */
    };
    damageLabel.prototype.unuse = function () {
        cc.Tween.stopAllByTarget(this.node);
        if (this.label == null) {
            this.label = this.node.getComponent(cc.Label);
        }
        this.node.scale = 0;
        /*         this.label.fontSize=0;
                this.label.lineHeight=0; */
        this.node.active = false;
    };
    damageLabel = __decorate([
        ccclass
    ], damageLabel);
    return damageLabel;
}(cc.Component));
exports.default = damageLabel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcZGFtYWdlTGFiZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsaURBQTRDO0FBRXRDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXlDLCtCQUFZO0lBQXJEO1FBQUEscUVBd0VDO1FBdEVHLFdBQUssR0FBVSxJQUFJLENBQUM7UUFDcEIsWUFBTSxHQUFRLENBQUMsQ0FBQztRQUNoQixXQUFLLEdBQVUsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7O0lBb0VsQyxDQUFDO0lBbEVHLDRCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBQ0QsOEJBQVEsR0FBUjtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDM0IsSUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBRSxHQUFHLElBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUUsQ0FBQyxFQUFDO1lBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUMsR0FBRyxHQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDbkUsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ3RCO2FBQUk7WUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENB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eEVELEFBd0VDLENBeEV3QyxFQUFFLENBQUMsU0FBUyxHQXdFcEQ7a0JBeEVvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCBkYW1hZ2VUaXBQb29sIGZyb20gXCIuL2RhbWFnZVRpcFBvb2xcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBkYW1hZ2VMYWJlbCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBsYWJlbDpjYy5MYWJlbD1udWxsO1xuICAgIGRhbWFnZTpudW1iZXI9MDtcbiAgICBjb2xvcjpjYy5Db2xvcj1jYy5Db2xvci5HUkVFTjtcblxuICAgIG9uTG9hZCgpe1xuICAgICAgICB0aGlzLmxhYmVsPXRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xuICAgIH1cbiAgICBvbkVuYWJsZSgpe1xuICAgICAgICB0aGlzLm5vZGUuY29sb3I9dGhpcy5jb2xvcjtcbiAgICAgICAgaWYodGhpcy5jb2xvci5nPT0yNTUmJnRoaXMuY29sb3Iucj09MCl7XG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmc9XCIrXCIrdGhpcy5kYW1hZ2UudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuYWRkSHBBY2l0b24oKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmc9dGhpcy5kYW1hZ2UudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuZGFtYWdlQWN0aW9uKCk7XG4gICAgICAgIH1cblxuICAgIH1cbiAgICBhZGRIcEFjaXRvbigpe1xuICAgICAgICB0aGlzLmxhYmVsLmZvbnRTaXplPTA7XG4gICAgICAgIHRoaXMubGFiZWwubGluZUhlaWdodD0wO1xuICAgICAgICAvL3RoaXMubm9kZS5vcGFjaXR5PTI1NTtcbiAgICAgICAgY2MudHdlZW4odGhpcy5ub2RlKVxuICAgICAgICAucGFyYWxsZWwoXG4gICAgICAgICAgICBjYy50d2VlbigpLmJ5KDAuMDEse29wYWNpdHk6MjU1fSksXG4gICAgICAgICAgICBjYy50d2VlbigpLmJ5KDAuNSx7eTo4MH0pXG4gICAgICAgIClcbiAgICAgICAgLmJ5KDAuMix7b3BhY2l0eTotMjU1LHk6NDB9KVxuICAgICAgICAuY2FsbCgoKT0+e1xuICAgICAgICAgICAgZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5yZWNvdmVyeURtZ0xhYmVsKHRoaXMubm9kZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5zdGFydCgpO1xuICAgICAgICBjYy50d2Vlbih0aGlzLmxhYmVsKVxuICAgICAgICAudG8oMC4xLHtmb250U2l6ZTozMixsaW5lSGVpZ2h0OjMyfSlcbiAgICAgICAgLnN0YXJ0KCk7XG4gICAgfVxuICAgIGRhbWFnZUFjdGlvbigpe1xuICAgICAgICB0aGlzLm5vZGUub3BhY2l0eT0yNTU7XG4gICAgICAgIGNjLnR3ZWVuKHRoaXMubm9kZSlcbiAgICAgICAgLnBhcmFsbGVsKFxuICAgICAgICAgICAgY2MudHdlZW4oKS5ieSgwLjQse3k6MTIwfSksXG4gICAgICAgICAgICBjYy50d2VlbigpLnRvKDAuMDYse3NjYWxlOjEuNH0pLnRvKDAuMSx7c2NhbGU6MX0pXG4gICAgICAgIClcbiAgICAgICAgLmJ5KDAuMix7b3BhY2l0eTotMjU1LHk6NjB9KVxuICAgICAgICAuY2FsbCgoKT0+e1xuICAgICAgICAgICAgZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5yZWNvdmVyeURtZ0xhYmVsKHRoaXMubm9kZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5zdGFydCgpO1xuLyogICAgICAgICBjYy50d2Vlbih0aGlzLmxhYmVsKVxuICAgICAgICAudG8oMC4wNix7Zm9udFNpemU6NDUsbGluZUhlaWdodDo0NX0pXG4gICAgICAgIC50bygwLjA3LHtmb250U2l6ZTozMixsaW5lSGVpZ2h0OjMyfSlcbiAgICAgICAgLnN0YXJ0KCk7ICovXG4gICAgfVxuXG4gICAgcmV1c2UoKXtcbi8qICAgICAgICAgbGV0IHNpemU9KHRoaXMubm9kZS5jb2xvci5nPT0yNTUmJnRoaXMuY29sb3Iucj09MCk/MDozMjtcbiAgICAgICAgdGhpcy5sYWJlbC5mb250U2l6ZT1zaXplO1xuICAgICAgICB0aGlzLmxhYmVsLmxpbmVIZWlnaHQ9c2l6ZTtcbiAgICAgICAgdGhpcy5ub2RlLm9wYWNpdHk9MjU1OyAqL1xuICAgIH1cbiAgICB1bnVzZSgpe1xuICAgICAgICBjYy5Ud2Vlbi5zdG9wQWxsQnlUYXJnZXQodGhpcy5ub2RlKTtcbiAgICAgICAgaWYodGhpcy5sYWJlbD09bnVsbCl7XG4gICAgICAgICAgICB0aGlzLmxhYmVsPXRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubm9kZS5zY2FsZT0wO1xuLyogICAgICAgICB0aGlzLmxhYmVsLmZvbnRTaXplPTA7XG4gICAgICAgIHRoaXMubGFiZWwubGluZUhlaWdodD0wOyAqL1xuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlPWZhbHNlO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/FX_flagThunder.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b2c3fAOhHxB9Y94CRUWHYBp', 'FX_flagThunder');
// scripts/game/FX_flagThunder.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var enemyHitCollider_1 = require("./enemyHitCollider");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var FX_flagThunder = /** @class */ (function (_super) {
    __extends(FX_flagThunder, _super);
    function FX_flagThunder() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.damage = 0;
        return _this;
    }
    // onLoad () {}
    FX_flagThunder.prototype.start = function () {
        var _this = this;
        this.scheduleOnce(function () {
            _this.node.getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
        }, 0);
        this.scheduleOnce(function () {
            _this.node.destroy();
        }, 2);
    };
    FX_flagThunder = __decorate([
        ccclass
    ], FX_flagThunder);
    return FX_flagThunder;
}(cc.Component));
exports.default = FX_flagThunder;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRlhfZmxhZ1RodW5kZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsdURBQWtEO0FBRTVDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBY0M7UUFYRyxZQUFNLEdBQVEsQ0FBQyxDQUFDOztJQVdwQixDQUFDO0lBVkcsZUFBZTtJQUVmLDhCQUFLLEdBQUw7UUFBQSxpQkFPQztRQU5HLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxLQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQywwQkFBZ0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFJLENBQUMsSUFBSSxFQUFDLEtBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4RSxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDTCxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsS0FBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN4QixDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFDVCxDQUFDO0lBYmdCLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0FjbEM7SUFBRCxxQkFBQztDQWRELEFBY0MsQ0FkMkMsRUFBRSxDQUFDLFNBQVMsR0FjdkQ7a0JBZG9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IGVuZW15SGl0Q29sbGlkZXIgZnJvbSBcIi4vZW5lbXlIaXRDb2xsaWRlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZYX2ZsYWdUaHVuZGVyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuXG4gICAgZGFtYWdlOm51bWJlcj0wO1xuICAgIC8vIG9uTG9hZCAoKSB7fVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgdGhpcy5ub2RlLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5oaXQodGhpcy5ub2RlLHRoaXMuZGFtYWdlKTtcbiAgICAgICAgfSwwKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XG4gICAgICAgIH0sMik7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/miniBossController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4e037uL5fBG7J2DBKqTqMrj', 'miniBossController');
// scripts/game/miniBossController.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var E39Laser_1 = require("./E39Laser");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var thunder_chase_1 = require("./thunder_chase");
var thunder_jolt_1 = require("./thunder_jolt");
var bossHp_1 = require("./ui/bossHp");
var uiManager_1 = require("./ui/uiManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["laser"] = 0] = "laser";
    damageCollider[damageCollider["forward"] = 1] = "forward";
    damageCollider[damageCollider["scratch"] = 2] = "scratch";
})(damageCollider || (damageCollider = {}));
var miniBossController = /** @class */ (function (_super) {
    __extends(miniBossController, _super);
    function miniBossController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.thunder_jolt_prefab = null;
        _this.thunder_one_prefab = null;
        _this.thunder_many_prefab1 = null;
        _this.thunder_many_prefab2 = null;
        _this.flag_prefab = null;
        _this.tpFx_start = null;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.dieEffectName = "";
        _this.rushSpeed = 700; //冲击速度
        _this.moveSpeed = 140; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 0.7; //ai间隔
        _this.stopDistance = 400; //停止距离
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 25000; //手里剑攻击作用力
        _this.beHitForce_x = 25000; //普通攻击作用力
        _this.beHitForce_y_shuriken = 50000; //普通攻击作用力
        _this.beHitForce_x_attack3 = 350000; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.allowMoveTime = 2; //允许move状态最长时间
        _this.allowAttackTime = 2; //允许连续attack次数
        _this.attackTimes = 0; //attack连续次数
        _this.skill1_x = 0; //泰山压顶落地坐标（升空时玩家位置）
        _this.isStartRush = false; //开始冲撞
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isMove = false; //是否处于移动状态
        _this.isWuDi = true; //无敌状态
        _this.dmgCollider = null;
        _this.isHighLight = false;
        _this.highLight_A = {
            a: 0.5
        };
        _this.nomalAttackMax = 5; //普通攻击连续最大次数
        _this.normalAttackTimes = 0; //普通攻击次数（达一定次数后升空放小蜘蛛）
        _this.lastAttackState = null;
        _this.spiderlingPrefab = null;
        _this.attackType = [];
        return _this;
    }
    miniBossController.prototype.onLoad = function () {
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    miniBossController.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
    };
    miniBossController.prototype.init = function () {
        uiManager_1.default.ins.showBossHp(bossHp_1.bossName.miniBoss);
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.ThunderTotemStruck);
    };
    miniBossController.prototype.appearFinished = function () {
        this.isWuDi = false;
        this.idle();
    };
    miniBossController.prototype.update = function () {
        this.highLightAction();
        if (this.isMove == false)
            return;
        var distance = this.getDistanceX();
        if (Math.abs(distance) < this.stopDistance) {
            this.attack();
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.attack)
                return;
            this.moveToPlayer();
        }
    };
    miniBossController.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "wall") {
            contact.disabled = true;
        }
    };
    miniBossController.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    miniBossController.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    miniBossController.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    miniBossController.prototype.AI_start = function () {
        var _this = this;
        if (this.isDie)
            return;
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.changeMovState(false);
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            if ([animationState_1.enemyState.idle].includes(this.enemyAnimation.state))
                return;
            this.enemyAnimation.changeState(animationState_1.enemyState.idle, 1, true, true);
            return;
        }
        var distance = Math.abs(this.getDistanceX());
        if (distance < this.stopDistance) {
            this.attack();
        }
        else {
            this.changeDirection();
            this.enemyAnimation.changeState(animationState_1.enemyState.move, 1, true, true, true);
            this.changeMovState(true);
            this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.moveSpeed : this.moveSpeed;
        }
    };
    miniBossController.prototype.AI_stop = function () {
        this.idle();
    };
    miniBossController.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    miniBossController.prototype.idle = function () {
        var _this = this;
        this.changeMovState(false);
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.idle, 1, true, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.idle)
                return;
            _this.AI_start();
        }, this.AI_interval);
    };
    miniBossController.prototype.attack = function () {
        this.changeDirection();
        this.setRigibodySpeed(0, 0);
        this.changeMovState(false);
        this.setLinearDamping(0);
        this.normalAttackTimes++;
        if (this.getDistanceX() < 150) {
            this.blinkStart();
            return;
        }
        if (this.attackType.length == 0) {
            this.attackType = [
                animationState_1.enemyState.call_of_lighting,
                animationState_1.enemyState.lighting_chase_start,
                animationState_1.enemyState.storm_burst,
                animationState_1.enemyState.thunder_jolt
            ];
        }
        var random = caijiTools_1.caijiTools.random_int(0, this.attackType.length - 1);
        var state = this.attackType[random];
        if (state == this.lastAttackState) {
            if (random == 0) {
                state = this.attackType[random + 1];
            }
            else if (random == this.attackType.length - 1) {
                state = this.attackType[random - 1];
            }
            else {
                state = this.attackType[random - 1];
            }
        }
        this[animationState_1.enemyState[state]]();
        this.attackType.splice(this.attackType.indexOf(state), 1);
        // switch (state) {
        //     case enemyState.call_of_lighting:
        //         this.call_of_lighting();
        //         break;
        //     case enemyState.lighting_chase_start:
        //         this.lighting_chase_start();
        //         break;
        //     case enemyState.storm_burst:
        //         this.storm_burst();
        //         break;
        //     case enemyState.thunder_jolt:
        //         this.thunder_jolt();
        //         break;
        // }
        this.lastAttackState = state;
    };
    //召唤旗帜
    miniBossController.prototype.call_of_lighting = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E27TotemCast);
        this.enemyAnimation.changeState(animationState_1.enemyState.call_of_lighting, 1, false);
        this.scheduleOnce(function () {
            _this.FX_flag();
        }, 1.3);
    };
    //持续召唤雷球（持续多段伤害）
    miniBossController.prototype.lighting_chase_start = function () {
        GameManager_1.default.instance.playerController.thunder_chase_cd = false;
        this.enemyAnimation.changeState(animationState_1.enemyState.lighting_chase_start, 1, false);
    };
    miniBossController.prototype.lighting_chase_middle = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E27Lightning);
        this.enemyAnimation.changeState(animationState_1.enemyState.lighting_chase_middle, 1, true);
        this.schedule(function () {
            _this.FX_thunerBall_pos();
        }, 0.55, 8);
        this.scheduleOnce(function () {
            _this.lighting_chase_end();
        }, 5);
    };
    miniBossController.prototype.lighting_chase_end = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.lighting_chase_end, 1, true);
    };
    //召唤溜溜球
    miniBossController.prototype.thunder_jolt = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E27JoltCast);
        this.enemyAnimation.changeState(animationState_1.enemyState.thunder_jolt, 1, false);
        this.scheduleOnce(function () {
            _this.FX_thunder_jolt();
        }, 1);
    };
    //雷球风暴（扩散单段伤害）
    miniBossController.prototype.storm_burst = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.storm_burst, 1, false);
        this.FX_thunder_stormBurst1();
    };
    //传送动作开始
    miniBossController.prototype.blinkStart = function () {
        this.setRigibodySpeed(0);
        this.changeMovState(false);
        this.enemyAnimation.changeState(animationState_1.enemyState.blink_start, 1, false, true);
        this.scheduleOnce(function () {
            audioManager_1.default.playAudio(audioNameMgr_1.audioName.BlinkStart);
        }, 0.2);
    };
    //传送开始动画完成
    miniBossController.prototype.binkStartCompelete = function () {
        this.createTPFX();
        this.teleportEnd();
    };
    //传送至指定地点
    miniBossController.prototype.teleportEnd = function () {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.BlinkEnd);
        var x = 0;
        if (GameManager_1.default.instance.player.x < 350) {
            x = GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(400, cc.winSize.width / 1.6);
        }
        else if (GameManager_1.default.instance.player.x > 1150) {
            x = GameManager_1.default.instance.player.x - caijiTools_1.caijiTools.random_int(400, cc.winSize.width / 1.5);
        }
        else {
            var random = caijiTools_1.caijiTools.random_int(1, 10);
            x = random % 2 == 0 ?
                GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(-cc.winSize.width / 1.6, -400) :
                GameManager_1.default.instance.player.x + caijiTools_1.caijiTools.random_int(400, cc.winSize.width / 1.5);
        }
        this.node.x = x;
        this.createTPFX();
        this.enemyAnimation.changeState(animationState_1.enemyState.blink_end, 1, false, true);
    };
    //TPFX
    miniBossController.prototype.createTPFX = function () {
        var fx = cc.instantiate(this.tpFx_start);
        fx.setParent(this.node.parent);
        fx.setSiblingIndex(this.node.getSiblingIndex() + 1);
        fx.setPosition(this.node.x, this.node.y + this.damageLabelOffsetY);
        fx.active = true;
    };
    //生成旗帜
    miniBossController.prototype.FX_flag = function () {
        var flag = cc.instantiate(this.flag_prefab);
        flag.setParent(this.node.parent);
        flag.setSiblingIndex(this.node.getSiblingIndex());
        flag.setPosition(GameManager_1.default.instance.player.x, -162);
        flag.active = true;
    };
    //溜溜球
    miniBossController.prototype.FX_thunder_jolt = function () {
        var jolt = cc.instantiate(this.thunder_jolt_prefab);
        jolt.setParent(this.node.parent);
        jolt.setSiblingIndex(GameManager_1.default.instance.player.getSiblingIndex() + 1);
        jolt.getComponent(thunder_jolt_1.default).damage = this.damage;
        var x = this.skeleton.node.scaleX > 0 ? this.node.x - 140 : this.node.x + 140;
        var y = this.node.y + 130;
        jolt.setPosition(x, y);
        jolt.active = true;
        var forceX = this.skeleton.node.scaleX > 0 ? -50000 : 50000;
        var forceY = Math.abs(forceX * 3);
        jolt.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(forceX, forceY), true);
    };
    //定点雷球
    miniBossController.prototype.FX_thunerBall_pos = function () {
        var thunder = cc.instantiate(this.thunder_one_prefab);
        thunder.setParent(this.node.parent);
        thunder.setSiblingIndex(GameManager_1.default.instance.player.getSiblingIndex() + 1);
        thunder.setPosition(GameManager_1.default.instance.player.x, this.node.y + 60);
        thunder.getComponent(thunder_chase_1.default).damage = this.damage / 4;
        thunder.active = true;
    };
    //扩散雷球 前摇
    miniBossController.prototype.FX_thunder_stormBurst1 = function () {
        var _this = this;
        var burst = cc.instantiate(this.thunder_many_prefab1);
        burst.setParent(this.node.parent);
        burst.setSiblingIndex(GameManager_1.default.instance.player.getSiblingIndex() + 1);
        var x = this.skeleton.node.scaleX > 0 ? this.node.x - 140 : this.node.x + 140;
        var y = this.node.y + 130;
        burst.setPosition(x, y);
        burst.active = true;
        this.scheduleOnce(function () {
            burst.children[0].getComponent(cc.ParticleSystem3D).stop();
            _this.FX_thunder_stormBurst2(burst.getSiblingIndex() + 1);
            _this.scheduleOnce(function () {
                burst.destroy();
            }, 1);
        }, 0.5);
    };
    //扩散雷球 圈状雷球
    miniBossController.prototype.FX_thunder_stormBurst2 = function (index) {
        var burst = cc.instantiate(this.thunder_many_prefab2);
        burst.setParent(this.node.parent);
        burst.setSiblingIndex(index);
        var x = this.skeleton.node.scaleX > 0 ? this.node.x - 140 : this.node.x + 140;
        var y = this.node.y + 130;
        burst.setPosition(x, y);
        burst.active = true;
    };
    miniBossController.prototype.changeDirection = function () {
        if (GameManager_1.default.instance.player == null)
            return;
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x - this.node.x > 0 ? -this.scaleX_skeleton : this.scaleX_skeleton;
        //this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    miniBossController.prototype.laugh = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.laugh, 1, false, true);
    };
    miniBossController.prototype.die = function () {
        this.isDie = true;
        this.setRigibodySpeed(0, 0);
        this.changeMovState(false);
        this.unscheduleAllCallbacks();
        this.enemyAnimation.changeState(animationState_1.enemyState.die, 1, false, true);
        this.dieCount();
    };
    miniBossController.prototype.move = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.Move, 1, true, true);
    };
    miniBossController.prototype.moveToPlayer = function () {
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    miniBossController.prototype.openWuDi = function () {
        this.isWuDi = true;
    };
    miniBossController.prototype.closeWuDi = function () {
        this.isWuDi = false;
    };
    //脚步
    miniBossController.prototype.footStep = function () {
    };
    miniBossController.prototype.beHit = function (damage, dmgType) {
        if (this.isDie || this.isWuDi)
            return;
        // let isContinue = this.checkIsSwordRain(dmgType);//设置剑雨攻击间隔
        // if (isContinue == 0) return;
        this.changeState_beHit(dmgType);
        var x = this.skeleton.node.scaleX > 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        this.highLight();
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        this.updateHp(damage);
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
    };
    miniBossController.prototype.hit = function (damage) {
        if (this.dmgCollider != damageCollider.laser) {
            this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(this.node, damage);
        }
    };
    miniBossController.prototype.laserHit = function () {
        if (this.dmgCollider != damageCollider.laser)
            return;
        this.getDamageCollider().getComponent(E39Laser_1.default).laserCollider.getComponent(enemyHitCollider_1.default).hit(this.node, this.damage);
        this.hideDamageCollider();
    };
    miniBossController.prototype.updateHp = function (damage) {
        this.hp -= damage;
        uiManager_1.default.ins.bossHp.addHp(-damage);
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    miniBossController.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    miniBossController.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.get_hurt2;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.knock_down;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.get_hurt1;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    miniBossController.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    miniBossController.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    miniBossController.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    miniBossController.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    miniBossController.prototype.highLightAction = function () {
        if (this.isHighLight) {
            this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, this.highLight_A.a]);
        }
    };
    miniBossController.prototype.highLight = function () {
        var _this = this;
        if (this.isHighLight)
            return;
        this.isHighLight = true;
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        cc.tween(this.highLight_A)
            .to(0.1, { a: 0 })
            .call(function () {
            _this.closeHighLight();
        })
            .start();
    };
    miniBossController.prototype.closeHighLight = function () {
        this.isHighLight = false;
        this.highLight_A.a = 0.5;
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    miniBossController.prototype.getDistanceX = function () {
        return Math.abs(this.node.x - GameManager_1.default.instance.player.x);
    };
    __decorate([
        property(cc.Prefab)
    ], miniBossController.prototype, "thunder_jolt_prefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], miniBossController.prototype, "thunder_one_prefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], miniBossController.prototype, "thunder_many_prefab1", void 0);
    __decorate([
        property(cc.Prefab)
    ], miniBossController.prototype, "thunder_many_prefab2", void 0);
    __decorate([
        property(cc.Prefab)
    ], miniBossController.prototype, "flag_prefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], miniBossController.prototype, "tpFx_start", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], miniBossController.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], miniBossController.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.String)
    ], miniBossController.prototype, "dieEffectName", void 0);
    miniBossController = __decorate([
        ccclass
    ], miniBossController);
    return miniBossController;
}(enemyBase_1.default));
exports.default = miniBossController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcbWluaUJvc3NDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdEQUE0QztBQUM1Qyw0Q0FBMkM7QUFDM0MscURBQWdEO0FBQ2hELG1EQUFxRTtBQUNyRSx1Q0FBa0M7QUFDbEMsbURBQThDO0FBQzlDLHlDQUFvQztBQUNwQyx1REFBa0Q7QUFDbEQsbUNBQThCO0FBQzlCLDZDQUF3QztBQUN4QyxpREFBNEM7QUFDNUMsK0NBQTBDO0FBQzFDLHNDQUF1QztBQUN2Qyw0Q0FBdUM7QUFFakMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFDNUMsSUFBSyxjQUlKO0FBSkQsV0FBSyxjQUFjO0lBQ2YscURBQUssQ0FBQTtJQUNMLHlEQUFPLENBQUE7SUFDUCx5REFBTyxDQUFBO0FBQ1gsQ0FBQyxFQUpJLGNBQWMsS0FBZCxjQUFjLFFBSWxCO0FBRUQ7SUFBZ0Qsc0NBQVM7SUFBekQ7UUFBQSxxRUF5ZUM7UUF0ZUcseUJBQW1CLEdBQWMsSUFBSSxDQUFDO1FBRXRDLHdCQUFrQixHQUFjLElBQUksQ0FBQztRQUVyQywwQkFBb0IsR0FBYyxJQUFJLENBQUM7UUFFdkMsMEJBQW9CLEdBQWMsSUFBSSxDQUFDO1FBRXZDLGlCQUFXLEdBQWMsSUFBSSxDQUFDO1FBRTlCLGdCQUFVLEdBQWMsSUFBSSxDQUFDO1FBRzdCLHdCQUFrQixHQUFXLENBQUMsQ0FBQztRQUUvQix3QkFBa0IsR0FBVyxDQUFDLENBQUM7UUFFL0IsbUJBQWEsR0FBVyxFQUFFLENBQUM7UUFFM0IsZUFBUyxHQUFXLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDOUIsZUFBUyxHQUFXLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDOUIsY0FBUSxHQUFXLENBQUMsQ0FBQyxDQUFBLE1BQU07UUFDM0IsaUJBQVcs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QUFRLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekQsQ0FBQztJQUNELHlDQUFZLEdBQVo7UUFDSSxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFyZUQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzttRUFDa0I7SUFFdEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztrRUFDaUI7SUFFckM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztvRUFDbUI7SUFFdkM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztvRUFDbUI7SUFFdkM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsyREFDVTtJQUU5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzBEQUNTO0lBRzdCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDO2tFQUNwQjtJQUUvQjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQztrRUFDcEI7SUFFL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzs2REFDTztJQXBCVixrQkFBa0I7UUFEdEMsT0FBTztPQUNhLGtCQUFrQixDQXlldEM7SUFBRCx5QkFBQztDQXplRCxBQXllQyxDQXplK0MsbUJBQVMsR0F5ZXhEO2tCQXplb0Isa0JBQWtCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IHsgYXR0YWNrVHlwZSwgZW5lbXlOYW1lLCBlbmVteVN0YXRlIH0gZnJvbSBcIi4vYW5pbWF0aW9uU3RhdGVcIjtcbmltcG9ydCBFMzlMYXNlciBmcm9tIFwiLi9FMzlMYXNlclwiO1xuaW1wb3J0IGVuZW15QW5pbWF0aW9uIGZyb20gXCIuL2VuZW15QW5pbWF0aW9uXCI7XG5pbXBvcnQgZW5lbXlCYXNlIGZyb20gXCIuL2VuZW15QmFzZVwiO1xuaW1wb3J0IGVuZW15SGl0Q29sbGlkZXIgZnJvbSBcIi4vZW5lbXlIaXRDb2xsaWRlclwiO1xuaW1wb3J0IEV2ZW50cyBmcm9tIFwiLi9FdmVudHNcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xuaW1wb3J0IHRodW5kZXJfY2hhc2UgZnJvbSBcIi4vdGh1bmRlcl9jaGFzZVwiO1xuaW1wb3J0IHRodW5kZXJfam9sdCBmcm9tIFwiLi90aHVuZGVyX2pvbHRcIjtcbmltcG9ydCB7IGJvc3NOYW1lIH0gZnJvbSBcIi4vdWkvYm9zc0hwXCI7XG5pbXBvcnQgdWlNYW5hZ2VyIGZyb20gXCIuL3VpL3VpTWFuYWdlclwiO1xuXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xuZW51bSBkYW1hZ2VDb2xsaWRlciB7XG4gICAgbGFzZXIsXG4gICAgZm9yd2FyZCxcbiAgICBzY3JhdGNoXG59XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgbWluaUJvc3NDb250cm9sbGVyIGV4dGVuZHMgZW5lbXlCYXNlIHtcblxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXG4gICAgdGh1bmRlcl9qb2x0X3ByZWZhYjogY2MuUHJlZmFiID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHRodW5kZXJfb25lX3ByZWZhYjogY2MuUHJlZmFiID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHRodW5kZXJfbWFueV9wcmVmYWIxOiBjYy5QcmVmYWIgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXG4gICAgdGh1bmRlcl9tYW55X3ByZWZhYjI6IGNjLlByZWZhYiA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcbiAgICBmbGFnX3ByZWZhYjogY2MuUHJlZmFiID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHRwRnhfc3RhcnQ6IGNjLlByZWZhYiA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5GbG9hdCwgdG9vbHRpcDogXCLkvKTlrrPmlYjmnpx46L205YGP56e75YC8XCIgfSlcbiAgICBkYW1hZ2VMYWJlbE9mZnNldFg6IG51bWJlciA9IDA7XG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuRmxvYXQsIHRvb2x0aXA6IFwi5Lyk5a6z5pWI5p6ceei9tOWBj+enu+WAvFwiIH0pXG4gICAgZGFtYWdlTGFiZWxPZmZzZXRZOiBudW1iZXIgPSAwO1xuICAgIEBwcm9wZXJ0eShjYy5TdHJpbmcpXG4gICAgZGllRWZmZWN0TmFtZTogc3RyaW5nID0gXCJcIjtcblxuICAgIHJ1c2hTcGVlZDogbnVtYmVyID0gNzAwOy8v5Yay5Ye76YCf5bqmXG4gICAgbW92ZVNwZWVkOiBudW1iZXIgPSAxNDA7Ly/np7vliqjpgJ/luqZcbiAgICBub3dTcGVlZDogbnVtYmVyID0gMDsvL+W9k+WJjemAn+W6plxuICAgIEFJX2ludGVydmFsOiBudW1iZXIgPSAwLjc7Ly9haemXtOmalFxuICAgIHN0b3BEaXN0YW5jZTogbnVtYmVyID0gNDAwOy8v5YGc5q2i6Led56a7XG4gICAgaHA6IG51bWJlciA9IDA7XG4gICAgaHBUaW1lczogbnVtYmVyID0gMTsvL+ihgOmHj+WAjeaVsFxuICAgIGJlSGl0Rm9yY2VfeTogbnVtYmVyID0gMjUwMDA7Ly/miYvph4zliZHmlLvlh7vkvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3g6IG51bWJlciA9IDI1MDAwLy/mma7pgJrmlLvlh7vkvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3lfc2h1cmlrZW46IG51bWJlciA9IDUwMDAwLy/mma7pgJrmlLvlh7vkvZznlKjliptcbiAgICBiZUhpdEZvcmNlX3hfYXR0YWNrMzogbnVtYmVyID0gMzUwMDAwOy8v6KKr5Ye76aOe5L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV95X2F0dGFjazM6IG51bWJlciA9IDA7Ly/ooqvlh7vpo57kvZznlKjliptcbiAgICBzY2FsZVhfc2tlbGV0b246IG51bWJlciA9IDA7XG4gICAgYWxsb3dNb3ZlVGltZTogbnVtYmVyID0gMjsvL+WFgeiuuG1vdmXnirbmgIHmnIDplb/ml7bpl7RcbiAgICBhbGxvd0F0dGFja1RpbWU6IG51bWJlciA9IDI7Ly/lhYHorrjov57nu61hdHRhY2vmrKHmlbBcbiAgICBhdHRhY2tUaW1lczogbnVtYmVyID0gMDsvL2F0dGFja+i/nue7reasoeaVsFxuICAgIHNraWxsMV94OiBudW1iZXIgPSAwOy8v5rOw5bGx5Y6L6aG26JC95Zyw5Z2Q5qCH77yI5Y2H56m65pe2546p5a625L2N572u77yJXG4gICAgaXNTdGFydFJ1c2g6IGJvb2xlYW4gPSBmYWxzZTsvL+W8gOWni+WGsuaSnlxuICAgIGlzRGllOiBib29sZWFuID0gZmFsc2U7XG4gICAgc2tlbGV0b246IHNwLlNrZWxldG9uID0gbnVsbDtcbiAgICBlbmVteUFuaW1hdGlvbjogZW5lbXlBbmltYXRpb24gPSBudWxsO1xuICAgIHJpZ2lib2R5OiBjYy5SaWdpZEJvZHkgPSBudWxsO1xuICAgIGJveENvbGxpZGVyOiBjYy5QaHlzaWNzQm94Q29sbGlkZXIgPSBudWxsO1xuICAgIGlzU3dvcmRSYWluQ2Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc01vdmU6IGJvb2xlYW4gPSBmYWxzZTsvL+aYr+WQpuWkhOS6juenu+WKqOeKtuaAgVxuICAgIGlzV3VEaTogYm9vbGVhbiA9IHRydWU7Ly/ml6DmlYznirbmgIFcbiAgICBkbWdDb2xsaWRlcjogZGFtYWdlQ29sbGlkZXIgPSBudWxsO1xuICAgIGlzSGlnaExpZ2h0OiBib29sZWFuID0gZmFsc2U7XG4gICAgaGlnaExpZ2h0X0EgPSB7XG4gICAgICAgIGE6IDAuNVxuICAgIH07XG4gICAgbm9tYWxBdHRhY2tNYXg6IG51bWJlciA9IDU7Ly/mma7pgJrmlLvlh7vov57nu63mnIDlpKfmrKHmlbBcbiAgICBub3JtYWxBdHRhY2tUaW1lczogbnVtYmVyID0gMDsvL+aZrumAmuaUu+WHu+asoeaVsO+8iOi+vuS4gOWumuasoeaVsOWQjuWNh+epuuaUvuWwj+icmOibm++8iVxuICAgIGxhc3RBdHRhY2tTdGF0ZTogZW5lbXlTdGF0ZSA9IG51bGw7XG4gICAgc3BpZGVybGluZ1ByZWZhYjogY2MuUHJlZmFiID0gbnVsbDtcbiAgICBhdHRhY2tUeXBlOmVuZW15U3RhdGVbXT1bXTtcblxuICAgIG9uTG9hZCgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbiA9IHRoaXMubm9kZS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pO1xuICAgICAgICB0aGlzLnNjYWxlWF9za2VsZXRvbiA9IE1hdGguYWJzKHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVgpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uID0gdGhpcy5ub2RlLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChlbmVteUFuaW1hdGlvbik7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uZW5lbXlDb250cm9sbGVyID0gdGhpcztcbiAgICAgICAgdGhpcy5yaWdpYm9keSA9IHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuUmlnaWRCb2R5KTtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlciA9IHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuUGh5c2ljc0JveENvbGxpZGVyKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnNrZWxldG9uLnNrZWxldG9uRGF0YS5fc2tlbGV0b25DYWNoZS5hbmltYXRpb25zKTtcbiAgICB9XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdWlNYW5hZ2VyLmlucy5zaG93Qm9zc0hwKGJvc3NOYW1lLm1pbmlCb3NzKTtcbiAgICAgICAgdGhpcy5pbml0RGF0YSgpO1xuICAgICAgICB0aGlzLmhwID0gdGhpcy5ocE1heCAqIHRoaXMuaHBUaW1lcztcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuVGh1bmRlclRvdGVtU3RydWNrKTtcbiAgICB9XG4gICAgYXBwZWFyRmluaXNoZWQoKSB7XG4gICAgICAgIHRoaXMuaXNXdURpID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaWRsZSgpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuaGlnaExpZ2h0QWN0aW9uKCk7XG4gICAgICAgIGlmICh0aGlzLmlzTW92ZSA9PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSB0aGlzLmdldERpc3RhbmNlWCgpO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGlzdGFuY2UpIDwgdGhpcy5zdG9wRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSA9PSBlbmVteVN0YXRlLmF0dGFjaykgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG9QbGF5ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkJlZ2luQ29udGFjdChjb250YWN0OiBjYy5QaHlzaWNzQ29udGFjdCwgc2VsZkNvbGxpZGVyOiBjYy5QaHlzaWNzQ29sbGlkZXIsIG90aGVyQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlcikge1xuICAgICAgICBsZXQgb3RoZXIgPSBvdGhlckNvbGxpZGVyLm5vZGU7XG4gICAgICAgIC8vIGxldCB3b3JsZE1hbmlmb2xkID0gY29udGFjdC5nZXRXb3JsZE1hbmlmb2xkKCk7XG4gICAgICAgIC8vIGxldCBub3JtYWwgPSB3b3JsZE1hbmlmb2xkLm5vcm1hbDtcbiAgICAgICAgaWYgKG90aGVyLmdyb3VwID09IFwid2FsbFwiKSB7XG4gICAgICAgICAgICBjb250YWN0LmRpc2FibGVkPXRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd0RhbWFnZUNvbGxpZGVyKGNvbGxpZGVyOiBkYW1hZ2VDb2xsaWRlcikge1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bY29sbGlkZXJdLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuZG1nQ29sbGlkZXIgPSBjb2xsaWRlcjtcbiAgICB9XG4gICAgZ2V0RGFtYWdlQ29sbGlkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bdGhpcy5kbWdDb2xsaWRlcl07XG4gICAgfVxuICAgIGhpZGVEYW1hZ2VDb2xsaWRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuZG1nQ29sbGlkZXIgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bdGhpcy5kbWdDb2xsaWRlcl0uYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG1nQ29sbGlkZXIgPSBudWxsO1xuICAgIH1cbiAgICBBSV9zdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaWUpIHJldHVybjtcbiAgICAgICAgaWYgKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuaXNEaWUpIHtcbiAgICAgICAgICAgIC8v546p5a625bey5q27IOWBnOatouenu+WKqFxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5BSV9zdGFydCgpO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICBpZiAoW2VuZW15U3RhdGUuaWRsZV0uaW5jbHVkZXModGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSkpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5pZGxlLCAxLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLmFicyh0aGlzLmdldERpc3RhbmNlWCgpKTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgdGhpcy5zdG9wRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLm1vdmUsIDEsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMubm93U3BlZWQgPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IC10aGlzLm1vdmVTcGVlZCA6IHRoaXMubW92ZVNwZWVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIEFJX3N0b3AoKSB7XG4gICAgICAgIHRoaXMuaWRsZSgpO1xuICAgIH1cbiAgICBjaGFuZ2VNb3ZTdGF0ZShpc01vdmU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5pc01vdmUgPSBpc01vdmU7XG4gICAgfVxuICAgIGlkbGUoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoMCk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwLCAwKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmlkbGUsIDEsIHRydWUsIHRydWUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSE9ZW5lbXlTdGF0ZS5pZGxlKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLkFJX3N0YXJ0KCk7XG4gICAgICAgIH0sdGhpcy5BSV9pbnRlcnZhbCk7XG4gICAgfVxuICAgIGF0dGFjaygpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDAsIDApO1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDApO1xuICAgICAgICB0aGlzLm5vcm1hbEF0dGFja1RpbWVzKys7XG4gICAgICAgIGlmKHRoaXMuZ2V0RGlzdGFuY2VYKCk8MTUwKXtcbiAgICAgICAgICAgIHRoaXMuYmxpbmtTdGFydCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuYXR0YWNrVHlwZS5sZW5ndGg9PTApe1xuICAgICAgICAgICAgdGhpcy5hdHRhY2tUeXBlPVtcbiAgICAgICAgICAgICAgICBlbmVteVN0YXRlLmNhbGxfb2ZfbGlnaHRpbmcsXG4gICAgICAgICAgICAgICAgZW5lbXlTdGF0ZS5saWdodGluZ19jaGFzZV9zdGFydCxcbiAgICAgICAgICAgICAgICBlbmVteVN0YXRlLnN0b3JtX2J1cnN0LFxuICAgICAgICAgICAgICAgIGVuZW15U3RhdGUudGh1bmRlcl9qb2x0XG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGxldCByYW5kb20gPSBjYWlqaVRvb2xzLnJhbmRvbV9pbnQoMCwgdGhpcy5hdHRhY2tUeXBlLmxlbmd0aCAtIDEpO1xuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLmF0dGFja1R5cGVbcmFuZG9tXTtcbiAgICAgICAgaWYoc3RhdGU9PXRoaXMubGFzdEF0dGFja1N0YXRlKXtcbiAgICAgICAgICAgIGlmKHJhbmRvbT09MCl7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLmF0dGFja1R5cGVbcmFuZG9tKzFdO1xuICAgICAgICAgICAgfWVsc2UgaWYocmFuZG9tPT10aGlzLmF0dGFja1R5cGUubGVuZ3RoLTEpe1xuICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5hdHRhY2tUeXBlW3JhbmRvbS0xXTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5hdHRhY2tUeXBlW3JhbmRvbS0xXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzW2VuZW15U3RhdGVbc3RhdGVdXSgpO1xuICAgICAgICB0aGlzLmF0dGFja1R5cGUuc3BsaWNlKHRoaXMuYXR0YWNrVHlwZS5pbmRleE9mKHN0YXRlKSwgMSk7XG4gICAgICAgIC8vIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgLy8gICAgIGNhc2UgZW5lbXlTdGF0ZS5jYWxsX29mX2xpZ2h0aW5nOlxuICAgICAgICAvLyAgICAgICAgIHRoaXMuY2FsbF9vZl9saWdodGluZygpO1xuICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgICAgY2FzZSBlbmVteVN0YXRlLmxpZ2h0aW5nX2NoYXNlX3N0YXJ0OlxuICAgICAgICAvLyAgICAgICAgIHRoaXMubGlnaHRpbmdfY2hhc2Vfc3RhcnQoKTtcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgIGNhc2UgZW5lbXlTdGF0ZS5zdG9ybV9idXJzdDpcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnN0b3JtX2J1cnN0KCk7XG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICBjYXNlIGVuZW15U3RhdGUudGh1bmRlcl9qb2x0OlxuICAgICAgICAvLyAgICAgICAgIHRoaXMudGh1bmRlcl9qb2x0KCk7XG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIH1cbiAgICAgICAgdGhpcy5sYXN0QXR0YWNrU3RhdGUgPSBzdGF0ZTtcbiAgICB9XG4gICAgLy/lj6zllKTml5fluJxcbiAgICBjYWxsX29mX2xpZ2h0aW5nKCkge1xuICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5FMjdUb3RlbUNhc3QpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuY2FsbF9vZl9saWdodGluZywgMSwgZmFsc2UpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLkZYX2ZsYWcoKTtcbiAgICAgICAgfSwgMS4zKTtcbiAgICB9XG4gICAgLy/mjIHnu63lj6zllKTpm7fnkIPvvIjmjIHnu63lpJrmrrXkvKTlrrPvvIlcbiAgICBsaWdodGluZ19jaGFzZV9zdGFydCgpIHtcbiAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci50aHVuZGVyX2NoYXNlX2NkPWZhbHNlO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUubGlnaHRpbmdfY2hhc2Vfc3RhcnQsIDEsIGZhbHNlKTtcbiAgICB9XG4gICAgbGlnaHRpbmdfY2hhc2VfbWlkZGxlKCkge1xuICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5FMjdMaWdodG5pbmcpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUubGlnaHRpbmdfY2hhc2VfbWlkZGxlLCAxLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLkZYX3RodW5lckJhbGxfcG9zKCk7XG4gICAgICAgIH0sIDAuNTUsIDgpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0aW5nX2NoYXNlX2VuZCgpO1xuICAgICAgICB9LCA1KTtcbiAgICB9XG4gICAgbGlnaHRpbmdfY2hhc2VfZW5kKCkge1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUubGlnaHRpbmdfY2hhc2VfZW5kLCAxLCB0cnVlKTtcbiAgICB9XG4gICAgLy/lj6zllKTmupzmupznkINcbiAgICB0aHVuZGVyX2pvbHQoKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUyN0pvbHRDYXN0KTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLnRodW5kZXJfam9sdCwgMSwgZmFsc2UpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLkZYX3RodW5kZXJfam9sdCgpO1xuICAgICAgICB9LCAxKTtcbiAgICB9XG4gICAgLy/pm7fnkIPpo47mmrTvvIjmianmlaPljZXmrrXkvKTlrrPvvIlcbiAgICBzdG9ybV9idXJzdCgpIHtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLnN0b3JtX2J1cnN0LCAxLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuRlhfdGh1bmRlcl9zdG9ybUJ1cnN0MSgpO1xuICAgIH1cbiAgICAvL+S8oOmAgeWKqOS9nOW8gOWni1xuICAgIGJsaW5rU3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5ibGlua19zdGFydCwgMSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuQmxpbmtTdGFydCk7XG4gICAgICAgIH0sMC4yKTtcbiAgICB9XG4gICAgLy/kvKDpgIHlvIDlp4vliqjnlLvlrozmiJBcbiAgICBiaW5rU3RhcnRDb21wZWxldGUoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlVFBGWCgpO1xuICAgICAgICB0aGlzLnRlbGVwb3J0RW5kKCk7XG4gICAgfVxuICAgIC8v5Lyg6YCB6Iez5oyH5a6a5Zyw54K5XG4gICAgdGVsZXBvcnRFbmQoKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkJsaW5rRW5kKTtcbiAgICAgICAgbGV0IHggPSAwO1xuICAgICAgICBpZiAoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPCAzNTApIHtcbiAgICAgICAgICAgIHggPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCArIGNhaWppVG9vbHMucmFuZG9tX2ludCg0MDAsIGNjLndpblNpemUud2lkdGggLyAxLjYpO1xuICAgICAgICB9IGVsc2UgaWYgKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gMTE1MCkge1xuICAgICAgICAgICAgeCA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54IC0gY2FpamlUb29scy5yYW5kb21faW50KDQwMCwgY2Mud2luU2l6ZS53aWR0aCAvIDEuNSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcmFuZG9tID0gY2FpamlUb29scy5yYW5kb21faW50KDEsIDEwKTtcbiAgICAgICAgICAgIHggPSByYW5kb20gJSAyID09IDAgP1xuICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ICsgY2FpamlUb29scy5yYW5kb21faW50KC1jYy53aW5TaXplLndpZHRoIC8gMS42LCAtNDAwKSA6XG4gICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggKyBjYWlqaVRvb2xzLnJhbmRvbV9pbnQoNDAwLCBjYy53aW5TaXplLndpZHRoIC8gMS41KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vZGUueCA9IHg7XG4gICAgICAgIHRoaXMuY3JlYXRlVFBGWCgpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuYmxpbmtfZW5kLCAxLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuICAgIC8vVFBGWFxuICAgIGNyZWF0ZVRQRlgoKSB7XG4gICAgICAgIGxldCBmeCA9IGNjLmluc3RhbnRpYXRlKHRoaXMudHBGeF9zdGFydCk7XG4gICAgICAgIGZ4LnNldFBhcmVudCh0aGlzLm5vZGUucGFyZW50KTtcbiAgICAgICAgZnguc2V0U2libGluZ0luZGV4KHRoaXMubm9kZS5nZXRTaWJsaW5nSW5kZXgoKSArIDEpO1xuICAgICAgICBmeC5zZXRQb3NpdGlvbih0aGlzLm5vZGUueCwgdGhpcy5ub2RlLnkgKyB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WSk7XG4gICAgICAgIGZ4LmFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIC8v55Sf5oiQ5peX5bicXG4gICAgRlhfZmxhZygpIHtcbiAgICAgICAgbGV0IGZsYWcgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmZsYWdfcHJlZmFiKTtcbiAgICAgICAgZmxhZy5zZXRQYXJlbnQodGhpcy5ub2RlLnBhcmVudCk7XG4gICAgICAgIGZsYWcuc2V0U2libGluZ0luZGV4KHRoaXMubm9kZS5nZXRTaWJsaW5nSW5kZXgoKSk7XG4gICAgICAgIGZsYWcuc2V0UG9zaXRpb24oR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLngsIC0xNjIpO1xuICAgICAgICBmbGFnLmFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIC8v5rqc5rqc55CDXG4gICAgRlhfdGh1bmRlcl9qb2x0KCkge1xuICAgICAgICBsZXQgam9sdCA9IGNjLmluc3RhbnRpYXRlKHRoaXMudGh1bmRlcl9qb2x0X3ByZWZhYik7XG4gICAgICAgIGpvbHQuc2V0UGFyZW50KHRoaXMubm9kZS5wYXJlbnQpO1xuICAgICAgICBqb2x0LnNldFNpYmxpbmdJbmRleChHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIuZ2V0U2libGluZ0luZGV4KCkgKyAxKTtcbiAgICAgICAgam9sdC5nZXRDb21wb25lbnQodGh1bmRlcl9qb2x0KS5kYW1hZ2UgPSB0aGlzLmRhbWFnZTtcbiAgICAgICAgbGV0IHggPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IHRoaXMubm9kZS54IC0gMTQwIDogdGhpcy5ub2RlLnggKyAxNDA7XG4gICAgICAgIGxldCB5ID0gdGhpcy5ub2RlLnkgKyAxMzA7XG4gICAgICAgIGpvbHQuc2V0UG9zaXRpb24oeCwgeSk7XG4gICAgICAgIGpvbHQuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgbGV0IGZvcmNlWCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gLTUwMDAwIDogNTAwMDA7XG4gICAgICAgIGxldCBmb3JjZVkgPSBNYXRoLmFicyhmb3JjZVggKiAzKTtcbiAgICAgICAgam9sdC5nZXRDb21wb25lbnQoY2MuUmlnaWRCb2R5KS5hcHBseUZvcmNlVG9DZW50ZXIoY2MudjIoZm9yY2VYLCBmb3JjZVkpLCB0cnVlKTtcbiAgICB9XG4gICAgLy/lrprngrnpm7fnkINcbiAgICBGWF90aHVuZXJCYWxsX3BvcygpIHtcbiAgICAgICAgbGV0IHRodW5kZXIgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnRodW5kZXJfb25lX3ByZWZhYik7XG4gICAgICAgIHRodW5kZXIuc2V0UGFyZW50KHRoaXMubm9kZS5wYXJlbnQpO1xuICAgICAgICB0aHVuZGVyLnNldFNpYmxpbmdJbmRleChHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIuZ2V0U2libGluZ0luZGV4KCkgKyAxKTtcbiAgICAgICAgdGh1bmRlci5zZXRQb3NpdGlvbihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCwgdGhpcy5ub2RlLnkgKyA2MCk7XG4gICAgICAgIHRodW5kZXIuZ2V0Q29tcG9uZW50KHRodW5kZXJfY2hhc2UpLmRhbWFnZSA9IHRoaXMuZGFtYWdlIC8gNDtcbiAgICAgICAgdGh1bmRlci5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgICAvL+aJqeaVo+mbt+eQgyDliY3mkYdcbiAgICBGWF90aHVuZGVyX3N0b3JtQnVyc3QxKCkge1xuICAgICAgICBsZXQgYnVyc3QgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnRodW5kZXJfbWFueV9wcmVmYWIxKTtcbiAgICAgICAgYnVyc3Quc2V0UGFyZW50KHRoaXMubm9kZS5wYXJlbnQpOyAgXG4gICAgICAgIGJ1cnN0LnNldFNpYmxpbmdJbmRleChHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIuZ2V0U2libGluZ0luZGV4KCkgKyAxKTtcbiAgICAgICAgbGV0IHggPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IHRoaXMubm9kZS54IC0gMTQwIDogdGhpcy5ub2RlLnggKyAxNDA7XG4gICAgICAgIGxldCB5ID0gdGhpcy5ub2RlLnkgKyAxMzA7XG4gICAgICAgIGJ1cnN0LnNldFBvc2l0aW9uKHgseSk7XG4gICAgICAgIGJ1cnN0LmFjdGl2ZT10cnVlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgYnVyc3QuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGNjLlBhcnRpY2xlU3lzdGVtM0QpLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuRlhfdGh1bmRlcl9zdG9ybUJ1cnN0MihidXJzdC5nZXRTaWJsaW5nSW5kZXgoKSsxKTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICAgICAgYnVyc3QuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSwxKTtcbiAgICAgICAgfSwwLjUpO1xuICAgIH1cbiAgICAvL+aJqeaVo+mbt+eQgyDlnIjnirbpm7fnkINcbiAgICBGWF90aHVuZGVyX3N0b3JtQnVyc3QyKGluZGV4Om51bWJlcikge1xuICAgICAgICBsZXQgYnVyc3QgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnRodW5kZXJfbWFueV9wcmVmYWIyKTtcbiAgICAgICAgYnVyc3Quc2V0UGFyZW50KHRoaXMubm9kZS5wYXJlbnQpO1xuICAgICAgICBidXJzdC5zZXRTaWJsaW5nSW5kZXgoaW5kZXgpO1xuICAgICAgICBsZXQgeCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gdGhpcy5ub2RlLnggLSAxNDAgOiB0aGlzLm5vZGUueCArIDE0MDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLm5vZGUueSArIDEzMDtcbiAgICAgICAgYnVyc3Quc2V0UG9zaXRpb24oeCx5KTtcbiAgICAgICAgYnVyc3QuYWN0aXZlPXRydWU7XG4gICAgfVxuICAgIGNoYW5nZURpcmVjdGlvbigpIHtcbiAgICAgICAgaWYgKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllciA9PSBudWxsKSByZXR1cm47XG4gICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAtIHRoaXMubm9kZS54ID4gMCA/IC10aGlzLnNjYWxlWF9za2VsZXRvbiA6IHRoaXMuc2NhbGVYX3NrZWxldG9uO1xuICAgICAgICAvL3RoaXMuaHBOb2RlLnggPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IC0yOCA6IDI4O1xuICAgIH1cbiAgICBsYXVnaCgpIHtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmxhdWdoLCAxLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGRpZSgpIHtcbiAgICAgICAgdGhpcy5pc0RpZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwLCAwKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZUFsbENhbGxiYWNrcygpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuZGllLCAxLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZGllQ291bnQoKTtcbiAgICB9XG4gICAgbW92ZSgpIHtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLk1vdmUsIDEsIHRydWUsIHRydWUpO1xuICAgIH1cbiAgICBtb3ZlVG9QbGF5ZXIoKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52Mih0aGlzLm5vd1NwZWVkLCAwKTtcbiAgICB9XG4gICAgb3Blbld1RGkoKSB7XG4gICAgICAgIHRoaXMuaXNXdURpID0gdHJ1ZTtcbiAgICB9XG4gICAgY2xvc2VXdURpKCkge1xuICAgICAgICB0aGlzLmlzV3VEaSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8v6ISa5q2lXG4gICAgZm9vdFN0ZXAoKSB7XG4gICAgfVxuICAgIGJlSGl0KGRhbWFnZTogbnVtYmVyLCBkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGllIHx8IHRoaXMuaXNXdURpKSByZXR1cm47XG4gICAgICAgIC8vIGxldCBpc0NvbnRpbnVlID0gdGhpcy5jaGVja0lzU3dvcmRSYWluKGRtZ1R5cGUpOy8v6K6+572u5YmR6Zuo5pS75Ye76Ze06ZqUXG4gICAgICAgIC8vIGlmIChpc0NvbnRpbnVlID09IDApIHJldHVybjtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZV9iZUhpdChkbWdUeXBlKTtcbiAgICAgICAgbGV0IHggPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IHRoaXMubm9kZS54ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFggOiB0aGlzLm5vZGUueCAtIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRYO1xuICAgICAgICBsZXQgeSA9IHRoaXMubm9kZS55ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFk7XG4gICAgICAgIHRoaXMuaGlnaExpZ2h0KCk7XG4gICAgICAgIEV2ZW50cy5pbnN0YW5jZS5zaG93RGFtYWdlTGFiZWxfZW5lbXkodGhpcy5ub2RlLCBkYW1hZ2UsIGNjLnYyKHgsIHkpKTtcbiAgICAgICAgdGhpcy51cGRhdGVIcChkYW1hZ2UpO1xuICAgICAgICBpZiAodGhpcy5ocCA8PSAwKSB7XG4gICAgICAgICAgICBFdmVudHMuaW5zdGFuY2UuY3JlYXRlRW5lbXlEaWVFZmZlY3QodGhpcy5ub2RlLCB0aGlzLmRpZUVmZmVjdE5hbWUsIGNjLnYyKHgsIHkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoaXQoZGFtYWdlOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuZG1nQ29sbGlkZXIgIT0gZGFtYWdlQ29sbGlkZXIubGFzZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0RGFtYWdlQ29sbGlkZXIoKS5nZXRDb21wb25lbnQoZW5lbXlIaXRDb2xsaWRlcikuaGl0KHRoaXMubm9kZSwgZGFtYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsYXNlckhpdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZG1nQ29sbGlkZXIgIT0gZGFtYWdlQ29sbGlkZXIubGFzZXIpIHJldHVybjtcbiAgICAgICAgdGhpcy5nZXREYW1hZ2VDb2xsaWRlcigpLmdldENvbXBvbmVudChFMzlMYXNlcikubGFzZXJDb2xsaWRlci5nZXRDb21wb25lbnQoZW5lbXlIaXRDb2xsaWRlcikuaGl0KHRoaXMubm9kZSwgdGhpcy5kYW1hZ2UpO1xuICAgICAgICB0aGlzLmhpZGVEYW1hZ2VDb2xsaWRlcigpO1xuICAgIH1cbiAgICB1cGRhdGVIcChkYW1hZ2U6IG51bWJlcikge1xuICAgICAgICB0aGlzLmhwIC09IGRhbWFnZTtcbiAgICAgICAgdWlNYW5hZ2VyLmlucy5ib3NzSHAuYWRkSHAoLWRhbWFnZSk7XG4gICAgICAgIGlmICh0aGlzLmhwIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuaHAgPSAwO1xuICAgICAgICAgICAgdGhpcy5kaWUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRSaWdpYm9keVNwZWVkKHg6IG51bWJlciwgeTogbnVtYmVyID0gMCkge1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5ID0gY2MudjIoeCwgeSk7XG4gICAgfVxuICAgIGNoYW5nZVN0YXRlX2JlSGl0KGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBlckFybW9yKSByZXR1cm47XG4gICAgICAgIGxldCBzdGF0ZSA9IG51bGw7XG4gICAgICAgIGxldCBpc0tub2NrRG93biA9IGRtZ1R5cGUgPT0gYXR0YWNrVHlwZS5hdHRhY2szID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKGRtZ1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2sxOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDI7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazI6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoNSk7XG4gICAgICAgICAgICAgICAgfSwgMC40KTtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUua25vY2tfZG93bjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlLnggPCBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAmJiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoLXRoaXMuYmVIaXRGb3JjZV94X2F0dGFjazMsIHRoaXMuYmVIaXRGb3JjZV95X2F0dGFjazMpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubm9kZS54ID4gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggJiYgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKHRoaXMuYmVIaXRGb3JjZV94X2F0dGFjazMsIHRoaXMuYmVIaXRGb3JjZV95X2F0dGFjazMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuanVtcEhpdDpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsIDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5zaHVyaWtlbjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmVIaXRGb3JjZV95X3NodXJpa2VuKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuc3dvcmRSYWluOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoc3RhdGUsIDEsIGZhbHNlLCBpc0tub2NrRG93bik7XG4gICAgfVxuICAgIHNldExpbmVhckRhbXBpbmcoZGFtcGluZzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyRGFtcGluZyA9IGRhbXBpbmc7XG4gICAgfVxuICAgIHNldEZyaWN0aW9uKGZyaWN0aW9uOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIuZnJpY3Rpb24gPSBmcmljdGlvbjtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5hcHBseSgpO1xuICAgIH1cbiAgICBhcHBseUZvcmNlKGZvcmNlOiBjYy5WZWMyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwZXJBcm1vcikgcmV0dXJuO1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmFwcGx5Rm9yY2VUb0NlbnRlcihmb3JjZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGNoZWNrSXNTd29yZFJhaW4oZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICBpZiAoZG1nVHlwZSA9PSBhdHRhY2tUeXBlLnN3b3JkUmFpbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTd29yZFJhaW5DZCkgcmV0dXJuIDA7XG4gICAgICAgICAgICB0aGlzLmlzU3dvcmRSYWluQ2QgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTd29yZFJhaW5DZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgdGhpcy5zd29yZFJhaW5IaXRDZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGhpZ2hMaWdodEFjdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNIaWdoTGlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJoaWdoTGlnaHRDb2xvclwiLCBbMS4wLCAxLjAsIDEuMCwgdGhpcy5oaWdoTGlnaHRfQS5hXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGlnaExpZ2h0KCkge1xuICAgICAgICBpZiAodGhpcy5pc0hpZ2hMaWdodCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzSGlnaExpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImJlSGl0XCIsIDEpO1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiaGlnaExpZ2h0Q29sb3JcIiwgWzEuMCwgMS4wLCAxLjAsIDAuNV0pO1xuICAgICAgICBjYy50d2Vlbih0aGlzLmhpZ2hMaWdodF9BKVxuICAgICAgICAgICAgLnRvKDAuMSwgeyBhOiAwIH0pXG4gICAgICAgICAgICAuY2FsbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUhpZ2hMaWdodCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGFydCgpO1xuICAgIH1cbiAgICBjbG9zZUhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy5pc0hpZ2hMaWdodCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhpZ2hMaWdodF9BLmEgPSAwLjU7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJiZUhpdFwiLCAwKTtcbiAgICB9XG4gICAgZ2V0RGlzdGFuY2VYKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5ub2RlLnggLSBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCk7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ladyBugFx.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '25086OybqJGWJ4DaXZ8IcjK', 'ladyBugFx');
// scripts/game/ladyBugFx.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var GameManager_1 = require("./GameManager");
var playerController_1 = require("./playerController");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ladyBugFx = /** @class */ (function (_super) {
    __extends(ladyBugFx, _super);
    function ladyBugFx() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.liquidParticle = null;
        _this.speedX = 0;
        _this.speedY = 0;
        _this.damage = 0;
        _this.isRightMove = false; //是否朝右
        _this.isCollide = false;
        _this.rigibody = null;
        return _this;
    }
    ladyBugFx.prototype.onLoad = function () {
        this.rigibody = this.node.getComponent(cc.RigidBody);
    };
    ladyBugFx.prototype.start = function () {
        var time = (Math.abs(this.node.y - GameManager_1.default.instance.player.y) + 40) / this.speedY;
        var distanceX = Math.abs(this.node.x - GameManager_1.default.instance.player.x);
        this.speedX = distanceX * 3;
        //this.speedX=(Math.abs(this.node.x-GameManager.instance.player.x))/time;
        this.speedX = this.isRightMove == true ? this.speedX : -this.speedX;
        this.liquidParticle.angle = this.isRightMove == true ? -30 : -150;
        this.rigibody.linearVelocity = cc.v2(this.speedX, 0);
    };
    ladyBugFx.prototype.hit = function (player) {
        this.createSmoke();
        player.getComponent(playerController_1.default).beHit(this.node, this.damage);
    };
    ladyBugFx.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        if (this.isCollide)
            return;
        var other = otherCollider.node;
        if (other.group == "ground") {
            this.createSmoke();
        }
        else if (other.group == "player") {
            this.hit(other);
        }
    };
    ladyBugFx.prototype.createSmoke = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, smoke;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isCollide = true;
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/ladyBugSmoke")];
                    case 1:
                        prefab = _a.sent();
                        smoke = caijiTools_1.caijiTools.createNode(prefab, this.node.parent);
                        smoke.setPosition(this.node.position);
                        smoke.active = true;
                        this.node.destroy();
                        return [2 /*return*/];
                }
            });
        });
    };
    __decorate([
        property(cc.ParticleSystem)
    ], ladyBugFx.prototype, "liquidParticle", void 0);
    ladyBugFx = __decorate([
        ccclass
    ], ladyBugFx);
    return ladyBugFx;
}(cc.Component));
exports.default = ladyBugFx;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcbGFkeUJ1Z0Z4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLDRDQUEyQztBQUMzQyw2Q0FBd0M7QUFDeEMsdURBQWtEO0FBRzVDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXVDLDZCQUFZO0lBQW5EO1FBQUEscUVBNENDO1FBekNHLG9CQUFjLEdBQW1CLElBQUksQ0FBQztRQUV0QyxZQUFNLEdBQVEsQ0FBQyxDQUFDO1FBQ2hCLFlBQU0sR0FBUSxDQUFDLENBQUM7UUFDaEIsWUFBTSxHQUFRLENBQUMsQ0FBQztRQUNoQixpQkFBVyxHQUFTLEtBQUssQ0FBQyxDQUFBLE1BQU07UUFDaEMsZUFBUyxHQUFTLEtBQUssQ0FBQztRQUN4QixjQUFRLEdBQWMsSUFBSSxDQUFDOztJQWtDL0IsQ0FBQztJQWpDRywwQkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUNELHlCQUFLLEdBQUw7UUFDSSxJQUFJLElBQUksR0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDOUUsSUFBSSxTQUFTLEdBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLE1BQU0sR0FBQyxTQUFTLEdBQUMsQ0FBQyxDQUFDO1FBQ3hCLHlFQUF5RTtRQUN6RSxJQUFJLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQyxXQUFXLElBQUUsSUFBSSxDQUFBLENBQUMsQ0FBQSxJQUFJLENBQUMsTUFBTSxDQUFBLENBQUMsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDNUQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEdBQUMsSUFBSSxDQUFDLFdBQVcsSUFBRSxJQUFJLENBQUEsQ0FBQyxDQUFBLENBQUMsRUFBRSxDQUFBLENBQUMsQ0FBQSxDQUFDLEdBQUcsQ0FBQztRQUMxRCxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsR0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUNELHVCQUFHLEdBQUgsVUFBSSxNQUFjO1FBQ2QsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLE1BQU0sQ0FBQyxZQUFZLENBQUMsMEJBQWdCLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUNELGtDQUFjLEdBQWQsVUFBZSxPQUEwQixFQUFFLFlBQWdDLEVBQUUsYUFBaUM7UUFDMUcsSUFBRyxJQUFJLENBQUMsU0FBUztZQUFFLE9BQU87UUFDMUIsSUFBSSxLQUFLLEdBQUcsYUFBYSxDQUFDLElBQUksQ0FBQztRQUMvQixJQUFJLEtBQUssQ0FBQyxLQUFLLElBQUksUUFBUSxFQUFFO1lBQ3pCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUN0QjthQUFLLElBQUksS0FBSyxDQUFDLEtBQUssSUFBRSxRQUFRLEVBQUM7WUFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuQjtJQUNMLENBQUM7SUFDSywrQkFBVyxHQUFqQjs7Ozs7O3dCQUNJLElBQUksQ0FBQyxTQUFTLEdBQUMsSUFBSSxDQUFDO3dCQUNULHFCQUFNLHVCQUFVLENBQUMsVUFBVSxDQUFDLHNCQUFzQixDQUFDLEVBQUE7O3dCQUExRCxNQUFNLEdBQUMsU0FBbUQ7d0JBQzFELEtBQUssR0FBQyx1QkFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDekQsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUN0QyxLQUFLLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQzt3QkFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQzs7Ozs7S0FDdkI7SUF4Q0Q7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQztxREFDVTtJQUhyQixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBNEM3QjtJQUFELGdCQUFDO0NBNUNELEFBNENDLENBNUNzQyxFQUFFLENBQUMsU0FBUyxHQTRDbEQ7a0JBNUNvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vY2FpamlUb29sc1wiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XG5pbXBvcnQgcGxheWVyQ29udHJvbGxlciBmcm9tIFwiLi9wbGF5ZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgcG9ydGFsIGZyb20gXCIuL3BvcnRhbFwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGxhZHlCdWdGeCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuUGFydGljbGVTeXN0ZW0pXG4gICAgbGlxdWlkUGFydGljbGU6Y2MuUGFydGljbGVTeXN0ZW09bnVsbDtcblxuICAgIHNwZWVkWDpudW1iZXI9MDtcbiAgICBzcGVlZFk6bnVtYmVyPTA7XG4gICAgZGFtYWdlOm51bWJlcj0wO1xuICAgIGlzUmlnaHRNb3ZlOmJvb2xlYW49ZmFsc2U7Ly/mmK/lkKbmnJ3lj7NcbiAgICBpc0NvbGxpZGU6Ym9vbGVhbj1mYWxzZTtcbiAgICByaWdpYm9keTpjYy5SaWdpZEJvZHk9bnVsbDtcbiAgICBvbkxvYWQoKXtcbiAgICAgICAgdGhpcy5yaWdpYm9keT10aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlJpZ2lkQm9keSk7XG4gICAgfVxuICAgIHN0YXJ0KCl7XG4gICAgICAgIGxldCB0aW1lPShNYXRoLmFicyh0aGlzLm5vZGUueS1HYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueSkrNDApL3RoaXMuc3BlZWRZO1xuICAgICAgICBsZXQgZGlzdGFuY2VYPU1hdGguYWJzKHRoaXMubm9kZS54LUdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54KTtcbiAgICAgICAgdGhpcy5zcGVlZFg9ZGlzdGFuY2VYKjM7XG4gICAgICAgIC8vdGhpcy5zcGVlZFg9KE1hdGguYWJzKHRoaXMubm9kZS54LUdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54KSkvdGltZTtcbiAgICAgICAgdGhpcy5zcGVlZFg9dGhpcy5pc1JpZ2h0TW92ZT09dHJ1ZT90aGlzLnNwZWVkWDotdGhpcy5zcGVlZFg7XG4gICAgICAgIHRoaXMubGlxdWlkUGFydGljbGUuYW5nbGU9dGhpcy5pc1JpZ2h0TW92ZT09dHJ1ZT8tMzA6LTE1MDtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52Mih0aGlzLnNwZWVkWCwwKTtcbiAgICB9XG4gICAgaGl0KHBsYXllcjpjYy5Ob2RlKXtcbiAgICAgICAgdGhpcy5jcmVhdGVTbW9rZSgpO1xuICAgICAgICBwbGF5ZXIuZ2V0Q29tcG9uZW50KHBsYXllckNvbnRyb2xsZXIpLmJlSGl0KHRoaXMubm9kZSx0aGlzLmRhbWFnZSk7XG4gICAgfVxuICAgIG9uQmVnaW5Db250YWN0KGNvbnRhY3Q6IGNjLlBoeXNpY3NDb250YWN0LCBzZWxmQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlciwgb3RoZXJDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGlmKHRoaXMuaXNDb2xsaWRlKSByZXR1cm47XG4gICAgICAgIGxldCBvdGhlciA9IG90aGVyQ29sbGlkZXIubm9kZTtcbiAgICAgICAgaWYgKG90aGVyLmdyb3VwID09IFwiZ3JvdW5kXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU21va2UoKTtcbiAgICAgICAgfWVsc2UgaWYgKG90aGVyLmdyb3VwPT1cInBsYXllclwiKXtcbiAgICAgICAgICAgIHRoaXMuaGl0KG90aGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjcmVhdGVTbW9rZSgpe1xuICAgICAgICB0aGlzLmlzQ29sbGlkZT10cnVlO1xuICAgICAgICBsZXQgcHJlZmFiPWF3YWl0IGNhaWppVG9vbHMubG9hZFByZWZhYihcInByZWZhYnMvbGFkeUJ1Z1Ntb2tlXCIpO1xuICAgICAgICBsZXQgc21va2U9Y2FpamlUb29scy5jcmVhdGVOb2RlKHByZWZhYix0aGlzLm5vZGUucGFyZW50KTtcbiAgICAgICAgc21va2Uuc2V0UG9zaXRpb24odGhpcy5ub2RlLnBvc2l0aW9uKTtcbiAgICAgICAgc21va2UuYWN0aXZlPXRydWU7XG4gICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/enemyHitCollider.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4228fWsEGBIiYISQtcKtF0Q', 'enemyHitCollider');
// scripts/game/enemyHitCollider.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var animationState_1 = require("./animationState");
var playerController_1 = require("./playerController");
var bossHp_1 = require("./ui/bossHp");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var enemyHitCollider = /** @class */ (function (_super) {
    __extends(enemyHitCollider, _super);
    function enemyHitCollider() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.enemyControl = null;
        _this.player = null;
        return _this;
    }
    enemyHitCollider.prototype.onDisable = function () {
        this.player = null;
    };
    enemyHitCollider.prototype.hit = function (enemy, dmg, isKnockDown) {
        if (isKnockDown === void 0) { isKnockDown = false; }
        if (this.player) {
            this.player.getComponent(playerController_1.default).beHit(enemy, dmg, isKnockDown);
        }
    };
    enemyHitCollider.prototype.onCollisionEnter = function (other, self) {
        if (other.node.group == "player") {
            this.player = other.node;
            if (this.enemyControl != null) {
                if (this.enemyControl.node.name == bossHp_1.bossName.enemy10) {
                    this.enemyControl.hit_rush();
                }
                else if (this.enemyControl.node.name == animationState_1.enemyName.bigSquid) {
                    this.enemyControl.hit();
                }
                else if (this.enemyControl.node.name == bossHp_1.bossName.enemy39) {
                    this.enemyControl.laserHit();
                }
                else if (this.enemyControl.node.name == animationState_1.enemyName.enemy18) {
                    this.enemyControl.hit();
                }
            }
        }
    };
    enemyHitCollider.prototype.onCollisionExit = function (other, self) {
        this.player = null;
    };
    enemyHitCollider = __decorate([
        ccclass
    ], enemyHitCollider);
    return enemyHitCollider;
}(cc.Component));
exports.default = enemyHitCollider;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcZW5lbXlIaXRDb2xsaWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRixtREFBNkM7QUFDN0MsdURBQWtEO0FBQ2xELHNDQUF1QztBQUVqQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE4QyxvQ0FBWTtJQUExRDtRQUFBLHFFQWdDQztRQTlCRyxrQkFBWSxHQUFLLElBQUksQ0FBQztRQUN0QixZQUFNLEdBQVMsSUFBSSxDQUFDOztJQTZCeEIsQ0FBQztJQTNCRyxvQ0FBUyxHQUFUO1FBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBQyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUNELDhCQUFHLEdBQUgsVUFBSSxLQUFhLEVBQUMsR0FBVSxFQUFDLFdBQXlCO1FBQXpCLDRCQUFBLEVBQUEsbUJBQXlCO1FBQ2xELElBQUcsSUFBSSxDQUFDLE1BQU0sRUFBQztZQUNYLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBQyxHQUFHLEVBQUMsV0FBVyxDQUFDLENBQUM7U0FDM0U7SUFDTCxDQUFDO0lBQ0QsMkNBQWdCLEdBQWhCLFVBQWlCLEtBQWlCLEVBQUMsSUFBZ0I7UUFDL0MsSUFBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBRSxRQUFRLEVBQUM7WUFDMUIsSUFBSSxDQUFDLE1BQU0sR0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQ3ZCLElBQUcsSUFBSSxDQUFDLFlBQVksSUFBRSxJQUFJLEVBQUM7Z0JBQ3ZCLElBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFFLGlCQUFRLENBQUMsT0FBTyxFQUFDO29CQUM3QyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxDQUFDO2lCQUNoQztxQkFBSyxJQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksSUFBRSwwQkFBUyxDQUFDLFFBQVEsRUFBQztvQkFDckQsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsQ0FBQztpQkFDM0I7cUJBQUssSUFBRyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUUsaUJBQVEsQ0FBQyxPQUFPLEVBQUM7b0JBQ25ELElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLENBQUM7aUJBQ2hDO3FCQUFLLElBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFFLDBCQUFTLENBQUMsT0FBTyxFQUFDO29CQUNwRCxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxDQUFDO2lCQUMzQjthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBQ0QsMENBQWUsR0FBZixVQUFnQixLQUFpQixFQUFDLElBQWdCO1FBQzlDLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUEvQmdCLGdCQUFnQjtRQURwQyxPQUFPO09BQ2EsZ0JBQWdCLENBZ0NwQztJQUFELHVCQUFDO0NBaENELEFBZ0NDLENBaEM2QyxFQUFFLENBQUMsU0FBUyxHQWdDekQ7a0JBaENvQixnQkFBZ0IiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgZW5lbXlOYW1lIH0gZnJvbSBcIi4vYW5pbWF0aW9uU3RhdGVcIjtcbmltcG9ydCBwbGF5ZXJDb250cm9sbGVyIGZyb20gXCIuL3BsYXllckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IGJvc3NOYW1lIH0gZnJvbSBcIi4vdWkvYm9zc0hwXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZW5lbXlIaXRDb2xsaWRlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBlbmVteUNvbnRyb2w6YW55PW51bGw7XG4gICAgcGxheWVyOmNjLk5vZGU9bnVsbDtcblxuICAgIG9uRGlzYWJsZSAoKSB7XG4gICAgICAgIHRoaXMucGxheWVyPW51bGw7XG4gICAgfVxuICAgIGhpdChlbmVteTpjYy5Ob2RlLGRtZzpudW1iZXIsaXNLbm9ja0Rvd246Ym9vbGVhbj1mYWxzZSl7XG4gICAgICAgIGlmKHRoaXMucGxheWVyKXtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmdldENvbXBvbmVudChwbGF5ZXJDb250cm9sbGVyKS5iZUhpdChlbmVteSxkbWcsaXNLbm9ja0Rvd24pO1xuICAgICAgICB9IFxuICAgIH1cbiAgICBvbkNvbGxpc2lvbkVudGVyKG90aGVyOmNjLkNvbGxpZGVyLHNlbGY6Y2MuQ29sbGlkZXIpe1xuICAgICAgICBpZihvdGhlci5ub2RlLmdyb3VwPT1cInBsYXllclwiKXtcbiAgICAgICAgICAgIHRoaXMucGxheWVyPW90aGVyLm5vZGU7XG4gICAgICAgICAgICBpZih0aGlzLmVuZW15Q29udHJvbCE9bnVsbCl7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5lbmVteUNvbnRyb2wubm9kZS5uYW1lPT1ib3NzTmFtZS5lbmVteTEwKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteUNvbnRyb2wuaGl0X3J1c2goKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmVuZW15Q29udHJvbC5ub2RlLm5hbWU9PWVuZW15TmFtZS5iaWdTcXVpZCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sLmhpdCgpO1xuICAgICAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuZW5lbXlDb250cm9sLm5vZGUubmFtZT09Ym9zc05hbWUuZW5lbXkzOSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sLmxhc2VySGl0KCk7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5lbmVteUNvbnRyb2wubm9kZS5uYW1lPT1lbmVteU5hbWUuZW5lbXkxOCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlDb250cm9sLmhpdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkNvbGxpc2lvbkV4aXQob3RoZXI6Y2MuQ29sbGlkZXIsc2VsZjpjYy5Db2xsaWRlcil7XG4gICAgICAgIHRoaXMucGxheWVyPW51bGw7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/firePillarCollider.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ca9d7SQpQBO0YLL7wMxolKH', 'firePillarCollider');
// scripts/game/firePillarCollider.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var audioManager_1 = require("../main/audioManager");
var enemyHitCollider_1 = require("./enemyHitCollider");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var firePillarCollider = /** @class */ (function (_super) {
    __extends(firePillarCollider, _super);
    function firePillarCollider() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.fireSmoke1 = null;
        _this.fireSmoke2 = null;
        _this.damage = 0;
        _this.interval = 0.3; //攻击间隔
        _this.enemyHitCollider = null;
        _this.isStay = false;
        return _this;
    }
    firePillarCollider.prototype.onLoad = function () {
        this.enemyHitCollider = this.node.getComponent(enemyHitCollider_1.default);
    };
    firePillarCollider.prototype.start = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E20FirePillar, false, 0.5);
        this.scheduleOnce(function () {
            _this.fireSmoke2.active = true;
        }, 0.23);
        this.scheduleOnce(function () {
            _this.fireSmoke1.getComponent(cc.Animation).stop();
            _this.fireSmoke2.getComponent(cc.Animation).stop();
            cc.tween(_this.fireSmoke1).to(0.1, { opacity: 0 }).start();
            cc.tween(_this.fireSmoke2).to(0.1, { opacity: 0 }).start();
            _this.node.getComponent(cc.BoxCollider).enabled = false;
        }, 4);
        this.scheduleOnce(function () {
            _this.node.children[1].active = true;
            _this.node.children[0].active = false;
            _this.node.getComponent(cc.BoxCollider).enabled = true;
        }, 0.8);
    };
    firePillarCollider.prototype.hit = function () {
        var _this = this;
        this.enemyHitCollider.hit(this.node, this.damage);
        this.scheduleOnce(function () {
            if (_this.isStay) {
                _this.hit();
            }
        }, this.interval);
    };
    firePillarCollider.prototype.onCollisionEnter = function (other, self) {
        var _this = this;
        this.isStay = true;
        this.scheduleOnce(function () {
            _this.hit();
        }, 0);
    };
    /*     onCollisionStay(other:cc.Collider,self:cc.Collider){
            if(this.isStay) return;
            this.isStay=true;
            this.schedule(this.hit,this.interval);
            
        } */
    firePillarCollider.prototype.onCollisionExit = function (other, self) {
        this.isStay = false;
        //this.unschedule(this.hit);
    };
    __decorate([
        property(cc.Node)
    ], firePillarCollider.prototype, "fireSmoke1", void 0);
    __decorate([
        property(cc.Node)
    ], firePillarCollider.prototype, "fireSmoke2", void 0);
    firePillarCollider = __decorate([
        ccclass
    ], firePillarCollider);
    return firePillarCollider;
}(cc.Component));
exports.default = firePillarCollider;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcZmlyZVBpbGxhckNvbGxpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLGdEQUE0QztBQUM1QyxxREFBZ0Q7QUFDaEQsdURBQWtEO0FBRTVDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWdELHNDQUFZO0lBQTVEO1FBQUEscUVBeURDO1FBdERHLGdCQUFVLEdBQVMsSUFBSSxDQUFDO1FBRXhCLGdCQUFVLEdBQVMsSUFBSSxDQUFDO1FBRXhCLFlBQU0sR0FBUSxDQUFDLENBQUM7UUFDaEIsY0FBUSxHQUFRLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDMUIsc0JBQWdCLEdBQWtCLElBQUksQ0FBQztRQUN2QyxZQUFNLEdBQVMsS0FBSyxDQUFDOztJQStDekIsQ0FBQztJQTlDRyxtQ0FBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLGdCQUFnQixHQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVELGtDQUFLLEdBQUw7UUFBQSxpQkFpQkM7UUFoQkcsc0JBQVksQ0FBQyxTQUFTLENBQUMsd0JBQVMsQ0FBQyxhQUFhLEVBQUMsS0FBSyxFQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxLQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBQyxJQUFJLENBQUM7UUFDaEMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBQ1IsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNkLEtBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNsRCxLQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDbEQsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBQyxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ3RELEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUN0RCxLQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxHQUFDLEtBQUssQ0FBQztRQUN6RCxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDTCxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsS0FBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQztZQUNsQyxLQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUMsS0FBSyxDQUFDO1lBQ25DLEtBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLEdBQUMsSUFBSSxDQUFDO1FBQ3hELENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQztJQUNYLENBQUM7SUFDRCxnQ0FBRyxHQUFIO1FBQUEsaUJBT0M7UUFORyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxJQUFHLEtBQUksQ0FBQyxNQUFNLEVBQUM7Z0JBQ1gsS0FBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO2FBQ2Q7UUFDTCxDQUFDLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFDRCw2Q0FBZ0IsR0FBaEIsVUFBaUIsS0FBaUIsRUFBQyxJQUFnQjtRQUFuRCxpQkFLQztRQUpHLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxLQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDZixDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFDVCxDQUFDO0lBQ0w7Ozs7O1lBS1E7SUFDSiw0Q0FBZSxHQUFmLFVBQWdCLEtBQWlCLEVBQUMsSUFBZ0I7UUFDOUMsSUFBSSxDQUFDLE1BQU0sR0FBQyxLQUFLLENBQUM7UUFDbEIsNEJBQTRCO0lBQ2hDLENBQUM7SUFyREQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzswREFDTTtJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzBEQUNNO0lBTFAsa0JBQWtCO1FBRHRDLE9BQU87T0FDYSxrQkFBa0IsQ0F5RHRDO0lBQUQseUJBQUM7Q0F6REQsQUF5REMsQ0F6RCtDLEVBQUUsQ0FBQyxTQUFTLEdBeUQzRDtrQkF6RG9CLGtCQUFrQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBhdWRpb05hbWUgfSBmcm9tIFwiLi4vYXVkaW9OYW1lTWdyXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IGVuZW15SGl0Q29sbGlkZXIgZnJvbSBcIi4vZW5lbXlIaXRDb2xsaWRlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGZpcmVQaWxsYXJDb2xsaWRlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBmaXJlU21va2UxOmNjLk5vZGU9bnVsbDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBmaXJlU21va2UyOmNjLk5vZGU9bnVsbDtcblxuICAgIGRhbWFnZTpudW1iZXI9MDtcbiAgICBpbnRlcnZhbDpudW1iZXI9MC4zOy8v5pS75Ye76Ze06ZqUXG4gICAgZW5lbXlIaXRDb2xsaWRlcjplbmVteUhpdENvbGxpZGVyPW51bGw7XG4gICAgaXNTdGF5OmJvb2xlYW49ZmFsc2U7XG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5lbmVteUhpdENvbGxpZGVyPXRoaXMubm9kZS5nZXRDb21wb25lbnQoZW5lbXlIaXRDb2xsaWRlcik7XG4gICAgfVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5FMjBGaXJlUGlsbGFyLGZhbHNlLDAuNSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLmZpcmVTbW9rZTIuYWN0aXZlPXRydWU7XG4gICAgICAgIH0sMC4yMyk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLmZpcmVTbW9rZTEuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbikuc3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5maXJlU21va2UyLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pLnN0b3AoKTtcbiAgICAgICAgICAgIGNjLnR3ZWVuKHRoaXMuZmlyZVNtb2tlMSkudG8oMC4xLHtvcGFjaXR5OjB9KS5zdGFydCgpO1xuICAgICAgICAgICAgY2MudHdlZW4odGhpcy5maXJlU21va2UyKS50bygwLjEse29wYWNpdHk6MH0pLnN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkJveENvbGxpZGVyKS5lbmFibGVkPWZhbHNlO1xuICAgICAgICB9LDQpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgdGhpcy5ub2RlLmNoaWxkcmVuWzFdLmFjdGl2ZT10cnVlO1xuICAgICAgICAgICAgdGhpcy5ub2RlLmNoaWxkcmVuWzBdLmFjdGl2ZT1mYWxzZTtcbiAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuQm94Q29sbGlkZXIpLmVuYWJsZWQ9dHJ1ZTtcbiAgICAgICAgfSwwLjgpO1xuICAgIH1cbiAgICBoaXQoKXtcbiAgICAgICAgdGhpcy5lbmVteUhpdENvbGxpZGVyLmhpdCh0aGlzLm5vZGUsdGhpcy5kYW1hZ2UpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgaWYodGhpcy5pc1N0YXkpe1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sdGhpcy5pbnRlcnZhbCk7XG4gICAgfVxuICAgIG9uQ29sbGlzaW9uRW50ZXIob3RoZXI6Y2MuQ29sbGlkZXIsc2VsZjpjYy5Db2xsaWRlcil7XG4gICAgICAgIHRoaXMuaXNTdGF5PXRydWU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLmhpdCgpO1xuICAgICAgICB9LDApO1xuICAgIH1cbi8qICAgICBvbkNvbGxpc2lvblN0YXkob3RoZXI6Y2MuQ29sbGlkZXIsc2VsZjpjYy5Db2xsaWRlcil7XG4gICAgICAgIGlmKHRoaXMuaXNTdGF5KSByZXR1cm47XG4gICAgICAgIHRoaXMuaXNTdGF5PXRydWU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGUodGhpcy5oaXQsdGhpcy5pbnRlcnZhbCk7XG4gICAgICAgIFxuICAgIH0gKi9cbiAgICBvbkNvbGxpc2lvbkV4aXQob3RoZXI6Y2MuQ29sbGlkZXIsc2VsZjpjYy5Db2xsaWRlcil7XG4gICAgICAgIHRoaXMuaXNTdGF5PWZhbHNlO1xuICAgICAgICAvL3RoaXMudW5zY2hlZHVsZSh0aGlzLmhpdCk7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/dropBloodBottle.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0675bN9UYNGM7cJdm6ys4IM', 'dropBloodBottle');
// scripts/game/dropBloodBottle.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("./GameManager");
var playerHp_1 = require("./ui/playerHp");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var dropBloodBottle = /** @class */ (function (_super) {
    __extends(dropBloodBottle, _super);
    function dropBloodBottle() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.hp = 100;
        _this.forceX = 30000;
        _this.forceY = 20000;
        _this.rigibody = null;
        _this.isMoveToPlayer = false;
        _this.speed = 500;
        _this.targetPosition = null;
        return _this;
    }
    dropBloodBottle.prototype.onLoad = function () {
        this.rigibody = this.node.getComponent(cc.RigidBody);
    };
    dropBloodBottle.prototype.start = function () {
        this.forceX = this.node.x > GameManager_1.default.instance.player.x ? this.forceX : -this.forceX;
        this.rigibody.applyForceToCenter(cc.v2(this.forceX, this.forceY), false);
    };
    dropBloodBottle.prototype.update = function () {
        if (this.isMoveToPlayer) {
            this.moveToPlayer();
        }
    };
    dropBloodBottle.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        if (other.group == "ground") {
            this.rigibody.linearVelocity = cc.v2(0, 0);
        }
        else if (other.group == "player" && other.name == "player") {
            if (GameManager_1.default.instance.playerController.isDie)
                return;
            contact.disabled = true;
            this.isMoveToPlayer = true;
        }
    };
    dropBloodBottle.prototype.moveToPlayer = function () {
        this.targetPosition = cc.v3(GameManager_1.default.instance.player.x, GameManager_1.default.instance.player.y + 70);
        var direct = this.targetPosition.sub(this.node.position).normalizeSelf();
        this.rigibody.linearVelocity = cc.v2(direct.x * this.speed, direct.y * this.speed);
        var len = this.targetPosition.sub(this.node.position).len();
        if (len < 10) {
            this.addHp();
            this.node.active = false;
            this.node.destroy();
        }
    };
    dropBloodBottle.prototype.addHp = function () {
        this.rigibody.enabledContactListener = false;
        playerHp_1.default.instance.addHp(this.hp);
        this.node.destroy();
    };
    dropBloodBottle = __decorate([
        ccclass
    ], dropBloodBottle);
    return dropBloodBottle;
}(cc.Component));
exports.default = dropBloodBottle;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcZHJvcEJsb29kQm90dGxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLDZDQUF3QztBQUN4QywwQ0FBcUM7QUFFL0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNkMsbUNBQVk7SUFBekQ7UUFBQSxxRUFnREM7UUE5Q0csUUFBRSxHQUFRLEdBQUcsQ0FBQztRQUNkLFlBQU0sR0FBUSxLQUFLLENBQUM7UUFDcEIsWUFBTSxHQUFRLEtBQUssQ0FBQztRQUNwQixjQUFRLEdBQWMsSUFBSSxDQUFDO1FBQzNCLG9CQUFjLEdBQVMsS0FBSyxDQUFDO1FBQzdCLFdBQUssR0FBUSxHQUFHLENBQUM7UUFDakIsb0JBQWMsR0FBUyxJQUFJLENBQUM7O0lBd0NoQyxDQUFDO0lBdENHLGdDQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsUUFBUSxHQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBQ0QsK0JBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUEsSUFBSSxDQUFDLE1BQU0sQ0FBQSxDQUFDLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQy9FLElBQUksQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUMzRSxDQUFDO0lBQ0QsZ0NBQU0sR0FBTjtRQUNJLElBQUcsSUFBSSxDQUFDLGNBQWMsRUFBQztZQUNuQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBQ0Qsd0NBQWMsR0FBZCxVQUFlLE9BQTBCLEVBQUUsWUFBZ0MsRUFBRSxhQUFpQztRQUMxRyxJQUFJLEtBQUssR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDO1FBQy9CLElBQUksS0FBSyxDQUFDLEtBQUssSUFBSSxRQUFRLEVBQUU7WUFDekIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEdBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDM0M7YUFBSyxJQUFHLEtBQUssQ0FBQyxLQUFLLElBQUUsUUFBUSxJQUFFLEtBQUssQ0FBQyxJQUFJLElBQUUsUUFBUSxFQUFDO1lBQ2pELElBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsS0FBSztnQkFBRSxPQUFPO1lBQ3ZELE9BQU8sQ0FBQyxRQUFRLEdBQUMsSUFBSSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxjQUFjLEdBQUMsSUFBSSxDQUFDO1NBQzVCO0lBQ0wsQ0FBQztJQUNELHNDQUFZLEdBQVo7UUFDSSxJQUFJLENBQUMsY0FBYyxHQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBQyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQ3pGLElBQUksTUFBTSxHQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDdkUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEdBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsTUFBTSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUUsSUFBSSxHQUFHLEdBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUMxRCxJQUFHLEdBQUcsR0FBQyxFQUFFLEVBQUM7WUFDTixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDYixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBQyxLQUFLLENBQUM7WUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUN2QjtJQUNMLENBQUM7SUFDRCwrQkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxzQkFBc0IsR0FBQyxLQUFLLENBQUM7UUFDM0Msa0JBQVEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUEvQ2dCLGVBQWU7UUFEbkMsT0FBTztPQUNhLGVBQWUsQ0FnRG5DO0lBQUQsc0JBQUM7Q0FoREQsQUFnREMsQ0FoRDRDLEVBQUUsQ0FBQyxTQUFTLEdBZ0R4RDtrQkFoRG9CLGVBQWUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XG5pbXBvcnQgcGxheWVySHAgZnJvbSBcIi4vdWkvcGxheWVySHBcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBkcm9wQmxvb2RCb3R0bGUgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgaHA6bnVtYmVyPTEwMDtcbiAgICBmb3JjZVg6bnVtYmVyPTMwMDAwO1xuICAgIGZvcmNlWTpudW1iZXI9MjAwMDA7XG4gICAgcmlnaWJvZHk6Y2MuUmlnaWRCb2R5PW51bGw7XG4gICAgaXNNb3ZlVG9QbGF5ZXI6Ym9vbGVhbj1mYWxzZTtcbiAgICBzcGVlZDpudW1iZXI9NTAwO1xuICAgIHRhcmdldFBvc2l0aW9uOmNjLlZlYzM9bnVsbDtcblxuICAgIG9uTG9hZCgpe1xuICAgICAgICB0aGlzLnJpZ2lib2R5PXRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuUmlnaWRCb2R5KTtcbiAgICB9XG4gICAgc3RhcnQgKCkge1xuICAgICAgICB0aGlzLmZvcmNlWD10aGlzLm5vZGUueD5HYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueD90aGlzLmZvcmNlWDotdGhpcy5mb3JjZVg7XG4gICAgICAgIHRoaXMucmlnaWJvZHkuYXBwbHlGb3JjZVRvQ2VudGVyKGNjLnYyKHRoaXMuZm9yY2VYLHRoaXMuZm9yY2VZKSxmYWxzZSk7XG4gICAgfVxuICAgIHVwZGF0ZSgpe1xuICAgICAgICBpZih0aGlzLmlzTW92ZVRvUGxheWVyKXtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvUGxheWVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25CZWdpbkNvbnRhY3QoY29udGFjdDogY2MuUGh5c2ljc0NvbnRhY3QsIHNlbGZDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyLCBvdGhlckNvbGxpZGVyOiBjYy5QaHlzaWNzQ29sbGlkZXIpIHtcbiAgICAgICAgbGV0IG90aGVyID0gb3RoZXJDb2xsaWRlci5ub2RlO1xuICAgICAgICBpZiAob3RoZXIuZ3JvdXAgPT0gXCJncm91bmRcIikge1xuICAgICAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52MigwLDApO1xuICAgICAgICB9ZWxzZSBpZihvdGhlci5ncm91cD09XCJwbGF5ZXJcIiYmb3RoZXIubmFtZT09XCJwbGF5ZXJcIil7XG4gICAgICAgICAgICBpZihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLmlzRGllKSByZXR1cm47XG4gICAgICAgICAgICBjb250YWN0LmRpc2FibGVkPXRydWU7XG4gICAgICAgICAgICB0aGlzLmlzTW92ZVRvUGxheWVyPXRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbW92ZVRvUGxheWVyKCl7XG4gICAgICAgIHRoaXMudGFyZ2V0UG9zaXRpb249Y2MudjMoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLngsR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnkrNzApXG4gICAgICAgIGxldCBkaXJlY3Q9dGhpcy50YXJnZXRQb3NpdGlvbi5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKS5ub3JtYWxpemVTZWxmKCk7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHk9Y2MudjIoZGlyZWN0LngqdGhpcy5zcGVlZCxkaXJlY3QueSp0aGlzLnNwZWVkKTtcbiAgICAgICAgbGV0IGxlbj10aGlzLnRhcmdldFBvc2l0aW9uLnN1Yih0aGlzLm5vZGUucG9zaXRpb24pLmxlbigpO1xuICAgICAgICBpZihsZW48MTApe1xuICAgICAgICAgICAgdGhpcy5hZGRIcCgpO1xuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZT1mYWxzZTtcbiAgICAgICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkSHAoKXtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5lbmFibGVkQ29udGFjdExpc3RlbmVyPWZhbHNlO1xuICAgICAgICBwbGF5ZXJIcC5pbnN0YW5jZS5hZGRIcCh0aGlzLmhwKTtcbiAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/levelInit.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'aa2170aQm5NArAIpoFbEq0N', 'levelInit');
// scripts/game/levelInit.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var cameraControl_1 = require("./cameraControl");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var levelInit = /** @class */ (function (_super) {
    __extends(levelInit, _super);
    function levelInit() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bgLayers = [];
        _this.cameraNode = null;
        return _this;
    }
    levelInit.prototype.onLoad = function () {
        this.cameraNode = cameraControl_1.default.instance.cameraNode;
    };
    levelInit.prototype.start = function () {
    };
    levelInit.prototype.update = function (dt) {
        this.bgLayers[0].x = this.cameraNode.position.x * 0.8;
        this.bgLayers[1].x = this.cameraNode.position.x * 0.75;
        this.bgLayers[2].x = this.cameraNode.position.x * 0.62;
        if (this.bgLayers.length == 4) {
            this.bgLayers[3].x = this.cameraNode.position.x * 0.56;
        }
    };
    __decorate([
        property(cc.Node)
    ], levelInit.prototype, "bgLayers", void 0);
    levelInit = __decorate([
        ccclass
    ], levelInit);
    return levelInit;
}(cc.Component));
exports.default = levelInit;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcbGV2ZWxJbml0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLGlEQUE0QztBQUV0QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQXNCQztRQW5CRyxjQUFRLEdBQVcsRUFBRSxDQUFDO1FBRXRCLGdCQUFVLEdBQVMsSUFBSSxDQUFDOztJQWlCNUIsQ0FBQztJQWZHLDBCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsVUFBVSxHQUFDLHVCQUFhLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQztJQUN0RCxDQUFDO0lBQ0QseUJBQUssR0FBTDtJQUVBLENBQUM7SUFFRCwwQkFBTSxHQUFOLFVBQVEsRUFBRTtRQUNOLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxHQUFHLENBQUM7UUFDbEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQztRQUNuRCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDO1FBQ25ELElBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLElBQUUsQ0FBQyxFQUFDO1lBQ3ZCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUM7U0FDdEQ7SUFDTCxDQUFDO0lBbEJEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7K0NBQ0k7SUFITCxTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBc0I3QjtJQUFELGdCQUFDO0NBdEJELEFBc0JDLENBdEJzQyxFQUFFLENBQUMsU0FBUyxHQXNCbEQ7a0JBdEJvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCBjYW1lcmFDb250cm9sIGZyb20gXCIuL2NhbWVyYUNvbnRyb2xcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBsZXZlbEluaXQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgYmdMYXllcnM6Y2MuTm9kZVtdPVtdO1xuXG4gICAgY2FtZXJhTm9kZTpjYy5Ob2RlPW51bGw7XG5cbiAgICBvbkxvYWQoKXtcbiAgICAgICAgdGhpcy5jYW1lcmFOb2RlPWNhbWVyYUNvbnRyb2wuaW5zdGFuY2UuY2FtZXJhTm9kZTtcbiAgICB9XG4gICAgc3RhcnQgKCkge1xuXG4gICAgfVxuXG4gICAgdXBkYXRlIChkdCkge1xuICAgICAgICB0aGlzLmJnTGF5ZXJzWzBdLng9dGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLngqMC44O1xuICAgICAgICB0aGlzLmJnTGF5ZXJzWzFdLng9dGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLngqMC43NTtcbiAgICAgICAgdGhpcy5iZ0xheWVyc1syXS54PXRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi54KjAuNjI7XG4gICAgICAgIGlmKHRoaXMuYmdMYXllcnMubGVuZ3RoPT00KXtcbiAgICAgICAgICAgIHRoaXMuYmdMYXllcnNbM10ueD10aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCowLjU2O1xuICAgICAgICB9XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/playerSpawn.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9045fAEbe1Ht5kZtSuD9rSn', 'playerSpawn');
// scripts/game/playerSpawn.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var GameManager_1 = require("./GameManager");
var playerController_1 = require("./playerController");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var playerSpawn = /** @class */ (function (_super) {
    __extends(playerSpawn, _super);
    function playerSpawn() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    playerSpawn.prototype.onLoad = function () {
        GameManager_1.default.instance.playerSpawnM = this;
    };
    playerSpawn.prototype.start = function () {
    };
    playerSpawn.prototype.spawnPlayer = function () {
        return __awaiter(this, void 0, void 0, function () {
            var pre, player;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/player")];
                    case 1:
                        pre = _a.sent();
                        player = cc.instantiate(pre);
                        player.setParent(this.node.parent);
                        player.setPosition(this.node.position);
                        player.setSiblingIndex(this.node.getSiblingIndex());
                        GameManager_1.default.instance.player = player;
                        GameManager_1.default.instance.playerController = player.getComponent(playerController_1.default);
                        player.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    playerSpawn = __decorate([
        ccclass
    ], playerSpawn);
    return playerSpawn;
}(cc.Component));
exports.default = playerSpawn;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxccGxheWVyU3Bhd24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsNENBQTJDO0FBQzNDLDZDQUF3QztBQUN4Qyx1REFBa0Q7QUFFNUMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBeUMsK0JBQVk7SUFBckQ7O0lBaUJBLENBQUM7SUFmRyw0QkFBTSxHQUFOO1FBQ0kscUJBQVcsQ0FBQyxRQUFRLENBQUMsWUFBWSxHQUFDLElBQUksQ0FBQztJQUMzQyxDQUFDO0lBQ0QsMkJBQUssR0FBTDtJQUNBLENBQUM7SUFDSyxpQ0FBVyxHQUFqQjs7Ozs7NEJBQ1kscUJBQU0sdUJBQVUsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsRUFBQTs7d0JBQWpELEdBQUcsR0FBQyxTQUE2Qzt3QkFDakQsTUFBTSxHQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQy9CLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDbkMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUN2QyxNQUFNLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQzt3QkFDcEQscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQzt3QkFDckMscUJBQVcsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEdBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQywwQkFBZ0IsQ0FBQyxDQUFDO3dCQUM1RSxNQUFNLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQzs7Ozs7S0FDdEI7SUFoQmdCLFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0FpQi9CO0lBQUQsa0JBQUM7Q0FqQkQsQUFpQkMsQ0FqQndDLEVBQUUsQ0FBQyxTQUFTLEdBaUJwRDtrQkFqQm9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4vR2FtZU1hbmFnZXJcIjtcbmltcG9ydCBwbGF5ZXJDb250cm9sbGVyIGZyb20gXCIuL3BsYXllckNvbnRyb2xsZXJcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBwbGF5ZXJTcGF3biBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBvbkxvYWQoKXtcbiAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyU3Bhd25NPXRoaXM7XG4gICAgfVxuICAgIHN0YXJ0KCl7XG4gICAgfVxuICAgIGFzeW5jIHNwYXduUGxheWVyKCl7XG4gICAgICAgIGxldCBwcmU9YXdhaXQgY2FpamlUb29scy5sb2FkUHJlZmFiKFwicHJlZmFicy9wbGF5ZXJcIik7XG4gICAgICAgIGxldCBwbGF5ZXI9Y2MuaW5zdGFudGlhdGUocHJlKTtcbiAgICAgICAgcGxheWVyLnNldFBhcmVudCh0aGlzLm5vZGUucGFyZW50KTtcbiAgICAgICAgcGxheWVyLnNldFBvc2l0aW9uKHRoaXMubm9kZS5wb3NpdGlvbik7XG4gICAgICAgIHBsYXllci5zZXRTaWJsaW5nSW5kZXgodGhpcy5ub2RlLmdldFNpYmxpbmdJbmRleCgpKTtcbiAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyID0gcGxheWVyO1xuICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyPXBsYXllci5nZXRDb21wb25lbnQocGxheWVyQ29udHJvbGxlcik7XG4gICAgICAgIHBsYXllci5hY3RpdmU9dHJ1ZTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/playerColliderAttack2.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0249eb320lOdppO9lEMwV3p', 'playerColliderAttack2');
// scripts/game/playerColliderAttack2.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var playerColliderAttack2 = /** @class */ (function (_super) {
    __extends(playerColliderAttack2, _super);
    function playerColliderAttack2() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.enemys = [];
        _this.enemysHadHit = [];
        return _this;
    }
    playerColliderAttack2.prototype.onDisable = function () {
        this.enemys = [];
        this.enemysHadHit = [];
    };
    playerColliderAttack2.prototype.hit = function (damgeScale, attackType) {
        //console.log(damgeScale,attackType);
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.swoosh2);
        for (var _i = 0, _a = this.enemys; _i < _a.length; _i++) {
            var enemy = _a[_i];
            if (this.enemysHadHit.includes(enemy))
                continue;
            //@ts-ignore
            enemy.getComponent(animationState_1.enemyScript[enemy.name]).beHit(damgeScale, attackType);
            this.enemysHadHit.push(enemy);
            //@ts-ignore
            enemy.getComponent(animationState_1.enemyScript[enemy.name]).playBeHitSound(audioNameMgr_1.audioName.slash2);
        }
    };
    playerColliderAttack2.prototype.onCollisionEnter = function (other, self) {
        this.enemys.push(other.node);
    };
    playerColliderAttack2.prototype.onCollisionExit = function (other, self) {
        var index = this.enemys.indexOf(other.node);
        this.enemys.splice(index, 1);
    };
    playerColliderAttack2 = __decorate([
        ccclass
    ], playerColliderAttack2);
    return playerColliderAttack2;
}(cc.Component));
exports.default = playerColliderAttack2;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxccGxheWVyQ29sbGlkZXJBdHRhY2syLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLGdEQUE0QztBQUM1QyxxREFBZ0Q7QUFDaEQsbURBQTJEO0FBRXJELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQW1ELHlDQUFZO0lBQS9EO1FBQUEscUVBMkJDO1FBekJHLFlBQU0sR0FBbUIsRUFBRSxDQUFDO1FBQzVCLGtCQUFZLEdBQW1CLEVBQUUsQ0FBQzs7SUF3QnRDLENBQUM7SUF2QkcseUNBQVMsR0FBVDtRQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFDRCxtQ0FBRyxHQUFILFVBQUksVUFBa0IsRUFBRSxVQUFzQjtRQUMxQyxxQ0FBcUM7UUFDckMsc0JBQVksQ0FBQyxTQUFTLENBQUMsd0JBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMxQyxLQUFrQixVQUFXLEVBQVgsS0FBQSxJQUFJLENBQUMsTUFBTSxFQUFYLGNBQVcsRUFBWCxJQUFXLEVBQUU7WUFBMUIsSUFBSSxLQUFLLFNBQUE7WUFDVixJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztnQkFBRSxTQUFTO1lBQ2hELFlBQVk7WUFDWixLQUFLLENBQUMsWUFBWSxDQUFDLDRCQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUMxRSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5QixZQUFZO1lBQ1osS0FBSyxDQUFDLFlBQVksQ0FBQyw0QkFBVyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyx3QkFBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2hGO0lBQ0wsQ0FBQztJQUNELGdEQUFnQixHQUFoQixVQUFpQixLQUFrQixFQUFFLElBQWlCO1FBQ2xELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBQ0QsK0NBQWUsR0FBZixVQUFnQixLQUFrQixFQUFFLElBQWlCO1FBQ2pELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQTFCZ0IscUJBQXFCO1FBRHpDLE9BQU87T0FDYSxxQkFBcUIsQ0EyQnpDO0lBQUQsNEJBQUM7Q0EzQkQsQUEyQkMsQ0EzQmtELEVBQUUsQ0FBQyxTQUFTLEdBMkI5RDtrQkEzQm9CLHFCQUFxQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBhdWRpb05hbWUgfSBmcm9tIFwiLi4vYXVkaW9OYW1lTWdyXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IHsgYXR0YWNrVHlwZSwgZW5lbXlTY3JpcHQgfSBmcm9tIFwiLi9hbmltYXRpb25TdGF0ZVwiO1xuXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgcGxheWVyQ29sbGlkZXJBdHRhY2syIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIGVuZW15czogQXJyYXk8Y2MuTm9kZT4gPSBbXTtcbiAgICBlbmVteXNIYWRIaXQ6IEFycmF5PGNjLk5vZGU+ID0gW107XG4gICAgb25EaXNhYmxlKCkge1xuICAgICAgICB0aGlzLmVuZW15cyA9IFtdO1xuICAgICAgICB0aGlzLmVuZW15c0hhZEhpdCA9IFtdO1xuICAgIH1cbiAgICBoaXQoZGFtZ2VTY2FsZTogbnVtYmVyLCBhdHRhY2tUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coZGFtZ2VTY2FsZSxhdHRhY2tUeXBlKTtcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuc3dvb3NoMik7XG4gICAgICAgIGZvciAobGV0IGVuZW15IG9mIHRoaXMuZW5lbXlzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmVteXNIYWRIaXQuaW5jbHVkZXMoZW5lbXkpKSBjb250aW51ZTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgZW5lbXkuZ2V0Q29tcG9uZW50KGVuZW15U2NyaXB0W2VuZW15Lm5hbWVdKS5iZUhpdChkYW1nZVNjYWxlLCBhdHRhY2tUeXBlKTtcbiAgICAgICAgICAgIHRoaXMuZW5lbXlzSGFkSGl0LnB1c2goZW5lbXkpO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBlbmVteS5nZXRDb21wb25lbnQoZW5lbXlTY3JpcHRbZW5lbXkubmFtZV0pLnBsYXlCZUhpdFNvdW5kKGF1ZGlvTmFtZS5zbGFzaDIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ29sbGlzaW9uRW50ZXIob3RoZXI6IGNjLkNvbGxpZGVyLCBzZWxmOiBjYy5Db2xsaWRlcikge1xuICAgICAgICB0aGlzLmVuZW15cy5wdXNoKG90aGVyLm5vZGUpO1xuICAgIH1cbiAgICBvbkNvbGxpc2lvbkV4aXQob3RoZXI6IGNjLkNvbGxpZGVyLCBzZWxmOiBjYy5Db2xsaWRlcikge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmVuZW15cy5pbmRleE9mKG90aGVyLm5vZGUpO1xuICAgICAgICB0aGlzLmVuZW15cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/damageTipPool.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e86e1AR5HlPdqrmQHBKyG3/', 'damageTipPool');
// scripts/game/damageTipPool.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageTipPool = /** @class */ (function (_super) {
    __extends(damageTipPool, _super);
    function damageTipPool() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.labelPre = null;
        _this.effectPre = null;
        _this.damgeLabelPool = new cc.NodePool("damageLabel");
        _this.damageEffectPool = new cc.NodePool("damageEffect");
        return _this;
    }
    damageTipPool_1 = damageTipPool;
    Object.defineProperty(damageTipPool, "instance", {
        get: function () {
            if (damageTipPool_1._instance == null) {
                damageTipPool_1._instance = new damageTipPool_1;
            }
            return damageTipPool_1._instance;
        },
        enumerable: false,
        configurable: true
    });
    damageTipPool.prototype.init = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, i, effect, label;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        if (damageTipPool_1.instance.damgeLabelPool.size() > 0)
                            return [2 /*return*/];
                        _a = damageTipPool_1.instance;
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/damageLabel")];
                    case 1:
                        _a.labelPre = _c.sent();
                        _b = damageTipPool_1.instance;
                        return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/damgeEffect")];
                    case 2:
                        _b.effectPre = _c.sent();
                        for (i = 0; i < 15; i++) {
                            effect = cc.instantiate(damageTipPool_1.instance.effectPre);
                            label = cc.instantiate(damageTipPool_1.instance.labelPre);
                            damageTipPool_1.instance.damageEffectPool.put(effect);
                            damageTipPool_1.instance.damgeLabelPool.put(label);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    damageTipPool.prototype.getDamageLabel = function () {
        return __awaiter(this, void 0, void 0, function () {
            var lable;
            return __generator(this, function (_a) {
                lable = damageTipPool_1.instance.damgeLabelPool.get();
                if (!lable) {
                    lable = cc.instantiate(damageTipPool_1.instance.labelPre);
                }
                return [2 /*return*/, lable];
            });
        });
    };
    damageTipPool.prototype.recoveryDmgLabel = function (node) {
        damageTipPool_1.instance.damgeLabelPool.put(node);
    };
    damageTipPool.prototype.getDamageEffect = function () {
        return __awaiter(this, void 0, void 0, function () {
            var effect;
            return __generator(this, function (_a) {
                effect = damageTipPool_1.instance.damageEffectPool.get();
                if (!effect) {
                    effect = cc.instantiate(damageTipPool_1.instance.effectPre);
                }
                return [2 /*return*/, effect];
            });
        });
    };
    damageTipPool.prototype.recoveryDmgEffect = function (node) {
        damageTipPool_1.instance.damageEffectPool.put(node);
    };
    var damageTipPool_1;
    damageTipPool._instance = null;
    damageTipPool = damageTipPool_1 = __decorate([
        ccclass
    ], damageTipPool);
    return damageTipPool;
}(cc.Component));
exports.default = damageTipPool;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcZGFtYWdlVGlwUG9vbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRiw0Q0FBMkM7QUFFckMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUE2Q0M7UUEzQ0csY0FBUSxHQUFXLElBQUksQ0FBQztRQUN4QixlQUFTLEdBQVcsSUFBSSxDQUFDO1FBQ3pCLG9CQUFjLEdBQWEsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzFELHNCQUFnQixHQUFhLElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQzs7SUF3Q2pFLENBQUM7c0JBN0NvQixhQUFhO0lBUTlCLHNCQUFrQix5QkFBUTthQUExQjtZQUNJLElBQUcsZUFBYSxDQUFDLFNBQVMsSUFBRSxJQUFJLEVBQUM7Z0JBQzdCLGVBQWEsQ0FBQyxTQUFTLEdBQUMsSUFBSSxlQUFhLENBQUM7YUFDN0M7WUFDRCxPQUFPLGVBQWEsQ0FBQyxTQUFTLENBQUM7UUFDbkMsQ0FBQzs7O09BQUE7SUFDSyw0QkFBSSxHQUFWOzs7Ozs7d0JBQ0ksSUFBRyxlQUFhLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsR0FBQyxDQUFDOzRCQUFFLHNCQUFPO3dCQUMxRCxLQUFBLGVBQWEsQ0FBQyxRQUFRLENBQUE7d0JBQVUscUJBQU0sdUJBQVUsQ0FBQyxVQUFVLENBQUMscUJBQXFCLENBQUMsRUFBQTs7d0JBQWxGLEdBQXVCLFFBQVEsR0FBQyxTQUFrRCxDQUFDO3dCQUNuRixLQUFBLGVBQWEsQ0FBQyxRQUFRLENBQUE7d0JBQVcscUJBQU0sdUJBQVUsQ0FBQyxVQUFVLENBQUMscUJBQXFCLENBQUMsRUFBQTs7d0JBQW5GLEdBQXVCLFNBQVMsR0FBQyxTQUFrRCxDQUFDO3dCQUNwRixLQUFRLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUUsRUFBQzs0QkFDYixNQUFNLEdBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxlQUFhLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDOzRCQUN4RCxLQUFLLEdBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxlQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDOzRCQUMxRCxlQUFhLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQzs0QkFDcEQsZUFBYSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO3lCQUNwRDs7Ozs7S0FDSjtJQUNLLHNDQUFjLEdBQXBCOzs7O2dCQUNRLEtBQUssR0FBRyxlQUFhLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztnQkFDeEQsSUFBRyxDQUFDLEtBQUssRUFBQztvQkFDTixLQUFLLEdBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxlQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUN6RDtnQkFDRCxzQkFBTyxLQUFLLEVBQUM7OztLQUNoQjtJQUNELHdDQUFnQixHQUFoQixVQUFpQixJQUFZO1FBQ3pCLGVBQWEsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBQ0ssdUNBQWUsR0FBckI7Ozs7Z0JBQ1EsTUFBTSxHQUFHLGVBQWEsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQzNELElBQUcsQ0FBQyxNQUFNLEVBQUM7b0JBQ1AsTUFBTSxHQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsZUFBYSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztpQkFDM0Q7Z0JBQ0Qsc0JBQU8sTUFBTSxFQUFDOzs7S0FDakI7SUFDRCx5Q0FBaUIsR0FBakIsVUFBa0IsSUFBWTtRQUMxQixlQUFhLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0RCxDQUFDOztJQXJDYyx1QkFBUyxHQUFlLElBQUksQ0FBQztJQVAzQixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBNkNqQztJQUFELG9CQUFDO0NBN0NELEFBNkNDLENBN0MwQyxFQUFFLENBQUMsU0FBUyxHQTZDdEQ7a0JBN0NvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vY2FpamlUb29sc1wiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGRhbWFnZVRpcFBvb2wgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgbGFiZWxQcmU6Y2MuUHJlZmFiPW51bGw7XG4gICAgZWZmZWN0UHJlOmNjLlByZWZhYj1udWxsO1xuICAgIGRhbWdlTGFiZWxQb29sOmNjLk5vZGVQb29sPW5ldyBjYy5Ob2RlUG9vbChcImRhbWFnZUxhYmVsXCIpO1xuICAgIGRhbWFnZUVmZmVjdFBvb2w6Y2MuTm9kZVBvb2w9bmV3IGNjLk5vZGVQb29sKFwiZGFtYWdlRWZmZWN0XCIpO1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOmRhbWFnZVRpcFBvb2w9bnVsbDtcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpe1xuICAgICAgICBpZihkYW1hZ2VUaXBQb29sLl9pbnN0YW5jZT09bnVsbCl7XG4gICAgICAgICAgICBkYW1hZ2VUaXBQb29sLl9pbnN0YW5jZT1uZXcgZGFtYWdlVGlwUG9vbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGFtYWdlVGlwUG9vbC5faW5zdGFuY2U7XG4gICAgfVxuICAgIGFzeW5jIGluaXQoKXtcbiAgICAgICAgaWYoZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5kYW1nZUxhYmVsUG9vbC5zaXplKCk+MCkgcmV0dXJuO1xuICAgICAgICBkYW1hZ2VUaXBQb29sLmluc3RhbmNlLmxhYmVsUHJlPWF3YWl0IGNhaWppVG9vbHMubG9hZFByZWZhYihcInByZWZhYnMvZGFtYWdlTGFiZWxcIik7XG4gICAgICAgIGRhbWFnZVRpcFBvb2wuaW5zdGFuY2UuZWZmZWN0UHJlPWF3YWl0IGNhaWppVG9vbHMubG9hZFByZWZhYihcInByZWZhYnMvZGFtZ2VFZmZlY3RcIik7XG4gICAgICAgIGZvcihsZXQgaT0wO2k8MTU7aSsrKXtcbiAgICAgICAgICAgIGxldCBlZmZlY3Q9Y2MuaW5zdGFudGlhdGUoZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5lZmZlY3RQcmUpO1xuICAgICAgICAgICAgbGV0IGxhYmVsPWNjLmluc3RhbnRpYXRlKGRhbWFnZVRpcFBvb2wuaW5zdGFuY2UubGFiZWxQcmUpO1xuICAgICAgICAgICAgZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5kYW1hZ2VFZmZlY3RQb29sLnB1dChlZmZlY3QpO1xuICAgICAgICAgICAgZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5kYW1nZUxhYmVsUG9vbC5wdXQobGFiZWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGdldERhbWFnZUxhYmVsKCl7XG4gICAgICAgIGxldCBsYWJsZSA9IGRhbWFnZVRpcFBvb2wuaW5zdGFuY2UuZGFtZ2VMYWJlbFBvb2wuZ2V0KCk7XG4gICAgICAgIGlmKCFsYWJsZSl7XG4gICAgICAgICAgICBsYWJsZT1jYy5pbnN0YW50aWF0ZShkYW1hZ2VUaXBQb29sLmluc3RhbmNlLmxhYmVsUHJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGFibGU7XG4gICAgfVxuICAgIHJlY292ZXJ5RG1nTGFiZWwobm9kZTpjYy5Ob2RlKXtcbiAgICAgICAgZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5kYW1nZUxhYmVsUG9vbC5wdXQobm9kZSk7XG4gICAgfVxuICAgIGFzeW5jIGdldERhbWFnZUVmZmVjdCgpe1xuICAgICAgICBsZXQgZWZmZWN0ID0gZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5kYW1hZ2VFZmZlY3RQb29sLmdldCgpO1xuICAgICAgICBpZighZWZmZWN0KXtcbiAgICAgICAgICAgIGVmZmVjdD1jYy5pbnN0YW50aWF0ZShkYW1hZ2VUaXBQb29sLmluc3RhbmNlLmVmZmVjdFByZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVmZmVjdDtcbiAgICB9XG4gICAgcmVjb3ZlcnlEbWdFZmZlY3Qobm9kZTpjYy5Ob2RlKXtcbiAgICAgICAgZGFtYWdlVGlwUG9vbC5pbnN0YW5jZS5kYW1hZ2VFZmZlY3RQb29sLnB1dChub2RlKTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/playerColliderAttack1.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c6cfa/Wi6lE/Jia0/lKz1xr', 'playerColliderAttack1');
// scripts/game/playerColliderAttack1.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var playerColliderAttack1 = /** @class */ (function (_super) {
    __extends(playerColliderAttack1, _super);
    function playerColliderAttack1() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.enemys = [];
        _this.enemysHadHit = [];
        return _this;
    }
    playerColliderAttack1.prototype.onDisable = function () {
        this.enemys = [];
        this.enemysHadHit = [];
    };
    playerColliderAttack1.prototype.hit = function (damgeScale, attackType) {
        //console.log(damgeScale,attackType);
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.swoosh1);
        if (this.enemys.length == 0)
            return;
        for (var _i = 0, _a = this.enemys; _i < _a.length; _i++) {
            var enemy = _a[_i];
            if (this.enemysHadHit.includes(enemy))
                continue;
            //@ts-ignore
            enemy.getComponent(animationState_1.enemyScript[enemy.name]).beHit(damgeScale, attackType);
            this.enemysHadHit.push(enemy);
            //@ts-ignore
            enemy.getComponent(animationState_1.enemyScript[enemy.name]).playBeHitSound(audioNameMgr_1.audioName.slash1);
        }
    };
    playerColliderAttack1.prototype.onCollisionEnter = function (other, self) {
        this.enemys.push(other.node);
    };
    playerColliderAttack1.prototype.onCollisionExit = function (other, self) {
        var index = this.enemys.indexOf(other.node);
        this.enemys.splice(index, 1);
    };
    playerColliderAttack1 = __decorate([
        ccclass
    ], playerColliderAttack1);
    return playerColliderAttack1;
}(cc.Component));
exports.default = playerColliderAttack1;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxccGxheWVyQ29sbGlkZXJBdHRhY2sxLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLGdEQUE0QztBQUM1QyxxREFBZ0Q7QUFDaEQsbURBQTJEO0FBRXJELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQW1ELHlDQUFZO0lBQS9EO1FBQUEscUVBNkJDO1FBM0JHLFlBQU0sR0FBbUIsRUFBRSxDQUFDO1FBQzVCLGtCQUFZLEdBQW1CLEVBQUUsQ0FBQzs7SUEwQnRDLENBQUM7SUF6QkcseUNBQVMsR0FBVDtRQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFDRCxtQ0FBRyxHQUFILFVBQUksVUFBa0IsRUFBRSxVQUFzQjtRQUMxQyxxQ0FBcUM7UUFDckMsc0JBQVksQ0FBQyxTQUFTLENBQUMsd0JBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMxQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLENBQUM7WUFBRSxPQUFPO1FBQ3BDLEtBQWtCLFVBQVcsRUFBWCxLQUFBLElBQUksQ0FBQyxNQUFNLEVBQVgsY0FBVyxFQUFYLElBQVcsRUFBRTtZQUExQixJQUFJLEtBQUssU0FBQTtZQUNWLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO2dCQUFFLFNBQVM7WUFDaEQsWUFBWTtZQUNaLEtBQUssQ0FBQyxZQUFZLENBQUMsNEJBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1lBQzFFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzlCLFlBQVk7WUFDWixLQUFLLENBQUMsWUFBWSxDQUFDLDRCQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLHdCQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDaEY7SUFFTCxDQUFDO0lBQ0QsZ0RBQWdCLEdBQWhCLFVBQWlCLEtBQWtCLEVBQUUsSUFBaUI7UUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFDRCwrQ0FBZSxHQUFmLFVBQWdCLEtBQWtCLEVBQUUsSUFBaUI7UUFDakQsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBNUJnQixxQkFBcUI7UUFEekMsT0FBTztPQUNhLHFCQUFxQixDQTZCekM7SUFBRCw0QkFBQztDQTdCRCxBQTZCQyxDQTdCa0QsRUFBRSxDQUFDLFNBQVMsR0E2QjlEO2tCQTdCb0IscUJBQXFCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCB7IGF1ZGlvTmFtZSB9IGZyb20gXCIuLi9hdWRpb05hbWVNZ3JcIjtcbmltcG9ydCBhdWRpb01hbmFnZXIgZnJvbSBcIi4uL21haW4vYXVkaW9NYW5hZ2VyXCI7XG5pbXBvcnQgeyBhdHRhY2tUeXBlLCBlbmVteVNjcmlwdCB9IGZyb20gXCIuL2FuaW1hdGlvblN0YXRlXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBwbGF5ZXJDb2xsaWRlckF0dGFjazEgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgZW5lbXlzOiBBcnJheTxjYy5Ob2RlPiA9IFtdO1xuICAgIGVuZW15c0hhZEhpdDogQXJyYXk8Y2MuTm9kZT4gPSBbXTtcbiAgICBvbkRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuZW5lbXlzID0gW107XG4gICAgICAgIHRoaXMuZW5lbXlzSGFkSGl0ID0gW107XG4gICAgfVxuICAgIGhpdChkYW1nZVNjYWxlOiBudW1iZXIsIGF0dGFja1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhkYW1nZVNjYWxlLGF0dGFja1R5cGUpO1xuICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5zd29vc2gxKTtcbiAgICAgICAgaWYgKHRoaXMuZW5lbXlzLmxlbmd0aCA9PSAwKSByZXR1cm47XG4gICAgICAgIGZvciAobGV0IGVuZW15IG9mIHRoaXMuZW5lbXlzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmVteXNIYWRIaXQuaW5jbHVkZXMoZW5lbXkpKSBjb250aW51ZTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgZW5lbXkuZ2V0Q29tcG9uZW50KGVuZW15U2NyaXB0W2VuZW15Lm5hbWVdKS5iZUhpdChkYW1nZVNjYWxlLCBhdHRhY2tUeXBlKTtcbiAgICAgICAgICAgIHRoaXMuZW5lbXlzSGFkSGl0LnB1c2goZW5lbXkpO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBlbmVteS5nZXRDb21wb25lbnQoZW5lbXlTY3JpcHRbZW5lbXkubmFtZV0pLnBsYXlCZUhpdFNvdW5kKGF1ZGlvTmFtZS5zbGFzaDEpO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgb25Db2xsaXNpb25FbnRlcihvdGhlcjogY2MuQ29sbGlkZXIsIHNlbGY6IGNjLkNvbGxpZGVyKSB7XG4gICAgICAgIHRoaXMuZW5lbXlzLnB1c2gob3RoZXIubm9kZSk7XG4gICAgfVxuICAgIG9uQ29sbGlzaW9uRXhpdChvdGhlcjogY2MuQ29sbGlkZXIsIHNlbGY6IGNjLkNvbGxpZGVyKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuZW5lbXlzLmluZGV4T2Yob3RoZXIubm9kZSk7XG4gICAgICAgIHRoaXMuZW5lbXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/playerColliderAttack3.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1d764ug2jtPmqVFN/mUvbFW', 'playerColliderAttack3');
// scripts/game/playerColliderAttack3.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var animationState_1 = require("./animationState");
var GameManager_1 = require("./GameManager");
var playerHp_1 = require("./ui/playerHp");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var playerColliderAttack3 = /** @class */ (function (_super) {
    __extends(playerColliderAttack3, _super);
    function playerColliderAttack3() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.enemys = [];
        _this.enemysHadHit = [];
        return _this;
    }
    playerColliderAttack3.prototype.onDisable = function () {
        this.enemys = [];
        this.enemysHadHit = [];
    };
    playerColliderAttack3.prototype.hit = function (enemy, damgeScale, attackType) {
        //@ts-ignore
        enemy.getComponent(animationState_1.enemyScript[enemy.name]).beHit(damgeScale, attackType);
        //@ts-ignore
        enemy.getComponent(animationState_1.enemyScript[enemy.name]).playBeHitSound(audioNameMgr_1.audioName.slash3);
    };
    playerColliderAttack3.prototype.onCollisionEnter = function (other, self) {
        if (this.enemysHadHit.includes(other.node))
            return;
        var dmg = playerHp_1.default.instance.damageScale * GameManager_1.default.instance.playerController.damageScaleZoom *
            GameManager_1.default.instance.playerController.damage3ScaleTimes;
        this.hit(other.node, dmg, animationState_1.attackType.attack3);
        this.enemysHadHit.push(other.node);
    };
    playerColliderAttack3.prototype.onCollisionExit = function (other, self) {
        var index = this.enemys.indexOf(other.node);
        this.enemys.splice(index, 1);
    };
    playerColliderAttack3 = __decorate([
        ccclass
    ], playerColliderAttack3);
    return playerColliderAttack3;
}(cc.Component));
exports.default = playerColliderAttack3;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxccGxheWVyQ29sbGlkZXJBdHRhY2szLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLGdEQUE0QztBQUU1QyxtREFBMkQ7QUFDM0QsNkNBQXdDO0FBQ3hDLDBDQUFxQztBQUUvQixJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUFtRCx5Q0FBWTtJQUEvRDtRQUFBLHFFQXlCQztRQXZCRyxZQUFNLEdBQW1CLEVBQUUsQ0FBQztRQUM1QixrQkFBWSxHQUFtQixFQUFFLENBQUM7O0lBc0J0QyxDQUFDO0lBckJHLHlDQUFTLEdBQVQ7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNqQixJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBQ0QsbUNBQUcsR0FBSCxVQUFJLEtBQWMsRUFBRSxVQUFrQixFQUFFLFVBQXNCO1FBQzFELFlBQVk7UUFDWixLQUFLLENBQUMsWUFBWSxDQUFDLDRCQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMxRSxZQUFZO1FBQ1osS0FBSyxDQUFDLFlBQVksQ0FBQyw0QkFBVyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyx3QkFBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pGLENBQUM7SUFDRCxnREFBZ0IsR0FBaEIsVUFBaUIsS0FBa0IsRUFBRSxJQUFpQjtRQUNsRCxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFBRSxPQUFPO1FBQ25ELElBQUksR0FBRyxHQUFXLGtCQUFRLENBQUMsUUFBUSxDQUFDLFdBQVcsR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFlO1lBQ25HLHFCQUFXLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDO1FBQzVELElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsMkJBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUNELCtDQUFlLEdBQWYsVUFBZ0IsS0FBa0IsRUFBRSxJQUFpQjtRQUNqRCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUF4QmdCLHFCQUFxQjtRQUR6QyxPQUFPO09BQ2EscUJBQXFCLENBeUJ6QztJQUFELDRCQUFDO0NBekJELEFBeUJDLENBekJrRCxFQUFFLENBQUMsU0FBUyxHQXlCOUQ7a0JBekJvQixxQkFBcUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi4vbWFpbi9hdWRpb01hbmFnZXJcIjtcbmltcG9ydCB7IGF0dGFja1R5cGUsIGVuZW15U2NyaXB0IH0gZnJvbSBcIi4vYW5pbWF0aW9uU3RhdGVcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xuaW1wb3J0IHBsYXllckhwIGZyb20gXCIuL3VpL3BsYXllckhwXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBwbGF5ZXJDb2xsaWRlckF0dGFjazMgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgZW5lbXlzOiBBcnJheTxjYy5Ob2RlPiA9IFtdO1xuICAgIGVuZW15c0hhZEhpdDogQXJyYXk8Y2MuTm9kZT4gPSBbXTtcbiAgICBvbkRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuZW5lbXlzID0gW107XG4gICAgICAgIHRoaXMuZW5lbXlzSGFkSGl0ID0gW107XG4gICAgfVxuICAgIGhpdChlbmVteTogY2MuTm9kZSwgZGFtZ2VTY2FsZTogbnVtYmVyLCBhdHRhY2tUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBlbmVteS5nZXRDb21wb25lbnQoZW5lbXlTY3JpcHRbZW5lbXkubmFtZV0pLmJlSGl0KGRhbWdlU2NhbGUsIGF0dGFja1R5cGUpO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgZW5lbXkuZ2V0Q29tcG9uZW50KGVuZW15U2NyaXB0W2VuZW15Lm5hbWVdKS5wbGF5QmVIaXRTb3VuZChhdWRpb05hbWUuc2xhc2gzKTtcbiAgICB9XG4gICAgb25Db2xsaXNpb25FbnRlcihvdGhlcjogY2MuQ29sbGlkZXIsIHNlbGY6IGNjLkNvbGxpZGVyKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZW15c0hhZEhpdC5pbmNsdWRlcyhvdGhlci5ub2RlKSkgcmV0dXJuO1xuICAgICAgICBsZXQgZG1nOiBudW1iZXIgPSBwbGF5ZXJIcC5pbnN0YW5jZS5kYW1hZ2VTY2FsZSAqIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuZGFtYWdlU2NhbGVab29tICpcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuZGFtYWdlM1NjYWxlVGltZXM7XG4gICAgICAgIHRoaXMuaGl0KG90aGVyLm5vZGUsIGRtZywgYXR0YWNrVHlwZS5hdHRhY2szKTtcbiAgICAgICAgdGhpcy5lbmVteXNIYWRIaXQucHVzaChvdGhlci5ub2RlKTtcbiAgICB9XG4gICAgb25Db2xsaXNpb25FeGl0KG90aGVyOiBjYy5Db2xsaWRlciwgc2VsZjogY2MuQ29sbGlkZXIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5lbmVteXMuaW5kZXhPZihvdGhlci5ub2RlKTtcbiAgICAgICAgdGhpcy5lbmVteXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/reviveFx.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '50e61VEAuBOrYQ2gv7vr8RK', 'reviveFx');
// scripts/game/reviveFx.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var reviveFx = /** @class */ (function (_super) {
    __extends(reviveFx, _super);
    function reviveFx() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        return _this;
        // update (dt) {}
    }
    reviveFx.prototype.onLoad = function () {
        this.skeleton = this.node.getComponent(sp.Skeleton);
    };
    reviveFx.prototype.start = function () {
    };
    reviveFx = __decorate([
        ccclass
    ], reviveFx);
    return reviveFx;
}(cc.Component));
exports.default = reviveFx;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxccmV2aXZlRngudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFNUUsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7UUFBQSxxRUFZQztRQVZHLGNBQVEsR0FBYSxJQUFJLENBQUM7O1FBUzFCLGlCQUFpQjtJQUNyQixDQUFDO0lBUkcseUJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxRQUFRLEdBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFFRCx3QkFBSyxHQUFMO0lBQ0EsQ0FBQztJQVRnQixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBWTVCO0lBQUQsZUFBQztDQVpELEFBWUMsQ0FacUMsRUFBRSxDQUFDLFNBQVMsR0FZakQ7a0JBWm9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyByZXZpdmVGeCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBza2VsZXRvbjpzcC5Ta2VsZXRvbj1udWxsO1xuXG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbj10aGlzLm5vZGUuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/playerPandant.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '67fc6T27PNOl4l9vGJy/Vcn', 'playerPandant');
// scripts/game/playerPandant.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var playerController_1 = require("./playerController");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var playerPandant = /** @class */ (function (_super) {
    __extends(playerPandant, _super);
    function playerPandant() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.animation = null;
        _this.player = null;
        _this.playerControl = null;
        _this.distanceX = 80;
        _this.distanceY = 80;
        _this.isInit = false;
        return _this;
    }
    playerPandant.prototype.onLoad = function () {
        this.animation = this.node.getComponent(cc.Animation);
    };
    playerPandant.prototype.start = function () {
    };
    playerPandant.prototype.init = function () {
        this.playerControl = this.player.getComponent(playerController_1.default);
        this.node.setPosition(this.player.x - this.distanceX, this.player.y + this.distanceY);
        this.node.active = true;
        this.isInit = true;
    };
    playerPandant.prototype.update = function (dt) {
        if (this.isInit) {
            this.follow();
        }
    };
    playerPandant.prototype.follow = function () {
        var newPos = cc.v3(0, this.player.y + this.distanceY);
        if (this.playerControl.skeleton.node.scaleX > 0) {
            newPos.x = this.player.x - this.distanceX;
        }
        else {
            newPos.x = this.player.x + this.distanceX;
        }
        this.node.position = this.node.position.lerp(newPos, 0.1);
    };
    playerPandant = __decorate([
        ccclass
    ], playerPandant);
    return playerPandant;
}(cc.Component));
exports.default = playerPandant;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxccGxheWVyUGFuZGFudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRix1REFBa0Q7QUFFNUMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUFxQ0M7UUFuQ0csZUFBUyxHQUFjLElBQUksQ0FBQztRQUM1QixZQUFNLEdBQVMsSUFBSSxDQUFDO1FBQ3BCLG1CQUFhLEdBQWtCLElBQUksQ0FBQztRQUVwQyxlQUFTLEdBQVEsRUFBRSxDQUFDO1FBQ3BCLGVBQVMsR0FBUSxFQUFFLENBQUM7UUFDcEIsWUFBTSxHQUFTLEtBQUssQ0FBQzs7SUE2QnpCLENBQUM7SUEzQkcsOEJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFRCw2QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUNELDRCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsYUFBYSxHQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDakYsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFDRCw4QkFBTSxHQUFOLFVBQVEsRUFBRTtRQUNOLElBQUcsSUFBSSxDQUFDLE1BQU0sRUFBQztZQUNYLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNqQjtJQUNMLENBQUM7SUFDRCw4QkFBTSxHQUFOO1FBQ0ksSUFBSSxNQUFNLEdBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2pELElBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBQyxDQUFDLEVBQUM7WUFDekMsTUFBTSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1NBQ3pDO2FBQUk7WUFDRCxNQUFNLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7U0FDekM7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFwQ2dCLGFBQWE7UUFEakMsT0FBTztPQUNhLGFBQWEsQ0FxQ2pDO0lBQUQsb0JBQUM7Q0FyQ0QsQUFxQ0MsQ0FyQzBDLEVBQUUsQ0FBQyxTQUFTLEdBcUN0RDtrQkFyQ29CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHBsYXllckNvbnRyb2xsZXIgZnJvbSBcIi4vcGxheWVyQ29udHJvbGxlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHBsYXllclBhbmRhbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgYW5pbWF0aW9uOmNjLkFuaW1hdGlvbj1udWxsO1xuICAgIHBsYXllcjpjYy5Ob2RlPW51bGw7XG4gICAgcGxheWVyQ29udHJvbDpwbGF5ZXJDb250cm9sbGVyPW51bGw7XG5cbiAgICBkaXN0YW5jZVg6bnVtYmVyPTgwO1xuICAgIGRpc3RhbmNlWTpudW1iZXI9ODA7XG4gICAgaXNJbml0OmJvb2xlYW49ZmFsc2U7XG5cbiAgICBvbkxvYWQoKXtcbiAgICAgICAgdGhpcy5hbmltYXRpb249dGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cbiAgICBpbml0KCl7XG4gICAgICAgIHRoaXMucGxheWVyQ29udHJvbD10aGlzLnBsYXllci5nZXRDb21wb25lbnQocGxheWVyQ29udHJvbGxlcik7XG4gICAgICAgIHRoaXMubm9kZS5zZXRQb3NpdGlvbih0aGlzLnBsYXllci54LXRoaXMuZGlzdGFuY2VYLHRoaXMucGxheWVyLnkrdGhpcy5kaXN0YW5jZVkpO1xuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlPXRydWU7XG4gICAgICAgIHRoaXMuaXNJbml0PXRydWU7XG4gICAgfVxuICAgIHVwZGF0ZSAoZHQpIHtcbiAgICAgICAgaWYodGhpcy5pc0luaXQpe1xuICAgICAgICAgICAgdGhpcy5mb2xsb3coKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb2xsb3coKXtcbiAgICAgICAgbGV0IG5ld1Bvcz1jYy52MygwLHRoaXMucGxheWVyLnkrdGhpcy5kaXN0YW5jZVkpO1xuICAgICAgICBpZih0aGlzLnBsYXllckNvbnRyb2wuc2tlbGV0b24ubm9kZS5zY2FsZVg+MCl7XG4gICAgICAgICAgICBuZXdQb3MueD10aGlzLnBsYXllci54LXRoaXMuZGlzdGFuY2VYO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIG5ld1Bvcy54PXRoaXMucGxheWVyLngrdGhpcy5kaXN0YW5jZVg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2RlLnBvc2l0aW9uPXRoaXMubm9kZS5wb3NpdGlvbi5sZXJwKG5ld1BvcywwLjEpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/enemyBase.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'adb3ap23ThHSafkgOKlkl0P', 'enemyBase');
// scripts/game/enemyBase.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.enemyAttribute = void 0;
var audioManager_1 = require("../main/audioManager");
var data_1 = require("../sdk/data");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var enemyAttribute;
(function (enemyAttribute) {
    enemyAttribute["hp"] = "hp";
    enemyAttribute["damage"] = "damage";
    enemyAttribute["dropCoinNumber"] = "dropCoinNumber";
    enemyAttribute["isSuperArmor"] = "isSuperArmor";
})(enemyAttribute = exports.enemyAttribute || (exports.enemyAttribute = {}));
var enemyBase = /** @class */ (function (_super) {
    __extends(enemyBase, _super);
    function enemyBase() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.hpMax = 0;
        _this.swordRainHitCd = 0.1;
        _this.damage = 0;
        _this.isSuperArmor = false; //是否霸体
        _this.isWuDi = false;
        return _this;
    }
    enemyBase.prototype.initData = function () {
        var level = Number(data_1.data.getCache("Base", "choseLevel"));
        var difficult = Number(data_1.data.getCache("levelStar", (level).toString()));
        var hpTimes = Number(data_1.data.gameJson("enemyHpTimes", difficult.toString()));
        var damageTimes = Number(data_1.data.gameJson("enemyDamageTimes", difficult.toString()));
        this.swordRainHitCd = Number(data_1.data.gameJson("swordRainInterval"));
        this.hpMax = Number(data_1.data.gameJson("enemyData", this.node.name, enemyAttribute.hp));
        this.damage = Number(data_1.data.gameJson("enemyData", this.node.name, enemyAttribute.damage));
        this.isSuperArmor = data_1.data.gameJson("enemyData", this.node.name, enemyAttribute.isSuperArmor);
        this.hpMax *= hpTimes;
        this.damage *= damageTimes;
    };
    enemyBase.prototype.dieCount = function () {
        GameManager_1.default.instance.killEnemyCount();
    };
    enemyBase.prototype.playBeHitSound = function (audioName) {
        if (this.isWuDi)
            return;
        audioManager_1.default.playAudio(audioName);
    };
    enemyBase = __decorate([
        ccclass
    ], enemyBase);
    return enemyBase;
}(cc.Component));
exports.default = enemyBase;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcZW5lbXlCYXNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdsRixxREFBZ0Q7QUFDaEQsb0NBQW1DO0FBQ25DLDZDQUF3QztBQUVsQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUMxQyxJQUFZLGNBS1g7QUFMRCxXQUFZLGNBQWM7SUFDdEIsMkJBQU8sQ0FBQTtJQUNQLG1DQUFlLENBQUE7SUFDZixtREFBK0IsQ0FBQTtJQUMvQiwrQ0FBMkIsQ0FBQTtBQUMvQixDQUFDLEVBTFcsY0FBYyxHQUFkLHNCQUFjLEtBQWQsc0JBQWMsUUFLekI7QUFFRDtJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQTJCQztRQXpCRyxXQUFLLEdBQVcsQ0FBQyxDQUFDO1FBQ2xCLG9CQUFjLEdBQVcsR0FBRyxDQUFDO1FBQzdCLFlBQU0sR0FBUSxDQUFDLENBQUM7UUFDaEIsa0JBQVksR0FBWSxLQUFLLENBQUMsQ0FBQSxNQUFNO1FBQ3BDLFlBQU0sR0FBUyxLQUFLLENBQUM7O0lBcUJ6QixDQUFDO0lBbkJHLDRCQUFRLEdBQVI7UUFDSSxJQUFJLEtBQUssR0FBQyxNQUFNLENBQUMsV0FBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztRQUNyRCxJQUFJLFNBQVMsR0FBQyxNQUFNLENBQUMsV0FBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEUsSUFBSSxPQUFPLEdBQUMsTUFBTSxDQUFDLFdBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdkUsSUFBSSxXQUFXLEdBQUMsTUFBTSxDQUFDLFdBQUksQ0FBQyxRQUFRLENBQUMsa0JBQWtCLEVBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMvRSxJQUFJLENBQUMsY0FBYyxHQUFDLE1BQU0sQ0FBQyxXQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsS0FBSyxHQUFDLE1BQU0sQ0FBQyxXQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMvRSxJQUFJLENBQUMsTUFBTSxHQUFDLE1BQU0sQ0FBQyxXQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNwRixJQUFJLENBQUMsWUFBWSxHQUFDLFdBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN4RixJQUFJLENBQUMsS0FBSyxJQUFFLE9BQU8sQ0FBQztRQUNwQixJQUFJLENBQUMsTUFBTSxJQUFFLFdBQVcsQ0FBQztJQUM3QixDQUFDO0lBQ0QsNEJBQVEsR0FBUjtRQUNJLHFCQUFXLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQzFDLENBQUM7SUFDRCxrQ0FBYyxHQUFkLFVBQWUsU0FBZ0I7UUFDM0IsSUFBRyxJQUFJLENBQUMsTUFBTTtZQUFFLE9BQU87UUFDdkIsc0JBQVksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQTFCZ0IsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQTJCN0I7SUFBRCxnQkFBQztDQTNCRCxBQTJCQyxDQTNCc0MsRUFBRSxDQUFDLFNBQVMsR0EyQmxEO2tCQTNCb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBhdWRpb05hbWUgfSBmcm9tIFwiLi4vYXVkaW9OYW1lTWdyXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IHsgZGF0YSB9IGZyb20gXCIuLi9zZGsvZGF0YVwiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuZXhwb3J0IGVudW0gZW5lbXlBdHRyaWJ1dGV7XG4gICAgaHA9XCJocFwiLFxuICAgIGRhbWFnZT1cImRhbWFnZVwiLFxuICAgIGRyb3BDb2luTnVtYmVyPVwiZHJvcENvaW5OdW1iZXJcIixcbiAgICBpc1N1cGVyQXJtb3I9XCJpc1N1cGVyQXJtb3JcIlxufVxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGVuZW15QmFzZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBocE1heDogbnVtYmVyID0gMDtcbiAgICBzd29yZFJhaW5IaXRDZDogbnVtYmVyID0gMC4xO1xuICAgIGRhbWFnZTpudW1iZXI9MDtcbiAgICBpc1N1cGVyQXJtb3I6IGJvb2xlYW4gPSBmYWxzZTsvL+aYr+WQpumcuOS9k1xuICAgIGlzV3VEaTpib29sZWFuPWZhbHNlO1xuXG4gICAgaW5pdERhdGEoKXtcbiAgICAgICAgbGV0IGxldmVsPU51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwiY2hvc2VMZXZlbFwiKSk7XG4gICAgICAgIGxldCBkaWZmaWN1bHQ9TnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJsZXZlbFN0YXJcIiwobGV2ZWwpLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgbGV0IGhwVGltZXM9TnVtYmVyKGRhdGEuZ2FtZUpzb24oXCJlbmVteUhwVGltZXNcIixkaWZmaWN1bHQudG9TdHJpbmcoKSkpO1xuICAgICAgICBsZXQgZGFtYWdlVGltZXM9TnVtYmVyKGRhdGEuZ2FtZUpzb24oXCJlbmVteURhbWFnZVRpbWVzXCIsZGlmZmljdWx0LnRvU3RyaW5nKCkpKTtcbiAgICAgICAgdGhpcy5zd29yZFJhaW5IaXRDZD1OdW1iZXIoZGF0YS5nYW1lSnNvbihcInN3b3JkUmFpbkludGVydmFsXCIpKTtcbiAgICAgICAgdGhpcy5ocE1heD1OdW1iZXIoZGF0YS5nYW1lSnNvbihcImVuZW15RGF0YVwiLHRoaXMubm9kZS5uYW1lLGVuZW15QXR0cmlidXRlLmhwKSk7XG4gICAgICAgIHRoaXMuZGFtYWdlPU51bWJlcihkYXRhLmdhbWVKc29uKFwiZW5lbXlEYXRhXCIsdGhpcy5ub2RlLm5hbWUsZW5lbXlBdHRyaWJ1dGUuZGFtYWdlKSk7XG4gICAgICAgIHRoaXMuaXNTdXBlckFybW9yPWRhdGEuZ2FtZUpzb24oXCJlbmVteURhdGFcIix0aGlzLm5vZGUubmFtZSxlbmVteUF0dHJpYnV0ZS5pc1N1cGVyQXJtb3IpO1xuICAgICAgICB0aGlzLmhwTWF4Kj1ocFRpbWVzO1xuICAgICAgICB0aGlzLmRhbWFnZSo9ZGFtYWdlVGltZXM7XG4gICAgfVxuICAgIGRpZUNvdW50KCl7XG4gICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLmtpbGxFbmVteUNvdW50KCk7XG4gICAgfVxuICAgIHBsYXlCZUhpdFNvdW5kKGF1ZGlvTmFtZTpzdHJpbmcpe1xuICAgICAgICBpZih0aGlzLmlzV3VEaSkgcmV0dXJuO1xuICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZSk7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/playerColliderJumpHit.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'be6f58OW0RIcYpgBaaEZRyR', 'playerColliderJumpHit');
// scripts/game/playerColliderJumpHit.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var animationState_1 = require("./animationState");
var GameManager_1 = require("./GameManager");
var playerHp_1 = require("./ui/playerHp");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var playerColliderJumpHit = /** @class */ (function (_super) {
    __extends(playerColliderJumpHit, _super);
    function playerColliderJumpHit() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.hitInterval = 0.15; //攻击间隔
        _this.timer = 0;
        _this.damageScale = 0;
        _this.enemys = [];
        _this.enemysHadHit = [];
        return _this;
    }
    playerColliderJumpHit.prototype.onDisable = function () {
        this.timer = 0;
        this.enemys = [];
        this.enemysHadHit = [];
    };
    playerColliderJumpHit.prototype.onEnable = function () {
        this.damageScale = playerHp_1.default.instance.damageScale * GameManager_1.default.instance.playerController.damageScaleZoom;
    };
    playerColliderJumpHit.prototype.start = function () {
        this.hitInterval = this.hitInterval - (playerHp_1.default.instance.speedTimes - 1) / 15;
    };
    playerColliderJumpHit.prototype.update = function (dt) {
        this.timer += dt;
        if (this.timer >= this.hitInterval) {
            this.hit(this.damageScale, animationState_1.attackType.jumpHit);
            this.timer = 0;
        }
    };
    playerColliderJumpHit.prototype.hit = function (damgeScale, attackType) {
        //console.log(damgeScale,attackType);
        for (var _i = 0, _a = this.enemys; _i < _a.length; _i++) {
            var enemy = _a[_i];
            //@ts-ignore
            enemy.getComponent(animationState_1.enemyScript[enemy.name]).beHit(damgeScale, attackType);
            //@ts-ignore
            enemy.getComponent(animationState_1.enemyScript[enemy.name]).playBeHitSound(audioNameMgr_1.audioName.airslash1);
        }
    };
    playerColliderJumpHit.prototype.onCollisionEnter = function (other, self) {
        this.enemys.push(other.node);
    };
    playerColliderJumpHit.prototype.onCollisionExit = function (other, self) {
        var index = this.enemys.indexOf(other.node);
        this.enemys.splice(index, 1);
    };
    __decorate([
        property({ type: cc.Float, displayName: "攻击间隔" })
    ], playerColliderJumpHit.prototype, "hitInterval", void 0);
    playerColliderJumpHit = __decorate([
        ccclass
    ], playerColliderJumpHit);
    return playerColliderJumpHit;
}(cc.Component));
exports.default = playerColliderJumpHit;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxccGxheWVyQ29sbGlkZXJKdW1wSGl0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLGdEQUE0QztBQUU1QyxtREFBMkQ7QUFDM0QsNkNBQXdDO0FBQ3hDLDBDQUFxQztBQUUvQixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFtRCx5Q0FBWTtJQUEvRDtRQUFBLHFFQTBDQztRQXZDRyxpQkFBVyxHQUFRLElBQUksQ0FBQyxDQUFBLE1BQU07UUFDOUIsV0FBSyxHQUFRLENBQUMsQ0FBQztRQUNmLGlCQUFXLEdBQVEsQ0FBQyxDQUFDO1FBQ3JCLFlBQU0sR0FBZ0IsRUFBRSxDQUFDO1FBQ3pCLGtCQUFZLEdBQWdCLEVBQUUsQ0FBQzs7SUFtQ25DLENBQUM7SUFsQ0cseUNBQVMsR0FBVDtRQUNJLElBQUksQ0FBQyxLQUFLLEdBQUMsQ0FBQyxDQUFDO1FBQ2IsSUFBSSxDQUFDLE1BQU0sR0FBQyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsWUFBWSxHQUFDLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBQ0Qsd0NBQVEsR0FBUjtRQUNJLElBQUksQ0FBQyxXQUFXLEdBQUMsa0JBQVEsQ0FBQyxRQUFRLENBQUMsV0FBVyxHQUFDLHFCQUFXLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQztJQUN6RyxDQUFDO0lBQ0QscUNBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxXQUFXLEdBQUMsSUFBSSxDQUFDLFdBQVcsR0FBQyxDQUFDLGtCQUFRLENBQUMsUUFBUSxDQUFDLFVBQVUsR0FBQyxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUM7SUFDMUUsQ0FBQztJQUNELHNDQUFNLEdBQU4sVUFBTyxFQUFFO1FBQ0wsSUFBSSxDQUFDLEtBQUssSUFBRSxFQUFFLENBQUM7UUFDZixJQUFHLElBQUksQ0FBQyxLQUFLLElBQUUsSUFBSSxDQUFDLFdBQVcsRUFBQztZQUM1QixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsMkJBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUM5QyxJQUFJLENBQUMsS0FBSyxHQUFDLENBQUMsQ0FBQztTQUNoQjtJQUNMLENBQUM7SUFDRCxtQ0FBRyxHQUFILFVBQUksVUFBaUIsRUFBQyxVQUFxQjtRQUN2QyxxQ0FBcUM7UUFDckMsS0FBaUIsVUFBVyxFQUFYLEtBQUEsSUFBSSxDQUFDLE1BQU0sRUFBWCxjQUFXLEVBQVgsSUFBVyxFQUFDO1lBQXpCLElBQUksS0FBSyxTQUFBO1lBQ1QsWUFBWTtZQUNaLEtBQUssQ0FBQyxZQUFZLENBQUMsNEJBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3pFLFlBQVk7WUFDWixLQUFLLENBQUMsWUFBWSxDQUFDLDRCQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLHdCQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDbkY7SUFDTCxDQUFDO0lBQ0QsZ0RBQWdCLEdBQWhCLFVBQWlCLEtBQWlCLEVBQUMsSUFBZ0I7UUFDL0MsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFDRCwrQ0FBZSxHQUFmLFVBQWdCLEtBQWlCLEVBQUMsSUFBZ0I7UUFDOUMsSUFBSSxLQUFLLEdBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBQyxDQUFDLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBdENEO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxDQUFDOzhEQUNyQjtJQUhQLHFCQUFxQjtRQUR6QyxPQUFPO09BQ2EscUJBQXFCLENBMEN6QztJQUFELDRCQUFDO0NBMUNELEFBMENDLENBMUNrRCxFQUFFLENBQUMsU0FBUyxHQTBDOUQ7a0JBMUNvQixxQkFBcUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi4vbWFpbi9hdWRpb01hbmFnZXJcIjtcbmltcG9ydCB7IGF0dGFja1R5cGUsIGVuZW15U2NyaXB0IH0gZnJvbSBcIi4vYW5pbWF0aW9uU3RhdGVcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xuaW1wb3J0IHBsYXllckhwIGZyb20gXCIuL3VpL3BsYXllckhwXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgcGxheWVyQ29sbGlkZXJKdW1wSGl0IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5GbG9hdCxkaXNwbGF5TmFtZTpcIuaUu+WHu+mXtOmalFwifSlcbiAgICBoaXRJbnRlcnZhbDpudW1iZXI9MC4xNTsvL+aUu+WHu+mXtOmalFxuICAgIHRpbWVyOm51bWJlcj0wO1xuICAgIGRhbWFnZVNjYWxlOm51bWJlcj0wO1xuICAgIGVuZW15czpBcnJheTxjYy5Ob2RlPj1bXTtcbiAgICBlbmVteXNIYWRIaXQ6QXJyYXk8Y2MuTm9kZT49W107XG4gICAgb25EaXNhYmxlICgpIHtcbiAgICAgICAgdGhpcy50aW1lcj0wO1xuICAgICAgICB0aGlzLmVuZW15cz1bXTtcbiAgICAgICAgdGhpcy5lbmVteXNIYWRIaXQ9W107XG4gICAgfVxuICAgIG9uRW5hYmxlKCl7XG4gICAgICAgIHRoaXMuZGFtYWdlU2NhbGU9cGxheWVySHAuaW5zdGFuY2UuZGFtYWdlU2NhbGUqR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5kYW1hZ2VTY2FsZVpvb207XG4gICAgfVxuICAgIHN0YXJ0KCl7XG4gICAgICAgIHRoaXMuaGl0SW50ZXJ2YWw9dGhpcy5oaXRJbnRlcnZhbC0ocGxheWVySHAuaW5zdGFuY2Uuc3BlZWRUaW1lcy0xKS8xNTtcbiAgICB9XG4gICAgdXBkYXRlKGR0KXtcbiAgICAgICAgdGhpcy50aW1lcis9ZHQ7XG4gICAgICAgIGlmKHRoaXMudGltZXI+PXRoaXMuaGl0SW50ZXJ2YWwpe1xuICAgICAgICAgICAgdGhpcy5oaXQodGhpcy5kYW1hZ2VTY2FsZSxhdHRhY2tUeXBlLmp1bXBIaXQpO1xuICAgICAgICAgICAgdGhpcy50aW1lcj0wO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhpdChkYW1nZVNjYWxlOm51bWJlcixhdHRhY2tUeXBlOmF0dGFja1R5cGUpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKGRhbWdlU2NhbGUsYXR0YWNrVHlwZSk7XG4gICAgICAgIGZvcihsZXQgZW5lbXkgb2YgdGhpcy5lbmVteXMpe1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBlbmVteS5nZXRDb21wb25lbnQoZW5lbXlTY3JpcHRbZW5lbXkubmFtZV0pLmJlSGl0KGRhbWdlU2NhbGUsYXR0YWNrVHlwZSk7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGVuZW15LmdldENvbXBvbmVudChlbmVteVNjcmlwdFtlbmVteS5uYW1lXSkucGxheUJlSGl0U291bmQoYXVkaW9OYW1lLmFpcnNsYXNoMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25Db2xsaXNpb25FbnRlcihvdGhlcjpjYy5Db2xsaWRlcixzZWxmOmNjLkNvbGxpZGVyKXtcbiAgICAgICAgdGhpcy5lbmVteXMucHVzaChvdGhlci5ub2RlKTtcbiAgICB9XG4gICAgb25Db2xsaXNpb25FeGl0KG90aGVyOmNjLkNvbGxpZGVyLHNlbGY6Y2MuQ29sbGlkZXIpe1xuICAgICAgICBsZXQgaW5kZXg9dGhpcy5lbmVteXMuaW5kZXhPZihvdGhlci5ub2RlKTtcbiAgICAgICAgdGhpcy5lbmVteXMuc3BsaWNlKGluZGV4LDEpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/portal.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1544c+y5cFCNo+OsDl+SB1Q', 'portal');
// scripts/game/portal.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var portal = /** @class */ (function (_super) {
    __extends(portal, _super);
    function portal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // onLoad () {}
    portal.prototype.start = function () {
    };
    portal.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        if (other.group == "player") {
            //切换场景
        }
    };
    portal = __decorate([
        ccclass
    ], portal);
    return portal;
}(cc.Component));
exports.default = portal;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxccG9ydGFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTVFLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQW9DLDBCQUFZO0lBQWhEOztJQWNBLENBQUM7SUFYRyxlQUFlO0lBRWYsc0JBQUssR0FBTDtJQUVBLENBQUM7SUFDRCwrQkFBYyxHQUFkLFVBQWdCLE9BQXlCLEVBQUMsWUFBK0IsRUFBQyxhQUFnQztRQUN0RyxJQUFJLEtBQUssR0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDO1FBQzdCLElBQUcsS0FBSyxDQUFDLEtBQUssSUFBRSxRQUFRLEVBQUM7WUFDckIsTUFBTTtTQUNUO0lBQ0wsQ0FBQztJQWJnQixNQUFNO1FBRDFCLE9BQU87T0FDYSxNQUFNLENBYzFCO0lBQUQsYUFBQztDQWRELEFBY0MsQ0FkbUMsRUFBRSxDQUFDLFNBQVMsR0FjL0M7a0JBZG9CLE1BQU0iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBwb3J0YWwgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG5cbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cbiAgICBvbkJlZ2luQ29udGFjdCAoY29udGFjdDpjYy5QaHlzaWNzQ29udGFjdCxzZWxmQ29sbGlkZXI6Y2MuUGh5c2ljc0NvbGxpZGVyLG90aGVyQ29sbGlkZXI6Y2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGxldCBvdGhlcj1vdGhlckNvbGxpZGVyLm5vZGU7XG4gICAgICAgIGlmKG90aGVyLmdyb3VwPT1cInBsYXllclwiKXtcbiAgICAgICAgICAgIC8v5YiH5o2i5Zy65pmvXG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/rock.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c999aTfBeZFsaHFnMLh4J53', 'rock');
// scripts/game/rock.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var skillPool_1 = require("./skillPool");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var rock = /** @class */ (function (_super) {
    __extends(rock, _super);
    function rock() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    rock.prototype.tween = function () {
        var _this = this;
        var _loop_1 = function (child) {
            child.scale = 0.3 + caijiTools_1.caijiTools.random_int(-10, 10) / 100;
            var x = caijiTools_1.caijiTools.random_int(-500, 500) / 10;
            var y = caijiTools_1.caijiTools.random_int(-500, 500) / 10;
            child.setPosition(x, y);
            var direction = cc.v2(x, y).normalizeSelf();
            var force = 1200;
            this_1.scheduleOnce(function () {
                child.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(direction.x * force, direction.y * force), true);
            }, 0);
            this_1.scheduleOnce(function () {
                cc.tween(child)
                    .to(0.3, { scale: 0 })
                    .start();
            }, 0.5);
        };
        var this_1 = this;
        for (var _i = 0, _a = this.node.children; _i < _a.length; _i++) {
            var child = _a[_i];
            _loop_1(child);
        }
        this.scheduleOnce(function () {
            skillPool_1.default.instance.recoveryRock(_this.node);
        }, 2);
    };
    rock.prototype.reuse = function () {
    };
    rock.prototype.unuse = function () {
    };
    rock = __decorate([
        ccclass
    ], rock);
    return rock;
}(cc.Component));
exports.default = rock;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxccm9jay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRiw0Q0FBMkM7QUFDM0MseUNBQW9DO0FBRTlCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWtDLHdCQUFZO0lBQTlDOztJQTZCQSxDQUFDO0lBekJHLG9CQUFLLEdBQUw7UUFBQSxpQkFvQkM7Z0NBbkJXLEtBQUs7WUFDVCxLQUFLLENBQUMsS0FBSyxHQUFDLEdBQUcsR0FBQyx1QkFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsR0FBQyxHQUFHLENBQUM7WUFDbEQsSUFBSSxDQUFDLEdBQUMsdUJBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLEVBQUMsR0FBRyxDQUFDLEdBQUMsRUFBRSxDQUFDO1lBQ3pDLElBQUksQ0FBQyxHQUFDLHVCQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxFQUFDLEdBQUcsQ0FBQyxHQUFDLEVBQUUsQ0FBQTtZQUN4QyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUN2QixJQUFJLFNBQVMsR0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUN6QyxJQUFJLEtBQUssR0FBQyxJQUFJLENBQUM7WUFDZixPQUFLLFlBQVksQ0FBQztnQkFDZCxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUMsS0FBSyxFQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUMsS0FBSyxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7WUFDekcsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ0wsT0FBSyxZQUFZLENBQUM7Z0JBQ2QsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7cUJBQ2QsRUFBRSxDQUFDLEdBQUcsRUFBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsQ0FBQztxQkFDakIsS0FBSyxFQUFFLENBQUM7WUFDYixDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUM7OztRQWRYLEtBQWlCLFVBQWtCLEVBQWxCLEtBQUEsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQWxCLGNBQWtCLEVBQWxCLElBQWtCO1lBQS9CLElBQUksS0FBSyxTQUFBO29CQUFMLEtBQUs7U0FlWjtRQUNELElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxtQkFBUyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsS0FBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9DLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztJQUNULENBQUM7SUFDRCxvQkFBSyxHQUFMO0lBQ0EsQ0FBQztJQUNELG9CQUFLLEdBQUw7SUFDQSxDQUFDO0lBNUJnQixJQUFJO1FBRHhCLE9BQU87T0FDYSxJQUFJLENBNkJ4QjtJQUFELFdBQUM7Q0E3QkQsQUE2QkMsQ0E3QmlDLEVBQUUsQ0FBQyxTQUFTLEdBNkI3QztrQkE3Qm9CLElBQUkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5pbXBvcnQgc2tpbGxQb29sIGZyb20gXCIuL3NraWxsUG9vbFwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHJvY2sgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG5cblxuICAgIHR3ZWVuKCl7XG4gICAgICAgIGZvcihsZXQgY2hpbGQgb2YgdGhpcy5ub2RlLmNoaWxkcmVuKXtcbiAgICAgICAgICAgIGNoaWxkLnNjYWxlPTAuMytjYWlqaVRvb2xzLnJhbmRvbV9pbnQoLTEwLDEwKS8xMDA7XG4gICAgICAgICAgICBsZXQgeD1jYWlqaVRvb2xzLnJhbmRvbV9pbnQoLTUwMCw1MDApLzEwO1xuICAgICAgICAgICAgbGV0IHk9Y2FpamlUb29scy5yYW5kb21faW50KC01MDAsNTAwKS8xMFxuICAgICAgICAgICAgY2hpbGQuc2V0UG9zaXRpb24oeCx5KTtcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb249Y2MudjIoeCx5KS5ub3JtYWxpemVTZWxmKCk7XG4gICAgICAgICAgICBsZXQgZm9yY2U9MTIwMDtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICAgICAgY2hpbGQuZ2V0Q29tcG9uZW50KGNjLlJpZ2lkQm9keSkuYXBwbHlGb3JjZVRvQ2VudGVyKGNjLnYyKGRpcmVjdGlvbi54KmZvcmNlLGRpcmVjdGlvbi55KmZvcmNlKSx0cnVlKTtcbiAgICAgICAgICAgIH0sMCk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgICAgIGNjLnR3ZWVuKGNoaWxkKVxuICAgICAgICAgICAgICAgIC50bygwLjMse3NjYWxlOjB9KVxuICAgICAgICAgICAgICAgIC5zdGFydCgpO1xuICAgICAgICAgICAgfSwwLjUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICBza2lsbFBvb2wuaW5zdGFuY2UucmVjb3ZlcnlSb2NrKHRoaXMubm9kZSk7XG4gICAgICAgIH0sMik7XG4gICAgfVxuICAgIHJldXNlKCl7XG4gICAgfVxuICAgIHVudXNlKCl7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/arrow.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ed69cR0Xx9JtLNKx4qGNDOH', 'arrow');
// scripts/game/arrow.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var playerController_1 = require("./playerController");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var arrow = /** @class */ (function (_super) {
    __extends(arrow, _super);
    function arrow() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.force = 1800;
        _this.speedX = 0;
        _this.speedY = { num: 0 };
        _this.damage = 0;
        _this.a = 0;
        _this.enemy = null;
        _this.isHit = false;
        _this.isTweenEnd = false;
        _this.rigibody = null;
        _this.time = 0;
        _this.playerPosition = null;
        return _this;
    }
    arrow.prototype.onLoad = function () {
        this.rigibody = this.node.getComponent(cc.RigidBody);
    };
    arrow.prototype.start = function () {
        var _this = this;
        var direct = caijiTools_1.caijiTools.getDirection(this.node.angle + 90).normalizeSelf();
        this.speedX = direct.x * this.force;
        this.speedY.num = direct.y * this.force;
        this.time = Math.abs(this.playerPosition.x - this.node.x) / Math.abs(this.speedX);
        this.time = this.time < 0.15 ? this.time - 0.06 : this.time - 0.09;
        this.a = this.speedY.num * 2 / this.time; //v1=v0-at
        cc.tween(this.speedY)
            .to(this.time, { num: -this.speedY.num })
            .call(function () {
            _this.isTweenEnd = true;
        })
            .start();
    };
    arrow.prototype.update = function (dt) {
        if (this.isHit)
            return;
        if (this.isTweenEnd) {
            this.speedY.num -= this.a * dt * 0.9;
        }
        this.rigibody.linearVelocity = cc.v2(this.speedX, this.speedY.num);
        var linearVelocity = this.rigibody.linearVelocity;
        var angle = caijiTools_1.caijiTools.getAngleDependY(linearVelocity.x, linearVelocity.y);
        this.node.angle = -angle - 90;
    };
    arrow.prototype.onCollisionEnter = function (other, self) {
        if (other.node.group == "player") {
            if (this.isHit)
                return;
            this.isHit = true;
            other.node.getComponent(playerController_1.default).beHit(this.enemy, this.damage);
        }
    };
    arrow.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var _this = this;
        var other = otherCollider.node;
        if (other.group == "ground") {
            this.isHit = true;
            this.Destroy();
            this.rigibody.linearVelocity = cc.v2(this.rigibody.linearVelocity.x * 0.3, this.rigibody.linearVelocity.y * 0.3);
            this.scheduleOnce(function () {
                _this.rigibody.linearVelocity = cc.v2(0, 0);
                _this.rigibody.type = cc.RigidBodyType.Static;
            }, 0);
        }
    };
    arrow.prototype.Destroy = function () {
        var _this = this;
        this.scheduleOnce(function () {
            cc.tween(_this.node)
                .to(0.3, { opacity: 0 })
                .call(function () {
                _this.node.destroy();
            })
                .start();
        }, 1);
    };
    arrow = __decorate([
        ccclass
    ], arrow);
    return arrow;
}(cc.Component));
exports.default = arrow;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcYXJyb3cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsNENBQTJDO0FBQzNDLHVEQUFrRDtBQUU1QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFtQyx5QkFBWTtJQUEvQztRQUFBLHFFQXVFQztRQXJFRyxXQUFLLEdBQVEsSUFBSSxDQUFDO1FBQ2xCLFlBQU0sR0FBUSxDQUFDLENBQUM7UUFDaEIsWUFBTSxHQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDO1FBQ2YsWUFBTSxHQUFRLENBQUMsQ0FBQztRQUNoQixPQUFDLEdBQVEsQ0FBQyxDQUFDO1FBQ1gsV0FBSyxHQUFTLElBQUksQ0FBQztRQUNuQixXQUFLLEdBQVMsS0FBSyxDQUFDO1FBQ3BCLGdCQUFVLEdBQVMsS0FBSyxDQUFDO1FBQ3pCLGNBQVEsR0FBYyxJQUFJLENBQUM7UUFDM0IsVUFBSSxHQUFRLENBQUMsQ0FBQztRQUNkLG9CQUFjLEdBQVMsSUFBSSxDQUFDOztJQTJEaEMsQ0FBQztJQXpERyxzQkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUNELHFCQUFLLEdBQUw7UUFBQSxpQkFjQztRQWJHLElBQUksTUFBTSxHQUFDLHVCQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFDLEVBQUUsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxNQUFNLEdBQUMsTUFBTSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNwQyxJQUFJLENBQUMsSUFBSSxHQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM1RSxJQUFJLENBQUMsSUFBSSxHQUFDLElBQUksQ0FBQyxJQUFJLEdBQUMsSUFBSSxDQUFBLENBQUMsQ0FBQSxJQUFJLENBQUMsSUFBSSxHQUFDLElBQUksQ0FBQSxDQUFDLENBQUEsSUFBSSxDQUFDLElBQUksR0FBQyxJQUFJLENBQUM7UUFDdkQsSUFBSSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBLFVBQVU7UUFDN0MsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO2FBQ3BCLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUMsQ0FBQzthQUNwQyxJQUFJLENBQUM7WUFDRixLQUFJLENBQUMsVUFBVSxHQUFDLElBQUksQ0FBQztRQUN6QixDQUFDLENBQUM7YUFDRCxLQUFLLEVBQUUsQ0FBQztJQUViLENBQUM7SUFDRCxzQkFBTSxHQUFOLFVBQU8sRUFBRTtRQUNMLElBQUcsSUFBSSxDQUFDLEtBQUs7WUFBRSxPQUFPO1FBQ3RCLElBQUcsSUFBSSxDQUFDLFVBQVUsRUFBQztZQUNmLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFFLElBQUksQ0FBQyxDQUFDLEdBQUMsRUFBRSxHQUFDLEdBQUcsQ0FBQztTQUNsQztRQUNELElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxHQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2hFLElBQUksY0FBYyxHQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDO1FBQ2hELElBQUksS0FBSyxHQUFDLHVCQUFVLENBQUMsZUFBZSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFDLENBQUMsS0FBSyxHQUFDLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBQ0QsZ0NBQWdCLEdBQWhCLFVBQWlCLEtBQWlCLEVBQUMsSUFBZ0I7UUFDL0MsSUFBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBRSxRQUFRLEVBQUM7WUFDMUIsSUFBRyxJQUFJLENBQUMsS0FBSztnQkFBRSxPQUFPO1lBQ3RCLElBQUksQ0FBQyxLQUFLLEdBQUMsSUFBSSxDQUFDO1lBQ2hCLEtBQUssQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQzNFO0lBQ0wsQ0FBQztJQUNELDhCQUFjLEdBQWQsVUFBZSxPQUEwQixFQUFFLFlBQWdDLEVBQUUsYUFBaUM7UUFBOUcsaUJBV0M7UUFWRyxJQUFJLEtBQUssR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDO1FBQy9CLElBQUksS0FBSyxDQUFDLEtBQUssSUFBSSxRQUFRLEVBQUU7WUFDekIsSUFBSSxDQUFDLEtBQUssR0FBQyxJQUFJLENBQUM7WUFDaEIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2YsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEdBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEdBQUMsR0FBRyxFQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLENBQUMsR0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxRyxJQUFJLENBQUMsWUFBWSxDQUFDO2dCQUNkLEtBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxHQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN4QyxLQUFJLENBQUMsUUFBUSxDQUFDLElBQUksR0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQztZQUMvQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDUjtJQUNMLENBQUM7SUFDRCx1QkFBTyxHQUFQO1FBQUEsaUJBU0M7UUFSRyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDO2lCQUNsQixFQUFFLENBQUMsR0FBRyxFQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxDQUFDO2lCQUNuQixJQUFJLENBQUM7Z0JBQ0YsS0FBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUN4QixDQUFDLENBQUM7aUJBQ0QsS0FBSyxFQUFFLENBQUM7UUFDYixDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFDVCxDQUFDO0lBdEVnQixLQUFLO1FBRHpCLE9BQU87T0FDYSxLQUFLLENBdUV6QjtJQUFELFlBQUM7Q0F2RUQsQUF1RUMsQ0F2RWtDLEVBQUUsQ0FBQyxTQUFTLEdBdUU5QztrQkF2RW9CLEtBQUsiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5pbXBvcnQgcGxheWVyQ29udHJvbGxlciBmcm9tIFwiLi9wbGF5ZXJDb250cm9sbGVyXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgYXJyb3cgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgZm9yY2U6bnVtYmVyPTE4MDA7XG4gICAgc3BlZWRYOm51bWJlcj0wO1xuICAgIHNwZWVkWT17bnVtOjB9O1xuICAgIGRhbWFnZTpudW1iZXI9MDtcbiAgICBhOm51bWJlcj0wO1xuICAgIGVuZW15OmNjLk5vZGU9bnVsbDtcbiAgICBpc0hpdDpib29sZWFuPWZhbHNlO1xuICAgIGlzVHdlZW5FbmQ6Ym9vbGVhbj1mYWxzZTtcbiAgICByaWdpYm9keTpjYy5SaWdpZEJvZHk9bnVsbDtcbiAgICB0aW1lOm51bWJlcj0wO1xuICAgIHBsYXllclBvc2l0aW9uOmNjLlZlYzI9bnVsbDtcblxuICAgIG9uTG9hZCgpe1xuICAgICAgICB0aGlzLnJpZ2lib2R5PXRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuUmlnaWRCb2R5KTtcbiAgICB9XG4gICAgc3RhcnQoKXtcbiAgICAgICAgbGV0IGRpcmVjdD1jYWlqaVRvb2xzLmdldERpcmVjdGlvbih0aGlzLm5vZGUuYW5nbGUrOTApLm5vcm1hbGl6ZVNlbGYoKTtcbiAgICAgICAgdGhpcy5zcGVlZFg9ZGlyZWN0LngqdGhpcy5mb3JjZTtcbiAgICAgICAgdGhpcy5zcGVlZFkubnVtPWRpcmVjdC55KnRoaXMuZm9yY2U7XG4gICAgICAgIHRoaXMudGltZT1NYXRoLmFicyh0aGlzLnBsYXllclBvc2l0aW9uLngtdGhpcy5ub2RlLngpL01hdGguYWJzKHRoaXMuc3BlZWRYKTtcbiAgICAgICAgdGhpcy50aW1lPXRoaXMudGltZTwwLjE1P3RoaXMudGltZS0wLjA2OnRoaXMudGltZS0wLjA5O1xuICAgICAgICB0aGlzLmE9dGhpcy5zcGVlZFkubnVtKjIvdGhpcy50aW1lOy8vdjE9djAtYXRcbiAgICAgICAgY2MudHdlZW4odGhpcy5zcGVlZFkpXG4gICAgICAgIC50byh0aGlzLnRpbWUse251bTotdGhpcy5zcGVlZFkubnVtfSlcbiAgICAgICAgLmNhbGwoKCk9PntcbiAgICAgICAgICAgIHRoaXMuaXNUd2VlbkVuZD10cnVlO1xuICAgICAgICB9KVxuICAgICAgICAuc3RhcnQoKTtcblxuICAgIH1cbiAgICB1cGRhdGUoZHQpe1xuICAgICAgICBpZih0aGlzLmlzSGl0KSByZXR1cm47XG4gICAgICAgIGlmKHRoaXMuaXNUd2VlbkVuZCl7XG4gICAgICAgICAgICB0aGlzLnNwZWVkWS5udW0tPXRoaXMuYSpkdCowLjk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52Mih0aGlzLnNwZWVkWCx0aGlzLnNwZWVkWS5udW0pO1xuICAgICAgICBsZXQgbGluZWFyVmVsb2NpdHk9dGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eTtcbiAgICAgICAgbGV0IGFuZ2xlPWNhaWppVG9vbHMuZ2V0QW5nbGVEZXBlbmRZKGxpbmVhclZlbG9jaXR5LngsbGluZWFyVmVsb2NpdHkueSk7XG4gICAgICAgIHRoaXMubm9kZS5hbmdsZT0tYW5nbGUtOTA7XG4gICAgfVxuICAgIG9uQ29sbGlzaW9uRW50ZXIob3RoZXI6Y2MuQ29sbGlkZXIsc2VsZjpjYy5Db2xsaWRlcil7XG4gICAgICAgIGlmKG90aGVyLm5vZGUuZ3JvdXA9PVwicGxheWVyXCIpe1xuICAgICAgICAgICAgaWYodGhpcy5pc0hpdCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pc0hpdD10cnVlO1xuICAgICAgICAgICAgb3RoZXIubm9kZS5nZXRDb21wb25lbnQocGxheWVyQ29udHJvbGxlcikuYmVIaXQodGhpcy5lbmVteSx0aGlzLmRhbWFnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25CZWdpbkNvbnRhY3QoY29udGFjdDogY2MuUGh5c2ljc0NvbnRhY3QsIHNlbGZDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyLCBvdGhlckNvbGxpZGVyOiBjYy5QaHlzaWNzQ29sbGlkZXIpIHtcbiAgICAgICAgbGV0IG90aGVyID0gb3RoZXJDb2xsaWRlci5ub2RlO1xuICAgICAgICBpZiAob3RoZXIuZ3JvdXAgPT0gXCJncm91bmRcIikge1xuICAgICAgICAgICAgdGhpcy5pc0hpdD10cnVlO1xuICAgICAgICAgICAgdGhpcy5EZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5PWNjLnYyKHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkueCowLjMsdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eS55KjAuMyk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHk9Y2MudjIoMCwwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2lib2R5LnR5cGU9Y2MuUmlnaWRCb2R5VHlwZS5TdGF0aWM7XG4gICAgICAgICAgICB9LDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIERlc3Ryb3koKXtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIGNjLnR3ZWVuKHRoaXMubm9kZSlcbiAgICAgICAgICAgIC50bygwLjMse29wYWNpdHk6MH0pXG4gICAgICAgICAgICAuY2FsbCgoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgICAgIH0sMSk7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/shuriken.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '78986FsJpZB9JQMZsy5ONiF', 'shuriken');
// scripts/game/shuriken.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var animationState_1 = require("./animationState");
var GameManager_1 = require("./GameManager");
var playerHp_1 = require("./ui/playerHp");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var shuriken = /** @class */ (function (_super) {
    __extends(shuriken, _super);
    function shuriken() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.damage = 0;
        _this.speed = 2300;
        _this.rigibody = null;
        _this.enemysHadHit = [];
        return _this;
    }
    shuriken.prototype.onLoad = function () {
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.damage = playerHp_1.default.instance.damageShuriken;
    };
    shuriken.prototype.start = function () {
        var _this = this;
        var speed = GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0 ? this.speed : -this.speed;
        this.rigibody.linearVelocity = cc.v2(speed, 0);
        this.scheduleOnce(function () {
            _this.node.destroy();
        }, 3);
    };
    shuriken.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        if (other.group == "enemy") {
            //击中敌人
            if (this.enemysHadHit.includes(other))
                return;
            //@ts-ignore
            other.getComponent(animationState_1.enemyScript[other.name]).beHit(this.damage, animationState_1.attackType.shuriken);
            this.enemysHadHit.push(other);
            //@ts-ignore
            other.getComponent(animationState_1.enemyScript[other.name]).playBeHitSound(audioNameMgr_1.audioName.airslash1);
        }
    };
    shuriken = __decorate([
        ccclass
    ], shuriken);
    return shuriken;
}(cc.Component));
exports.default = shuriken;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcc2h1cmlrZW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsZ0RBQTRDO0FBRTVDLG1EQUEyRDtBQUMzRCw2Q0FBd0M7QUFDeEMsMENBQXFDO0FBRS9CLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQXNDLDRCQUFZO0lBQWxEO1FBQUEscUVBOEJDO1FBNUJHLFlBQU0sR0FBUSxDQUFDLENBQUM7UUFDaEIsV0FBSyxHQUFXLElBQUksQ0FBQztRQUNyQixjQUFRLEdBQWlCLElBQUksQ0FBQztRQUM5QixrQkFBWSxHQUFtQixFQUFFLENBQUM7O0lBeUJ0QyxDQUFDO0lBdkJHLHlCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsTUFBTSxHQUFDLGtCQUFRLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQztJQUNqRCxDQUFDO0lBQ0Qsd0JBQUssR0FBTDtRQUFBLGlCQU1DO1FBTEcsSUFBSSxLQUFLLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDdEcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNkLEtBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDeEIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ1YsQ0FBQztJQUNELGlDQUFjLEdBQWQsVUFBZSxPQUEwQixFQUFFLFlBQWdDLEVBQUUsYUFBaUM7UUFDMUcsSUFBSSxLQUFLLEdBQUcsYUFBYSxDQUFDLElBQUksQ0FBQztRQUMvQixJQUFJLEtBQUssQ0FBQyxLQUFLLElBQUksT0FBTyxFQUFFO1lBQ3hCLE1BQU07WUFDTixJQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztnQkFBRSxPQUFPO1lBQzdDLFlBQVk7WUFDWixLQUFLLENBQUMsWUFBWSxDQUFDLDRCQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsMkJBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5QixZQUFZO1lBQ1osS0FBSyxDQUFDLFlBQVksQ0FBQyw0QkFBVyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyx3QkFBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ25GO0lBQ0wsQ0FBQztJQTdCZ0IsUUFBUTtRQUQ1QixPQUFPO09BQ2EsUUFBUSxDQThCNUI7SUFBRCxlQUFDO0NBOUJELEFBOEJDLENBOUJxQyxFQUFFLENBQUMsU0FBUyxHQThCakQ7a0JBOUJvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCB7IGF1ZGlvTmFtZSB9IGZyb20gXCIuLi9hdWRpb05hbWVNZ3JcIjtcbmltcG9ydCBhdWRpb01hbmFnZXIgZnJvbSBcIi4uL21haW4vYXVkaW9NYW5hZ2VyXCI7XG5pbXBvcnQgeyBhdHRhY2tUeXBlLCBlbmVteVNjcmlwdCB9IGZyb20gXCIuL2FuaW1hdGlvblN0YXRlXCI7XG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4vR2FtZU1hbmFnZXJcIjtcbmltcG9ydCBwbGF5ZXJIcCBmcm9tIFwiLi91aS9wbGF5ZXJIcFwiO1xuXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc2h1cmlrZW4gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgZGFtYWdlOm51bWJlcj0wO1xuICAgIHNwZWVkOiBudW1iZXIgPSAyMzAwO1xuICAgIHJpZ2lib2R5OiBjYy5SaWdpZEJvZHkgPSBudWxsO1xuICAgIGVuZW15c0hhZEhpdDogQXJyYXk8Y2MuTm9kZT4gPSBbXTtcblxuICAgIG9uTG9hZCgpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keSA9IHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuUmlnaWRCb2R5KTtcbiAgICAgICAgdGhpcy5kYW1hZ2U9cGxheWVySHAuaW5zdGFuY2UuZGFtYWdlU2h1cmlrZW47XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBsZXQgc3BlZWQgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IHRoaXMuc3BlZWQgOiAtdGhpcy5zcGVlZDtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eSA9IGNjLnYyKHNwZWVkLCAwKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcbiAgICAgICAgfSwgMyk7XG4gICAgfVxuICAgIG9uQmVnaW5Db250YWN0KGNvbnRhY3Q6IGNjLlBoeXNpY3NDb250YWN0LCBzZWxmQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlciwgb3RoZXJDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGxldCBvdGhlciA9IG90aGVyQ29sbGlkZXIubm9kZTtcbiAgICAgICAgaWYgKG90aGVyLmdyb3VwID09IFwiZW5lbXlcIikge1xuICAgICAgICAgICAgLy/lh7vkuK3mlYzkurpcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlzSGFkSGl0LmluY2x1ZGVzKG90aGVyKSkgcmV0dXJuO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBvdGhlci5nZXRDb21wb25lbnQoZW5lbXlTY3JpcHRbb3RoZXIubmFtZV0pLmJlSGl0KHRoaXMuZGFtYWdlLCBhdHRhY2tUeXBlLnNodXJpa2VuKTtcbiAgICAgICAgICAgIHRoaXMuZW5lbXlzSGFkSGl0LnB1c2gob3RoZXIpO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBvdGhlci5nZXRDb21wb25lbnQoZW5lbXlTY3JpcHRbb3RoZXIubmFtZV0pLnBsYXlCZUhpdFNvdW5kKGF1ZGlvTmFtZS5haXJzbGFzaDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/swordItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '01e05IoNoRJAa0EdrjqKjl7', 'swordItem');
// scripts/game/swordItem.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var rock_1 = require("./rock");
var skillPool_1 = require("./skillPool");
var swordSmoke_1 = require("./swordSmoke");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var swordItem = /** @class */ (function (_super) {
    __extends(swordItem, _super);
    function swordItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isRight = false;
        _this.isDestory = false;
        _this.rightAngle = 138;
        _this.leftAngle = 42;
        _this.offsetX = 74;
        _this.offsetY = -67;
        _this.movex1 = 0;
        _this.movey1 = 0;
        _this.movex2 = 0;
        _this.movey2 = 0;
        _this.damage = 0;
        _this.enemysHadHit = [];
        return _this;
    }
    swordItem.prototype.onLoad = function () {
        this.movex1 = this.offsetX * 0.3;
        this.movey1 = this.offsetY * 0.3;
        this.movex2 = this.offsetX * 5;
        this.movey2 = this.offsetY * 5;
    };
    swordItem.prototype.onEnable = function () {
    };
    swordItem.prototype.init = function () {
        this.movex1 = this.isRight ? Math.abs(this.movex1) : -Math.abs(this.movex1);
        this.movex2 = this.isRight ? Math.abs(this.movex2) : -Math.abs(this.movex2);
    };
    swordItem.prototype.tween = function () {
        var _this = this;
        //cc.v2(74,67);
        this.init();
        var scaleXOffset = caijiTools_1.caijiTools.random_int(50, 60) / 10;
        this.node.angle = this.isRight ? this.rightAngle : this.leftAngle;
        cc.tween(this.node)
            .by(0.04, { scale: 1 })
            .by(0.12, { position: cc.v3(this.movex1, this.movey1) })
            .parallel(cc.tween().by(0.1, { scaleX: scaleXOffset }, { easing: "sineIn" }), cc.tween().by(0.1, { scaleY: -0.5, position: cc.v3(this.movex2, this.movey2) }))
            .start();
        this.scheduleOnce(function () {
            skillPool_1.default.instance.recoverySword1(_this.node);
        }, 0.25);
    };
    /*     onBeginContact (contact:cc.PhysicsContact,selfCollider:cc.PhysicsCollider,otherCollider:cc.PhysicsCollider) {
            let other=otherCollider.node;
            let pos=contact.getWorldManifold();
            contact.disabled=true;
            if (other.group == "ground") {
                //落地
                if(this.isDestory) return;
                this.isDestory=true;
                this.createSmoke(pos.points[0],other);
            }else if(other.group=="enemy"){
                //击中敌人
                if(this.enemysHadHit.includes(other)) return;
                //@ts-ignore
                other.getComponent(enemyScript[other.name]).beHit(this.damage, attackType.swordRain);
                this.enemysHadHit.push(other);
            }
        } */
    swordItem.prototype.createSmoke = function (collidePos, ground) {
        var smoke = skillPool_1.default.instance.getSwordSmoke();
        var nodePos = this.node.parent.parent.convertToNodeSpaceAR(collidePos);
        nodePos.x = nodePos.x + caijiTools_1.caijiTools.random_int(-300, 100) / 10;
        nodePos.y = nodePos.y + caijiTools_1.caijiTools.random_int(100, 500) / 10;
        smoke.setParent(this.node.parent.parent);
        smoke.setSiblingIndex(ground.getSiblingIndex() - 1);
        smoke.setPosition(nodePos);
        smoke.getComponent(swordSmoke_1.default).tween();
        smoke.active = true;
        this.createRock(nodePos);
        skillPool_1.default.instance.recoverySword1(this.node);
    };
    swordItem.prototype.createRock = function (pos) {
        var rockNode = skillPool_1.default.instance.getRock();
        rockNode.setParent(this.node.parent.parent);
        rockNode.setPosition(pos);
        rockNode.getComponent(rock_1.default).tween();
        rockNode.setSiblingIndex(rockNode.getSiblingIndex() - 1);
        rockNode.active = true;
    };
    swordItem.prototype.reuse = function () {
        cc.Tween.stopAllByTarget(this.node);
        this.isDestory = false;
    };
    swordItem.prototype.unuse = function () {
        this.node.scale = 0;
        this.enemysHadHit = [];
    };
    swordItem = __decorate([
        ccclass
    ], swordItem);
    return swordItem;
}(cc.Component));
exports.default = swordItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcc3dvcmRJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR2xGLDRDQUEyQztBQUkzQywrQkFBMEI7QUFDMUIseUNBQW9DO0FBQ3BDLDJDQUFzQztBQUdoQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQTBGQztRQXhGRyxhQUFPLEdBQVMsS0FBSyxDQUFDO1FBQ3RCLGVBQVMsR0FBUyxLQUFLLENBQUM7UUFDeEIsZ0JBQVUsR0FBUSxHQUFHLENBQUM7UUFDdEIsZUFBUyxHQUFRLEVBQUUsQ0FBQztRQUNwQixhQUFPLEdBQVEsRUFBRSxDQUFDO1FBQ2xCLGFBQU8sR0FBUSxDQUFDLEVBQUUsQ0FBQztRQUNuQixZQUFNLEdBQVEsQ0FBQyxDQUFDO1FBQ2hCLFlBQU0sR0FBUSxDQUFDLENBQUM7UUFDaEIsWUFBTSxHQUFRLENBQUMsQ0FBQztRQUNoQixZQUFNLEdBQVEsQ0FBQyxDQUFDO1FBQ2hCLFlBQU0sR0FBUSxDQUFDLENBQUM7UUFDaEIsa0JBQVksR0FBbUIsRUFBRSxDQUFDOztJQTZFdEMsQ0FBQztJQTVFRywwQkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBQyxJQUFJLENBQUMsT0FBTyxHQUFDLEdBQUcsQ0FBQztRQUM3QixJQUFJLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQyxPQUFPLEdBQUMsR0FBRyxDQUFDO1FBQzdCLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDLE9BQU8sR0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBQyxJ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QUUsQ0FBQztJQUN6QixDQUFDO0lBekZnQixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBMEY3QjtJQUFELGdCQUFDO0NBMUZELEFBMEZDLENBMUZzQyxFQUFFLENBQUMsU0FBUyxHQTBGbEQ7a0JBMUZvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCB7IGF1ZGlvTmFtZSB9IGZyb20gXCIuLi9hdWRpb05hbWVNZ3JcIjtcbmltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vY2FpamlUb29sc1wiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi4vbWFpbi9hdWRpb01hbmFnZXJcIjtcbmltcG9ydCB7IGF0dGFja1R5cGUsIGVuZW15U2NyaXB0IH0gZnJvbSBcIi4vYW5pbWF0aW9uU3RhdGVcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xuaW1wb3J0IHJvY2sgZnJvbSBcIi4vcm9ja1wiO1xuaW1wb3J0IHNraWxsUG9vbCBmcm9tIFwiLi9za2lsbFBvb2xcIjtcbmltcG9ydCBzd29yZFNtb2tlIGZyb20gXCIuL3N3b3JkU21va2VcIjtcbmltcG9ydCBwbGF5ZXJIcCBmcm9tIFwiLi91aS9wbGF5ZXJIcFwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHN3b3JkSXRlbSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBpc1JpZ2h0OmJvb2xlYW49ZmFsc2U7XG4gICAgaXNEZXN0b3J5OmJvb2xlYW49ZmFsc2U7XG4gICAgcmlnaHRBbmdsZTpudW1iZXI9MTM4O1xuICAgIGxlZnRBbmdsZTpudW1iZXI9NDI7XG4gICAgb2Zmc2V0WDpudW1iZXI9NzQ7XG4gICAgb2Zmc2V0WTpudW1iZXI9LTY3O1xuICAgIG1vdmV4MTpudW1iZXI9MDtcbiAgICBtb3ZleTE6bnVtYmVyPTA7XG4gICAgbW92ZXgyOm51bWJlcj0wO1xuICAgIG1vdmV5MjpudW1iZXI9MDtcbiAgICBkYW1hZ2U6bnVtYmVyPTA7XG4gICAgZW5lbXlzSGFkSGl0OiBBcnJheTxjYy5Ob2RlPiA9IFtdO1xuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIHRoaXMubW92ZXgxPXRoaXMub2Zmc2V0WCowLjM7XG4gICAgICAgIHRoaXMubW92ZXkxPXRoaXMub2Zmc2V0WSowLjM7XG4gICAgICAgIHRoaXMubW92ZXgyPXRoaXMub2Zmc2V0WCo1O1xuICAgICAgICB0aGlzLm1vdmV5Mj10aGlzLm9mZnNldFkqNTtcbiAgICB9XG4gICAgb25FbmFibGUoKXtcblxuICAgIH1cbiAgICBpbml0KCl7XG4gICAgICAgIHRoaXMubW92ZXgxPXRoaXMuaXNSaWdodD9NYXRoLmFicyh0aGlzLm1vdmV4MSk6LU1hdGguYWJzKHRoaXMubW92ZXgxKTtcbiAgICAgICAgdGhpcy5tb3ZleDI9dGhpcy5pc1JpZ2h0P01hdGguYWJzKHRoaXMubW92ZXgyKTotTWF0aC5hYnModGhpcy5tb3ZleDIpO1xuICAgIH1cbiAgICB0d2VlbiAoKSB7XG4gICAgICAgIC8vY2MudjIoNzQsNjcpO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgbGV0IHNjYWxlWE9mZnNldDpudW1iZXI9Y2FpamlUb29scy5yYW5kb21faW50KDUwLDYwKS8xMDtcbiAgICAgICAgdGhpcy5ub2RlLmFuZ2xlPXRoaXMuaXNSaWdodD90aGlzLnJpZ2h0QW5nbGU6dGhpcy5sZWZ0QW5nbGU7XG4gICAgICAgIGNjLnR3ZWVuKHRoaXMubm9kZSlcbiAgICAgICAgLmJ5KDAuMDQse3NjYWxlOjF9KVxuICAgICAgICAuYnkoMC4xMix7cG9zaXRpb246Y2MudjModGhpcy5tb3ZleDEsdGhpcy5tb3ZleTEpfSlcbiAgICAgICAgLnBhcmFsbGVsKFxuICAgICAgICAgICAgY2MudHdlZW4oKS5ieSgwLjEse3NjYWxlWDpzY2FsZVhPZmZzZXR9LHtlYXNpbmc6XCJzaW5lSW5cIn0pLFxuICAgICAgICAgICAgY2MudHdlZW4oKS5ieSgwLjEse3NjYWxlWTotMC41LHBvc2l0aW9uOmNjLnYzKHRoaXMubW92ZXgyLHRoaXMubW92ZXkyKX0pXG4gICAgICAgIClcbiAgICAgICAgLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICBza2lsbFBvb2wuaW5zdGFuY2UucmVjb3ZlcnlTd29yZDEodGhpcy5ub2RlKTtcbiAgICAgICAgfSwwLjI1KTtcbiAgICB9XG4vKiAgICAgb25CZWdpbkNvbnRhY3QgKGNvbnRhY3Q6Y2MuUGh5c2ljc0NvbnRhY3Qsc2VsZkNvbGxpZGVyOmNjLlBoeXNpY3NDb2xsaWRlcixvdGhlckNvbGxpZGVyOmNjLlBoeXNpY3NDb2xsaWRlcikge1xuICAgICAgICBsZXQgb3RoZXI9b3RoZXJDb2xsaWRlci5ub2RlO1xuICAgICAgICBsZXQgcG9zPWNvbnRhY3QuZ2V0V29ybGRNYW5pZm9sZCgpO1xuICAgICAgICBjb250YWN0LmRpc2FibGVkPXRydWU7XG4gICAgICAgIGlmIChvdGhlci5ncm91cCA9PSBcImdyb3VuZFwiKSB7XG4gICAgICAgICAgICAvL+iQveWcsFxuICAgICAgICAgICAgaWYodGhpcy5pc0Rlc3RvcnkpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaXNEZXN0b3J5PXRydWU7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNtb2tlKHBvcy5wb2ludHNbMF0sb3RoZXIpO1xuICAgICAgICB9ZWxzZSBpZihvdGhlci5ncm91cD09XCJlbmVteVwiKXtcbiAgICAgICAgICAgIC8v5Ye75Lit5pWM5Lq6XG4gICAgICAgICAgICBpZih0aGlzLmVuZW15c0hhZEhpdC5pbmNsdWRlcyhvdGhlcikpIHJldHVybjtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgb3RoZXIuZ2V0Q29tcG9uZW50KGVuZW15U2NyaXB0W290aGVyLm5hbWVdKS5iZUhpdCh0aGlzLmRhbWFnZSwgYXR0YWNrVHlwZS5zd29yZFJhaW4pO1xuICAgICAgICAgICAgdGhpcy5lbmVteXNIYWRIaXQucHVzaChvdGhlcik7XG4gICAgICAgIH1cbiAgICB9ICovXG4gICAgY3JlYXRlU21va2UoY29sbGlkZVBvczpjYy5WZWMyLGdyb3VuZDpjYy5Ob2RlKXtcbiAgICAgICAgbGV0IHNtb2tlPXNraWxsUG9vbC5pbnN0YW5jZS5nZXRTd29yZFNtb2tlKCk7XG4gICAgICAgIGxldCBub2RlUG9zPXRoaXMubm9kZS5wYXJlbnQucGFyZW50LmNvbnZlcnRUb05vZGVTcGFjZUFSKGNvbGxpZGVQb3MpO1xuICAgICAgICBub2RlUG9zLng9bm9kZVBvcy54K2NhaWppVG9vbHMucmFuZG9tX2ludCgtMzAwLDEwMCkvMTA7XG4gICAgICAgIG5vZGVQb3MueT1ub2RlUG9zLnkrY2FpamlUb29scy5yYW5kb21faW50KDEwMCw1MDApLzEwO1xuICAgICAgICBzbW9rZS5zZXRQYXJlbnQodGhpcy5ub2RlLnBhcmVudC5wYXJlbnQpO1xuICAgICAgICBzbW9rZS5zZXRTaWJsaW5nSW5kZXgoZ3JvdW5kLmdldFNpYmxpbmdJbmRleCgpLTEpO1xuICAgICAgICBzbW9rZS5zZXRQb3NpdGlvbihub2RlUG9zKTtcbiAgICAgICAgc21va2UuZ2V0Q29tcG9uZW50KHN3b3JkU21va2UpLnR3ZWVuKCk7XG4gICAgICAgIHNtb2tlLmFjdGl2ZT10cnVlO1xuICAgICAgICB0aGlzLmNyZWF0ZVJvY2sobm9kZVBvcyk7XG4gICAgICAgIHNraWxsUG9vbC5pbnN0YW5jZS5yZWNvdmVyeVN3b3JkMSh0aGlzLm5vZGUpO1xuICAgIH1cbiAgICBjcmVhdGVSb2NrKHBvczpjYy5WZWMyKXtcbiAgICAgICAgbGV0IHJvY2tOb2RlPXNraWxsUG9vbC5pbnN0YW5jZS5nZXRSb2NrKCk7XG4gICAgICAgIHJvY2tOb2RlLnNldFBhcmVudCh0aGlzLm5vZGUucGFyZW50LnBhcmVudCk7XG4gICAgICAgIHJvY2tOb2RlLnNldFBvc2l0aW9uKHBvcyk7XG4gICAgICAgIHJvY2tOb2RlLmdldENvbXBvbmVudChyb2NrKS50d2VlbigpO1xuICAgICAgICByb2NrTm9kZS5zZXRTaWJsaW5nSW5kZXgocm9ja05vZGUuZ2V0U2libGluZ0luZGV4KCktMSk7XG4gICAgICAgIHJvY2tOb2RlLmFjdGl2ZT10cnVlO1xuICAgIH1cbiAgICByZXVzZSgpe1xuICAgICAgICBjYy5Ud2Vlbi5zdG9wQWxsQnlUYXJnZXQodGhpcy5ub2RlKTtcbiAgICAgICAgdGhpcy5pc0Rlc3Rvcnk9ZmFsc2U7XG4gICAgfVxuICAgIHVudXNlKCl7XG4gICAgICAgIHRoaXMubm9kZS5zY2FsZT0wO1xuICAgICAgICB0aGlzLmVuZW15c0hhZEhpdD1bXTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/skillPool.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '10733spul5GZYFDkfpWJtA/', 'skillPool');
// scripts/game/skillPool.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var skillPool = /** @class */ (function (_super) {
    __extends(skillPool, _super);
    function skillPool() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.swordItem = null;
        _this.swordItem2 = null;
        _this.swordSmoke = null;
        _this.rockPrefab = null;
        _this.thunderBallPrefab = null;
        _this.swordPool = new cc.NodePool("swordItem");
        _this.sword2Pool = new cc.NodePool("swordItem2");
        _this.swordSmokePool = new cc.NodePool("swordSmoke");
        _this.rockPool = new cc.NodePool("rock");
        _this.thunderBallPool = new cc.NodePool("thunderBall_burst");
        return _this;
    }
    skillPool_1 = skillPool;
    skillPool.prototype.onLoad = function () {
        skillPool_1.instance = this;
    };
    skillPool.prototype.onDisable = function () {
        this.rockPool.clear();
        this.swordPool.clear();
        this.sword2Pool.clear();
        this.swordSmokePool.clear();
        this.thunderBallPool.clear();
    };
    skillPool.prototype.start = function () {
        this.init();
    };
    skillPool.prototype.init = function () {
        this.createThunderBall();
        this.createSword();
        this.createSword2();
        this.createSwordSmoke();
        this.createRock();
    };
    skillPool.prototype.createThunderBall = function () {
        for (var i = 0; i < 20; i++) {
            var thunderBall = cc.instantiate(this.thunderBallPrefab);
            thunderBall.name = thunderBall.name + i;
            this.thunderBallPool.put(thunderBall);
        }
    };
    skillPool.prototype.createSword = function () {
        for (var i = 0; i < 10; i++) {
            var sword = cc.instantiate(this.swordItem);
            sword.active = false;
            this.swordPool.put(sword);
        }
    };
    skillPool.prototype.createSword2 = function () {
        for (var i = 0; i < 12; i++) {
            var sword = cc.instantiate(this.swordItem2);
            this.sword2Pool.put(sword);
        }
    };
    skillPool.prototype.createSwordSmoke = function () {
        for (var i = 0; i < 15; i++) {
            var smoke = cc.instantiate(this.swordSmoke);
            this.swordSmokePool.put(smoke);
        }
    };
    skillPool.prototype.createRock = function () {
        for (var i = 0; i < 50; i++) {
            var rock = cc.instantiate(this.rockPrefab);
            this.rockPool.put(rock);
        }
    };
    skillPool.prototype.getThunderBall = function () {
        var thunderBall = this.thunderBallPool.get();
        if (!thunderBall) {
            thunderBall = cc.instantiate(this.thunderBallPrefab);
            thunderBall.name = thunderBall.name + this.thunderBallPool.size();
        }
        return thunderBall;
    };
    skillPool.prototype.recoveryThunderball = function (node) {
        this.thunderBallPool.put(node);
    };
    skillPool.prototype.getRock = function () {
        var rock = this.rockPool.get();
        if (!rock) {
            rock = cc.instantiate(this.rockPrefab);
        }
        return rock;
    };
    skillPool.prototype.recoveryRock = function (node) {
        this.rockPool.put(node);
    };
    skillPool.prototype.getSwordSmoke = function () {
        var smoke = this.swordSmokePool.get();
        if (!smoke) {
            smoke = cc.instantiate(this.swordSmoke);
        }
        return smoke;
    };
    skillPool.prototype.recoverySwordSmoke = function (node) {
        this.swordSmokePool.put(node);
    };
    skillPool.prototype.getSword1 = function () {
        var sword1 = this.swordPool.get();
        if (!sword1) {
            sword1 = cc.instantiate(this.swordItem);
        }
        return sword1;
    };
    skillPool.prototype.recoverySword1 = function (node) {
        this.swordPool.put(node);
    };
    skillPool.prototype.getSword2 = function () {
        var sword2 = this.sword2Pool.get();
        if (!sword2) {
            sword2 = cc.instantiate(this.swordItem2);
        }
        return sword2;
    };
    skillPool.prototype.recoverySword2 = function (node) {
        this.sword2Pool.put(node);
    };
    var skillPool_1;
    skillPool.instance = null;
    __decorate([
        property(cc.Prefab)
    ], skillPool.prototype, "swordItem", void 0);
    __decorate([
        property(cc.Prefab)
    ], skillPool.prototype, "swordItem2", void 0);
    __decorate([
        property(cc.Prefab)
    ], skillPool.prototype, "swordSmoke", void 0);
    __decorate([
        property(cc.Prefab)
    ], skillPool.prototype, "rockPrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], skillPool.prototype, "thunderBallPrefab", void 0);
    skillPool = skillPool_1 = __decorate([
        ccclass
    ], skillPool);
    return skillPool;
}(cc.Component));
exports.default = skillPool;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcc2tpbGxQb29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTVFLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQXVDLDZCQUFZO0lBQW5EO1FBQUEscUVBMkhDO1FBeEhHLGVBQVMsR0FBYyxJQUFJLENBQUM7UUFFNUIsZ0JBQVUsR0FBYyxJQUFJLENBQUM7UUFFN0IsZ0JBQVUsR0FBYyxJQUFJLENBQUM7UUFFN0IsZ0JBQVUsR0FBYyxJQUFJLENBQUM7UUFFN0IsdUJBQWlCLEdBQWMsSUFBSSxDQUFDO1FBRXBDLGVBQVMsR0FBZ0IsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3RELGdCQUFVLEdBQWdCLElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN4RCxvQkFBYyxHQUFnQixJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDNUQsY0FBUSxHQUFnQixJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDaEQscUJBQWUsR0FBZ0IsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLENBQUM7O0lBMEd4RSxDQUFDO2tCQTNIb0IsU0FBUztJQW9CMUIsMEJBQU0sR0FBTjtRQUNJLFdBQVMsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0lBQzlCLENBQUM7SUFDRCw2QkFBUyxHQUFUO1FBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsU0FBUyxDQUFD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QUM7SUFDbEIsQ0FBQztJQUNELGtDQUFjLEdBQWQsVUFBZSxJQUFhO1FBQ3hCLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFDRCw2QkFBUyxHQUFUO1FBQ0ksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1QsTUFBTSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQzVDO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUNELGtDQUFjLEdBQWQsVUFBZSxJQUFhO1FBQ3hCLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlCLENBQUM7O0lBdkdNLGtCQUFRLEdBQWMsSUFBSSxDQUFDO0lBaEJsQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2dEQUNRO0lBRTVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7aURBQ1M7SUFFN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztpREFDUztJQUU3QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2lEQUNTO0lBRTdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7d0RBQ2dCO0lBWG5CLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0EySDdCO0lBQUQsZ0JBQUM7Q0EzSEQsQUEySEMsQ0EzSHNDLEVBQUUsQ0FBQyxTQUFTLEdBMkhsRDtrQkEzSG9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHNraWxsUG9vbCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHN3b3JkSXRlbTogY2MuUHJlZmFiID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHN3b3JkSXRlbTI6IGNjLlByZWZhYiA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcbiAgICBzd29yZFNtb2tlOiBjYy5QcmVmYWIgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXG4gICAgcm9ja1ByZWZhYjogY2MuUHJlZmFiID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHRodW5kZXJCYWxsUHJlZmFiOiBjYy5QcmVmYWIgPSBudWxsO1xuXG4gICAgc3dvcmRQb29sOiBjYy5Ob2RlUG9vbCA9IG5ldyBjYy5Ob2RlUG9vbChcInN3b3JkSXRlbVwiKTtcbiAgICBzd29yZDJQb29sOiBjYy5Ob2RlUG9vbCA9IG5ldyBjYy5Ob2RlUG9vbChcInN3b3JkSXRlbTJcIik7XG4gICAgc3dvcmRTbW9rZVBvb2w6IGNjLk5vZGVQb29sID0gbmV3IGNjLk5vZGVQb29sKFwic3dvcmRTbW9rZVwiKTtcbiAgICByb2NrUG9vbDogY2MuTm9kZVBvb2wgPSBuZXcgY2MuTm9kZVBvb2woXCJyb2NrXCIpO1xuICAgIHRodW5kZXJCYWxsUG9vbDogY2MuTm9kZVBvb2wgPSBuZXcgY2MuTm9kZVBvb2woXCJ0aHVuZGVyQmFsbF9idXJzdFwiKTtcblxuICAgIHN0YXRpYyBpbnN0YW5jZTogc2tpbGxQb29sID0gbnVsbDtcbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHNraWxsUG9vbC5pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuICAgIG9uRGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5yb2NrUG9vbC5jbGVhcigpO1xuICAgICAgICB0aGlzLnN3b3JkUG9vbC5jbGVhcigpO1xuICAgICAgICB0aGlzLnN3b3JkMlBvb2wuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zd29yZFNtb2tlUG9vbC5jbGVhcigpO1xuICAgICAgICB0aGlzLnRodW5kZXJCYWxsUG9vbC5jbGVhcigpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlVGh1bmRlckJhbGwoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVTd29yZCgpO1xuICAgICAgICB0aGlzLmNyZWF0ZVN3b3JkMigpO1xuICAgICAgICB0aGlzLmNyZWF0ZVN3b3JkU21va2UoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSb2NrKCk7XG4gICAgfVxuICAgIGNyZWF0ZVRodW5kZXJCYWxsKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0aHVuZGVyQmFsbCA9IGNjLmluc3RhbnRpYXRlKHRoaXMudGh1bmRlckJhbGxQcmVmYWIpO1xuICAgICAgICAgICAgdGh1bmRlckJhbGwubmFtZSA9IHRodW5kZXJCYWxsLm5hbWUgKyBpO1xuICAgICAgICAgICAgdGhpcy50aHVuZGVyQmFsbFBvb2wucHV0KHRodW5kZXJCYWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVTd29yZCgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3dvcmQgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN3b3JkSXRlbSk7XG4gICAgICAgICAgICBzd29yZC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3dvcmRQb29sLnB1dChzd29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlU3dvcmQyKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzd29yZCA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3dvcmRJdGVtMik7XG4gICAgICAgICAgICB0aGlzLnN3b3JkMlBvb2wucHV0KHN3b3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVTd29yZFNtb2tlKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE1OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzbW9rZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3dvcmRTbW9rZSk7XG4gICAgICAgICAgICB0aGlzLnN3b3JkU21va2VQb29sLnB1dChzbW9rZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlUm9jaygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcm9jayA9IGNjLmluc3RhbnRpYXRlKHRoaXMucm9ja1ByZWZhYik7XG4gICAgICAgICAgICB0aGlzLnJvY2tQb29sLnB1dChyb2NrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRUaHVuZGVyQmFsbCgpIHtcbiAgICAgICAgbGV0IHRodW5kZXJCYWxsID0gdGhpcy50aHVuZGVyQmFsbFBvb2wuZ2V0KCk7XG4gICAgICAgIGlmICghdGh1bmRlckJhbGwpIHtcbiAgICAgICAgICAgIHRodW5kZXJCYWxsID0gY2MuaW5zdGFudGlhdGUodGhpcy50aHVuZGVyQmFsbFByZWZhYik7XG4gICAgICAgICAgICB0aHVuZGVyQmFsbC5uYW1lID0gdGh1bmRlckJhbGwubmFtZSArIHRoaXMudGh1bmRlckJhbGxQb29sLnNpemUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGh1bmRlckJhbGw7XG4gICAgfVxuICAgIHJlY292ZXJ5VGh1bmRlcmJhbGwobm9kZTogY2MuTm9kZSkge1xuICAgICAgICB0aGlzLnRodW5kZXJCYWxsUG9vbC5wdXQobm9kZSk7XG4gICAgfVxuICAgIGdldFJvY2soKSB7XG4gICAgICAgIGxldCByb2NrID0gdGhpcy5yb2NrUG9vbC5nZXQoKTtcbiAgICAgICAgaWYgKCFyb2NrKSB7XG4gICAgICAgICAgICByb2NrID0gY2MuaW5zdGFudGlhdGUodGhpcy5yb2NrUHJlZmFiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm9jaztcbiAgICB9XG4gICAgcmVjb3ZlcnlSb2NrKG5vZGU6IGNjLk5vZGUpIHtcbiAgICAgICAgdGhpcy5yb2NrUG9vbC5wdXQobm9kZSk7XG4gICAgfVxuICAgIGdldFN3b3JkU21va2UoKSB7XG4gICAgICAgIGxldCBzbW9rZSA9IHRoaXMuc3dvcmRTbW9rZVBvb2wuZ2V0KCk7XG4gICAgICAgIGlmICghc21va2UpIHtcbiAgICAgICAgICAgIHNtb2tlID0gY2MuaW5zdGFudGlhdGUodGhpcy5zd29yZFNtb2tlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc21va2U7XG4gICAgfVxuICAgIHJlY292ZXJ5U3dvcmRTbW9rZShub2RlOiBjYy5Ob2RlKSB7XG4gICAgICAgIHRoaXMuc3dvcmRTbW9rZVBvb2wucHV0KG5vZGUpO1xuICAgIH1cbiAgICBnZXRTd29yZDEoKSB7XG4gICAgICAgIGxldCBzd29yZDEgPSB0aGlzLnN3b3JkUG9vbC5nZXQoKTtcbiAgICAgICAgaWYgKCFzd29yZDEpIHtcbiAgICAgICAgICAgIHN3b3JkMSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3dvcmRJdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3dvcmQxO1xuICAgIH1cbiAgICByZWNvdmVyeVN3b3JkMShub2RlOiBjYy5Ob2RlKSB7XG4gICAgICAgIHRoaXMuc3dvcmRQb29sLnB1dChub2RlKTtcbiAgICB9XG4gICAgZ2V0U3dvcmQyKCkge1xuICAgICAgICBsZXQgc3dvcmQyID0gdGhpcy5zd29yZDJQb29sLmdldCgpO1xuICAgICAgICBpZiAoIXN3b3JkMikge1xuICAgICAgICAgICAgc3dvcmQyID0gY2MuaW5zdGFudGlhdGUodGhpcy5zd29yZEl0ZW0yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3dvcmQyO1xuICAgIH1cbiAgICByZWNvdmVyeVN3b3JkMihub2RlOiBjYy5Ob2RlKSB7XG4gICAgICAgIHRoaXMuc3dvcmQyUG9vbC5wdXQobm9kZSk7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/E10controller.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '44ec1xghrhGfoDx/0DVq2+7', 'E10controller');
// scripts/game/E10controller.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var bossHp_1 = require("./ui/bossHp");
var uiManager_1 = require("./ui/uiManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["attack"] = 0] = "attack";
    damageCollider[damageCollider["skill1"] = 1] = "skill1";
    damageCollider[damageCollider["skill2"] = 2] = "skill2";
})(damageCollider || (damageCollider = {}));
var E10controller = /** @class */ (function (_super) {
    __extends(E10controller, _super);
    function E10controller() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.dieEffectName = "";
        _this.rushSpeed = 700; //冲击速度
        _this.moveSpeed = 120; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 0.5; //ai间隔
        _this.stopDistance = 300; //停止距离
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 25000; //手里剑攻击作用力
        _this.beHitForce_x = 25000; //普通攻击作用力
        _this.beHitForce_y_shuriken = 50000; //普通攻击作用力
        _this.beHitForce_x_attack3 = 350000; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.allowMoveTime = 2; //允许move状态最长时间
        _this.allowAttackTime = 2; //允许连续attack次数
        _this.attackTimes = 0; //attack连续次数
        _this.skill1_x = 0; //泰山压顶落地坐标（升空时玩家位置）
        _this.isStartRush = false; //开始冲撞
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isMove = false; //是否处于移动状态
        _this.isWuDi = false; //无敌状态
        _this.dmgCollider = null;
        _this.isHighLight = false;
        _this.highLight_A = {
            a: 0.5
        };
        return _this;
    }
    E10controller.prototype.onLoad = function () {
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    E10controller.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
    };
    E10controller.prototype.init = function () {
        uiManager_1.default.ins.showBossHp(bossHp_1.bossName.enemy10);
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        this.idle();
    };
    E10controller.prototype.update = function () {
        this.highLightAction();
        this.skill2Move();
        if (this.isMove == false)
            return;
        var distance = this.getDistanceX();
        if (Math.abs(distance) < this.stopDistance) {
            this.hit();
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.attack)
                return;
            this.moveToPlayer();
        }
    };
    E10controller.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "wall") {
            this.skill2End();
        }
    };
    E10controller.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].getComponent(enemyHitCollider_1.default).enemyControl = this;
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    E10controller.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    E10controller.prototype.hideDamageCollider = function (isCompelClose) {
        if (isCompelClose === void 0) { isCompelClose = false; }
        if (this.dmgCollider == null)
            return;
        if (this.dmgCollider == damageCollider.skill1 && isCompelClose == false)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    E10controller.prototype.AI_start = function () {
        var _this = this;
        this.allowAttackTime = caijiTools_1.caijiTools.random_int(2, 3);
        this.allowMoveTime = caijiTools_1.caijiTools.random_int(200, 500) / 100;
        if (this.isDie)
            return;
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.changeMovState(false);
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            return;
        }
        var distance = Math.abs(this.getDistanceX());
        if (distance < this.stopDistance) {
            this.hit();
        }
        else {
            this.changeDirection();
            this.enemyAnimation.changeState(animationState_1.enemyState.move, 1, true);
            this.changeMovState(true);
            this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.moveSpeed : this.moveSpeed;
            this.scheduleOnce(function () {
                if (_this.enemyAnimation.state != animationState_1.enemyState.move)
                    return;
                _this.skill2();
            }, this.allowMoveTime);
        }
    };
    E10controller.prototype.AI_stop = function () {
        this.idle();
    };
    E10controller.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    E10controller.prototype.idle = function (nextState) {
        var _this = this;
        if (nextState === void 0) { nextState = animationState_1.enemyState.idle; }
        this.changeMovState(false);
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.idle, 1, true, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.idle)
                return;
            if (nextState == animationState_1.enemyState.idle) {
                _this.AI_start();
            }
            else {
                _this.skill1();
            }
        }, this.AI_interval);
    };
    E10controller.prototype.changeDirection = function () {
        if (GameManager_1.default.instance.player == null)
            return;
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x - this.node.x > 0 ? -this.scaleX_skeleton : this.scaleX_skeleton;
        //this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    E10controller.prototype.die = function () {
        this.isDie = true;
        this.endRush();
        this.setRigibodySpeed(0, 0);
        this.changeMovState(false);
        this.unscheduleAllCallbacks();
        this.enemyAnimation.changeState(animationState_1.enemyState.die, 1, false, true);
        this.dieCount();
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E10_death);
    };
    E10controller.prototype.getUp = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.get_up, 1, false, true);
    };
    E10controller.prototype.moveToPlayer = function () {
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    E10controller.prototype.hitComplete = function () {
        var _this = this;
        if (this.attackTimes < this.allowAttackTime) {
            if (this.getDistanceX() <= this.stopDistance) {
                this.hit();
            }
            else {
                this.changeDirection();
                this.enemyAnimation.changeState(animationState_1.enemyState.move, 1, true);
                this.changeMovState(true);
                this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.moveSpeed : this.moveSpeed;
                this.scheduleOnce(function () {
                    if (_this.enemyAnimation.state != animationState_1.enemyState.move)
                        return;
                    _this.skill2();
                }, this.allowMoveTime);
            }
        }
        else {
            this.skill2();
        }
    };
    E10controller.prototype.hit = function () {
        var _this = this;
        this.attackTimes++;
        this.changeDirection();
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        this.showDamageCollider(damageCollider.attack);
        this.enemyAnimation.changeState(animationState_1.enemyState.attack, 1, false);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state == animationState_1.enemyState.attack) {
                _this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
            }
        }, 1.1);
        this.scheduleOnce(function () {
            audioManager_1.default.playAudio(audioNameMgr_1.audioName.E10_attack);
        }, 0.6);
    };
    //冲撞攻击-skill
    E10controller.prototype.hit_rush = function () {
        if (this.dmgCollider == damageCollider.skill1) {
            this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(this.node, this.damage, true);
        }
    };
    //泰山压顶开始
    E10controller.prototype.skill1 = function () {
        this.skill1_x = GameManager_1.default.instance.player.x;
        this.skill1_x = this.skeleton.node.scaleX > 0 ? this.skill1_x + 200 : this.skill1_x - 200;
        this.isWuDi = true;
        this.enemyAnimation.changeState(animationState_1.enemyState.skill1, 1, false, true);
        this.showDamageCollider(damageCollider.skill2);
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E10_Jump);
    };
    E10controller.prototype.frameEvent_skill1 = function (e, event) {
        var _this = this;
        if (event.data.name == "StopMove") {
            //泰山压顶落地
            audioManager_1.default.playAudio(audioNameMgr_1.audioName.Spell_Earth_02);
            this.isWuDi = false;
            Events_1.default.instance.screenShake();
            this.FX_skill1();
            this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(this.node, Math.floor(this.damage * 1.2), true);
        }
        else if (event.data.name == "Move") {
            //升空移动位置
            this.scheduleOnce(function () {
                _this.node.x = _this.skill1_x;
                _this.skeleton.node.scaleX = _this.node.x < GameManager_1.default.instance.player.x ? -_this.scaleX_skeleton : _this.scaleX_skeleton;
            }, 0.05);
        }
    };
    E10controller.prototype.FX_skill1 = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/FX_E10")];
                    case 1:
                        prefab = _a.sent();
                        fx = caijiTools_1.caijiTools.createNode(prefab, this.node.parent);
                        fx.setSiblingIndex(GameManager_1.default.instance.player.getSiblingIndex() + 1);
                        fx.setPosition(this.node.x, this.node.y - 20);
                        fx.active = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    //野蛮冲撞开始
    E10controller.prototype.skill2 = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E10Roar);
        this.attackTimes = 0;
        this.changeDirection();
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.rushSpeed : this.rushSpeed;
        this.enemyAnimation.changeState(animationState_1.enemyState.skill2_start, 1, false, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.skill2_start)
                return;
            _this.startRush();
        }, 1.1);
    };
    E10controller.prototype.startRush = function () {
        this.isStartRush = true;
        this.showDamageCollider(damageCollider.skill1);
    };
    E10controller.prototype.endRush = function () {
        this.isStartRush = false;
    };
    E10controller.prototype.skill2Middle = function () {
        this.setRigibodySpeed(this.nowSpeed, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.skill2_middle, 1, true, true);
    };
    E10controller.prototype.skill2End = function () {
        var _this = this;
        this.endRush();
        this.setRigibodySpeed(0, 0);
        this.hideDamageCollider(true);
        this.scheduleOnce(function () {
            if (_this.isDie)
                return;
            _this.enemyAnimation.changeState(animationState_1.enemyState.skill2_end, 1, false, true);
        }, 1);
    };
    E10controller.prototype.skill2EndComplete = function () {
        this.idle(animationState_1.enemyState.skill1);
    };
    E10controller.prototype.skill2Move = function () {
        if (this.isStartRush == false)
            return;
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    //脚步
    E10controller.prototype.footStep = function () {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E10Step);
    };
    E10controller.prototype.beHit = function (damage, dmgType) {
        if (this.isDie || this.isWuDi)
            return;
        // let isContinue = this.checkIsSwordRain(dmgType);//设置剑雨攻击间隔
        // if (isContinue == 0) return;
        this.changeState_beHit(dmgType);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        this.highLight();
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        this.updateHp(damage);
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
    };
    E10controller.prototype.updateHp = function (damage) {
        this.hp -= damage;
        uiManager_1.default.ins.bossHp.addHp(-damage);
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    E10controller.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    E10controller.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.get_hurt2;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.knock_down;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.get_hurt1;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    E10controller.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    E10controller.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    E10controller.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    E10controller.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    E10controller.prototype.highLightAction = function () {
        if (this.isHighLight) {
            this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, this.highLight_A.a]);
        }
    };
    E10controller.prototype.highLight = function () {
        var _this = this;
        if (this.isHighLight)
            return;
        this.isHighLight = true;
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        cc.tween(this.highLight_A)
            .to(0.1, { a: 0 })
            .call(function () {
            _this.closeHighLight();
        })
            .start();
    };
    E10controller.prototype.closeHighLight = function () {
        this.isHighLight = false;
        this.highLight_A.a = 0.5;
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    E10controller.prototype.getDistanceX = function () {
        return Math.abs(this.node.x - GameManager_1.default.instance.player.x);
    };
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], E10controller.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], E10controller.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.String)
    ], E10controller.prototype, "dieEffectName", void 0);
    E10controller = __decorate([
        ccclass
    ], E10controller);
    return E10controller;
}(enemyBase_1.default));
exports.default = E10controller;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRTEwY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnREFBNEM7QUFDNUMsNENBQTJDO0FBQzNDLHFEQUFnRDtBQUNoRCxtREFBMEQ7QUFDMUQsbURBQThDO0FBQzlDLHlDQUFvQztBQUNwQyx1REFBa0Q7QUFDbEQsbUNBQThCO0FBQzlCLDZDQUF3QztBQUN4QyxzQ0FBdUM7QUFDdkMsNENBQXVDO0FBRWpDLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBQzVDLElBQUssY0FJSjtBQUpELFdBQUssY0FBYztJQUNmLHVEQUFNLENBQUE7SUFDTix1REFBTSxDQUFBO0lBQ04sdURBQU0sQ0FBQTtBQUNWLENBQUMsRUFKSSxjQUFjLEtBQWQsY0FBYyxRQUlsQjtBQUVEO0lBQTJDLGlDQUFTO0lBQXBEO1FBQUEscUVBc1lDO1FBbllHLHdCQUFrQixHQUFXLENBQUMsQ0FBQztRQUUvQix3QkFBa0IsR0FBVyxDQUFDLENBQUM7UUFFL0IsbUJBQWEsR0FBVyxFQUFFLENBQUM7UUFFM0IsZUFBUyxHQUFXLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDOUIsZUFBUyxHQUFXLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDOUIsY0FBUSxHQUFXLENBQUMsQ0FBQyxDQUFBLE1BQU07UUFDM0IsaUJBQVcsR0FBVyxHQUFHLENBQUMsQ0FBQSxNQUFNO1FBQ2hDLGtCQUFZLEdBQVcsR0FBRyxDQUFDLENBQUEsTUFBTTtRQUNqQyxRQUFFLEdBQVcsQ0FBQyxDQUFDO1FBQ2YsYUFBTyxHQUFXLENBQUMsQ0FBQyxDQUFBLE1BQU07UUFDMUIsa0JBQVksR0FBVyxLQUFLLENBQUMsQ0FBQSxVQUFVO1FBQ3ZDLGtCQUFZLEdB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RUFBRSxDQUFDO1FBQzFCLENBQUMsQ0FBQzthQUNELEtBQUssRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFDRCxzQ0FBYyxHQUFkO1FBQ0ksSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekQsQ0FBQztJQUNELG9DQUFZLEdBQVo7UUFDSSxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFsWUQ7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLENBQUM7NkRBQ3BCO0lBRS9CO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDOzZEQUNwQjtJQUUvQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3dEQUNPO0lBUFYsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQXNZakM7SUFBRCxvQkFBQztDQXRZRCxBQXNZQyxDQXRZMEMsbUJBQVMsR0FzWW5EO2tCQXRZb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF1ZGlvTmFtZSB9IGZyb20gXCIuLi9hdWRpb05hbWVNZ3JcIjtcbmltcG9ydCB7IGNhaWppVG9vbHMgfSBmcm9tIFwiLi4vY2FpamlUb29sc1wiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi4vbWFpbi9hdWRpb01hbmFnZXJcIjtcbmltcG9ydCB7IGF0dGFja1R5cGUsIGVuZW15U3RhdGUgfSBmcm9tIFwiLi9hbmltYXRpb25TdGF0ZVwiO1xuaW1wb3J0IGVuZW15QW5pbWF0aW9uIGZyb20gXCIuL2VuZW15QW5pbWF0aW9uXCI7XG5pbXBvcnQgZW5lbXlCYXNlIGZyb20gXCIuL2VuZW15QmFzZVwiO1xuaW1wb3J0IGVuZW15SGl0Q29sbGlkZXIgZnJvbSBcIi4vZW5lbXlIaXRDb2xsaWRlclwiO1xuaW1wb3J0IEV2ZW50cyBmcm9tIFwiLi9FdmVudHNcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xuaW1wb3J0IHsgYm9zc05hbWUgfSBmcm9tIFwiLi91aS9ib3NzSHBcIjtcbmltcG9ydCB1aU1hbmFnZXIgZnJvbSBcIi4vdWkvdWlNYW5hZ2VyXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5lbnVtIGRhbWFnZUNvbGxpZGVyIHtcbiAgICBhdHRhY2ssXG4gICAgc2tpbGwxLFxuICAgIHNraWxsMlxufVxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEUxMGNvbnRyb2xsZXIgZXh0ZW5kcyBlbmVteUJhc2Uge1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuRmxvYXQsIHRvb2x0aXA6IFwi5Lyk5a6z5pWI5p6ceOi9tOWBj+enu+WAvFwiIH0pXG4gICAgZGFtYWdlTGFiZWxPZmZzZXRYOiBudW1iZXIgPSAwO1xuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkZsb2F0LCB0b29sdGlwOiBcIuS8pOWus+aViOaenHnovbTlgY/np7vlgLxcIiB9KVxuICAgIGRhbWFnZUxhYmVsT2Zmc2V0WTogbnVtYmVyID0gMDtcbiAgICBAcHJvcGVydHkoY2MuU3RyaW5nKVxuICAgIGRpZUVmZmVjdE5hbWU6IHN0cmluZyA9IFwiXCI7XG5cbiAgICBydXNoU3BlZWQ6IG51bWJlciA9IDcwMDsvL+WGsuWHu+mAn+W6plxuICAgIG1vdmVTcGVlZDogbnVtYmVyID0gMTIwOy8v56e75Yqo6YCf5bqmXG4gICAgbm93U3BlZWQ6IG51bWJlciA9IDA7Ly/lvZPliY3pgJ/luqZcbiAgICBBSV9pbnRlcnZhbDogbnVtYmVyID0gMC41Oy8vYWnpl7TpmpRcbiAgICBzdG9wRGlzdGFuY2U6IG51bWJlciA9IDMwMDsvL+WBnOatoui3neemu1xuICAgIGhwOiBudW1iZXIgPSAwO1xuICAgIGhwVGltZXM6IG51bWJlciA9IDE7Ly/ooYDph4/lgI3mlbBcbiAgICBiZUhpdEZvcmNlX3k6IG51bWJlciA9IDI1MDAwOy8v5omL6YeM5YmR5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94OiBudW1iZXIgPSAyNTAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV95X3NodXJpa2VuOiBudW1iZXIgPSA1MDAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94X2F0dGFjazM6IG51bWJlciA9IDM1MDAwMDsvL+iiq+WHu+mjnuS9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeV9hdHRhY2szOiBudW1iZXIgPSAwOy8v6KKr5Ye76aOe5L2c55So5YqbXG4gICAgc2NhbGVYX3NrZWxldG9uOiBudW1iZXIgPSAwO1xuICAgIGFsbG93TW92ZVRpbWU6IG51bWJlciA9IDI7Ly/lhYHorrhtb3Zl54q25oCB5pyA6ZW/5pe26Ze0XG4gICAgYWxsb3dBdHRhY2tUaW1lOiBudW1iZXIgPSAyOy8v5YWB6K646L+e57utYXR0YWNr5qyh5pWwXG4gICAgYXR0YWNrVGltZXM6IG51bWJlciA9IDA7Ly9hdHRhY2vov57nu63mrKHmlbBcbiAgICBza2lsbDFfeDogbnVtYmVyID0gMDsvL+azsOWxseWOi+mhtuiQveWcsOWdkOagh++8iOWNh+epuuaXtueOqeWutuS9jee9ru+8iVxuICAgIGlzU3RhcnRSdXNoOiBib29sZWFuID0gZmFsc2U7Ly/lvIDlp4vlhrLmkp5cbiAgICBpc0RpZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHNrZWxldG9uOiBzcC5Ta2VsZXRvbiA9IG51bGw7XG4gICAgZW5lbXlBbmltYXRpb246IGVuZW15QW5pbWF0aW9uID0gbnVsbDtcbiAgICByaWdpYm9keTogY2MuUmlnaWRCb2R5ID0gbnVsbDtcbiAgICBib3hDb2xsaWRlcjogY2MuUGh5c2ljc0JveENvbGxpZGVyID0gbnVsbDtcbiAgICBpc1N3b3JkUmFpbkNkOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNNb3ZlOiBib29sZWFuID0gZmFsc2U7Ly/mmK/lkKblpITkuo7np7vliqjnirbmgIFcbiAgICBpc1d1RGk6IGJvb2xlYW4gPSBmYWxzZTsvL+aXoOaVjOeKtuaAgVxuICAgIGRtZ0NvbGxpZGVyOiBkYW1hZ2VDb2xsaWRlciA9IG51bGw7XG4gICAgaXNIaWdoTGlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBoaWdoTGlnaHRfQSA9IHtcbiAgICAgICAgYTogMC41XG4gICAgfTtcblxuICAgIG9uTG9hZCgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbiA9IHRoaXMubm9kZS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pO1xuICAgICAgICB0aGlzLnNjYWxlWF9za2VsZXRvbiA9IE1hdGguYWJzKHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVgpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uID0gdGhpcy5ub2RlLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChlbmVteUFuaW1hdGlvbik7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uZW5lbXlDb250cm9sbGVyID0gdGhpcztcbiAgICAgICAgdGhpcy5yaWdpYm9keSA9IHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuUmlnaWRCb2R5KTtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlciA9IHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuUGh5c2ljc0JveENvbGxpZGVyKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnNrZWxldG9uLnNrZWxldG9uRGF0YS5fc2tlbGV0b25DYWNoZS5hbmltYXRpb25zKTtcbiAgICB9XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdWlNYW5hZ2VyLmlucy5zaG93Qm9zc0hwKGJvc3NOYW1lLmVuZW15MTApO1xuICAgICAgICB0aGlzLmluaXREYXRhKCk7XG4gICAgICAgIHRoaXMuaHAgPSB0aGlzLmhwTWF4ICogdGhpcy5ocFRpbWVzO1xuICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmhpZ2hMaWdodEFjdGlvbigpO1xuICAgICAgICB0aGlzLnNraWxsMk1vdmUoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZlID09IGZhbHNlKSByZXR1cm47XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHRoaXMuZ2V0RGlzdGFuY2VYKCk7XG4gICAgICAgIGlmIChNYXRoLmFicyhkaXN0YW5jZSkgPCB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlID09IGVuZW15U3RhdGUuYXR0YWNrKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLm1vdmVUb1BsYXllcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQmVnaW5Db250YWN0KGNvbnRhY3Q6IGNjLlBoeXNpY3NDb250YWN0LCBzZWxmQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlciwgb3RoZXJDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGxldCBvdGhlciA9IG90aGVyQ29sbGlkZXIubm9kZTtcbiAgICAgICAgLy8gbGV0IHdvcmxkTWFuaWZvbGQgPSBjb250YWN0LmdldFdvcmxkTWFuaWZvbGQoKTtcbiAgICAgICAgLy8gbGV0IG5vcm1hbCA9IHdvcmxkTWFuaWZvbGQubm9ybWFsO1xuICAgICAgICBpZiAob3RoZXIuZ3JvdXAgPT0gXCJ3YWxsXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2tpbGwyRW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd0RhbWFnZUNvbGxpZGVyKGNvbGxpZGVyOiBkYW1hZ2VDb2xsaWRlcikge1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bY29sbGlkZXJdLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5lbmVteUNvbnRyb2wgPSB0aGlzO1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bY29sbGlkZXJdLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuZG1nQ29sbGlkZXIgPSBjb2xsaWRlcjtcbiAgICB9XG4gICAgZ2V0RGFtYWdlQ29sbGlkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bdGhpcy5kbWdDb2xsaWRlcl07XG4gICAgfVxuICAgIGhpZGVEYW1hZ2VDb2xsaWRlcihpc0NvbXBlbENsb3NlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuZG1nQ29sbGlkZXIgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5kbWdDb2xsaWRlciA9PSBkYW1hZ2VDb2xsaWRlci5za2lsbDEgJiYgaXNDb21wZWxDbG9zZSA9PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bdGhpcy5kbWdDb2xsaWRlcl0uYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG1nQ29sbGlkZXIgPSBudWxsO1xuICAgIH1cbiAgICBBSV9zdGFydCgpIHtcbiAgICAgICAgdGhpcy5hbGxvd0F0dGFja1RpbWUgPSBjYWlqaVRvb2xzLnJhbmRvbV9pbnQoMiwgMyk7XG4gICAgICAgIHRoaXMuYWxsb3dNb3ZlVGltZSA9IGNhaWppVG9vbHMucmFuZG9tX2ludCgyMDAsIDUwMCkgLyAxMDA7XG4gICAgICAgIGlmICh0aGlzLmlzRGllKSByZXR1cm47XG4gICAgICAgIGlmIChHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLmlzRGllKSB7XG4gICAgICAgICAgICAvL+eOqeWutuW3suatuyDlgZzmraLnp7vliqhcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuQUlfc3RhcnQoKTtcbiAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguYWJzKHRoaXMuZ2V0RGlzdGFuY2VYKCkpO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUubW92ZSwgMSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5ub3dTcGVlZCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gLXRoaXMubW92ZVNwZWVkIDogdGhpcy5tb3ZlU3BlZWQ7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGUgIT0gZW5lbXlTdGF0ZS5tb3ZlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5za2lsbDIoKTtcbiAgICAgICAgICAgIH0sIHRoaXMuYWxsb3dNb3ZlVGltZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQUlfc3RvcCgpIHtcbiAgICAgICAgdGhpcy5pZGxlKCk7XG4gICAgfVxuICAgIGNoYW5nZU1vdlN0YXRlKGlzTW92ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzTW92ZSA9IGlzTW92ZTtcbiAgICB9XG4gICAgaWRsZShuZXh0U3RhdGU6IGVuZW15U3RhdGUgPSBlbmVteVN0YXRlLmlkbGUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZygwKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDAsIDApO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuaWRsZSwgMSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlICE9IGVuZW15U3RhdGUuaWRsZSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKG5leHRTdGF0ZSA9PSBlbmVteVN0YXRlLmlkbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLkFJX3N0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpbGwxKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuQUlfaW50ZXJ2YWwpO1xuICAgIH1cbiAgICBjaGFuZ2VEaXJlY3Rpb24oKSB7XG4gICAgICAgIGlmIChHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggLSB0aGlzLm5vZGUueCA+IDAgPyAtdGhpcy5zY2FsZVhfc2tlbGV0b24gOiB0aGlzLnNjYWxlWF9za2VsZXRvbjtcbiAgICAgICAgLy90aGlzLmhwTm9kZS54ID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtMjggOiAyODtcbiAgICB9XG4gICAgZGllKCkge1xuICAgICAgICB0aGlzLmlzRGllID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbmRSdXNoKCk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwLCAwKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZUFsbENhbGxiYWNrcygpO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuZGllLCAxLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZGllQ291bnQoKTtcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuRTEwX2RlYXRoKTtcbiAgICB9XG4gICAgZ2V0VXAoKSB7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5nZXRfdXAsIDEsIGZhbHNlLCB0cnVlKVxuICAgIH1cbiAgICBtb3ZlVG9QbGF5ZXIoKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52Mih0aGlzLm5vd1NwZWVkLCAwKTtcbiAgICB9XG4gICAgaGl0Q29tcGxldGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmF0dGFja1RpbWVzIDwgdGhpcy5hbGxvd0F0dGFja1RpbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldERpc3RhbmNlWCgpIDw9IHRoaXMuc3RvcERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUubW92ZSwgMSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vd1NwZWVkID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtdGhpcy5tb3ZlU3BlZWQgOiB0aGlzLm1vdmVTcGVlZDtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlICE9IGVuZW15U3RhdGUubW92ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNraWxsMigpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMuYWxsb3dNb3ZlVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNraWxsMigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhpdCgpIHtcbiAgICAgICAgdGhpcy5hdHRhY2tUaW1lcysrO1xuICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDAsIDApO1xuICAgICAgICB0aGlzLnNob3dEYW1hZ2VDb2xsaWRlcihkYW1hZ2VDb2xsaWRlci5hdHRhY2spO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuYXR0YWNrLCAxLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlID09IGVuZW15U3RhdGUuYXR0YWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXREYW1hZ2VDb2xsaWRlcigpLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5oaXQodGhpcy5ub2RlLCB0aGlzLmRhbWFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEuMSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5FMTBfYXR0YWNrKTtcbiAgICAgICAgfSwwLjYpO1xuICAgIH1cbiAgICAvL+WGsuaSnuaUu+WHuy1za2lsbFxuICAgIGhpdF9ydXNoKCkge1xuICAgICAgICBpZiAodGhpcy5kbWdDb2xsaWRlciA9PSBkYW1hZ2VDb2xsaWRlci5za2lsbDEpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0RGFtYWdlQ29sbGlkZXIoKS5nZXRDb21wb25lbnQoZW5lbXlIaXRDb2xsaWRlcikuaGl0KHRoaXMubm9kZSwgdGhpcy5kYW1hZ2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8v5rOw5bGx5Y6L6aG25byA5aeLXG4gICAgc2tpbGwxKCkge1xuICAgICAgICB0aGlzLnNraWxsMV94ID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLng7XG4gICAgICAgIHRoaXMuc2tpbGwxX3ggPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IHRoaXMuc2tpbGwxX3ggKyAyMDAgOiB0aGlzLnNraWxsMV94IC0gMjAwO1xuICAgICAgICB0aGlzLmlzV3VEaSA9IHRydWU7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5za2lsbDEsIDEsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zaG93RGFtYWdlQ29sbGlkZXIoZGFtYWdlQ29sbGlkZXIuc2tpbGwyKTtcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuRTEwX0p1bXApO1xuICAgIH1cbiAgICBmcmFtZUV2ZW50X3NraWxsMShlLCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZGF0YS5uYW1lID09IFwiU3RvcE1vdmVcIikge1xuICAgICAgICAgICAgLy/ms7DlsbHljovpobbokL3lnLBcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLlNwZWxsX0VhcnRoXzAyKTtcbiAgICAgICAgICAgIHRoaXMuaXNXdURpID0gZmFsc2U7XG4gICAgICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc2NyZWVuU2hha2UoKTtcbiAgICAgICAgICAgIHRoaXMuRlhfc2tpbGwxKCk7XG4gICAgICAgICAgICB0aGlzLmdldERhbWFnZUNvbGxpZGVyKCkuZ2V0Q29tcG9uZW50KGVuZW15SGl0Q29sbGlkZXIpLmhpdCh0aGlzLm5vZGUsIE1hdGguZmxvb3IodGhpcy5kYW1hZ2UgKiAxLjIpLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5kYXRhLm5hbWUgPT0gXCJNb3ZlXCIpIHtcbiAgICAgICAgICAgIC8v5Y2H56m656e75Yqo5L2N572uXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLnggPSB0aGlzLnNraWxsMV94O1xuICAgICAgICAgICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPSB0aGlzLm5vZGUueCA8IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID8gLXRoaXMuc2NhbGVYX3NrZWxldG9uIDogdGhpcy5zY2FsZVhfc2tlbGV0b247XG4gICAgICAgICAgICB9LCAwLjA1KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBGWF9za2lsbDEoKSB7XG4gICAgICAgIGxldCBwcmVmYWIgPSBhd2FpdCBjYWlqaVRvb2xzLmxvYWRQcmVmYWIoXCJwcmVmYWJzL0ZYX0UxMFwiKTtcbiAgICAgICAgbGV0IGZ4ID0gY2FpamlUb29scy5jcmVhdGVOb2RlKHByZWZhYiwgdGhpcy5ub2RlLnBhcmVudCk7XG4gICAgICAgIGZ4LnNldFNpYmxpbmdJbmRleChHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIuZ2V0U2libGluZ0luZGV4KCkgKyAxKTtcbiAgICAgICAgZnguc2V0UG9zaXRpb24odGhpcy5ub2RlLngsIHRoaXMubm9kZS55IC0gMjApO1xuICAgICAgICBmeC5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgICAvL+mHjuibruWGsuaSnuW8gOWni1xuICAgIHNraWxsMigpIHtcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuRTEwUm9hcik7XG4gICAgICAgIHRoaXMuYXR0YWNrVGltZXMgPSAwO1xuICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDAsIDApO1xuICAgICAgICB0aGlzLm5vd1NwZWVkID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtdGhpcy5ydXNoU3BlZWQgOiB0aGlzLnJ1c2hTcGVlZDtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLnNraWxsMl9zdGFydCwgMSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSAhPSBlbmVteVN0YXRlLnNraWxsMl9zdGFydCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJ1c2goKTtcbiAgICAgICAgfSwgMS4xKTtcbiAgICB9XG4gICAgc3RhcnRSdXNoKCkge1xuICAgICAgICB0aGlzLmlzU3RhcnRSdXNoID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zaG93RGFtYWdlQ29sbGlkZXIoZGFtYWdlQ29sbGlkZXIuc2tpbGwxKTtcbiAgICB9XG4gICAgZW5kUnVzaCgpIHtcbiAgICAgICAgdGhpcy5pc1N0YXJ0UnVzaCA9IGZhbHNlO1xuICAgIH1cbiAgICBza2lsbDJNaWRkbGUoKSB7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCh0aGlzLm5vd1NwZWVkLCAwKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLnNraWxsMl9taWRkbGUsIDEsIHRydWUsIHRydWUpO1xuICAgIH1cbiAgICBza2lsbDJFbmQoKSB7XG4gICAgICAgIHRoaXMuZW5kUnVzaCgpO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCwgMCk7XG4gICAgICAgIHRoaXMuaGlkZURhbWFnZUNvbGxpZGVyKHRydWUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0RpZSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLnNraWxsMl9lbmQsIDEsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfSwgMSk7XG4gICAgfVxuICAgIHNraWxsMkVuZENvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLmlkbGUoZW5lbXlTdGF0ZS5za2lsbDEpO1xuICAgIH1cbiAgICBza2lsbDJNb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5pc1N0YXJ0UnVzaCA9PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5ID0gY2MudjIodGhpcy5ub3dTcGVlZCwgMCk7XG4gICAgfVxuICAgIC8v6ISa5q2lXG4gICAgZm9vdFN0ZXAoKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUxMFN0ZXApO1xuICAgIH1cbiAgICBiZUhpdChkYW1hZ2U6IG51bWJlciwgZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICBpZiAodGhpcy5pc0RpZSB8fCB0aGlzLmlzV3VEaSkgcmV0dXJuO1xuICAgICAgICAvLyBsZXQgaXNDb250aW51ZSA9IHRoaXMuY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlKTsvL+iuvue9ruWJkembqOaUu+WHu+mXtOmalFxuICAgICAgICAvLyBpZiAoaXNDb250aW51ZSA9PSAwKSByZXR1cm47XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGVfYmVIaXQoZG1nVHlwZSk7XG4gICAgICAgIGxldCB4ID0gdGhpcy5ub2RlLnNjYWxlWCA8IDAgPyB0aGlzLm5vZGUueCArIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRYIDogdGhpcy5ub2RlLnggLSB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLm5vZGUueSArIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRZO1xuICAgICAgICB0aGlzLmhpZ2hMaWdodCgpO1xuICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc2hvd0RhbWFnZUxhYmVsX2VuZW15KHRoaXMubm9kZSwgZGFtYWdlLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIHRoaXMudXBkYXRlSHAoZGFtYWdlKTtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgRXZlbnRzLmluc3RhbmNlLmNyZWF0ZUVuZW15RGllRWZmZWN0KHRoaXMubm9kZSwgdGhpcy5kaWVFZmZlY3ROYW1lLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlSHAoZGFtYWdlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ocCAtPSBkYW1hZ2U7XG4gICAgICAgIHVpTWFuYWdlci5pbnMuYm9zc0hwLmFkZEhwKC1kYW1hZ2UpO1xuICAgICAgICBpZiAodGhpcy5ocCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmhwID0gMDtcbiAgICAgICAgICAgIHRoaXMuZGllKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UmlnaWJvZHlTcGVlZCh4OiBudW1iZXIsIHk6IG51bWJlciA9IDApIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eSA9IGNjLnYyKHgsIHkpO1xuICAgIH1cbiAgICBjaGFuZ2VTdGF0ZV9iZUhpdChkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwZXJBcm1vcikgcmV0dXJuO1xuICAgICAgICBsZXQgc3RhdGUgPSBudWxsO1xuICAgICAgICBsZXQgaXNLbm9ja0Rvd24gPSBkbWdUeXBlID09IGF0dGFja1R5cGUuYXR0YWNrMyA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChkbWdUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMTpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQyO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsIDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2syOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazM6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDUpO1xuICAgICAgICAgICAgICAgIH0sIDAuNCk7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmtub2NrX2Rvd247XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZS54IDwgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggJiYgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5za2VsZXRvbi5ub2RlLnNjYWxlWCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKC10aGlzLmJlSGl0Rm9yY2VfeF9hdHRhY2szLCB0aGlzLmJlSGl0Rm9yY2VfeV9hdHRhY2szKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5vZGUueCA+IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ICYmIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52Mih0aGlzLmJlSGl0Rm9yY2VfeF9hdHRhY2szLCB0aGlzLmJlSGl0Rm9yY2VfeV9hdHRhY2szKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmp1bXBIaXQ6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuc2h1cmlrZW46XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJlSGl0Rm9yY2VfeV9zaHVyaWtlbikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLnN3b3JkUmFpbjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKHN0YXRlLCAxLCBmYWxzZSwgaXNLbm9ja0Rvd24pO1xuICAgIH1cbiAgICBzZXRMaW5lYXJEYW1waW5nKGRhbXBpbmc6IG51bWJlcikge1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhckRhbXBpbmcgPSBkYW1waW5nO1xuICAgIH1cbiAgICBzZXRGcmljdGlvbihmcmljdGlvbjogbnVtYmVyID0gMCkge1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmZyaWN0aW9uID0gZnJpY3Rpb247XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIuYXBwbHkoKTtcbiAgICB9XG4gICAgYXBwbHlGb3JjZShmb3JjZTogY2MuVmVjMikge1xuICAgICAgICBpZiAodGhpcy5pc1N1cGVyQXJtb3IpIHJldHVybjtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5hcHBseUZvcmNlVG9DZW50ZXIoZm9yY2UsIHRydWUpO1xuICAgIH1cbiAgICBjaGVja0lzU3dvcmRSYWluKGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYgKGRtZ1R5cGUgPT0gYXR0YWNrVHlwZS5zd29yZFJhaW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3dvcmRSYWluQ2QpIHJldHVybiAwO1xuICAgICAgICAgICAgdGhpcy5pc1N3b3JkUmFpbkNkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU3dvcmRSYWluQ2QgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIHRoaXMuc3dvcmRSYWluSGl0Q2QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBoaWdoTGlnaHRBY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSGlnaExpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiaGlnaExpZ2h0Q29sb3JcIiwgWzEuMCwgMS4wLCAxLjAsIHRoaXMuaGlnaExpZ2h0X0EuYV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhpZ2hMaWdodCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNIaWdoTGlnaHQpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc0hpZ2hMaWdodCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJiZUhpdFwiLCAxKTtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImhpZ2hMaWdodENvbG9yXCIsIFsxLjAsIDEuMCwgMS4wLCAwLjVdKTtcbiAgICAgICAgY2MudHdlZW4odGhpcy5oaWdoTGlnaHRfQSlcbiAgICAgICAgICAgIC50bygwLjEsIHsgYTogMCB9KVxuICAgICAgICAgICAgLmNhbGwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VIaWdoTGlnaHQoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhcnQoKTtcbiAgICB9XG4gICAgY2xvc2VIaWdoTGlnaHQoKSB7XG4gICAgICAgIHRoaXMuaXNIaWdoTGlnaHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oaWdoTGlnaHRfQS5hID0gMC41O1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMCk7XG4gICAgfVxuICAgIGdldERpc3RhbmNlWCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMubm9kZS54IC0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLngpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/swordItem2.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1a6fdJ+JNVKzJV7W1ODlljC', 'swordItem2');
// scripts/game/swordItem2.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var skillPool_1 = require("./skillPool");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var swordItem2 = /** @class */ (function (_super) {
    __extends(swordItem2, _super);
    function swordItem2() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isRight = false;
        _this.rightAngle = 48;
        _this.leftAngle = -48;
        _this.offsetX = 74;
        _this.offsetY = -67;
        _this.isDestory = false;
        _this.movex1 = 0;
        _this.movey1 = 0;
        _this.movex2 = 0;
        _this.movey2 = 0;
        return _this;
    }
    swordItem2.prototype.onLoad = function () {
        this.movex1 = this.offsetX * 12;
        this.movey1 = this.offsetY * 12;
        this.movex2 = this.offsetX * 0.1;
        this.movey2 = this.offsetY * 0.1;
    };
    swordItem2.prototype.init = function () {
        this.movex1 = this.isRight ? Math.abs(this.movex1) : -Math.abs(this.movex1);
        this.movex2 = this.isRight ? Math.abs(this.movex2) : -Math.abs(this.movex2);
    };
    swordItem2.prototype.tween = function () {
        var _this = this;
        //cc.v2(67,74);
        this.init();
        this.node.scaleX = caijiTools_1.caijiTools.random_int(3, 6) / 10;
        this.node.scaleY = this.node.scaleX * 20;
        this.node.angle = this.isRight ? this.rightAngle : this.leftAngle;
        cc.tween(this.node)
            .by(0.1, { position: cc.v3(this.movex1, this.movey1) })
            .start();
        this.scheduleOnce(function () {
            _this.changeColor();
        }, 0.05);
    };
    /*     onBeginContact (contact:cc.PhysicsContact,selfCollider:cc.PhysicsCollider,otherCollider:cc.PhysicsCollider) {
            let other=otherCollider.node;
            let pos=contact.getWorldManifold();
            if (other.group == "ground") {
                //落地
                if(this.isDestory) return;
                this.isDestory=true;
                this.changeColor();
            }
        } */
    swordItem2.prototype.changeColor = function () {
        var _this = this;
        this.node.color = cc.Color.BLACK;
        cc.Tween.stopAllByTarget(this.node);
        cc.tween(this.node)
            .parallel(cc.tween().by(0.08, { opacity: -255 }), cc.tween().by(0.1, { position: cc.v3(this.movex2, this.movey2) }))
            .call(function () {
            skillPool_1.default.instance.recoverySword2(_this.node);
        })
            .start();
    };
    swordItem2.prototype.reuse = function () {
        this.isDestory = false;
    };
    swordItem2.prototype.unuse = function () {
        this.node.color = cc.Color.WHITE;
        this.node.opacity = 255;
    };
    swordItem2 = __decorate([
        ccclass
    ], swordItem2);
    return swordItem2;
}(cc.Component));
exports.default = swordItem2;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcc3dvcmRJdGVtMi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRiw0Q0FBMkM7QUFDM0MseUNBQW9DO0FBRTlCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXdDLDhCQUFZO0lBQXBEO1FBQUEscUVBa0VDO1FBaEVHLGFBQU8sR0FBUyxLQUFLLENBQUM7UUFDdEIsZ0JBQVUsR0FBUSxFQUFFLENBQUM7UUFDckIsZUFBUyxHQUFRLENBQUMsRUFBRSxDQUFDO1FBQ3JCLGFBQU8sR0FBUSxFQUFFLENBQUM7UUFDbEIsYUFBTyxHQUFRLENBQUMsRUFBRSxDQUFDO1FBQ25CLGVBQVMsR0FBUyxLQUFLLENBQUM7UUFDeEIsWUFBTSxHQUFRLENBQUMsQ0FBQztRQUNoQixZQUFNLEdBQVEsQ0FBQyxDQUFDO1FBQ2hCLFlBQU0sR0FBUSxDQUFDLENBQUM7UUFDaEIsWUFBTSxHQUFRLENBQUMsQ0FBQzs7SUF1RHBCLENBQUM7SUF0REcsMkJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDLE9BQU8sR0FBQyxFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBQyxJQUFJLENBQUMsT0FBTyxHQUFDLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQyxPQUFPLEdBQUMsR0FBRyxDQUFDO1FBQzdCLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDLE9BQU8sR0FBQyxHQUFHLENBQUM7SUFDakMsQ0FBQztJQUNELHlCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsTUFB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R0FrRW5EO2tCQWxFb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCBza2lsbFBvb2wgZnJvbSBcIi4vc2tpbGxQb29sXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc3dvcmRJdGVtMiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBpc1JpZ2h0OmJvb2xlYW49ZmFsc2U7XG4gICAgcmlnaHRBbmdsZTpudW1iZXI9NDg7XG4gICAgbGVmdEFuZ2xlOm51bWJlcj0tNDg7XG4gICAgb2Zmc2V0WDpudW1iZXI9NzQ7XG4gICAgb2Zmc2V0WTpudW1iZXI9LTY3O1xuICAgIGlzRGVzdG9yeTpib29sZWFuPWZhbHNlO1xuICAgIG1vdmV4MTpudW1iZXI9MDtcbiAgICBtb3ZleTE6bnVtYmVyPTA7XG4gICAgbW92ZXgyOm51bWJlcj0wO1xuICAgIG1vdmV5MjpudW1iZXI9MDtcbiAgICBvbkxvYWQgKCkge1xuICAgICAgICB0aGlzLm1vdmV4MT10aGlzLm9mZnNldFgqMTI7XG4gICAgICAgIHRoaXMubW92ZXkxPXRoaXMub2Zmc2V0WSoxMjtcbiAgICAgICAgdGhpcy5tb3ZleDI9dGhpcy5vZmZzZXRYKjAuMTtcbiAgICAgICAgdGhpcy5tb3ZleTI9dGhpcy5vZmZzZXRZKjAuMTtcbiAgICB9XG4gICAgaW5pdCgpe1xuICAgICAgICB0aGlzLm1vdmV4MT10aGlzLmlzUmlnaHQ/TWF0aC5hYnModGhpcy5tb3ZleDEpOi1NYXRoLmFicyh0aGlzLm1vdmV4MSk7XG4gICAgICAgIHRoaXMubW92ZXgyPXRoaXMuaXNSaWdodD9NYXRoLmFicyh0aGlzLm1vdmV4Mik6LU1hdGguYWJzKHRoaXMubW92ZXgyKTtcbiAgICB9XG4gICAgdHdlZW4oKSB7XG4gICAgICAgIC8vY2MudjIoNjcsNzQpO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgdGhpcy5ub2RlLnNjYWxlWD1jYWlqaVRvb2xzLnJhbmRvbV9pbnQoMyw2KS8xMDtcbiAgICAgICAgdGhpcy5ub2RlLnNjYWxlWT10aGlzLm5vZGUuc2NhbGVYKjIwO1xuICAgICAgICB0aGlzLm5vZGUuYW5nbGU9dGhpcy5pc1JpZ2h0P3RoaXMucmlnaHRBbmdsZTp0aGlzLmxlZnRBbmdsZTtcbiAgICAgICAgY2MudHdlZW4odGhpcy5ub2RlKVxuICAgICAgICAuYnkoMC4xLHtwb3NpdGlvbjpjYy52Myh0aGlzLm1vdmV4MSx0aGlzLm1vdmV5MSl9KVxuICAgICAgICAuc3RhcnQoKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlQ29sb3IoKTtcbiAgICAgICAgfSwwLjA1KTtcbiAgICB9XG5cbi8qICAgICBvbkJlZ2luQ29udGFjdCAoY29udGFjdDpjYy5QaHlzaWNzQ29udGFjdCxzZWxmQ29sbGlkZXI6Y2MuUGh5c2ljc0NvbGxpZGVyLG90aGVyQ29sbGlkZXI6Y2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGxldCBvdGhlcj1vdGhlckNvbGxpZGVyLm5vZGU7XG4gICAgICAgIGxldCBwb3M9Y29udGFjdC5nZXRXb3JsZE1hbmlmb2xkKCk7XG4gICAgICAgIGlmIChvdGhlci5ncm91cCA9PSBcImdyb3VuZFwiKSB7XG4gICAgICAgICAgICAvL+iQveWcsFxuICAgICAgICAgICAgaWYodGhpcy5pc0Rlc3RvcnkpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaXNEZXN0b3J5PXRydWU7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZUNvbG9yKCk7XG4gICAgICAgIH1cbiAgICB9ICovXG4gICAgY2hhbmdlQ29sb3IoKXtcbiAgICAgICAgdGhpcy5ub2RlLmNvbG9yPWNjLkNvbG9yLkJMQUNLO1xuICAgICAgICBjYy5Ud2Vlbi5zdG9wQWxsQnlUYXJnZXQodGhpcy5ub2RlKTtcbiAgICAgICAgY2MudHdlZW4odGhpcy5ub2RlKVxuICAgICAgICAucGFyYWxsZWwoXG4gICAgICAgICAgICBjYy50d2VlbigpLmJ5KDAuMDgse29wYWNpdHk6LTI1NX0pLFxuICAgICAgICAgICAgY2MudHdlZW4oKS5ieSgwLjEse3Bvc2l0aW9uOmNjLnYzKHRoaXMubW92ZXgyLHRoaXMubW92ZXkyKX0pXG4gICAgICAgIClcbiAgICAgICAgLmNhbGwoKCk9PntcbiAgICAgICAgICAgIHNraWxsUG9vbC5pbnN0YW5jZS5yZWNvdmVyeVN3b3JkMih0aGlzLm5vZGUpO1xuICAgICAgICB9KVxuICAgICAgICAuc3RhcnQoKTtcbiAgICB9XG4gICAgcmV1c2UoKXtcbiAgICAgICAgdGhpcy5pc0Rlc3Rvcnk9ZmFsc2U7XG4gICAgfVxuICAgIHVudXNlKCl7XG4gICAgICAgIHRoaXMubm9kZS5jb2xvcj1jYy5Db2xvci5XSElURTtcbiAgICAgICAgdGhpcy5ub2RlLm9wYWNpdHk9MjU1O1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/swordSmoke.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ef6c5quedBNi5aAkI6Szgxv', 'swordSmoke');
// scripts/game/swordSmoke.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var skillPool_1 = require("./skillPool");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var swordSmoke = /** @class */ (function (_super) {
    __extends(swordSmoke, _super);
    function swordSmoke() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    swordSmoke.prototype.tween = function () {
        var _this = this;
        var scaleOffset = Math.random() * 0.4;
        this.node.scale = caijiTools_1.caijiTools.random_int(60, 100) / 100;
        cc.tween(this.node)
            .by(0.03, { scale: scaleOffset })
            .by(0.05, { opacity: -255 })
            .call(function () {
            skillPool_1.default.instance.recoverySwordSmoke(_this.node);
        })
            .start();
    };
    swordSmoke.prototype.reuse = function () {
    };
    swordSmoke.prototype.unuse = function () {
        this.node.opacity = 255;
        this.node.active = false;
    };
    swordSmoke = __decorate([
        ccclass
    ], swordSmoke);
    return swordSmoke;
}(cc.Component));
exports.default = swordSmoke;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcc3dvcmRTbW9rZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRiw0Q0FBMkM7QUFDM0MseUNBQW9DO0FBRTlCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXdDLDhCQUFZO0lBQXBEOztJQW9CQSxDQUFDO0lBakJHLDBCQUFLLEdBQUw7UUFBQSxpQkFVQztRQVRHLElBQUksV0FBVyxHQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBQyxHQUFHLENBQUM7UUFDbEMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUMsdUJBQVUsQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFDLEdBQUcsQ0FBQyxHQUFDLEdBQUcsQ0FBQztRQUNsRCxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7YUFDbEIsRUFBRSxDQUFDLElBQUksRUFBQyxFQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsQ0FBQzthQUM1QixFQUFFLENBQUMsSUFBSSxFQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsR0FBRyxFQUFDLENBQUM7YUFDdkIsSUFBSSxDQUFDO1lBQ0YsbUJBQVMsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsS0FBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JELENBQUMsQ0FBQzthQUNELEtBQUssRUFBRSxDQUFDO0lBQ2IsQ0FBQztJQUNELDBCQUFLLEdBQUw7SUFDQSxDQUFDO0lBQ0QsMEJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFDLEdBQUcsQ0FBQztRQUN0QixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBQyxLQUFLLENBQUM7SUFDM0IsQ0FBQztJQW5CZ0IsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQW9COUI7SUFBRCxpQkFBQztDQXBCRCxBQW9CQyxDQXBCdUMsRUFBRSxDQUFDLFNBQVMsR0FvQm5EO2tCQXBCb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCBza2lsbFBvb2wgZnJvbSBcIi4vc2tpbGxQb29sXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc3dvcmRTbW9rZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cblxuICAgIHR3ZWVuKCl7XG4gICAgICAgIGxldCBzY2FsZU9mZnNldD1NYXRoLnJhbmRvbSgpKjAuNDtcbiAgICAgICAgdGhpcy5ub2RlLnNjYWxlPWNhaWppVG9vbHMucmFuZG9tX2ludCg2MCwxMDApLzEwMDtcbiAgICAgICAgY2MudHdlZW4odGhpcy5ub2RlKVxuICAgICAgICAuYnkoMC4wMyx7c2NhbGU6c2NhbGVPZmZzZXR9KVxuICAgICAgICAuYnkoMC4wNSx7b3BhY2l0eTotMjU1fSlcbiAgICAgICAgLmNhbGwoKCk9PntcbiAgICAgICAgICAgIHNraWxsUG9vbC5pbnN0YW5jZS5yZWNvdmVyeVN3b3JkU21va2UodGhpcy5ub2RlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXJ0KCk7XG4gICAgfVxuICAgIHJldXNlKCl7XG4gICAgfVxuICAgIHVudXNlKCl7XG4gICAgICAgIHRoaXMubm9kZS5vcGFjaXR5PTI1NTtcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZT1mYWxzZTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/swordRain.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e9412Qt87xH/J1fRyb224Iq', 'swordRain');
// scripts/game/swordRain.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("../caijiTools");
var rock_1 = require("./rock");
var skillPool_1 = require("./skillPool");
var swordItem_1 = require("./swordItem");
var swordItem2_1 = require("./swordItem2");
var swordSmoke_1 = require("./swordSmoke");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var swordRain = /** @class */ (function (_super) {
    __extends(swordRain, _super);
    function swordRain() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isRight = false; //朝右
        _this.offsetForward_x1 = 400; //技能方向正偏移
        _this.offsetReverse_x1 = 1500; //技能方向反偏移
        _this.offsetForward_x2 = 500; //技能方向正偏移
        _this.offsetReverse_x2 = 1600; //技能方向反偏移
        _this.duration = 1.8;
        _this.smokeX_min = 0;
        _this.smokeX_max = 0;
        return _this;
    }
    swordRain.prototype.start = function () {
        var _this = this;
        if (this.isRight) {
            this.smokeX_min = 250;
            this.smokeX_max = 580;
        }
        else {
            this.smokeX_max = -250;
            this.smokeX_min = -580;
        }
        if (this.isRight) {
            this.node.children[0].active = true;
        }
        else {
            this.node.children[1].active = true;
        }
        this.schedule(this.createSword, 0.06);
        this.scheduleOnce(function () {
            _this.schedule(_this.createSword2, 0.04);
            _this.schedule(_this.createSmoke, 0.06);
        }, 0.3);
        this.scheduleOnce(function () {
            _this.destory();
        }, this.duration);
    };
    swordRain.prototype.destory = function () {
        var _this = this;
        this.unscheduleAllCallbacks();
        cc.tween(this.node)
            .to(0.2, { opacity: 0 })
            .call(function () {
            _this.node.children[0].active = false;
            _this.node.children[1].active = false;
            _this.scheduleOnce(function () {
                _this.node.destroy();
            }, 1);
        })
            .start();
    };
    swordRain.prototype.createSword = function () {
        for (var i = 0; i < 2; i++) {
            var sword = skillPool_1.default.instance.getSword1();
            sword.setParent(this.node);
            sword.setPosition(this.getRandomX_sword1() / 10, caijiTools_1.caijiTools.random_int(-500, 1100) / 10);
            sword.active = true;
            sword.getComponent(swordItem_1.default).isRight = this.isRight;
            sword.getComponent(swordItem_1.default).tween();
        }
    };
    swordRain.prototype.createSword2 = function () {
        for (var i = 0; i < 3; i++) {
            var sword2 = skillPool_1.default.instance.getSword2();
            sword2.setParent(this.node);
            sword2.setSiblingIndex(cc.macro.MIN_ZINDEX);
            sword2.setPosition(this.getRandomX_sword2() / 10, caijiTools_1.caijiTools.random_int(-700, 1300) / 10);
            sword2.active = true;
            sword2.getComponent(swordItem2_1.default).isRight = this.isRight;
            sword2.getComponent(swordItem2_1.default).tween();
        }
    };
    swordRain.prototype.getRandomX_sword1 = function () {
        if (this.isRight) {
            return caijiTools_1.caijiTools.random_int(-this.offsetReverse_x1, this.offsetForward_x1);
        }
        else {
            return caijiTools_1.caijiTools.random_int(-this.offsetForward_x1, this.offsetReverse_x1);
        }
    };
    swordRain.prototype.getRandomX_sword2 = function () {
        if (this.isRight) {
            return caijiTools_1.caijiTools.random_int(-this.offsetReverse_x2, this.offsetForward_x2);
        }
        else {
            return caijiTools_1.caijiTools.random_int(-this.offsetForward_x2, this.offsetReverse_x2);
        }
    };
    swordRain.prototype.createSmoke = function () {
        var smoke = skillPool_1.default.instance.getSwordSmoke();
        var nodePos = cc.v2(0, 0);
        nodePos.x = caijiTools_1.caijiTools.random_int(this.smokeX_min, this.smokeX_max);
        nodePos.y = caijiTools_1.caijiTools.random_int(-370, -420);
        smoke.setParent(this.node);
        smoke.setPosition(nodePos);
        smoke.getComponent(swordSmoke_1.default).tween();
        smoke.active = true;
        this.createRock(nodePos);
    };
    swordRain.prototype.createRock = function (pos) {
        var rockNode = skillPool_1.default.instance.getRock();
        rockNode.setParent(this.node);
        rockNode.setPosition(pos);
        rockNode.getComponent(rock_1.default).tween();
        rockNode.active = true;
    };
    swordRain = __decorate([
        ccclass
    ], swordRain);
    return swordRain;
}(cc.Component));
exports.default = swordRain;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcc3dvcmRSYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLDRDQUEyQztBQUMzQywrQkFBMEI7QUFDMUIseUNBQW9DO0FBQ3BDLHlDQUFvQztBQUNwQywyQ0FBc0M7QUFDdEMsMkNBQXNDO0FBRWhDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXVDLDZCQUFZO0lBQW5EO1FBQUEscUVBbUdDO1FBakdHLGFBQU8sR0FBUyxLQUFLLENBQUMsQ0FBQSxJQUFJO1FBQzFCLHNCQUFnQixHQUFRLEdBQUcsQ0FBQyxDQUFBLFNBQVM7UUFDckMsc0JBQWdCLEdBQVEsSUFBSSxDQUFDLENBQUEsU0FBUztRQUN0QyxzQkFBZ0IsR0FBUSxHQUFHLENBQUMsQ0FBQSxTQUFTO1FBQ3JDLHNCQUFnQixHQUFRLElBQUksQ0FBQyxDQUFBLFNBQVM7UUFDdEMsY0FBUSxHQUFRLEdBQUcsQ0FBQztRQUVwQixnQkFBVSxHQUFRLENBQUMsQ0FBQztRQUNwQixnQkFBVSxHQUFRLENBQUMsQ0FBQzs7SUF5RnhCLENBQUM7SUF4RkcseUJBQUssR0FBTDtRQUFBLGlCQXFCQztRQXBCRyxJQUFHLElBQUksQ0FBQyxPQUFPLEVBQUM7WUFDWixJQUFJLENBQUMsVUFBVSxHQUFDLEdBQUcsQ0FBQztZQUNwQixJQUFJLENBQUMsVUFBVSxHQUFDLEdBQUcsQ0FBQztTQUN2QjthQUFJO1lBQ0QsSUFBSSxDQUFDLFVBQVUsR0FBQyxDQUFDLEdBQUcsQ0FBQztZQUNyQixJQUFJLENBQUMsVUFBVSxHQUFDLENBQUMsR0FBRyxDQUFDO1NBQ3hCO1FBQ0QsSUFB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QUMsR0FBQyx1QkFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNqRSxPQUFPLENBQUMsQ0FBQyxHQUFDLHVCQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxFQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDM0MsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDM0IsS0FBSyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMzQixLQUFLLENBQUMsWUFBWSxDQUFDLG9CQUFVLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN2QyxLQUFLLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFDRCw4QkFBVSxHQUFWLFVBQVcsR0FBVztRQUNsQixJQUFJLFFBQVEsR0FBQyxtQkFBUyxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUMxQyxRQUFRLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QixRQUFRLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFCLFFBQVEsQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDcEMsUUFBUSxDQUFDLE1BQU0sR0FBQyxJQUFJLENBQUM7SUFDekIsQ0FBQztJQWxHZ0IsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQW1HN0I7SUFBRCxnQkFBQztDQW5HRCxBQW1HQyxDQW5Hc0MsRUFBRSxDQUFDLFNBQVMsR0FtR2xEO2tCQW5Hb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCByb2NrIGZyb20gXCIuL3JvY2tcIjtcbmltcG9ydCBza2lsbFBvb2wgZnJvbSBcIi4vc2tpbGxQb29sXCI7XG5pbXBvcnQgc3dvcmRJdGVtIGZyb20gXCIuL3N3b3JkSXRlbVwiO1xuaW1wb3J0IHN3b3JkSXRlbTIgZnJvbSBcIi4vc3dvcmRJdGVtMlwiO1xuaW1wb3J0IHN3b3JkU21va2UgZnJvbSBcIi4vc3dvcmRTbW9rZVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHN3b3JkUmFpbiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBpc1JpZ2h0OmJvb2xlYW49ZmFsc2U7Ly/mnJ3lj7NcbiAgICBvZmZzZXRGb3J3YXJkX3gxOm51bWJlcj00MDA7Ly/mioDog73mlrnlkJHmraPlgY/np7tcbiAgICBvZmZzZXRSZXZlcnNlX3gxOm51bWJlcj0xNTAwOy8v5oqA6IO95pa55ZCR5Y+N5YGP56e7XG4gICAgb2Zmc2V0Rm9yd2FyZF94MjpudW1iZXI9NTAwOy8v5oqA6IO95pa55ZCR5q2j5YGP56e7XG4gICAgb2Zmc2V0UmV2ZXJzZV94MjpudW1iZXI9MTYwMDsvL+aKgOiDveaWueWQkeWPjeWBj+enu1xuICAgIGR1cmF0aW9uOm51bWJlcj0xLjg7XG5cbiAgICBzbW9rZVhfbWluOm51bWJlcj0wO1xuICAgIHNtb2tlWF9tYXg6bnVtYmVyPTA7XG4gICAgc3RhcnQgKCkge1xuICAgICAgICBpZih0aGlzLmlzUmlnaHQpe1xuICAgICAgICAgICAgdGhpcy5zbW9rZVhfbWluPTI1MDtcbiAgICAgICAgICAgIHRoaXMuc21va2VYX21heD01ODA7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5zbW9rZVhfbWF4PS0yNTA7XG4gICAgICAgICAgICB0aGlzLnNtb2tlWF9taW49LTU4MDtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmlzUmlnaHQpe1xuICAgICAgICAgICAgdGhpcy5ub2RlLmNoaWxkcmVuWzBdLmFjdGl2ZT10cnVlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMubm9kZS5jaGlsZHJlblsxXS5hY3RpdmU9dHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlKHRoaXMuY3JlYXRlU3dvcmQsMC4wNik7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlKHRoaXMuY3JlYXRlU3dvcmQyLDAuMDQpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSh0aGlzLmNyZWF0ZVNtb2tlLDAuMDYpO1xuICAgICAgICB9LDAuMyk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLmRlc3RvcnkoKTtcbiAgICAgICAgfSx0aGlzLmR1cmF0aW9uKTtcbiAgICB9XG4gICAgZGVzdG9yeSgpe1xuICAgICAgICB0aGlzLnVuc2NoZWR1bGVBbGxDYWxsYmFja3MoKTtcbiAgICAgICAgY2MudHdlZW4odGhpcy5ub2RlKVxuICAgICAgICAudG8oMC4yLHtvcGFjaXR5OjB9KVxuICAgICAgICAuY2FsbCgoKT0+e1xuICAgICAgICAgICAgdGhpcy5ub2RlLmNoaWxkcmVuWzBdLmFjdGl2ZT1mYWxzZTtcbiAgICAgICAgICAgIHRoaXMubm9kZS5jaGlsZHJlblsxXS5hY3RpdmU9ZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9LDEpO1xuICAgICAgICB9KVxuICAgICAgICAuc3RhcnQoKTtcbiAgICB9XG4gICAgY3JlYXRlU3dvcmQoKXtcbiAgICAgICAgZm9yKGxldCBpPTA7aTwyO2krKyl7XG4gICAgICAgICAgICBsZXQgc3dvcmQ9c2tpbGxQb29sLmluc3RhbmNlLmdldFN3b3JkMSgpO1xuICAgICAgICAgICAgc3dvcmQuc2V0UGFyZW50KHRoaXMubm9kZSk7XG4gICAgICAgICAgICBzd29yZC5zZXRQb3NpdGlvbih0aGlzLmdldFJhbmRvbVhfc3dvcmQxKCkvMTAsY2FpamlUb29scy5yYW5kb21faW50KC01MDAsMTEwMCkvMTApO1xuICAgICAgICAgICAgc3dvcmQuYWN0aXZlPXRydWU7XG4gICAgICAgICAgICBzd29yZC5nZXRDb21wb25lbnQoc3dvcmRJdGVtKS5pc1JpZ2h0PXRoaXMuaXNSaWdodDtcbiAgICAgICAgICAgIHN3b3JkLmdldENvbXBvbmVudChzd29yZEl0ZW0pLnR3ZWVuKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlU3dvcmQyKCl7XG4gICAgICAgIGZvcihsZXQgaT0wO2k8MztpKyspe1xuICAgICAgICAgICAgbGV0IHN3b3JkMj1za2lsbFBvb2wuaW5zdGFuY2UuZ2V0U3dvcmQyKCk7XG4gICAgICAgICAgICBzd29yZDIuc2V0UGFyZW50KHRoaXMubm9kZSk7XG4gICAgICAgICAgICBzd29yZDIuc2V0U2libGluZ0luZGV4KGNjLm1hY3JvLk1JTl9aSU5ERVgpO1xuICAgICAgICAgICAgc3dvcmQyLnNldFBvc2l0aW9uKHRoaXMuZ2V0UmFuZG9tWF9zd29yZDIoKS8xMCxjYWlqaVRvb2xzLnJhbmRvbV9pbnQoLTcwMCwxMzAwKS8xMCk7XG4gICAgICAgICAgICBzd29yZDIuYWN0aXZlPXRydWU7XG4gICAgICAgICAgICBzd29yZDIuZ2V0Q29tcG9uZW50KHN3b3JkSXRlbTIpLmlzUmlnaHQ9dGhpcy5pc1JpZ2h0O1xuICAgICAgICAgICAgc3dvcmQyLmdldENvbXBvbmVudChzd29yZEl0ZW0yKS50d2VlbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFJhbmRvbVhfc3dvcmQxKCl7XG4gICAgICAgIGlmKHRoaXMuaXNSaWdodCl7XG4gICAgICAgICAgICByZXR1cm4gY2FpamlUb29scy5yYW5kb21faW50KC10aGlzLm9mZnNldFJldmVyc2VfeDEsdGhpcy5vZmZzZXRGb3J3YXJkX3gxKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gY2FpamlUb29scy5yYW5kb21faW50KC10aGlzLm9mZnNldEZvcndhcmRfeDEsdGhpcy5vZmZzZXRSZXZlcnNlX3gxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRSYW5kb21YX3N3b3JkMigpe1xuICAgICAgICBpZih0aGlzLmlzUmlnaHQpe1xuICAgICAgICAgICAgcmV0dXJuIGNhaWppVG9vbHMucmFuZG9tX2ludCgtdGhpcy5vZmZzZXRSZXZlcnNlX3gyLHRoaXMub2Zmc2V0Rm9yd2FyZF94Mik7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGNhaWppVG9vbHMucmFuZG9tX2ludCgtdGhpcy5vZmZzZXRGb3J3YXJkX3gyLHRoaXMub2Zmc2V0UmV2ZXJzZV94Mik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlU21va2UoKXtcbiAgICAgICAgbGV0IHNtb2tlPXNraWxsUG9vbC5pbnN0YW5jZS5nZXRTd29yZFNtb2tlKCk7XG4gICAgICAgIGxldCBub2RlUG9zPWNjLnYyKDAsMCk7XG4gICAgICAgIG5vZGVQb3MueD1jYWlqaVRvb2xzLnJhbmRvbV9pbnQodGhpcy5zbW9rZVhfbWluLHRoaXMuc21va2VYX21heCk7XG4gICAgICAgIG5vZGVQb3MueT1jYWlqaVRvb2xzLnJhbmRvbV9pbnQoLTM3MCwtNDIwKTtcbiAgICAgICAgc21va2Uuc2V0UGFyZW50KHRoaXMubm9kZSk7XG4gICAgICAgIHNtb2tlLnNldFBvc2l0aW9uKG5vZGVQb3MpO1xuICAgICAgICBzbW9rZS5nZXRDb21wb25lbnQoc3dvcmRTbW9rZSkudHdlZW4oKTtcbiAgICAgICAgc21va2UuYWN0aXZlPXRydWU7XG4gICAgICAgIHRoaXMuY3JlYXRlUm9jayhub2RlUG9zKTtcbiAgICB9XG4gICAgY3JlYXRlUm9jayhwb3M6Y2MuVmVjMil7XG4gICAgICAgIGxldCByb2NrTm9kZT1za2lsbFBvb2wuaW5zdGFuY2UuZ2V0Um9jaygpO1xuICAgICAgICByb2NrTm9kZS5zZXRQYXJlbnQodGhpcy5ub2RlKTtcbiAgICAgICAgcm9ja05vZGUuc2V0UG9zaXRpb24ocG9zKTtcbiAgICAgICAgcm9ja05vZGUuZ2V0Q29tcG9uZW50KHJvY2spLnR3ZWVuKCk7XG4gICAgICAgIHJvY2tOb2RlLmFjdGl2ZT10cnVlO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/spawnEnemy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '87ccekukBxPV5AgIQeF5bYY', 'spawnEnemy');
// scripts/game/spawnEnemy.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var audioManager_1 = require("../main/audioManager");
var Events_1 = require("./Events");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var spawnEnemy = /** @class */ (function (_super) {
    __extends(spawnEnemy, _super);
    function spawnEnemy() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.animation = null;
        _this.spawnEnemyName = "enemy1";
        _this.enemyHp = 0;
        _this.isSpawn = false;
        return _this;
    }
    spawnEnemy.prototype.onLoad = function () {
        this.animation = this.node.getComponent(cc.Animation);
    };
    spawnEnemy.prototype.start = function () {
        var _this = this;
        if (this.spawnEnemyName == "enemy10") {
            this.animation.node.scale = 2;
        }
        if (["enemy39", "miniBoss", "ladyBug", "bigSquid", "spiderling"].includes(this.spawnEnemyName)) {
            this.animation.node.scale = 0;
        }
        this.animation.on("finished", function () {
            _this.node.destroy();
        });
        this.animation.getClips()[0].events.push({
            frame: 0.14,
            func: "spawnEnemy",
            params: [""]
        });
        this.animation.play();
    };
    spawnEnemy.prototype.spawnEnemy = function () {
        if (this.isSpawn)
            return;
        this.isSpawn = true;
        Events_1.default.instance.spawnEnemy(this.spawnEnemyName, this.node.parent, cc.v2(this.node.position));
        if (this.animation.node.scale > 0) {
            audioManager_1.default.playAudio(audioNameMgr_1.audioName.CreepSpawn);
        }
    };
    spawnEnemy = __decorate([
        ccclass
    ], spawnEnemy);
    return spawnEnemy;
}(cc.Component));
exports.default = spawnEnemy;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcc3Bhd25FbmVteS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRixnREFBNEM7QUFDNUMscURBQWdEO0FBQ2hELG1DQUE4QjtBQUV4QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF3Qyw4QkFBWTtJQUFwRDtRQUFBLHFFQW9DQztRQWxDRyxlQUFTLEdBQWMsSUFBSSxDQUFDO1FBQzVCLG9CQUFjLEdBQVEsUUFBUSxDQUFDO1FBQy9CLGFBQU8sR0FBUSxDQUFDLENBQUM7UUFDakIsYUFBTyxHQUFTLEtBQUssQ0FBQzs7SUErQjFCLENBQUM7SUE3QkcsMkJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFRCwwQkFBSyxHQUFMO1FBQUEsaUJBZ0JDO1FBZkcsSUFBRyxJQUFJLENBQUMsY0FBYyxJQUFFLFNBQVMsRUFBQztZQUM5QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUMsQ0FBQyxDQUFDO1NBQy9CO1FBQ0QsSUFBRyxDQUFDLFNBQVMsRUFBQyxVQUFVLEVBQUMsU0FBUyxFQUFDLFVBQVUsRUFBQyxZQUFZLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFDO1lBQ3RGLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUM7U0FDL0I7UUFDRCxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUM7WUFDekIsS0FBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN4QixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztZQUNyQyxLQUFLLEVBQUMsSUFBSTtZQUNWLElBQUksRUFBQyxZQUFZO1lBQ2pCLE1BQU0sRUFBQyxDQUFDLEVBQUUsQ0FBQztTQUNkLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDMUIsQ0FBQztJQUNELCtCQUFVLEdBQVY7UUFDSSxJQUFHLElBQUksQ0FBQyxPQUFPO1lBQUUsT0FBTztRQUN4QixJQUFJLENBQUMsT0FBTyxHQUFDLElBQUksQ0FBQztRQUNsQixnQkFBTSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUMzRixJQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUM7WUFDM0Isc0JBQVksQ0FBQyxTQUFTLENBQUMsd0JBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUNoRDtJQUNMLENBQUM7SUFuQ2dCLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0FvQzlCO0lBQUQsaUJBQUM7Q0FwQ0QsQUFvQ0MsQ0FwQ3VDLEVBQUUsQ0FBQyxTQUFTLEdBb0NuRDtrQkFwQ29CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi4vbWFpbi9hdWRpb01hbmFnZXJcIjtcbmltcG9ydCBFdmVudHMgZnJvbSBcIi4vRXZlbnRzXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc3Bhd25FbmVteSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBhbmltYXRpb246Y2MuQW5pbWF0aW9uPW51bGw7XG4gICAgc3Bhd25FbmVteU5hbWU6c3RyaW5nPVwiZW5lbXkxXCI7XG4gICAgZW5lbXlIcDpudW1iZXI9MDtcbiAgICBpc1NwYXduOmJvb2xlYW49ZmFsc2U7XG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbj10aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbik7XG4gICAgfVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICBpZih0aGlzLnNwYXduRW5lbXlOYW1lPT1cImVuZW15MTBcIil7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5ub2RlLnNjYWxlPTI7XG4gICAgICAgIH1cbiAgICAgICAgaWYoW1wiZW5lbXkzOVwiLFwibWluaUJvc3NcIixcImxhZHlCdWdcIixcImJpZ1NxdWlkXCIsXCJzcGlkZXJsaW5nXCJdLmluY2x1ZGVzKHRoaXMuc3Bhd25FbmVteU5hbWUpKXtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLm5vZGUuc2NhbGU9MDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5vbihcImZpbmlzaGVkXCIsKCk9PntcbiAgICAgICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbi5nZXRDbGlwcygpWzBdLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIGZyYW1lOjAuMTQsXG4gICAgICAgICAgICBmdW5jOlwic3Bhd25FbmVteVwiLFxuICAgICAgICAgICAgcGFyYW1zOltcIlwiXVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hbmltYXRpb24ucGxheSgpO1xuICAgIH1cbiAgICBzcGF3bkVuZW15KCl7XG4gICAgICAgIGlmKHRoaXMuaXNTcGF3bikgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzU3Bhd249dHJ1ZTtcbiAgICAgICAgRXZlbnRzLmluc3RhbmNlLnNwYXduRW5lbXkodGhpcy5zcGF3bkVuZW15TmFtZSx0aGlzLm5vZGUucGFyZW50LGNjLnYyKHRoaXMubm9kZS5wb3NpdGlvbikpO1xuICAgICAgICBpZih0aGlzLmFuaW1hdGlvbi5ub2RlLnNjYWxlPjApe1xuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuQ3JlZXBTcGF3bik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/thunder_burstParent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ad476I6etJEKIa5lvs53N9f', 'thunder_burstParent');
// scripts/game/thunder_burstParent.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var audioManager_1 = require("../main/audioManager");
var skillPool_1 = require("./skillPool");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var thunder_burstParent = /** @class */ (function (_super) {
    __extends(thunder_burstParent, _super);
    function thunder_burstParent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.thunderBallPrefab = null;
        _this.speed = 500;
        _this.numer = 0;
        _this.wave = 0;
        _this.direction = [
            cc.v2(-0.31, 0.95), cc.v2(-0.81, 0.59), cc.v2(-1.00, 0.00),
            cc.v2(1.00, -0.00), cc.v2(0.81, 0.59), cc.v2(0.31, 0.95),
        ];
        return _this;
    }
    /*     direction:Array<cc.Vec2>=[
            cc.v2(-0.31, 0.95),cc.v2(-0.81, 0.59),cc.v2(-1.00, 0.00),cc.v2(-0.81, -0.59),cc.v2(-0.31, -0.95),
            cc.v2(0.31, -0.95),cc.v2(0.81, -0.59),cc.v2(1.00, -0.00),cc.v2(0.81, 0.59),cc.v2(0.31, 0.95),
        ]; */
    // onLoad () {}
    thunder_burstParent.prototype.start = function () {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E27StormBurst);
        this.createThunderBallRound();
        this.scheduleOnce(function () {
            _this.node.destroy();
        }, 10);
    };
    thunder_burstParent.prototype.createThunderBallRound = function () {
        var _this = this;
        this.wave++;
        for (var i = 0; i < 6; i++) {
            this.getThunderBall();
        }
        this.speed *= (0.7 - this.wave / 10);
        if (this.wave < 3) {
            this.scheduleOnce(function () {
                _this.createThunderBallRound();
            }, 0.2);
        }
    };
    thunder_burstParent.prototype.getThunderBall = function () {
        var ball = skillPool_1.default.instance.getThunderBall();
        ball.setParent(this.node);
        ball.setPosition(0, 0);
        ball.setSiblingIndex(1);
        ball.active = true;
        var index = this.numer % 6;
        ball.getComponent(cc.RigidBody).linearVelocity =
            cc.v2(this.direction[index].x * this.speed, this.direction[index].y * this.speed);
        this.numer++;
    };
    __decorate([
        property(cc.Prefab)
    ], thunder_burstParent.prototype, "thunderBallPrefab", void 0);
    thunder_burstParent = __decorate([
        ccclass
    ], thunder_burstParent);
    return thunder_burstParent;
}(cc.Component));
exports.default = thunder_burstParent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdGh1bmRlcl9idXJzdFBhcmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRixnREFBNEM7QUFFNUMscURBQWdEO0FBQ2hELHlDQUFvQztBQUU5QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFpRCx1Q0FBWTtJQUE3RDtRQUFBLHFFQWlEQztRQTlDRyx1QkFBaUIsR0FBVyxJQUFJLENBQUM7UUFHakMsV0FBSyxHQUFRLEdBQUcsQ0FBQztRQUNqQixXQUFLLEdBQVEsQ0FBQyxDQUFDO1FBQ2YsVUFBSSxHQUFRLENBQUMsQ0FBQztRQUNkLGVBQVMsR0FBZ0I7WUFDckIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDO1lBQ3hELEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDO1NBQ3pELENBQUM7O0lBcUNOLENBQUM7SUFwQ0Q7OzthQUdTO0lBQ0wsZUFBZTtJQUVmLG1DQUFLLEdBQUw7UUFBQSxpQkFNQztRQUxHLHNCQUFZLENBQUMsU0FBUyxDQUFDLHdCQUFTLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNkLEtBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDeEIsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ1YsQ0FBQztJQUNELG9EQUFzQixHQUF0QjtRQUFBLGlCQVdDO1FBVkcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ1osS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBQztZQUNoQixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7U0FDekI7UUFDRCxJQUFJLENBQUMsS0FBSyxJQUFFLENBQUMsR0FBRyxHQUFDLElBQUksQ0FBQyxJQUFJLEdBQUMsRUFBRSxDQUFDLENBQUM7UUFDL0IsSUFBRyxJQUFJLENBQUMsSUFBSSxHQUFDLENBQUMsRUFBQztZQUNYLElBQUksQ0FBQyxZQUFZLENBQUM7Z0JBQ2QsS0FBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7WUFDbEMsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ1Y7SUFDTCxDQUFDO0lBQ0QsNENBQWMsR0FBZDtRQUNJLElBQUksSUFBSSxHQUFDLG1CQUFTLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQzdDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLE1BQU0sR0FBQyxJQUFJLENBQUM7UUFDakIsSUFBSSxLQUFLLEdBQUMsSUFBSSxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsY0FBYztZQUM5QyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBN0NEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7a0VBQ2E7SUFIaEIsbUJBQW1CO1FBRHZDLE9BQU87T0FDYSxtQkFBbUIsQ0FpRHZDO0lBQUQsMEJBQUM7Q0FqREQsQUFpREMsQ0FqRGdELEVBQUUsQ0FBQyxTQUFTLEdBaUQ1RDtrQkFqRG9CLG1CQUFtQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBhdWRpb05hbWUgfSBmcm9tIFwiLi4vYXVkaW9OYW1lTWdyXCI7XG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCBhdWRpb01hbmFnZXIgZnJvbSBcIi4uL21haW4vYXVkaW9NYW5hZ2VyXCI7XG5pbXBvcnQgc2tpbGxQb29sIGZyb20gXCIuL3NraWxsUG9vbFwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHRodW5kZXJfYnVyc3RQYXJlbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcbiAgICB0aHVuZGVyQmFsbFByZWZhYjpjYy5QcmVmYWI9bnVsbDtcblxuXG4gICAgc3BlZWQ6bnVtYmVyPTUwMDtcbiAgICBudW1lcjpudW1iZXI9MDtcbiAgICB3YXZlOm51bWJlcj0wO1xuICAgIGRpcmVjdGlvbjpBcnJheTxjYy5WZWMyPj1bXG4gICAgICAgIGNjLnYyKC0wLjMxLCAwLjk1KSxjYy52MigtMC44MSwgMC41OSksY2MudjIoLTEuMDAsIDAuMDApLFxuICAgICAgICBjYy52MigxLjAwLCAtMC4wMCksY2MudjIoMC44MSwgMC41OSksY2MudjIoMC4zMSwgMC45NSksXG4gICAgXTtcbi8qICAgICBkaXJlY3Rpb246QXJyYXk8Y2MuVmVjMj49W1xuICAgICAgICBjYy52MigtMC4zMSwgMC45NSksY2MudjIoLTAuODEsIDAuNTkpLGNjLnYyKC0xLjAwLCAwLjAwKSxjYy52MigtMC44MSwgLTAuNTkpLGNjLnYyKC0wLjMxLCAtMC45NSksXG4gICAgICAgIGNjLnYyKDAuMzEsIC0wLjk1KSxjYy52MigwLjgxLCAtMC41OSksY2MudjIoMS4wMCwgLTAuMDApLGNjLnYyKDAuODEsIDAuNTkpLGNjLnYyKDAuMzEsIDAuOTUpLFxuICAgIF07ICovXG4gICAgLy8gb25Mb2FkICgpIHt9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUyN1N0b3JtQnVyc3QpO1xuICAgICAgICB0aGlzLmNyZWF0ZVRodW5kZXJCYWxsUm91bmQoKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XG4gICAgICAgIH0sMTApO1xuICAgIH1cbiAgICBjcmVhdGVUaHVuZGVyQmFsbFJvdW5kKCl7XG4gICAgICAgIHRoaXMud2F2ZSsrO1xuICAgICAgICBmb3IobGV0IGk9MDtpPDY7aSsrKXtcbiAgICAgICAgICAgIHRoaXMuZ2V0VGh1bmRlckJhbGwoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwZWVkKj0oMC43LXRoaXMud2F2ZS8xMCk7XG4gICAgICAgIGlmKHRoaXMud2F2ZTwzKXtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUaHVuZGVyQmFsbFJvdW5kKCk7XG4gICAgICAgICAgICB9LDAuMik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0VGh1bmRlckJhbGwoKXtcbiAgICAgICAgbGV0IGJhbGw9c2tpbGxQb29sLmluc3RhbmNlLmdldFRodW5kZXJCYWxsKCk7XG4gICAgICAgIGJhbGwuc2V0UGFyZW50KHRoaXMubm9kZSk7XG4gICAgICAgIGJhbGwuc2V0UG9zaXRpb24oMCwwKTtcbiAgICAgICAgYmFsbC5zZXRTaWJsaW5nSW5kZXgoMSk7XG4gICAgICAgIGJhbGwuYWN0aXZlPXRydWU7XG4gICAgICAgIGxldCBpbmRleD10aGlzLm51bWVyJTY7XG4gICAgICAgIGJhbGwuZ2V0Q29tcG9uZW50KGNjLlJpZ2lkQm9keSkubGluZWFyVmVsb2NpdHk9XG4gICAgICAgIGNjLnYyKHRoaXMuZGlyZWN0aW9uW2luZGV4XS54KnRoaXMuc3BlZWQsdGhpcy5kaXJlY3Rpb25baW5kZXhdLnkqdGhpcy5zcGVlZCk7XG4gICAgICAgIHRoaXMubnVtZXIrKztcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/thunderBall_burst.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fcfdf+RAZlMtb/K+BZalTIM', 'thunderBall_burst');
// scripts/game/thunderBall_burst.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var data_1 = require("../sdk/data");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var skillPool_1 = require("./skillPool");
var bossHp_1 = require("./ui/bossHp");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var thunderBall_burst = /** @class */ (function (_super) {
    __extends(thunderBall_burst, _super);
    function thunderBall_burst() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.damage = 0;
        _this.player = null;
        return _this;
    }
    thunderBall_burst.prototype.onLoad = function () {
        var level = Number(data_1.data.getCache("Base", "choseLevel"));
        var diff = Number(data_1.data.getCache("levelStar", level.toString()));
        var times = Number(data_1.data.gameJson("enemyDamageTimes", diff.toString()));
        this.damage = Number(data_1.data.gameJson("enemyData", bossHp_1.bossName.miniBoss, enemyBase_1.enemyAttribute.damage)) * times;
    };
    thunderBall_burst.prototype.onEnable = function () {
        var _this = this;
        this.scheduleOnce(function () {
            if (_this.player != null) {
                ;
                _this.node.getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
            }
            _this.scheduleOnce(function () {
                skillPool_1.default.instance.recoveryThunderball(_this.node);
            }, 1);
        }, 3.05);
    };
    thunderBall_burst.prototype.onCollisionEnter = function (other, self) {
        if (other.node.group == "player") {
            this.player = other.node;
        }
    };
    thunderBall_burst.prototype.onCollisionExit = function (other, self) {
        if (other.node.group == "player") {
            this.player = null;
        }
    };
    thunderBall_burst.prototype.reuse = function () {
    };
    thunderBall_burst.prototype.unuse = function () {
        this.node.active = false;
    };
    thunderBall_burst = __decorate([
        ccclass
    ], thunderBall_burst);
    return thunderBall_burst;
}(cc.Component));
exports.default = thunderBall_burst;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdGh1bmRlckJhbGxfYnVyc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJbEYsb0NBQW1DO0FBQ25DLHlDQUE2QztBQUM3Qyx1REFBa0Q7QUFDbEQseUNBQW9DO0FBQ3BDLHNDQUF1QztBQUVqQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUErQyxxQ0FBWTtJQUEzRDtRQUFBLHFFQXFDQztRQW5DRyxZQUFNLEdBQVEsQ0FBQyxDQUFDO1FBQ2hCLFlBQU0sR0FBUyxJQUFJLENBQUM7O0lBa0N4QixDQUFDO0lBaENHLGtDQUFNLEdBQU47UUFDSSxJQUFJLEtBQUssR0FBQyxNQUFNLENBQUMsV0FBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztRQUNyRCxJQUFJLElBQUksR0FBQyxNQUFNLENBQUMsV0FBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM3RCxJQUFJLEtBQUssR0FBQyxNQUFNLENBQUMsV0FBSSxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsRUFBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQ25FLElBQUksQ0FBQyxNQUFNLEdBQUMsTUFBTSxDQUFDLFdBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFDLGlCQUFRLENBQUMsUUFBUSxFQUFDLDBCQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBQyxLQUFLLENBQUM7SUFDakcsQ0FBQztJQUVELG9DQUFRLEdBQVI7UUFBQSxpQkFTQztRQVJHLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxJQUFHLEtBQUksQ0FBQyxNQUFNLElBQUUsSUFBSSxFQUFDO2dCQUFDLENBQUM7Z0JBQ25CLEtBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUksQ0FBQyxJQUFJLEVBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ3ZFO1lBQ0QsS0FBSSxDQUFDLFlBQVksQ0FBQztnQkFDZCxtQkFBUyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdEQsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1QsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQ1osQ0FBQztJQUNELDRDQUFnQixHQUFoQixVQUFpQixLQUFpQixFQUFDLElBQWdCO1FBQy9DLElBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUUsUUFBUSxFQUFDO1lBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztTQUMxQjtJQUNMLENBQUM7SUFDRCwyQ0FBZSxHQUFmLFVBQWdCLEtBQWlCLEVBQUMsSUFBZ0I7UUFDOUMsSUFBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBRSxRQUFRLEVBQUM7WUFDMUIsSUFBSSxDQUFDLE1BQU0sR0FBQyxJQUFJLENBQUM7U0FDcEI7SUFDTCxDQUFDO0lBQ0QsaUNBQUssR0FBTDtJQUNBLENBQUM7SUFDRCxpQ0FBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsS0FBSyxDQUFDO0lBQzNCLENBQUM7SUFwQ2dCLGlCQUFpQjtRQURyQyxPQUFPO09BQ2EsaUJBQWlCLENBcUNyQztJQUFELHdCQUFDO0NBckNELEFBcUNDLENBckM4QyxFQUFFLENBQUMsU0FBUyxHQXFDMUQ7a0JBckNvQixpQkFBaUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi4vbWFpbi9hdWRpb01hbmFnZXJcIjtcbmltcG9ydCB7IGRhdGEgfSBmcm9tIFwiLi4vc2RrL2RhdGFcIjtcbmltcG9ydCB7IGVuZW15QXR0cmlidXRlIH0gZnJvbSBcIi4vZW5lbXlCYXNlXCI7XG5pbXBvcnQgZW5lbXlIaXRDb2xsaWRlciBmcm9tIFwiLi9lbmVteUhpdENvbGxpZGVyXCI7XG5pbXBvcnQgc2tpbGxQb29sIGZyb20gXCIuL3NraWxsUG9vbFwiO1xuaW1wb3J0IHsgYm9zc05hbWUgfSBmcm9tIFwiLi91aS9ib3NzSHBcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB0aHVuZGVyQmFsbF9idXJzdCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBkYW1hZ2U6bnVtYmVyPTA7XG4gICAgcGxheWVyOmNjLk5vZGU9bnVsbDtcblxuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIGxldCBsZXZlbD1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcImNob3NlTGV2ZWxcIikpO1xuICAgICAgICBsZXQgZGlmZj1OdW1iZXIoZGF0YS5nZXRDYWNoZShcImxldmVsU3RhclwiLGxldmVsLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgbGV0IHRpbWVzPU51bWJlcihkYXRhLmdhbWVKc29uKFwiZW5lbXlEYW1hZ2VUaW1lc1wiLGRpZmYudG9TdHJpbmcoKSkpXG4gICAgICAgIHRoaXMuZGFtYWdlPU51bWJlcihkYXRhLmdhbWVKc29uKFwiZW5lbXlEYXRhXCIsYm9zc05hbWUubWluaUJvc3MsZW5lbXlBdHRyaWJ1dGUuZGFtYWdlKSkqdGltZXM7XG4gICAgfVxuXG4gICAgb25FbmFibGUgKCkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgaWYodGhpcy5wbGF5ZXIhPW51bGwpeztcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGVuZW15SGl0Q29sbGlkZXIpLmhpdCh0aGlzLm5vZGUsdGhpcy5kYW1hZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgICAgICBza2lsbFBvb2wuaW5zdGFuY2UucmVjb3ZlcnlUaHVuZGVyYmFsbCh0aGlzLm5vZGUpO1xuICAgICAgICAgICAgfSwxKTtcbiAgICAgICAgfSwzLjA1KTtcbiAgICB9XG4gICAgb25Db2xsaXNpb25FbnRlcihvdGhlcjpjYy5Db2xsaWRlcixzZWxmOmNjLkNvbGxpZGVyKXtcbiAgICAgICAgaWYob3RoZXIubm9kZS5ncm91cD09XCJwbGF5ZXJcIil7XG4gICAgICAgICAgICB0aGlzLnBsYXllcj1vdGhlci5ub2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ29sbGlzaW9uRXhpdChvdGhlcjpjYy5Db2xsaWRlcixzZWxmOmNjLkNvbGxpZGVyKXtcbiAgICAgICAgaWYob3RoZXIubm9kZS5ncm91cD09XCJwbGF5ZXJcIil7XG4gICAgICAgICAgICB0aGlzLnBsYXllcj1udWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldXNlKCl7XG4gICAgfVxuICAgIHVudXNlKCl7XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmU9ZmFsc2U7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ui/losePanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '850f224PuZAba6r+xv96GbT', 'losePanel');
// scripts/game/ui/losePanel.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var export_sdk_1 = require("../../../syyx_sdk/export_sdk");
var ad_1 = require("../../sdk/ad");
var uiBase_1 = require("../../uiBase");
var GameManager_1 = require("../GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var losePanel = /** @class */ (function (_super) {
    __extends(losePanel, _super);
    function losePanel() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.onNewBackHomeClick = true;
        return _this;
    }
    losePanel_1 = losePanel;
    losePanel.prototype.onLoad = function () {
        this.initUi();
    };
    losePanel.prototype.start = function () {
        // ad.recordEnd();        
    };
    losePanel.prototype.onEnable = function () {
        this.showRet();
    };
    losePanel.prototype.share = function () {
        // ad.recordShare(isok=>{
        //     if(isok){
        //         this.node.destroy();
        //         GameManager.instance.playerController.revive();
        //         ad.record();
        //     }
        // });
        var _this = this;
        ad_1.ad.video_show().then(function (isok) {
            // audioManager.playBgGame()
            if (isok) {
                export_sdk_1.Export.hide_naive_YSAD('YSBN'); // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN
                _this.node.destroy();
                GameManager_1.default.instance.playerController.revive();
            }
        });
    };
    losePanel.prototype.subgiveUp = function () {
        cc.Tween.stopAll();
        cc.director.loadScene("main");
    };
    losePanel.prototype.showRet = function () {
        this.onNewBackHomeClick = true;
        losePanel_1.native_have_show = false;
        setTimeout(function () {
            export_sdk_1.Export.show_native_YSAD("10304001", "Canvas/ui/losePanel/fail_parent", function () { losePanel_1.native_have_show = true; });
        }, 400);
    };
    losePanel.prototype.giveUp = function () {
        if (this.onNewBackHomeClick && losePanel_1.native_have_show) {
            this.onNewBackHomeClick = false;
            export_sdk_1.Export.click_native_YSAD("YSBN"); // 触发ysbn
        }
        else { // 否则回到游戏
            this.onNewBackHomeClick = true;
            losePanel_1.native_have_show = false;
            export_sdk_1.Export.hide_naive_YSAD('YSBN'); // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN
            this.subgiveUp();
        }
    };
    var losePanel_1;
    losePanel.native_have_show = false; // 原生结banner展示
    losePanel = losePanel_1 = __decorate([
        ccclass
    ], losePanel);
    return losePanel;
}(uiBase_1.default));
exports.default = losePanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdWlcXGxvc2VQYW5lbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRiwyREFBc0Q7QUFDdEQsbUNBQWtDO0FBQ2xDLHVDQUFrQztBQUNsQyw4Q0FBeUM7QUFFbkMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBdUMsNkJBQU07SUFBN0M7UUFBQSxxRUE4REM7UUFkRyx3QkFBa0IsR0FBWSxJQUFJLENBQUM7O0lBY3ZDLENBQUM7a0JBOURvQixTQUFTO0lBRzFCLDBCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELHlCQUFLLEdBQUw7UUFDSSwwQkFBMEI7SUFDOUIsQ0FBQztJQUVTLDRCQUFRLEdBQWxCO1FBQ0ksSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFBO0lBQ2xCLENBQUM7SUFFRCx5QkFBSyxHQUFMO1FBQ0kseUJBQXlCO1FBQ3pCLGdCQUFnQjtRQUNoQiwrQkFBK0I7UUFDL0IsMERBQTBEO1FBQzFELHVCQUF1QjtRQUN2QixRQUFRO1FBQ1IsTUFBTTtRQVBWLGlCQWtCQztRQVRHLE9BQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBQSxJQUFJO1lBQ3JCLDRCQUE0QjtZQUM1QixJQUFJLElBQUksRUFBRTtnQkFDTixtQkFBTSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDLCtCQUErQjtnQkFFOUQsS0FBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDcEIscUJBQVcsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUM7YUFDbEQ7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDRCw2QkFBUyxHQUFUO1FBQ0ksRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNuQixFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBR08sMkJBQU8sR0FBZjtRQUNJLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUE7UUFDOUIsV0FBUyxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQTtRQUNsQyxVQUFVLENBQUM7WUFDUCxtQkFBTSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxpQ0FBaUMsRUFBRSxjQUFRLFdBQVMsQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUN2SCxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDWixDQUFDO0lBR0QsMEJBQU0sR0FBTjtRQUNJLElBQUksSUFBSSxDQUFDLGtCQUFrQixJQUFJLFdBQVMsQ0FBQyxnQkFBZ0IsRUFBRTtZQUN2RCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFBO1lBQy9CLG1CQUFNLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUEsQ0FBQyxTQUFTO1NBQzdDO2FBQU0sRUFBRSxTQUFTO1lBQ2QsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQTtZQUM5QixXQUFTLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFBO1lBQ2xDLG1CQUFNLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFBLENBQUMsK0JBQStCO1lBRTlELElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQTtTQUVuQjtJQUNMLENBQUM7O0lBdEJNLDBCQUFnQixHQUFZLEtBQUssQ0FBQyxDQUFFLGNBQWM7SUF2Q3hDLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0E4RDdCO0lBQUQsZ0JBQUM7Q0E5REQsQUE4REMsQ0E5RHNDLGdCQUFNLEdBOEQ1QztrQkE5RG9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgRXhwb3J0IH0gZnJvbSBcIi4uLy4uLy4uL3N5eXhfc2RrL2V4cG9ydF9zZGtcIjtcbmltcG9ydCB7IGFkIH0gZnJvbSBcIi4uLy4uL3Nkay9hZFwiO1xuaW1wb3J0IHVpQmFzZSBmcm9tIFwiLi4vLi4vdWlCYXNlXCI7XG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBsb3NlUGFuZWwgZXh0ZW5kcyB1aUJhc2Uge1xuXG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHRoaXMuaW5pdFVpKCk7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIC8vIGFkLnJlY29yZEVuZCgpOyAgICAgICAgXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNob3dSZXQoKVxuICAgIH1cblxuICAgIHNoYXJlKCkge1xuICAgICAgICAvLyBhZC5yZWNvcmRTaGFyZShpc29rPT57XG4gICAgICAgIC8vICAgICBpZihpc29rKXtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xuICAgICAgICAvLyAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIucmV2aXZlKCk7XG4gICAgICAgIC8vICAgICAgICAgYWQucmVjb3JkKCk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgIGFkLnZpZGVvX3Nob3coKS50aGVuKGlzb2sgPT4ge1xuICAgICAgICAgICAgLy8gYXVkaW9NYW5hZ2VyLnBsYXlCZ0dhbWUoKVxuICAgICAgICAgICAgaWYgKGlzb2spIHtcbiAgICAgICAgICAgICAgICBFeHBvcnQuaGlkZV9uYWl2ZV9ZU0FEKCdZU0JOJykgLy8g6ZqQ6JeP5Y6f55Sf5bm/5ZGKIOS8oCdZU0JOJ++8jOaEj+aAneaYr+WQjOaXtuS8mumihOWKoOi9vVlTQk5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIucmV2aXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdWJnaXZlVXAoKSB7XG4gICAgICAgIGNjLlR3ZWVuLnN0b3BBbGwoKTtcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwibWFpblwiKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmF0aXZlX2hhdmVfc2hvdzogYm9vbGVhbiA9IGZhbHNlOyAgLy8g5Y6f55Sf57uTYmFubmVy5bGV56S6XG4gICAgcHJpdmF0ZSBzaG93UmV0KCkge1xuICAgICAgICB0aGlzLm9uTmV3QmFja0hvbWVDbGljayA9IHRydWVcbiAgICAgICAgbG9zZVBhbmVsLm5hdGl2ZV9oYXZlX3Nob3cgPSBmYWxzZVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIEV4cG9ydC5zaG93X25hdGl2ZV9ZU0FEKFwiMTAzMDQwMDFcIiwgXCJDYW52YXMvdWkvbG9zZVBhbmVsL2ZhaWxfcGFyZW50XCIsICgpID0+IHsgbG9zZVBhbmVsLm5hdGl2ZV9oYXZlX3Nob3cgPSB0cnVlIH0pXG4gICAgICAgIH0sIDQwMCk7XG4gICAgfVxuXG4gICAgb25OZXdCYWNrSG9tZUNsaWNrOiBib29sZWFuID0gdHJ1ZTtcbiAgICBnaXZlVXAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uTmV3QmFja0hvbWVDbGljayAmJiBsb3NlUGFuZWwubmF0aXZlX2hhdmVfc2hvdykge1xuICAgICAgICAgICAgdGhpcy5vbk5ld0JhY2tIb21lQ2xpY2sgPSBmYWxzZVxuICAgICAgICAgICAgRXhwb3J0LmNsaWNrX25hdGl2ZV9ZU0FEKFwiWVNCTlwiKSAvLyDop6blj5F5c2JuXG4gICAgICAgIH0gZWxzZSB7IC8vIOWQpuWImeWbnuWIsOa4uOaIj1xuICAgICAgICAgICAgdGhpcy5vbk5ld0JhY2tIb21lQ2xpY2sgPSB0cnVlXG4gICAgICAgICAgICBsb3NlUGFuZWwubmF0aXZlX2hhdmVfc2hvdyA9IGZhbHNlXG4gICAgICAgICAgICBFeHBvcnQuaGlkZV9uYWl2ZV9ZU0FEKCdZU0JOJykgLy8g6ZqQ6JeP5Y6f55Sf5bm/5ZGKIOS8oCdZU0JOJ++8jOaEj+aAneaYr+WQjOaXtuS8mumihOWKoOi9vVlTQk5cblxuICAgICAgICAgICAgdGhpcy5zdWJnaXZlVXAoKVxuXG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ui/buffPopup.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '700fbEzyEFJnasPygdD6hzp', 'buffPopup');
// scripts/game/ui/buffPopup.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var export_sdk_1 = require("../../../syyx_sdk/export_sdk");
var ad_1 = require("../../sdk/ad");
var uiBase_1 = require("../../uiBase");
var uiManager_1 = require("./uiManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var buffPopup = /** @class */ (function (_super) {
    __extends(buffPopup, _super);
    function buffPopup() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.UIType = -1;
        _this.onNewBackHomeClick = true;
        return _this;
    }
    buffPopup_1 = buffPopup;
    buffPopup.prototype.onLoad = function () {
        this.initUi();
    };
    buffPopup.prototype.start = function () {
    };
    buffPopup.prototype.onEnable = function () {
        this.showRet();
    };
    buffPopup.prototype.wudi = function () {
        var _this = this;
        // audioManager.pauseBgGame()
        ad_1.ad.video_show().then(function (isok) {
            // audioManager.playBgGame()
            if (isok) {
                uiManager_1.default.ins.wuDi();
                _this.close();
            }
        });
    };
    buffPopup.prototype.fullHp = function () {
        var _this = this;
        // audioManager.pauseBgGame()
        ad_1.ad.video_show().then(function (isok) {
            // audioManager.playBgGame()
            if (isok) {
                uiManager_1.default.ins.fullHp();
                _this.close();
            }
        });
    };
    buffPopup.prototype.doubleDamage = function () {
        var _this = this;
        // audioManager.pauseBgGame()
        ad_1.ad.video_show().then(function (isok) {
            // audioManager.playBgGame()
            if (isok) {
                cc.log("doubleDamage..........");
                uiManager_1.default.ins.doubleDamage();
                _this.subclose();
            }
        });
    };
    buffPopup.prototype.subclose = function () {
        export_sdk_1.Export.hide_naive_YSAD('YSJS'); // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN
        this.node.destroy();
        cc.director.resume();
    };
    buffPopup.prototype.showRet = function () {
        cc.log("buff popup ....");
        this.onNewBackHomeClick = true;
        buffPopup_1.native_have_show = false;
        var uistr = "Canvas/ui/doubleDamagePopup/fail_parent";
        if (this.UIType == 1) {
            uistr = "Canvas/ui/doubleDamagePopup/fail_parent";
        }
        else if (this.UIType == 2) {
            uistr = "Canvas/ui/fullHpPopup/fail_parent";
        }
        else if (this.UIType == 3) {
            uistr = "Canvas/ui/wuDiPopup/fail_parent";
        }
        cc.find(uistr).setScale(0.5);
        setTimeout(function () {
            export_sdk_1.Export.show_native_YSAD("10302001", uistr, function () { buffPopup_1.native_have_show = true; });
        }, 400);
    };
    buffPopup.prototype.close = function () {
        if (this.onNewBackHomeClick && buffPopup_1.native_have_show) {
            this.onNewBackHomeClick = false;
            export_sdk_1.Export.click_native_YSAD("YSJS"); // 触发ysbn
        }
        else { // 否则回到游戏
            this.onNewBackHomeClick = true;
            buffPopup_1.native_have_show = false;
            this.subclose();
        }
    };
    var buffPopup_1;
    buffPopup.native_have_show = false; // 原生结banner展示
    __decorate([
        property(cc.Integer)
    ], buffPopup.prototype, "UIType", void 0);
    buffPopup = buffPopup_1 = __decorate([
        ccclass
    ], buffPopup);
    return buffPopup;
}(uiBase_1.default));
exports.default = buffPopup;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdWlcXGJ1ZmZQb3B1cC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRiwyREFBc0Q7QUFDdEQsbUNBQWtDO0FBQ2xDLHVDQUFrQztBQUNsQyx5Q0FBb0M7QUFFOUIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQU07SUFBN0M7UUFBQSxxRUEwRkM7UUF0RkcsWUFBTSxHQUFVLENBQUMsQ0FBQyxDQUFBO1FBeUVsQix3QkFBa0IsR0FBWSxJQUFJLENBQUM7O0lBYXZDLENBQUM7a0JBMUZvQixTQUFTO0lBTTFCLDBCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELHlCQUFLLEdBQUw7SUFFQSxDQUFDO0lBRVMsNEJBQVEsR0FBbEI7UUFDSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDbEIsQ0FBQztJQUVELHdCQUFJLEdBQUo7UUFBQSxpQkFTQztRQVJHLDZCQUE2QjtRQUM3QixPQUFFLENBQUMsVUFBVSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQUEsSUFBSTtZQUNyQiw0QkFBNEI7WUFDNUIsSUFBRyxJQUFJLEVBQUM7Z0JBQ0osbUJBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ3JCLEtBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUNoQjtRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELDBCQUFNLEdBQU47UUFBQSxpQkFTQztRQVJHLDZCQUE2QjtRQUM3QixPQUFFLENBQUMsVUFBVSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQUEsSUFBSTtZQUNyQiw0QkFBNEI7WUFDNUIsSUFBRyxJQUFJLEVBQUM7Z0JBQ0osbUJBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ3ZCLEtBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUNoQjtRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELGdDQUFZLEdBQVo7UUFBQSxpQkFVQztRQVRHLDZCQUE2QjtRQUM3QixPQUFFLENBQUMsVUFBVSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQUEsSUFBSTtZQUNyQiw0QkFBNEI7WUFDNUIsSUFBRyxJQUFJLEVBQUM7Z0JBQ0osRUFBRSxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFBO2dCQUNoQyxtQkFBUyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDN0IsS0FBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO2FBQ25CO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsNEJBQVEsR0FBUjtRQUNJLG1CQUFNLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFBLENBQUMsK0JBQStCO1FBRTlELElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDcEIsRUFBRSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBR08sMkJBQU8sR0FBZjtRQUNJLEVBQUUsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtRQUN6QixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFBO1FBQzlCLFdBQVMsQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUE7UUFFbEMsSUFBSSxLQUFLLEdBQUcseUNBQXlDLENBQUE7UUFDckQsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFFLENBQUMsRUFBQztZQUNmLEtBQUssR0FBRyx5Q0FBeUMsQ0FBQTtTQUNwRDthQUFLLElBQUcsSUFBSSxDQUFDLE1BQU0sSUFBRSxDQUFDLEVBQUM7WUFDcEIsS0FBSyxHQUFHLG1DQUFtQyxDQUFBO1NBQzlDO2FBQUssSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFFLENBQUMsRUFBQztZQUNyQixLQUFLLEdBQUcsaUNBQWlDLENBQUE7U0FDNUM7UUFDRCxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUU1QixVQUFVLENBQUM7WUFDUCxtQkFBTSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBQyxLQUFLLEVBQUcsY0FBUSxXQUFTLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDM0YsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1osQ0FBQztJQUdELHlCQUFLLEdBQUw7UUFDSSxJQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxXQUFTLENBQUMsZ0JBQWdCLEVBQUU7WUFDdkQsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQTtZQUMvQixtQkFBTSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFBLENBQUMsU0FBUztTQUM3QzthQUFNLEVBQUUsU0FBUztZQUNkLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUE7WUFDOUIsV0FBUyxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQTtZQUVsQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUE7U0FFbEI7SUFDTCxDQUFDOztJQWpDTSwwQkFBZ0IsR0FBWSxLQUFLLENBQUMsQ0FBRSxjQUFjO0lBcER6RDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDOzZDQUNIO0lBSkQsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQTBGN0I7SUFBRCxnQkFBQztDQTFGRCxBQTBGQyxDQTFGc0MsZ0JBQU0sR0EwRjVDO2tCQTFGb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBFeHBvcnQgfSBmcm9tIFwiLi4vLi4vLi4vc3l5eF9zZGsvZXhwb3J0X3Nka1wiO1xuaW1wb3J0IHsgYWQgfSBmcm9tIFwiLi4vLi4vc2RrL2FkXCI7XG5pbXBvcnQgdWlCYXNlIGZyb20gXCIuLi8uLi91aUJhc2VcIjtcbmltcG9ydCB1aU1hbmFnZXIgZnJvbSBcIi4vdWlNYW5hZ2VyXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgYnVmZlBvcHVwIGV4dGVuZHMgdWlCYXNlIHtcblxuXG4gICAgQHByb3BlcnR5KGNjLkludGVnZXIpXG4gICAgVUlUeXBlOm51bWJlciA9IC0xXG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICB0aGlzLmluaXRVaSgpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNob3dSZXQoKVxuICAgIH1cblxuICAgIHd1ZGkoKXtcbiAgICAgICAgLy8gYXVkaW9NYW5hZ2VyLnBhdXNlQmdHYW1lKClcbiAgICAgICAgYWQudmlkZW9fc2hvdygpLnRoZW4oaXNvaz0+e1xuICAgICAgICAgICAgLy8gYXVkaW9NYW5hZ2VyLnBsYXlCZ0dhbWUoKVxuICAgICAgICAgICAgaWYoaXNvayl7XG4gICAgICAgICAgICAgICAgdWlNYW5hZ2VyLmlucy53dURpKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVsbEhwKCl7XG4gICAgICAgIC8vIGF1ZGlvTWFuYWdlci5wYXVzZUJnR2FtZSgpXG4gICAgICAgIGFkLnZpZGVvX3Nob3coKS50aGVuKGlzb2s9PntcbiAgICAgICAgICAgIC8vIGF1ZGlvTWFuYWdlci5wbGF5QmdHYW1lKClcbiAgICAgICAgICAgIGlmKGlzb2spe1xuICAgICAgICAgICAgICAgIHVpTWFuYWdlci5pbnMuZnVsbEhwKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZG91YmxlRGFtYWdlKCl7XG4gICAgICAgIC8vIGF1ZGlvTWFuYWdlci5wYXVzZUJnR2FtZSgpXG4gICAgICAgIGFkLnZpZGVvX3Nob3coKS50aGVuKGlzb2s9PntcbiAgICAgICAgICAgIC8vIGF1ZGlvTWFuYWdlci5wbGF5QmdHYW1lKClcbiAgICAgICAgICAgIGlmKGlzb2spe1xuICAgICAgICAgICAgICAgIGNjLmxvZyhcImRvdWJsZURhbWFnZS4uLi4uLi4uLi5cIilcbiAgICAgICAgICAgICAgICB1aU1hbmFnZXIuaW5zLmRvdWJsZURhbWFnZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3ViY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN1YmNsb3NlKCl7XG4gICAgICAgIEV4cG9ydC5oaWRlX25haXZlX1lTQUQoJ1lTSlMnKSAvLyDpmpDol4/ljp/nlJ/lub/lkYog5LygJ1lTQk4n77yM5oSP5oCd5piv5ZCM5pe25Lya6aKE5Yqg6L29WVNCTlxuICAgICAgICBcbiAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcbiAgICAgICAgY2MuZGlyZWN0b3IucmVzdW1lKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIG5hdGl2ZV9oYXZlX3Nob3c6IGJvb2xlYW4gPSBmYWxzZTsgIC8vIOWOn+eUn+e7k2Jhbm5lcuWxleekulxuICAgIHByaXZhdGUgc2hvd1JldCgpIHtcbiAgICAgICAgY2MubG9nKFwiYnVmZiBwb3B1cCAuLi4uXCIpXG4gICAgICAgIHRoaXMub25OZXdCYWNrSG9tZUNsaWNrID0gdHJ1ZVxuICAgICAgICBidWZmUG9wdXAubmF0aXZlX2hhdmVfc2hvdyA9IGZhbHNlXG4gICAgICAgIFxuICAgICAgICB2YXIgdWlzdHIgPSBcIkNhbnZhcy91aS9kb3VibGVEYW1hZ2VQb3B1cC9mYWlsX3BhcmVudFwiXG4gICAgICAgIGlmICh0aGlzLlVJVHlwZT09MSl7XG4gICAgICAgICAgICB1aXN0ciA9IFwiQ2FudmFzL3VpL2RvdWJsZURhbWFnZVBvcHVwL2ZhaWxfcGFyZW50XCJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5VSVR5cGU9PTIpe1xuICAgICAgICAgICAgdWlzdHIgPSBcIkNhbnZhcy91aS9mdWxsSHBQb3B1cC9mYWlsX3BhcmVudFwiXG4gICAgICAgIH1lbHNlIGlmICh0aGlzLlVJVHlwZT09Myl7XG4gICAgICAgICAgICB1aXN0ciA9IFwiQ2FudmFzL3VpL3d1RGlQb3B1cC9mYWlsX3BhcmVudFwiXG4gICAgICAgIH1cbiAgICAgICAgY2MuZmluZCh1aXN0cikuc2V0U2NhbGUoMC41KVxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgRXhwb3J0LnNob3dfbmF0aXZlX1lTQUQoXCIxMDMwMjAwMVwiLHVpc3RyICwgKCkgPT4geyBidWZmUG9wdXAubmF0aXZlX2hhdmVfc2hvdyA9IHRydWUgfSlcbiAgICAgICAgfSwgNDAwKTtcbiAgICB9XG5cbiAgICBvbk5ld0JhY2tIb21lQ2xpY2s6IGJvb2xlYW4gPSB0cnVlO1xuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5vbk5ld0JhY2tIb21lQ2xpY2sgJiYgYnVmZlBvcHVwLm5hdGl2ZV9oYXZlX3Nob3cpIHtcbiAgICAgICAgICAgIHRoaXMub25OZXdCYWNrSG9tZUNsaWNrID0gZmFsc2VcbiAgICAgICAgICAgIEV4cG9ydC5jbGlja19uYXRpdmVfWVNBRChcIllTSlNcIikgLy8g6Kem5Y+ReXNiblxuICAgICAgICB9IGVsc2UgeyAvLyDlkKbliJnlm57liLDmuLjmiI9cbiAgICAgICAgICAgIHRoaXMub25OZXdCYWNrSG9tZUNsaWNrID0gdHJ1ZVxuICAgICAgICAgICAgYnVmZlBvcHVwLm5hdGl2ZV9oYXZlX3Nob3cgPSBmYWxzZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnN1YmNsb3NlKClcblxuICAgICAgICB9XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ui/playerHp.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '93dcdNkO0BIy5Y7Sm4Qsff/', 'playerHp');
// scripts/game/ui/playerHp.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var data_1 = require("../../sdk/data");
var Events_1 = require("../Events");
var GameManager_1 = require("../GameManager");
var uiManager_1 = require("./uiManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var playerHp = /** @class */ (function (_super) {
    __extends(playerHp, _super);
    function playerHp() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.hpLabel = null;
        _this.hpBar = null;
        _this.cursor = null; //血条光标
        _this.bar = null;
        _this.damageScale = 0; //普攻1伤害值 （60,80,150）
        _this.damageShuriken = 0; //手里剑伤害
        _this.damageSowrdRain = 0; //剑雨伤害
        _this.hp_max = 0;
        _this.hp_now = 0;
        _this.damageLv = 0; //属性等级
        _this.healthLv = 0;
        _this.speedLv = 0;
        _this.damageIncremental = 0.2; //属性每级递增量
        _this.healthIncremental = 0.2;
        _this.speedIncremental = 0.1;
        _this.speedTimes = 0;
        _this.isOpenFullHp = false;
        return _this;
    }
    playerHp_1 = playerHp;
    playerHp.prototype.onLoad = function () {
        playerHp_1.instance = this;
    };
    playerHp.prototype.start = function () {
        this.init();
    };
    playerHp.prototype.init = function () {
        this.isOpenFullHp = false;
        this.damageLv = Number(data_1.data.getCache("attributeLv", "damage"));
        this.healthLv = Number(data_1.data.getCache("attributeLv", "health"));
        this.speedLv = Number(data_1.data.getCache("attributeLv", "speed"));
        this.hp_max = Number(data_1.data.getCache("Base", "playerHp")) * (1 + this.healthLv * this.healthIncremental);
        this.damageScale = Number(data_1.data.getCache("Base", "playerDamage")) * (1 + this.damageLv * this.damageIncremental);
        this.damageShuriken = Number(data_1.data.getCache("Base", "shurikenDamage")) * (1 + this.damageLv * this.damageIncremental);
        this.damageSowrdRain = Number(data_1.data.getCache("Base", "swordRainDamage")) * (1 + this.damageLv * this.damageIncremental);
        this.hp_now = this.hp_max;
        this.speedTimes = 1 + this.speedLv / 10;
        this.updateLabel();
    };
    playerHp.prototype.fullHp = function () {
        this.addHp(this.hp_max - this.hp_now);
    };
    playerHp.prototype.addHp = function (addNum, isRevive) {
        if (isRevive === void 0) { isRevive = false; }
        addNum = Math.floor(addNum);
        this.hp_now += addNum;
        this.hp_now = this.hp_now > this.hp_max ? this.hp_max : this.hp_now;
        this.updateLabel();
        var offsetX = GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0 ? -35 : 35;
        Events_1.default.instance.showAddHp_player(GameManager_1.default.instance.player, addNum, offsetX, isRevive);
    };
    playerHp.prototype.updateHp = function (damage) {
        damage = Math.floor(damage);
        this.createBarFadeOut();
        this.hp_now -= damage;
        this.hp_now = this.hp_now < 0 ? 0 : this.hp_now;
        this.updateLabel();
        if (this.hp_now <= 0) {
            this.hp_now = 0;
            GameManager_1.default.instance.playerController.die();
        }
        if (GameManager_1.default.instance.playerController.isDie == false && this.isOpenFullHp == false) { //////////
            if (this.hp_now < this.hp_max / 3) {
                this.isOpenFullHp = true;
                uiManager_1.default.ins.showFullHpPopup();
            }
        }
    };
    playerHp.prototype.updateLabel = function () {
        this.hpBar.progress = this.hp_now / this.hp_max;
        this.cursor.x = this.hpBar.progress * 300;
        this.hpLabel.string = this.hp_now + "/" + this.hp_max;
    };
    playerHp.prototype.createBarFadeOut = function () {
        var newBar = cc.instantiate(this.bar);
        newBar.setParent(this.bar.parent);
        newBar.setPosition(this.bar.position);
        cc.tween(newBar)
            .to(0.3, { opacity: 0, color: cc.Color.WHITE })
            .call(function () {
            newBar.destroy();
        })
            .start();
    };
    var playerHp_1;
    playerHp.instance = null;
    __decorate([
        property(cc.Label)
    ], playerHp.prototype, "hpLabel", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], playerHp.prototype, "hpBar", void 0);
    __decorate([
        property(cc.Node)
    ], playerHp.prototype, "cursor", void 0);
    __decorate([
        property(cc.Node)
    ], playerHp.prototype, "bar", void 0);
    playerHp = playerHp_1 = __decorate([
        ccclass
    ], playerHp);
    return playerHp;
}(cc.Component));
exports.default = playerHp;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdWlcXHBsYXllckhwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLHVDQUFzQztBQUN0QyxvQ0FBK0I7QUFDL0IsOENBQXlDO0FBQ3pDLHlDQUFvQztBQUU5QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQTRGQztRQXpGRyxhQUFPLEdBQVUsSUFBSSxDQUFDO1FBRXRCLFdBQUssR0FBZ0IsSUFBSSxDQUFDO1FBRTFCLFlBQU0sR0FBUyxJQUFJLENBQUMsQ0FBQSxNQUFNO1FBRTFCLFNBQUcsR0FBUyxJQUFJLENBQUM7UUFFakIsaUJBQVcsR0FBVyxDQUFDLENBQUMsQ0FBQSxvQkFBb0I7UUFDNUMsb0JBQWMsR0FBUSxDQUFDLENBQUMsQ0FBQSxPQUFPO1FBQy9CLHFCQUFlLEdBQVEsQ0FBQyxDQUFDLENBQUEsTUFBTTtRQUMvQixZQUFNLEdBQVEsQ0FBQyxDQUFDO1FBQ2hCLFlBQU0sR0FBUSxDQUFDLENBQUM7UUFDaEIsY0FBUSxHQUFRLENBQUMsQ0FBQyxDQUFBLE1BQU07UUFDeEIsY0FBUSxHQUFRLENBQUMsQ0FBQztRQUNsQixhQUFPLEdBQVEsQ0FBQyxDQUFDO1FBQ2pCLHVCQUFpQixHQUFRLEdBQUcsQ0FBQyxDQUFBLFNBQVM7UUFDdEMsdUJBQWlCLEdBQVEsR0FBRyxDQUFDO1FBQzdCLHNCQUFnQixHQUFRLEdBQUcsQ0FBQztRQUM1QixnQkFBVSxHQUFRLENBQUMsQ0FBQztRQW1DcEIsa0JBQVksR0FBVyxLQUFLLENBQUE7O0lBbUNoQyxDQUFDO2lCQTVGb0IsUUFB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dDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCB7IGRhdGEgfSBmcm9tIFwiLi4vLi4vc2RrL2RhdGFcIjtcbmltcG9ydCBFdmVudHMgZnJvbSBcIi4uL0V2ZW50c1wiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9HYW1lTWFuYWdlclwiO1xuaW1wb3J0IHVpTWFuYWdlciBmcm9tIFwiLi91aU1hbmFnZXJcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBwbGF5ZXJIcCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXG4gICAgaHBMYWJlbDpjYy5MYWJlbD1udWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcbiAgICBocEJhcjpjYy5Qcm9ncmVzc0Jhcj1udWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIGN1cnNvcjpjYy5Ob2RlPW51bGw7Ly/ooYDmnaHlhYnmoIdcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBiYXI6Y2MuTm9kZT1udWxsO1xuXG4gICAgZGFtYWdlU2NhbGU6IG51bWJlciA9IDA7Ly/mma7mlLsx5Lyk5a6z5YC8IO+8iDYwLDgwLDE1MO+8iVxuICAgIGRhbWFnZVNodXJpa2VuOm51bWJlcj0wOy8v5omL6YeM5YmR5Lyk5a6zXG4gICAgZGFtYWdlU293cmRSYWluOm51bWJlcj0wOy8v5YmR6Zuo5Lyk5a6zXG4gICAgaHBfbWF4Om51bWJlcj0wO1xuICAgIGhwX25vdzpudW1iZXI9MDtcbiAgICBkYW1hZ2VMdjpudW1iZXI9MDsvL+WxnuaAp+etiee6p1xuICAgIGhlYWx0aEx2Om51bWJlcj0wO1xuICAgIHNwZWVkTHY6bnVtYmVyPTA7XG4gICAgZGFtYWdlSW5jcmVtZW50YWw6bnVtYmVyPTAuMjsvL+WxnuaAp+avj+e6p+mAkuWinumHj1xuICAgIGhlYWx0aEluY3JlbWVudGFsOm51bWJlcj0wLjI7XG4gICAgc3BlZWRJbmNyZW1lbnRhbDpudW1iZXI9MC4xO1xuICAgIHNwZWVkVGltZXM6bnVtYmVyPTA7XG4gICAgc3RhdGljIGluc3RhbmNlOnBsYXllckhwPW51bGw7XG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgcGxheWVySHAuaW5zdGFuY2U9dGhpcztcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBpbml0KCl7XG4gICAgICAgIHRoaXMuaXNPcGVuRnVsbEhwID0gZmFsc2VcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZGFtYWdlTHY9TnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJhdHRyaWJ1dGVMdlwiLFwiZGFtYWdlXCIpKTtcbiAgICAgICAgdGhpcy5oZWFsdGhMdj1OdW1iZXIoZGF0YS5nZXRDYWNoZShcImF0dHJpYnV0ZUx2XCIsXCJoZWFsdGhcIikpO1xuICAgICAgICB0aGlzLnNwZWVkTHY9TnVtYmVyKGRhdGEuZ2V0Q2FjaGUoXCJhdHRyaWJ1dGVMdlwiLFwic3BlZWRcIikpO1xuICAgICAgICB0aGlzLmhwX21heD1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcInBsYXllckhwXCIpKSooMSt0aGlzLmhlYWx0aEx2KnRoaXMuaGVhbHRoSW5jcmVtZW50YWwpO1xuICAgICAgICB0aGlzLmRhbWFnZVNjYWxlPU51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwicGxheWVyRGFtYWdlXCIpKSooMSt0aGlzLmRhbWFnZUx2KnRoaXMuZGFtYWdlSW5jcmVtZW50YWwpO1xuICAgICAgICB0aGlzLmRhbWFnZVNodXJpa2VuPU51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwic2h1cmlrZW5EYW1hZ2VcIikpKigxK3RoaXMuZGFtYWdlTHYqdGhpcy5kYW1hZ2VJbmNyZW1lbnRhbCk7XG4gICAgICAgIHRoaXMuZGFtYWdlU293cmRSYWluPU51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwic3dvcmRSYWluRGFtYWdlXCIpKSooMSt0aGlzLmRhbWFnZUx2KnRoaXMuZGFtYWdlSW5jcmVtZW50YWwpO1xuICAgICAgICB0aGlzLmhwX25vdz10aGlzLmhwX21heDtcbiAgICAgICAgdGhpcy5zcGVlZFRpbWVzPTErdGhpcy5zcGVlZEx2LzEwO1xuICAgICAgICB0aGlzLnVwZGF0ZUxhYmVsKCk7XG4gICAgfVxuICAgIGZ1bGxIcCgpe1xuICAgICAgICB0aGlzLmFkZEhwKHRoaXMuaHBfbWF4LXRoaXMuaHBfbm93KTtcbiAgICB9XG4gICAgYWRkSHAoYWRkTnVtOm51bWJlcixpc1Jldml2ZTpib29sZWFuPWZhbHNlKXtcbiAgICAgICAgYWRkTnVtPU1hdGguZmxvb3IoYWRkTnVtKTtcbiAgICAgICAgdGhpcy5ocF9ub3cgKz0gYWRkTnVtO1xuICAgICAgICB0aGlzLmhwX25vdz10aGlzLmhwX25vdz50aGlzLmhwX21heD90aGlzLmhwX21heDp0aGlzLmhwX25vdztcbiAgICAgICAgdGhpcy51cGRhdGVMYWJlbCgpO1xuICAgICAgICBsZXQgb2Zmc2V0WD1HYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYPjA/LTM1OjM1O1xuICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc2hvd0FkZEhwX3BsYXllcihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIsYWRkTnVtLG9mZnNldFgsaXNSZXZpdmUpO1xuICAgIH1cblxuICAgIGlzT3BlbkZ1bGxIcDpib29sZWFuID0gZmFsc2VcbiAgICB1cGRhdGVIcChkYW1hZ2U6IG51bWJlcikge1xuICAgICAgICBkYW1hZ2U9TWF0aC5mbG9vcihkYW1hZ2UpO1xuICAgICAgICB0aGlzLmNyZWF0ZUJhckZhZGVPdXQoKTtcbiAgICAgICAgdGhpcy5ocF9ub3cgLT0gZGFtYWdlO1xuICAgICAgICB0aGlzLmhwX25vdz10aGlzLmhwX25vdzwwPzA6dGhpcy5ocF9ub3c7XG4gICAgICAgIHRoaXMudXBkYXRlTGFiZWwoKTtcbiAgICAgICAgaWYgKHRoaXMuaHBfbm93IDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuaHBfbm93ID0gMDtcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuZGllKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5pc0RpZSA9PSBmYWxzZSAmJiB0aGlzLmlzT3BlbkZ1bGxIcCA9PSBmYWxzZSl7Ly8vLy8vLy8vL1xuICAgICAgICAgICAgaWYgKHRoaXMuaHBfbm93IDwgdGhpcy5ocF9tYXgvMylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzT3BlbkZ1bGxIcCA9IHRydWVcbiAgICAgICAgICAgICAgICB1aU1hbmFnZXIuaW5zLnNob3dGdWxsSHBQb3B1cCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlTGFiZWwoKXtcbiAgICAgICAgdGhpcy5ocEJhci5wcm9ncmVzcyA9IHRoaXMuaHBfbm93IC8gdGhpcy5ocF9tYXg7XG4gICAgICAgIHRoaXMuY3Vyc29yLng9dGhpcy5ocEJhci5wcm9ncmVzcyozMDA7XG4gICAgICAgIHRoaXMuaHBMYWJlbC5zdHJpbmc9dGhpcy5ocF9ub3crXCIvXCIrdGhpcy5ocF9tYXg7XG4gICAgfVxuICAgIGNyZWF0ZUJhckZhZGVPdXQoKXtcbiAgICAgICAgbGV0IG5ld0Jhcj1jYy5pbnN0YW50aWF0ZSh0aGlzLmJhcik7XG4gICAgICAgIG5ld0Jhci5zZXRQYXJlbnQodGhpcy5iYXIucGFyZW50KTtcbiAgICAgICAgbmV3QmFyLnNldFBvc2l0aW9uKHRoaXMuYmFyLnBvc2l0aW9uKTtcbiAgICAgICAgY2MudHdlZW4obmV3QmFyKVxuICAgICAgICAudG8oMC4zLHtvcGFjaXR5OjAsY29sb3I6Y2MuQ29sb3IuV0hJVEV9KVxuICAgICAgICAuY2FsbCgoKT0+e1xuICAgICAgICAgICAgbmV3QmFyLmRlc3Ryb3koKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXJ0KCk7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ui/pausePanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '90fe2Gwff5DxZN5PPMgLRBv', 'pausePanel');
// scripts/game/ui/pausePanel.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var uiBase_1 = require("../../uiBase");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var pausePanel = /** @class */ (function (_super) {
    __extends(pausePanel, _super);
    function pausePanel() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    pausePanel.prototype.onLoad = function () {
        this.initUi();
    };
    pausePanel.prototype.start = function () {
        cc.director.pause();
    };
    pausePanel.prototype.resume = function () {
        cc.director.resume();
        this.node.destroy();
    };
    pausePanel.prototype.backToMain = function () {
        cc.director.resume();
        cc.director.loadScene("main");
    };
    pausePanel = __decorate([
        ccclass
    ], pausePanel);
    return pausePanel;
}(uiBase_1.default));
exports.default = pausePanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdWlcXHBhdXNlUGFuZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsdUNBQWtDO0FBRTVCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXdDLDhCQUFNO0lBQTlDOztJQWlCQSxDQUFDO0lBZkcsMkJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBRUQsMEJBQUssR0FBTDtRQUNJLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUNELDJCQUFNLEdBQU47UUFDSSxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUNELCtCQUFVLEdBQVY7UUFDSSxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3JCLEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFoQmdCLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0FpQjlCO0lBQUQsaUJBQUM7Q0FqQkQsQUFpQkMsQ0FqQnVDLGdCQUFNLEdBaUI3QztrQkFqQm9CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHVpQmFzZSBmcm9tIFwiLi4vLi4vdWlCYXNlXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgcGF1c2VQYW5lbCBleHRlbmRzIHVpQmFzZSB7XG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICB0aGlzLmluaXRVaSgpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgY2MuZGlyZWN0b3IucGF1c2UoKTtcbiAgICB9XG4gICAgcmVzdW1lKCl7XG4gICAgICAgIGNjLmRpcmVjdG9yLnJlc3VtZSgpO1xuICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xuICAgIH1cbiAgICBiYWNrVG9NYWluKCl7XG4gICAgICAgIGNjLmRpcmVjdG9yLnJlc3VtZSgpO1xuICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJtYWluXCIpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/thunder_jolt.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b8322L+Qw1ApJ7HA3FPUo4M', 'thunder_jolt');
// scripts/game/thunder_jolt.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var audioManager_1 = require("../main/audioManager");
var cameraControl_1 = require("./cameraControl");
var enemyHitCollider_1 = require("./enemyHitCollider");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var thunder_jolt = /** @class */ (function (_super) {
    __extends(thunder_jolt, _super);
    function thunder_jolt() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isTurn = false;
        _this.speed_x = 300;
        _this.speed_y = 0;
        _this.speedMax_y = 300;
        _this.damage = 0;
        _this.rigibody = null;
        return _this;
    }
    thunder_jolt.prototype.onLoad = function () {
        this.rigibody = this.node.getComponent(cc.RigidBody);
    };
    thunder_jolt.prototype.start = function () {
    };
    thunder_jolt.prototype.update = function () {
        if (this.isTurn) {
            this.rigibody.linearVelocity = cc.v2(this.speed_x, this.rigibody.linearVelocity.y);
        }
        if (this.node.y < -500) {
            this.node.destroy();
        }
    };
    thunder_jolt.prototype.onCollisionEnter = function (other, self) {
        var _this = this;
        if (other.node.group == "player") {
            this.scheduleOnce(function () {
                _this.node.getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
            }, 0);
        }
    };
    thunder_jolt.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        if (other.group == "ground") {
            this.playerAudio();
            if (this.isTurn)
                return;
            this.isTurn = true;
            this.changDirection();
        }
        else if (other.group == "player") {
            contact.disabled = true;
        }
    };
    thunder_jolt.prototype.playerAudio = function () {
        var worldPos = this.node.parent.convertToNodeSpaceAR(this.node.position);
        var screenPos = cameraControl_1.default.instance.mainCamera.getWorldToScreenPoint(worldPos);
        if (screenPos.x < 0 && screenPos.x > -cc.winSize.width) {
            audioManager_1.default.playAudio(audioNameMgr_1.audioName.E27LightningJolt);
        }
    };
    thunder_jolt.prototype.changDirection = function () {
        this.speed_x = this.node.x > GameManager_1.default.instance.player.x ? -this.speed_x : this.speed_x;
    };
    thunder_jolt = __decorate([
        ccclass
    ], thunder_jolt);
    return thunder_jolt;
}(cc.Component));
exports.default = thunder_jolt;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdGh1bmRlcl9qb2x0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLGdEQUE0QztBQUM1QyxxREFBZ0Q7QUFDaEQsaURBQTRDO0FBQzVDLHVEQUFrRDtBQUNsRCw2Q0FBd0M7QUFFbEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMEMsZ0NBQVk7SUFBdEQ7UUFBQSxxRUFxREM7UUFuREcsWUFBTSxHQUFTLEtBQUssQ0FBQztRQUVyQixhQUFPLEdBQVEsR0FBRyxDQUFDO1FBQ25CLGFBQU8sR0FBUSxDQUFDLENBQUM7UUFDakIsZ0JBQVUsR0FBUSxHQUFHLENBQUM7UUFDdEIsWUFBTSxHQUFRLENBQUMsQ0FBQztRQUNoQixjQUFRLEdBQWMsSUFBSSxDQUFDOztJQTZDL0IsQ0FBQztJQTNDRyw2QkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELDRCQUFLLEdBQUw7SUFFQSxDQUFDO0lBQ0QsNkJBQU0sR0FBTjtRQUNJLElBQUcsSUFBSSxDQUFDLE1BQU0sRUFBQztZQUNYLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxHQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNuRjtRQUNELElBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFHLEVBQUM7WUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUN2QjtJQUNMLENBQUM7SUFDRCx1Q0FBZ0IsR0FBaEIsVUFBaUIsS0FBaUIsRUFBQyxJQUFnQjtRQUFuRCxpQkFNQztRQUxHLElBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUUsUUFBUSxFQUFDO1lBQzFCLElBQUksQ0FBQyxZQUFZLENBQUM7Z0JBQ2QsS0FBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsMEJBQWdCLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSSxDQUFDLElBQUksRUFBQyxLQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDeEUsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ1I7SUFDTCxDQUFDO0lBQ0QscUNBQWMsR0FBZCxVQUFlLE9BQTBCLEVBQUUsWUFBZ0MsRUFBRSxhQUFpQztRQUMxRyxJQUFJLEtBQUssR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDO1FBQy9CLElBQUksS0FBSyxDQUFDLEtBQUssSUFBSSxRQUFRLEVBQUU7WUFDekIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ25CLElBQUcsSUFBSSxDQUFDLE1BQU07Z0JBQUUsT0FBTztZQUN2QixJQUFJLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQztZQUNqQixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7U0FDekI7YUFBSyxJQUFHLEtBQUssQ0FBQyxLQUFLLElBQUksUUFBUSxFQUFDO1lBQzdCLE9BQU8sQ0FBQyxRQUFRLEdBQUMsSUFBSSxDQUFDO1NBQ3pCO0lBQ0wsQ0FBQztJQUNELGtDQUFXLEdBQVg7UUFDSSxJQUFJLFFBQVEsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksU0FBUyxHQUFDLHVCQUFhLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNoRixJQUFHLFNBQVMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxJQUFFLFNBQVMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBQztZQUM1QyxzQkFBWSxDQUFDLFNBQVMsQ0FBQyx3QkFBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FDdEQ7SUFDTCxDQUFDO0lBQ0QscUNBQWMsR0FBZDtRQUNJLElBQUksQ0FBQyxPQUFPLEdBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBLENBQUMsQ0FBQSxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3RGLENBQUM7SUFwRGdCLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0FxRGhDO0lBQUQsbUJBQUM7Q0FyREQsQUFxREMsQ0FyRHlDLEVBQUUsQ0FBQyxTQUFTLEdBcURyRDtrQkFyRG9CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi4vbWFpbi9hdWRpb01hbmFnZXJcIjtcbmltcG9ydCBjYW1lcmFDb250cm9sIGZyb20gXCIuL2NhbWVyYUNvbnRyb2xcIjtcbmltcG9ydCBlbmVteUhpdENvbGxpZGVyIGZyb20gXCIuL2VuZW15SGl0Q29sbGlkZXJcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHRodW5kZXJfam9sdCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBpc1R1cm46Ym9vbGVhbj1mYWxzZTtcblxuICAgIHNwZWVkX3g6bnVtYmVyPTMwMDtcbiAgICBzcGVlZF95Om51bWJlcj0wO1xuICAgIHNwZWVkTWF4X3k6bnVtYmVyPTMwMDtcbiAgICBkYW1hZ2U6bnVtYmVyPTA7XG4gICAgcmlnaWJvZHk6Y2MuUmlnaWRCb2R5PW51bGw7XG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICB0aGlzLnJpZ2lib2R5PXRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuUmlnaWRCb2R5KTtcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG5cbiAgICB9XG4gICAgdXBkYXRlKCl7XG4gICAgICAgIGlmKHRoaXMuaXNUdXJuKXtcbiAgICAgICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHk9Y2MudjIodGhpcy5zcGVlZF94LHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkueSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5ub2RlLnk8LTUwMCl7XG4gICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ29sbGlzaW9uRW50ZXIob3RoZXI6Y2MuQ29sbGlkZXIsc2VsZjpjYy5Db2xsaWRlcil7XG4gICAgICAgIGlmKG90aGVyLm5vZGUuZ3JvdXA9PVwicGxheWVyXCIpe1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGVuZW15SGl0Q29sbGlkZXIpLmhpdCh0aGlzLm5vZGUsdGhpcy5kYW1hZ2UpO1xuICAgICAgICAgICAgfSwwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkJlZ2luQ29udGFjdChjb250YWN0OiBjYy5QaHlzaWNzQ29udGFjdCwgc2VsZkNvbGxpZGVyOiBjYy5QaHlzaWNzQ29sbGlkZXIsIG90aGVyQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlcikge1xuICAgICAgICBsZXQgb3RoZXIgPSBvdGhlckNvbGxpZGVyLm5vZGU7XG4gICAgICAgIGlmIChvdGhlci5ncm91cCA9PSBcImdyb3VuZFwiKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllckF1ZGlvKCk7XG4gICAgICAgICAgICBpZih0aGlzLmlzVHVybikgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pc1R1cm49dHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdEaXJlY3Rpb24oKTtcbiAgICAgICAgfWVsc2UgaWYob3RoZXIuZ3JvdXAgPT0gXCJwbGF5ZXJcIil7XG4gICAgICAgICAgICBjb250YWN0LmRpc2FibGVkPXRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGxheWVyQXVkaW8oKXtcbiAgICAgICAgbGV0IHdvcmxkUG9zPXRoaXMubm9kZS5wYXJlbnQuY29udmVydFRvTm9kZVNwYWNlQVIodGhpcy5ub2RlLnBvc2l0aW9uKTtcbiAgICAgICAgbGV0IHNjcmVlblBvcz1jYW1lcmFDb250cm9sLmluc3RhbmNlLm1haW5DYW1lcmEuZ2V0V29ybGRUb1NjcmVlblBvaW50KHdvcmxkUG9zKTtcbiAgICAgICAgaWYoc2NyZWVuUG9zLng8MCYmc2NyZWVuUG9zLng+LWNjLndpblNpemUud2lkdGgpe1xuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuRTI3TGlnaHRuaW5nSm9sdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hhbmdEaXJlY3Rpb24oKXtcbiAgICAgICAgdGhpcy5zcGVlZF94PXRoaXMubm9kZS54PkdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54Py10aGlzLnNwZWVkX3g6dGhpcy5zcGVlZF94O1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ui/winPanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '78387PqVXVLj7ZnUhrivU7c', 'winPanel');
// scripts/game/ui/winPanel.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var export_sdk_1 = require("../../../syyx_sdk/export_sdk");
var ad_1 = require("../../sdk/ad");
var data_1 = require("../../sdk/data");
var uiBase_1 = require("../../uiBase");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var winPanel = /** @class */ (function (_super) {
    __extends(winPanel, _super);
    function winPanel() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.onNewBackHomeClick = true;
        return _this;
    }
    winPanel_1 = winPanel;
    winPanel.prototype.onLoad = function () {
        this.initUi();
    };
    winPanel.prototype.start = function () {
        // ad.recordEnd();
    };
    winPanel.prototype.onEnable = function () {
        this.showRet();
    };
    winPanel.prototype.share = function () {
        var _this = this;
        // ad.recordShare(isok=>{
        //     if(isok){
        //         this.getCoin(300);
        //         this.giveUp();
        //     }
        // });
        ad_1.ad.video_show().then(function (isok) {
            // audioManager.playBgGame()
            if (isok) {
                export_sdk_1.Export.hide_naive_YSAD('YSBN'); // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN
                _this.getCoin(600);
                setTimeout(function () {
                    cc.Tween.stopAll();
                    cc.director.loadScene("main");
                }, 500);
            }
        });
    };
    winPanel.prototype.getCoin = function (getNum) {
        var coin = Number(data_1.data.getCache("Base", "coin")) + getNum;
        data_1.data.updateCache("Base", "coin", coin);
    };
    winPanel.prototype.subgiveUp = function () {
        cc.Tween.stopAll();
        cc.director.loadScene("main");
    };
    winPanel.prototype.showRet = function () {
        this.onNewBackHomeClick = true;
        winPanel_1.native_have_show = false;
        setTimeout(function () {
            export_sdk_1.Export.show_native_YSAD("10304001", "Canvas/ui/winPanel/fail_parent", function () { winPanel_1.native_have_show = true; });
        }, 400);
    };
    winPanel.prototype.giveUp = function () {
        if (this.onNewBackHomeClick && winPanel_1.native_have_show) {
            this.onNewBackHomeClick = false;
            export_sdk_1.Export.click_native_YSAD("YSBN"); // 触发ysbn
        }
        else { // 否则回到游戏
            this.onNewBackHomeClick = true;
            winPanel_1.native_have_show = false;
            export_sdk_1.Export.hide_naive_YSAD('YSBN'); // 隐藏原生广告 传'YSBN'，意思是同时会预加载YSBN
            this.subgiveUp();
        }
    };
    var winPanel_1;
    winPanel.native_have_show = false; // 原生结banner展示
    winPanel = winPanel_1 = __decorate([
        ccclass
    ], winPanel);
    return winPanel;
}(uiBase_1.default));
exports.default = winPanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdWlcXHdpblBhbmVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLDJEQUFzRDtBQUN0RCxtQ0FBa0M7QUFDbEMsdUNBQXNDO0FBQ3RDLHVDQUFrQztBQUU1QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBTTtJQUE1QztRQUFBLHFFQW9FQztRQWRHLHdCQUFrQixHQUFZLElBQUksQ0FBQzs7SUFjdkMsQ0FBQztpQkFwRW9CLFFBQVE7SUFHekIseUJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBRUQsd0JBQUssR0FBTDtRQUNJLGtCQUFrQjtJQUN0QixDQUFDO0lBRVMsMkJBQVEsR0FBbEI7UUFDSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDbEIsQ0FBQztJQUVELHdCQUFLLEdBQUw7UUFBQSxpQkFvQkM7UUFuQkcseUJBQXlCO1FBQ3pCLGdCQUFnQjtRQUNoQiw2QkFBNkI7UUFDN0IseUJBQXlCO1FBQ3pCLFFBQVE7UUFDUixNQUFNO1FBQ04sT0FBRSxDQUFDLFVBQVUsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFBLElBQUk7WUFDckIsNEJBQTRCO1lBQzVCLElBQUksSUFBSSxFQUFFO2dCQUNOLG1CQUFNLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFBLENBQUMsK0JBQStCO2dCQUU5RCxLQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUVsQixVQUFVLENBQUM7b0JBQ1AsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztvQkFDbkIsRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ2xDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQzthQUNYO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsMEJBQU8sR0FBUCxVQUFRLE1BQWE7UUFDakIsSUFBSSxJQUFJLEdBQUMsTUFBTSxDQUFDLFdBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUMsTUFBTSxDQUFDO1FBQ3JELFdBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxJQUFJLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBQ0QsNEJBQVMsR0FBVDtRQUNJLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDbkIsRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUdPLDBCQUFPLEdBQWY7UUFDSSxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFBO1FBQzlCLFVBQVEsQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUE7UUFDakMsVUFBVSxDQUFDO1lBQ1AsbUJBQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsZ0NBQWdDLEVBQUUsY0FBUSxVQUFRLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDckgsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1osQ0FBQztJQUdELHlCQUFNLEdBQU47UUFDSSxJQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxVQUFRLENBQUMsZ0JBQWdCLEVBQUU7WUFDdEQsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQTtZQUMvQixtQkFBTSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFBLENBQUMsU0FBUztTQUM3QzthQUFNLEVBQUUsU0FBUztZQUNkLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUE7WUFDOUIsVUFBUSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQTtZQUNqQyxtQkFBTSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDLCtCQUErQjtZQUU5RCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUE7U0FFbkI7SUFDTCxDQUFDOztJQXRCTSx5QkFBZ0IsR0FBWSxLQUFLLENBQUMsQ0FBRSxjQUFjO0lBN0N4QyxRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBb0U1QjtJQUFELGVBQUM7Q0FwRUQsQUFvRUMsQ0FwRXFDLGdCQUFNLEdBb0UzQztrQkFwRW9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgRXhwb3J0IH0gZnJvbSBcIi4uLy4uLy4uL3N5eXhfc2RrL2V4cG9ydF9zZGtcIjtcbmltcG9ydCB7IGFkIH0gZnJvbSBcIi4uLy4uL3Nkay9hZFwiO1xuaW1wb3J0IHsgZGF0YSB9IGZyb20gXCIuLi8uLi9zZGsvZGF0YVwiO1xuaW1wb3J0IHVpQmFzZSBmcm9tIFwiLi4vLi4vdWlCYXNlXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgd2luUGFuZWwgZXh0ZW5kcyB1aUJhc2Uge1xuXG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICB0aGlzLmluaXRVaSgpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgLy8gYWQucmVjb3JkRW5kKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNob3dSZXQoKVxuICAgIH1cblxuICAgIHNoYXJlKCl7XG4gICAgICAgIC8vIGFkLnJlY29yZFNoYXJlKGlzb2s9PntcbiAgICAgICAgLy8gICAgIGlmKGlzb2spe1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuZ2V0Q29pbigzMDApO1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuZ2l2ZVVwKCk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0pO1xuICAgICAgICBhZC52aWRlb19zaG93KCkudGhlbihpc29rID0+IHtcbiAgICAgICAgICAgIC8vIGF1ZGlvTWFuYWdlci5wbGF5QmdHYW1lKClcbiAgICAgICAgICAgIGlmIChpc29rKSB7XG4gICAgICAgICAgICAgICAgRXhwb3J0LmhpZGVfbmFpdmVfWVNBRCgnWVNCTicpIC8vIOmakOiXj+WOn+eUn+W5v+WRiiDkvKAnWVNCTifvvIzmhI/mgJ3mmK/lkIzml7bkvJrpooTliqDovb1ZU0JOXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDb2luKDYwMCk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2MuVHdlZW4uc3RvcEFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJtYWluXCIpO1xuICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRDb2luKGdldE51bTpudW1iZXIpe1xuICAgICAgICBsZXQgY29pbj1OdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIixcImNvaW5cIikpK2dldE51bTtcbiAgICAgICAgZGF0YS51cGRhdGVDYWNoZShcIkJhc2VcIixcImNvaW5cIixjb2luKTtcbiAgICB9XG4gICAgc3ViZ2l2ZVVwKCl7XG4gICAgICAgIGNjLlR3ZWVuLnN0b3BBbGwoKTtcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwibWFpblwiKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmF0aXZlX2hhdmVfc2hvdzogYm9vbGVhbiA9IGZhbHNlOyAgLy8g5Y6f55Sf57uTYmFubmVy5bGV56S6XG4gICAgcHJpdmF0ZSBzaG93UmV0KCkge1xuICAgICAgICB0aGlzLm9uTmV3QmFja0hvbWVDbGljayA9IHRydWVcbiAgICAgICAgd2luUGFuZWwubmF0aXZlX2hhdmVfc2hvdyA9IGZhbHNlXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgRXhwb3J0LnNob3dfbmF0aXZlX1lTQUQoXCIxMDMwNDAwMVwiLCBcIkNhbnZhcy91aS93aW5QYW5lbC9mYWlsX3BhcmVudFwiLCAoKSA9PiB7IHdpblBhbmVsLm5hdGl2ZV9oYXZlX3Nob3cgPSB0cnVlIH0pXG4gICAgICAgIH0sIDQwMCk7XG4gICAgfVxuXG4gICAgb25OZXdCYWNrSG9tZUNsaWNrOiBib29sZWFuID0gdHJ1ZTtcbiAgICBnaXZlVXAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uTmV3QmFja0hvbWVDbGljayAmJiB3aW5QYW5lbC5uYXRpdmVfaGF2ZV9zaG93KSB7XG4gICAgICAgICAgICB0aGlzLm9uTmV3QmFja0hvbWVDbGljayA9IGZhbHNlXG4gICAgICAgICAgICBFeHBvcnQuY2xpY2tfbmF0aXZlX1lTQUQoXCJZU0JOXCIpIC8vIOinpuWPkXlzYm5cbiAgICAgICAgfSBlbHNlIHsgLy8g5ZCm5YiZ5Zue5Yiw5ri45oiPXG4gICAgICAgICAgICB0aGlzLm9uTmV3QmFja0hvbWVDbGljayA9IHRydWVcbiAgICAgICAgICAgIHdpblBhbmVsLm5hdGl2ZV9oYXZlX3Nob3cgPSBmYWxzZVxuICAgICAgICAgICAgRXhwb3J0LmhpZGVfbmFpdmVfWVNBRCgnWVNCTicpIC8vIOmakOiXj+WOn+eUn+W5v+WRiiDkvKAnWVNCTifvvIzmhI/mgJ3mmK/lkIzml7bkvJrpooTliqDovb1ZU0JOXG5cbiAgICAgICAgICAgIHRoaXMuc3ViZ2l2ZVVwKClcblxuICAgICAgICB9XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ui/playerControlEvent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5e014wZt6BDQ7e81nuiqTaG', 'playerControlEvent');
// scripts/game/ui/playerControlEvent.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var playerControlEvent = /** @class */ (function (_super) {
    __extends(playerControlEvent, _super);
    function playerControlEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.rollCD = 0;
        _this.skill1CD = 0;
        _this.skill2CD = 0;
        _this.buttons = []; //0-attack 1-roll 2-jump 3-skill1 4-skill2
        _this.inited = false;
        _this.isRollCd = false;
        _this.isSkill1Cd = false;
        _this.isSkill2Cd = false;
        _this.isContinueAttack = false;
        return _this;
    }
    playerControlEvent_1 = playerControlEvent;
    playerControlEvent.prototype.onLoad = function () {
        playerControlEvent_1.instance = this;
    };
    playerControlEvent.prototype.init = function () {
        cc.tween(this.node).to(0.5, { opacity: 255 }).start();
        this.bindingEvent();
    };
    playerControlEvent.prototype.bindingEvent = function () {
        this.buttons[0].on(cc.Node.EventType.TOUCH_START, this.attack, this);
        this.buttons[0].on(cc.Node.EventType.TOUCH_END, this.attackTouchEnd, this);
        this.buttons[0].on(cc.Node.EventType.TOUCH_CANCEL, this.attackTouchEnd, this);
        this.buttons[1].on(cc.Node.EventType.TOUCH_START, this.roll, this);
        this.buttons[2].on(cc.Node.EventType.TOUCH_START, this.jump, this);
        this.buttons[3].on(cc.Node.EventType.TOUCH_START, this.skill1, this);
        this.buttons[4].on(cc.Node.EventType.TOUCH_START, this.skill2, this);
    };
    playerControlEvent.prototype.removeEvent = function () {
        this.isContinueAttack = false;
        this.buttons[0].off(cc.Node.EventType.TOUCH_START, this.attack, this);
        this.buttons[0].off(cc.Node.EventType.TOUCH_END, this.attackTouchEnd, this);
        this.buttons[0].off(cc.Node.EventType.TOUCH_CANCEL, this.attackTouchEnd, this);
        this.buttons[1].off(cc.Node.EventType.TOUCH_START, this.roll, this);
        this.buttons[2].off(cc.Node.EventType.TOUCH_START, this.jump, this);
        this.buttons[3].off(cc.Node.EventType.TOUCH_START, this.skill1, this);
        this.buttons[4].off(cc.Node.EventType.TOUCH_START, this.skill2, this);
    };
    playerControlEvent.prototype.attack = function () {
        this.isContinueAttack = true;
        GameManager_1.default.instance.playerController.attack();
    };
    playerControlEvent.prototype.attackTouchEnd = function () {
        this.isContinueAttack = false;
    };
    playerControlEvent.prototype.roll = function (event) {
        var _this = this;
        if (this.isRollCd)
            return;
        this.isRollCd = true;
        GameManager_1.default.instance.playerController.roll();
        this.cdAnimation(event.target, this.rollCD);
        this.scheduleOnce(function () {
            _this.isRollCd = false;
        }, this.rollCD);
    };
    playerControlEvent.prototype.jump = function () {
        GameManager_1.default.instance.playerController.jump();
    };
    playerControlEvent.prototype.skill1 = function (event) {
        var _this = this;
        if (this.isSkill1Cd)
            return;
        if (GameManager_1.default.instance.playerController.skeleton.animation.includes("skill"))
            return;
        this.isSkill1Cd = true;
        GameManager_1.default.instance.playerController.skill1();
        this.cdAnimation(event.target, this.skill1CD);
        this.scheduleOnce(function () {
            _this.isSkill1Cd = false;
            ;
        }, this.skill1CD);
    };
    playerControlEvent.prototype.skill2 = function (event) {
        var _this = this;
        if (this.isSkill2Cd)
            return;
        if (GameManager_1.default.instance.playerController.skeleton.animation.includes("skill"))
            return;
        this.isSkill2Cd = true;
        GameManager_1.default.instance.playerController.skill2();
        this.cdAnimation(event.target, this.skill2CD);
        this.scheduleOnce(function () {
            _this.isSkill2Cd = false;
            ;
        }, this.skill2CD);
    };
    playerControlEvent.prototype.cdAnimation = function (btn, cdTime) {
        var cdNode = btn.getChildByName("cdNode");
        cdNode.active = true;
        var cdBar = cdNode.getChildByName("cd").getComponent(cc.ProgressBar);
        var timerLabel = cdNode.getChildByName("timer").getComponent(cc.Label);
        var timeObj = { time: cdTime };
        this.timerLabelTween(cdTime, timeObj, timerLabel, cdNode);
        this.progressBarTween(cdBar, cdTime);
    };
    playerControlEvent.prototype.timerLabelTween = function (cdTime, timeObj, timerLabel, cdNode) {
        var _this = this;
        cc.tween(timeObj)
            .to(cdTime, { time: 0 }, {
            progress: function (start, end, current, t) {
                //start:起始值 end:终点值 current:当前值 t:总时占比0~1 
                //返回值为最终赋值
                var now = cc.misc.lerp(start, end, t);
                timerLabel.string = now.toFixed(1);
                return now;
            }
        })
            .call(function () {
            cdNode.active = false;
            _this.isRollCd = false;
        })
            .start();
    };
    playerControlEvent.prototype.progressBarTween = function (cdBar, time) {
        cc.tween(cdBar)
            .to(time, { progress: 1 })
            .call(function () {
            cdBar.progress = 0;
        })
            .start();
    };
    var playerControlEvent_1;
    playerControlEvent.instance = null;
    __decorate([
        property(cc.Integer)
    ], playerControlEvent.prototype, "rollCD", void 0);
    __decorate([
        property(cc.Integer)
    ], playerControlEvent.prototype, "skill1CD", void 0);
    __decorate([
        property(cc.Integer)
    ], playerControlEvent.prototype, "skill2CD", void 0);
    __decorate([
        property(cc.Node)
    ], playerControlEvent.prototype, "buttons", void 0);
    playerControlEvent = playerControlEvent_1 = __decorate([
        ccclass
    ], playerControlEvent);
    return playerControlEvent;
}(cc.Component));
exports.default = playerControlEvent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdWlcXHBsYXllckNvbnRyb2xFdmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRiw4Q0FBeUM7QUFFbkMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBZ0Qsc0NBQVk7SUFBNUQ7UUFBQSxxRUF3SEM7UUFySEcsWUFBTSxHQUFRLENBQUMsQ0FBQztRQUVoQixjQUFRLEdBQVEsQ0FBQyxDQUFDO1FBRWxCLGNBQVEsR0FBUSxDQUFDLENBQUM7UUFFbEIsYUFBTyxHQUFXLEVBQUUsQ0FBQyxDQUFBLDBDQUEwQztRQUUvRCxZQUFNLEdBQVMsS0FBSyxDQUFDO1FBQ3JCLGNBQVEsR0FBUyxLQUFLLENBQUM7UUFDdkIsZ0JBQVUsR0FBUyxLQUFLLENBQUM7UUFDekIsZ0JBQVUsR0FBUyxLQUFLLENBQUM7UUFDekIsc0JBQWdCLEdBQVMsS0FBSyxDQUFDOztJQXlHbkMsQ0FBQzsyQkF4SG9CLGtCQUFrQjtJQWtCbkMsbUNBQU0sR0FBTjtRQUNJLG9CQUFrQixDQUFDLFFBQVEsR0FBQyxJQUFJLENBQUM7SUFDckMsQ0FBQztJQUNELGlDQUFJLEdBQUo7UUFDSSxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFDLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDbEQsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFDRCx5Q0FBWSxHQUFaO1FBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxNQUFNLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFDLElBQUksQ0FBQyxjQUFjLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFDLElBQUksQ0FBQyxjQUFjLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxNQUFNLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxNQUFNLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUNELHdDQUFXLEdBQVg7UUFDSSxJQUFJLENBQUMsZ0JBQWdCLEdBQUMsS0FBSyxDQUFDO1FBQzVCLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBQyxJQUFJLENBQUMsTUFBTSxFQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsY0FBYyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBQyxJQUFJLENBQUMsY0FBYyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBQyxJQUFJLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBQyxJQUFJLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBQyxJQUFJLENBQUMsTUFBTSxFQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBQyxJQUFJLENBQUMsTUFBTSxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hF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LEVBQUMsQ0FBQzthQUNyQixJQUFJLENBQUM7WUFDRixLQUFLLENBQUMsUUFBUSxHQUFDLENBQUMsQ0FBQztRQUNyQixDQUFDLENBQUM7YUFDRCxLQUFLLEVBQUUsQ0FBQztJQUNiLENBQUM7O0lBdkdNLDJCQUFRLEdBQW9CLElBQUksQ0FBQztJQWJ4QztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDO3NEQUNMO0lBRWhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUM7d0RBQ0g7SUFFbEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQzt3REFDSDtJQUVsQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3VEQUNHO0lBVEosa0JBQWtCO1FBRHRDLE9BQU87T0FDYSxrQkFBa0IsQ0F3SHRDO0lBQUQseUJBQUM7Q0F4SEQsQUF3SEMsQ0F4SCtDLEVBQUUsQ0FBQyxTQUFTLEdBd0gzRDtrQkF4SG9CLGtCQUFrQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgcGxheWVyQ29udHJvbEV2ZW50IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eShjYy5JbnRlZ2VyKVxuICAgIHJvbGxDRDpudW1iZXI9MDtcbiAgICBAcHJvcGVydHkoY2MuSW50ZWdlcilcbiAgICBza2lsbDFDRDpudW1iZXI9MDtcbiAgICBAcHJvcGVydHkoY2MuSW50ZWdlcilcbiAgICBza2lsbDJDRDpudW1iZXI9MDtcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBidXR0b25zOmNjLk5vZGVbXT1bXTsvLzAtYXR0YWNrIDEtcm9sbCAyLWp1bXAgMy1za2lsbDEgNC1za2lsbDJcbiAgICBcbiAgICBpbml0ZWQ6Ym9vbGVhbj1mYWxzZTtcbiAgICBpc1JvbGxDZDpib29sZWFuPWZhbHNlO1xuICAgIGlzU2tpbGwxQ2Q6Ym9vbGVhbj1mYWxzZTtcbiAgICBpc1NraWxsMkNkOmJvb2xlYW49ZmFsc2U7XG4gICAgaXNDb250aW51ZUF0dGFjazpib29sZWFuPWZhbHNlO1xuICAgIHN0YXRpYyBpbnN0YW5jZTpwbGF5ZXJDb250cm9sRXZlbnQ9bnVsbDtcblxuICAgIG9uTG9hZCgpe1xuICAgICAgICBwbGF5ZXJDb250cm9sRXZlbnQuaW5zdGFuY2U9dGhpcztcbiAgICB9XG4gICAgaW5pdCgpe1xuICAgICAgICBjYy50d2Vlbih0aGlzLm5vZGUpLnRvKDAuNSx7b3BhY2l0eToyNTV9KS5zdGFydCgpO1xuICAgICAgICB0aGlzLmJpbmRpbmdFdmVudCgpO1xuICAgIH1cbiAgICBiaW5kaW5nRXZlbnQoKXtcbiAgICAgICAgdGhpcy5idXR0b25zWzBdLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULHRoaXMuYXR0YWNrLHRoaXMpO1xuICAgICAgICB0aGlzLmJ1dHRvbnNbMF0ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELHRoaXMuYXR0YWNrVG91Y2hFbmQsdGhpcyk7XG4gICAgICAgIHRoaXMuYnV0dG9uc1swXS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9DQU5DRUwsdGhpcy5hdHRhY2tUb3VjaEVuZCx0aGlzKTtcbiAgICAgICAgdGhpcy5idXR0b25zWzFdLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULHRoaXMucm9sbCx0aGlzKTtcbiAgICAgICAgdGhpcy5idXR0b25zWzJdLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULHRoaXMuanVtcCx0aGlzKTtcbiAgICAgICAgdGhpcy5idXR0b25zWzNdLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULHRoaXMuc2tpbGwxLHRoaXMpO1xuICAgICAgICB0aGlzLmJ1dHRvbnNbNF0ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsdGhpcy5za2lsbDIsdGhpcyk7XG4gICAgfVxuICAgIHJlbW92ZUV2ZW50KCl7XG4gICAgICAgIHRoaXMuaXNDb250aW51ZUF0dGFjaz1mYWxzZTtcbiAgICAgICAgdGhpcy5idXR0b25zWzBdLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCx0aGlzLmF0dGFjayx0aGlzKTtcbiAgICAgICAgdGhpcy5idXR0b25zWzBdLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsdGhpcy5hdHRhY2tUb3VjaEVuZCx0aGlzKTtcbiAgICAgICAgdGhpcy5idXR0b25zWzBdLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9DQU5DRUwsdGhpcy5hdHRhY2tUb3VjaEVuZCx0aGlzKTtcbiAgICAgICAgdGhpcy5idXR0b25zWzFdLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCx0aGlzLnJvbGwsdGhpcyk7XG4gICAgICAgIHRoaXMuYnV0dG9uc1syXS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsdGhpcy5qdW1wLHRoaXMpO1xuICAgICAgICB0aGlzLmJ1dHRvbnNbM10ub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULHRoaXMuc2tpbGwxLHRoaXMpO1xuICAgICAgICB0aGlzLmJ1dHRvbnNbNF0ub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULHRoaXMuc2tpbGwyLHRoaXMpO1xuICAgIH1cbiAgICBhdHRhY2soKXtcbiAgICAgICAgdGhpcy5pc0NvbnRpbnVlQXR0YWNrPXRydWU7XG4gICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuYXR0YWNrKCk7XG4gICAgfVxuICAgIGF0dGFja1RvdWNoRW5kKCl7XG4gICAgICAgIHRoaXMuaXNDb250aW51ZUF0dGFjaz1mYWxzZTtcbiAgICB9XG4gICAgcm9sbChldmVudDpjYy5FdmVudCl7XG4gICAgICAgIGlmKHRoaXMuaXNSb2xsQ2QpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc1JvbGxDZD10cnVlO1xuICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnJvbGwoKTtcblxuICAgICAgICB0aGlzLmNkQW5pbWF0aW9uKGV2ZW50LnRhcmdldCx0aGlzLnJvbGxDRCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLmlzUm9sbENkPWZhbHNlO1xuICAgICAgICB9LHRoaXMucm9sbENEKTtcbiAgICB9XG4gICAganVtcCgpe1xuICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLmp1bXAoKTtcbiAgICB9XG4gICAgc2tpbGwxKGV2ZW50OmNjLkV2ZW50KXtcbiAgICAgICAgaWYodGhpcy5pc1NraWxsMUNkKSByZXR1cm47XG4gICAgICAgIGlmKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tlbGV0b24uYW5pbWF0aW9uLmluY2x1ZGVzKFwic2tpbGxcIikpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc1NraWxsMUNkPXRydWU7XG4gICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tpbGwxKCk7XG5cbiAgICAgICAgdGhpcy5jZEFuaW1hdGlvbihldmVudC50YXJnZXQsdGhpcy5za2lsbDFDRCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLmlzU2tpbGwxQ2Q9ZmFsc2U7O1xuICAgICAgICB9LHRoaXMuc2tpbGwxQ0QpO1xuICAgIH1cbiAgICBza2lsbDIoZXZlbnQ6Y2MuRXZlbnQpe1xuICAgICAgICBpZih0aGlzLmlzU2tpbGwyQ2QpIHJldHVybjtcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5za2VsZXRvbi5hbmltYXRpb24uaW5jbHVkZXMoXCJza2lsbFwiKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzU2tpbGwyQ2Q9dHJ1ZTtcbiAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5za2lsbDIoKTtcblxuICAgICAgICB0aGlzLmNkQW5pbWF0aW9uKGV2ZW50LnRhcmdldCx0aGlzLnNraWxsMkNEKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIHRoaXMuaXNTa2lsbDJDZD1mYWxzZTs7XG4gICAgICAgIH0sdGhpcy5za2lsbDJDRCk7XG4gICAgfVxuICAgIGNkQW5pbWF0aW9uKGJ0bjpjYy5Ob2RlLGNkVGltZTpudW1iZXIpe1xuICAgICAgICBsZXQgY2ROb2RlOmNjLk5vZGU9YnRuLmdldENoaWxkQnlOYW1lKFwiY2ROb2RlXCIpO1xuICAgICAgICBjZE5vZGUuYWN0aXZlPXRydWU7XG4gICAgICAgIGxldCBjZEJhcjpjYy5Qcm9ncmVzc0Jhcj1jZE5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJjZFwiKS5nZXRDb21wb25lbnQoY2MuUHJvZ3Jlc3NCYXIpO1xuICAgICAgICBsZXQgdGltZXJMYWJlbDpjYy5MYWJlbD1jZE5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ0aW1lclwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xuICAgICAgICBsZXQgdGltZU9iaj17dGltZTpjZFRpbWV9XG4gICAgICAgIHRoaXMudGltZXJMYWJlbFR3ZWVuKGNkVGltZSx0aW1lT2JqLHRpbWVyTGFiZWwsY2ROb2RlKTtcbiAgICAgICAgdGhpcy5wcm9ncmVzc0JhclR3ZWVuKGNkQmFyLGNkVGltZSk7XG4gICAgfVxuICAgIHRpbWVyTGFiZWxUd2VlbihjZFRpbWU6bnVtYmVyLHRpbWVPYmo6b2JqZWN0LHRpbWVyTGFiZWw6Y2MuTGFiZWwsY2ROb2RlOmNjLk5vZGUpe1xuICAgICAgICBjYy50d2Vlbih0aW1lT2JqKVxuICAgICAgICAudG8oY2RUaW1lLHt0aW1lOjB9LHtcbiAgICAgICAgICAgIHByb2dyZXNzOiAoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIsIGN1cnJlbnQ6IGFueSwgdDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgLy9zdGFydDrotbflp4vlgLwgZW5kOue7iOeCueWAvCBjdXJyZW50OuW9k+WJjeWAvCB0OuaAu+aXtuWNoOavlDB+MSBcbiAgICAgICAgICAgICAgICAvL+i/lOWbnuWAvOS4uuacgOe7iOi1i+WAvFxuICAgICAgICAgICAgICAgIGxldCBub3cgPSBjYy5taXNjLmxlcnAoc3RhcnQsIGVuZCwgdCk7XG4gICAgICAgICAgICAgICAgdGltZXJMYWJlbC5zdHJpbmcgPSBub3cudG9GaXhlZCgxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2FsbCgoKT0+e1xuICAgICAgICAgICAgY2ROb2RlLmFjdGl2ZT1mYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNSb2xsQ2Q9ZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIC5zdGFydCgpO1xuICAgIH1cbiAgICBwcm9ncmVzc0JhclR3ZWVuKGNkQmFyOmNjLlByb2dyZXNzQmFyLHRpbWU6bnVtYmVyKXtcbiAgICAgICAgY2MudHdlZW4oY2RCYXIpXG4gICAgICAgIC50byh0aW1lLHtwcm9ncmVzczoxfSlcbiAgICAgICAgLmNhbGwoKCk9PntcbiAgICAgICAgICAgIGNkQmFyLnByb2dyZXNzPTA7XG4gICAgICAgIH0pXG4gICAgICAgIC5zdGFydCgpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ui/testLabel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1e075DTyWdLLoao3Difyu56', 'testLabel');
// scripts/game/ui/testLabel.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var testLabel = /** @class */ (function (_super) {
    __extends(testLabel, _super);
    function testLabel() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // onLoad () {}
    testLabel.prototype.start = function () {
        this.damageAction();
    };
    testLabel.prototype.damageAction = function () {
        cc.tween(this.node)
            .by(0.5, { y: 120 })
            .by(0.2, { opacity: -255, y: 60 })
            .start();
    };
    testLabel = __decorate([
        ccclass
    ], testLabel);
    return testLabel;
}(cc.Component));
exports.default = testLabel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdWlcXHRlc3RMYWJlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU1RSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF1Qyw2QkFBWTtJQUFuRDs7SUFlQSxDQUFDO0lBWkcsZUFBZTtJQUVmLHlCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVELGdDQUFZLEdBQVo7UUFDSSxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7YUFDbEIsRUFBRSxDQUFDLEdBQUcsRUFBQyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQzthQUNmLEVBQUUsQ0FBQyxHQUFHLEVBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDO2FBQzNCLEtBQUssRUFBRSxDQUFDO0lBQ2IsQ0FBQztJQWRnQixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBZTdCO0lBQUQsZ0JBQUM7Q0FmRCxBQWVDLENBZnNDLEVBQUUsQ0FBQyxTQUFTLEdBZWxEO2tCQWZvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgdGVzdExhYmVsIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuXG4gICAgLy8gb25Mb2FkICgpIHt9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMuZGFtYWdlQWN0aW9uKCk7XG4gICAgfVxuXG4gICAgZGFtYWdlQWN0aW9uKCl7XG4gICAgICAgIGNjLnR3ZWVuKHRoaXMubm9kZSlcbiAgICAgICAgLmJ5KDAuNSx7eToxMjB9KVxuICAgICAgICAuYnkoMC4yLHtvcGFjaXR5Oi0yNTUseTo2MH0pXG4gICAgICAgIC5zdGFydCgpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/ui/Joystick.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ce242gXaJRMQoU3t8b/OxK2', 'Joystick');
// scripts/game/ui/Joystick.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var JoyStick = /** @class */ (function (_super) {
    __extends(JoyStick, _super);
    function JoyStick() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.midNode = null;
        _this.joyBk = null;
        _this.maxR = 100;
        _this.zoom = 0.3;
        /*
            @property({
                type: cc.Component.EventHandler,
                displayName: '摇杆移动回调',
                tooltip: '触发touchmove后分发数据'
            }) */
        _this.joyCallBack = new cc.Component.EventHandler;
        _this.isKeyTouch_a = false;
        _this.isKeyTouch_d = false;
        return _this;
        // update (dt) {}
    }
    JoyStick_1 = JoyStick;
    JoyStick.prototype.onLoad = function () {
        JoyStick_1.instance = this;
        this.goBackMid();
    };
    JoyStick.prototype.init = function () {
        this.joyCallBack.target = GameManager_1.default.instance.player;
        this.joyCallBack.component = "playerController";
        this.joyCallBack.handler = "move";
        this.binEvent();
    };
    JoyStick.prototype.binEvent = function () {
        this.joyBk.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);
        this.joyBk.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);
        this.joyBk.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);
        this.joyBk.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.keyDown, this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.keyUp, this);
    };
    JoyStick.prototype.removeEvent = function () {
        this.joyBk.off(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);
        this.joyBk.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);
        this.joyBk.off(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);
        this.joyBk.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this);
        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.keyDown, this);
        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.keyUp, this);
    };
    JoyStick.prototype.goBackMid = function () {
        this.midNode.setPosition(0, 0);
    };
    JoyStick.prototype.onTouchStart = function (event) {
        var pos = this.node.convertToNodeSpaceAR(cc.v2(event.getLocation()));
        pos = cc.v2(pos.x * this.zoom, 0);
        this.clampPos(pos);
        this.midNode.setPosition(pos);
        this.joyCallBack.emit([pos]);
    };
    JoyStick.prototype.onTouchMove = function (event) {
        var pos = this.node.convertToNodeSpaceAR(cc.v2(event.getLocation()));
        pos = cc.v2(pos.x * this.zoom, 0);
        this.clampPos(pos);
        this.midNode.setPosition(pos);
        this.joyCallBack.emit([pos]);
    };
    JoyStick.prototype.onTouchEnd = function (e) {
        this.goBackMid();
        this.joyCallBack.emit([cc.v2(0, 0)]);
    };
    JoyStick.prototype.keyDown = function (event) {
        switch (event.keyCode) {
            case cc.macro.KEY.a:
                this.isKeyTouch_a = true;
                this.midNode.setPosition(-40, 0);
                this.joyCallBack.emit([cc.v2(-1, 0)]);
                break;
            case cc.macro.KEY.d:
                this.isKeyTouch_d = true;
                this.midNode.setPosition(40, 0);
                this.joyCallBack.emit([cc.v2(1, 0)]);
                break;
        }
    };
    JoyStick.prototype.keyUp = function (event) {
        switch (event.keyCode) {
            case cc.macro.KEY.a:
                if (this.isKeyTouch_d) {
                    this.isKeyTouch_a = false;
                    this.isKeyTouch_d = true;
                    this.midNode.setPosition(40, 0);
                    this.joyCallBack.emit([cc.v2(1, 0)]);
                    return;
                }
                this.isKeyTouch_a = false;
                this.goBackMid();
                this.joyCallBack.emit([cc.v2(0, 0)]);
                break;
            case cc.macro.KEY.d:
                if (this.isKeyTouch_a) {
                    this.isKeyTouch_d = false;
                    this.isKeyTouch_a = true;
                    this.midNode.setPosition(-40, 0);
                    this.joyCallBack.emit([cc.v2(-1, 0)]);
                    return;
                }
                this.isKeyTouch_d = false;
                this.goBackMid();
                this.joyCallBack.emit([cc.v2(0, 0)]);
                break;
        }
    };
    /**
     * 根据半径限制位置
     * @param pos
     */
    JoyStick.prototype.clampPos = function (pos) {
        var len = pos.mag();
        if (len > this.maxR) {
            var k = this.maxR / len;
            pos.x *= k;
            pos.y *= k;
        }
    };
    /**
     * 根据位置转化角度
     * @param pos
     */
    JoyStick.prototype.couvertToAngle = function (pos) {
        var r = Math.atan2(pos.y, pos.x);
        var d = cc.misc.radiansToDegrees(r);
        return d;
    };
    var JoyStick_1;
    JoyStick.instance = null;
    __decorate([
        property({
            type: cc.Node,
            displayName: '移动中心节点'
        })
    ], JoyStick.prototype, "midNode", void 0);
    __decorate([
        property({
            type: cc.Node,
            displayName: '摇杆背景节点'
        })
    ], JoyStick.prototype, "joyBk", void 0);
    __decorate([
        property({
            displayName: '摇杆活动半径'
        })
    ], JoyStick.prototype, "maxR", void 0);
    JoyStick = JoyStick_1 = __decorate([
        ccclass
    ], JoyStick);
    return JoyStick;
}(cc.Component));
exports.default = JoyStick;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdWlcXEpveXN0aWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDhDQUF5QztBQUduQyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1QztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQW9KQztRQTlJRyxhQUFPLEdBQVksSUFBSSxDQUFDO1FBTXhCLFdBQUssR0FBWSxJQUFJLENBQUM7UUFLdEIsVUFBSSxHQUFXLEdBQUcsQ0FBQztRQUNuQixVQUFJLEdBQVcsR0FBRyxDQUFDO1FBQ3ZCOzs7OztpQkFLUztRQUNMLGlCQUFXLEdBQThCLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUM7UUFFdkUsa0JBQVksR0FBUyxLQUFLLENBQUM7UUFDM0Isa0JBQVksR0FBUyxLQUFLLENBQUM7O1FBdUgzQixpQkFBaUI7SUFDckIsQ0FBQztpQkFwSm9CLFFBQVE7SUE4QnpCLHlCQUFNLEdBQU47UUFDSSxVQUFRLENBQUMsUUFBUSxHQUFDLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFFckIsQ0FBQztJQUNELHVCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7UUFDdEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEdBQUMsa0JBQWtCLENBQUE7UUFDN0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBQ0QsMkJBQVEsR0FBUjtRQUNJLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JFLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pFLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3pFLENBQUM7SUFDRCw4QkFBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUks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OztJQXBITSxpQkFBUSxHQUFVLElBQUksQ0FBQztJQXZCOUI7UUFKQyxRQUFRLENBQUM7WUFDTixJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUk7WUFDYixXQUFXLEVBQUUsUUFBUTtTQUN4QixDQUFDOzZDQUNzQjtJQU14QjtRQUpDLFFBQVEsQ0FBQztZQUNOLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSTtZQUNiLFdBQVcsRUFBRSxRQUFRO1NBQ3hCLENBQUM7MkNBQ29CO0lBS3RCO1FBSEMsUUFBUSxDQUFDO1lBQ04sV0FBVyxFQUFFLFFBQVE7U0FDeEIsQ0FBQzswQ0FDaUI7SUFqQkYsUUFBUTtRQUQ1QixPQUFPO09BQ2EsUUFBUSxDQW9KNUI7SUFBRCxlQUFDO0NBcEpELEFBb0pDLENBcEpxQyxFQUFFLENBQUMsU0FBUyxHQW9KakQ7a0JBcEpvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9HYW1lTWFuYWdlclwiO1xuaW1wb3J0IHBsYXllckNvbnRyb2xsZXIgZnJvbSBcIi4uL3BsYXllckNvbnRyb2xsZXJcIjtcblxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKb3lTdGljayBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICB0eXBlOiBjYy5Ob2RlLFxuICAgICAgICBkaXNwbGF5TmFtZTogJ+enu+WKqOS4reW/g+iKgueCuSdcbiAgICB9KVxuICAgIG1pZE5vZGU6IGNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgdHlwZTogY2MuTm9kZSxcbiAgICAgICAgZGlzcGxheU5hbWU6ICfmkYfmnYbog4zmma/oioLngrknXG4gICAgfSlcbiAgICBqb3lCazogY2MuTm9kZSA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBkaXNwbGF5TmFtZTogJ+aRh+adhua0u+WKqOWNiuW+hCdcbiAgICB9KVxuICAgIG1heFI6IG51bWJlciA9IDEwMDtcbiAgICB6b29tOiBudW1iZXIgPSAwLjM7XG4vKiBcbiAgICBAcHJvcGVydHkoe1xuICAgICAgICB0eXBlOiBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyLFxuICAgICAgICBkaXNwbGF5TmFtZTogJ+aRh+adhuenu+WKqOWbnuiwgycsXG4gICAgICAgIHRvb2x0aXA6ICfop6blj5F0b3VjaG1vdmXlkI7liIblj5HmlbDmja4nXG4gICAgfSkgKi9cbiAgICBqb3lDYWxsQmFjazogY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlciA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyO1xuXG4gICAgaXNLZXlUb3VjaF9hOmJvb2xlYW49ZmFsc2U7XG4gICAgaXNLZXlUb3VjaF9kOmJvb2xlYW49ZmFsc2U7XG4gICAgc3RhdGljIGluc3RhbmNlOkpveVN0aWNrPW51bGw7XG4gICAgb25Mb2FkKCkge1xuICAgICAgICBKb3lTdGljay5pbnN0YW5jZT10aGlzO1xuICAgICAgICB0aGlzLmdvQmFja01pZCgpO1xuXG4gICAgfVxuICAgIGluaXQoKXtcbiAgICAgICAgdGhpcy5qb3lDYWxsQmFjay50YXJnZXQgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXI7XG4gICAgICAgIHRoaXMuam95Q2FsbEJhY2suY29tcG9uZW50PVwicGxheWVyQ29udHJvbGxlclwiXG4gICAgICAgIHRoaXMuam95Q2FsbEJhY2suaGFuZGxlciA9IFwibW92ZVwiO1xuICAgICAgICB0aGlzLmJpbkV2ZW50KCk7XG4gICAgfVxuICAgIGJpbkV2ZW50KCkge1xuICAgICAgICB0aGlzLmpveUJrLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCB0aGlzLm9uVG91Y2hTdGFydCwgdGhpcyk7XG4gICAgICAgIHRoaXMuam95Qmsub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSwgdGhpcy5vblRvdWNoTW92ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuam95Qmsub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uVG91Y2hFbmQsIHRoaXMpO1xuICAgICAgICB0aGlzLmpveUJrLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwgdGhpcy5vblRvdWNoRW5kLCB0aGlzKTtcbiAgICAgICAgY2Muc3lzdGVtRXZlbnQub24oY2MuU3lzdGVtRXZlbnQuRXZlbnRUeXBlLktFWV9ET1dOLCB0aGlzLmtleURvd24sIHRoaXMpO1xuICAgICAgICBjYy5zeXN0ZW1FdmVudC5vbihjYy5TeXN0ZW1FdmVudC5FdmVudFR5cGUuS0VZX1VQLCB0aGlzLmtleVVwLCB0aGlzKTtcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnQoKSB7XG4gICAgICAgIHRoaXMuam95Qmsub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCB0aGlzLm9uVG91Y2hTdGFydCwgdGhpcyk7XG4gICAgICAgIHRoaXMuam95Qmsub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIHRoaXMub25Ub3VjaE1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLmpveUJrLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMub25Ub3VjaEVuZCwgdGhpcyk7XG4gICAgICAgIHRoaXMuam95Qmsub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwgdGhpcy5vblRvdWNoRW5kLCB0aGlzKTtcbiAgICAgICAgY2Muc3lzdGVtRXZlbnQub2ZmKGNjLlN5c3RlbUV2ZW50LkV2ZW50VHlwZS5LRVlfRE9XTiwgdGhpcy5rZXlEb3duLCB0aGlzKTtcbiAgICAgICAgY2Muc3lzdGVtRXZlbnQub2ZmKGNjLlN5c3RlbUV2ZW50LkV2ZW50VHlwZS5LRVlfVVAsIHRoaXMua2V5VXAsIHRoaXMpO1xuICAgIH1cblxuICAgIGdvQmFja01pZCgpIHtcbiAgICAgICAgdGhpcy5taWROb2RlLnNldFBvc2l0aW9uKDAsIDApO1xuICAgIH1cblxuICAgIG9uVG91Y2hTdGFydChldmVudDogY2MuRXZlbnQuRXZlbnRUb3VjaCkge1xuICAgICAgICBsZXQgcG9zOiBjYy5WZWMyID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKGNjLnYyKGV2ZW50LmdldExvY2F0aW9uKCkpKTtcbiAgICAgICAgcG9zID0gY2MudjIocG9zLnggKiB0aGlzLnpvb20sIDApO1xuICAgICAgICB0aGlzLmNsYW1wUG9zKHBvcyk7XG4gICAgICAgIHRoaXMubWlkTm9kZS5zZXRQb3NpdGlvbihwb3MpO1xuICAgICAgICB0aGlzLmpveUNhbGxCYWNrLmVtaXQoW3Bvc10pO1xuICAgIH1cblxuICAgIG9uVG91Y2hNb3ZlKGV2ZW50OiBjYy5FdmVudC5FdmVudFRvdWNoKSB7XG4gICAgICAgIGxldCBwb3M6IGNjLlZlYzIgPSB0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIoY2MudjIoZXZlbnQuZ2V0TG9jYXRpb24oKSkpO1xuICAgICAgICBwb3MgPSBjYy52Mihwb3MueCAqIHRoaXMuem9vbSwgMCk7XG4gICAgICAgIHRoaXMuY2xhbXBQb3MocG9zKTtcbiAgICAgICAgdGhpcy5taWROb2RlLnNldFBvc2l0aW9uKHBvcyk7XG4gICAgICAgIHRoaXMuam95Q2FsbEJhY2suZW1pdChbcG9zXSk7XG4gICAgfVxuXG4gICAgb25Ub3VjaEVuZChlOiBjYy5FdmVudC5FdmVudFRvdWNoKSB7XG4gICAgICAgIHRoaXMuZ29CYWNrTWlkKCk7XG4gICAgICAgIHRoaXMuam95Q2FsbEJhY2suZW1pdChbY2MudjIoMCwgMCldKTtcbiAgICB9XG4gICAga2V5RG93bihldmVudDogY2MuRXZlbnQuRXZlbnRLZXlib2FyZCkge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLmE6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0tleVRvdWNoX2E9dHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1pZE5vZGUuc2V0UG9zaXRpb24oLTQwLDApO1xuICAgICAgICAgICAgICAgIHRoaXMuam95Q2FsbEJhY2suZW1pdChbY2MudjIoLTEsMCldKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLmQ6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0tleVRvdWNoX2Q9dHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1pZE5vZGUuc2V0UG9zaXRpb24oNDAsMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5qb3lDYWxsQmFjay5lbWl0KFtjYy52MigxLDApXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAga2V5VXAoZXZlbnQ6IGNjLkV2ZW50LkV2ZW50S2V5Ym9hcmQpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIGNjLm1hY3JvLktFWS5hOlxuICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNLZXlUb3VjaF9kKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0tleVRvdWNoX2E9ZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNLZXlUb3VjaF9kPXRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWlkTm9kZS5zZXRQb3NpdGlvbig0MCwwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5qb3lDYWxsQmFjay5lbWl0KFtjYy52MigxLDApXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIHRoaXMuaXNLZXlUb3VjaF9hPWZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuZ29CYWNrTWlkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5qb3lDYWxsQmFjay5lbWl0KFtjYy52MigwLDApXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNjLm1hY3JvLktFWS5kOlxuICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNLZXlUb3VjaF9hKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0tleVRvdWNoX2Q9ZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNLZXlUb3VjaF9hPXRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWlkTm9kZS5zZXRQb3NpdGlvbigtNDAsMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuam95Q2FsbEJhY2suZW1pdChbY2MudjIoLTEsMCldKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgdGhpcy5pc0tleVRvdWNoX2Q9ZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5nb0JhY2tNaWQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmpveUNhbGxCYWNrLmVtaXQoW2NjLnYyKDAsMCldKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDmoLnmja7ljYrlvoTpmZDliLbkvY3nva5cbiAgICAgKiBAcGFyYW0gcG9zIFxuICAgICAqL1xuICAgIGNsYW1wUG9zKHBvczogY2MuVmVjMikge1xuICAgICAgICBsZXQgbGVuOiBudW1iZXIgPSBwb3MubWFnKCk7XG4gICAgICAgIGlmIChsZW4gPiB0aGlzLm1heFIpIHtcbiAgICAgICAgICAgIGxldCBrOiBudW1iZXIgPSB0aGlzLm1heFIgLyBsZW47XG4gICAgICAgICAgICBwb3MueCAqPSBrO1xuICAgICAgICAgICAgcG9zLnkgKj0gaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOagueaNruS9jee9rui9rOWMluinkuW6plxuICAgICAqIEBwYXJhbSBwb3MgXG4gICAgICovXG4gICAgY291dmVydFRvQW5nbGUocG9zOiBjYy5WZWMyKSB7XG4gICAgICAgIGxldCByOiBudW1iZXIgPSBNYXRoLmF0YW4yKHBvcy55LCBwb3MueCk7XG4gICAgICAgIGxldCBkOiBudW1iZXIgPSBjYy5taXNjLnJhZGlhbnNUb0RlZ3JlZXMocik7XG4gICAgICAgIHJldHVybiBkO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/playerCollider.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd90ddg5K2ZCTaUAEfzGYdUA', 'playerCollider');
// scripts/game/playerCollider.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var playerController_1 = require("./playerController");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var playerCollider = /** @class */ (function (_super) {
    __extends(playerCollider, _super);
    function playerCollider() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.playerController = null;
        _this.isFlying = false;
        return _this;
        // 每次将要处理碰撞体接触逻辑时被调用
        // onPreSolve (contact, selfCollider, otherCollider) {
        // }
        // 每次处理完碰撞体接触逻辑时被调用
        // onPostSolve (contact, selfCollider, otherCollider) {
        // }
    }
    playerCollider.prototype.onLoad = function () {
        this.playerController = this.node.getComponent(playerController_1.default);
    };
    // 只在两个碰撞体开始接触时被调用一次
    playerCollider.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "ground") {
            this.isFlying = false;
            this.playerController.dropToGround();
        }
        else if (other.group == "wall") {
            contact.setFriction(0);
        }
    };
    // 只在两个碰撞体结束接触时被调用一次
    playerCollider.prototype.onEndContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "ground") {
            this.isFlying = true;
        }
    };
    playerCollider = __decorate([
        ccclass
    ], playerCollider);
    return playerCollider;
}(cc.Component));
exports.default = playerCollider;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxccGxheWVyQ29sbGlkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsdURBQWtEO0FBRTVDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBd0NDO1FBdENHLHNCQUFnQixHQUFrQixJQUFJLENBQUM7UUFFdkMsY0FBUSxHQUFTLEtBQUssQ0FBQzs7UUE2QnZCLG9CQUFvQjtRQUNwQixzREFBc0Q7UUFDdEQsSUFBSTtRQUVKLG1CQUFtQjtRQUNuQix1REFBdUQ7UUFDdkQsSUFBSTtJQUNSLENBQUM7SUFsQ0csK0JBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxnQkFBZ0IsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQywwQkFBZ0IsQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFRCxvQkFBb0I7SUFDcEIsdUNBQWMsR0FBZCxVQUFnQixPQUF5QixFQUFDLFlBQStCLEVBQUMsYUFBZ0M7UUFDdEcsSUFBSSxLQUFLLEdBQUMsYUFBYSxDQUFDLElBQUksQ0FBQztRQUM3QixrREFBa0Q7UUFDbEQscUNBQXFDO1FBQ3JDLElBQUksS0FBSyxDQUFDLEtBQUssSUFBSSxRQUFRLEVBQUU7WUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBQyxLQUFLLENBQUM7WUFDcEIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksRUFBRSxDQUFDO1NBQ3hDO2FBQUssSUFBRyxLQUFLLENBQUMsS0FBSyxJQUFFLE1BQU0sRUFBQztZQUN6QixPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzFCO0lBQ0wsQ0FBQztJQUVELG9CQUFvQjtJQUNwQixxQ0FBWSxHQUFaLFVBQWMsT0FBeUIsRUFBQyxZQUErQixFQUFDLGFBQWdDO1FBQ3BHLElBQUksS0FBSyxHQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUM7UUFDN0Isa0RBQWtEO1FBQ2xELHFDQUFxQztRQUNyQyxJQUFJLEtBQUssQ0FBQyxLQUFLLElBQUksUUFBUSxFQUFFO1lBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUMsSUFBSSxDQUFDO1NBQ3RCO0lBQ0wsQ0FBQztJQS9CZ0IsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQXdDbEM7SUFBRCxxQkFBQztDQXhDRCxBQXdDQyxDQXhDMkMsRUFBRSxDQUFDLFNBQVMsR0F3Q3ZEO2tCQXhDb0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgcGxheWVyQ29udHJvbGxlciBmcm9tIFwiLi9wbGF5ZXJDb250cm9sbGVyXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgcGxheWVyQ29sbGlkZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgcGxheWVyQ29udHJvbGxlcjpwbGF5ZXJDb250cm9sbGVyPW51bGw7XG5cbiAgICBpc0ZseWluZzpib29sZWFuPWZhbHNlO1xuXG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJDb250cm9sbGVyPXRoaXMubm9kZS5nZXRDb21wb25lbnQocGxheWVyQ29udHJvbGxlcik7XG4gICAgfVxuXG4gICAgLy8g5Y+q5Zyo5Lik5Liq56Kw5pKe5L2T5byA5aeL5o6l6Kem5pe26KKr6LCD55So5LiA5qyhXG4gICAgb25CZWdpbkNvbnRhY3QgKGNvbnRhY3Q6Y2MuUGh5c2ljc0NvbnRhY3Qsc2VsZkNvbGxpZGVyOmNjLlBoeXNpY3NDb2xsaWRlcixvdGhlckNvbGxpZGVyOmNjLlBoeXNpY3NDb2xsaWRlcikge1xuICAgICAgICBsZXQgb3RoZXI9b3RoZXJDb2xsaWRlci5ub2RlO1xuICAgICAgICAvLyBsZXQgd29ybGRNYW5pZm9sZCA9IGNvbnRhY3QuZ2V0V29ybGRNYW5pZm9sZCgpO1xuICAgICAgICAvLyBsZXQgbm9ybWFsID0gd29ybGRNYW5pZm9sZC5ub3JtYWw7XG4gICAgICAgIGlmIChvdGhlci5ncm91cCA9PSBcImdyb3VuZFwiKSB7XG4gICAgICAgICAgICB0aGlzLmlzRmx5aW5nPWZhbHNlO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJDb250cm9sbGVyLmRyb3BUb0dyb3VuZCgpO1xuICAgICAgICB9ZWxzZSBpZihvdGhlci5ncm91cD09XCJ3YWxsXCIpe1xuICAgICAgICAgICAgY29udGFjdC5zZXRGcmljdGlvbigwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWPquWcqOS4pOS4queisOaSnuS9k+e7k+adn+aOpeinpuaXtuiiq+iwg+eUqOS4gOasoVxuICAgIG9uRW5kQ29udGFjdCAoY29udGFjdDpjYy5QaHlzaWNzQ29udGFjdCxzZWxmQ29sbGlkZXI6Y2MuUGh5c2ljc0NvbGxpZGVyLG90aGVyQ29sbGlkZXI6Y2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGxldCBvdGhlcj1vdGhlckNvbGxpZGVyLm5vZGU7XG4gICAgICAgIC8vIGxldCB3b3JsZE1hbmlmb2xkID0gY29udGFjdC5nZXRXb3JsZE1hbmlmb2xkKCk7XG4gICAgICAgIC8vIGxldCBub3JtYWwgPSB3b3JsZE1hbmlmb2xkLm5vcm1hbDtcbiAgICAgICAgaWYgKG90aGVyLmdyb3VwID09IFwiZ3JvdW5kXCIpIHtcbiAgICAgICAgICAgIHRoaXMuaXNGbHlpbmc9dHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOavj+asoeWwhuimgeWkhOeQhueisOaSnuS9k+aOpeinpumAu+i+keaXtuiiq+iwg+eUqFxuICAgIC8vIG9uUHJlU29sdmUgKGNvbnRhY3QsIHNlbGZDb2xsaWRlciwgb3RoZXJDb2xsaWRlcikge1xuICAgIC8vIH1cblxuICAgIC8vIOavj+asoeWkhOeQhuWujOeisOaSnuS9k+aOpeinpumAu+i+keaXtuiiq+iwg+eUqFxuICAgIC8vIG9uUG9zdFNvbHZlIChjb250YWN0LCBzZWxmQ29sbGlkZXIsIG90aGVyQ29sbGlkZXIpIHtcbiAgICAvLyB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/main/choseLevelPanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5411eznvA9CNJhuceRQ964e', 'choseLevelPanel');
// scripts/main/choseLevelPanel.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var uiBase_1 = require("../uiBase");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var choseLevelPanel = /** @class */ (function (_super) {
    __extends(choseLevelPanel, _super);
    function choseLevelPanel() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.levelItem = null;
        _this.layouts = [];
        _this.levelNum = 100;
        _this.nowPage = 1;
        _this.maxPage = 0;
        return _this;
    }
    choseLevelPanel.prototype.onLoad = function () {
        this.initUi();
    };
    choseLevelPanel.prototype.start = function () {
        this.init();
    };
    choseLevelPanel.prototype.init = function () {
        this.maxPage = Math.ceil(this.levelNum / 8);
        for (var j = 0; j < this.maxPage; j++) {
            var num = (this.levelNum - j * 8) >= 8 ? 8 : this.levelNum - j * 8;
            for (var i = 1; i <= num; i++) {
                var levelItem = cc.instantiate(this.levelItem);
                levelItem.setParent(this.layouts[j]);
                levelItem.name = (i + j * 8).toString();
                levelItem.active = true;
            }
        }
    };
    choseLevelPanel.prototype.next = function () {
        if (this.nowPage == this.maxPage)
            return;
        this.layouts[this.nowPage - 1].active = false;
        this.nowPage++;
        this.layouts[this.nowPage - 1].active = true;
    };
    choseLevelPanel.prototype.last = function () {
        if (this.nowPage == 1)
            return;
        this.layouts[this.nowPage - 1].active = false;
        this.nowPage--;
        this.layouts[this.nowPage - 1].active = true;
    };
    choseLevelPanel.prototype.close = function () {
        this.node.destroy();
    };
    __decorate([
        property(cc.Prefab)
    ], choseLevelPanel.prototype, "levelItem", void 0);
    __decorate([
        property(cc.Node)
    ], choseLevelPanel.prototype, "layouts", void 0);
    choseLevelPanel = __decorate([
        ccclass
    ], choseLevelPanel);
    return choseLevelPanel;
}(uiBase_1.default));
exports.default = choseLevelPanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcbWFpblxcY2hvc2VMZXZlbFBhbmVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLG9DQUErQjtBQUV6QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE2QyxtQ0FBTTtJQUFuRDtRQUFBLHFFQTRDQztRQXpDRyxlQUFTLEdBQVcsSUFBSSxDQUFDO1FBRXpCLGFBQU8sR0FBVyxFQUFFLENBQUM7UUFFckIsY0FBUSxHQUFRLEdBQUcsQ0FBQztRQUNwQixhQUFPLEdBQVEsQ0FBQyxDQUFDO1FBQ2pCLGFBQU8sR0FBUSxDQUFDLENBQUM7O0lBbUNyQixDQUFDO0lBbENHLGdDQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELCtCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUNELDhCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsT0FBTyxHQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QyxLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUUsRUFBQztZQUMzQixJQUFJLEdBQUcsR0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxJQUFFLENBQUMsQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFBLENBQUMsQ0FBQSxJQUFJLENBQUMsUUFBUSxHQUFDLENBQUMsR0FBQyxDQUFDLENBQUM7WUFDbkQsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxJQUFFLEdBQUcsRUFBQyxDQUFDLEVBQUUsRUFBQztnQkFDbkIsSUFBSSxTQUFTLEdBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQzdDLFNBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNyQyxTQUFTLENBQUMsSUFBSSxHQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFDbEMsU0FBUyxDQUFDLE1BQU0sR0FBQyxJQUFJLENBQUM7YUFDekI7U0FDSjtJQUNMLENBQUM7SUFDRCw4QkFBSSxHQUFKO1FBQ0ksSUFBRyxJQUFJLENBQUMsT0FBTyxJQUFFLElBQUksQ0FBQyxPQUFPO1lBQUUsT0FBTTtRQUNyQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFDLEtBQUssQ0FBQztRQUMxQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQztJQUM3QyxDQUFDO0lBQ0QsOEJBQUksR0FBSjtRQUNJLElBQUcsSUFBSSxDQUFDLE9BQU8sSUFBRSxDQUFDO1lBQUUsT0FBTztRQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFDLEtBQUssQ0FBQztRQUMxQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQztJQUM3QyxDQUFDO0lBQ0QsK0JBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQXhDRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3NEQUNLO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0RBQ0c7SUFMSixlQUFlO1FBRG5DLE9BQU87T0FDYSxlQUFlLENBNENuQztJQUFELHNCQUFDO0NBNUNELEFBNENDLENBNUM0QyxnQkFBTSxHQTRDbEQ7a0JBNUNvQixlQUFlIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCB1aUJhc2UgZnJvbSBcIi4uL3VpQmFzZVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGNob3NlTGV2ZWxQYW5lbCBleHRlbmRzIHVpQmFzZXtcblxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXG4gICAgbGV2ZWxJdGVtOmNjLlByZWZhYj1udWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIGxheW91dHM6Y2MuTm9kZVtdPVtdO1xuXG4gICAgbGV2ZWxOdW06bnVtYmVyPTEwMDtcbiAgICBub3dQYWdlOm51bWJlcj0xO1xuICAgIG1heFBhZ2U6bnVtYmVyPTA7XG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5pbml0VWkoKTtcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBpbml0KCl7XG4gICAgICAgIHRoaXMubWF4UGFnZT1NYXRoLmNlaWwodGhpcy5sZXZlbE51bS84KTtcbiAgICAgICAgZm9yKGxldCBqPTA7ajx0aGlzLm1heFBhZ2U7aisrKXtcbiAgICAgICAgICAgIGxldCBudW09KHRoaXMubGV2ZWxOdW0taio4KT49OD84OnRoaXMubGV2ZWxOdW0taio4O1xuICAgICAgICAgICAgZm9yKGxldCBpPTE7aTw9bnVtO2krKyl7XG4gICAgICAgICAgICAgICAgbGV0IGxldmVsSXRlbT1jYy5pbnN0YW50aWF0ZSh0aGlzLmxldmVsSXRlbSk7XG4gICAgICAgICAgICAgICAgbGV2ZWxJdGVtLnNldFBhcmVudCh0aGlzLmxheW91dHNbal0pO1xuICAgICAgICAgICAgICAgIGxldmVsSXRlbS5uYW1lPShpK2oqOCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBsZXZlbEl0ZW0uYWN0aXZlPXRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV4dCgpe1xuICAgICAgICBpZih0aGlzLm5vd1BhZ2U9PXRoaXMubWF4UGFnZSkgcmV0dXJuXG4gICAgICAgIHRoaXMubGF5b3V0c1t0aGlzLm5vd1BhZ2UtMV0uYWN0aXZlPWZhbHNlO1xuICAgICAgICB0aGlzLm5vd1BhZ2UrKztcbiAgICAgICAgdGhpcy5sYXlvdXRzW3RoaXMubm93UGFnZS0xXS5hY3RpdmU9dHJ1ZTtcbiAgICB9XG4gICAgbGFzdCgpe1xuICAgICAgICBpZih0aGlzLm5vd1BhZ2U9PTEpIHJldHVybjtcbiAgICAgICAgdGhpcy5sYXlvdXRzW3RoaXMubm93UGFnZS0xXS5hY3RpdmU9ZmFsc2U7XG4gICAgICAgIHRoaXMubm93UGFnZS0tO1xuICAgICAgICB0aGlzLmxheW91dHNbdGhpcy5ub3dQYWdlLTFdLmFjdGl2ZT10cnVlO1xuICAgIH1cbiAgICBjbG9zZSgpe1xuICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/sdk/_oppo.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5f56fwWgFJHeJLqFUCoLqCS', '_oppo');
// scripts/sdk/_oppo.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ch_oppo = void 0;
var export_sdk_1 = require("../../syyx_sdk/export_sdk");
var TAG = '_oppo.ts';
var _oppo = /** @class */ (function () {
    function _oppo() {
        this.bannerId = "";
        this.videoId = "";
        this.bannerAd = null;
        this.videoAd = null;
        this.OnVideoCallBackListener = null;
        this.bannerAd_showNum = 20;
        this.sdkInitEnd = false;
        this.initTime = 0;
        console.log(TAG, 'init platform channel: oppo_play');
    }
    _oppo.getInstance = function () {
        if (this.Instance == null) {
            this.Instance = new _oppo();
            this.Instance.initTime = new Date().getTime();
        }
        return this.Instance;
    };
    _oppo.prototype.initAdParams = function (param) {
        if (this.sdkInitEnd) {
            return;
        }
        this.sdkInitEnd = true;
        this.bannerId = param.bannerId;
        this.videoId = param.videoId;
        this.initVideoAd();
        this.initBannerAd();
        ///> 新平台版本号'1051'（minPlatformVersion> ='1051'）已经不再需要进行广告初始化qg.initAdService(object);
    };
    _oppo.prototype.initBannerAd = function () {
        var self = this;
        //@ts-ignore
        var bannerAd = qg.createBannerAd({
            posId: this.bannerId
        });
        this.bannerAd = bannerAd;
        this.bannerAd.onHide(function () {
            self.bannerAd_showNum -= 1;
            console.log(TAG, "banner 广告隐藏!");
        });
        this.bannerAd.onShow(function () {
            console.log(TAG, "banner 广告显示!");
        });
        this.bannerAd.onError(function (err) {
            switch (err['errCode']) {
                case 1001:
                    console.warn(TAG, '1.传参是否有误!');
                    console.warn(TAG, '2.是否使用了不支持的方法操作!');
                    console.warn(TAG, '3.不要重复拉取广告，我们制定限制!');
                    console.warn(TAG, '4.广告资源位是否没有申请!');
                    break;
                case 1002:
                    console.warn(TAG, '广告必须在19/14之后的Android版本上显示，一般是包名错误导致的!');
                    break;
                case 1003:
                    console.warn(TAG, '无广告返回!');
                    break;
                case 1004:
                    console.warn(TAG, '1.OPPO开放平台查看广告是否异常，异常则重新申请!');
                    console.warn(TAG, '1.检查手机设置的时间是否晚于现在实际的时间，若是，请设置与北京时间相同!');
                    console.warn(TAG, '1.在包名正确情况下，概率性偏移20003报错属于正常现象，报错与广告填充率/短时间交替拉取广告有关，请上架后前往OPPO广告联盟后台，查看广告数据是否正常（填充率是否正常）；继续拉取广告，是会拉取不到广告，因为我们对拉取频次作了限制!');
                    break;
            }
        });
    };
    _oppo.prototype.bannerAd_show = function () {
        if (this.bannerAd_showNum <= 0 || new Date().getTime() - this.initTime < 60000) {
            return;
        }
        this.bannerAd.show();
    };
    _oppo.prototype.bannerAd_hide = function () {
        if (this.bannerAd) {
            this.bannerAd.hide();
            this.bannerAd.destroy();
            this.initBannerAd();
        }
    };
    _oppo.prototype.initVideoAd = function () {
        var self = this;
        //@ts-ignore
        this.videoAd = qg.createRewardedVideoAd({
            posId: self.videoId
        });
        this.videoAd.onLoad(function () {
            self.videoAd.show();
        });
        this.videoAd.onError(function (err) {
            switch (err['errCode']) {
                case 1001:
                    console.warn(TAG, '1.传参是否有误!');
                    console.warn(TAG, '2.是否使用了不支持的方法操作!');
                    console.warn(TAG, '3.不要重复拉取广告，我们制定限制!');
                    console.warn(TAG, '4.广告资源位是否没有申请!');
                    break;
                case 1002:
                    console.warn(TAG, '广告必须在19/14之后的Android版本上显示，一般是包名错误导致的!');
                    break;
                case 1003:
                    console.warn(TAG, '无广告返回!');
                    break;
                case 1004:
                    console.warn(TAG, '1.OPPO开放平台查看广告是否异常，异常则重新申请!');
                    console.warn(TAG, '1.检查手机设置的时间是否晚于现在实际的时间，若是，请设置与北京时间相同!');
                    console.warn(TAG, '1.在包名正确情况下，概率性偏移20003报错属于正常现象，报错与广告填充率/短时间交替拉取广告有关，请上架后前往OPPO广告联盟后台，查看广告数据是否正常（填充率是否正常）；继续拉取广告，是会拉取不到广告，因为我们对拉取频次作了限制!');
                    break;
            }
            //@ts-ignore
            qg.showToast({
                title: '暂时没有视频广告了，请稍后再试！',
                icon: 'none',
                duration: 2000
            });
        });
        this.videoAd.onClose(function (res) {
            if (res.isEnded) {
                self.OnVideoCallBackListener(true);
            }
            else {
                self.OnVideoCallBackListener(false);
            }
        });
    };
    _oppo.prototype.videoAd_show = function (OnVideoCall) {
        // this.OnVideoCallBackListener = OnVideoCall;
        // this.videoAd.load();
        export_sdk_1.Export.show_video(function () {
            cc.log('看完视频，需要在此写上放发奖励代码');
            OnVideoCall && OnVideoCall(true);
        }, function () {
            OnVideoCall && OnVideoCall(false);
        });
    };
    _oppo.prototype._oppoPush = function (packgeName) {
        if (packgeName === void 0) { packgeName = ''; }
        // @ts-ignore
        qg.navigateToMiniGame({ pkgName: packgeName });
    };
    _oppo.prototype.shakeDevice = function () {
        // @ts-ignore
        qg.vibrateShort({});
    };
    return _oppo;
}());
exports.ch_oppo = _oppo;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcc2RrXFxfb3Bwby50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx3REFBbUQ7QUFFbkQsSUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDO0FBQ3ZCO0lBVUk7UUFSUSxhQUFRLEdBQVcsRUFBRSxDQUFDO1FBQ3RCLFlBQU8sR0FBVyxFQUFFLENBQUM7UUFDckIsYUFBUSxHQUFRLElBQUksQ0FBQztRQUNyQixZQUFPLEdBQVEsSUFBSSxDQUFDO1FBQ3BCLDRCQUF1QixHQUFhLElBQUksQ0FBQztRQUN6QyxxQkFBZ0IsR0FBVyxFQUFFLENBQUM7UUFDOUIsZUFBVSxHQUFZLEtBQUssQ0FBQztRQUM1QixhQUFRLEdBQVcsQ0FBQyxDQUFDO1FBRXpCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLGtDQUFrQyxDQUFDLENBQUM7SUFDekQsQ0FBQztJQUNhLGlCQUFXLEdBQXpCO1FBQ0ksSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksRUFBRTtZQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7WUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUNqRDtRQUNELE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN6QixDQUFDO0lBQ0QsNEJBQVksR0FBWixVQUFhLEtBQVk7UUFDckIsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2pCLE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUMvQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFDN0IsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLElBQUksQ0FBQyxZQUFZ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QUFDLElBQUksQ0FBQyxDQUFDO2FBQ3RDO2lCQUFNO2dCQUNILElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUN2QztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELDRCQUFZLEdBQVosVUFBYSxXQUFxQjtRQUM5Qiw4Q0FBOEM7UUFDOUMsdUJBQXVCO1FBRXZCLG1CQUFNLENBQUMsVUFBVSxDQUFDO1lBQ2QsRUFBRSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBQzVCLFdBQVcsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsQ0FBQyxFQUFDO1lBQ0UsV0FBVyxJQUFJLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUMsQ0FBQTtJQUVOLENBQUM7SUFDRCx5QkFBUyxHQUFULFVBQVUsVUFBdUI7UUFBdkIsMkJBQUEsRUFBQSxlQUF1QjtRQUM3QixhQUFhO1FBQ2IsRUFBRSxDQUFDLGtCQUFrQixDQUFDLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUNELDJCQUFXLEdBQVg7UUFDSSxhQUFhO1FBQ2IsRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBQ0wsWUFBQztBQUFELENBaEpBLEFBZ0pDLElBQUE7QUFDWSxRQUFBLE9BQU8sR0FBRyxLQUFLLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeHBvcnQgfSBmcm9tIFwiLi4vLi4vc3l5eF9zZGsvZXhwb3J0X3Nka1wiO1xuaW1wb3J0IHsgcGFyYW0gfSBmcm9tIFwiLi90eXBlXCI7XG5jb25zdCBUQUcgPSAnX29wcG8udHMnO1xuY2xhc3MgX29wcG8ge1xuICAgIHByaXZhdGUgc3RhdGljIEluc3RhbmNlOiBfb3BwbztcbiAgICBwcml2YXRlIGJhbm5lcklkOiBzdHJpbmcgPSBcIlwiO1xuICAgIHByaXZhdGUgdmlkZW9JZDogc3RyaW5nID0gXCJcIjtcbiAgICBwcml2YXRlIGJhbm5lckFkOiBhbnkgPSBudWxsO1xuICAgIHByaXZhdGUgdmlkZW9BZDogYW55ID0gbnVsbDtcbiAgICBwcml2YXRlIE9uVmlkZW9DYWxsQmFja0xpc3RlbmVyOiBGdW5jdGlvbiA9IG51bGw7XG4gICAgcHJpdmF0ZSBiYW5uZXJBZF9zaG93TnVtOiBudW1iZXIgPSAyMDtcbiAgICBwcml2YXRlIHNka0luaXRFbmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGluaXRUaW1lOiBudW1iZXIgPSAwO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhUQUcsICdpbml0IHBsYXRmb3JtIGNoYW5uZWw6IG9wcG9fcGxheScpO1xuICAgIH1cbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IF9vcHBvIHtcbiAgICAgICAgaWYgKHRoaXMuSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5JbnN0YW5jZSA9IG5ldyBfb3BwbygpO1xuICAgICAgICAgICAgdGhpcy5JbnN0YW5jZS5pbml0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLkluc3RhbmNlO1xuICAgIH1cbiAgICBpbml0QWRQYXJhbXMocGFyYW06IHBhcmFtKSB7XG4gICAgICAgIGlmICh0aGlzLnNka0luaXRFbmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNka0luaXRFbmQgPSB0cnVlO1xuICAgICAgICB0aGlzLmJhbm5lcklkID0gcGFyYW0uYmFubmVySWQ7XG4gICAgICAgIHRoaXMudmlkZW9JZCA9IHBhcmFtLnZpZGVvSWQ7XG4gICAgICAgIHRoaXMuaW5pdFZpZGVvQWQoKTtcbiAgICAgICAgdGhpcy5pbml0QmFubmVyQWQoKTtcbiAgICAgICAgLy8vPiDmlrDlubPlj7DniYjmnKzlj7cnMTA1MSfvvIhtaW5QbGF0Zm9ybVZlcnNpb24+ID0nMTA1MSfvvInlt7Lnu4/kuI3lho3pnIDopoHov5vooYzlub/lkYrliJ3lp4vljJZxZy5pbml0QWRTZXJ2aWNlKG9iamVjdCk7XG4gICAgfVxuICAgIGluaXRCYW5uZXJBZCgpIHtcbiAgICAgICAgbGV0IHNlbGY6IF9vcHBvID0gdGhpcztcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHZhciBiYW5uZXJBZCA9IHFnLmNyZWF0ZUJhbm5lckFkKHtcbiAgICAgICAgICAgIHBvc0lkOiB0aGlzLmJhbm5lcklkXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJhbm5lckFkID0gYmFubmVyQWQ7XG4gICAgICAgIHRoaXMuYmFubmVyQWQub25IaWRlKCgpID0+IHtcbiAgICAgICAgICAgIHNlbGYuYmFubmVyQWRfc2hvd051bSAtPSAxO1xuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBcImJhbm5lciDlub/lkYrpmpDol48hXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5iYW5uZXJBZC5vblNob3coKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBcImJhbm5lciDlub/lkYrmmL7npLohXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5iYW5uZXJBZC5vbkVycm9yKChlcnI6IGFueSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChlcnJbJ2VyckNvZGUnXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwMTpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJzEu5Lyg5Y+C5piv5ZCm5pyJ6K+vIScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAnMi7mmK/lkKbkvb/nlKjkuobkuI3mlK/mjIHnmoTmlrnms5Xmk43kvZwhJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICczLuS4jeimgemHjeWkjeaLieWPluW5v+WRiu+8jOaIkeS7rOWItuWumumZkOWItiEnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJzQu5bm/5ZGK6LWE5rqQ5L2N5piv5ZCm5rKh5pyJ55Sz6K+3IScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICflub/lkYrlv4XpobvlnKgxOS8xNOS5i+WQjueahEFuZHJvaWTniYjmnKzkuIrmmL7npLrvvIzkuIDoiKzmmK/ljIXlkI3plJnor6/lr7zoh7TnmoQhJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwMzpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+aXoOW5v+WRiui/lOWbniEnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDA0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAnMS5PUFBP5byA5pS+5bmz5Y+w5p+l55yL5bm/5ZGK5piv5ZCm5byC5bi477yM5byC5bi45YiZ6YeN5paw55Sz6K+3IScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAnMS7mo4Dmn6XmiYvmnLrorr7nva7nmoTml7bpl7TmmK/lkKbmmZrkuo7njrDlnKjlrp7pmYXnmoTml7bpl7TvvIzoi6XmmK/vvIzor7forr7nva7kuI7ljJfkuqzml7bpl7Tnm7jlkIwhJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICcxLuWcqOWMheWQjeato+ehruaDheWGteS4i++8jOamgueOh+aAp+WBj+enuzIwMDAz5oql6ZSZ5bGe5LqO5q2j5bi4546w6LGh77yM5oql6ZSZ5LiO5bm/5ZGK5aGr5YWF546HL+efreaXtumXtOS6pOabv+aLieWPluW5v+WRiuacieWFs++8jOivt+S4iuaetuWQjuWJjeW+gE9QUE/lub/lkYrogZTnm5/lkI7lj7DvvIzmn6XnnIvlub/lkYrmlbDmja7mmK/lkKbmraPluLjvvIjloavlhYXnjofmmK/lkKbmraPluLjvvInvvJvnu6fnu63mi4nlj5blub/lkYrvvIzmmK/kvJrmi4nlj5bkuI3liLDlub/lkYrvvIzlm6DkuLrmiJHku6zlr7nmi4nlj5bpopHmrKHkvZzkuobpmZDliLYhJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYmFubmVyQWRfc2hvdygpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFubmVyQWRfc2hvd051bSA8PSAwIHx8IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5pbml0VGltZSA8IDYwMDAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYW5uZXJBZC5zaG93KCk7XG4gICAgfVxuICAgIGJhbm5lckFkX2hpZGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhbm5lckFkKSB7XG4gICAgICAgICAgICB0aGlzLmJhbm5lckFkLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuYmFubmVyQWQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5pbml0QmFubmVyQWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0VmlkZW9BZCgpIHtcbiAgICAgICAgbGV0IHNlbGY6IF9vcHBvID0gdGhpcztcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHRoaXMudmlkZW9BZCA9IHFnLmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XG4gICAgICAgICAgICBwb3NJZDogc2VsZi52aWRlb0lkXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZGVvQWQub25Mb2FkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYudmlkZW9BZC5zaG93KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZGVvQWQub25FcnJvcihmdW5jdGlvbiAoZXJyOiBhbnkpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXJyWydlcnJDb2RlJ10pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDE6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICcxLuS8oOWPguaYr+WQpuacieivryEnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJzIu5piv5ZCm5L2/55So5LqG5LiN5pSv5oyB55qE5pa55rOV5pON5L2cIScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAnMy7kuI3opoHph43lpI3mi4nlj5blub/lkYrvvIzmiJHku6zliLblrprpmZDliLYhJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICc0LuW5v+WRiui1hOa6kOS9jeaYr+WQpuayoeacieeUs+ivtyEnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDAyOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAn5bm/5ZGK5b+F6aG75ZyoMTkvMTTkuYvlkI7nmoRBbmRyb2lk54mI5pys5LiK5pi+56S677yM5LiA6Iis5piv5YyF5ZCN6ZSZ6K+v5a+86Ie055qEIScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwMDM6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICfml6Dlub/lkYrov5Tlm54hJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAwNDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJzEuT1BQT+W8gOaUvuW5s+WPsOafpeeci+W5v+WRiuaYr+WQpuW8guW4uO+8jOW8guW4uOWImemHjeaWsOeUs+ivtyEnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJzEu5qOA5p+l5omL5py66K6+572u55qE5pe26Ze05piv5ZCm5pma5LqO546w5Zyo5a6e6ZmF55qE5pe26Ze077yM6Iul5piv77yM6K+36K6+572u5LiO5YyX5Lqs5pe26Ze055u45ZCMIScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCAnMS7lnKjljIXlkI3mraPnoa7mg4XlhrXkuIvvvIzmpoLnjofmgKflgY/np7syMDAwM+aKpemUmeWxnuS6juato+W4uOeOsOixoe+8jOaKpemUmeS4juW5v+WRiuWhq+WFheeOhy/nn63ml7bpl7TkuqTmm7/mi4nlj5blub/lkYrmnInlhbPvvIzor7fkuIrmnrblkI7liY3lvoBPUFBP5bm/5ZGK6IGU55uf5ZCO5Y+w77yM5p+l55yL5bm/5ZGK5pWw5o2u5piv5ZCm5q2j5bi477yI5aGr5YWF546H5piv5ZCm5q2j5bi477yJ77yb57un57ut5ouJ5Y+W5bm/5ZGK77yM5piv5Lya5ouJ5Y+W5LiN5Yiw5bm/5ZGK77yM5Zug5Li65oiR5Lus5a+55ouJ5Y+W6aKR5qyh5L2c5LqG6ZmQ5Yi2IScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgcWcuc2hvd1RvYXN0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+aaguaXtuayoeacieinhumikeW5v+WRiuS6hu+8jOivt+eojeWQjuWGjeivle+8gScsXG4gICAgICAgICAgICAgICAgaWNvbjogJ25vbmUnLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlkZW9BZC5vbkNsb3NlKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcy5pc0VuZGVkKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5PblZpZGVvQ2FsbEJhY2tMaXN0ZW5lcih0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5PblZpZGVvQ2FsbEJhY2tMaXN0ZW5lcihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2aWRlb0FkX3Nob3coT25WaWRlb0NhbGw6IEZ1bmN0aW9uKSB7XG4gICAgICAgIC8vIHRoaXMuT25WaWRlb0NhbGxCYWNrTGlzdGVuZXIgPSBPblZpZGVvQ2FsbDtcbiAgICAgICAgLy8gdGhpcy52aWRlb0FkLmxvYWQoKTtcblxuICAgICAgICBFeHBvcnQuc2hvd192aWRlbygoKSA9PiB7IFxuICAgICAgICAgICAgY2MubG9nKCfnnIvlrozop4bpopHvvIzpnIDopoHlnKjmraTlhpnkuIrmlL7lj5HlpZblirHku6PnoIEnKTtcbiAgICAgICAgICAgIE9uVmlkZW9DYWxsICYmIE9uVmlkZW9DYWxsKHRydWUpO1xuICAgICAgICB9LCgpPT57XG4gICAgICAgICAgICBPblZpZGVvQ2FsbCAmJiBPblZpZGVvQ2FsbChmYWxzZSk7XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH1cbiAgICBfb3Bwb1B1c2gocGFja2dlTmFtZTogc3RyaW5nID0gJycpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBxZy5uYXZpZ2F0ZVRvTWluaUdhbWUoeyBwa2dOYW1lOiBwYWNrZ2VOYW1lIH0pO1xuICAgIH1cbiAgICBzaGFrZURldmljZSgpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBxZy52aWJyYXRlU2hvcnQoe30pO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBjaF9vcHBvID0gX29wcG87Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/main/upgradePanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3be00JMHXxD1b56alKm6SDj', 'upgradePanel');
// scripts/main/upgradePanel.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ad_1 = require("../sdk/ad");
var data_1 = require("../sdk/data");
var uiBase_1 = require("../uiBase");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var upgradePanel = /** @class */ (function (_super) {
    __extends(upgradePanel, _super);
    function upgradePanel() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.lvLabels = null;
        _this.upgradeBtns = null;
        return _this;
    }
    upgradePanel.prototype.onLoad = function () {
        this.initUi();
    };
    upgradePanel.prototype.start = function () {
        this.init();
    };
    upgradePanel.prototype.init = function () {
        for (var i = 0; i < this.lvLabels.childrenCount; i++) {
            var lv = data_1.data.getCache("attributeLv", this.lvLabels.children[i].name);
            this.lvLabels.children[i].getComponent(cc.Label).string = lv == 10 ? "Max" : "Lv" + lv;
            this.upgradeBtns.children[i].active = lv == 10 ? false : true;
        }
    };
    upgradePanel.prototype.back = function () {
        this.node.destroy();
    };
    upgradePanel.prototype.watchAdUpgrade = function (event) {
        var _this = this;
        var target = event.target;
        var type = target.getComponent(cc.Button).clickEvents[0].customEventData;
        // audioManager.pauseBgGame()
        ad_1.ad.video_show().then(function (isok) {
            // audioManager.playBgGame()
            if (isok) {
                _this.upgrade(type);
            }
        });
    };
    upgradePanel.prototype.upgrade = function (type) {
        var lv = data_1.data.getCache("attributeLv", type) + 1;
        lv = lv > 10 ? 10 : lv;
        data_1.data.updateCache("attributeLv", type, lv);
        this.init();
    };
    __decorate([
        property(cc.Node)
    ], upgradePanel.prototype, "lvLabels", void 0);
    __decorate([
        property(cc.Node)
    ], upgradePanel.prototype, "upgradeBtns", void 0);
    upgradePanel = __decorate([
        ccclass
    ], upgradePanel);
    return upgradePanel;
}(uiBase_1.default));
exports.default = upgradePanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcbWFpblxcdXBncmFkZVBhbmVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLGdDQUErQjtBQUMvQixvQ0FBbUM7QUFDbkMsb0NBQStCO0FBR3pCLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQTBDLGdDQUFNO0lBQWhEO1FBQUEscUVBMENDO1FBdkNHLGNBQVEsR0FBUyxJQUFJLENBQUM7UUFFdEIsaUJBQVcsR0FBUyxJQUFJLENBQUM7O0lBcUM3QixDQUFDO0lBbkNHLDZCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELDRCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUNELDJCQUFJLEdBQUo7UUFDSSxLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUMsQ0FBQyxFQUFFLEVBQUM7WUFDMUMsSUFBSSxFQUFFLEdBQUMsV0FBSSxDQUFDLFFBQVEsQ0FBUyxhQUFhLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0UsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUMsRUFBRSxJQUFFLEVBQUUsQ0FBQSxDQUFDLENBQUEsS0FBSyxDQUFBLENBQUMsQ0FBQSxPQUFLLEVBQUksQ0FBQztZQUMvRSxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUMsRUFBRSxJQUFFLEVBQUUsQ0FBQSxDQUFDLENBQUEsS0FBSyxDQUFBLENBQUMsQ0FBQSxJQUFJLENBQUM7U0FDekQ7SUFDTCxDQUFDO0lBQ0QsMkJBQUksR0FBSjtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUNELHFDQUFjLEdBQWQsVUFBZSxLQUEwQjtRQUF6QyxpQkFXQztRQVZHLElBQUksTUFBTSxHQUFZLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDbkMsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQztRQUV6RSw2QkFBNkI7UUFDN0IsT0FBRSxDQUFDLFVBQVUsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFBLElBQUk7WUFDckIsNEJBQTRCO1lBQzVCLElBQUcsSUFBSSxFQUFDO2dCQUNKLEtBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDdEI7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDRCw4QkFBTyxHQUFQLFVBQVEsSUFBVztRQUNmLElBQUksRUFBRSxHQUFDLFdBQUksQ0FBQyxRQUFRLENBQVMsYUFBYSxFQUFDLElBQUksQ0FBQyxHQUFDLENBQUMsQ0FBQztRQUNuRCxFQUFFLEdBQUMsRUFBRSxHQUFDLEVBQUUsQ0FBQSxDQUFDLENBQUEsRUFBRSxDQUFBLENBQUMsQ0FBQSxFQUFFLENBQUM7UUFDZixXQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUF0Q0Q7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztrREFDSTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3FEQUNPO0lBTFIsWUFBWTtRQURoQyxPQUFPO09BQ2EsWUFBWSxDQTBDaEM7SUFBRCxtQkFBQztDQTFDRCxBQTBDQyxDQTFDeUMsZ0JBQU0sR0EwQy9DO2tCQTFDb0IsWUFBWSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBhZCB9IGZyb20gXCIuLi9zZGsvYWRcIjtcbmltcG9ydCB7IGRhdGEgfSBmcm9tIFwiLi4vc2RrL2RhdGFcIjtcbmltcG9ydCB1aUJhc2UgZnJvbSBcIi4uL3VpQmFzZVwiO1xuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tIFwiLi9hdWRpb01hbmFnZXJcIjtcblxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHVwZ3JhZGVQYW5lbCBleHRlbmRzIHVpQmFzZSB7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBsdkxhYmVsczpjYy5Ob2RlPW51bGw7XG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgdXBncmFkZUJ0bnM6Y2MuTm9kZT1udWxsO1xuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB0aGlzLmluaXRVaSgpO1xuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgaW5pdCgpe1xuICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMubHZMYWJlbHMuY2hpbGRyZW5Db3VudDtpKyspe1xuICAgICAgICAgICAgbGV0IGx2PWRhdGEuZ2V0Q2FjaGU8bnVtYmVyPihcImF0dHJpYnV0ZUx2XCIsdGhpcy5sdkxhYmVscy5jaGlsZHJlbltpXS5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMubHZMYWJlbHMuY2hpbGRyZW5baV0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmc9bHY9PTEwP1wiTWF4XCI6YEx2JHtsdn1gO1xuICAgICAgICAgICAgdGhpcy51cGdyYWRlQnRucy5jaGlsZHJlbltpXS5hY3RpdmU9bHY9PTEwP2ZhbHNlOnRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYmFjaygpIHtcbiAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgd2F0Y2hBZFVwZ3JhZGUoZXZlbnQ6IGNjLkV2ZW50LkV2ZW50VG91Y2gpIHtcbiAgICAgICAgbGV0IHRhcmdldDogY2MuTm9kZSA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgbGV0IHR5cGUgPSB0YXJnZXQuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuY2xpY2tFdmVudHNbMF0uY3VzdG9tRXZlbnREYXRhO1xuXG4gICAgICAgIC8vIGF1ZGlvTWFuYWdlci5wYXVzZUJnR2FtZSgpXG4gICAgICAgIGFkLnZpZGVvX3Nob3coKS50aGVuKGlzb2s9PntcbiAgICAgICAgICAgIC8vIGF1ZGlvTWFuYWdlci5wbGF5QmdHYW1lKClcbiAgICAgICAgICAgIGlmKGlzb2spe1xuICAgICAgICAgICAgICAgIHRoaXMudXBncmFkZSh0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVwZ3JhZGUodHlwZTpzdHJpbmcpe1xuICAgICAgICBsZXQgbHY9ZGF0YS5nZXRDYWNoZTxudW1iZXI+KFwiYXR0cmlidXRlTHZcIix0eXBlKSsxO1xuICAgICAgICBsdj1sdj4xMD8xMDpsdjtcbiAgICAgICAgZGF0YS51cGRhdGVDYWNoZShcImF0dHJpYnV0ZUx2XCIsdHlwZSxsdik7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/syyx_sdk_api.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '43f24/rXFNOy5rvA7uQxzfv', 'syyx_sdk_api');
// syyx_sdk/syyx_sdk_api.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.syyx_sdk_api = void 0;
var syyx_sdk_config_1 = require("./configs/syyx_sdk_config");
var ad_native_interstitial_1 = require("./controller/ad/ad_native_interstitial");
var syyx_adv_manager_1 = require("./controller/ad/syyx_adv_manager");
var syyx_manager_1 = require("./controller/syyx_manager");
var model_1 = require("./model/model");
var syyx_sdk_api = /** @class */ (function () {
    function syyx_sdk_api() {
    }
    /**
     * 初始化
     */
    syyx_sdk_api.init = function (init_callback) {
        console.log("sdk--------------------syyx_apk version" + syyx_sdk_config_1.syyx_const.syyx_sdk_version);
        syyx_manager_1.syyx_manager.init(init_callback);
    };
    syyx_sdk_api.login_channel = function (callback) {
        syyx_manager_1.syyx_manager.login_channel(callback);
    };
    /**如果是外部登录 这里传入一下账号id和用户id，设置了之后就可以调用 打点了
     * 打点 是在sdk的init成功回调以后调用
     * @param account 账号
     * @param user_id 用户id
     */
    syyx_sdk_api.init_param = function (account, user_id) {
        syyx_manager_1.syyx_manager.init_param(account, user_id);
    };
    /**
     * 获取运营配置对应key的值
     * @param key business_config 的 id值
     */
    syyx_sdk_api.get_business_data_by_key = function (key) {
        return syyx_manager_1.syyx_manager.get_business_data_by_key(key);
    };
    /**
     * 上报用户注册
     */
    syyx_sdk_api.send_user_register = function () { };
    /**
     * 上报用户登录
     */
    syyx_sdk_api.send_user_login = function () { };
    /**
     * 上报大厅（主界面）事件
     */
    syyx_sdk_api.send_hall_event = function (event_id, extra2, str1) {
        if (extra2 === void 0) { extra2 = 0; }
        if (str1 === void 0) { str1 = ""; }
    };
    /**
     * 上报关卡事件
     */
    syyx_sdk_api.send_chapter_event = function (event_id, is_win, str1) {
        if (is_win === void 0) { is_win = undefined; }
        if (str1 === void 0) { str1 = ""; }
    };
    /**
     * 上报结算界面事件
     */
    syyx_sdk_api.send_settlement_event = function (event_id, extra, str1) {
        if (extra === void 0) { extra = ""; }
        if (str1 === void 0) { str1 = ""; }
    };
    syyx_sdk_api.send_other_event = function (event_id, event_type, extra, extra2, str1, str2, str3) {
        if (extra === void 0) { extra = ""; }
        if (extra2 === void 0) { extra2 = ""; }
        if (str1 === void 0) { str1 = ""; }
        if (str2 === void 0) { str2 = ""; }
        if (str3 === void 0) { str3 = ""; }
    };
    /**
    * 是否启动ok
    * 如果为true 表明内部sdk初始化ok 并且互推配置文件和运营策略文件都读取好了
    */
    syyx_sdk_api.is_inited = function () {
        return syyx_manager_1.syyx_manager.is_inited();
    };
    /**
    * 获取一个底部原生banner
    */
    syyx_sdk_api.create_native_banner = function (call_back) {
        return syyx_manager_1.syyx_manager.create_native_banner(call_back);
    };
    /**
    * 获取一个带遮罩的原生插屏
    */
    syyx_sdk_api.create_interstitial = function (call_back) {
        return syyx_manager_1.syyx_manager.create_interstitial(call_back);
    };
    /**
    * 获取一个结算原生
    */
    syyx_sdk_api.create_inner_interstitial = function (call_back) {
        return syyx_manager_1.syyx_manager.create_inner_interstitial(call_back);
    };
    /**
    * 获取一个原生icon
    */
    syyx_sdk_api.create_native_icon = function (call_back) {
        return syyx_manager_1.syyx_manager.create_native_icon(call_back);
    };
    /**
    * 创建一个tips提示
    * @param desc
    */
    syyx_sdk_api.create_toast = function (desc) {
        return syyx_manager_1.syyx_manager.create_toast(desc);
    };
    /**
     * 隐藏指定类型的视图
     * @param viewType 视图类型
     */
    syyx_sdk_api.hide = function (viewType) {
        syyx_manager_1.syyx_manager.hide(viewType);
    };
    /**
     * 显示指定视图   （仅限于互推UI使用）
     * @param viewType  视图类型
     * @param zOrder    层级
     * @param scene     当前所在场景的名字          运营使用
     * @param chapter   当前所在关卡或者玩法id      运营使用
     */
    syyx_sdk_api.show = function (viewType, zOrder, scene, chapter) {
        if (zOrder === void 0) { zOrder = -1; }
        if (chapter === void 0) { chapter = 0; }
        syyx_manager_1.syyx_manager.show(viewType, zOrder, scene, chapter);
    };
    /**
     * 根据类型获取视图对象
     * @param viewType 视图类型
     */
    syyx_sdk_api.load_view = function (viewType, call_bcak) {
        return syyx_manager_1.syyx_manager.load_view(viewType, call_bcak);
    };
    //广告相关
    //接口不已废弃
    syyx_sdk_api.create_ad = function (ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        return false;
    };
    /**
     * 销毁广告 主要也就是 banner 使用了 一般目前Oppo和vivo隐藏banner 也就是调用destroy了
     * @param ad_type 广告类型 根据 igc.e_ad_type 传入
     *  interstitial = 1,   插屏
        video = 2,          视频
        native = 3,         原生
        banner = 4,         banner
     * @param ad_pos_id     adv配置表广告位id
     */
    syyx_sdk_api.destroy_ad = function (ad_type, ad_pos_id) {
        return syyx_manager_1.syyx_manager.destroy_ad(ad_type, ad_pos_id);
    };
    /**
     * 隐藏广告 主要也就是 banner 目前也不怎么使用了
     * @param ad_type 广告类型 根据 igc.e_ad_type 传入
     *  interstitial = 1,   插屏
        video = 2,          视频
        native = 3,         原生
        banner = 4,         banner
     * @param ad_pos_id     adv配置表广告位id
     */
    syyx_sdk_api.hide_ad = function (ad_type, ad_pos_id) {
        return syyx_manager_1.syyx_manager.hide_ad(ad_type, ad_pos_id);
    };
    /**
     * 原生广告 上报曝光
     * @param ad_pos_id 配置表广告位ID
     * @param native_data 原生数据
     */
    syyx_sdk_api.report_ad_show = function (ad_pos_id, native_data) {
        return syyx_manager_1.syyx_manager.report_ad_show(ad_pos_id, native_data);
    };
    /**
     * 原生广告  上报点击
     * @param ad_pos_id 配置表广告位ID
     * @param ad_unit_id create_ad的onload返回的原生广告信息里面的adUnitId 这个单位ID
     */
    syyx_sdk_api.report_ad_click = function (ad_pos_id, native_data) {
        return syyx_manager_1.syyx_manager.report_ad_click(ad_pos_id, native_data);
    };
    /**
    * 获取加载好的原生数据
    * @param ad_pos_id 配置表原生id
    */
    syyx_sdk_api.get_local_native_data = function (ad_pos_id) {
        return syyx_adv_manager_1.syyx_adv_manager.get_local_native_data(ad_pos_id);
    };
    /**
     * 获取对应渠道的广告id
     * @param ad_pos_id 配置表广告id
     */
    syyx_sdk_api.get_channel_ad_id = function (ad_pos_id) {
        return syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
    };
    /**
     * 显示banner
     * oppo vivo---根据后台开关判断是否使用原生banner  每x秒自动刷新(后台配置)  原生banner报错会加载展示普通banner
     * qq tt--- 每x秒自动刷新(后台配置)
     * @param ad_type 广告类型
     * @param ad_pos_id adv配置表广告id
     * @param onLoad 加载成功回调
     * @param onShow 展示成功回调
     * @param onClose 关闭回调
     * @param onError 报错回调
     */
    syyx_sdk_api.show_banner = function (ad_pos_id, onLoad, onShow, onClose, onError) {
        syyx_adv_manager_1.syyx_adv_manager.show_banner(igc.e_ad_type.banner, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    syyx_sdk_api.set_banner_height = function () {
        syyx_adv_manager_1.syyx_adv_manager.set_banner_height();
    };
    /**
     * 隐藏banner
     */
    syyx_sdk_api.hide_banner = function () {
        syyx_adv_manager_1.syyx_adv_manager.hide_banner();
    };
    /**
     * 设置能否显示普通banner
     */
    syyx_sdk_api.set_normal_banner_switch = function (value) {
        if (value === void 0) { value = true; }
        syyx_adv_manager_1.syyx_adv_manager.set_normal_banner_switch(value);
    };
    /**
     * 激励视频
     * @param ad_pos_id adv配置表广告id
     * @param onLoad 加载成功回调
     * @param onShow 展示成功回调
     * @param onClose 关闭回调
     * @param onError 报错回调
     * @param need_err_tips 默认为false，为true时显示sdk自带的报错飘字
     */
    syyx_sdk_api.show_video = function (ad_pos_id, onLoad, onShow, onClose, onError, need_err_tips) {
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {
            onClose && onClose(null, { isEnded: true });
            return;
        }
        syyx_manager_1.syyx_manager.show_video(ad_pos_id, onLoad, onShow, onClose, onError, need_err_tips);
    };
    /**
     * 普通插屏
     * @param ad_pos_id adv配置表广告id
     * @param onLoad 加载成功回调
     * @param onShow 展示成功回调
     * @param onClose 关闭回调
     * @param onError 报错回调
     */
    syyx_sdk_api.show_interstitial = function (ad_pos_id, onLoad, onShow, onClose, onError) {
        if (syyx_manager_1.syyx_manager.__business_config_data && syyx_manager_1.syyx_manager.__business_config_data["vivo_cp_switch"]) { // 普通插屏开关
            if (syyx_manager_1.syyx_manager.__business_config_data["vivo_cp_switch"].value[0] == 0) {
                onError && onError();
                return;
            }
        }
        syyx_manager_1.syyx_manager.create_ad(igc.e_ad_type.interstitial, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    /**
     * 显示带遮罩的原生插屏  会先加载原生数据  加载成功会直接展示UI
     * 黄标
     * @param ad_pos_id adv配置表广告id
     * @param onLoad 加载成功回调
     * @param onShow 展示成功回调
     * @param onClose 关闭回调
     * @param onError 报错回调
     */
    syyx_sdk_api.show_native_interstitial = function (ad_pos_id, onLoad, onShow, onClose, onError) {
        syyx_adv_manager_1.syyx_adv_manager.show_native_interstitial(igc.e_ad_type.native, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    /**
     * 隐藏带遮罩的原生插屏UI
     * 黄标
     */
    syyx_sdk_api.hide_native_interstitial = function () {
        ad_native_interstitial_1.ad_native_interstitial.hide_native_interstitial_ui();
    };
    /**
     * 预加载结算原生
     * @param ad_pos_id adv配置表广告id
     * @param onLoad 加载成功回调
     * @param onShow 展示成功回调
     * @param onClose 关闭回调
     * @param onError 报错回调
     */
    syyx_sdk_api.preload_native_inner_interstitial = function (ad_pos_id, onLoad, onShow, onClose, onError) {
        syyx_adv_manager_1.syyx_adv_manager.preload_native_inner_interstitial(igc.e_ad_type.native, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    /**
     * 显示结算原生 需要传入父节点
     * 必需预加载好对应的原生数据
     * @param ad_pos_id 配置表广告ID
     * @param parent 父节点
     * @param click_back 结算原生点击回调
     * @param show_back 结算原生显示回调
     * @param hide_back 结算原生隐藏回调
     * @param is_new_type  是否需要结算原生的新形式，仅限ov,默认为true
     */
    syyx_sdk_api.show_native_inner_interstitial = function (ad_pos_id, parent, click_back, show_back, hide_back, is_new_type) {
        if (is_new_type === void 0) { is_new_type = true; }
        syyx_manager_1.syyx_manager.show_native_inner_interstitial(ad_pos_id, parent, click_back, show_back, hide_back, is_new_type);
    };
    /**
     * 点击结算原生
     */
    syyx_sdk_api.click_native_inner_interstitial = function () {
        console.log('上报ysjs-----------');
        syyx_manager_1.syyx_manager.click_native_inner_interstitial();
    };
    syyx_sdk_api.click_native_banner = function () {
        syyx_manager_1.syyx_manager.click_native_banner();
    };
    /**
    * 设置结算原生点击按钮策略
    */
    syyx_sdk_api.set_on_click_inner_interstitial_btn = function (click_back) {
        syyx_adv_manager_1.syyx_adv_manager.set_on_click_inner_interstitial_btn(click_back);
    };
    /**
     * 隐藏结算原生
     *
     */
    syyx_sdk_api.hide_native_inner_interstitial = function () {
        console.log('-- use 隐藏原生广告接口 ----------');
        syyx_manager_1.syyx_manager.hide_native_inner_interstitial();
    };
    /**
     * 隐藏原生banner
     *
     */
    syyx_sdk_api.hide_native_banner = function () {
        syyx_manager_1.syyx_manager.hide_native_banner();
    };
    /**
     * 显示原生icon
     */
    syyx_sdk_api.show_native_icon = function (parent, ad_pos_id, onLoad, onShow, onClose, onError) {
        syyx_adv_manager_1.syyx_adv_manager.show_native_icon(parent, igc.e_ad_type.native, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    /**
     * 隐藏原生icon
     */
    syyx_sdk_api.hide_native_icon = function () {
        syyx_adv_manager_1.syyx_adv_manager.hide_native_icon();
    };
    /**
     * 是否使用oppo的互推盒子
     * 快应用版本号大于
     */
    syyx_sdk_api.support_game_box = function () {
        return syyx_manager_1.syyx_manager.support_game_box();
    };
    /**
     * 显示横幅互推盒子
     * @param ad_pos_id adv配置表广告id
     * @param onLoad 加载成功回调
     * @param onShow 展示成功回调
     * @param onClose 关闭回调
     * @param onError 报错回调
     */
    syyx_sdk_api.show_game_banner_box = function (ad_pos_id, onLoad, onShow, onClose, onError) {
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg) {
            syyx_manager_1.syyx_manager.create_ad(igc.e_ad_type.app_box, ad_pos_id, onLoad, onShow, onClose, onError, igc.e_ad_app_box_type.banner_box);
        }
        else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) { // vivo横幅
            syyx_manager_1.syyx_manager.create_heng_fu_ad(igc.e_ad_type.app_box, ad_pos_id, onLoad, onShow, onClose, onError, igc.e_ad_app_box_type.banner_box);
        }
    };
    /**
     * 隐藏横幅互推盒子
     */
    syyx_sdk_api.hide_game_banner_box = function (ad_pos_id) {
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg) {
            syyx_manager_1.syyx_manager.destroy_ad(igc.e_ad_type.app_box, ad_pos_id, igc.e_ad_app_box_type.banner_box);
        }
        else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) { // vivo横幅
            syyx_manager_1.syyx_manager.hide_boxBannerAd_vivo();
        }
    };
    syyx_sdk_api.hide_game_portal_box = function (ad_pos_id) {
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg) {
            syyx_manager_1.syyx_manager.destroy_ad(igc.e_ad_type.app_box, ad_pos_id, igc.e_ad_app_box_type.portal_box);
        }
        else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) { // vivo横幅
            syyx_manager_1.syyx_manager.hide_game_portal_box_vivo();
        }
    };
    /**
     * oppo九宫格互推盒子
     * @param ad_pos_id adv配置表广告id
     * @param onLoad 加载成功回调
     * @param onShow 展示成功回调
     * @param onClose 关闭回调
     * @param onError 报错回调
     * @param need_err_tips 默认为false，为true时显示sdk自带的报错飘字
     */
    syyx_sdk_api.show_game_portal_box = function (ad_pos_id, onLoad, onShow, onClose, onError, need_err_tips) {
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg) {
            syyx_manager_1.syyx_manager.show_game_portal_box(ad_pos_id, onLoad, onShow, onClose, onError, need_err_tips);
        }
        else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) { // vivo九宫格
            syyx_manager_1.syyx_manager.show_game_portal_box_vivo(ad_pos_id, onLoad, onShow, onClose, onError, need_err_tips);
        }
        else {
            // web平台
            syyx_manager_1.syyx_manager.show_game_portal_box(ad_pos_id, onLoad, onShow, onClose, onError, need_err_tips);
        }
    };
    /**
    * vivo 原生模板广告 有插屏 结算 banner
    * @param ad_pos_id adv配置表广告id
    * @param onSuccess 加载成功回调
    * @param onError 展示成功回调
    * @param onClose 关闭回调
    * @param top 原生模板广告组件的左上角纵坐标
    * @param left 原生模板广告组件的左上角横坐标
    */
    syyx_sdk_api.show_original_module_vivo = function (ad_pos_id, onSuccess, onError, onClose, top, left) {
        if (ad_pos_id == '10301001') { // 插屏
            if (syyx_manager_1.syyx_manager.__business_config_data && syyx_manager_1.syyx_manager.__business_config_data["vivo_yscp_switch"]) { // 普通插屏开关
                if (syyx_manager_1.syyx_manager.__business_config_data["vivo_yscp_switch"].value[0] == 0) {
                    onError && onError();
                    return;
                }
            }
        }
        else if (ad_pos_id == '10302001') { // 结算  
            if (syyx_manager_1.syyx_manager.__business_config_data && syyx_manager_1.syyx_manager.__business_config_data["native_inner_interstitial_switch"]) {
                if (syyx_manager_1.syyx_manager.__business_config_data["native_inner_interstitial_switch"].value[0] == 0) {
                    onError && onError();
                    return;
                }
            }
        }
        else if (ad_pos_id == '10304001') { // banner
            if (syyx_manager_1.syyx_manager.__business_config_data && syyx_manager_1.syyx_manager.__business_config_data["native_banner_open_switch"]) { // 普通插屏开关
                if (syyx_manager_1.syyx_manager.__business_config_data["native_banner_open_switch"].value[0] == 0) {
                    onError && onError();
                    return;
                }
            }
        }
        syyx_manager_1.syyx_manager.show_original_module(ad_pos_id, onSuccess, onError, onClose, top, left);
    };
    syyx_sdk_api.show_original_module_oppo = function (ad_pos_id, style, onLoad, onSuccess, onError, onClose) {
        if (ad_pos_id == '10301001') { // 原生插屏
            if (syyx_manager_1.syyx_manager.__business_config_data && syyx_manager_1.syyx_manager.__business_config_data["vivo_yscp_switch"]) { // 插屏开关
                if (syyx_manager_1.syyx_manager.__business_config_data["vivo_yscp_switch"].value[0] == 0) {
                    onError && onError();
                    return;
                }
            }
        }
        else if (ad_pos_id == '10302001') { // 原生结算
            if (syyx_manager_1.syyx_manager.__business_config_data && syyx_manager_1.syyx_manager.__business_config_data["native_inner_interstitial_switch"]) {
                if (syyx_manager_1.syyx_manager.__business_config_data["native_inner_interstitial_switch"].value[0] == 0) {
                    onError && onError();
                    return;
                }
            }
        }
        else if (ad_pos_id == '10304001') { // 原生banner
            if (syyx_manager_1.syyx_manager.__business_config_data && syyx_manager_1.syyx_manager.__business_config_data["native_banner_open_switch"]) { // 原生开关
                if (syyx_manager_1.syyx_manager.__business_config_data["native_banner_open_switch"].value[0] == 0) {
                    onError && onError();
                    return;
                }
            }
        }
        syyx_manager_1.syyx_manager.show_original_module_oppo(ad_pos_id, style, onLoad, onSuccess, onError, onClose);
    };
    /**
    * vivo 原生模板广告 通用的 关闭
    */
    syyx_sdk_api.destory_original_module = function () {
        syyx_manager_1.syyx_manager.destory_original_module();
    };
    /**
    * 盒子广告
    * @param ad_pos_id adv配置表广告id
    * @param onLoad 加载成功回调
    * @param onShow 展示成功回调
    * @param onClose 关闭回调
    * @param onError 报错回调
    */
    syyx_sdk_api.show_app_box = function (ad_pos_id, onLoad, onShow, onClose, onError) {
        syyx_manager_1.syyx_manager.create_ad(igc.e_ad_type.app_box, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    /**
     * 显示积木广告
     */
    syyx_sdk_api.show_block = function (style, ad_pos_id, onLoad, onShow, onClose, onError) {
        syyx_adv_manager_1.syyx_adv_manager.show_block(style, igc.e_ad_type.block, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    /**
     *  隐藏积木广告
     */
    syyx_sdk_api.hide_block = function (ad_pos_id) {
        syyx_adv_manager_1.syyx_adv_manager.hide_block(ad_pos_id);
    };
    /**
     * 隐藏全部积木广告
     */
    syyx_sdk_api.hide_all_block = function () {
        syyx_adv_manager_1.syyx_adv_manager.hide_all_block();
    };
    /**
    * 展示新品尝鲜
    */
    syyx_sdk_api.show_new_products = function (call_back) {
        syyx_manager_1.syyx_manager.show_new_products(call_back);
    };
    /**
     * 判断平台版本号，看是否支持添加桌面功能
     * platformVersion >= 1044;
     */
    syyx_sdk_api.check_can_add_desktop = function () {
        return syyx_manager_1.syyx_manager.check_can_add_desktop();
    };
    /**
     * 检查有没有添加桌面
     * @param can_add  没有添加
     * @param has_add  添加了
     */
    syyx_sdk_api.check_is_add_desktop = function (can_add, has_add) {
        return syyx_manager_1.syyx_manager.check_is_add_desktop(can_add, has_add);
    };
    /**
     * 添加桌面操作
     * @param on_success   可以添加桌面 添加桌面的系统界面弹出
     * @param on_failed     不能添加桌面 比如平台版本较低
     * @param on_failed_back  弹出添加桌面的系统界面失败
     * @param has_create    图标已经创建过了
     * ps：当接收到on_success回调后，定时器一秒之后 再调用 check_is_add_desktop 来判断用户是否添加了桌面
     * 如果回调是 can_add 则代表用户取消 如果回调是has_add ，则代表用户添加桌面 可发放奖励
     */
    syyx_sdk_api.add_desktop = function (on_success, on_failed, on_failed_back, has_create) {
        return syyx_manager_1.syyx_manager.add_desktop(on_success, on_failed, on_failed_back, has_create);
    };
    /**
     * 后台转前台监听
     * @param callback
     * callback：function(res){
     * }
     */
    syyx_sdk_api.on_show = function (callback) {
        return syyx_manager_1.syyx_manager.on_show(callback);
    };
    /**
     * 转后台监听
     * @param callback
     * callback：function(res){
     * }
     */
    syyx_sdk_api.on_hide = function (callback) {
        return syyx_manager_1.syyx_manager.on_hide(callback);
    };
    /**
     * 获取系统信息
     *  {
     *  brand：设备品牌
        model：手机型号
        pixelRatio：设备像素比
        screenWidth：屏幕宽度
        screenHeight：屏幕高度
        windowWidth：可使用窗口宽度
        windowHeight：可使用窗口高度
        statusBarHeight：状态栏/异性缺口高度
        language：环境语言
        version：版本号
        platform：客户端平台
        system：操作系统版本
        platformVersion：平台版本号/客户端基础库版本
        extra:getSystemInfoSync返回的参数
        }
    */
    syyx_sdk_api.get_system_info_sync = function () {
        return syyx_manager_1.syyx_manager.get_system_info_sync();
    };
    /**
     * 获取游戏启动参数
     * scene：场景值
     * query：查询参数
     * referrerInfo：小游戏启动来源
     * entryDataHash：群入口信息
     * extra 小游戏基本信息，包括宿主 Id，gameId，启动场景等参数
    */
    syyx_sdk_api.get_launch_options_sync = function () {
        var options = syyx_manager_1.syyx_manager.get_launch_options_sync();
        var data = new model_1.launch_options();
        data.scene = options.scene || "";
        data.query = options.query || {};
        data.referrerInfo = options.referrerInfo || {};
        data.entryDataHash = options.entryDataHash || {};
        data.extra = options.extra || {};
        return data;
    };
    /**
     * 关闭小游戏
     */
    syyx_sdk_api.exit_mini_program = function () {
        return syyx_manager_1.syyx_manager.exit_mini_program();
    };
    /**
     * 小游戏跳转
     * @param param
     * {
     *   app_id:小游戏包名
     *   success:成功回调
     * }
     */
    syyx_sdk_api.navigate_to_mini_program = function (app_id, succss) {
        return syyx_manager_1.syyx_manager.navigate_to_mini_program(app_id, succss);
    };
    /**
     * 分享卡片
     */
    syyx_sdk_api.share = function (title, imageUrl, query, desc, success, fail) {
        return syyx_manager_1.syyx_manager.share(title, imageUrl, query, desc, success, fail);
    };
    /**
     * 监听右上角分享
     */
    syyx_sdk_api.on_share_app_message = function (title, imageUrl) {
        return syyx_manager_1.syyx_manager.on_share_app_message(title, imageUrl);
    };
    /**
     * 开始录屏
     */
    syyx_sdk_api.start_record_screen = function (time, is_clip_end, clip_time) {
        return syyx_manager_1.syyx_manager.start_record_screen(time, is_clip_end, clip_time);
    };
    /**
     * 结束录屏
     */
    syyx_sdk_api.stop_record_screen = function () {
        return syyx_manager_1.syyx_manager.stop_record_screen();
    };
    /**
     * 暂停录屏
     */
    syyx_sdk_api.pause_record_screen = function () {
        return syyx_manager_1.syyx_manager.pause_record_screen();
    };
    /**
     * 恢复录屏
     */
    syyx_sdk_api.resume_record_screen = function () {
        return syyx_manager_1.syyx_manager.resume_record_screen();
    };
    /**
     * 分享录屏
     */
    syyx_sdk_api.share_record_screen = function (videoTopics, title, desc, imageUrl, query, fail, success) {
        return syyx_manager_1.syyx_manager.share_record_screen(videoTopics, title, desc, imageUrl, query, fail, success);
    };
    /**
     * 获取录屏文件
     */
    syyx_sdk_api.get_record_video = function () {
        return syyx_manager_1.syyx_manager.get_record_video();
    };
    /**
    * 是否为新玩家
    */
    syyx_sdk_api.get_is_new_player = function () {
        return syyx_manager_1.syyx_manager.get_is_new_player();
    };
    /**
    * 获取syyx_app_id
    */
    syyx_sdk_api.get_syyx_app_id = function () {
        return syyx_manager_1.syyx_manager.get_syyx_app_id();
    };
    /** 返回 按钮配置*/
    syyx_sdk_api.GetButtonsData = function () {
        return syyx_manager_1.syyx_manager.GetButtonsData();
    };
    /**
    * 获取当前游戏屏幕舞台与基于1920*1080设计舞台的比例
    */
    syyx_sdk_api.get_screen_ratio = function () {
        if (window["cc"]) {
            if (cc.view.getVisibleSize().width > cc.view.getVisibleSize().height) {
                return cc.view.getVisibleSize().height / 1080;
            }
            else if (cc.view.getVisibleSize().width <= cc.view.getVisibleSize().height) {
                return cc.view.getVisibleSize().width / 1080;
            }
        }
        return 1;
    };
    return syyx_sdk_api;
}());
exports.syyx_sdk_api = syyx_sdk_api;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXHN5eXhfc2RrX2FwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2REFBdUQ7QUFFdkQsaUZBQWdGO0FBQ2hGLHFFQUFvRTtBQUNwRSwwREFBeUQ7QUFDekQsdUNBQTBFO0FBRTFFO0lBQUE7SUF3dUJBLENBQUM7SUF2dUJHOztPQUVHO0lBQ0ssaUJBQUksR0FBWCxVQUFZLGFBQXVCO1FBQ2hDLE9BQU8sQ0FBQyxHQUFHLENBQUMseUNBQXlDLEdBQUcsNEJBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO1FBQ3BGLDJCQUFZLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFTSwwQkFBYSxHQUFwQixVQUFxQixRQUFrQjtRQUNuQywyQkFBWSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLHVCQUFVLEdBQWpCLFVBQWtCLE9BQWUsRUFBRSxPQUFlO1FBQzlDLDJCQUFZLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRUQ7OztPQUdHO0lBQ0kscUNBQXdCLEdBQS9CLFVBQWdDLEdBQUc7UUFDL0IsT0FBTywyQkFBWSxDQUFDLHdCQUF3QixDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3JELENBQUM7SUFFRDs7T0FFRztJQUNJLCtCQUFrQixHQUF6QixjQUE2QixDQUFDO0lBRTlCOztPQUVHO0lBQ0ksNEJBQWUsR0FBdEIsY0FBMEIsQ0FBQztJQUUzQjs7T0FFRztJQUNJLDRCQUFlLEdBQXRCLFVBQXVCLFFBQVEsRUFBRSxNQUFVLEVBQUUsSUFBUztRQUFyQix1QkFBQSxFQUFBLFVBQVU7UUFBRSxxQkFBQSxFQUFBLFNBQVM7SUFBRyxDQUFDO0lBRTFEOztPQUVHO0lBQ0ksK0JBQWtCLEdBQXpCLFVBQTBCLFFBQVEsRUFBRSxNQUFrQixFQUFFLElBQVM7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OiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN5eXhfY29uc3QgfSBmcm9tIFwiLi9jb25maWdzL3N5eXhfc2RrX2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBlX3N0YXRfZXZlbnRfdHlwZSwgZV9jaGFwdGVyX3Jlc3VsdF90eXBlIH0gZnJvbSBcIi4vY29uZmlncy9zeXl4X3Nka19lbnVtXCI7XHJcbmltcG9ydCB7IGFkX25hdGl2ZV9pbnRlcnN0aXRpYWwgfSBmcm9tIFwiLi9jb250cm9sbGVyL2FkL2FkX25hdGl2ZV9pbnRlcnN0aXRpYWxcIjtcclxuaW1wb3J0IHsgc3l5eF9hZHZfbWFuYWdlciB9IGZyb20gXCIuL2NvbnRyb2xsZXIvYWQvc3l5eF9hZHZfbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBzeXl4X21hbmFnZXIgfSBmcm9tIFwiLi9jb250cm9sbGVyL3N5eXhfbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBzeXl4X3ZpZXcsIG5hdGl2ZV9hZF9kYXRhLCBsYXVuY2hfb3B0aW9ucyB9IGZyb20gXCIuL21vZGVsL21vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3Mgc3l5eF9zZGtfYXBpIHtcclxuICAgIC8qKlxyXG4gICAgICog5Yid5aeL5YyWXHJcbiAgICAgKi9cclxuICAgICBzdGF0aWMgaW5pdChpbml0X2NhbGxiYWNrOiBGdW5jdGlvbikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic2RrLS0tLS0tLS0tLS0tLS0tLS0tLS1zeXl4X2FwayB2ZXJzaW9uXCIgKyBzeXl4X2NvbnN0LnN5eXhfc2RrX3ZlcnNpb24pXHJcbiAgICAgICAgc3l5eF9tYW5hZ2VyLmluaXQoaW5pdF9jYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxvZ2luX2NoYW5uZWwoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgc3l5eF9tYW5hZ2VyLmxvZ2luX2NoYW5uZWwoY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuWmguaenOaYr+WklumDqOeZu+W9lSDov5nph4zkvKDlhaXkuIDkuIvotKblj7dpZOWSjOeUqOaIt2lk77yM6K6+572u5LqG5LmL5ZCO5bCx5Y+v5Lul6LCD55SoIOaJk+eCueS6hlxyXG4gICAgICog5omT54K5IOaYr+WcqHNka+eahGluaXTmiJDlip/lm57osIPku6XlkI7osIPnlKhcclxuICAgICAqIEBwYXJhbSBhY2NvdW50IOi0puWPt1xyXG4gICAgICogQHBhcmFtIHVzZXJfaWQg55So5oi3aWRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGluaXRfcGFyYW0oYWNjb3VudDogc3RyaW5nLCB1c2VyX2lkOiBzdHJpbmcpIHtcclxuICAgICAgICBzeXl4X21hbmFnZXIuaW5pdF9wYXJhbShhY2NvdW50LCB1c2VyX2lkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPlui/kOiQpemFjee9ruWvueW6lGtleeeahOWAvFxyXG4gICAgICogQHBhcmFtIGtleSBidXNpbmVzc19jb25maWcg55qEIGlk5YC8XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRfYnVzaW5lc3NfZGF0YV9ieV9rZXkoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfbWFuYWdlci5nZXRfYnVzaW5lc3NfZGF0YV9ieV9rZXkoa2V5KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiK5oql55So5oi35rOo5YaMXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzZW5kX3VzZXJfcmVnaXN0ZXIoKSB7fVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiK5oql55So5oi355m75b2VXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzZW5kX3VzZXJfbG9naW4oKSB7fVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiK5oql5aSn5Y6F77yI5Li755WM6Z2i77yJ5LqL5Lu2XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzZW5kX2hhbGxfZXZlbnQoZXZlbnRfaWQsIGV4dHJhMiA9IDAsIHN0cjEgPSBcIlwiKSB7fVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiK5oql5YWz5Y2h5LqL5Lu2XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzZW5kX2NoYXB0ZXJfZXZlbnQoZXZlbnRfaWQsIGlzX3dpbiA9IHVuZGVmaW5lZCwgc3RyMSA9IFwiXCIpIHt9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuIrmiqXnu5PnrpfnlYzpnaLkuovku7ZcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNlbmRfc2V0dGxlbWVudF9ldmVudChldmVudF9pZCwgZXh0cmEgPSBcIlwiLCBzdHIxID0gXCJcIikge31cclxuXHJcbiAgICBzdGF0aWMgc2VuZF9vdGhlcl9ldmVudChldmVudF9pZCwgZXZlbnRfdHlwZSwgZXh0cmEgPSBcIlwiLCBleHRyYTIgPSBcIlwiLCBzdHIxID0gXCJcIiwgc3RyMiA9IFwiXCIsIHN0cjMgPSBcIlwiKSB7fVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDmmK/lkKblkK/liqhva1xyXG4gICAgKiDlpoLmnpzkuLp0cnVlIOihqOaYjuWGhemDqHNka+WIneWni+WMlm9rIOW5tuS4lOS6kuaOqOmFjee9ruaWh+S7tuWSjOi/kOiQpeetlueVpeaWh+S7tumDveivu+WPluWlveS6hlxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBpc19pbml0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfbWFuYWdlci5pc19pbml0ZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog6I635Y+W5LiA5Liq5bqV6YOo5Y6f55SfYmFubmVyXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGNyZWF0ZV9uYXRpdmVfYmFubmVyKGNhbGxfYmFjaz8pIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLmNyZWF0ZV9uYXRpdmVfYmFubmVyKGNhbGxfYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOiOt+WPluS4gOS4quW4pumBrue9qeeahOWOn+eUn+aPkuWxj1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBjcmVhdGVfaW50ZXJzdGl0aWFsKGNhbGxfYmFjaz8pIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLmNyZWF0ZV9pbnRlcnN0aXRpYWwoY2FsbF9iYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog6I635Y+W5LiA5Liq57uT566X5Y6f55SfXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGNyZWF0ZV9pbm5lcl9pbnRlcnN0aXRpYWwoY2FsbF9iYWNrPykge1xyXG4gICAgICAgIHJldHVybiBzeXl4X21hbmFnZXIuY3JlYXRlX2lubmVyX2ludGVyc3RpdGlhbChjYWxsX2JhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDojrflj5bkuIDkuKrljp/nlJ9pY29uXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGNyZWF0ZV9uYXRpdmVfaWNvbihjYWxsX2JhY2s/KSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfbWFuYWdlci5jcmVhdGVfbmF0aXZlX2ljb24oY2FsbF9iYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog5Yib5bu65LiA5LiqdGlwc+aPkOekulxyXG4gICAgKiBAcGFyYW0gZGVzYyBcclxuICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlX3RvYXN0KGRlc2MpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiBzeXl4X21hbmFnZXIuY3JlYXRlX3RvYXN0KGRlc2MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZqQ6JeP5oyH5a6a57G75Z6L55qE6KeG5Zu+XHJcbiAgICAgKiBAcGFyYW0gdmlld1R5cGUg6KeG5Zu+57G75Z6LXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBoaWRlKHZpZXdUeXBlOiBzeXl4X3ZpZXcpIHtcclxuICAgICAgICBzeXl4X21hbmFnZXIuaGlkZSh2aWV3VHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmL7npLrmjIflrprop4blm74gICDvvIjku4XpmZDkuo7kupLmjqhVSeS9v+eUqO+8iVxyXG4gICAgICogQHBhcmFtIHZpZXdUeXBlICDop4blm77nsbvlnotcclxuICAgICAqIEBwYXJhbSB6T3JkZXIgICAg5bGC57qnXHJcbiAgICAgKiBAcGFyYW0gc2NlbmUgICAgIOW9k+WJjeaJgOWcqOWcuuaZr+eahOWQjeWtlyAgICAgICAgICDov5DokKXkvb/nlKhcclxuICAgICAqIEBwYXJhbSBjaGFwdGVyICAg5b2T5YmN5omA5Zyo5YWz5Y2h5oiW6ICF546p5rOVaWQgICAgICDov5DokKXkvb/nlKhcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNob3codmlld1R5cGU6IHN5eXhfdmlldywgek9yZGVyID0gLTEsIHNjZW5lPzogc3RyaW5nLCBjaGFwdGVyID0gMCkge1xyXG4gICAgICAgIHN5eXhfbWFuYWdlci5zaG93KHZpZXdUeXBlLCB6T3JkZXIsIHNjZW5lLCBjaGFwdGVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOagueaNruexu+Wei+iOt+WPluinhuWbvuWvueixoVxyXG4gICAgICogQHBhcmFtIHZpZXdUeXBlIOinhuWbvuexu+Wei1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbG9hZF92aWV3KHZpZXdUeXBlOiBzeXl4X3ZpZXcsIGNhbGxfYmNhaz8pIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLmxvYWRfdmlldyh2aWV3VHlwZSwgY2FsbF9iY2FrKVxyXG4gICAgfVxyXG5cclxuICAgIC8v5bm/5ZGK55u45YWzXHJcbiAgICAvL+aOpeWPo+S4jeW3suW6n+W8g1xyXG4gICAgc3RhdGljIGNyZWF0ZV9hZChhZF90eXBlOiBpZ2MuZV9hZF90eXBlLCBhZF9wb3NfaWQ6IHN0cmluZywgb25Mb2FkOiBGdW5jdGlvbiwgb25TaG93OiBGdW5jdGlvbiwgb25DbG9zZTogRnVuY3Rpb24sIG9uRXJyb3I6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDplIDmr4Hlub/lkYog5Li76KaB5Lmf5bCx5pivIGJhbm5lciDkvb/nlKjkuoYg5LiA6Iis55uu5YmNT3Bwb+WSjHZpdm/pmpDol49iYW5uZXIg5Lmf5bCx5piv6LCD55SoZGVzdHJveeS6hiBcclxuICAgICAqIEBwYXJhbSBhZF90eXBlIOW5v+WRiuexu+WeiyDmoLnmja4gaWdjLmVfYWRfdHlwZSDkvKDlhaVcclxuICAgICAqICBpbnRlcnN0aXRpYWwgPSAxLCAgIOaPkuWxj1xyXG4gICAgICAgIHZpZGVvID0gMiwgICAgICAgICAg6KeG6aKRXHJcbiAgICAgICAgbmF0aXZlID0gMywgICAgICAgICDljp/nlJ9cclxuICAgICAgICBiYW5uZXIgPSA0LCAgICAgICAgIGJhbm5lclxyXG4gICAgICogQHBhcmFtIGFkX3Bvc19pZCAgICAgYWR26YWN572u6KGo5bm/5ZGK5L2NaWRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGRlc3Ryb3lfYWQoYWRfdHlwZTogaWdjLmVfYWRfdHlwZSwgYWRfcG9zX2lkOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLmRlc3Ryb3lfYWQoYWRfdHlwZSwgYWRfcG9zX2lkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmakOiXj+W5v+WRiiDkuLvopoHkuZ/lsLHmmK8gYmFubmVyIOebruWJjeS5n+S4jeaAjuS5iOS9v+eUqOS6hlxyXG4gICAgICogQHBhcmFtIGFkX3R5cGUg5bm/5ZGK57G75Z6LIOagueaNriBpZ2MuZV9hZF90eXBlIOS8oOWFpVxyXG4gICAgICogIGludGVyc3RpdGlhbCA9IDEsICAg5o+S5bGPXHJcbiAgICAgICAgdmlkZW8gPSAyLCAgICAgICAgICDop4bpopFcclxuICAgICAgICBuYXRpdmUgPSAzLCAgICAgICAgIOWOn+eUn1xyXG4gICAgICAgIGJhbm5lciA9IDQsICAgICAgICAgYmFubmVyXHJcbiAgICAgKiBAcGFyYW0gYWRfcG9zX2lkICAgICBhZHbphY3nva7ooajlub/lkYrkvY1pZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaGlkZV9hZChhZF90eXBlOiBpZ2MuZV9hZF90eXBlLCBhZF9wb3NfaWQ6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBzeXl4X21hbmFnZXIuaGlkZV9hZChhZF90eXBlLCBhZF9wb3NfaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y6f55Sf5bm/5ZGKIOS4iuaKpeabneWFiVxyXG4gICAgICogQHBhcmFtIGFkX3Bvc19pZCDphY3nva7ooajlub/lkYrkvY1JRFxyXG4gICAgICogQHBhcmFtIG5hdGl2ZV9kYXRhIOWOn+eUn+aVsOaNrlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVwb3J0X2FkX3Nob3coYWRfcG9zX2lkOiBzdHJpbmcsIG5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfbWFuYWdlci5yZXBvcnRfYWRfc2hvdyhhZF9wb3NfaWQsIG5hdGl2ZV9kYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWOn+eUn+W5v+WRiiAg5LiK5oql54K55Ye7XHJcbiAgICAgKiBAcGFyYW0gYWRfcG9zX2lkIOmFjee9ruihqOW5v+WRiuS9jUlEXHJcbiAgICAgKiBAcGFyYW0gYWRfdW5pdF9pZCBjcmVhdGVfYWTnmoRvbmxvYWTov5Tlm57nmoTljp/nlJ/lub/lkYrkv6Hmga/ph4zpnaLnmoRhZFVuaXRJZCDov5nkuKrljZXkvY1JRFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVwb3J0X2FkX2NsaWNrKGFkX3Bvc19pZDogc3RyaW5nLCBuYXRpdmVfZGF0YT8pIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLnJlcG9ydF9hZF9jbGljayhhZF9wb3NfaWQsIG5hdGl2ZV9kYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog6I635Y+W5Yqg6L295aW955qE5Y6f55Sf5pWw5o2uXHJcbiAgICAqIEBwYXJhbSBhZF9wb3NfaWQg6YWN572u6KGo5Y6f55SfaWRcclxuICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X2xvY2FsX25hdGl2ZV9kYXRhKGFkX3Bvc19pZCk6IG5hdGl2ZV9hZF9kYXRhIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9hZHZfbWFuYWdlci5nZXRfbG9jYWxfbmF0aXZlX2RhdGEoYWRfcG9zX2lkKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5a+55bqU5rig6YGT55qE5bm/5ZGKaWRcclxuICAgICAqIEBwYXJhbSBhZF9wb3NfaWQg6YWN572u6KGo5bm/5ZGKaWRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldF9jaGFubmVsX2FkX2lkKGFkX3Bvc19pZCkge1xyXG4gICAgICAgIHJldHVybiBzeXl4X2Fkdl9tYW5hZ2VyLmdldF9jaGFubmVsX2FkX2lkKGFkX3Bvc19pZClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYvuekumJhbm5lclxyXG4gICAgICogb3BwbyB2aXZvLS0t5qC55o2u5ZCO5Y+w5byA5YWz5Yik5pat5piv5ZCm5L2/55So5Y6f55SfYmFubmVyICDmr49456eS6Ieq5Yqo5Yi35pawKOWQjuWPsOmFjee9rikgIOWOn+eUn2Jhbm5lcuaKpemUmeS8muWKoOi9veWxleekuuaZrumAmmJhbm5lclxyXG4gICAgICogcXEgdHQtLS0g5q+PeOenkuiHquWKqOWIt+aWsCjlkI7lj7DphY3nva4pXHJcbiAgICAgKiBAcGFyYW0gYWRfdHlwZSDlub/lkYrnsbvlnotcclxuICAgICAqIEBwYXJhbSBhZF9wb3NfaWQgYWR26YWN572u6KGo5bm/5ZGKaWRcclxuICAgICAqIEBwYXJhbSBvbkxvYWQg5Yqg6L295oiQ5Yqf5Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gb25TaG93IOWxleekuuaIkOWKn+Wbnuiwg1xyXG4gICAgICogQHBhcmFtIG9uQ2xvc2Ug5YWz6Zet5Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gb25FcnJvciDmiqXplJnlm57osINcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNob3dfYmFubmVyKGFkX3Bvc19pZDogc3RyaW5nLCBvbkxvYWQ6IEZ1bmN0aW9uLCBvblNob3c6IEZ1bmN0aW9uLCBvbkNsb3NlOiBGdW5jdGlvbiwgb25FcnJvcjogRnVuY3Rpb24pIHtcclxuICAgICAgICBzeXl4X2Fkdl9tYW5hZ2VyLnNob3dfYmFubmVyKGlnYy5lX2FkX3R5cGUuYmFubmVyLCBhZF9wb3NfaWQsIG9uTG9hZCwgb25TaG93LCBvbkNsb3NlLCBvbkVycm9yKVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgc3RhdGljIHNldF9iYW5uZXJfaGVpZ2h0KCkge1xyXG4gICAgICAgIHN5eXhfYWR2X21hbmFnZXIuc2V0X2Jhbm5lcl9oZWlnaHQoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZqQ6JePYmFubmVyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBoaWRlX2Jhbm5lcigpIHtcclxuICAgICAgICBzeXl4X2Fkdl9tYW5hZ2VyLmhpZGVfYmFubmVyKClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuvue9ruiDveWQpuaYvuekuuaZrumAmmJhbm5lciBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNldF9ub3JtYWxfYmFubmVyX3N3aXRjaCh2YWx1ZSA9IHRydWUpIHtcclxuICAgICAgICBzeXl4X2Fkdl9tYW5hZ2VyLnNldF9ub3JtYWxfYmFubmVyX3N3aXRjaCh2YWx1ZSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa/gOWKseinhumikVxyXG4gICAgICogQHBhcmFtIGFkX3Bvc19pZCBhZHbphY3nva7ooajlub/lkYppZFxyXG4gICAgICogQHBhcmFtIG9uTG9hZCDliqDovb3miJDlip/lm57osINcclxuICAgICAqIEBwYXJhbSBvblNob3cg5bGV56S65oiQ5Yqf5Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gb25DbG9zZSDlhbPpl63lm57osINcclxuICAgICAqIEBwYXJhbSBvbkVycm9yIOaKpemUmeWbnuiwg1xyXG4gICAgICogQHBhcmFtIG5lZWRfZXJyX3RpcHMg6buY6K6k5Li6ZmFsc2XvvIzkuLp0cnVl5pe25pi+56S6c2Rr6Ieq5bim55qE5oql6ZSZ6aOY5a2XXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzaG93X3ZpZGVvKGFkX3Bvc19pZDogc3RyaW5nLCBvbkxvYWQ6IEZ1bmN0aW9uLCBvblNob3c6IEZ1bmN0aW9uLCBvbkNsb3NlOiBGdW5jdGlvbiwgb25FcnJvcjogRnVuY3Rpb24sIG5lZWRfZXJyX3RpcHM/OiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLndlYikge1xyXG4gICAgICAgICAgICBvbkNsb3NlICYmIG9uQ2xvc2UobnVsbCwgeyBpc0VuZGVkOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBzeXl4X21hbmFnZXIuc2hvd192aWRlbyhhZF9wb3NfaWQsIG9uTG9hZCwgb25TaG93LCBvbkNsb3NlLCBvbkVycm9yLCBuZWVkX2Vycl90aXBzKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pmu6YCa5o+S5bGPXHJcbiAgICAgKiBAcGFyYW0gYWRfcG9zX2lkIGFkdumFjee9ruihqOW5v+WRimlkXHJcbiAgICAgKiBAcGFyYW0gb25Mb2FkIOWKoOi9veaIkOWKn+Wbnuiwg1xyXG4gICAgICogQHBhcmFtIG9uU2hvdyDlsZXnpLrmiJDlip/lm57osINcclxuICAgICAqIEBwYXJhbSBvbkNsb3NlIOWFs+mXreWbnuiwg1xyXG4gICAgICogQHBhcmFtIG9uRXJyb3Ig5oql6ZSZ5Zue6LCDXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzaG93X2ludGVyc3RpdGlhbChhZF9wb3NfaWQ6IHN0cmluZywgb25Mb2FkOiBGdW5jdGlvbiwgb25TaG93OiBGdW5jdGlvbiwgb25DbG9zZTogRnVuY3Rpb24sIG9uRXJyb3I6IEZ1bmN0aW9uKSB7XHJcblxyXG4gICAgICAgIGlmKHN5eXhfbWFuYWdlci5fX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHN5eXhfbWFuYWdlci5fX2J1c2luZXNzX2NvbmZpZ19kYXRhW1widml2b19jcF9zd2l0Y2hcIl0pIHsgLy8g5pmu6YCa5o+S5bGP5byA5YWzXHJcbiAgICAgICAgICAgIGlmIChzeXl4X21hbmFnZXIuX19idXNpbmVzc19jb25maWdfZGF0YVtcInZpdm9fY3Bfc3dpdGNoXCJdLnZhbHVlWzBdID09IDApIHtcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcigpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3l5eF9tYW5hZ2VyLmNyZWF0ZV9hZChpZ2MuZV9hZF90eXBlLmludGVyc3RpdGlhbCwgYWRfcG9zX2lkLCBvbkxvYWQsIG9uU2hvdywgb25DbG9zZSwgb25FcnJvcilcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmL7npLrluKbpga7nvannmoTljp/nlJ/mj5LlsY8gIOS8muWFiOWKoOi9veWOn+eUn+aVsOaNriAg5Yqg6L295oiQ5Yqf5Lya55u05o6l5bGV56S6VUlcclxuICAgICAqIOm7hOagh1xyXG4gICAgICogQHBhcmFtIGFkX3Bvc19pZCBhZHbphY3nva7ooajlub/lkYppZFxyXG4gICAgICogQHBhcmFtIG9uTG9hZCDliqDovb3miJDlip/lm57osINcclxuICAgICAqIEBwYXJhbSBvblNob3cg5bGV56S65oiQ5Yqf5Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gb25DbG9zZSDlhbPpl63lm57osINcclxuICAgICAqIEBwYXJhbSBvbkVycm9yIOaKpemUmeWbnuiwg1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2hvd19uYXRpdmVfaW50ZXJzdGl0aWFsKGFkX3Bvc19pZDogc3RyaW5nLCBvbkxvYWQ6IEZ1bmN0aW9uLCBvblNob3c6IEZ1bmN0aW9uLCBvbkNsb3NlOiBGdW5jdGlvbiwgb25FcnJvcjogRnVuY3Rpb24pIHtcclxuICAgICAgICBzeXl4X2Fkdl9tYW5hZ2VyLnNob3dfbmF0aXZlX2ludGVyc3RpdGlhbChpZ2MuZV9hZF90eXBlLm5hdGl2ZSwgYWRfcG9zX2lkLCBvbkxvYWQsIG9uU2hvdywgb25DbG9zZSwgb25FcnJvcilcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmakOiXj+W4pumBrue9qeeahOWOn+eUn+aPkuWxj1VJXHJcbiAgICAgKiDpu4TmoIdcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGhpZGVfbmF0aXZlX2ludGVyc3RpdGlhbCgpIHtcclxuICAgICAgICBhZF9uYXRpdmVfaW50ZXJzdGl0aWFsLmhpZGVfbmF0aXZlX2ludGVyc3RpdGlhbF91aSgpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpooTliqDovb3nu5Pnrpfljp/nlJ9cclxuICAgICAqIEBwYXJhbSBhZF9wb3NfaWQgYWR26YWN572u6KGo5bm/5ZGKaWRcclxuICAgICAqIEBwYXJhbSBvbkxvYWQg5Yqg6L295oiQ5Yqf5Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gb25TaG93IOWxleekuuaIkOWKn+Wbnuiwg1xyXG4gICAgICogQHBhcmFtIG9uQ2xvc2Ug5YWz6Zet5Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gb25FcnJvciDmiqXplJnlm57osINcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHByZWxvYWRfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbChhZF9wb3NfaWQ6IHN0cmluZywgb25Mb2FkOiBGdW5jdGlvbiwgb25TaG93OiBGdW5jdGlvbiwgb25DbG9zZTogRnVuY3Rpb24sIG9uRXJyb3I6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5wcmVsb2FkX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwoaWdjLmVfYWRfdHlwZS5uYXRpdmUsIGFkX3Bvc19pZCwgb25Mb2FkLCBvblNob3csIG9uQ2xvc2UsIG9uRXJyb3IpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmL7npLrnu5Pnrpfljp/nlJ8g6ZyA6KaB5Lyg5YWl54i26IqC54K5XHJcbiAgICAgKiDlv4XpnIDpooTliqDovb3lpb3lr7nlupTnmoTljp/nlJ/mlbDmja5cclxuICAgICAqIEBwYXJhbSBhZF9wb3NfaWQg6YWN572u6KGo5bm/5ZGKSURcclxuICAgICAqIEBwYXJhbSBwYXJlbnQg54i26IqC54K5XHJcbiAgICAgKiBAcGFyYW0gY2xpY2tfYmFjayDnu5Pnrpfljp/nlJ/ngrnlh7vlm57osINcclxuICAgICAqIEBwYXJhbSBzaG93X2JhY2sg57uT566X5Y6f55Sf5pi+56S65Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gaGlkZV9iYWNrIOe7k+eul+WOn+eUn+makOiXj+Wbnuiwg1xyXG4gICAgICogQHBhcmFtIGlzX25ld190eXBlICDmmK/lkKbpnIDopoHnu5Pnrpfljp/nlJ/nmoTmlrDlvaLlvI/vvIzku4XpmZBvdizpu5jorqTkuLp0cnVlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzaG93X25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwoYWRfcG9zX2lkLCBwYXJlbnQsIGNsaWNrX2JhY2s/OiBGdW5jdGlvbiwgc2hvd19iYWNrPzogRnVuY3Rpb24sIGhpZGVfYmFjaz86IEZ1bmN0aW9uLCBpc19uZXdfdHlwZSA9IHRydWUpIHtcclxuICAgICAgICBzeXl4X21hbmFnZXIuc2hvd19uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsKGFkX3Bvc19pZCwgcGFyZW50LCBjbGlja19iYWNrLCBzaG93X2JhY2ssIGhpZGVfYmFjaywgaXNfbmV3X3R5cGUpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDngrnlh7vnu5Pnrpfljp/nlJ9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNsaWNrX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+S4iuaKpXlzanMtLS0tLS0tLS0tLScpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN5eXhfbWFuYWdlci5jbGlja19uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsKCkgXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNsaWNrX25hdGl2ZV9iYW5uZXIoKSB7XHJcbiAgICAgICAgc3l5eF9tYW5hZ2VyLmNsaWNrX25hdGl2ZV9iYW5uZXIoKSBcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog6K6+572u57uT566X5Y6f55Sf54K55Ye75oyJ6ZKu562W55WlXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIHNldF9vbl9jbGlja19pbm5lcl9pbnRlcnN0aXRpYWxfYnRuKGNsaWNrX2JhY2s/KSB7XHJcbiAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5zZXRfb25fY2xpY2tfaW5uZXJfaW50ZXJzdGl0aWFsX2J0bihjbGlja19iYWNrKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZqQ6JeP57uT566X5Y6f55SfXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGhpZGVfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnLS0gdXNlIOmakOiXj+WOn+eUn+W5v+WRiuaOpeWPoyAtLS0tLS0tLS0tJyk7XHJcbiAgICAgICAgc3l5eF9tYW5hZ2VyLmhpZGVfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCgpIFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZqQ6JeP5Y6f55SfYmFubmVyXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGhpZGVfbmF0aXZlX2Jhbm5lcigpIHtcclxuICAgICAgICBzeXl4X21hbmFnZXIuaGlkZV9uYXRpdmVfYmFubmVyKCkgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmL7npLrljp/nlJ9pY29uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzaG93X25hdGl2ZV9pY29uKHBhcmVudCwgYWRfcG9zX2lkPzogc3RyaW5nLCBvbkxvYWQ/OiBGdW5jdGlvbiwgb25TaG93PzogRnVuY3Rpb24sIG9uQ2xvc2U/OiBGdW5jdGlvbiwgb25FcnJvcj86IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5zaG93X25hdGl2ZV9pY29uKHBhcmVudCwgaWdjLmVfYWRfdHlwZS5uYXRpdmUsIGFkX3Bvc19pZCwgb25Mb2FkLCBvblNob3csIG9uQ2xvc2UsIG9uRXJyb3IpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpmpDol4/ljp/nlJ9pY29uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBoaWRlX25hdGl2ZV9pY29uKCkge1xyXG4gICAgICAgIHN5eXhfYWR2X21hbmFnZXIuaGlkZV9uYXRpdmVfaWNvbigpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKbkvb/nlKhvcHBv55qE5LqS5o6o55uS5a2QXHJcbiAgICAgKiDlv6vlupTnlKjniYjmnKzlj7flpKfkuo5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHN1cHBvcnRfZ2FtZV9ib3goKSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfbWFuYWdlci5zdXBwb3J0X2dhbWVfYm94KClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYvuekuuaoquW5heS6kuaOqOebkuWtkFxyXG4gICAgICogQHBhcmFtIGFkX3Bvc19pZCBhZHbphY3nva7ooajlub/lkYppZFxyXG4gICAgICogQHBhcmFtIG9uTG9hZCDliqDovb3miJDlip/lm57osINcclxuICAgICAqIEBwYXJhbSBvblNob3cg5bGV56S65oiQ5Yqf5Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gb25DbG9zZSDlhbPpl63lm57osINcclxuICAgICAqIEBwYXJhbSBvbkVycm9yIOaKpemUmeWbnuiwg1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2hvd19nYW1lX2Jhbm5lcl9ib3goYWRfcG9zX2lkOiBzdHJpbmcsIG9uTG9hZDogRnVuY3Rpb24sIG9uU2hvdzogRnVuY3Rpb24sIG9uQ2xvc2U6IEZ1bmN0aW9uLCBvbkVycm9yOiBGdW5jdGlvbikge1xyXG4gICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS5vcHBvX3FnKSB7XHJcbiAgICAgICAgICAgIHN5eXhfbWFuYWdlci5jcmVhdGVfYWQoaWdjLmVfYWRfdHlwZS5hcHBfYm94LCBhZF9wb3NfaWQsIG9uTG9hZCwgb25TaG93LCBvbkNsb3NlLCBvbkVycm9yLCBpZ2MuZV9hZF9hcHBfYm94X3R5cGUuYmFubmVyX2JveClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUudml2b19xZykgeyAvLyB2aXZv5qiq5bmFXHJcbiAgICAgICAgICAgIHN5eXhfbWFuYWdlci5jcmVhdGVfaGVuZ19mdV9hZChpZ2MuZV9hZF90eXBlLmFwcF9ib3gsIGFkX3Bvc19pZCwgb25Mb2FkLCBvblNob3csIG9uQ2xvc2UsIG9uRXJyb3IsIGlnYy5lX2FkX2FwcF9ib3hfdHlwZS5iYW5uZXJfYm94KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmakOiXj+aoquW5heS6kuaOqOebkuWtkFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaGlkZV9nYW1lX2Jhbm5lcl9ib3goYWRfcG9zX2lkOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUub3Bwb19xZykge1xyXG4gICAgICAgICAgICBzeXl4X21hbmFnZXIuZGVzdHJveV9hZChpZ2MuZV9hZF90eXBlLmFwcF9ib3gsIGFkX3Bvc19pZCwgaWdjLmVfYWRfYXBwX2JveF90eXBlLmJhbm5lcl9ib3gpIFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS52aXZvX3FnKSB7IC8vIHZpdm/mqKrluYVcclxuICAgICAgICAgICAgc3l5eF9tYW5hZ2VyLmhpZGVfYm94QmFubmVyQWRfdml2bygpIFxyXG4gICAgICAgIH1cclxuICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBoaWRlX2dhbWVfcG9ydGFsX2JveChhZF9wb3NfaWQ6IHN0cmluZykge1xyXG4gICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS5vcHBvX3FnKSB7XHJcbiAgICAgICAgICAgIHN5eXhfbWFuYWdlci5kZXN0cm95X2FkKGlnYy5lX2FkX3R5cGUuYXBwX2JveCwgYWRfcG9zX2lkLCBpZ2MuZV9hZF9hcHBfYm94X3R5cGUucG9ydGFsX2JveCkgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLnZpdm9fcWcpIHsgLy8gdml2b+aoquW5hVxyXG4gICAgICAgICAgICBzeXl4X21hbmFnZXIuaGlkZV9nYW1lX3BvcnRhbF9ib3hfdml2bygpIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9wcG/kuZ3lrqvmoLzkupLmjqjnm5LlrZBcclxuICAgICAqIEBwYXJhbSBhZF9wb3NfaWQgYWR26YWN572u6KGo5bm/5ZGKaWRcclxuICAgICAqIEBwYXJhbSBvbkxvYWQg5Yqg6L295oiQ5Yqf5Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gb25TaG93IOWxleekuuaIkOWKn+Wbnuiwg1xyXG4gICAgICogQHBhcmFtIG9uQ2xvc2Ug5YWz6Zet5Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gb25FcnJvciDmiqXplJnlm57osINcclxuICAgICAqIEBwYXJhbSBuZWVkX2Vycl90aXBzIOm7mOiupOS4umZhbHNl77yM5Li6dHJ1ZeaXtuaYvuekunNka+iHquW4pueahOaKpemUmemjmOWtl1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2hvd19nYW1lX3BvcnRhbF9ib3goYWRfcG9zX2lkOiBzdHJpbmcsIG9uTG9hZDogRnVuY3Rpb24sIG9uU2hvdzogRnVuY3Rpb24sIG9uQ2xvc2U6IEZ1bmN0aW9uLCBvbkVycm9yOiBGdW5jdGlvbiwgbmVlZF9lcnJfdGlwcz86IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUub3Bwb19xZykge1xyXG4gICAgICAgICAgICBzeXl4X21hbmFnZXIuc2hvd19nYW1lX3BvcnRhbF9ib3goYWRfcG9zX2lkLCBvbkxvYWQsIG9uU2hvdywgb25DbG9zZSwgb25FcnJvciwgbmVlZF9lcnJfdGlwcylcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUudml2b19xZykgeyAvLyB2aXZv5Lmd5a6r5qC8XHJcbiAgICAgICAgICAgIHN5eXhfbWFuYWdlci5zaG93X2dhbWVfcG9ydGFsX2JveF92aXZvKGFkX3Bvc19pZCwgb25Mb2FkLCBvblNob3csIG9uQ2xvc2UsIG9uRXJyb3IsIG5lZWRfZXJyX3RpcHMpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gd2Vi5bmz5Y+wXHJcbiAgICAgICAgICAgIHN5eXhfbWFuYWdlci5zaG93X2dhbWVfcG9ydGFsX2JveChhZF9wb3NfaWQsIG9uTG9hZCwgb25TaG93LCBvbkNsb3NlLCBvbkVycm9yLCBuZWVkX2Vycl90aXBzKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogdml2byDljp/nlJ/mqKHmnb/lub/lkYog5pyJ5o+S5bGPIOe7k+eulyBiYW5uZXJcclxuICAgICogQHBhcmFtIGFkX3Bvc19pZCBhZHbphY3nva7ooajlub/lkYppZFxyXG4gICAgKiBAcGFyYW0gb25TdWNjZXNzIOWKoOi9veaIkOWKn+Wbnuiwg1xyXG4gICAgKiBAcGFyYW0gb25FcnJvciDlsZXnpLrmiJDlip/lm57osINcclxuICAgICogQHBhcmFtIG9uQ2xvc2Ug5YWz6Zet5Zue6LCDXHJcbiAgICAqIEBwYXJhbSB0b3Ag5Y6f55Sf5qih5p2/5bm/5ZGK57uE5Lu255qE5bem5LiK6KeS57q15Z2Q5qCHXHJcbiAgICAqIEBwYXJhbSBsZWZ0IOWOn+eUn+aooeadv+W5v+WRiue7hOS7tueahOW3puS4iuinkuaoquWdkOagh1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBzaG93X29yaWdpbmFsX21vZHVsZV92aXZvKGFkX3Bvc19pZDogc3RyaW5nLCBvblN1Y2Nlc3M/OiBGdW5jdGlvbiwgb25FcnJvcj86IEZ1bmN0aW9uLCBvbkNsb3NlPzogRnVuY3Rpb24sIHRvcD86bnVtYmVyLCBsZWZ0PzpudW1iZXIpIHtcclxuXHJcbiAgICAgICAgaWYoYWRfcG9zX2lkID09ICcxMDMwMTAwMScpIHsgLy8g5o+S5bGPXHJcbiAgICAgICAgICAgIGlmKHN5eXhfbWFuYWdlci5fX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHN5eXhfbWFuYWdlci5fX2J1c2luZXNzX2NvbmZpZ19kYXRhW1widml2b195c2NwX3N3aXRjaFwiXSkgeyAvLyDmma7pgJrmj5LlsY/lvIDlhbNcclxuICAgICAgICAgICAgICAgIGlmIChzeXl4X21hbmFnZXIuX19idXNpbmVzc19jb25maWdfZGF0YVtcInZpdm9feXNjcF9zd2l0Y2hcIl0udmFsdWVbMF0gPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcigpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYoYWRfcG9zX2lkID09ICcxMDMwMjAwMScpIHsgLy8g57uT566XICBcclxuICAgICAgICAgICAgaWYoc3l5eF9tYW5hZ2VyLl9fYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgc3l5eF9tYW5hZ2VyLl9fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsX3N3aXRjaFwiXSkgeyBcclxuICAgICAgICAgICAgICAgIGlmIChzeXl4X21hbmFnZXIuX19idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWxfc3dpdGNoXCJdLnZhbHVlWzBdID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yICYmIG9uRXJyb3IoKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmKGFkX3Bvc19pZCA9PSAnMTAzMDQwMDEnKSB7IC8vIGJhbm5lclxyXG4gICAgICAgICAgICBpZihzeXl4X21hbmFnZXIuX19idXNpbmVzc19jb25maWdfZGF0YSAmJiBzeXl4X21hbmFnZXIuX19idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9iYW5uZXJfb3Blbl9zd2l0Y2hcIl0pIHsgLy8g5pmu6YCa5o+S5bGP5byA5YWzXHJcbiAgICAgICAgICAgICAgICBpZiAoc3l5eF9tYW5hZ2VyLl9fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfYmFubmVyX29wZW5fc3dpdGNoXCJdLnZhbHVlWzBdID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yICYmIG9uRXJyb3IoKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN5eXhfbWFuYWdlci5zaG93X29yaWdpbmFsX21vZHVsZShhZF9wb3NfaWQsIG9uU3VjY2Vzcywgb25FcnJvciwgb25DbG9zZSwgdG9wLCBsZWZ0KVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaG93X29yaWdpbmFsX21vZHVsZV9vcHBvKGFkX3Bvc19pZDogc3RyaW5nLCBzdHlsZTogbnVtYmVyW10sIG9uTG9hZDogRnVuY3Rpb24sIG9uU3VjY2VzczogRnVuY3Rpb24sIG9uRXJyb3I6IEZ1bmN0aW9uLCBvbkNsb3NlOiBGdW5jdGlvbikge1xyXG4gICAgICAgIGlmKGFkX3Bvc19pZCA9PSAnMTAzMDEwMDEnKSB7IC8vIOWOn+eUn+aPkuWxj1xyXG4gICAgICAgICAgICBpZihzeXl4X21hbmFnZXIuX19idXNpbmVzc19jb25maWdfZGF0YSAmJiBzeXl4X21hbmFnZXIuX19idXNpbmVzc19jb25maWdfZGF0YVtcInZpdm9feXNjcF9zd2l0Y2hcIl0pIHsgLy8g5o+S5bGP5byA5YWzXHJcbiAgICAgICAgICAgICAgICBpZiAoc3l5eF9tYW5hZ2VyLl9fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJ2aXZvX3lzY3Bfc3dpdGNoXCJdLnZhbHVlWzBdID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yICYmIG9uRXJyb3IoKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmKGFkX3Bvc19pZCA9PSAnMTAzMDIwMDEnKSB7IC8vIOWOn+eUn+e7k+eul1xyXG4gICAgICAgICAgICBpZihzeXl4X21hbmFnZXIuX19idXNpbmVzc19jb25maWdfZGF0YSAmJiBzeXl4X21hbmFnZXIuX19idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWxfc3dpdGNoXCJdKSB7IFxyXG4gICAgICAgICAgICAgICAgaWYgKHN5eXhfbWFuYWdlci5fX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbF9zd2l0Y2hcIl0udmFsdWVbMF0gPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcigpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYoYWRfcG9zX2lkID09ICcxMDMwNDAwMScpIHsgLy8g5Y6f55SfYmFubmVyXHJcbiAgICAgICAgICAgIGlmKHN5eXhfbWFuYWdlci5fX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHN5eXhfbWFuYWdlci5fX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2Jhbm5lcl9vcGVuX3N3aXRjaFwiXSkgeyAvLyDljp/nlJ/lvIDlhbNcclxuICAgICAgICAgICAgICAgIGlmIChzeXl4X21hbmFnZXIuX19idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9iYW5uZXJfb3Blbl9zd2l0Y2hcIl0udmFsdWVbMF0gPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcigpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3l5eF9tYW5hZ2VyLnNob3dfb3JpZ2luYWxfbW9kdWxlX29wcG8oYWRfcG9zX2lkLCBzdHlsZSwgb25Mb2FkLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIG9uQ2xvc2UpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIHZpdm8g5Y6f55Sf5qih5p2/5bm/5ZGKIOmAmueUqOeahCDlhbPpl60gIFxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBkZXN0b3J5X29yaWdpbmFsX21vZHVsZSgpIHtcclxuICAgICAgICBzeXl4X21hbmFnZXIuZGVzdG9yeV9vcmlnaW5hbF9tb2R1bGUoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDnm5LlrZDlub/lkYpcclxuICAgICogQHBhcmFtIGFkX3Bvc19pZCBhZHbphY3nva7ooajlub/lkYppZFxyXG4gICAgKiBAcGFyYW0gb25Mb2FkIOWKoOi9veaIkOWKn+Wbnuiwg1xyXG4gICAgKiBAcGFyYW0gb25TaG93IOWxleekuuaIkOWKn+Wbnuiwg1xyXG4gICAgKiBAcGFyYW0gb25DbG9zZSDlhbPpl63lm57osINcclxuICAgICogQHBhcmFtIG9uRXJyb3Ig5oql6ZSZ5Zue6LCDXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIHNob3dfYXBwX2JveChhZF9wb3NfaWQ6IHN0cmluZywgb25Mb2FkOiBGdW5jdGlvbiwgb25TaG93OiBGdW5jdGlvbiwgb25DbG9zZTogRnVuY3Rpb24sIG9uRXJyb3I6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgc3l5eF9tYW5hZ2VyLmNyZWF0ZV9hZChpZ2MuZV9hZF90eXBlLmFwcF9ib3gsIGFkX3Bvc19pZCwgb25Mb2FkLCBvblNob3csIG9uQ2xvc2UsIG9uRXJyb3IpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmL7npLrnp6/mnKjlub/lkYpcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNob3dfYmxvY2soc3R5bGUsIGFkX3Bvc19pZDogc3RyaW5nLCBvbkxvYWQ6IEZ1bmN0aW9uLCBvblNob3c6IEZ1bmN0aW9uLCBvbkNsb3NlOiBGdW5jdGlvbiwgb25FcnJvcjogRnVuY3Rpb24pIHtcclxuICAgICAgICBzeXl4X2Fkdl9tYW5hZ2VyLnNob3dfYmxvY2soc3R5bGUsIGlnYy5lX2FkX3R5cGUuYmxvY2ssIGFkX3Bvc19pZCwgb25Mb2FkLCBvblNob3csIG9uQ2xvc2UsIG9uRXJyb3IpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAg6ZqQ6JeP56ev5pyo5bm/5ZGKXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBoaWRlX2Jsb2NrKGFkX3Bvc19pZCkge1xyXG4gICAgICAgIHN5eXhfYWR2X21hbmFnZXIuaGlkZV9ibG9jayhhZF9wb3NfaWQpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpmpDol4/lhajpg6jnp6/mnKjlub/lkYpcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGhpZGVfYWxsX2Jsb2NrKCkge1xyXG4gICAgICAgIHN5eXhfYWR2X21hbmFnZXIuaGlkZV9hbGxfYmxvY2soKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog5bGV56S65paw5ZOB5bCd6bKcIFxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBzaG93X25ld19wcm9kdWN0cyhjYWxsX2JhY2s/KSB7XHJcbiAgICAgICAgc3l5eF9tYW5hZ2VyLnNob3dfbmV3X3Byb2R1Y3RzKGNhbGxfYmFjaylcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIpOaWreW5s+WPsOeJiOacrOWPt++8jOeci+aYr+WQpuaUr+aMgea3u+WKoOahjOmdouWKn+iDvVxyXG4gICAgICogcGxhdGZvcm1WZXJzaW9uID49IDEwNDQ7XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjaGVja19jYW5fYWRkX2Rlc2t0b3AoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfbWFuYWdlci5jaGVja19jYW5fYWRkX2Rlc2t0b3AoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOajgOafpeacieayoeaciea3u+WKoOahjOmdolxyXG4gICAgICogQHBhcmFtIGNhbl9hZGQgIOayoeaciea3u+WKoFxyXG4gICAgICogQHBhcmFtIGhhc19hZGQgIOa3u+WKoOS6hlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY2hlY2tfaXNfYWRkX2Rlc2t0b3AoY2FuX2FkZDogRnVuY3Rpb24sIGhhc19hZGQ6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfbWFuYWdlci5jaGVja19pc19hZGRfZGVza3RvcChjYW5fYWRkLCBoYXNfYWRkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa3u+WKoOahjOmdouaTjeS9nFxyXG4gICAgICogQHBhcmFtIG9uX3N1Y2Nlc3MgICDlj6/ku6Xmt7vliqDmoYzpnaIg5re75Yqg5qGM6Z2i55qE57O757uf55WM6Z2i5by55Ye6IFxyXG4gICAgICogQHBhcmFtIG9uX2ZhaWxlZCAgICAg5LiN6IO95re75Yqg5qGM6Z2iIOavlOWmguW5s+WPsOeJiOacrOi+g+S9jlxyXG4gICAgICogQHBhcmFtIG9uX2ZhaWxlZF9iYWNrICDlvLnlh7rmt7vliqDmoYzpnaLnmoTns7vnu5/nlYzpnaLlpLHotKVcclxuICAgICAqIEBwYXJhbSBoYXNfY3JlYXRlICAgIOWbvuagh+W3sue7j+WIm+W7uui/h+S6hlxyXG4gICAgICogcHPvvJrlvZPmjqXmlLbliLBvbl9zdWNjZXNz5Zue6LCD5ZCO77yM5a6a5pe25Zmo5LiA56eS5LmL5ZCOIOWGjeiwg+eUqCBjaGVja19pc19hZGRfZGVza3RvcCDmnaXliKTmlq3nlKjmiLfmmK/lkKbmt7vliqDkuobmoYzpnaIgXHJcbiAgICAgKiDlpoLmnpzlm57osIPmmK8gY2FuX2FkZCDliJnku6PooajnlKjmiLflj5bmtogg5aaC5p6c5Zue6LCD5pivaGFzX2FkZCDvvIzliJnku6PooajnlKjmiLfmt7vliqDmoYzpnaIg5Y+v5Y+R5pS+5aWW5YqxXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhZGRfZGVza3RvcChvbl9zdWNjZXNzOiBGdW5jdGlvbiwgb25fZmFpbGVkOiBGdW5jdGlvbiwgb25fZmFpbGVkX2JhY2s6IEZ1bmN0aW9uLCBoYXNfY3JlYXRlOiBGdW5jdGlvbikge1xyXG4gICAgICAgIHJldHVybiBzeXl4X21hbmFnZXIuYWRkX2Rlc2t0b3Aob25fc3VjY2Vzcywgb25fZmFpbGVkLCBvbl9mYWlsZWRfYmFjaywgaGFzX2NyZWF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlkI7lj7DovazliY3lj7Dnm5HlkKxcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xyXG4gICAgICogY2FsbGJhY2vvvJpmdW5jdGlvbihyZXMpe1xyXG4gICAgICogfSBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG9uX3Nob3coY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfbWFuYWdlci5vbl9zaG93KGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOi9rOWQjuWPsOebkeWQrFxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIFxyXG4gICAgICogY2FsbGJhY2vvvJpmdW5jdGlvbihyZXMpe1xyXG4gICAgICogfSBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG9uX2hpZGUoY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLm9uX2hpZGUoY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W57O757uf5L+h5oGvXHJcbiAgICAgKiAge1xyXG4gICAgICogIGJyYW5k77ya6K6+5aSH5ZOB54mMXHJcbiAgICAgICAgbW9kZWzvvJrmiYvmnLrlnovlj7dcclxuICAgICAgICBwaXhlbFJhdGlv77ya6K6+5aSH5YOP57Sg5q+UXHJcbiAgICAgICAgc2NyZWVuV2lkdGjvvJrlsY/luZXlrr3luqZcclxuICAgICAgICBzY3JlZW5IZWlnaHTvvJrlsY/luZXpq5jluqZcclxuICAgICAgICB3aW5kb3dXaWR0aO+8muWPr+S9v+eUqOeql+WPo+WuveW6plxyXG4gICAgICAgIHdpbmRvd0hlaWdodO+8muWPr+S9v+eUqOeql+WPo+mrmOW6plxyXG4gICAgICAgIHN0YXR1c0JhckhlaWdodO+8mueKtuaAgeagjy/lvILmgKfnvLrlj6Ppq5jluqZcclxuICAgICAgICBsYW5ndWFnZe+8mueOr+Wig+ivreiogFxyXG4gICAgICAgIHZlcnNpb27vvJrniYjmnKzlj7dcclxuICAgICAgICBwbGF0Zm9ybe+8muWuouaIt+err+W5s+WPsFxyXG4gICAgICAgIHN5c3Rlbe+8muaTjeS9nOezu+e7n+eJiOacrFxyXG4gICAgICAgIHBsYXRmb3JtVmVyc2lvbu+8muW5s+WPsOeJiOacrOWPty/lrqLmiLfnq6/ln7rnoYDlupPniYjmnKxcdFxyXG4gICAgICAgIGV4dHJhOmdldFN5c3RlbUluZm9TeW5j6L+U5Zue55qE5Y+C5pWwXHJcbiAgICAgICAgfVxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBnZXRfc3lzdGVtX2luZm9fc3luYygpIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLmdldF9zeXN0ZW1faW5mb19zeW5jKClcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bmuLjmiI/lkK/liqjlj4LmlbBcclxuICAgICAqIHNjZW5l77ya5Zy65pmv5YC8XHJcbiAgICAgKiBxdWVyee+8muafpeivouWPguaVsFxyXG4gICAgICogcmVmZXJyZXJJbmZv77ya5bCP5ri45oiP5ZCv5Yqo5p2l5rqQXHJcbiAgICAgKiBlbnRyeURhdGFIYXNo77ya576k5YWl5Y+j5L+h5oGvXHJcbiAgICAgKiBleHRyYSDlsI/muLjmiI/ln7rmnKzkv6Hmga/vvIzljIXmi6zlrr/kuLsgSWTvvIxnYW1lSWTvvIzlkK/liqjlnLrmma/nrYnlj4LmlbBcclxuICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X2xhdW5jaF9vcHRpb25zX3N5bmMoKSB7XHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSBzeXl4X21hbmFnZXIuZ2V0X2xhdW5jaF9vcHRpb25zX3N5bmMoKVxyXG4gICAgICAgIGxldCBkYXRhID0gbmV3IGxhdW5jaF9vcHRpb25zKClcclxuICAgICAgICBkYXRhLnNjZW5lID0gb3B0aW9ucy5zY2VuZSB8fCBcIlwiXHJcbiAgICAgICAgZGF0YS5xdWVyeSA9IG9wdGlvbnMucXVlcnkgfHwge31cclxuICAgICAgICBkYXRhLnJlZmVycmVySW5mbyA9IG9wdGlvbnMucmVmZXJyZXJJbmZvIHx8IHt9XHJcbiAgICAgICAgZGF0YS5lbnRyeURhdGFIYXNoID0gb3B0aW9ucy5lbnRyeURhdGFIYXNoIHx8IHt9XHJcbiAgICAgICAgZGF0YS5leHRyYSA9IG9wdGlvbnMuZXh0cmEgfHwge31cclxuICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YWz6Zet5bCP5ri45oiPXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBleGl0X21pbmlfcHJvZ3JhbSgpIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLmV4aXRfbWluaV9wcm9ncmFtKClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWwj+a4uOaIj+i3s+i9rFxyXG4gICAgICogQHBhcmFtIHBhcmFtXHJcbiAgICAgKiB7XHJcbiAgICAgKiAgIGFwcF9pZDrlsI/muLjmiI/ljIXlkI1cclxuICAgICAqICAgc3VjY2VzczrmiJDlip/lm57osINcclxuICAgICAqIH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIG5hdmlnYXRlX3RvX21pbmlfcHJvZ3JhbShhcHBfaWQ6IHN0cmluZywgc3VjY3NzOiBGdW5jdGlvbikge1xyXG4gICAgICAgIHJldHVybiBzeXl4X21hbmFnZXIubmF2aWdhdGVfdG9fbWluaV9wcm9ncmFtKGFwcF9pZCwgc3VjY3NzKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YiG5Lqr5Y2h54mHXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzaGFyZSh0aXRsZTogc3RyaW5nLCBpbWFnZVVybDogc3RyaW5nLCBxdWVyeT86IHN0cmluZywgZGVzYz86IHN0cmluZywgc3VjY2Vzcz86IEZ1bmN0aW9uLCBmYWlsPzogRnVuY3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLnNoYXJlKHRpdGxlLCBpbWFnZVVybCwgcXVlcnksIGRlc2MsIHN1Y2Nlc3MsIGZhaWwpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnm5HlkKzlj7PkuIrop5LliIbkuqtcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG9uX3NoYXJlX2FwcF9tZXNzYWdlKHRpdGxlOiBzdHJpbmcsIGltYWdlVXJsOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLm9uX3NoYXJlX2FwcF9tZXNzYWdlKHRpdGxlLCBpbWFnZVVybClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW8gOWni+W9leWxj1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc3RhcnRfcmVjb3JkX3NjcmVlbih0aW1lPzogbnVtYmVyLCBpc19jbGlwX2VuZD86IGJvb2xlYW4sIGNsaXBfdGltZT86IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBzeXl4X21hbmFnZXIuc3RhcnRfcmVjb3JkX3NjcmVlbih0aW1lLCBpc19jbGlwX2VuZCwgY2xpcF90aW1lKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57uT5p2f5b2V5bGPXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzdG9wX3JlY29yZF9zY3JlZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfbWFuYWdlci5zdG9wX3JlY29yZF9zY3JlZW4oKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pqC5YGc5b2V5bGPXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBwYXVzZV9yZWNvcmRfc2NyZWVuKCkge1xyXG4gICAgICAgIHJldHVybiBzeXl4X21hbmFnZXIucGF1c2VfcmVjb3JkX3NjcmVlbigpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmgaLlpI3lvZXlsY9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlc3VtZV9yZWNvcmRfc2NyZWVuKCkge1xyXG4gICAgICAgIHJldHVybiBzeXl4X21hbmFnZXIucmVzdW1lX3JlY29yZF9zY3JlZW4oKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YiG5Lqr5b2V5bGPXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzaGFyZV9yZWNvcmRfc2NyZWVuKHZpZGVvVG9waWNzOiBBcnJheTxzdHJpbmc+LCB0aXRsZTogc3RyaW5nLCBkZXNjOiBzdHJpbmcsIGltYWdlVXJsOiBzdHJpbmcsIHF1ZXJ5OiBzdHJpbmcsIGZhaWw6IEZ1bmN0aW9uLCBzdWNjZXNzOiBGdW5jdGlvbikge1xyXG4gICAgICAgIHJldHVybiBzeXl4X21hbmFnZXIuc2hhcmVfcmVjb3JkX3NjcmVlbih2aWRlb1RvcGljcywgdGl0bGUsIGRlc2MsIGltYWdlVXJsLCBxdWVyeSwgZmFpbCwgc3VjY2VzcylcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluW9leWxj+aWh+S7tlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X3JlY29yZF92aWRlbygpIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLmdldF9yZWNvcmRfdmlkZW8oKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDmmK/lkKbkuLrmlrDnjqnlrrZcclxuICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X2lzX25ld19wbGF5ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfbWFuYWdlci5nZXRfaXNfbmV3X3BsYXllcigpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOiOt+WPlnN5eXhfYXBwX2lkXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGdldF9zeXl4X2FwcF9pZCgpIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9tYW5hZ2VyLmdldF9zeXl4X2FwcF9pZCgpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOi/lOWbniDmjInpkq7phY3nva4qL1xyXG4gICAgc3RhdGljIEdldEJ1dHRvbnNEYXRhKCkge1xyXG4gICAgICAgIHJldHVybiBzeXl4X21hbmFnZXIuR2V0QnV0dG9uc0RhdGEoKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICog6I635Y+W5b2T5YmN5ri45oiP5bGP5bmV6Iie5Y+w5LiO5Z+65LqOMTkyMCoxMDgw6K6+6K6h6Iie5Y+w55qE5q+U5L6LXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGdldF9zY3JlZW5fcmF0aW8oKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvd1tcImNjXCJdKSB7XHJcbiAgICAgICAgICAgIGlmIChjYy52aWV3LmdldFZpc2libGVTaXplKCkud2lkdGggPiBjYy52aWV3LmdldFZpc2libGVTaXplKCkuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLmhlaWdodCAvIDEwODBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjYy52aWV3LmdldFZpc2libGVTaXplKCkud2lkdGggPD0gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aCAvIDEwODBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/sdk/_qq.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0d1ddHwb0pAhrbL0w6o11mM', '_qq');
// scripts/sdk/_qq.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ch_qq = void 0;
var TAG = '_qq.ts';
var _qq = /** @class */ (function () {
    function _qq() {
        this.videoAd = null;
        this.bannerAd = null;
        this.insertAd = null;
        this.appBoxAd = null;
        this.videoAdId = "";
        this.insertAdId = "";
        this.bannerAdId = "";
        this.appBoxAdId = "";
        this.OnVideoCallBackListener = null;
        this.sdkInitEnd = false;
        console.log(TAG, 'init platform channel: _qq_play');
    }
    _qq.getInstance = function () {
        if (this.Instance == null) {
            this.Instance = new _qq();
        }
        return this.Instance;
    };
    _qq.prototype.initAdParams = function (param) {
        if (this.sdkInitEnd) {
            return;
        }
        this.sdkInitEnd = true;
        this.insertAdId = param.insertId;
        this.bannerAdId = param.bannerId;
        this.videoAdId = param.videoId;
        this.appBoxAdId = param.appBoxId;
        this.initBannerAd();
    };
    _qq.prototype.buttonShare = function (OnShareCall, Protexture, desTxt) {
        // @ts-ignore
        _qq.shareAppMessage({
            title: desTxt,
            imageUrl: Protexture,
            query: "key1=val1",
            success: function (res) {
                OnShareCall(true);
            },
            fail: function (e) {
                OnShareCall(false);
            }
        });
    };
    _qq.prototype.initVideoAd = function () {
        var _this = this;
        //@ts-ignore
        this.videoAd = _qq.createRewardedVideoAd({
            adUnitId: this.videoAdId
        });
        this.videoAd.onError(function (res) {
            console.warn(TAG, '激励视频错误:', JSON.stringify(res));
        });
        this.videoAd.onLoad(function (res) {
            _this.videoAd.show();
        });
        this.videoAd.load();
        this.videoAd.onClose(function (res) {
            if (res && res.isEnded) {
                _this.OnVideoCallBackListener(true);
            }
            else {
                _this.OnVideoCallBackListener(false);
            }
        });
    };
    _qq.prototype.initBannerAd = function () {
        var _this = this;
        var info = null;
        //@ts-ignore
        _qq.getSystemInfo({
            success: function (res) {
                info = res;
                console.log(TAG, res.windowWidth);
                console.log(TAG, res.windowHeight);
            }
        });
        var targetBannerAdWidth = 150;
        //@ts-ignore
        this.bannerAd = _qq.createBannerAd({
            adUnitId: this.bannerAdId,
            style: {
                left: 0,
                top: info.windowHeight - targetBannerAdWidth,
                width: targetBannerAdWidth,
                height: 200
            }
        });
        this.bannerAd.onResize(function (size) {
            console.log("onResize", size.width, size.height);
            // 如果一开始设置的 banner 宽度超过了系统限制，可以在此处加以调整
            _this.bannerAd.style.left = (info.windowWidth - size.width) / 2;
            _this.bannerAd.style.top = info.windowHeight - size.height;
            //这行是为了在QQ小游戏中能正确显示位置.如果是微信则不需要这句
            _this.bannerAd.style.left = (info.windowWidth - size.width) / 2;
            _this.bannerAd.style.top = info.windowHeight - size.height;
        });
        this.bannerAd.onError(function (e) {
            console.warn(TAG, 'bannerAd onError!', e);
        });
        this.bannerAd.onLoad(function (res) {
            console.warn(TAG, 'bannerAd onLoad!', res);
        });
    };
    _qq.prototype.insertAd_show = function () {
        var _this = this;
        if (this.insertAd != null) {
            this.insertAd.destroy();
        }
        //@ts-ignore
        this.insertAd = _qq.createInterstitialAd({
            adUnitId: this.insertAdId
        });
        this.insertAd.load().then(function (res) {
            _this.insertAd.show();
        });
        this.insertAd.onError(function (err) {
            console.warn(TAG, "\u63D2\u5C4F\u5E7F\u544A\u9519\u8BEF:" + JSON.stringify(err));
        });
    };
    _qq.prototype.creatAppBoxAd = function () {
        //@ts-ignore
        this.appBoxAd = _qq.createAppBox({
            adUnitId: this.appBoxAdId
        });
    };
    _qq.prototype.appBoxAdShow = function () {
        var _this = this;
        this.creatAppBoxAd();
        this.appBoxAd.load().then(function () {
            _this.appBoxAd.show();
        });
    };
    _qq.prototype.appBoxDestroy = function () {
        this.appBoxAd.destroy();
        this.appBoxAd = null;
    };
    _qq.prototype.videoAd_show = function (OnVideoCall) {
        this.OnVideoCallBackListener = OnVideoCall;
        this.videoAd != null ? this.videoAd.load() : this.initVideoAd();
    };
    _qq.prototype.bannerAd_hide = function () {
        this.bannerAd.hide();
        this.bannerAd.destroy();
        this.initBannerAd();
    };
    _qq.prototype.bannerAd_show = function () {
        this.bannerAd.show().then(function () {
            console.log(TAG, 'banner广告显示成功!');
        }).catch(function (err) {
            console.warn(TAG, "banner\u5E7F\u544A\u7EC4\u4EF6\u51FA\u73B0\u95EE\u9898:" + err);
        });
    };
    _qq.prototype.shakeDevice = function () {
        // @ts-ignore
        _qq.vibrateShort();
    };
    return _qq;
}());
exports.ch_qq = _qq;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcc2RrXFxfcXEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsSUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDO0FBQ3JCO0lBWUk7UUFWUSxZQUFPLEdBQVEsSUFBSSxDQUFDO1FBQ3BCLGFBQVEsR0FBUSxJQUFJLENBQUM7UUFDckIsYUFBUSxHQUFRLElBQUksQ0FBQztRQUNyQixhQUFRLEdBQVEsSUFBSSxDQUFDO1FBQ3JCLGNBQVMsR0FBVyxFQUFFLENBQUM7UUFDdkIsZUFBVSxHQUFXLEVBQUUsQ0FBQztRQUN4QixlQUFVLEdBQVcsRUFBRSxDQUFDO1FBQ3hCLGVBQVUsR0FBVyxFQUFFLENBQUM7UUFDeEIsNEJBQXVCLEdBQWEsSUFBSSxDQUFDO1FBQ3pDLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFFaEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsaUNBQWlDLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBQ00sZUFBVyxHQUFsQjtRQUNJLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQUU7WUFDdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO1NBQzdCO1FBQ0QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3pCLENBQUM7SUFDRCwwQkFBWSxHQUFaLFVBQWEsS0FBWTtRQUNyQixJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDakIsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFDdkIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUNqQyxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFDL0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsUUFBUSxD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LENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUNELDJCQUFhLEdBQWI7UUFDSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQztZQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsVUFBQyxHQUFRO1lBQ2QsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsNERBQWtCLEdBQUssQ0FBQyxDQUFDO1FBQy9DLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELHlCQUFXLEdBQVg7UUFDSSxhQUFhO1FBQ2IsR0FBRyxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFDTCxVQUFDO0FBQUQsQ0ExSkEsQUEwSkMsSUFBQTtBQUNZLFFBQUEsS0FBSyxHQUFHLEdBQUcsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcmFtIH0gZnJvbSBcIi4vdHlwZVwiO1xuXG5jb25zdCBUQUcgPSAnX3FxLnRzJztcbmNsYXNzIF9xcSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgSW5zdGFuY2U6IF9xcTtcbiAgICBwcml2YXRlIHZpZGVvQWQ6IGFueSA9IG51bGw7XG4gICAgcHJpdmF0ZSBiYW5uZXJBZDogYW55ID0gbnVsbDtcbiAgICBwcml2YXRlIGluc2VydEFkOiBhbnkgPSBudWxsO1xuICAgIHByaXZhdGUgYXBwQm94QWQ6IGFueSA9IG51bGw7XG4gICAgcHJpdmF0ZSB2aWRlb0FkSWQ6IHN0cmluZyA9IFwiXCI7XG4gICAgcHJpdmF0ZSBpbnNlcnRBZElkOiBzdHJpbmcgPSBcIlwiO1xuICAgIHByaXZhdGUgYmFubmVyQWRJZDogc3RyaW5nID0gXCJcIjtcbiAgICBwcml2YXRlIGFwcEJveEFkSWQ6IHN0cmluZyA9IFwiXCI7XG4gICAgcHJpdmF0ZSBPblZpZGVvQ2FsbEJhY2tMaXN0ZW5lcjogRnVuY3Rpb24gPSBudWxsO1xuICAgIHByaXZhdGUgc2RrSW5pdEVuZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFRBRywgJ2luaXQgcGxhdGZvcm0gY2hhbm5lbDogX3FxX3BsYXknKTtcbiAgICB9XG4gICAgc3RhdGljIGdldEluc3RhbmNlKCk6IF9xcSB7XG4gICAgICAgIGlmICh0aGlzLkluc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuSW5zdGFuY2UgPSBuZXcgX3FxKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuSW5zdGFuY2U7XG4gICAgfVxuICAgIGluaXRBZFBhcmFtcyhwYXJhbTogcGFyYW0pIHtcbiAgICAgICAgaWYgKHRoaXMuc2RrSW5pdEVuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2RrSW5pdEVuZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5zZXJ0QWRJZCA9IHBhcmFtLmluc2VydElkO1xuICAgICAgICB0aGlzLmJhbm5lckFkSWQgPSBwYXJhbS5iYW5uZXJJZDtcbiAgICAgICAgdGhpcy52aWRlb0FkSWQgPSBwYXJhbS52aWRlb0lkO1xuICAgICAgICB0aGlzLmFwcEJveEFkSWQgPSBwYXJhbS5hcHBCb3hJZDtcbiAgICAgICAgdGhpcy5pbml0QmFubmVyQWQoKTtcbiAgICB9XG4gICAgYnV0dG9uU2hhcmUoT25TaGFyZUNhbGw6IEZ1bmN0aW9uLCBQcm90ZXh0dXJlOiBzdHJpbmcgfCBudWxsLCBkZXNUeHQ6IHN0cmluZyB8IG51bGwpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBfcXEuc2hhcmVBcHBNZXNzYWdlKHtcbiAgICAgICAgICAgIHRpdGxlOiBkZXNUeHQsICAgICAgICAvLy8+IFwi5ZCI5oiQ5bCP5ri45oiP5pCt6YWN57uP5YW45YOP57Sg6aOO5qC877yM546p6L2s5YO15bC45aSn6aOO5pq077yBXCJcbiAgICAgICAgICAgIGltYWdlVXJsOiBQcm90ZXh0dXJlLCAvLy8+IFwicmVzL3Jhdy1hc3NldHMvYTAvYTAxMDAwMzItOTMzYy00MDU3LWE1YzQtZDhkMmJkOWY4ZDBkLnBuZ1wiXG4gICAgICAgICAgICBxdWVyeTogXCJrZXkxPXZhbDFcIixcbiAgICAgICAgICAgIHN1Y2Nlc3MocmVzOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBPblNoYXJlQ2FsbCh0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWlsKGU6IGFueSkge1xuICAgICAgICAgICAgICAgIE9uU2hhcmVDYWxsKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGluaXRWaWRlb0FkKCkge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgdGhpcy52aWRlb0FkID0gX3FxLmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XG4gICAgICAgICAgICBhZFVuaXRJZDogdGhpcy52aWRlb0FkSWRcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlkZW9BZC5vbkVycm9yKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ+a/gOWKseinhumikemUmeivrzonLCBKU09OLnN0cmluZ2lmeShyZXMpKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnZpZGVvQWQub25Mb2FkKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWRlb0FkLnNob3coKTtcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy52aWRlb0FkLmxvYWQoKTtcbiAgICAgICAgdGhpcy52aWRlb0FkLm9uQ2xvc2UoKHJlczogYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzICYmIHJlcy5pc0VuZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5PblZpZGVvQ2FsbEJhY2tMaXN0ZW5lcih0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5PblZpZGVvQ2FsbEJhY2tMaXN0ZW5lcihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbml0QmFubmVyQWQoKSB7XG4gICAgICAgIGxldCBpbmZvOiBhbnkgPSBudWxsO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgX3FxLmdldFN5c3RlbUluZm8oe1xuICAgICAgICAgICAgc3VjY2VzcyhyZXM6IGFueSkge1xuICAgICAgICAgICAgICAgIGluZm8gPSByZXM7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCByZXMud2luZG93V2lkdGgpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCByZXMud2luZG93SGVpZ2h0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBsZXQgdGFyZ2V0QmFubmVyQWRXaWR0aCA9IDE1MDtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHRoaXMuYmFubmVyQWQgPSBfcXEuY3JlYXRlQmFubmVyQWQoe1xuICAgICAgICAgICAgYWRVbml0SWQ6IHRoaXMuYmFubmVyQWRJZCxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICB0b3A6IGluZm8ud2luZG93SGVpZ2h0IC0gdGFyZ2V0QmFubmVyQWRXaWR0aCxcbiAgICAgICAgICAgICAgICB3aWR0aDogdGFyZ2V0QmFubmVyQWRXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDIwMFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmJhbm5lckFkLm9uUmVzaXplKChzaXplOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib25SZXNpemVcIiwgc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xuICAgICAgICAgICAgLy8g5aaC5p6c5LiA5byA5aeL6K6+572u55qEIGJhbm5lciDlrr3luqbotoXov4fkuobns7vnu5/pmZDliLbvvIzlj6/ku6XlnKjmraTlpITliqDku6XosIPmlbRcbiAgICAgICAgICAgIHRoaXMuYmFubmVyQWQuc3R5bGUubGVmdCA9IChpbmZvLndpbmRvd1dpZHRoIC0gc2l6ZS53aWR0aCkgLyAyO1xuICAgICAgICAgICAgdGhpcy5iYW5uZXJBZC5zdHlsZS50b3AgPSBpbmZvLndpbmRvd0hlaWdodCAtIHNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgLy/ov5nooYzmmK/kuLrkuoblnKhRUeWwj+a4uOaIj+S4reiDveato+ehruaYvuekuuS9jee9ri7lpoLmnpzmmK/lvq7kv6HliJnkuI3pnIDopoHov5nlj6VcbiAgICAgICAgICAgIHRoaXMuYmFubmVyQWQuc3R5bGUubGVmdCA9IChpbmZvLndpbmRvd1dpZHRoIC0gc2l6ZS53aWR0aCkgLyAyO1xuICAgICAgICAgICAgdGhpcy5iYW5uZXJBZC5zdHlsZS50b3AgPSBpbmZvLndpbmRvd0hlaWdodCAtIHNpemUuaGVpZ2h0O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5iYW5uZXJBZC5vbkVycm9yKChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsICdiYW5uZXJBZCBvbkVycm9yIScsIGUpXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuYmFubmVyQWQub25Mb2FkKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgJ2Jhbm5lckFkIG9uTG9hZCEnLCByZXMpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbnNlcnRBZF9zaG93KCkge1xuICAgICAgICBpZiAodGhpcy5pbnNlcnRBZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmluc2VydEFkLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5pbnNlcnRBZCA9IF9xcS5jcmVhdGVJbnRlcnN0aXRpYWxBZCh7XG4gICAgICAgICAgICBhZFVuaXRJZDogdGhpcy5pbnNlcnRBZElkXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmluc2VydEFkLmxvYWQoKS50aGVuKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRBZC5zaG93KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmluc2VydEFkLm9uRXJyb3IoKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBg5o+S5bGP5bm/5ZGK6ZSZ6K+vOiR7SlNPTi5zdHJpbmdpZnkoZXJyKX1gKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNyZWF0QXBwQm94QWQoKSB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLmFwcEJveEFkID0gX3FxLmNyZWF0ZUFwcEJveCh7XG4gICAgICAgICAgICBhZFVuaXRJZDogdGhpcy5hcHBCb3hBZElkXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhcHBCb3hBZFNob3coKSB7XG4gICAgICAgIHRoaXMuY3JlYXRBcHBCb3hBZCgpO1xuICAgICAgICB0aGlzLmFwcEJveEFkLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwQm94QWQuc2hvdygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXBwQm94RGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5hcHBCb3hBZC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuYXBwQm94QWQgPSBudWxsO1xuICAgIH1cbiAgICB2aWRlb0FkX3Nob3coT25WaWRlb0NhbGw6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuT25WaWRlb0NhbGxCYWNrTGlzdGVuZXIgPSBPblZpZGVvQ2FsbDtcbiAgICAgICAgdGhpcy52aWRlb0FkICE9IG51bGwgPyB0aGlzLnZpZGVvQWQubG9hZCgpIDogdGhpcy5pbml0VmlkZW9BZCgpO1xuICAgIH1cbiAgICBiYW5uZXJBZF9oaWRlKCkge1xuICAgICAgICB0aGlzLmJhbm5lckFkLmhpZGUoKTtcbiAgICAgICAgdGhpcy5iYW5uZXJBZC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5pdEJhbm5lckFkKCk7XG4gICAgfVxuICAgIGJhbm5lckFkX3Nob3coKSB7XG4gICAgICAgIHRoaXMuYmFubmVyQWQuc2hvdygpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCAnYmFubmVy5bm/5ZGK5pi+56S65oiQ5YqfIScpO1xuICAgICAgICB9KS5jYXRjaCgoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGBiYW5uZXLlub/lkYrnu4Tku7blh7rnjrDpl67popg6JHtlcnJ9YCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaGFrZURldmljZSgpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBfcXEudmlicmF0ZVNob3J0KCk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGNoX3FxID0gX3FxOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/sdk/_vivo.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5d57fhYn05IhJPkcocEaSWw', '_vivo');
// scripts/sdk/_vivo.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ch_vivo = void 0;
var TAG = '_vivo.ts';
var _vivo = /** @class */ (function () {
    function _vivo() {
        this.videoId = "";
        this.bannerId = "";
        this.insertId = "";
        this.nativeId = "";
        this.videoAd = null;
        this.bannerAd = null;
        this.OnVideoCallBackListener = null;
        this.sdkInitEnd = false;
        this.showAdLastTime = 0;
        console.log(TAG, 'init platform channel: vivo_play');
    }
    _vivo.getInstance = function () {
        if (this.Instance == null) {
            this.Instance = new _vivo();
        }
        return this.Instance;
    };
    _vivo.prototype.initAdParams = function (param) {
        if (this.sdkInitEnd) {
            return;
        }
        this.sdkInitEnd = true;
        this.insertId = param.insertId;
        this.bannerId = param.bannerId;
        this.videoId = param.videoId;
        this.nativeId = param.nativeId;
        this.initBannderAd();
    };
    _vivo.prototype.initBannderAd = function () {
        //@ts-ignore
        var bannerAd = qg.createBannerAd({
            posId: this.bannerId,
            style: {}
        });
        this.bannerAd = bannerAd;
        this.bannerAd.onError(function (err) {
            console.warn(TAG, "banner\u5E7F\u544A\u52A0\u8F7D\u5931\u8D25:" + JSON.stringify(err));
        });
    };
    _vivo.prototype.bannerAd_show = function () {
        if (this.bannerAd) {
            this.bannerAd.show();
        }
    };
    _vivo.prototype.bannerAd_hide = function () {
        if (this.bannerAd) {
            this.bannerAd.hide();
            this.bannerAd.destroy();
            this.initBannderAd();
        }
    };
    _vivo.prototype.initVideoAd = function () {
        var _this = this;
        //@ts-ignore
        this.videoAd = qg.createRewardedVideoAd({
            posId: this.videoId
        });
        this.videoAd.onLoad(function () {
            cc.audioEngine.pauseAll();
            _this.videoAd.show();
            _this.showAdLastTime = new Date().getTime();
        });
        this.videoAd.onClose(function (res) {
            cc.audioEngine.resumeAll();
            if (res && res.isEnded) {
                _this.OnVideoCallBackListener(true);
            }
            else {
                _this.OnVideoCallBackListener(false);
            }
        });
        this.videoAd.onError(function (err) {
            console.warn(TAG, "\u89C6\u9891\u5E7F\u544A\u9519\u8BEF:" + JSON.stringify(err));
        });
        this.videoAd.load();
    };
    _vivo.prototype.videoAd_show = function (OnVideoCall) {
        var now = new Date().getTime();
        if (now - this.showAdLastTime < 60000) {
            //@ts-ignore
            qg.showToast({
                message: '每分钟只能看一次视频'
            });
            return;
        }
        this.OnVideoCallBackListener = OnVideoCall;
        this.videoAd != null ? this.videoAd.load() : this.initVideoAd();
    };
    _vivo.prototype.insertAd_show = function () {
        // @ts-ignore
        var interstitialAd = qg.createInterstitialAd({
            posId: this.insertId
        });
        interstitialAd.onError(function (err) {
            console.warn(TAG, "\u63D2\u5C4F\u5E7F\u544A\u9519\u8BEF:" + JSON.stringify(err));
        });
        interstitialAd.show();
    };
    _vivo.prototype.shakeDevice = function () {
        // @ts-ignore
        qg.vibrateShort();
    };
    _vivo.prototype.nativeAdShow = function (cb) {
        // @ts-ignore
        var nativeAd = qg.createNativeAd({
            posId: this.nativeId,
        });
        nativeAd.onLoad(function (res) {
            console.log(TAG, "\u539F\u751F\u5E7F\u544A\u52A0\u8F7D\u5B8C\u6210-onload\u89E6\u53D1:" + JSON.stringify(res));
            var nativeCurrentAd = null;
            if (res && res.adList) {
                nativeCurrentAd = res.adList.pop();
                ///> 上报曝光
                nativeAd.reportAdShow({ adId: nativeCurrentAd["adId"] });
                ///> 上报点击
                var tempClick = function () {
                    console.log(TAG, '_vivo 原生点击');
                    nativeAd.reportAdClick({ adId: nativeCurrentAd["adId"] });
                };
                //展示广告
                if (nativeCurrentAd["icon"] != null && nativeCurrentAd["imgUrlList"][0] != null) {
                    cb(nativeCurrentAd["icon"], nativeCurrentAd["imgUrlList"][0], tempClick);
                }
            }
        });
        nativeAd.onError(function (err) {
            switch (err.errCode) {
                case -3:
                    console.log(TAG, "\u539F\u751F\u5E7F\u544A\u52A0\u8F7D\u5931\u8D25---\u8C03\u7528\u592A\u9891\u7E41:" + JSON.stringify(err));
                    break;
                default:
                    console.log(TAG, "\u539F\u751F\u5E7F\u544A\u52A0\u8F7D\u5F02\u5E38:" + JSON.stringify(err));
                    break;
            }
        });
        nativeAd.load().then(function () {
            console.log(TAG, "VIVO\u539F\u751F\u52A0\u8F7D\u6210\u529F");
        }).catch(function (err) {
            console.warn(TAG, "VIVO\u539F\u751F\u52A0\u8F7D\u5931\u8D25:" + JSON.stringify(err));
        });
    };
    return _vivo;
}());
exports.ch_vivo = _vivo;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcc2RrXFxfdml2by50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxJQUFNLEdBQUcsR0FBRyxVQUFVLENBQUM7QUFDdkI7SUFXSTtRQVRRLFlBQU8sR0FBVyxFQUFFLENBQUM7UUFDckIsYUFBUSxHQUFXLEVBQUUsQ0FBQztRQUN0QixhQUFRLEdBQVcsRUFBRSxDQUFDO1FBQ3RCLGFBQVEsR0FBVyxFQUFFLENBQUM7UUFDdEIsWUFBTyxHQUFRLElBQUksQ0FBQztRQUNwQixhQUFRLEdBQVEsSUFBSSxDQUFDO1FBQ3JCLDRCQUF1QixHQUFhLElBQUksQ0FBQztRQUN6QyxlQUFVLEdBQVksS0FBSyxDQUFDO1FBQzVCLG1CQUFjLEdBQVcsQ0FBQyxDQUFDO1FBRS9CLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLGtDQUFrQyxDQUFDLENBQUM7SUFDekQsQ0FBQztJQUNhLGlCQUFXLEdBQXpCO1FBQ0ksSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksRUFBRTtZQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7U0FDL0I7UUFDRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztJQUNELDRCQUFZLEdBQVosVUFBYSxLQUFZO1FBQ3JCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNqQixPQUFPO1NBQ1Y7UUFDRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO1FBQy9CLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztRQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDL0IsSUFBSSxDQUFDLGFB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LEFBOElDLElBQUE7QUFDWSxRQUFBLE9BQU8sR0FBRyxLQUFLLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBuYXRpdmUsIHBhcmFtIH0gZnJvbSBcIi4vdHlwZVwiO1xuY29uc3QgVEFHID0gJ192aXZvLnRzJztcbmNsYXNzIF92aXZvIHtcbiAgICBwcml2YXRlIHN0YXRpYyBJbnN0YW5jZTogX3Zpdm87XG4gICAgcHJpdmF0ZSB2aWRlb0lkOiBzdHJpbmcgPSBcIlwiO1xuICAgIHByaXZhdGUgYmFubmVySWQ6IHN0cmluZyA9IFwiXCI7XG4gICAgcHJpdmF0ZSBpbnNlcnRJZDogc3RyaW5nID0gXCJcIjtcbiAgICBwcml2YXRlIG5hdGl2ZUlkOiBzdHJpbmcgPSBcIlwiO1xuICAgIHByaXZhdGUgdmlkZW9BZDogYW55ID0gbnVsbDtcbiAgICBwcml2YXRlIGJhbm5lckFkOiBhbnkgPSBudWxsO1xuICAgIHByaXZhdGUgT25WaWRlb0NhbGxCYWNrTGlzdGVuZXI6IEZ1bmN0aW9uID0gbnVsbDtcbiAgICBwcml2YXRlIHNka0luaXRFbmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIHNob3dBZExhc3RUaW1lOiBudW1iZXIgPSAwO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhUQUcsICdpbml0IHBsYXRmb3JtIGNoYW5uZWw6IHZpdm9fcGxheScpO1xuICAgIH1cbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IF92aXZvIHtcbiAgICAgICAgaWYgKHRoaXMuSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5JbnN0YW5jZSA9IG5ldyBfdml2bygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLkluc3RhbmNlO1xuICAgIH1cbiAgICBpbml0QWRQYXJhbXMocGFyYW06IHBhcmFtKSB7XG4gICAgICAgIGlmICh0aGlzLnNka0luaXRFbmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNka0luaXRFbmQgPSB0cnVlO1xuICAgICAgICB0aGlzLmluc2VydElkID0gcGFyYW0uaW5zZXJ0SWQ7XG4gICAgICAgIHRoaXMuYmFubmVySWQgPSBwYXJhbS5iYW5uZXJJZDtcbiAgICAgICAgdGhpcy52aWRlb0lkID0gcGFyYW0udmlkZW9JZDtcbiAgICAgICAgdGhpcy5uYXRpdmVJZCA9IHBhcmFtLm5hdGl2ZUlkO1xuICAgICAgICB0aGlzLmluaXRCYW5uZGVyQWQoKTtcbiAgICB9XG4gICAgaW5pdEJhbm5kZXJBZCgpIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGxldCBiYW5uZXJBZCA9IHFnLmNyZWF0ZUJhbm5lckFkKHtcbiAgICAgICAgICAgIHBvc0lkOiB0aGlzLmJhbm5lcklkLFxuICAgICAgICAgICAgc3R5bGU6IHt9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJhbm5lckFkID0gYmFubmVyQWQ7XG4gICAgICAgIHRoaXMuYmFubmVyQWQub25FcnJvcigoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGBiYW5uZXLlub/lkYrliqDovb3lpLHotKU6JHtKU09OLnN0cmluZ2lmeShlcnIpfWApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYmFubmVyQWRfc2hvdygpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFubmVyQWQpIHtcbiAgICAgICAgICAgIHRoaXMuYmFubmVyQWQuc2hvdygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJhbm5lckFkX2hpZGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhbm5lckFkKSB7XG4gICAgICAgICAgICB0aGlzLmJhbm5lckFkLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuYmFubmVyQWQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5pbml0QmFubmRlckFkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdFZpZGVvQWQoKSB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLnZpZGVvQWQgPSBxZy5jcmVhdGVSZXdhcmRlZFZpZGVvQWQoe1xuICAgICAgICAgICAgcG9zSWQ6IHRoaXMudmlkZW9JZFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52aWRlb0FkLm9uTG9hZCgoKSA9PiB7XG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wYXVzZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy52aWRlb0FkLnNob3coKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0FkTGFzdFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlkZW9BZC5vbkNsb3NlKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucmVzdW1lQWxsKCk7XG4gICAgICAgICAgICBpZiAocmVzICYmIHJlcy5pc0VuZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5PblZpZGVvQ2FsbEJhY2tMaXN0ZW5lcih0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5PblZpZGVvQ2FsbEJhY2tMaXN0ZW5lcihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZGVvQWQub25FcnJvcigoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGDop4bpopHlub/lkYrplJnor686JHtKU09OLnN0cmluZ2lmeShlcnIpfWApO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52aWRlb0FkLmxvYWQoKTtcbiAgICB9XG4gICAgdmlkZW9BZF9zaG93KE9uVmlkZW9DYWxsOiBGdW5jdGlvbikge1xuICAgICAgICBsZXQgbm93OiBudW1iZXIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgaWYgKG5vdyAtIHRoaXMuc2hvd0FkTGFzdFRpbWUgPCA2MDAwMCkge1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBxZy5zaG93VG9hc3Qoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmr4/liIbpkp/lj6rog73nnIvkuIDmrKHop4bpopEnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLk9uVmlkZW9DYWxsQmFja0xpc3RlbmVyID0gT25WaWRlb0NhbGw7XG4gICAgICAgIHRoaXMudmlkZW9BZCAhPSBudWxsID8gdGhpcy52aWRlb0FkLmxvYWQoKSA6IHRoaXMuaW5pdFZpZGVvQWQoKTtcbiAgICB9XG4gICAgaW5zZXJ0QWRfc2hvdygpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB2YXIgaW50ZXJzdGl0aWFsQWQgPSBxZy5jcmVhdGVJbnRlcnN0aXRpYWxBZCh7XG4gICAgICAgICAgICBwb3NJZDogdGhpcy5pbnNlcnRJZFxuICAgICAgICB9KTtcbiAgICAgICAgaW50ZXJzdGl0aWFsQWQub25FcnJvcigoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGDmj5LlsY/lub/lkYrplJnor686JHtKU09OLnN0cmluZ2lmeShlcnIpfWApO1xuICAgICAgICB9KTtcbiAgICAgICAgaW50ZXJzdGl0aWFsQWQuc2hvdygpO1xuICAgIH1cbiAgICBzaGFrZURldmljZSgpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBxZy52aWJyYXRlU2hvcnQoKTtcbiAgICB9XG4gICAgbmF0aXZlQWRTaG93KGNiOiBuYXRpdmUpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBsZXQgbmF0aXZlQWQgPSBxZy5jcmVhdGVOYXRpdmVBZCh7XG4gICAgICAgICAgICBwb3NJZDogdGhpcy5uYXRpdmVJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIG5hdGl2ZUFkLm9uTG9hZCgocmVzOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRywgYOWOn+eUn+W5v+WRiuWKoOi9veWujOaIkC1vbmxvYWTop6blj5E6JHtKU09OLnN0cmluZ2lmeShyZXMpfWApO1xuICAgICAgICAgICAgbGV0IG5hdGl2ZUN1cnJlbnRBZDogYW55ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmFkTGlzdCkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZUN1cnJlbnRBZCA9IHJlcy5hZExpc3QucG9wKCk7XG4gICAgICAgICAgICAgICAgLy8vPiDkuIrmiqXmm53lhYlcbiAgICAgICAgICAgICAgICBuYXRpdmVBZC5yZXBvcnRBZFNob3coeyBhZElkOiBuYXRpdmVDdXJyZW50QWRbXCJhZElkXCJdIH0pO1xuICAgICAgICAgICAgICAgIC8vLz4g5LiK5oql54K55Ye7XG4gICAgICAgICAgICAgICAgbGV0IHRlbXBDbGljazogRnVuY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRywgJ192aXZvIOWOn+eUn+eCueWHuycpO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVBZC5yZXBvcnRBZENsaWNrKHsgYWRJZDogbmF0aXZlQ3VycmVudEFkW1wiYWRJZFwiXSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy/lsZXnpLrlub/lkYpcbiAgICAgICAgICAgICAgICBpZiAobmF0aXZlQ3VycmVudEFkW1wiaWNvblwiXSAhPSBudWxsICYmIG5hdGl2ZUN1cnJlbnRBZFtcImltZ1VybExpc3RcIl1bMF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjYihuYXRpdmVDdXJyZW50QWRbXCJpY29uXCJdLCBuYXRpdmVDdXJyZW50QWRbXCJpbWdVcmxMaXN0XCJdWzBdLCB0ZW1wQ2xpY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5hdGl2ZUFkLm9uRXJyb3IoKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGVyci5lcnJDb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAtMzpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBg5Y6f55Sf5bm/5ZGK5Yqg6L295aSx6LSlLS0t6LCD55So5aSq6aKR57mBOiR7SlNPTi5zdHJpbmdpZnkoZXJyKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBg5Y6f55Sf5bm/5ZGK5Yqg6L295byC5bi4OiR7SlNPTi5zdHJpbmdpZnkoZXJyKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuYXRpdmVBZC5sb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsIGBWSVZP5Y6f55Sf5Yqg6L295oiQ5YqfYCk7XG4gICAgICAgIH0pLmNhdGNoKChlcnI6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgYFZJVk/ljp/nlJ/liqDovb3lpLHotKU6JHtKU09OLnN0cmluZ2lmeShlcnIpfWApO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgY2hfdml2byA9IF92aXZvO1xuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/sdk/type.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4110doDoIBE/LT0Ah0s8YK4', 'type');
// scripts/sdk/type.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcc2RrXFx0eXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOa4oOmBk+WPguaVsFxuICovXG5leHBvcnQgaW50ZXJmYWNlIGNvbmZpZyB7XG4gICAgZGVidWc6IHBhcmFtLFxuICAgIGJ5dGVkYW5jZV9taW5pX2dhbWU6IHBhcmFtLFxuICAgIHdlY2hhdDogcGFyYW0sXG4gICAgb3Bwb19wbGF5OiBwYXJhbSxcbiAgICB2aXZvX3BsYXk6IHBhcmFtLFxuICAgIHFxX3BsYXk6IHBhcmFtXG59XG4vKipcbiAqIOivpue7huWPguaVsFxuICovXG5leHBvcnQgaW50ZXJmYWNlIHBhcmFtIHtcbiAgICBhcHBJZD86IHN0cmluZyxcbiAgICBpbnNlcnRJZD86IHN0cmluZyxcbiAgICBiYW5uZXJJZD86IHN0cmluZyxcbiAgICB2aWRlb0lkPzogc3RyaW5nLFxuICAgIG5hdGl2ZUlkPzogc3RyaW5nLFxuICAgIGFwcEJveElkPzogc3RyaW5nLFxuICAgIHNoYXJlRGVzYz86IHN0cmluZ1tdXG59XG4vKipcbiAqIOWOn+eUn+W5v+WRiuWbnuiwg1xuICogQHBhcmFtIGljb25VUkwg5bm/5ZGKSUNPTlxuICogQHBhcmFtIGltZ1VSTCAg5bm/5ZGK5Li75L2T5Zu+54mHXG4gKiBAcGFyYW0gb25DbGljayDlub/lkYrngrnlh7vnm5HlkKxcbiAqL1xuZXhwb3J0IHR5cGUgbmF0aXZlID0gKGljb25VUkw6IHN0cmluZywgaW1nVVJMOiBzdHJpbmcsIG9uQ2xpY2s6IEZ1bmN0aW9uKSA9PiB2b2lkO1xuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/controller/ad/syyx_adv_manager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'cf70bP4he5AFZtAv4kF/8FO', 'syyx_adv_manager');
// syyx_sdk/controller/ad/syyx_adv_manager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.syyx_adv_manager = void 0;
var ad_oppo_banner_1 = require("./ad_oppo_banner");
var syyx_sdk_enum_1 = require("../../configs/syyx_sdk_enum");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var syyx_manager_1 = require("../syyx_manager");
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var ad_banner_1 = require("./ad_banner");
var ad_native_interstitial_1 = require("./ad_native_interstitial");
var ad_native_inner_interstitial_1 = require("./ad_native_inner_interstitial");
var ad_native_icon_1 = require("./ad_native_icon");
var ad_block_1 = require("./ad_block");
var syyx_adv_manager = /** @class */ (function () {
    function syyx_adv_manager() {
    }
    /**
     * 加载广告配置
     */
    syyx_adv_manager.load_adv_config = function () {
        var self = this;
        if (!this.__inited) {
            this.__inited = true;
            this.login_timestamp = (new Date()).getTime();
            syyx_sdk_utils_1.syyx_sdk_utils.load_resource(syyx_manager_1.syyx_manager.__adv_config_file_path, function (data) {
                if (syyx_sdk_config_1.syyx_const.syyx_sdk_publish === syyx_sdk_config_1.e_syyx_sdk_publish_type.in) { // 不会相等
                    self._adv_config_data = data;
                }
                else {
                    self._adv_config_data = syyx_sdk_utils_1.syyx_sdk_utils.parse_csv(data, "id");
                }
                self._adv_config_data['10200001'].oppo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('SP'); // 激励视频
                self._adv_config_data['10302001'].oppo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('YSJS'); // 原生结算 
                self._adv_config_data['10304001'].oppo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('YSBN'); // 原生banner
                self._adv_config_data['10304002'].oppo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('YSIC'); // 原生icon
                self._adv_config_data['10400001'].oppo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('BN'); // 普通banner
                self._adv_config_data['10600002'].oppo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('HT'); // oppo横版互推盒子
                self._adv_config_data['10600003'].oppo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('JGG'); // oppo九宫格互推盒子
                self._adv_config_data['10301001'].oppo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('YSCP'); // 原生插屏
                self._adv_config_data['10200001'].vivo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('SP'); // 激励视频
                self._adv_config_data['10302001'].vivo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('YSJS'); // 原生结算
                self._adv_config_data['10304001'].vivo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('YSBN'); // 原生banner
                self._adv_config_data['10304002'].vivo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('YSIC'); // 原生icon
                self._adv_config_data['10400001'].vivo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('BN'); // 普通banner
                self._adv_config_data['10600002'].vivo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('HT') || ''; // ov横版互推盒子
                self._adv_config_data['10600003'].vivo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('JGG'); // oppo九宫格互推盒子
                self._adv_config_data['10100001'].vivo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('CP'); // 普通插屏
                self._adv_config_data['10301001'].vivo_adv_id = syyx_manager_1.syyx_manager.guobao_get_channel_ad_id('YSCP'); // 原生插屏
                self.__adv_config_inited = true;
                console.log("sdk----- adv config has loaded complete", self._adv_config_data);
                //预加载互推广告盒子
                syyx_manager_1.syyx_manager.pre_load_game_portal_box(syyx_sdk_enum_1.e_ad_id.game_portal_box, null, null, null, null);
                syyx_manager_1.syyx_manager.preload_video();
            }, this);
            // 初始化上报记录
            this.init_native_report_record();
        }
    };
    syyx_adv_manager.set_banner_height = function () {
        ad_oppo_banner_1.ad_oppo_banner.set_banner_height();
    };
    /**
     * 初始化原生上报记录
     */
    syyx_adv_manager.init_native_report_record = function () {
        this.native_report_record[syyx_sdk_enum_1.e_ad_native_type.native_inner_interstitial] = {
            "start_count": 0,
            "show_count": 0,
            "click_count": 0,
        };
        this.native_report_record[syyx_sdk_enum_1.e_ad_native_type.native_banner] = {
            "start_count": 0,
            "show_count": 0,
            "click_count": 0,
        };
        this.native_report_record[syyx_sdk_enum_1.e_ad_native_type.native_interstitial] = {
            "start_count": 0,
            "show_count": 0,
            "click_count": 0,
        };
        this.native_report_record[syyx_sdk_enum_1.e_ad_native_type.native_icon] = {
            "start_count": 0,
            "show_count": 0,
            "click_count": 0,
        };
    };
    syyx_adv_manager.init_first_banner_cd = function () {
        ad_banner_1.ad_banner.init_first_banner_cd();
    };
    /**
     * 储存原生数据
     * @param native_data 原生数据
     */
    syyx_adv_manager.add_native_data = function (native_data) {
        for (var i in this._native_data_cache) {
            if (this._native_data_cache[i].id == native_data.id) {
                return;
            }
        }
        var length = this.get_oppo_native_cache_max_length();
        //判断缓存数组长度是否超标
        if (this._native_data_cache.length >= length) {
            this._native_data_cache.splice(0, 1);
        }
        this._native_data_cache.push(native_data);
    };
    /**
     * UI层要展示普通banner或者原生banner
     */
    syyx_adv_manager.show_banner = function (ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        if (!this.__adv_config_inited) {
            return;
        }
        ad_banner_1.ad_banner.show_banner(ad_type, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    /**
    * ui层要隐藏banner或者原生banner
    */
    syyx_adv_manager.hide_banner = function () {
        if (!this.__adv_config_inited) {
            return;
        }
        ad_banner_1.ad_banner.hide_banner();
    };
    /**
     * 展示原生icon
     * @param parent 原生icon父节点
     */
    syyx_adv_manager.show_native_icon = function (parent, ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        if (!this.__adv_config_inited) {
            return;
        }
        ad_native_icon_1.ad_native_icon.show_native_icon(parent, ad_type, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    /**
     * 隐藏原生icon
     */
    syyx_adv_manager.hide_native_icon = function () {
        if (!this.__adv_config_inited) {
            return;
        }
        ad_native_icon_1.ad_native_icon.hide_native_icon();
    };
    /**
    *  展示原生插屏
    */
    syyx_adv_manager.show_native_interstitial = function (ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        if (!this.__adv_config_inited) {
            return;
        }
        var __business_config_data = syyx_manager_1.syyx_manager.__business_config_data;
        if (__business_config_data && __business_config_data["vivo_yscp_switch"]) { // 原生插屏开关
            if (__business_config_data["vivo_yscp_switch"].value[0] == 0) {
                onError && onError();
                return;
            }
        }
        ad_native_interstitial_1.ad_native_interstitial.load_native_interstitial(ad_type, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    /**
    *  预加载结算原生
    */
    syyx_adv_manager.preload_native_inner_interstitial = function (ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        if (!this.__adv_config_inited) {
            return;
        }
        ad_native_inner_interstitial_1.ad_native_inner_interstitial.preload_native_inner_interstitial(ad_type, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    syyx_adv_manager.set_on_click_inner_interstitial_btn = function (click_back) {
        if (!this.__adv_config_inited) {
            return;
        }
        ad_native_inner_interstitial_1.ad_native_inner_interstitial.set_on_click_inner_interstitial_btn(click_back);
    };
    /**
     * 获取加载好的原生数据
     * @param ignore_id  是否需要忽略某个广告id
     */
    syyx_adv_manager.get_native_data = function (ignore_id) {
        if (ignore_id === void 0) { ignore_id = undefined; }
        if (!ad_banner_1.ad_banner.can_show_first) {
            console.log("igc ----- oppo's first native ad is in cd");
            return undefined;
        }
        //判断各个原生点击率是否超标wednes
        var banner_limit = this.check_is_click_limit(syyx_sdk_enum_1.e_ad_native_type.native_banner);
        var inner_limit = this.check_is_click_limit(syyx_sdk_enum_1.e_ad_native_type.native_inner_interstitial);
        var interstitial_limit = this.check_is_click_limit(syyx_sdk_enum_1.e_ad_native_type.native_interstitial);
        var cur_data_cache = [];
        for (var i in this._native_data_cache) {
            if (this._native_data_cache[i].id != ignore_id) {
                if (this._native_data_cache[i].native_type == syyx_sdk_enum_1.e_ad_native_type.native_banner && !banner_limit) {
                    cur_data_cache.push(this._native_data_cache[i]);
                }
                else if (this._native_data_cache[i].native_type == syyx_sdk_enum_1.e_ad_native_type.native_inner_interstitial && !inner_limit) {
                    cur_data_cache.push(this._native_data_cache[i]);
                }
                else if (this._native_data_cache[i].native_type == syyx_sdk_enum_1.e_ad_native_type.native_interstitial && !interstitial_limit) {
                    cur_data_cache.push(this._native_data_cache[i]);
                }
            }
        }
        // console.log("根据过滤的id和点击率 筛选的池子:", cur_data_cache)
        if (this.check_native_data_list_is_reprot(cur_data_cache)) {
            //全部数据都上报曝光过了
            // console.log("igc----- syyx_adv_manager use old load native data")
            return this.get_min_order_native_data(cur_data_cache);
        }
        else {
            //有数据没有上报过曝光  用最新数据
            return this.get_latest_native_data(cur_data_cache);
        }
    };
    /**
     * 点击上报了—-->移除原生数据
     */
    syyx_adv_manager.remove_native_data = function (native_data) {
        for (var i in this._native_data_cache) {
            if (this._native_data_cache[i].id == native_data.id) {
                console.log("igc----- syyx_adv_manager remove native_data:", native_data);
                this._native_data_cache.splice(parseInt(i), 1);
                return;
            }
        }
    };
    /**
     * 获取加载好的原生数据
     * @param ad_pos_id 配置表广告Id
     */
    syyx_adv_manager.get_local_native_data = function (ad_pos_id) {
        return this.get_native_data();
    };
    /**
     * 上报原生点击
     * @param ad_pos_id
     * @param ad_unit_id
     */
    syyx_adv_manager.report_ad_click = function (ad_pos_id, native_data) {
        var ad_id = this.get_channel_ad_id(native_data.adPosId);
        if (!ad_id) {
            console.log("igc----- syyx_manager report_ad_click ad_id no configure in adv.csv");
            return;
        }
        if (!native_data) {
            console.log("igc----- syyx_adv_mamager report_ad_click native_data is null");
            return;
        }
        console.log("igc ----- has been in report ad click");
        if (native_data.state != syyx_sdk_enum_1.e_ad_native_state.show) {
            console.log("igc----- syyx_adv_mamager report_ad_click native_data state is not e_ad_native_state.show");
            return;
        }
        //记录------原生数据上报记录
        var report_data = this.native_report_record[native_data.native_type];
        report_data.click_count = Math.min(++report_data.click_count, report_data.show_count);
        var ad_unit_id = native_data.adUnitId;
        var param = {
            ad_id: ad_id,
            ad_unit_id: ad_unit_id,
            ad_type: igc.e_ad_type.native,
            ad_pos_id: native_data.adPosId,
            ad_event: ad_id,
            ad_scene: ad_id,
            sub_ad_type: igc.e_ad_native_type.native_banner_dialog
        };
        igc.igc_main.instance.report_ad_click(param);
        //移除上报过点击的数据
        this.remove_native_data(native_data);
        ad_banner_1.ad_banner.report_ad_click(ad_pos_id, native_data);
        ad_native_icon_1.ad_native_icon.report_ad_click(ad_pos_id, native_data);
        ad_native_interstitial_1.ad_native_interstitial.report_ad_click(ad_pos_id, native_data);
        ad_native_inner_interstitial_1.ad_native_inner_interstitial.report_ad_click(ad_pos_id, native_data);
    };
    /**
     * 上报原生曝光
     * @param ad_pos_id //配置表广告ID
     * @param ad_unit_id //原生数据上报ID
     */
    syyx_adv_manager.report_ad_show = function (ad_pos_id, native_data) {
        var ad_id = syyx_adv_manager.get_channel_ad_id(native_data.adPosId);
        if (!ad_id || ad_id == "1" || ad_id == "0") {
            console.log("igc----- syyx_manager report_ad_show ad_id no configure in adv.csv");
            return;
        }
        if (!native_data) {
            console.log("igc----- syyx_adv_mamager report_ad_show native_data is null");
            return;
        }
        //原生数据展示order +1
        var max_order = syyx_adv_manager.get_native_data_list_max_order();
        native_data.order = max_order + 1;
        if (native_data.state == syyx_sdk_enum_1.e_ad_native_state.need_show || syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.hw_qg) {
            if (native_data.state == syyx_sdk_enum_1.e_ad_native_state.need_show) {
                //记录------原生数据上报记录
                var report_data = this.native_report_record[native_data.native_type];
                report_data.show_count++;
                report_data.start_count++;
            }
            var param = {
                ad_id: ad_id,
                ad_unit_id: native_data.adUnitId,
                ad_type: igc.e_ad_type.native,
                ad_pos_id: native_data.adPosId,
                ad_event: ad_id,
                ad_scene: ad_id,
                sub_ad_type: igc.e_ad_native_type.native_banner_dialog
            };
            igc.igc_main.instance.report_ad_show(param);
            native_data.state = syyx_sdk_enum_1.e_ad_native_state.show; // 加载到数据，曝光后state为2。没曝光还是继续可以用原数据展示
        }
        ad_banner_1.ad_banner.report_ad_show(ad_pos_id, native_data);
        ad_native_icon_1.ad_native_icon.report_ad_show(ad_pos_id, native_data);
        ad_native_interstitial_1.ad_native_interstitial.report_ad_show(ad_pos_id, native_data);
        ad_native_inner_interstitial_1.ad_native_inner_interstitial.report_ad_show(ad_pos_id, native_data);
    };
    syyx_adv_manager.set_normal_banner_switch = function (value) {
        ad_banner_1.ad_banner.set_normal_banner_switch(value);
    };
    /**
     * 获取手q banner 上移距离
     */
    syyx_adv_manager.get_qq_banner_top_offset = function () {
        var business_config = syyx_manager_1.syyx_manager.get_business_config();
        if (business_config && business_config["banner_top_offset"]) {
            if (business_config["banner_top_offset"].value) {
                var offset = business_config["banner_top_offset"].value;
                return offset[0] + Math.floor(Math.random() * (offset[1] - offset[0]));
            }
        }
        return 0;
    };
    syyx_adv_manager.show_block = function (style, ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        if (!this._block_instance[ad_pos_id]) {
            this._block_instance[ad_pos_id] = new ad_block_1.default();
        }
        if (!this.__adv_config_inited) {
            return;
        }
        this._block_instance[ad_pos_id].show_block(style, ad_type, ad_pos_id, onLoad, onShow, onClose, onError);
    };
    syyx_adv_manager.hide_block = function (ad_pos_id) {
        if (!this.__adv_config_inited) {
            return;
        }
        if (this._block_instance[ad_pos_id]) {
            this._block_instance[ad_pos_id].hide_block();
        }
    };
    syyx_adv_manager.hide_all_block = function () {
        if (!this.__adv_config_inited) {
            return;
        }
        for (var i in this._adv_config_data) {
            if (this._adv_config_data[i].adv_type == igc.e_ad_type.block) {
                var ad_pos_id = this._adv_config_data[i].id;
                if (this._block_instance[ad_pos_id]) {
                    this._block_instance[ad_pos_id].hide_block();
                }
            }
        }
    };
    /**
     * 是否开启oppo新规
     */
    syyx_adv_manager.check_is_open_oppo_rule = function () {
        var business_config = syyx_manager_1.syyx_manager.get_business_config();
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg || syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg || syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {
            return true;
        }
        return false;
    };
    /**
     * 增加原生广告展示次数
     */
    syyx_adv_manager.add_native_show_count = function () {
        if (this.check_is_open_oppo_rule()) {
            this.cur_native_show_count++;
        }
    };
    /**
     * 当前游戏时长
     */
    syyx_adv_manager.get_play_game_time = function () {
        var cur_timestamp = (new Date()).getTime();
        return (cur_timestamp - this.login_timestamp) / 1000;
    };
    /**
     * 判断当前是否达到展示次数上限
     */
    syyx_adv_manager.check_is_show_count_limit = function () {
        if (!this.check_is_open_oppo_rule()) {
            return false;
        }
        var oppo_native_show_limit = [60, 2];
        var business_config = syyx_manager_1.syyx_manager.get_business_config();
        if (business_config && business_config["oppo_native_show_limit"] && business_config["oppo_native_show_limit"].value) {
            oppo_native_show_limit = business_config["oppo_native_show_limit"].value;
        }
        var play_game_time = this.get_play_game_time();
        var cur_show_limit = 2;
        if (play_game_time >= 0) {
            cur_show_limit = (Math.floor(play_game_time / oppo_native_show_limit[0]) + 1) * oppo_native_show_limit[1];
        }
        return syyx_adv_manager.cur_native_show_count >= cur_show_limit;
    };
    /**
     * 获取原生数据缓存数组的最大长度
     */
    syyx_adv_manager.get_oppo_native_cache_max_length = function () {
        var length = 20;
        var business_config = syyx_manager_1.syyx_manager.get_business_config();
        if (business_config && business_config["oppo_native_cache_length"] && business_config["oppo_native_cache_length"].value) {
            length = business_config["oppo_native_cache_length"].value[0];
        }
        return length || 20;
    };
    /**
     * 检查全部原生数据是否都为已曝光过的
     */
    syyx_adv_manager.check_native_data_list_is_reprot = function (native_data_list) {
        if (native_data_list.length > 0) {
            for (var i in native_data_list) {
                if (native_data_list[i].state != syyx_sdk_enum_1.e_ad_native_state.show) {
                    return false;
                }
            }
        }
        return true;
    };
    /**
     * 最近拉取到的原生数据  或者 没有上报过的数据
     */
    syyx_adv_manager.get_latest_native_data = function (native_data_list) {
        for (var i in native_data_list) {
            if (native_data_list[i].state == syyx_sdk_enum_1.e_ad_native_state.need_show) {
                return native_data_list[i];
            }
        }
        if (native_data_list.length > 0) {
            return native_data_list[native_data_list.length - 1];
        }
        return undefined;
    };
    /**
     * 获取数据最大的order
     */
    syyx_adv_manager.get_native_data_list_max_order = function (native_data_list) {
        if (native_data_list === void 0) { native_data_list = undefined; }
        var list = [];
        var order = 0;
        if (native_data_list && native_data_list.length > 0) {
            list = native_data_list;
        }
        else {
            list = this._native_data_cache;
        }
        if (list.length > 0) {
            for (var i in list) {
                if (list[i].order > order) {
                    order = list[i].order;
                }
            }
        }
        return order || 0;
    };
    /**
     * 获取数据中最小order的数据
     * @param native_data_list 原生数据数组
     */
    syyx_adv_manager.get_min_order_native_data = function (native_data_list) {
        var data = undefined;
        var length = native_data_list.length;
        if (length > 0) {
            for (var i in native_data_list) {
                if (!data || native_data_list[i].order <= data.order) {
                    data = native_data_list[i];
                }
            }
        }
        return data;
    };
    /**
    * 检查点击率是否超标
    * @param native_ad_type 原生类型
    */
    syyx_adv_manager.check_is_click_limit = function (native_ad_type) {
        var self = this;
        var is_limit = false;
        var report_data = this.native_report_record[native_ad_type];
        //当前已经处于点击率限制冷却时间中
        if (this.native_click_state[native_ad_type] == syyx_sdk_enum_1.e_ad_native_click_pro_type.cooling) {
            // console.log("igc----- syyx_adv_manager native_type", native_ad_type, "is click limit? true!")
            return true;
        }
        var cur_click_pro = report_data.click_count / report_data.show_count;
        var start_count = 10;
        var limit_pro = 1;
        var cool_time = 60;
        var business_config = syyx_manager_1.syyx_manager.get_business_config();
        if (business_config) {
            if (native_ad_type == syyx_sdk_enum_1.e_ad_native_type.native_banner) {
                start_count = business_config["native_banner_click_pro_limit"].value[0];
                limit_pro = business_config["native_banner_click_pro_limit"].value[1];
                cool_time = business_config["native_banner_click_pro_limit"].value[2];
            }
            else if (native_ad_type == syyx_sdk_enum_1.e_ad_native_type.native_inner_interstitial) {
                start_count = business_config["native_inner_click_pro_limit"].value[0]; // 1000
                limit_pro = business_config["native_inner_click_pro_limit"].value[1]; // 0.4
                cool_time = business_config["native_inner_click_pro_limit"].value[2]; // 60
            }
            else if (native_ad_type == syyx_sdk_enum_1.e_ad_native_type.native_interstitial) {
                start_count = business_config["native_interstitial_click_pro_limit"].value[0];
                limit_pro = business_config["native_interstitial_click_pro_limit"].value[1];
                cool_time = business_config["native_interstitial_click_pro_limit"].value[2];
            }
            if (report_data.start_count > 0 && report_data.start_count % start_count == 0) {
                is_limit = cur_click_pro >= limit_pro; // 一开始为false
            }
        }
        if (!this.native_click_state[native_ad_type]) {
            this.native_click_state[native_ad_type] = syyx_sdk_enum_1.e_ad_native_click_pro_type.active;
        }
        if (is_limit && this.native_click_state[native_ad_type] == syyx_sdk_enum_1.e_ad_native_click_pro_type.active) {
            this.native_click_state[native_ad_type] = syyx_sdk_enum_1.e_ad_native_click_pro_type.cooling;
            console.log("igc----- syyx_adv_manager run native click limit cool timer!!!", cool_time);
            setTimeout(function () {
                //解除点击率限制
                self.native_click_state[native_ad_type] = syyx_sdk_enum_1.e_ad_native_click_pro_type.active;
                report_data.start_count = 0;
            }, cool_time * 1000);
        }
        return is_limit; // 一开始为false
    };
    /**
    * 根据渠道获取广告id
    */
    syyx_adv_manager.get_channel_ad_id = function (ad_pos_id) {
        if (!this.__adv_config_inited) {
            return "";
        }
        try {
            if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg) {
                return this._adv_config_data[ad_pos_id].oppo_adv_id;
            }
            else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {
                return this._adv_config_data[ad_pos_id].vivo_adv_id;
            }
            else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.tt) {
                return this._adv_config_data[ad_pos_id].tt_adv_id;
            }
            else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.qq) {
                return this._adv_config_data[ad_pos_id].qq_adv_id;
            }
            else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.wx) {
                return this._adv_config_data[ad_pos_id].wx_adv_id;
            }
            else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.apk) {
                return this._adv_config_data[ad_pos_id].apk_adv_id;
            }
            else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {
                return "web_ad_id";
            }
        }
        catch (error) {
            console.error("adv.csv do not have the ad_id of the ad_pos_id: " + ad_pos_id);
        }
    };
    /**
     * 是否初始化完成
     */
    syyx_adv_manager.is_inited = function () {
        return this.__inited;
    };
    /**
     * 原生池
     */
    syyx_adv_manager._native_data_cache = [];
    /**
     * 配置表初始化完毕
     */
    syyx_adv_manager.__adv_config_inited = false;
    /**
     *  积木广告实例
     */
    syyx_adv_manager._block_instance = {};
    /**
    * 当前原生展示次数
    */
    syyx_adv_manager.cur_native_show_count = 0;
    /**
    * 登陆时间戳
    */
    syyx_adv_manager.login_timestamp = 0;
    /**
     * 是否已经初始化
     */
    syyx_adv_manager.__inited = false;
    /**
     * 原生点击率状态
     */
    syyx_adv_manager.native_click_state = {};
    /**
     * 原生类型的上报情况
     */
    syyx_adv_manager.native_report_record = {};
    return syyx_adv_manager;
}());
exports.syyx_adv_manager = syyx_adv_manager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbnRyb2xsZXJcXGFkXFxzeXl4X2Fkdl9tYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1EQUFrRDtBQUVsRCw2REFBdUg7QUFDdkgsNkRBQTREO0FBQzVELGdEQUErQztBQUMvQyxpRUFBb0Y7QUFDcEYseUNBQXdDO0FBQ3hDLG1FQUFrRTtBQUNsRSwrRUFBOEU7QUFDOUUsbURBQWtEO0FBRWxELHVDQUFrQztBQUVsQztJQUFBO0lBMm9CQSxDQUFDO0lBOWxCRzs7T0FFRztJQUNJLGdDQUFlLEdBQXRCO1FBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFBO1FBQ2YsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDaEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUE7WUFDcEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtZQUM3QywrQkFBYyxDQUFDLGFBQWEsQ0FBQywyQkFBWSxDQUFDLHNCQUFzQixFQUFFLFVBQVUsSUFBSTtnQkFDNUUsSUFBSSw0QkFBVSxDQUFDLGdCQUFnQixLQUFLLHlDQUF1QixDQUFDLEVBQUUsRUFBRSxFQUFFLE9BQU87b0JBQ3JFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7aUJBQ2hDO3FCQUFNO29CQUNILElBQUksQ0FBQyxnQkFBZ0IsR0FBRywrQkFBYyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7aUJBQ2hFO2dCQUVELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLEdBQUcsMkJBQVksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFDLE9BQU87Z0JBQ25HLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLEdBQUcsMkJBQVksQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDLFFBQVE7Z0JBQ3RHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLEdBQUcsMkJBQVksQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDLFdBQVc7Z0JBQ3pHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLEdBQUcsMkJBQVksQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDLFNBQVM7Z0JBQ3ZHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLEdBQUcsMkJBQVksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFDLFdBQVc7Z0JBQ3ZHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLEdBQUcsMkJBQVksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFDLGFBQWE7Z0JBQ3pHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLEdBQUcsMkJBQVksQ0FBQyx3QkFBd0IsQ0FBQyxLQUFLLENBQUMsQ0FBQSxDQUFDLGNBQWM7Z0JBQzNHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLEdBQUcsMkJBQVksQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDLE9BQU87Z0JBRXJHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLEdBQUcsMkJBQVksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFDLE9BQU87Z0JBQ25HLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLEdBQUcsMkJBQVksQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDLE9BQU87Z0JBQ3JHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxX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RDtpQkFBTSxJQUFJLDRCQUFVLENBQUMsZ0JBQWdCLEtBQUssR0FBRyxDQUFDLGNBQWMsQ0FBQyxHQUFHLEVBQUU7Z0JBQy9ELE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLFVBQVUsQ0FBQTthQUNyRDtpQkFBTSxJQUFJLDRCQUFVLENBQUMsZ0JBQWdCLEtBQUssR0FBRyxDQUFDLGNBQWMsQ0FBQyxHQUFHLEVBQUU7Z0JBQy9ELE9BQU8sV0FBVyxDQUFBO2FBQ3JCO1NBQ0o7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNaLE9BQU8sQ0FBQyxLQUFLLENBQUMsa0RBQWtELEdBQUcsU0FBUyxDQUFDLENBQUE7U0FDaEY7SUFDTCxDQUFDO0lBRUQ7O09BRUc7SUFDSSwwQkFBUyxHQUFoQjtRQUNJLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQTtJQUN4QixDQUFDO0lBeG9CRDs7T0FFRztJQUNJLG1DQUFrQixHQUFHLEVBQUUsQ0FBQTtJQU05Qjs7T0FFRztJQUNJLG9DQUFtQixHQUFHLEtBQUssQ0FBQTtJQUVsQzs7T0FFRztJQUNJLGdDQUFlLEdBQUcsRUFBRSxDQUFBO0lBRTNCOztNQUVFO0lBQ0ssc0NBQXFCLEdBQUcsQ0FBQyxDQUFBO0lBRWhDOztNQUVFO0lBQ0ssZ0NBQWUsR0FBRyxDQUFDLENBQUE7SUFFMUI7O09BRUc7SUFDSSx5QkFBUSxHQUFHLEtBQUssQ0FBQTtJQUV2Qjs7T0FFRztJQUNJLG1DQUFrQixHQUFHLEVBQUUsQ0FBQTtJQUU5Qjs7T0FFRztJQUNJLHFDQUFvQixHQUFHLEVBQUUsQ0FBQTtJQStsQnBDLHVCQUFDO0NBM29CRCxBQTJvQkMsSUFBQTtBQTNvQlksNENBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRfb3Bwb19iYW5uZXIgfSBmcm9tICcuL2FkX29wcG9fYmFubmVyJztcclxuaW1wb3J0IHsgbmF0aXZlX2FkX2RhdGEgfSBmcm9tICcuLy4uLy4uL21vZGVsL21vZGVsJztcclxuaW1wb3J0IHsgZV9hZF9pZCwgZV9hZF9uYXRpdmVfY2xpY2tfcHJvX3R5cGUsIGVfYWRfbmF0aXZlX3N0YXRlLCBlX2FkX25hdGl2ZV90eXBlIH0gZnJvbSBcIi4uLy4uL2NvbmZpZ3Mvc3l5eF9zZGtfZW51bVwiO1xyXG5pbXBvcnQgeyBzeXl4X3Nka191dGlscyB9IGZyb20gXCIuLi8uLi91dGlscy9zeXl4X3Nka191dGlsc1wiO1xyXG5pbXBvcnQgeyBzeXl4X21hbmFnZXIgfSBmcm9tIFwiLi4vc3l5eF9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IGVfc3l5eF9zZGtfcHVibGlzaF90eXBlLCBzeXl4X2NvbnN0IH0gZnJvbSBcIi4uLy4uL2NvbmZpZ3Mvc3l5eF9zZGtfY29uZmlnXCI7XHJcbmltcG9ydCB7IGFkX2Jhbm5lciB9IGZyb20gXCIuL2FkX2Jhbm5lclwiO1xyXG5pbXBvcnQgeyBhZF9uYXRpdmVfaW50ZXJzdGl0aWFsIH0gZnJvbSBcIi4vYWRfbmF0aXZlX2ludGVyc3RpdGlhbFwiO1xyXG5pbXBvcnQgeyBhZF9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsIH0gZnJvbSBcIi4vYWRfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbFwiO1xyXG5pbXBvcnQgeyBhZF9uYXRpdmVfaWNvbiB9IGZyb20gXCIuL2FkX25hdGl2ZV9pY29uXCI7XHJcblxyXG5pbXBvcnQgYWRfYmxvY2sgZnJvbSBcIi4vYWRfYmxvY2tcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBzeXl4X2Fkdl9tYW5hZ2VyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWOn+eUn+axoFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX25hdGl2ZV9kYXRhX2NhY2hlID0gW11cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW5v+WRimFkdumFjee9ruihqFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX2Fkdl9jb25maWdfZGF0YVxyXG4gICAgLyoqXHJcbiAgICAgKiDphY3nva7ooajliJ3lp4vljJblrozmr5VcclxuICAgICAqL1xyXG4gICAgc3RhdGljIF9fYWR2X2NvbmZpZ19pbml0ZWQgPSBmYWxzZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIOenr+acqOW5v+WRiuWunuS+i1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX2Jsb2NrX2luc3RhbmNlID0ge31cclxuXHJcbiAgICAvKipcclxuICAgICog5b2T5YmN5Y6f55Sf5bGV56S65qyh5pWwXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGN1cl9uYXRpdmVfc2hvd19jb3VudCA9IDBcclxuXHJcbiAgICAvKipcclxuICAgICog55m76ZmG5pe26Ze05oizXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGxvZ2luX3RpbWVzdGFtcCA9IDBcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpuW3sue7j+WIneWni+WMllxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX19pbml0ZWQgPSBmYWxzZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y6f55Sf54K55Ye7546H54q25oCBXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBuYXRpdmVfY2xpY2tfc3RhdGUgPSB7fVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y6f55Sf57G75Z6L55qE5LiK5oql5oOF5Ya1XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBuYXRpdmVfcmVwb3J0X3JlY29yZCA9IHt9XHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9veW5v+WRiumFjee9riBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGxvYWRfYWR2X2NvbmZpZygpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuICAgICAgICBpZiAoIXRoaXMuX19pbml0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fX2luaXRlZCA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy5sb2dpbl90aW1lc3RhbXAgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpXHJcbiAgICAgICAgICAgIHN5eXhfc2RrX3V0aWxzLmxvYWRfcmVzb3VyY2Uoc3l5eF9tYW5hZ2VyLl9fYWR2X2NvbmZpZ19maWxlX3BhdGgsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19wdWJsaXNoID09PSBlX3N5eXhfc2RrX3B1Ymxpc2hfdHlwZS5pbikgeyAvLyDkuI3kvJrnm7jnrYlcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9hZHZfY29uZmlnX2RhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9hZHZfY29uZmlnX2RhdGEgPSBzeXl4X3Nka191dGlscy5wYXJzZV9jc3YoZGF0YSwgXCJpZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9hZHZfY29uZmlnX2RhdGFbJzEwMjAwMDAxJ10ub3Bwb19hZHZfaWQgPSBzeXl4X21hbmFnZXIuZ3VvYmFvX2dldF9jaGFubmVsX2FkX2lkKCdTUCcpIC8vIOa/gOWKseinhumikVxyXG4gICAgICAgICAgICAgICAgc2VsZi5fYWR2X2NvbmZpZ19kYXRhWycxMDMwMjAwMSddLm9wcG9fYWR2X2lkID0gc3l5eF9tYW5hZ2VyLmd1b2Jhb19nZXRfY2hhbm5lbF9hZF9pZCgnWVNKUycpIC8vIOWOn+eUn+e7k+eulyBcclxuICAgICAgICAgICAgICAgIHNlbGYuX2Fkdl9jb25maWdfZGF0YVsnMTAzMDQwMDEnXS5vcHBvX2Fkdl9pZCA9IHN5eXhfbWFuYWdlci5ndW9iYW9fZ2V0X2NoYW5uZWxfYWRfaWQoJ1lTQk4nKSAvLyDljp/nlJ9iYW5uZXJcclxuICAgICAgICAgICAgICAgIHNlbGYuX2Fkdl9jb25maWdfZGF0YVsnMTAzMDQwMDInXS5vcHBvX2Fkdl9pZCA9IHN5eXhfbWFuYWdlci5ndW9iYW9fZ2V0X2NoYW5uZWxfYWRfaWQoJ1lTSUMnKSAvLyDljp/nlJ9pY29uXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9hZHZfY29uZmlnX2RhdGFbJzEwNDAwMDAxJ10ub3Bwb19hZHZfaWQgPSBzeXl4X21hbmFnZXIuZ3VvYmFvX2dldF9jaGFubmVsX2FkX2lkKCdCTicpIC8vIOaZrumAmmJhbm5lclxyXG4gICAgICAgICAgICAgICAgc2VsZi5fYWR2X2NvbmZpZ19kYXRhWycxMDYwMDAwMiddLm9wcG9fYWR2X2lkID0gc3l5eF9tYW5hZ2VyLmd1b2Jhb19nZXRfY2hhbm5lbF9hZF9pZCgnSFQnKSAvLyBvcHBv5qiq54mI5LqS5o6o55uS5a2QXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9hZHZfY29uZmlnX2RhdGFbJzEwNjAwMDAzJ10ub3Bwb19hZHZfaWQgPSBzeXl4X21hbmFnZXIuZ3VvYmFvX2dldF9jaGFubmVsX2FkX2lkKCdKR0cnKSAvLyBvcHBv5Lmd5a6r5qC85LqS5o6o55uS5a2QXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9hZHZfY29uZmlnX2RhdGFbJzEwMzAxMDAxJ10ub3Bwb19hZHZfaWQgPSBzeXl4X21hbmFnZXIuZ3VvYmFvX2dldF9jaGFubmVsX2FkX2lkKCdZU0NQJykgLy8g5Y6f55Sf5o+S5bGPXHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZi5fYWR2X2NvbmZpZ19kYXRhWycxMDIwMDAwMSddLnZpdm9fYWR2X2lkID0gc3l5eF9tYW5hZ2VyLmd1b2Jhb19nZXRfY2hhbm5lbF9hZF9pZCgnU1AnKSAvLyDmv4DlirHop4bpopFcclxuICAgICAgICAgICAgICAgIHNlbGYuX2Fkdl9jb25maWdfZGF0YVsnMTAzMDIwMDEnXS52aXZvX2Fkdl9pZCA9IHN5eXhfbWFuYWdlci5ndW9iYW9fZ2V0X2NoYW5uZWxfYWRfaWQoJ1lTSlMnKSAvLyDljp/nlJ/nu5PnrpdcclxuICAgICAgICAgICAgICAgIHNlbGYuX2Fkdl9jb25maWdfZGF0YVsnMTAzMDQwMDEnXS52aXZvX2Fkdl9pZCA9IHN5eXhfbWFuYWdlci5ndW9iYW9fZ2V0X2NoYW5uZWxfYWRfaWQoJ1lTQk4nKSAvLyDljp/nlJ9iYW5uZXJcclxuICAgICAgICAgICAgICAgIHNlbGYuX2Fkdl9jb25maWdfZGF0YVsnMTAzMDQwMDInXS52aXZvX2Fkdl9pZCA9IHN5eXhfbWFuYWdlci5ndW9iYW9fZ2V0X2NoYW5uZWxfYWRfaWQoJ1lTSUMnKSAvLyDljp/nlJ9pY29uXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9hZHZfY29uZmlnX2RhdGFbJzEwNDAwMDAxJ10udml2b19hZHZfaWQgPSBzeXl4X21hbmFnZXIuZ3VvYmFvX2dldF9jaGFubmVsX2FkX2lkKCdCTicpIC8vIOaZrumAmmJhbm5lclxyXG4gICAgICAgICAgICAgICAgc2VsZi5fYWR2X2NvbmZpZ19kYXRhWycxMDYwMDAwMiddLnZpdm9fYWR2X2lkID0gc3l5eF9tYW5hZ2VyLmd1b2Jhb19nZXRfY2hhbm5lbF9hZF9pZCgnSFQnKSB8fCAnJyAvLyBvduaoqueJiOS6kuaOqOebkuWtkFxyXG4gICAgICAgICAgICAgICAgc2VsZi5fYWR2X2NvbmZpZ19kYXRhWycxMDYwMDAwMyddLnZpdm9fYWR2X2lkID0gc3l5eF9tYW5hZ2VyLmd1b2Jhb19nZXRfY2hhbm5lbF9hZF9pZCgnSkdHJykgLy8gb3Bwb+S5neWuq+agvOS6kuaOqOebkuWtkFxyXG4gICAgICAgICAgICAgICAgc2VsZi5fYWR2X2NvbmZpZ19kYXRhWycxMDEwMDAwMSddLnZpdm9fYWR2X2lkID0gc3l5eF9tYW5hZ2VyLmd1b2Jhb19nZXRfY2hhbm5lbF9hZF9pZCgnQ1AnKSAvLyDmma7pgJrmj5LlsY9cclxuICAgICAgICAgICAgICAgIHNlbGYuX2Fkdl9jb25maWdfZGF0YVsnMTAzMDEwMDEnXS52aXZvX2Fkdl9pZCA9IHN5eXhfbWFuYWdlci5ndW9iYW9fZ2V0X2NoYW5uZWxfYWRfaWQoJ1lTQ1AnKSAvLyDljp/nlJ/mj5LlsY9cclxuXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9fYWR2X2NvbmZpZ19pbml0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZGstLS0tLSBhZHYgY29uZmlnIGhhcyBsb2FkZWQgY29tcGxldGVcIiwgc2VsZi5fYWR2X2NvbmZpZ19kYXRhKVxyXG5cclxuICAgICAgICAgICAgICAgIC8v6aKE5Yqg6L295LqS5o6o5bm/5ZGK55uS5a2QXHJcbiAgICAgICAgICAgICAgICBzeXl4X21hbmFnZXIucHJlX2xvYWRfZ2FtZV9wb3J0YWxfYm94KGVfYWRfaWQuZ2FtZV9wb3J0YWxfYm94LCBudWxsLCBudWxsLCBudWxsLCBudWxsKVxyXG4gICAgICAgICAgICAgICAgc3l5eF9tYW5hZ2VyLnByZWxvYWRfdmlkZW8oKVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG5cclxuICAgICAgICAgICAgLy8g5Yid5aeL5YyW5LiK5oql6K6w5b2VXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdF9uYXRpdmVfcmVwb3J0X3JlY29yZCgpXHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0X2Jhbm5lcl9oZWlnaHQoKSB7XHJcbiAgICAgICAgYWRfb3Bwb19iYW5uZXIuc2V0X2Jhbm5lcl9oZWlnaHQoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yid5aeL5YyW5Y6f55Sf5LiK5oql6K6w5b2VXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpbml0X25hdGl2ZV9yZXBvcnRfcmVjb3JkKCkge1xyXG4gICAgICAgIHRoaXMubmF0aXZlX3JlcG9ydF9yZWNvcmRbZV9hZF9uYXRpdmVfdHlwZS5uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsXSA9IHtcclxuICAgICAgICAgICAgXCJzdGFydF9jb3VudFwiOiAwLFxyXG4gICAgICAgICAgICBcInNob3dfY291bnRcIjogMCxcclxuICAgICAgICAgICAgXCJjbGlja19jb3VudFwiOiAwLFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5hdGl2ZV9yZXBvcnRfcmVjb3JkW2VfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2Jhbm5lcl0gPSB7XHJcbiAgICAgICAgICAgIFwic3RhcnRfY291bnRcIjogMCxcclxuICAgICAgICAgICAgXCJzaG93X2NvdW50XCI6IDAsXHJcbiAgICAgICAgICAgIFwiY2xpY2tfY291bnRcIjogMCxcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5uYXRpdmVfcmVwb3J0X3JlY29yZFtlX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9pbnRlcnN0aXRpYWxdID0ge1xyXG4gICAgICAgICAgICBcInN0YXJ0X2NvdW50XCI6IDAsXHJcbiAgICAgICAgICAgIFwic2hvd19jb3VudFwiOiAwLFxyXG4gICAgICAgICAgICBcImNsaWNrX2NvdW50XCI6IDAsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubmF0aXZlX3JlcG9ydF9yZWNvcmRbZV9hZF9uYXRpdmVfdHlwZS5uYXRpdmVfaWNvbl0gPSB7XHJcbiAgICAgICAgICAgIFwic3RhcnRfY291bnRcIjogMCxcclxuICAgICAgICAgICAgXCJzaG93X2NvdW50XCI6IDAsXHJcbiAgICAgICAgICAgIFwiY2xpY2tfY291bnRcIjogMCxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluaXRfZmlyc3RfYmFubmVyX2NkKCkge1xyXG4gICAgICAgIGFkX2Jhbm5lci5pbml0X2ZpcnN0X2Jhbm5lcl9jZCgpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlgqjlrZjljp/nlJ/mlbDmja5cclxuICAgICAqIEBwYXJhbSBuYXRpdmVfZGF0YSDljp/nlJ/mlbDmja5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFkZF9uYXRpdmVfZGF0YShuYXRpdmVfZGF0YSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5fbmF0aXZlX2RhdGFfY2FjaGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX25hdGl2ZV9kYXRhX2NhY2hlW2ldLmlkID09IG5hdGl2ZV9kYXRhLmlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5nZXRfb3Bwb19uYXRpdmVfY2FjaGVfbWF4X2xlbmd0aCgpXHJcbiAgICAgICAgLy/liKTmlq3nvJPlrZjmlbDnu4Tplb/luqbmmK/lkKbotoXmoIdcclxuICAgICAgICBpZiAodGhpcy5fbmF0aXZlX2RhdGFfY2FjaGUubGVuZ3RoID49IGxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVfZGF0YV9jYWNoZS5zcGxpY2UoMCwgMSlcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbmF0aXZlX2RhdGFfY2FjaGUucHVzaChuYXRpdmVfZGF0YSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVJ5bGC6KaB5bGV56S65pmu6YCaYmFubmVy5oiW6ICF5Y6f55SfYmFubmVyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzaG93X2Jhbm5lcihhZF90eXBlPzogaWdjLmVfYWRfdHlwZSwgYWRfcG9zX2lkPzogc3RyaW5nLCBvbkxvYWQ/OiBGdW5jdGlvbiwgb25TaG93PzogRnVuY3Rpb24sIG9uQ2xvc2U/OiBGdW5jdGlvbiwgb25FcnJvcj86IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9fYWR2X2NvbmZpZ19pbml0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkX2Jhbm5lci5zaG93X2Jhbm5lcihhZF90eXBlLCBhZF9wb3NfaWQsIG9uTG9hZCwgb25TaG93LCBvbkNsb3NlLCBvbkVycm9yKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiB1aeWxguimgemakOiXj2Jhbm5lcuaIluiAheWOn+eUn2Jhbm5lclxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBoaWRlX2Jhbm5lcigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX19hZHZfY29uZmlnX2luaXRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgYWRfYmFubmVyLmhpZGVfYmFubmVyKClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWxleekuuWOn+eUn2ljb25cclxuICAgICAqIEBwYXJhbSBwYXJlbnQg5Y6f55SfaWNvbueItuiKgueCuVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2hvd19uYXRpdmVfaWNvbihwYXJlbnQsIGFkX3R5cGU/OiBpZ2MuZV9hZF90eXBlLCBhZF9wb3NfaWQ/OiBzdHJpbmcsIG9uTG9hZD86IEZ1bmN0aW9uLCBvblNob3c/OiBGdW5jdGlvbiwgb25DbG9zZT86IEZ1bmN0aW9uLCBvbkVycm9yPzogRnVuY3Rpb24pIHtcclxuICAgICAgICBpZiAoIXRoaXMuX19hZHZfY29uZmlnX2luaXRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgYWRfbmF0aXZlX2ljb24uc2hvd19uYXRpdmVfaWNvbihwYXJlbnQsIGFkX3R5cGUsIGFkX3Bvc19pZCwgb25Mb2FkLCBvblNob3csIG9uQ2xvc2UsIG9uRXJyb3IpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpmpDol4/ljp/nlJ9pY29uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBoaWRlX25hdGl2ZV9pY29uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fX2Fkdl9jb25maWdfaW5pdGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBhZF9uYXRpdmVfaWNvbi5oaWRlX25hdGl2ZV9pY29uKClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogIOWxleekuuWOn+eUn+aPkuWxj1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBzaG93X25hdGl2ZV9pbnRlcnN0aXRpYWwoYWRfdHlwZT86IGlnYy5lX2FkX3R5cGUsIGFkX3Bvc19pZD86IHN0cmluZywgb25Mb2FkPzogRnVuY3Rpb24sIG9uU2hvdz86IEZ1bmN0aW9uLCBvbkNsb3NlPzogRnVuY3Rpb24sIG9uRXJyb3I/OiBGdW5jdGlvbikge1xyXG4gICAgICAgIGlmICghdGhpcy5fX2Fkdl9jb25maWdfaW5pdGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IF9fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuX19idXNpbmVzc19jb25maWdfZGF0YVxyXG4gICAgICAgIGlmKF9fYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgX19idXNpbmVzc19jb25maWdfZGF0YVtcInZpdm9feXNjcF9zd2l0Y2hcIl0pIHsgLy8g5Y6f55Sf5o+S5bGP5byA5YWzXHJcbiAgICAgICAgICAgIGlmIChfX2J1c2luZXNzX2NvbmZpZ19kYXRhW1widml2b195c2NwX3N3aXRjaFwiXS52YWx1ZVswXSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBvbkVycm9yICYmIG9uRXJyb3IoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYWRfbmF0aXZlX2ludGVyc3RpdGlhbC5sb2FkX25hdGl2ZV9pbnRlcnN0aXRpYWwoYWRfdHlwZSwgYWRfcG9zX2lkLCBvbkxvYWQsIG9uU2hvdywgb25DbG9zZSwgb25FcnJvcilcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogIOmihOWKoOi9vee7k+eul+WOn+eUn1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBwcmVsb2FkX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwoYWRfdHlwZT86IGlnYy5lX2FkX3R5cGUsIGFkX3Bvc19pZD86IHN0cmluZywgb25Mb2FkPzogRnVuY3Rpb24sIG9uU2hvdz86IEZ1bmN0aW9uLCBvbkNsb3NlPzogRnVuY3Rpb24sIG9uRXJyb3I/OiBGdW5jdGlvbikge1xyXG4gICAgICAgIGlmICghdGhpcy5fX2Fkdl9jb25maWdfaW5pdGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBhZF9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsLnByZWxvYWRfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbChhZF90eXBlLCBhZF9wb3NfaWQsIG9uTG9hZCwgb25TaG93LCBvbkNsb3NlLCBvbkVycm9yKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZXRfb25fY2xpY2tfaW5uZXJfaW50ZXJzdGl0aWFsX2J0bihjbGlja19iYWNrPykge1xyXG4gICAgICAgIGlmICghdGhpcy5fX2Fkdl9jb25maWdfaW5pdGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBhZF9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsLnNldF9vbl9jbGlja19pbm5lcl9pbnRlcnN0aXRpYWxfYnRuKGNsaWNrX2JhY2spXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bliqDovb3lpb3nmoTljp/nlJ/mlbDmja5cclxuICAgICAqIEBwYXJhbSBpZ25vcmVfaWQgIOaYr+WQpumcgOimgeW/veeVpeafkOS4quW5v+WRimlkXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRfbmF0aXZlX2RhdGEoaWdub3JlX2lkID0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKCFhZF9iYW5uZXIuY2FuX3Nob3dfZmlyc3QpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MgLS0tLS0gb3BwbydzIGZpcnN0IG5hdGl2ZSBhZCBpcyBpbiBjZFwiKVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WIpOaWreWQhOS4quWOn+eUn+eCueWHu+eOh+aYr+WQpui2heagh3dlZG5lc1xyXG4gICAgICAgIGxldCBiYW5uZXJfbGltaXQgPSB0aGlzLmNoZWNrX2lzX2NsaWNrX2xpbWl0KGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2Jhbm5lcilcclxuICAgICAgICBsZXQgaW5uZXJfbGltaXQgPSB0aGlzLmNoZWNrX2lzX2NsaWNrX2xpbWl0KGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbClcclxuICAgICAgICBsZXQgaW50ZXJzdGl0aWFsX2xpbWl0ID0gdGhpcy5jaGVja19pc19jbGlja19saW1pdChlX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9pbnRlcnN0aXRpYWwpXHJcblxyXG4gICAgICAgIGxldCBjdXJfZGF0YV9jYWNoZSA9IFtdXHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLl9uYXRpdmVfZGF0YV9jYWNoZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbmF0aXZlX2RhdGFfY2FjaGVbaV0uaWQgIT0gaWdub3JlX2lkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX25hdGl2ZV9kYXRhX2NhY2hlW2ldLm5hdGl2ZV90eXBlID09IGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2Jhbm5lciAmJiAhYmFubmVyX2xpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyX2RhdGFfY2FjaGUucHVzaCh0aGlzLl9uYXRpdmVfZGF0YV9jYWNoZVtpXSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbmF0aXZlX2RhdGFfY2FjaGVbaV0ubmF0aXZlX3R5cGUgPT0gZV9hZF9uYXRpdmVfdHlwZS5uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsICYmICFpbm5lcl9saW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cl9kYXRhX2NhY2hlLnB1c2godGhpcy5fbmF0aXZlX2RhdGFfY2FjaGVbaV0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX25hdGl2ZV9kYXRhX2NhY2hlW2ldLm5hdGl2ZV90eXBlID09IGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2ludGVyc3RpdGlhbCAmJiAhaW50ZXJzdGl0aWFsX2xpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyX2RhdGFfY2FjaGUucHVzaCh0aGlzLl9uYXRpdmVfZGF0YV9jYWNoZVtpXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCLmoLnmja7ov4fmu6TnmoRpZOWSjOeCueWHu+eOhyDnrZvpgInnmoTmsaDlrZA6XCIsIGN1cl9kYXRhX2NhY2hlKVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jaGVja19uYXRpdmVfZGF0YV9saXN0X2lzX3JlcHJvdChjdXJfZGF0YV9jYWNoZSkpIHtcclxuICAgICAgICAgICAgLy/lhajpg6jmlbDmja7pg73kuIrmiqXmm53lhYnov4fkuoZcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJpZ2MtLS0tLSBzeXl4X2Fkdl9tYW5hZ2VyIHVzZSBvbGQgbG9hZCBuYXRpdmUgZGF0YVwiKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRfbWluX29yZGVyX25hdGl2ZV9kYXRhKGN1cl9kYXRhX2NhY2hlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v5pyJ5pWw5o2u5rKh5pyJ5LiK5oql6L+H5pud5YWJICDnlKjmnIDmlrDmlbDmja5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0X2xhdGVzdF9uYXRpdmVfZGF0YShjdXJfZGF0YV9jYWNoZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDngrnlh7vkuIrmiqXkuobigJQtLT7np7vpmaTljp/nlJ/mlbDmja5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlbW92ZV9uYXRpdmVfZGF0YShuYXRpdmVfZGF0YTogbmF0aXZlX2FkX2RhdGEpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuX25hdGl2ZV9kYXRhX2NhY2hlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9uYXRpdmVfZGF0YV9jYWNoZVtpXS5pZCA9PSBuYXRpdmVfZGF0YS5pZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBzeXl4X2Fkdl9tYW5hZ2VyIHJlbW92ZSBuYXRpdmVfZGF0YTpcIiwgbmF0aXZlX2RhdGEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXRpdmVfZGF0YV9jYWNoZS5zcGxpY2UocGFyc2VJbnQoaSksIDEpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluWKoOi9veWlveeahOWOn+eUn+aVsOaNrlxyXG4gICAgICogQHBhcmFtIGFkX3Bvc19pZCDphY3nva7ooajlub/lkYpJZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X2xvY2FsX25hdGl2ZV9kYXRhKGFkX3Bvc19pZD8pOiBuYXRpdmVfYWRfZGF0YSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0X25hdGl2ZV9kYXRhKClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4iuaKpeWOn+eUn+eCueWHu1xyXG4gICAgICogQHBhcmFtIGFkX3Bvc19pZCBcclxuICAgICAqIEBwYXJhbSBhZF91bml0X2lkIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVwb3J0X2FkX2NsaWNrKGFkX3Bvc19pZDogc3RyaW5nLCBuYXRpdmVfZGF0YT8pIHtcclxuICAgICAgICBsZXQgYWRfaWQgPSB0aGlzLmdldF9jaGFubmVsX2FkX2lkKG5hdGl2ZV9kYXRhLmFkUG9zSWQpXHJcbiAgICAgICAgaWYgKCFhZF9pZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHN5eXhfbWFuYWdlciByZXBvcnRfYWRfY2xpY2sgYWRfaWQgbm8gY29uZmlndXJlIGluIGFkdi5jc3ZcIilcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIW5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gc3l5eF9hZHZfbWFtYWdlciByZXBvcnRfYWRfY2xpY2sgbmF0aXZlX2RhdGEgaXMgbnVsbFwiKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaWdjIC0tLS0tIGhhcyBiZWVuIGluIHJlcG9ydCBhZCBjbGlja1wiKVxyXG4gICAgICAgIGlmIChuYXRpdmVfZGF0YS5zdGF0ZSAhPSBlX2FkX25hdGl2ZV9zdGF0ZS5zaG93KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gc3l5eF9hZHZfbWFtYWdlciByZXBvcnRfYWRfY2xpY2sgbmF0aXZlX2RhdGEgc3RhdGUgaXMgbm90IGVfYWRfbmF0aXZlX3N0YXRlLnNob3dcIilcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+iusOW9lS0tLS0tLeWOn+eUn+aVsOaNruS4iuaKpeiusOW9lVxyXG4gICAgICAgIGxldCByZXBvcnRfZGF0YSA9IHRoaXMubmF0aXZlX3JlcG9ydF9yZWNvcmRbbmF0aXZlX2RhdGEubmF0aXZlX3R5cGVdXHJcbiAgICAgICAgcmVwb3J0X2RhdGEuY2xpY2tfY291bnQgPSBNYXRoLm1pbigrK3JlcG9ydF9kYXRhLmNsaWNrX2NvdW50LCByZXBvcnRfZGF0YS5zaG93X2NvdW50KVxyXG5cclxuICAgICAgICBsZXQgYWRfdW5pdF9pZCA9IG5hdGl2ZV9kYXRhLmFkVW5pdElkXHJcbiAgICAgICAgbGV0IHBhcmFtID0ge1xyXG4gICAgICAgICAgICBhZF9pZDogYWRfaWQsXHJcbiAgICAgICAgICAgIGFkX3VuaXRfaWQ6IGFkX3VuaXRfaWQsXHJcbiAgICAgICAgICAgIGFkX3R5cGU6IGlnYy5lX2FkX3R5cGUubmF0aXZlLFxyXG4gICAgICAgICAgICBhZF9wb3NfaWQ6IG5hdGl2ZV9kYXRhLmFkUG9zSWQsXHJcbiAgICAgICAgICAgIGFkX2V2ZW50OiBhZF9pZCxcclxuICAgICAgICAgICAgYWRfc2NlbmU6IGFkX2lkLFxyXG4gICAgICAgICAgICBzdWJfYWRfdHlwZTogaWdjLmVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2Jhbm5lcl9kaWFsb2dcclxuICAgICAgICB9XHJcbiAgICAgICAgaWdjLmlnY19tYWluLmluc3RhbmNlLnJlcG9ydF9hZF9jbGljayhwYXJhbSlcclxuICAgICAgICAvL+enu+mZpOS4iuaKpei/h+eCueWHu+eahOaVsOaNrlxyXG4gICAgICAgIHRoaXMucmVtb3ZlX25hdGl2ZV9kYXRhKG5hdGl2ZV9kYXRhKVxyXG5cclxuICAgICAgICBhZF9iYW5uZXIucmVwb3J0X2FkX2NsaWNrKGFkX3Bvc19pZCwgbmF0aXZlX2RhdGEpXHJcbiAgICAgICAgYWRfbmF0aXZlX2ljb24ucmVwb3J0X2FkX2NsaWNrKGFkX3Bvc19pZCwgbmF0aXZlX2RhdGEpXHJcbiAgICAgICAgYWRfbmF0aXZlX2ludGVyc3RpdGlhbC5yZXBvcnRfYWRfY2xpY2soYWRfcG9zX2lkLCBuYXRpdmVfZGF0YSlcclxuICAgICAgICBhZF9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsLnJlcG9ydF9hZF9jbGljayhhZF9wb3NfaWQsIG5hdGl2ZV9kYXRhKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiK5oql5Y6f55Sf5pud5YWJXHJcbiAgICAgKiBAcGFyYW0gYWRfcG9zX2lkIC8v6YWN572u6KGo5bm/5ZGKSUQgXHJcbiAgICAgKiBAcGFyYW0gYWRfdW5pdF9pZCAvL+WOn+eUn+aVsOaNruS4iuaKpUlEXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZXBvcnRfYWRfc2hvdyhhZF9wb3NfaWQ6IHN0cmluZywgbmF0aXZlX2RhdGE/KSB7XHJcbiAgICAgICAgbGV0IGFkX2lkID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfY2hhbm5lbF9hZF9pZChuYXRpdmVfZGF0YS5hZFBvc0lkKVxyXG4gICAgICAgIGlmICghYWRfaWQgfHwgYWRfaWQgPT0gXCIxXCIgfHwgYWRfaWQgPT0gXCIwXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBzeXl4X21hbmFnZXIgcmVwb3J0X2FkX3Nob3cgYWRfaWQgbm8gY29uZmlndXJlIGluIGFkdi5jc3ZcIilcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIW5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gc3l5eF9hZHZfbWFtYWdlciByZXBvcnRfYWRfc2hvdyBuYXRpdmVfZGF0YSBpcyBudWxsXCIpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/ljp/nlJ/mlbDmja7lsZXnpLpvcmRlciArMVxyXG4gICAgICAgIGxldCBtYXhfb3JkZXIgPSBzeXl4X2Fkdl9tYW5hZ2VyLmdldF9uYXRpdmVfZGF0YV9saXN0X21heF9vcmRlcigpXHJcbiAgICAgICAgbmF0aXZlX2RhdGEub3JkZXIgPSBtYXhfb3JkZXIgKyAxXHJcblxyXG4gICAgICAgIGlmIChuYXRpdmVfZGF0YS5zdGF0ZSA9PSBlX2FkX25hdGl2ZV9zdGF0ZS5uZWVkX3Nob3cgfHwgc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUuaHdfcWcpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChuYXRpdmVfZGF0YS5zdGF0ZSA9PSBlX2FkX25hdGl2ZV9zdGF0ZS5uZWVkX3Nob3cpIHtcclxuICAgICAgICAgICAgICAgIC8v6K6w5b2VLS0tLS0t5Y6f55Sf5pWw5o2u5LiK5oql6K6w5b2VXHJcbiAgICAgICAgICAgICAgICBsZXQgcmVwb3J0X2RhdGEgPSB0aGlzLm5hdGl2ZV9yZXBvcnRfcmVjb3JkW25hdGl2ZV9kYXRhLm5hdGl2ZV90eXBlXVxyXG4gICAgICAgICAgICAgICAgcmVwb3J0X2RhdGEuc2hvd19jb3VudCsrXHJcbiAgICAgICAgICAgICAgICByZXBvcnRfZGF0YS5zdGFydF9jb3VudCsrXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwYXJhbSA9IHtcclxuICAgICAgICAgICAgICAgIGFkX2lkOiBhZF9pZCxcclxuICAgICAgICAgICAgICAgIGFkX3VuaXRfaWQ6IG5hdGl2ZV9kYXRhLmFkVW5pdElkLFxyXG4gICAgICAgICAgICAgICAgYWRfdHlwZTogaWdjLmVfYWRfdHlwZS5uYXRpdmUsXHJcbiAgICAgICAgICAgICAgICBhZF9wb3NfaWQ6IG5hdGl2ZV9kYXRhLmFkUG9zSWQsXHJcbiAgICAgICAgICAgICAgICBhZF9ldmVudDogYWRfaWQsXHJcbiAgICAgICAgICAgICAgICBhZF9zY2VuZTogYWRfaWQsXHJcbiAgICAgICAgICAgICAgICBzdWJfYWRfdHlwZTogaWdjLmVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2Jhbm5lcl9kaWFsb2dcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZ2MuaWdjX21haW4uaW5zdGFuY2UucmVwb3J0X2FkX3Nob3cocGFyYW0pXHJcbiAgICAgICAgICAgIG5hdGl2ZV9kYXRhLnN0YXRlID0gZV9hZF9uYXRpdmVfc3RhdGUuc2hvdyAvLyDliqDovb3liLDmlbDmja7vvIzmm53lhYnlkI5zdGF0ZeS4ujLjgILmsqHmm53lhYnov5jmmK/nu6fnu63lj6/ku6XnlKjljp/mlbDmja7lsZXnpLpcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFkX2Jhbm5lci5yZXBvcnRfYWRfc2hvdyhhZF9wb3NfaWQsIG5hdGl2ZV9kYXRhKVxyXG4gICAgICAgIGFkX25hdGl2ZV9pY29uLnJlcG9ydF9hZF9zaG93KGFkX3Bvc19pZCwgbmF0aXZlX2RhdGEpXHJcbiAgICAgICAgYWRfbmF0aXZlX2ludGVyc3RpdGlhbC5yZXBvcnRfYWRfc2hvdyhhZF9wb3NfaWQsIG5hdGl2ZV9kYXRhKVxyXG4gICAgICAgIGFkX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwucmVwb3J0X2FkX3Nob3coYWRfcG9zX2lkLCBuYXRpdmVfZGF0YSlcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0X25vcm1hbF9iYW5uZXJfc3dpdGNoKHZhbHVlKSB7XHJcbiAgICAgICAgYWRfYmFubmVyLnNldF9ub3JtYWxfYmFubmVyX3N3aXRjaCh2YWx1ZSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluaJi3EgYmFubmVyIOS4iuenu+i3neemu1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X3FxX2Jhbm5lcl90b3Bfb2Zmc2V0KCkge1xyXG4gICAgICAgIGxldCBidXNpbmVzc19jb25maWcgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKGJ1c2luZXNzX2NvbmZpZyAmJiBidXNpbmVzc19jb25maWdbXCJiYW5uZXJfdG9wX29mZnNldFwiXSkge1xyXG4gICAgICAgICAgICBpZiAoYnVzaW5lc3NfY29uZmlnW1wiYmFubmVyX3RvcF9vZmZzZXRcIl0udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSBidXNpbmVzc19jb25maWdbXCJiYW5uZXJfdG9wX29mZnNldFwiXS52YWx1ZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mZnNldFswXSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChvZmZzZXRbMV0gLSBvZmZzZXRbMF0pKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNob3dfYmxvY2soc3R5bGUsIGFkX3R5cGU/OiBpZ2MuZV9hZF90eXBlLCBhZF9wb3NfaWQ/OiBzdHJpbmcsIG9uTG9hZD86IEZ1bmN0aW9uLCBvblNob3c/OiBGdW5jdGlvbiwgb25DbG9zZT86IEZ1bmN0aW9uLCBvbkVycm9yPzogRnVuY3Rpb24pIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2Jsb2NrX2luc3RhbmNlW2FkX3Bvc19pZF0pIHtcclxuICAgICAgICAgICAgdGhpcy5fYmxvY2tfaW5zdGFuY2VbYWRfcG9zX2lkXSA9IG5ldyBhZF9ibG9jaygpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5fX2Fkdl9jb25maWdfaW5pdGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9ibG9ja19pbnN0YW5jZVthZF9wb3NfaWRdLnNob3dfYmxvY2soc3R5bGUsIGFkX3R5cGUsIGFkX3Bvc19pZCwgb25Mb2FkLCBvblNob3csIG9uQ2xvc2UsIG9uRXJyb3IpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGhpZGVfYmxvY2soYWRfcG9zX2lkKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9fYWR2X2NvbmZpZ19pbml0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9ibG9ja19pbnN0YW5jZVthZF9wb3NfaWRdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Jsb2NrX2luc3RhbmNlW2FkX3Bvc19pZF0uaGlkZV9ibG9jaygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBoaWRlX2FsbF9ibG9jaygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX19hZHZfY29uZmlnX2luaXRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLl9hZHZfY29uZmlnX2RhdGEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2Fkdl9jb25maWdfZGF0YVtpXS5hZHZfdHlwZSA9PSBpZ2MuZV9hZF90eXBlLmJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWRfcG9zX2lkID0gdGhpcy5fYWR2X2NvbmZpZ19kYXRhW2ldLmlkXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYmxvY2tfaW5zdGFuY2VbYWRfcG9zX2lkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrX2luc3RhbmNlW2FkX3Bvc19pZF0uaGlkZV9ibG9jaygpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKblvIDlkK9vcHBv5paw6KeEXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjaGVja19pc19vcGVuX29wcG9fcnVsZSgpIHtcclxuICAgICAgICBsZXQgYnVzaW5lc3NfY29uZmlnID0gc3l5eF9tYW5hZ2VyLmdldF9idXNpbmVzc19jb25maWcoKVxyXG4gICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS5vcHBvX3FnIHx8IHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLnZpdm9fcWcgfHwgc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUud2ViKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5aKe5Yqg5Y6f55Sf5bm/5ZGK5bGV56S65qyh5pWwXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhZGRfbmF0aXZlX3Nob3dfY291bnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tfaXNfb3Blbl9vcHBvX3J1bGUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cl9uYXRpdmVfc2hvd19jb3VudCsrXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5b2T5YmN5ri45oiP5pe26ZW/XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRfcGxheV9nYW1lX3RpbWUoKSB7XHJcbiAgICAgICAgbGV0IGN1cl90aW1lc3RhbXAgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpXHJcbiAgICAgICAgcmV0dXJuIChjdXJfdGltZXN0YW1wIC0gdGhpcy5sb2dpbl90aW1lc3RhbXApIC8gMTAwMFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yik5pat5b2T5YmN5piv5ZCm6L6+5Yiw5bGV56S65qyh5pWw5LiK6ZmQXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjaGVja19pc19zaG93X2NvdW50X2xpbWl0KCkge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY2hlY2tfaXNfb3Blbl9vcHBvX3J1bGUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBvcHBvX25hdGl2ZV9zaG93X2xpbWl0ID0gWzYwLCAyXVxyXG4gICAgICAgIGxldCBidXNpbmVzc19jb25maWcgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKGJ1c2luZXNzX2NvbmZpZyAmJiBidXNpbmVzc19jb25maWdbXCJvcHBvX25hdGl2ZV9zaG93X2xpbWl0XCJdICYmIGJ1c2luZXNzX2NvbmZpZ1tcIm9wcG9fbmF0aXZlX3Nob3dfbGltaXRcIl0udmFsdWUpIHtcclxuICAgICAgICAgICAgb3Bwb19uYXRpdmVfc2hvd19saW1pdCA9IGJ1c2luZXNzX2NvbmZpZ1tcIm9wcG9fbmF0aXZlX3Nob3dfbGltaXRcIl0udmFsdWVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwbGF5X2dhbWVfdGltZSA9IHRoaXMuZ2V0X3BsYXlfZ2FtZV90aW1lKClcclxuICAgICAgICBsZXQgY3VyX3Nob3dfbGltaXQgPSAyXHJcbiAgICAgICAgaWYgKHBsYXlfZ2FtZV90aW1lID49IDApIHtcclxuICAgICAgICAgICAgY3VyX3Nob3dfbGltaXQgPSAoTWF0aC5mbG9vcihwbGF5X2dhbWVfdGltZSAvIG9wcG9fbmF0aXZlX3Nob3dfbGltaXRbMF0pICsgMSkgKiBvcHBvX25hdGl2ZV9zaG93X2xpbWl0WzFdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzeXl4X2Fkdl9tYW5hZ2VyLmN1cl9uYXRpdmVfc2hvd19jb3VudCA+PSBjdXJfc2hvd19saW1pdFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5Y6f55Sf5pWw5o2u57yT5a2Y5pWw57uE55qE5pyA5aSn6ZW/5bqmXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRfb3Bwb19uYXRpdmVfY2FjaGVfbWF4X2xlbmd0aCgpIHtcclxuICAgICAgICBsZXQgbGVuZ3RoID0gMjBcclxuICAgICAgICBsZXQgYnVzaW5lc3NfY29uZmlnID0gc3l5eF9tYW5hZ2VyLmdldF9idXNpbmVzc19jb25maWcoKVxyXG4gICAgICAgIGlmIChidXNpbmVzc19jb25maWcgJiYgYnVzaW5lc3NfY29uZmlnW1wib3Bwb19uYXRpdmVfY2FjaGVfbGVuZ3RoXCJdICYmIGJ1c2luZXNzX2NvbmZpZ1tcIm9wcG9fbmF0aXZlX2NhY2hlX2xlbmd0aFwiXS52YWx1ZSkge1xyXG4gICAgICAgICAgICBsZW5ndGggPSBidXNpbmVzc19jb25maWdbXCJvcHBvX25hdGl2ZV9jYWNoZV9sZW5ndGhcIl0udmFsdWVbMF1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxlbmd0aCB8fCAyMFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5qOA5p+l5YWo6YOo5Y6f55Sf5pWw5o2u5piv5ZCm6YO95Li65bey5pud5YWJ6L+H55qEXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjaGVja19uYXRpdmVfZGF0YV9saXN0X2lzX3JlcHJvdChuYXRpdmVfZGF0YV9saXN0KSB7XHJcbiAgICAgICAgaWYgKG5hdGl2ZV9kYXRhX2xpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpIGluIG5hdGl2ZV9kYXRhX2xpc3QpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuYXRpdmVfZGF0YV9saXN0W2ldLnN0YXRlICE9IGVfYWRfbmF0aXZlX3N0YXRlLnNob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pyA6L+R5ouJ5Y+W5Yiw55qE5Y6f55Sf5pWw5o2uICDmiJbogIUg5rKh5pyJ5LiK5oql6L+H55qE5pWw5o2uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRfbGF0ZXN0X25hdGl2ZV9kYXRhKG5hdGl2ZV9kYXRhX2xpc3QpIHtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBuYXRpdmVfZGF0YV9saXN0KSB7XHJcbiAgICAgICAgICAgIGlmIChuYXRpdmVfZGF0YV9saXN0W2ldLnN0YXRlID09IGVfYWRfbmF0aXZlX3N0YXRlLm5lZWRfc2hvdykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZV9kYXRhX2xpc3RbaV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5hdGl2ZV9kYXRhX2xpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlX2RhdGFfbGlzdFtuYXRpdmVfZGF0YV9saXN0Lmxlbmd0aCAtIDFdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluaVsOaNruacgOWkp+eahG9yZGVyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRfbmF0aXZlX2RhdGFfbGlzdF9tYXhfb3JkZXIobmF0aXZlX2RhdGFfbGlzdCA9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gW11cclxuICAgICAgICBsZXQgb3JkZXIgPSAwXHJcbiAgICAgICAgaWYgKG5hdGl2ZV9kYXRhX2xpc3QgJiYgbmF0aXZlX2RhdGFfbGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxpc3QgPSBuYXRpdmVfZGF0YV9saXN0XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGlzdCA9IHRoaXMuX25hdGl2ZV9kYXRhX2NhY2hlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBsaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlzdFtpXS5vcmRlciA+IG9yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JkZXIgPSBsaXN0W2ldLm9yZGVyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9yZGVyIHx8IDBcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluaVsOaNruS4reacgOWwj29yZGVy55qE5pWw5o2uXHJcbiAgICAgKiBAcGFyYW0gbmF0aXZlX2RhdGFfbGlzdCDljp/nlJ/mlbDmja7mlbDnu4RcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldF9taW5fb3JkZXJfbmF0aXZlX2RhdGEobmF0aXZlX2RhdGFfbGlzdCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gdW5kZWZpbmVkXHJcbiAgICAgICAgbGV0IGxlbmd0aCA9IG5hdGl2ZV9kYXRhX2xpc3QubGVuZ3RoXHJcbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBuYXRpdmVfZGF0YV9saXN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEgfHwgbmF0aXZlX2RhdGFfbGlzdFtpXS5vcmRlciA8PSBkYXRhLm9yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5hdGl2ZV9kYXRhX2xpc3RbaV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDmo4Dmn6Xngrnlh7vnjofmmK/lkKbotoXmoIdcclxuICAgICogQHBhcmFtIG5hdGl2ZV9hZF90eXBlIOWOn+eUn+exu+Wei1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBjaGVja19pc19jbGlja19saW1pdChuYXRpdmVfYWRfdHlwZSkge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIGxldCBpc19saW1pdCA9IGZhbHNlXHJcbiAgICAgICAgbGV0IHJlcG9ydF9kYXRhID0gdGhpcy5uYXRpdmVfcmVwb3J0X3JlY29yZFtuYXRpdmVfYWRfdHlwZV1cclxuICAgICAgICAvL+W9k+WJjeW3sue7j+WkhOS6jueCueWHu+eOh+mZkOWItuWGt+WNtOaXtumXtOS4rVxyXG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZV9jbGlja19zdGF0ZVtuYXRpdmVfYWRfdHlwZV0gPT0gZV9hZF9uYXRpdmVfY2xpY2tfcHJvX3R5cGUuY29vbGluZykgeyBcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJpZ2MtLS0tLSBzeXl4X2Fkdl9tYW5hZ2VyIG5hdGl2ZV90eXBlXCIsIG5hdGl2ZV9hZF90eXBlLCBcImlzIGNsaWNrIGxpbWl0PyB0cnVlIVwiKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGN1cl9jbGlja19wcm8gPSByZXBvcnRfZGF0YS5jbGlja19jb3VudCAvIHJlcG9ydF9kYXRhLnNob3dfY291bnRcclxuICAgICAgICBsZXQgc3RhcnRfY291bnQgPSAxMFxyXG4gICAgICAgIGxldCBsaW1pdF9wcm8gPSAxXHJcbiAgICAgICAgbGV0IGNvb2xfdGltZSA9IDYwXHJcbiAgICAgICAgbGV0IGJ1c2luZXNzX2NvbmZpZyA9IHN5eXhfbWFuYWdlci5nZXRfYnVzaW5lc3NfY29uZmlnKClcclxuICAgICAgICBpZiAoYnVzaW5lc3NfY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGlmIChuYXRpdmVfYWRfdHlwZSA9PSBlX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9iYW5uZXIpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2NvdW50ID0gYnVzaW5lc3NfY29uZmlnW1wibmF0aXZlX2Jhbm5lcl9jbGlja19wcm9fbGltaXRcIl0udmFsdWVbMF1cclxuICAgICAgICAgICAgICAgIGxpbWl0X3BybyA9IGJ1c2luZXNzX2NvbmZpZ1tcIm5hdGl2ZV9iYW5uZXJfY2xpY2tfcHJvX2xpbWl0XCJdLnZhbHVlWzFdXHJcbiAgICAgICAgICAgICAgICBjb29sX3RpbWUgPSBidXNpbmVzc19jb25maWdbXCJuYXRpdmVfYmFubmVyX2NsaWNrX3Byb19saW1pdFwiXS52YWx1ZVsyXVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5hdGl2ZV9hZF90eXBlID09IGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRfY291bnQgPSBidXNpbmVzc19jb25maWdbXCJuYXRpdmVfaW5uZXJfY2xpY2tfcHJvX2xpbWl0XCJdLnZhbHVlWzBdIC8vIDEwMDBcclxuICAgICAgICAgICAgICAgIGxpbWl0X3BybyA9IGJ1c2luZXNzX2NvbmZpZ1tcIm5hdGl2ZV9pbm5lcl9jbGlja19wcm9fbGltaXRcIl0udmFsdWVbMV0gLy8gMC40XHJcbiAgICAgICAgICAgICAgICBjb29sX3RpbWUgPSBidXNpbmVzc19jb25maWdbXCJuYXRpdmVfaW5uZXJfY2xpY2tfcHJvX2xpbWl0XCJdLnZhbHVlWzJdIC8vIDYwXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmF0aXZlX2FkX3R5cGUgPT0gZV9hZF9uYXRpdmVfdHlwZS5uYXRpdmVfaW50ZXJzdGl0aWFsKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydF9jb3VudCA9IGJ1c2luZXNzX2NvbmZpZ1tcIm5hdGl2ZV9pbnRlcnN0aXRpYWxfY2xpY2tfcHJvX2xpbWl0XCJdLnZhbHVlWzBdXHJcbiAgICAgICAgICAgICAgICBsaW1pdF9wcm8gPSBidXNpbmVzc19jb25maWdbXCJuYXRpdmVfaW50ZXJzdGl0aWFsX2NsaWNrX3Byb19saW1pdFwiXS52YWx1ZVsxXVxyXG4gICAgICAgICAgICAgICAgY29vbF90aW1lID0gYnVzaW5lc3NfY29uZmlnW1wibmF0aXZlX2ludGVyc3RpdGlhbF9jbGlja19wcm9fbGltaXRcIl0udmFsdWVbMl1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHJlcG9ydF9kYXRhLnN0YXJ0X2NvdW50ID4gMCAmJiByZXBvcnRfZGF0YS5zdGFydF9jb3VudCAlIHN0YXJ0X2NvdW50ID09IDApIHtcclxuICAgICAgICAgICAgICAgIGlzX2xpbWl0ID0gY3VyX2NsaWNrX3BybyA+PSBsaW1pdF9wcm8gLy8g5LiA5byA5aeL5Li6ZmFsc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLm5hdGl2ZV9jbGlja19zdGF0ZVtuYXRpdmVfYWRfdHlwZV0pIHtcclxuICAgICAgICAgICAgdGhpcy5uYXRpdmVfY2xpY2tfc3RhdGVbbmF0aXZlX2FkX3R5cGVdID0gZV9hZF9uYXRpdmVfY2xpY2tfcHJvX3R5cGUuYWN0aXZlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc19saW1pdCAmJiB0aGlzLm5hdGl2ZV9jbGlja19zdGF0ZVtuYXRpdmVfYWRfdHlwZV0gPT0gZV9hZF9uYXRpdmVfY2xpY2tfcHJvX3R5cGUuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmF0aXZlX2NsaWNrX3N0YXRlW25hdGl2ZV9hZF90eXBlXSA9IGVfYWRfbmF0aXZlX2NsaWNrX3Byb190eXBlLmNvb2xpbmdcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBzeXl4X2Fkdl9tYW5hZ2VyIHJ1biBuYXRpdmUgY2xpY2sgbGltaXQgY29vbCB0aW1lciEhIVwiLCBjb29sX3RpbWUpXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy/op6PpmaTngrnlh7vnjofpmZDliLZcclxuICAgICAgICAgICAgICAgIHNlbGYubmF0aXZlX2NsaWNrX3N0YXRlW25hdGl2ZV9hZF90eXBlXSA9IGVfYWRfbmF0aXZlX2NsaWNrX3Byb190eXBlLmFjdGl2ZVxyXG4gICAgICAgICAgICAgICAgcmVwb3J0X2RhdGEuc3RhcnRfY291bnQgPSAwXHJcbiAgICAgICAgICAgIH0sIGNvb2xfdGltZSAqIDEwMDApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc19saW1pdCAvLyDkuIDlvIDlp4vkuLpmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDmoLnmja7muKDpgZPojrflj5blub/lkYppZFxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBnZXRfY2hhbm5lbF9hZF9pZChhZF9wb3NfaWQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX19hZHZfY29uZmlnX2luaXRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLm9wcG9fcWcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZHZfY29uZmlnX2RhdGFbYWRfcG9zX2lkXS5vcHBvX2Fkdl9pZFxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLnZpdm9fcWcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZHZfY29uZmlnX2RhdGFbYWRfcG9zX2lkXS52aXZvX2Fkdl9pZFxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLnR0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWR2X2NvbmZpZ19kYXRhW2FkX3Bvc19pZF0udHRfYWR2X2lkXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUucXEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZHZfY29uZmlnX2RhdGFbYWRfcG9zX2lkXS5xcV9hZHZfaWRcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS53eCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Fkdl9jb25maWdfZGF0YVthZF9wb3NfaWRdLnd4X2Fkdl9pZFxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLmFwaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Fkdl9jb25maWdfZGF0YVthZF9wb3NfaWRdLmFwa19hZHZfaWRcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS53ZWIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIndlYl9hZF9pZFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiYWR2LmNzdiBkbyBub3QgaGF2ZSB0aGUgYWRfaWQgb2YgdGhlIGFkX3Bvc19pZDogXCIgKyBhZF9wb3NfaWQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5piv5ZCm5Yid5aeL5YyW5a6M5oiQXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc19pbml0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX19pbml0ZWRcclxuICAgIH1cclxufVxyXG5cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/controller/syyx_cc_ui_manager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bb705sFh0pOW7QLeqXqVo9W', 'syyx_cc_ui_manager');
// syyx_sdk/controller/syyx_cc_ui_manager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.syyx_cc_ui_manager = void 0;
var model_1 = require("../model/model");
var syyx_sdk_enum_1 = require("../configs/syyx_sdk_enum");
var syyx_manager_1 = require("./syyx_manager");
var syyx_sdk_utils_1 = require("../utils/syyx_sdk_utils");
var syyx_ui_banner_1 = require("../syyx_ui/ad/syyx_ui_banner");
var syyx_ui_interstitial_1 = require("../syyx_ui/ad/syyx_ui_interstitial");
var syyx_ui_inner_interstitial_1 = require("../syyx_ui/ad/syyx_ui_inner_interstitial");
var syyx_ui_native_icon_1 = require("../syyx_ui/ad/syyx_ui_native_icon");
var syyx_ui_toast_1 = require("../syyx_ui/ad/syyx_ui_toast");
var syyx_ui_ctr_1 = require("../syyx_ui/ctr_test/syyx_ui_ctr");
var syyx_cc_ui_manager = /** @class */ (function () {
    function syyx_cc_ui_manager() {
    }
    syyx_cc_ui_manager.load_ui_prefabs = function (view_type, call_back) {
        var self = this;
        var view = this._prefab_view[view_type];
        if (view && view.node) {
            call_back && call_back(this._prefab_view[view_type]);
            return;
        }
        var config = syyx_manager_1.syyx_manager._ui_prefab_config;
        var view_path = this.get_prefab_path(view_type);
        if (view_path) {
            if (!this._load_call_back_list[view_type]) {
                this._load_call_back_list[view_type] = [];
            }
            this._load_call_back_list[view_type].push(call_back);
            if (this._prefab_loading_state[view_type]) {
                console.log("igc----- syyx_cc_ui_manager prefab is loading , please wait", view_path);
                return;
            }
            this._prefab_loading_state[view_type] = true;
            syyx_sdk_utils_1.syyx_sdk_utils.load_resource(view_path, function (prefab) {
                self._prefab_loading_state[view_type] = false;
                var prefab1 = cc.instantiate(prefab);
                var view1 = prefab1.getComponent(self.get_prefab_class(view_type));
                self._prefab_view[view_type] = view1;
                if (config && config[view_type].cocos_auto_scale) {
                    syyx_sdk_utils_1.syyx_sdk_utils.set_default_scale(view1);
                }
                for (var i in self._load_call_back_list[view_type]) {
                    //顺序执行call_bcak回调
                    self._load_call_back_list[view_type][i] && self._load_call_back_list[view_type][i](view1);
                }
                self._load_call_back_list[view_type] = [];
                console.log("igc----- syyx_cc_ui_manmager load prefab", view_path);
            }, self, function () {
                self._prefab_loading_state[view_type] = false;
                console.log("igc----- syyx_cc_ui_manmager load prefab failed!!", view_path);
                self._load_call_back_list[view_type] = [];
            });
        }
    };
    /**
    * 根据viewType获取path
    * @param viewType
    */
    syyx_cc_ui_manager.get_prefab_path = function (view_type) {
        switch (view_type) {
            case model_1.syyx_view.native_banner:
                return syyx_sdk_enum_1.syyx_prefab_path.native_banner;
            case model_1.syyx_view.interstitial:
                if (cc.view.getVisibleSize().height > cc.view.getVisibleSize().width) {
                    return syyx_sdk_enum_1.syyx_prefab_path.interstitial;
                }
                else {
                    return syyx_sdk_enum_1.syyx_prefab_path.interstitial_h;
                }
            case model_1.syyx_view.inner_interstitial:
                return syyx_sdk_enum_1.syyx_prefab_path.inner_interstitial;
            case model_1.syyx_view.inner_interstitial_bn:
                return syyx_sdk_enum_1.syyx_prefab_path.inner_interstitial_bn;
            case model_1.syyx_view.native_icon:
                return syyx_sdk_enum_1.syyx_prefab_path.native_icon;
            case model_1.syyx_view.toast:
                return syyx_sdk_enum_1.syyx_prefab_path.toast;
            case model_1.syyx_view.ctr_test:
                if (cc.view.getVisibleSize().height > cc.view.getVisibleSize().width) {
                    return syyx_sdk_enum_1.syyx_prefab_path.ctr_test;
                }
                else {
                    return syyx_sdk_enum_1.syyx_prefab_path.ctr_test_h;
                }
            default:
                console.log("igc-----get_prefab_path fail", view_type);
                return undefined;
        }
    };
    /**
    * 根据viewType获取path
    * @param viewType
    */
    syyx_cc_ui_manager.get_prefab_class = function (view_type) {
        switch (view_type) {
            case model_1.syyx_view.native_banner:
                return syyx_ui_banner_1.default;
            case model_1.syyx_view.interstitial:
                return syyx_ui_interstitial_1.default;
            case model_1.syyx_view.inner_interstitial:
                return syyx_ui_inner_interstitial_1.default;
            case model_1.syyx_view.inner_interstitial_bn:
                return syyx_ui_inner_interstitial_1.default;
            case model_1.syyx_view.native_icon:
                return syyx_ui_native_icon_1.default;
            case model_1.syyx_view.toast:
                return syyx_ui_toast_1.default;
            case model_1.syyx_view.ctr_test:
                return syyx_ui_ctr_1.default;
            default:
                console.log("igc-----get_prefab_path fail", view_type);
                return undefined;
        }
    };
    syyx_cc_ui_manager._prefab_view = {};
    syyx_cc_ui_manager._prefab_loading_state = {};
    syyx_cc_ui_manager._load_call_back_list = {};
    return syyx_cc_ui_manager;
}());
exports.syyx_cc_ui_manager = syyx_cc_ui_manager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbnRyb2xsZXJcXHN5eXhfY2NfdWlfbWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx3Q0FBMkM7QUFDM0MsMERBQTREO0FBQzVELCtDQUE4QztBQUM5QywwREFBeUQ7QUFDekQsK0RBQTBEO0FBQzFELDJFQUFzRTtBQUN0RSx1RkFBa0Y7QUFDbEYseUVBQW9FO0FBQ3BFLDZEQUF3RDtBQUN4RCwrREFBMEQ7QUFHMUQ7SUFBQTtJQXVIQSxDQUFDO0lBL0dVLGtDQUFlLEdBQXRCLFVBQXVCLFNBQVMsRUFBRSxTQUFTO1FBQ3ZDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQTtRQUVmLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDdkMsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtZQUNuQixTQUFTLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQTtZQUNwRCxPQUFNO1NBQ1Q7UUFFRCxJQUFJLE1BQU0sR0FBRywyQkFBWSxDQUFDLGlCQUFpQixDQUFBO1FBRTNDLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDL0MsSUFBSSxTQUFTLEVBQUU7WUFFWCxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUN2QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFBO2FBQzVDO1lBQ0QsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUVwRCxJQUFJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyw2REFBNkQs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QUNILE9BQU8sZ0NBQWdCLENBQUMsVUFBVSxDQUFBO2lCQUNyQztZQUNMO2dCQUNJLE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQThCLEVBQUUsU0FBUyxDQUFDLENBQUM7Z0JBQ3ZELE9BQU8sU0FBUyxDQUFBO1NBQ3ZCO0lBQ0wsQ0FBQztJQUVEOzs7TUFHRTtJQUNLLG1DQUFnQixHQUF2QixVQUF3QixTQUFTO1FBQzdCLFFBQVEsU0FBUyxFQUFFO1lBQ2YsS0FBSyxpQkFBUyxDQUFDLGFBQWE7Z0JBQ3hCLE9BQU8sd0JBQWMsQ0FBQTtZQUN6QixLQUFLLGlCQUFTLENBQUMsWUFBWTtnQkFDdkIsT0FBTyw4QkFBb0IsQ0FBQTtZQUMvQixLQUFLLGlCQUFTLENBQUMsa0JBQWtCO2dCQUM3QixPQUFPLG9DQUEwQixDQUFBO1lBQ2pDLEtBQUssaUJBQVMsQ0FBQyxxQkFBcUI7Z0JBQ2hDLE9BQU8sb0NBQTBCLENBQUE7WUFDekMsS0FBSyxpQkFBUyxDQUFDLFdBQVc7Z0JBQ3RCLE9BQU8sNkJBQW1CLENBQUE7WUFDOUIsS0FBSyxpQkFBUyxDQUFDLEtBQUs7Z0JBQ2hCLE9BQU8sdUJBQWEsQ0FBQTtZQUN4QixLQUFLLGlCQUFTLENBQUMsUUFBUTtnQkFDbkIsT0FBTyxxQkFBVyxDQUFBO1lBQ3RCO2dCQUNJLE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQThCLEVBQUUsU0FBUyxDQUFDLENBQUM7Z0JBQ3ZELE9BQU8sU0FBUyxDQUFBO1NBQ3ZCO0lBQ0wsQ0FBQztJQW5ITSwrQkFBWSxHQUFHLEVBQUUsQ0FBQTtJQUVqQix3Q0FBcUIsR0FBRyxFQUFFLENBQUE7SUFFMUIsdUNBQW9CLEdBQUcsRUFBRSxDQUFBO0lBaUhwQyx5QkFBQztDQXZIRCxBQXVIQyxJQUFBO0FBdkhZLGdEQUFrQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN5eXhfdmlldyB9IGZyb20gXCIuLi9tb2RlbC9tb2RlbFwiO1xyXG5pbXBvcnQgeyBzeXl4X3ByZWZhYl9wYXRoIH0gZnJvbSBcIi4uL2NvbmZpZ3Mvc3l5eF9zZGtfZW51bVwiO1xyXG5pbXBvcnQgeyBzeXl4X21hbmFnZXIgfSBmcm9tIFwiLi9zeXl4X21hbmFnZXJcIjtcclxuaW1wb3J0IHsgc3l5eF9zZGtfdXRpbHMgfSBmcm9tIFwiLi4vdXRpbHMvc3l5eF9zZGtfdXRpbHNcIjtcclxuaW1wb3J0IHN5eXhfdWlfYmFubmVyIGZyb20gXCIuLi9zeXl4X3VpL2FkL3N5eXhfdWlfYmFubmVyXCI7XHJcbmltcG9ydCBzeXl4X3VpX2ludGVyc3RpdGlhbCBmcm9tIFwiLi4vc3l5eF91aS9hZC9zeXl4X3VpX2ludGVyc3RpdGlhbFwiO1xyXG5pbXBvcnQgc3l5eF91aV9pbm5lcl9pbnRlcnN0aXRpYWwgZnJvbSBcIi4uL3N5eXhfdWkvYWQvc3l5eF91aV9pbm5lcl9pbnRlcnN0aXRpYWxcIjtcclxuaW1wb3J0IHN5eXhfdWlfbmF0aXZlX2ljb24gZnJvbSBcIi4uL3N5eXhfdWkvYWQvc3l5eF91aV9uYXRpdmVfaWNvblwiO1xyXG5pbXBvcnQgc3l5eF91aV90b2FzdCBmcm9tIFwiLi4vc3l5eF91aS9hZC9zeXl4X3VpX3RvYXN0XCI7XHJcbmltcG9ydCBzeXl4X3VpX2N0ciBmcm9tIFwiLi4vc3l5eF91aS9jdHJfdGVzdC9zeXl4X3VpX2N0clwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBzeXl4X2NjX3VpX21hbmFnZXIge1xyXG5cclxuICAgIHN0YXRpYyBfcHJlZmFiX3ZpZXcgPSB7fVxyXG5cclxuICAgIHN0YXRpYyBfcHJlZmFiX2xvYWRpbmdfc3RhdGUgPSB7fVxyXG5cclxuICAgIHN0YXRpYyBfbG9hZF9jYWxsX2JhY2tfbGlzdCA9IHt9XHJcblxyXG4gICAgc3RhdGljIGxvYWRfdWlfcHJlZmFicyh2aWV3X3R5cGUsIGNhbGxfYmFjaykge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG5cclxuICAgICAgICBsZXQgdmlldyA9IHRoaXMuX3ByZWZhYl92aWV3W3ZpZXdfdHlwZV1cclxuICAgICAgICBpZiAodmlldyAmJiB2aWV3Lm5vZGUpIHtcclxuICAgICAgICAgICAgY2FsbF9iYWNrICYmIGNhbGxfYmFjayh0aGlzLl9wcmVmYWJfdmlld1t2aWV3X3R5cGVdKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjb25maWcgPSBzeXl4X21hbmFnZXIuX3VpX3ByZWZhYl9jb25maWdcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdmlld19wYXRoID0gdGhpcy5nZXRfcHJlZmFiX3BhdGgodmlld190eXBlKVxyXG4gICAgICAgIGlmICh2aWV3X3BhdGgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9hZF9jYWxsX2JhY2tfbGlzdFt2aWV3X3R5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkX2NhbGxfYmFja19saXN0W3ZpZXdfdHlwZV0gPSBbXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2xvYWRfY2FsbF9iYWNrX2xpc3Rbdmlld190eXBlXS5wdXNoKGNhbGxfYmFjaylcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wcmVmYWJfbG9hZGluZ19zdGF0ZVt2aWV3X3R5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHN5eXhfY2NfdWlfbWFuYWdlciBwcmVmYWIgaXMgbG9hZGluZyAsIHBsZWFzZSB3YWl0XCIsIHZpZXdfcGF0aClcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9wcmVmYWJfbG9hZGluZ19zdGF0ZVt2aWV3X3R5cGVdID0gdHJ1ZVxyXG5cclxuICAgICAgICAgICAgc3l5eF9zZGtfdXRpbHMubG9hZF9yZXNvdXJjZSh2aWV3X3BhdGgsIGZ1bmN0aW9uIChwcmVmYWIpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuX3ByZWZhYl9sb2FkaW5nX3N0YXRlW3ZpZXdfdHlwZV0gPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgbGV0IHByZWZhYjEgPSBjYy5pbnN0YW50aWF0ZShwcmVmYWIpXHJcbiAgICAgICAgICAgICAgICBsZXQgdmlldzEgPSBwcmVmYWIxLmdldENvbXBvbmVudChzZWxmLmdldF9wcmVmYWJfY2xhc3Modmlld190eXBlKSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgc2VsZi5fcHJlZmFiX3ZpZXdbdmlld190eXBlXSA9IHZpZXcxXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWdbdmlld190eXBlXS5jb2Nvc19hdXRvX3NjYWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3l5eF9zZGtfdXRpbHMuc2V0X2RlZmF1bHRfc2NhbGUodmlldzEpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBzZWxmLl9sb2FkX2NhbGxfYmFja19saXN0W3ZpZXdfdHlwZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+mhuuW6j+aJp+ihjGNhbGxfYmNha+Wbnuiwg1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2xvYWRfY2FsbF9iYWNrX2xpc3Rbdmlld190eXBlXVtpXSAmJiBzZWxmLl9sb2FkX2NhbGxfYmFja19saXN0W3ZpZXdfdHlwZV1baV0odmlldzEpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZWxmLl9sb2FkX2NhbGxfYmFja19saXN0W3ZpZXdfdHlwZV0gPSBbXVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBzeXl4X2NjX3VpX21hbm1hZ2VyIGxvYWQgcHJlZmFiXCIsIHZpZXdfcGF0aClcclxuICAgICAgICAgICAgfSwgc2VsZiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fcHJlZmFiX2xvYWRpbmdfc3RhdGVbdmlld190eXBlXSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHN5eXhfY2NfdWlfbWFubWFnZXIgbG9hZCBwcmVmYWIgZmFpbGVkISFcIiwgdmlld19wYXRoKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5fbG9hZF9jYWxsX2JhY2tfbGlzdFt2aWV3X3R5cGVdID0gW11cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOagueaNrnZpZXdUeXBl6I635Y+WcGF0aFxyXG4gICAgKiBAcGFyYW0gdmlld1R5cGUgXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGdldF9wcmVmYWJfcGF0aCh2aWV3X3R5cGUpIHtcclxuICAgICAgICBzd2l0Y2ggKHZpZXdfdHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIHN5eXhfdmlldy5uYXRpdmVfYmFubmVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN5eXhfcHJlZmFiX3BhdGgubmF0aXZlX2Jhbm5lclxyXG4gICAgICAgICAgICBjYXNlIHN5eXhfdmlldy5pbnRlcnN0aXRpYWw6XHJcbiAgICAgICAgICAgICAgICBpZiAoY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLmhlaWdodCA+IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzeXl4X3ByZWZhYl9wYXRoLmludGVyc3RpdGlhbFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3l5eF9wcmVmYWJfcGF0aC5pbnRlcnN0aXRpYWxfaFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIHN5eXhfdmlldy5pbm5lcl9pbnRlcnN0aXRpYWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3l5eF9wcmVmYWJfcGF0aC5pbm5lcl9pbnRlcnN0aXRpYWxcclxuICAgICAgICAgICAgY2FzZSBzeXl4X3ZpZXcuaW5uZXJfaW50ZXJzdGl0aWFsX2JuOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN5eXhfcHJlZmFiX3BhdGguaW5uZXJfaW50ZXJzdGl0aWFsX2JuXHJcbiAgICAgICAgICAgIGNhc2Ugc3l5eF92aWV3Lm5hdGl2ZV9pY29uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN5eXhfcHJlZmFiX3BhdGgubmF0aXZlX2ljb25cclxuICAgICAgICAgICAgY2FzZSBzeXl4X3ZpZXcudG9hc3Q6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3l5eF9wcmVmYWJfcGF0aC50b2FzdFxyXG4gICAgICAgICAgICBjYXNlIHN5eXhfdmlldy5jdHJfdGVzdDpcclxuICAgICAgICAgICAgICAgIGlmIChjYy52aWV3LmdldFZpc2libGVTaXplKCkuaGVpZ2h0ID4gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN5eXhfcHJlZmFiX3BhdGguY3RyX3Rlc3RcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN5eXhfcHJlZmFiX3BhdGguY3RyX3Rlc3RfaFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLWdldF9wcmVmYWJfcGF0aCBmYWlsXCIsIHZpZXdfdHlwZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDmoLnmja52aWV3VHlwZeiOt+WPlnBhdGhcclxuICAgICogQHBhcmFtIHZpZXdUeXBlIFxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBnZXRfcHJlZmFiX2NsYXNzKHZpZXdfdHlwZSkge1xyXG4gICAgICAgIHN3aXRjaCAodmlld190eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2Ugc3l5eF92aWV3Lm5hdGl2ZV9iYW5uZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3l5eF91aV9iYW5uZXJcclxuICAgICAgICAgICAgY2FzZSBzeXl4X3ZpZXcuaW50ZXJzdGl0aWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN5eXhfdWlfaW50ZXJzdGl0aWFsXHJcbiAgICAgICAgICAgIGNhc2Ugc3l5eF92aWV3LmlubmVyX2ludGVyc3RpdGlhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBzeXl4X3VpX2lubmVyX2ludGVyc3RpdGlhbFxyXG4gICAgICAgICAgICAgICAgY2FzZSBzeXl4X3ZpZXcuaW5uZXJfaW50ZXJzdGl0aWFsX2JuOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzeXl4X3VpX2lubmVyX2ludGVyc3RpdGlhbFxyXG4gICAgICAgICAgICBjYXNlIHN5eXhfdmlldy5uYXRpdmVfaWNvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBzeXl4X3VpX25hdGl2ZV9pY29uXHJcbiAgICAgICAgICAgIGNhc2Ugc3l5eF92aWV3LnRvYXN0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN5eXhfdWlfdG9hc3RcclxuICAgICAgICAgICAgY2FzZSBzeXl4X3ZpZXcuY3RyX3Rlc3Q6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3l5eF91aV9jdHJcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS1nZXRfcHJlZmFiX3BhdGggZmFpbFwiLCB2aWV3X3R5cGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/utils/syyx_api.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3fc16rAqjNEub4MPr/nriNb', 'syyx_api');
// syyx_sdk/utils/syyx_api.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.syyx_api_request = void 0;
var syyx_sdk_config_1 = require("../configs/syyx_sdk_config");
var syyx_api_request = /** @class */ (function () {
    function syyx_api_request() {
    }
    syyx_api_request.apiPost = function (type, url, reqData, callback) {
        if (type == 'da_dot') {
            reqData.game = syyx_sdk_config_1.syyx_const.guobao_init_game;
            reqData.version = syyx_sdk_config_1.syyx_const.version;
            var ts = new Date().getTime();
            reqData.ts = ts;
            var sign = window['md5'](ts.toString().substr(9, 4) + syyx_sdk_config_1.syyx_const.guobao_init_game.substr(0, 2) + syyx_sdk_config_1.syyx_const.version.substr(0, 1) + syyx_sdk_config_1.syyx_const.md5_key);
            reqData.sign = sign.toLowerCase();
        }
        //1.拼接请求参数
        var param = "";
        for (var item in reqData) {
            var value = typeof reqData[item] === 'object' && reqData[item] !== null ? JSON.stringify(reqData[item]) : reqData[item];
            param += item + "=" + value + "&";
        }
        //2.发起请求
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4) {
                if (xhr.status >= 200 && xhr.status < 400) {
                    var response = xhr.responseText;
                    if (response) {
                        var responseJson = JSON.parse(response);
                        callback(responseJson);
                    }
                    else {
                        callback(null);
                    }
                }
                else {
                    callback(null);
                }
            }
        };
        xhr.onabort = xhr.onerror = xhr.ontimeout = function () {
            callback(null);
        };
        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        xhr.send(param); //reqData为字符串形式： "key=value"
    };
    return syyx_api_request;
}());
exports.syyx_api_request = syyx_api_request;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXHV0aWxzXFxzeXl4X2FwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw4REFBd0Q7QUFFeEQ7SUFBQTtJQWdEQSxDQUFDO0lBOUNVLHdCQUFPLEdBQWQsVUFBZSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxRQUFRO1FBRXZDLElBQUcsSUFBSSxJQUFJLFFBQVEsRUFBRTtZQUNuQixPQUFPLENBQUMsSUFBSSxHQUFHLDRCQUFVLENBQUMsZ0JBQWdCLENBQUE7WUFDMUMsT0FBTyxDQUFDLE9BQU8sR0FBRyw0QkFBVSxDQUFDLE9BQU8sQ0FBQTtZQUNwQyxJQUFJLEVBQUUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQzlCLE9BQU8sQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ2hCLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyw0QkFBVSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsNEJBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyw0QkFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3ZKLE9BQU8sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ25DO1FBRUQsVUFBVTtRQUNWLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNmLEtBQUssSUFBSSxJQUFJLElBQUksT0FBTyxFQUFFO1lBQ3RCLElBQUksS0FBSyxHQUFHLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLFFBQVEsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDeEgsS0FBSyxJQUFJLElBQUksR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQztTQUNyQztRQUNELFFBQVE7UUFDUixJQUFJLEdBQUcsR0FBRyxJQUFJLGNBQWMsRUFBRSxDQUFDO1FBQy9CLEdBQUcsQ0FBQyxrQkFBa0IsR0FBRztZQUNyQixJQUFJLEdBQUcsQ0FBQyxVQUFVLElBQUksQ0FBQyxFQUFFO2dCQUNyQixJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxFQUFFO29CQUN2QyxJQUFJLFFBQVEsR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDO29CQUVoQyxJQUFJLFFBQVEsRUFBRTt3QkFDVixJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUN4QyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUM7cUJBQzFCO3lCQUNJO3dCQUNELFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztxQkFDbEI7aUJBQ0o7cUJBQ0k7b0JBQ0QsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNsQjthQUNKO1FBQ0wsQ0FBQyxDQUFDO1FBQ0YsR0FBRyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxTQUFTLEdBQUc7WUFDeEMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25CLENBQUMsQ0FBQztRQUVGLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1QixHQUFHLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxFQUFFLG1DQUFtQyxDQUFDLENBQUM7UUFDMUUsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLDRCQUE0QjtJQUNqRCxDQUFDO0lBRUwsdUJBQUM7QUFBRCxDQWhEQSxBQWdEQyxJQUFBO0FBaERZLDRDQUFnQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN5eXhfY29uc3QgfSBmcm9tIFwiLi4vY29uZmlncy9zeXl4X3Nka19jb25maWdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBzeXl4X2FwaV9yZXF1ZXN0IHtcclxuXHJcbiAgICBzdGF0aWMgYXBpUG9zdCh0eXBlLCB1cmwsIHJlcURhdGEsIGNhbGxiYWNrKSB7XHJcblxyXG4gICAgICAgIGlmKHR5cGUgPT0gJ2RhX2RvdCcpIHtcclxuICAgICAgICAgIHJlcURhdGEuZ2FtZSA9IHN5eXhfY29uc3QuZ3VvYmFvX2luaXRfZ2FtZVxyXG4gICAgICAgICAgcmVxRGF0YS52ZXJzaW9uID0gc3l5eF9jb25zdC52ZXJzaW9uXHJcbiAgICAgICAgICB2YXIgdHMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgIHJlcURhdGEudHMgPSB0cztcclxuICAgICAgICAgIGxldCBzaWduID0gd2luZG93WydtZDUnXSh0cy50b1N0cmluZygpLnN1YnN0cig5LCA0KSArIHN5eXhfY29uc3QuZ3VvYmFvX2luaXRfZ2FtZS5zdWJzdHIoMCwgMikgKyBzeXl4X2NvbnN0LnZlcnNpb24uc3Vic3RyKDAsIDEpICsgc3l5eF9jb25zdC5tZDVfa2V5KTtcclxuICAgICAgICAgIHJlcURhdGEuc2lnbiA9IHNpZ24udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vMS7mi7zmjqXor7fmsYLlj4LmlbBcclxuICAgICAgICB2YXIgcGFyYW0gPSBcIlwiO1xyXG4gICAgICAgIGZvciAodmFyIGl0ZW0gaW4gcmVxRGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0eXBlb2YgcmVxRGF0YVtpdGVtXSA9PT0gJ29iamVjdCcgJiYgcmVxRGF0YVtpdGVtXSAhPT0gbnVsbCA/IEpTT04uc3RyaW5naWZ5KHJlcURhdGFbaXRlbV0pIDogcmVxRGF0YVtpdGVtXTtcclxuICAgICAgICAgICAgcGFyYW0gKz0gaXRlbSArIFwiPVwiICsgdmFsdWUgKyBcIiZcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8yLuWPkei1t+ivt+axglxyXG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCA0MDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSB4aHIucmVzcG9uc2VUZXh0O1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VKc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlSnNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgeGhyLm9uYWJvcnQgPSB4aHIub25lcnJvciA9IHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCB1cmwsIHRydWUpO1xyXG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpO1xyXG4gICAgICAgIHhoci5zZW5kKHBhcmFtKTsgLy9yZXFEYXRh5Li65a2X56ym5Liy5b2i5byP77yaIFwia2V5PXZhbHVlXCJcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/UIPrivacy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ff1f5Wp8KpH3rpTWjh7NokH', 'UIPrivacy');
// scripts/UIPrivacy.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var data_1 = require("./sdk/data");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIPrivacy = /** @class */ (function (_super) {
    __extends(UIPrivacy, _super);
    function UIPrivacy() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.BackBtn = null; //返回
        _this.OKBtn = null; //直接领取    
        _this.ScaleNode = null;
        return _this;
    }
    UIPrivacy_1 = UIPrivacy;
    UIPrivacy.prototype.onLoad = function () {
        this._onLoad();
    };
    UIPrivacy.prototype._onLoad = function () {
        // this.BackBtn = cc.find("ScaleNode/BackBtn",this.node);        
        // this.OKBtn = cc.find("ScaleNode/OKBtn",this.node);
        this.ScaleNode = cc.find("ScaleNode", this.node);
        this._start();
    };
    UIPrivacy.prototype._start = function () {
        // this.OKBtn.on(cc.Node.EventType.TOUCH_END, this.OneceGet, this);
        // this.BackBtn.on(cc.Node.EventType.TOUCH_END, this.Back, this);
        this.onOpen();
    };
    UIPrivacy.prototype.onOpen = function () {
        this.ScaleNode.scale = 0;
        this.tweeNode(this.ScaleNode);
    };
    UIPrivacy.prototype.tweeNode = function (node) {
        cc.tween(node)
            .to(0.3, { scale: 1 }, { easing: "backOut" })
            .start();
    };
    /**
     * 直接领取
     */
    UIPrivacy.prototype.OneceGet = function () {
        data_1.data.setPrivacyOn(true);
        if (UIPrivacy_1.okbtn_callback) {
            UIPrivacy_1.okbtn_callback();
        }
        this.close();
    };
    /**
     * 返回
     */
    UIPrivacy.prototype.Back = function () {
        data_1.data.setPrivacyOn(false);
        // this.close();
        try {
            //@ts-ignore
            qg.exitApplication({
                success: function () {
                    console.log("退出成功！");
                },
                fail: function () {
                    console.log("退出失败！");
                },
                complete: function () {
                    console.log("退出执行完成！");
                }
            });
        }
        catch (error) {
            cc.log("GameExit erro:", JSON.stringify(error));
        }
    };
    UIPrivacy.prototype.close = function () {
        cc.game.targetOff(this);
        this.node.destroy();
    };
    UIPrivacy.prototype.onDestroy = function () {
        cc.game.targetOff(this);
    };
    UIPrivacy.ShowPanel = function (callback) {
        if (callback === void 0) { callback = null; }
        {
            if (UIPrivacy_1.isShow) {
                return;
            }
            UIPrivacy_1.isShow = true;
            UIPrivacy_1.okbtn_callback = null;
            cc.loader.loadRes("prefabs/ui/UIPrivacy", cc.Prefab, function (error, resource) {
                UIPrivacy_1.isShow = false;
                if (callback) {
                    UIPrivacy_1.okbtn_callback = callback;
                }
                if (error) {
                    cc.error(error);
                    return;
                }
                if (resource) {
                    var node = cc.instantiate(resource);
                    if (node) {
                        cc.find("Canvas").addChild(node);
                        node.active = true;
                        node.position = cc.Vec3.ZERO;
                    }
                }
            });
        }
    };
    var UIPrivacy_1;
    UIPrivacy.native_have_show = false; // 原生结banner展示
    UIPrivacy.isShow = false;
    UIPrivacy.okbtn_callback = null;
    UIPrivacy = UIPrivacy_1 = __decorate([
        ccclass
    ], UIPrivacy);
    return UIPrivacy;
}(cc.Component));
exports.default = UIPrivacy;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcVUlQcml2YWN5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1DQUFrQztBQUc1QixJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQWdIQztRQTlHVyxhQUFPLEdBQVksSUFBSSxDQUFDLENBQUEsSUFBSTtRQUU1QixXQUFLLEdBQVksSUFBSSxDQUFDLENBQUEsVUFBVTtRQUVoQyxlQUFTLEdBQVksSUFBSSxDQUFDOztJQTBHdEMsQ0FBQztrQkFoSG9CLFNBQVM7SUFVMUIsMEJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUNsQixDQUFDO0lBRU8sMkJBQU8sR0FBZjtRQUNJLGlFQUFpRTtRQUNqRSxxREFBcUQ7UUFDckQsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBRWxCLENBQUM7SUFFTywwQkFBTSxHQUFkO1FBQ0ksbUVBQW1FO1FBQ25FLGlFQUFpRTtRQUVqRSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUE7SUFDakIsQ0FBQztJQUNTLDBCQUFNLEdBQWhCO1FBQ0ksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFTSw0QkFBUSxHQUFmLFVBQWdCLElBQWE7UUFDekIsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7YUFDVCxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxF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QztDQWhIRCxBQWdIQyxDQWhIc0MsRUFBRSxDQUFDLFNBQVMsR0FnSGxEO2tCQWhIb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRhdGEgfSBmcm9tIFwiLi9zZGsvZGF0YVwiO1xuXG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSVByaXZhY3kgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgcHJpdmF0ZSBCYWNrQnRuOiBjYy5Ob2RlID0gbnVsbDsvL+i/lOWbnlxuICAgIFxuICAgIHByaXZhdGUgT0tCdG46IGNjLk5vZGUgPSBudWxsOy8v55u05o6l6aKG5Y+WICAgIFxuICAgIFxuICAgIHByaXZhdGUgU2NhbGVOb2RlOiBjYy5Ob2RlID0gbnVsbDtcblxuICAgIHN0YXRpYyBuYXRpdmVfaGF2ZV9zaG93OiBib29sZWFuID0gZmFsc2U7ICAvLyDljp/nlJ/nu5NiYW5uZXLlsZXnpLpcblxuICAgIG9uTG9hZCgpe1xuICAgICAgICB0aGlzLl9vbkxvYWQoKVxuICAgIH1cblxuICAgIHByaXZhdGUgX29uTG9hZCgpIHtcbiAgICAgICAgLy8gdGhpcy5CYWNrQnRuID0gY2MuZmluZChcIlNjYWxlTm9kZS9CYWNrQnRuXCIsdGhpcy5ub2RlKTsgICAgICAgIFxuICAgICAgICAvLyB0aGlzLk9LQnRuID0gY2MuZmluZChcIlNjYWxlTm9kZS9PS0J0blwiLHRoaXMubm9kZSk7XG4gICAgICAgIHRoaXMuU2NhbGVOb2RlID0gY2MuZmluZChcIlNjYWxlTm9kZVwiLHRoaXMubm9kZSk7XG4gICAgICAgIHRoaXMuX3N0YXJ0KCk7XG4gICAgICBcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zdGFydCgpIHsgICAgICAgIFxuICAgICAgICAvLyB0aGlzLk9LQnRuLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5PbmVjZUdldCwgdGhpcyk7XG4gICAgICAgIC8vIHRoaXMuQmFja0J0bi5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMuQmFjaywgdGhpcyk7XG4gICAgICBcbiAgICAgICAgdGhpcy5vbk9wZW4oKVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgb25PcGVuKCkge1xuICAgICAgICB0aGlzLlNjYWxlTm9kZS5zY2FsZSA9IDA7XG4gICAgICAgIHRoaXMudHdlZU5vZGUodGhpcy5TY2FsZU5vZGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0d2VlTm9kZShub2RlOiBjYy5Ob2RlKSB7XG4gICAgICAgIGNjLnR3ZWVuKG5vZGUpXG4gICAgICAgICAgICAudG8oMC4zLCB7IHNjYWxlOiAxIH0sIHsgZWFzaW5nOiBcImJhY2tPdXRcIiB9KVxuICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOebtOaOpemihuWPllxuICAgICAqL1xuICAgICBPbmVjZUdldCgpIHtcbiAgICAgICAgZGF0YS5zZXRQcml2YWN5T24odHJ1ZSlcbiAgICAgICAgaWYgKFVJUHJpdmFjeS5va2J0bl9jYWxsYmFjayl7XG4gICAgICAgICAgICBVSVByaXZhY3kub2tidG5fY2FsbGJhY2soKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDov5Tlm55cbiAgICAgKi9cbiAgICAgQmFjaygpIHtcbiAgICAgICAgZGF0YS5zZXRQcml2YWN5T24oZmFsc2UpICAgXG4gICAgICAgIC8vIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgcWcuZXhpdEFwcGxpY2F0aW9uKHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6YCA5Ye65oiQ5Yqf77yBXCIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIumAgOWHuuWksei0pe+8gVwiKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6YCA5Ye65omn6KGM5a6M5oiQ77yBXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY2MubG9nKFwiR2FtZUV4aXQgZXJybzpcIiwgSlNPTi5zdHJpbmdpZnkoZXJyb3IpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBjbG9zZSgpIHtcbiAgICAgICAgY2MuZ2FtZS50YXJnZXRPZmYodGhpcyk7XG4gICAgICAgIHRoaXMubm9kZS5kZXN0cm95KClcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25EZXN0cm95KCkge1xuICAgICAgICBjYy5nYW1lLnRhcmdldE9mZih0aGlzKTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBpc1Nob3c6Ym9vbGVhbiA9IGZhbHNlXG4gICAgc3RhdGljIG9rYnRuX2NhbGxiYWNrOkZ1bmN0aW9uICA9IG51bGxcbiAgICAgICAgICAgIFxuICAgIHB1YmxpYyBzdGF0aWMgU2hvd1BhbmVsKGNhbGxiYWNrOiBGdW5jdGlvbiA9IG51bGwpIHtcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKFVJUHJpdmFjeS5pc1Nob3cpe1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVUlQcml2YWN5LmlzU2hvdyA9IHRydWVcbiAgICAgICAgICAgIFVJUHJpdmFjeS5va2J0bl9jYWxsYmFjayA9IG51bGxcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKFwicHJlZmFicy91aS9VSVByaXZhY3lcIiwgY2MuUHJlZmFiLCAoZXJyb3I6RXJyb3IsIHJlc291cmNlOmNjLlByZWZhYikgPT4ge1xuICAgICAgICAgICAgICAgIFVJUHJpdmFjeS5pc1Nob3cgPSBmYWxzZVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBVSVByaXZhY3kub2tidG5fY2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY2MuZXJyb3IoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGU6IGNjLk5vZGUgPSBjYy5pbnN0YW50aWF0ZShyZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5maW5kKFwiQ2FudmFzXCIpLmFkZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wb3NpdGlvbiA9IGNjLlZlYzMuWkVSTztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/on/mEventMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bc5a2yLCYdAIr02rKaNGft3', 'mEventMgr');
// framework/on/mEventMgr.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mEMgr = void 0;
var mEvent_1 = require("./mEvent");
var TAG = 'mEventMgr.ts';
var mEventMgr = /** @class */ (function () {
    /** 构造函数 */
    function mEventMgr() {
        /** 事件Item */
        this._eventList = null;
        this._eventList = new Map();
    }
    mEventMgr.getInstance = function () {
        if (mEventMgr._Instance == null) {
            mEventMgr._Instance = new mEventMgr();
        }
        return mEventMgr._Instance;
    };
    /**
     * 自定义一个事件监听
     * @param eventName 事件名称
     * @param callback 事件回调
     * @param target 监听对象
     * @returns
     */
    mEventMgr.prototype.on = function (eventName, callback, target) {
        // 获取事件监听集合
        var array = this._eventList.get(eventName);
        if (!array) {
            array = new Array();
        }
        else {
            // 检查队列中是否存在相同监听
            for (var i = 0; i < array.length; i++) {
                var element = array[i];
                if (element.callback === callback && element.target === target) {
                    console.log(TAG, '已存在相同的监听事件');
                    return;
                }
            }
        }
        // 添加一个事件到派送队列
        var data = new mEvent_1.default();
        data.name = eventName;
        data.callback = callback;
        data.target = target;
        array.push(data);
        this._eventList.set(eventName, array);
    };
    /**
     * 取消一个事件的监听
     * @param eventName 事件名称
     * @param callback 事件回调
     * @param target 监听对象
     * @returns void
     */
    mEventMgr.prototype.off = function (eventName, callback, target) {
        var array = this._eventList.get(eventName);
        if (!array) {
            console.log(TAG, '事件队列为空');
            return;
        }
        else {
            for (var i = array.length - 1; i >= 0; i--) {
                var element = array[i];
                if (element.callback === callback && element.target === target) {
                    array.splice(i, 1);
                    console.log('release event:' + eventName);
                }
            }
        }
    };
    /**
     * 派送指定事件
     * @param eventName 事件名称
     * @param args 事件派送时传递的参数
     */
    mEventMgr.prototype.emit = function (eventName) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var array = this._eventList.get(eventName);
        if (!array) {
            console.log(TAG, "\u6CA1\u6709\u76F8\u5173\u76D1\u542C\u4E8B\u4EF6:" + eventName);
            return;
        }
        else {
            for (var i = array.length - 1; i >= 0; i--) {
                var element = array[i];
                if (element.callback && element.target) {
                    element.callback.apply(element.target, args);
                }
            }
        }
    };
    mEventMgr._Instance = null;
    return mEventMgr;
}());
/** 输出一个事件管理器 */
exports.mEMgr = mEventMgr.getInstance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxvblxcbUV2ZW50TWdyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1DQUE4QjtBQUM5QixJQUFNLEdBQUcsR0FBRyxjQUFjLENBQUM7QUFDM0I7SUFVSSxXQUFXO0lBQ1g7UUFIQSxhQUFhO1FBQ0wsZUFBVSxHQUErQixJQUFJLENBQUM7UUFHbEQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLEdBQUcsRUFBeUIsQ0FBQztJQUN2RCxDQUFDO0lBWE0scUJBQVcsR0FBbEI7UUFDSSxJQUFJLFNBQVMsQ0FBQyxTQUFTLElBQUksSUFBSSxFQUFFO1lBQzdCLFNBQVMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxTQUFTLEVBQUUsQ0FBQztTQUN6QztRQUNELE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQztJQUMvQixDQUFDO0lBT0Q7Ozs7OztPQU1HO0lBQ0ksc0JBQUUsR0FBVCxVQUFVLFNBQWlCLEVBQUUsUUFBa0IsRUFBRSxNQUFXO1FBQ3hELFdBQVc7UUFDWCxJQUFJLEtBQUssR0FBa0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNSLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBVSxDQUFDO1NBQy9CO2FBQU07WUFDSCxnQkFBZ0I7WUFDaEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ25DLElBQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekIsSUFBSSxPQUFPLENBQUMsUUFBUSxLQUFLLFFBQVEsSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLE1BQU0sRUFBRTtvQkFDNUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLENBQUM7b0JBQy9CLE9BQU87aUJBQ1Y7YUFDSjtTQUNKO1FBQ0QsY0FBYztRQUNkLElBQU0sSUFBSSxHQUFHLElBQUksZ0JBQU0sRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFDRDs7Ozs7O09BTUc7SUFDSSx1QkFBRyxHQUFWLFVBQVcsU0FBaUIsRUFBRSxRQUFrQixFQUFFLE1BQVc7UUFDekQsSUFBSSxLQUFLLEdBQWtCLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDUixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUMzQixPQUFPO1NBQ1Y7YUFBTTtZQUNILEtBQUssSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDeEMsSUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN6QixJQUFJLE9BQU8sQ0FBQyxRQUFRLEtBQUssUUFBUSxJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssTUFBTSxFQUFFO29CQUM1RCxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFDbkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTLENBQUMsQ0FBQztpQkFDN0M7YUFDSjtTQUNKO0lBQ0wsQ0FBQztJQUNEOzs7O09BSUc7SUFDSSx3QkFBSSxHQUFYLFVBQVksU0FBaUI7UUFBRSxjQUFZO2FBQVosVUFBWSxFQUFaLHFCQUFZLEVBQVosSUFBWTtZQUFaLDZCQUFZOztRQUN2QyxJQUFJLEtBQUssR0FBa0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNSLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLHNEQUFZLFNBQVcsQ0FBQyxDQUFDO1lBQzFDLE9BQU87U0FDVjthQUFNO1lBQ0gsS0FBSyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUN4QyxJQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksT0FBTyxDQUFDLFFBQVEsSUFBSSxPQUFPLENBQUMsTUFBTSxFQUFFO29CQUNwQyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO2lCQUNoRDthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBbkZjLG1CQUFTLEdBQWMsSUFBSSxDQUFDO0lBb0YvQyxnQkFBQztDQXJGRCxBQXFGQyxJQUFBO0FBQ0QsZ0JBQWdCO0FBQ0gsUUFBQSxLQUFLLEdBQUcsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1FdmVudCBmcm9tIFwiLi9tRXZlbnRcIjtcbmNvbnN0IFRBRyA9ICdtRXZlbnRNZ3IudHMnO1xuY2xhc3MgbUV2ZW50TWdyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBfSW5zdGFuY2U6IG1FdmVudE1nciA9IG51bGw7XG4gICAgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICBpZiAobUV2ZW50TWdyLl9JbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBtRXZlbnRNZ3IuX0luc3RhbmNlID0gbmV3IG1FdmVudE1ncigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtRXZlbnRNZ3IuX0luc3RhbmNlO1xuICAgIH1cbiAgICAvKiog5LqL5Lu2SXRlbSAqL1xuICAgIHByaXZhdGUgX2V2ZW50TGlzdDogTWFwPHN0cmluZywgQXJyYXk8bUV2ZW50Pj4gPSBudWxsO1xuICAgIC8qKiDmnoTpgKDlh73mlbAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRMaXN0ID0gbmV3IE1hcDxzdHJpbmcsIEFycmF5PG1FdmVudD4+KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOiHquWumuS5ieS4gOS4quS6i+S7tuebkeWQrFxuICAgICAqIEBwYXJhbSBldmVudE5hbWUg5LqL5Lu25ZCN56ewXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIOS6i+S7tuWbnuiwg1xuICAgICAqIEBwYXJhbSB0YXJnZXQg55uR5ZCs5a+56LGhXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHVibGljIG9uKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24sIHRhcmdldDogYW55KSB7XG4gICAgICAgIC8vIOiOt+WPluS6i+S7tuebkeWQrOmbhuWQiFxuICAgICAgICBsZXQgYXJyYXk6IEFycmF5PG1FdmVudD4gPSB0aGlzLl9ldmVudExpc3QuZ2V0KGV2ZW50TmFtZSk7XG4gICAgICAgIGlmICghYXJyYXkpIHtcbiAgICAgICAgICAgIGFycmF5ID0gbmV3IEFycmF5PG1FdmVudD4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIOajgOafpemYn+WIl+S4reaYr+WQpuWtmOWcqOebuOWQjOebkeWQrFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBhcnJheVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jYWxsYmFjayA9PT0gY2FsbGJhY2sgJiYgZWxlbWVudC50YXJnZXQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsICflt7LlrZjlnKjnm7jlkIznmoTnm5HlkKzkuovku7YnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyDmt7vliqDkuIDkuKrkuovku7bliLDmtL7pgIHpmJ/liJdcbiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBtRXZlbnQoKTtcbiAgICAgICAgZGF0YS5uYW1lID0gZXZlbnROYW1lO1xuICAgICAgICBkYXRhLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIGRhdGEudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBhcnJheS5wdXNoKGRhdGEpO1xuICAgICAgICB0aGlzLl9ldmVudExpc3Quc2V0KGV2ZW50TmFtZSwgYXJyYXkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDlj5bmtojkuIDkuKrkuovku7bnmoTnm5HlkKxcbiAgICAgKiBAcGFyYW0gZXZlbnROYW1lIOS6i+S7tuWQjeensFxuICAgICAqIEBwYXJhbSBjYWxsYmFjayDkuovku7blm57osINcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IOebkeWQrOWvueixoVxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgb2ZmKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24sIHRhcmdldDogYW55KSB7XG4gICAgICAgIGxldCBhcnJheTogQXJyYXk8bUV2ZW50PiA9IHRoaXMuX2V2ZW50TGlzdC5nZXQoZXZlbnROYW1lKTtcbiAgICAgICAgaWYgKCFhcnJheSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCAn5LqL5Lu26Zif5YiX5Li656m6Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gYXJyYXlbaV07XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2FsbGJhY2sgPT09IGNhbGxiYWNrICYmIGVsZW1lbnQudGFyZ2V0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVsZWFzZSBldmVudDonICsgZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog5rS+6YCB5oyH5a6a5LqL5Lu2XG4gICAgICogQHBhcmFtIGV2ZW50TmFtZSDkuovku7blkI3np7BcbiAgICAgKiBAcGFyYW0gYXJncyDkuovku7bmtL7pgIHml7bkvKDpgJLnmoTlj4LmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZW1pdChldmVudE5hbWU6IHN0cmluZywgLi4uYXJnczogYW55KSB7XG4gICAgICAgIGxldCBhcnJheTogQXJyYXk8bUV2ZW50PiA9IHRoaXMuX2V2ZW50TGlzdC5nZXQoZXZlbnROYW1lKTtcbiAgICAgICAgaWYgKCFhcnJheSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBg5rKh5pyJ55u45YWz55uR5ZCs5LqL5Lu2OiR7ZXZlbnROYW1lfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGFycmF5W2ldO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNhbGxiYWNrICYmIGVsZW1lbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2FsbGJhY2suYXBwbHkoZWxlbWVudC50YXJnZXQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKiDovpPlh7rkuIDkuKrkuovku7bnrqHnkIblmaggKi9cbmV4cG9ydCBjb25zdCBtRU1nciA9IG1FdmVudE1nci5nZXRJbnN0YW5jZSgpO1xuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/export_sdk.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '75e8aIgoh1OSp7kQoP30AQL', 'export_sdk');
// syyx_sdk/export_sdk.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Export = void 0;
var syyx_sdk_api_1 = require("../syyx_sdk/syyx_sdk_api");
var Export = /** @class */ (function () {
    function Export() {
    }
    /**
     * 预加载原生广告每显示一次就要加载一次，
     * 包括原生banner、原生结算（YSBN/YSJS）"10304001"/"10302001"
     */
    Export.preload_YSAD = function (adid) {
        console.log('preload_YSAD----------------');
        var native_banner_open_switch = syyx_sdk_api_1.syyx_sdk_api.get_business_data_by_key("native_banner_open_switch");
        if (native_banner_open_switch) {
            //进行操作 data[0] == 1 时开启 ，data[0] == 0时关闭
            if (native_banner_open_switch[0] == 1) { // 开启
                syyx_sdk_api_1.syyx_sdk_api.preload_native_inner_interstitial(adid, function onLoad(param, res) {
                    console.log("igc-----show show_native on_load-----------------111:" + JSON.stringify(res));
                }, function onShow() {
                    console.log("igc-----show show_native onShow");
                }, function onClose(param, res) {
                }, function onError(param, err) {
                    console.log("预加载原生广告失败:" + JSON.stringify(err));
                });
            }
            else {
                console.log('preload_YSAD----------------no open');
            }
        }
    };
    Export.show_video = function (success_func, fail_func) {
        var video_open_switch = syyx_sdk_api_1.syyx_sdk_api.get_business_data_by_key("video_open_switch");
        if (video_open_switch && video_open_switch[0] == 1) {
            //进行操作 1 时开启 ，data[0] == 0时关闭
            syyx_sdk_api_1.syyx_sdk_api.show_video("10200001", function onLoad(param, res) {
                console.log("igc-----show show_video on_load");
            }, function onShow() {
                console.log("igc-----show show_video onShow");
            }, function onClose(param, res) {
                console.log("igc-----show show_video onClose:" + JSON.stringify(res));
                if (res.isEnded) {
                    console.log("igc---视频已看完发放奖励--需要发奖励");
                    success_func && success_func();
                }
                else {
                    console.log("igc---视频未看完");
                    syyx_sdk_api_1.syyx_sdk_api.create_toast('视频未看完');
                    fail_func && fail_func();
                }
            }, function onError(param, err) {
                console.log("igc-----show show_video onError:" + JSON.stringify(err));
            }, true);
        }
        else {
            console.log("igc---video --------no open");
        }
    };
    Export.show_native_YSAD = function (adid, parentNode, callback) {
        var native_switch_ysjs = syyx_sdk_api_1.syyx_sdk_api.get_business_data_by_key("native_inner_interstitial_switch");
        if (native_switch_ysjs && native_switch_ysjs[0] == 1) {
            var native_data = syyx_sdk_api_1.syyx_sdk_api.get_local_native_data(adid);
            if (native_data) {
                console.log("igc-----加载到原生数据  可以展示------");
                //结算原生点击回调
                var click_back = function () {
                    //打点---点击结算原生
                };
                //结算原生显示回调
                var show_back = function () {
                    console.log("igc----- 结算原生已显示------");
                    callback && callback();
                };
                //结算原生隐藏回调
                var hide_back = function () {
                    console.log("igc----- 结算原生隐藏");
                };
                syyx_sdk_api_1.syyx_sdk_api.show_native_inner_interstitial(adid, //adv广告id
                cc.find(parentNode), //结算原生父节点
                click_back, show_back, hide_back);
            }
            else {
                console.log("igc-----未加载到原生数据 不展示结算原生-------");
            }
        }
    };
    /**
    * 点击了原生广告
    */
    Export.click_native_YSAD = function (type) {
        if (type == "YSBN") {
            syyx_sdk_api_1.syyx_sdk_api.click_native_banner();
        }
        else {
            syyx_sdk_api_1.syyx_sdk_api.click_native_inner_interstitial();
        }
    };
    /**
     * 结算页面隐藏或者销毁前，要调用一下
     * 结算界面销毁原生广告
     */
    Export.hide_naive_YSAD = function (preload) {
        syyx_sdk_api_1.syyx_sdk_api.hide_native_inner_interstitial();
        syyx_sdk_api_1.syyx_sdk_api.hide_native_banner();
        if (preload == 'YSBN') {
            this.preload_YSAD("10304001");
        }
        else {
            this.preload_YSAD("10302001");
        }
    };
    return Export;
}());
exports.Export = Export;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGV4cG9ydF9zZGsudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseURBQXdEO0FBRXhEO0lBQUE7SUFxSEEsQ0FBQztJQW5IRzs7O09BR0c7SUFDSyxtQkFBWSxHQUFuQixVQUFvQixJQUFJO1FBQ3JCLE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQThCLENBQUMsQ0FBQztRQUM1QyxJQUFJLHlCQUF5QixHQUFHLDJCQUFZLENBQUMsd0JBQXdCLENBQUMsMkJBQTJCLENBQUMsQ0FBQTtRQUNsRyxJQUFHLHlCQUF5QixFQUFDO1lBQ3pCLHdDQUF3QztZQUN4QyxJQUFHLHlCQUF5QixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEtBQUs7Z0JBQ3pDLDJCQUFZLENBQUMsaUNBQWlDLENBQUMsSUFBSSxFQUNuRCxTQUFTLE1BQU0sQ0FBQyxLQUFLLEVBQUUsR0FBRztvQkFDdEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1REFBdUQsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7Z0JBQzlGLENBQUMsRUFDRCxTQUFTLE1BQU07b0JBQ1gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFBO2dCQUNsRCxDQUFDLEVBQ0QsU0FBUyxPQUFPLENBQUMsS0FBSyxFQUFFLEdBQUc7Z0JBQzNCLENBQUMsRUFDRCxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRztvQkFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO2dCQUNuRCxDQUFDLENBQUMsQ0FBQTthQUNMO2lCQUFNO2dCQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMscUNBQXFDLENBQUMsQ0FBQzthQUN0RDtTQUNKO0lBQ0wsQ0FBQztJQUVNLGlCQUFVLEdBQWpCLFVBQWtCLFlBQXVCLEVBQUUsU0FB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QzthQUFNO1lBQ0gsMkJBQVksQ0FBQywrQkFBK0IsRUFBRSxDQUFBO1NBQ2pEO0lBQ0wsQ0FBQztJQUVEOzs7T0FHRztJQUNJLHNCQUFlLEdBQXRCLFVBQXVCLE9BQU87UUFDMUIsMkJBQVksQ0FBQyw4QkFBOEIsRUFBRSxDQUFDO1FBQzlDLDJCQUFZLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUNsQyxJQUFHLE9BQU8sSUFBSSxNQUFNLEVBQUU7WUFDbEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQTtTQUNoQzthQUFNO1lBQ0gsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQTtTQUNoQztJQUNMLENBQUM7SUFDTCxhQUFDO0FBQUQsQ0FySEEsQUFxSEMsSUFBQTtBQXJIWSx3QkFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN5eXhfc2RrX2FwaSB9IGZyb20gXCIuLi9zeXl4X3Nkay9zeXl4X3Nka19hcGlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFeHBvcnQge1xyXG5cclxuICAgIC8qKiBcclxuICAgICAqIOmihOWKoOi9veWOn+eUn+W5v+WRiuavj+aYvuekuuS4gOasoeWwseimgeWKoOi9veS4gOasoe+8jFxyXG4gICAgICog5YyF5ous5Y6f55SfYmFubmVy44CB5Y6f55Sf57uT566X77yIWVNCTi9ZU0pT77yJXCIxMDMwNDAwMVwiL1wiMTAzMDIwMDFcIlxyXG4gICAgICovXHJcbiAgICAgc3RhdGljIHByZWxvYWRfWVNBRChhZGlkKSB7IFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdwcmVsb2FkX1lTQUQtLS0tLS0tLS0tLS0tLS0tJyk7XHJcbiAgICAgICAgbGV0IG5hdGl2ZV9iYW5uZXJfb3Blbl9zd2l0Y2ggPSBzeXl4X3Nka19hcGkuZ2V0X2J1c2luZXNzX2RhdGFfYnlfa2V5KFwibmF0aXZlX2Jhbm5lcl9vcGVuX3N3aXRjaFwiKSBcclxuICAgICAgICBpZihuYXRpdmVfYmFubmVyX29wZW5fc3dpdGNoKXsgXHJcbiAgICAgICAgICAgIC8v6L+b6KGM5pON5L2cIGRhdGFbMF0gPT0gMSDml7blvIDlkK8g77yMZGF0YVswXSA9PSAw5pe25YWz6ZetXHJcbiAgICAgICAgICAgIGlmKG5hdGl2ZV9iYW5uZXJfb3Blbl9zd2l0Y2hbMF0gPT0gMSkgeyAvLyDlvIDlkK9cclxuICAgICAgICAgICAgICAgIHN5eXhfc2RrX2FwaS5wcmVsb2FkX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwoYWRpZCxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uTG9hZChwYXJhbSwgcmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLXNob3cgc2hvd19uYXRpdmUgb25fbG9hZC0tLS0tLS0tLS0tLS0tLS0tMTExOlwiICsgSlNPTi5zdHJpbmdpZnkocmVzKSlcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvblNob3coKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLXNob3cgc2hvd19uYXRpdmUgb25TaG93XCIpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb25DbG9zZShwYXJhbSwgcmVzKSB7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb25FcnJvcihwYXJhbSwgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLpooTliqDovb3ljp/nlJ/lub/lkYrlpLHotKU6XCIgKyBKU09OLnN0cmluZ2lmeShlcnIpKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcmVsb2FkX1lTQUQtLS0tLS0tLS0tLS0tLS0tbm8gb3BlbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaG93X3ZpZGVvKHN1Y2Nlc3NfZnVuYz86IEZ1bmN0aW9uLCBmYWlsX2Z1bmM/OiBGdW5jdGlvbikge1xyXG4gICAgICAgIGxldCB2aWRlb19vcGVuX3N3aXRjaCA9IHN5eXhfc2RrX2FwaS5nZXRfYnVzaW5lc3NfZGF0YV9ieV9rZXkoXCJ2aWRlb19vcGVuX3N3aXRjaFwiKSBcclxuICAgICAgICBpZih2aWRlb19vcGVuX3N3aXRjaCAmJiB2aWRlb19vcGVuX3N3aXRjaFswXSA9PSAxKXsgXHJcbiAgICAgICAgICAgIC8v6L+b6KGM5pON5L2cIDEg5pe25byA5ZCvIO+8jGRhdGFbMF0gPT0gMOaXtuWFs+mXrVxyXG4gICAgICAgICAgICBzeXl4X3Nka19hcGkuc2hvd192aWRlbyhcIjEwMjAwMDAxXCIsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uTG9hZChwYXJhbSwgcmVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tc2hvdyBzaG93X3ZpZGVvIG9uX2xvYWRcIilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25TaG93KCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLXNob3cgc2hvd192aWRlbyBvblNob3dcIilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25DbG9zZShwYXJhbSwgcmVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tc2hvdyBzaG93X3ZpZGVvIG9uQ2xvc2U6XCIgKyBKU09OLnN0cmluZ2lmeShyZXMpKVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5pc0VuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS3op4bpopHlt7LnnIvlrozlj5HmlL7lpZblirEtLemcgOimgeWPkeWlluWKsVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NfZnVuYyAmJiBzdWNjZXNzX2Z1bmMoKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLeinhumikeacqueci+WujFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHN5eXhfc2RrX2FwaS5jcmVhdGVfdG9hc3QoJ+inhumikeacqueci+WujCcpXHJcbiAgICAgICAgICAgICAgICAgICAgZmFpbF9mdW5jICYmIGZhaWxfZnVuYygpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uRXJyb3IocGFyYW0sIGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLXNob3cgc2hvd192aWRlbyBvbkVycm9yOlwiICsgSlNPTi5zdHJpbmdpZnkoZXJyKSlcclxuICAgICAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS12aWRlbyAtLS0tLS0tLW5vIG9wZW5cIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNob3dfbmF0aXZlX1lTQUQoYWRpZCwgcGFyZW50Tm9kZSwgY2FsbGJhY2s/OkZ1bmN0aW9uKSB7IC8vIFwiMTAzMDIwMDFcIiA9IFlTSlMgICBcIjEwMzA0MDAxXCIgPSBZU0JOXHJcbiAgICAgICAgbGV0IG5hdGl2ZV9zd2l0Y2hfeXNqcyA9IHN5eXhfc2RrX2FwaS5nZXRfYnVzaW5lc3NfZGF0YV9ieV9rZXkoXCJuYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsX3N3aXRjaFwiKSBcclxuICAgICAgICBpZihuYXRpdmVfc3dpdGNoX3lzanMgJiYgbmF0aXZlX3N3aXRjaF95c2pzWzBdID09IDEpe1xyXG4gICAgICAgICAgICBsZXQgbmF0aXZlX2RhdGEgPSBzeXl4X3Nka19hcGkuZ2V0X2xvY2FsX25hdGl2ZV9kYXRhKGFkaWQpO1xyXG4gICAgICAgICAgICBpZiAobmF0aXZlX2RhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS3liqDovb3liLDljp/nlJ/mlbDmja4gIOWPr+S7peWxleekui0tLS0tLVwiKVxyXG4gICAgICAgICAgICAgICAgLy/nu5Pnrpfljp/nlJ/ngrnlh7vlm57osINcclxuICAgICAgICAgICAgICAgIGxldCBjbGlja19iYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5omT54K5LS0t54K55Ye757uT566X5Y6f55SfXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL+e7k+eul+WOn+eUn+aYvuekuuWbnuiwg1xyXG4gICAgICAgICAgICAgICAgbGV0IHNob3dfYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIOe7k+eul+WOn+eUn+W3suaYvuekui0tLS0tLVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8v57uT566X5Y6f55Sf6ZqQ6JeP5Zue6LCDXHJcbiAgICAgICAgICAgICAgICBsZXQgaGlkZV9iYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0g57uT566X5Y6f55Sf6ZqQ6JePXCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3l5eF9zZGtfYXBpLnNob3dfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbChcclxuICAgICAgICAgICAgICAgICAgICBhZGlkLCAvL2FkduW5v+WRimlkXHJcbiAgICAgICAgICAgICAgICAgICAgY2MuZmluZChwYXJlbnROb2RlKSwgLy/nu5Pnrpfljp/nlJ/niLboioLngrlcclxuICAgICAgICAgICAgICAgICAgICBjbGlja19iYWNrLFxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dfYmFjayxcclxuICAgICAgICAgICAgICAgICAgICBoaWRlX2JhY2ssXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0t5pyq5Yqg6L295Yiw5Y6f55Sf5pWw5o2uIOS4jeWxleekuue7k+eul+WOn+eUny0tLS0tLS1cIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog54K55Ye75LqG5Y6f55Sf5bm/5ZGKXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGNsaWNrX25hdGl2ZV9ZU0FEKHR5cGUpIHtcclxuICAgICAgICBpZih0eXBlID09IFwiWVNCTlwiKSB7XHJcbiAgICAgICAgICAgIHN5eXhfc2RrX2FwaS5jbGlja19uYXRpdmVfYmFubmVyKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzeXl4X3Nka19hcGkuY2xpY2tfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57uT566X6aG16Z2i6ZqQ6JeP5oiW6ICF6ZSA5q+B5YmN77yM6KaB6LCD55So5LiA5LiLXHJcbiAgICAgKiDnu5PnrpfnlYzpnaLplIDmr4Hljp/nlJ/lub/lkYpcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGhpZGVfbmFpdmVfWVNBRChwcmVsb2FkKSB7XHJcbiAgICAgICAgc3l5eF9zZGtfYXBpLmhpZGVfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCgpO1xyXG4gICAgICAgIHN5eXhfc2RrX2FwaS5oaWRlX25hdGl2ZV9iYW5uZXIoKTtcclxuICAgICAgICBpZihwcmVsb2FkID09ICdZU0JOJykge1xyXG4gICAgICAgICAgICB0aGlzLnByZWxvYWRfWVNBRChcIjEwMzA0MDAxXCIpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wcmVsb2FkX1lTQUQoXCIxMDMwMjAwMVwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/syyx_ui/ad/syyx_ui_inner_interstitial.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b3228ltiBFCqqBz3Ily2DFg', 'syyx_ui_inner_interstitial');
// syyx_sdk/syyx_ui/ad/syyx_ui_inner_interstitial.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var syyx_sdk_enum_1 = require("../../configs/syyx_sdk_enum");
var ad_native_inner_interstitial_1 = require("../../controller/ad/ad_native_inner_interstitial");
var syyx_adv_manager_1 = require("../../controller/ad/syyx_adv_manager");
var syyx_manager_1 = require("../../controller/syyx_manager");
var syyx_sdk_api_1 = require("../../syyx_sdk_api");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var syyx_ui_inner_interstitial = /** @class */ (function (_super) {
    __extends(syyx_ui_inner_interstitial, _super);
    function syyx_ui_inner_interstitial() {
        var _this = _super.call(this) || this;
        _this.icon_close = null;
        _this.native_node = null;
        _this.lb_title = null;
        _this.lb_desc = null;
        _this.img_icon = null;
        //点击结算原生回调
        _this.click_back = undefined;
        _this.set_background_on_show();
        return _this;
    }
    syyx_ui_inner_interstitial.prototype.on_click_adv = function () {
        this.report_click();
    };
    syyx_ui_inner_interstitial.prototype.on_click_close = function () {
        var _business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (_business_config_data && _business_config_data["native_inner_institial_click_close_pro"]) {
            var trap_pro = _business_config_data["native_inner_institial_click_close_pro"].value[0]; // 0
            if (trap_pro >= 0 && Math.random() <= trap_pro) {
                this.report_click();
            }
        }
        this.hide();
    };
    /**
    * 广告被点击
    */
    syyx_ui_inner_interstitial.prototype.report_click = function () {
        if (this.native_data) {
            this.click_back && this.click_back();
            syyx_manager_1.syyx_manager.report_ad_click(syyx_sdk_enum_1.e_ad_id.native_inner_interstitial_success, this.native_data); // 10302001
            console.log("igc----- has clicked native inner interstitial");
            // this.hide()
        }
        else {
            console.log("igc----- syyx_ui_inner_interstitial report_click native_data is null!");
        }
    };
    /**
    * 广告被曝光
    */
    syyx_ui_inner_interstitial.prototype.report_show = function () {
        if (this.native_data) {
            syyx_adv_manager_1.syyx_adv_manager.report_ad_show(syyx_sdk_enum_1.e_ad_id.native_inner_interstitial_success, this.native_data); // // 10302001
        }
        else {
            console.log("igc----- syyx_ui_inner_interstitial report_show native_data is null!");
        }
    };
    syyx_ui_inner_interstitial.prototype.show = function (parent, native_data, click_back, show_back, hide_back, is_new_type) {
        if (this.node && !this.node.parent) {
            this.native_data = native_data;
            this.show_back = show_back || undefined;
            this.hide_back = hide_back || undefined;
            this.click_back = click_back || undefined;
            this.node.parent = parent;
            // console.log("回调回调。。。。。。。。")
            this.on_show();
        }
    };
    /**
    * 上报点击后  重新拉取原生数据刷新界面
    */
    syyx_ui_inner_interstitial.prototype.report_click_update_view = function (native_data) {
        if (this.node && this.node.parent) {
            this.native_data = native_data;
            this.refresh();
        }
    };
    syyx_ui_inner_interstitial.prototype.on_show = function () {
        this.icon_close.on(cc.Node.EventType.TOUCH_END, this.on_click_close, this);
        this.img_icon.node.on(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        this.refresh();
        ad_native_inner_interstitial_1.ad_native_inner_interstitial.show_count++;
        this.show_back && this.show_back();
    };
    syyx_ui_inner_interstitial.prototype.refresh = function () {
        syyx_sdk_utils_1.syyx_sdk_utils.set_texture_url(this.img_icon, this.native_data.imgUrlList, this.hide.bind(this));
        this.lb_title.string = this.native_data.title + "";
        this.lb_desc.string = this.native_data.desc + "";
        this.report_show();
    };
    syyx_ui_inner_interstitial.prototype.hide = function () {
        if (this.node && this.node.parent) {
            this.node.parent.removeChild(this.node);
            this.on_hide();
        }
    };
    syyx_ui_inner_interstitial.prototype.on_hide = function () {
        this.icon_close.off(cc.Node.EventType.TOUCH_END, this.on_click_close, this);
        this.img_icon.node.off(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        this.hide_back && this.hide_back();
    };
    syyx_ui_inner_interstitial.prototype.set_default_pos = function (style) {
    };
    syyx_ui_inner_interstitial.prototype.set_style_pos = function (x, y) {
    };
    syyx_ui_inner_interstitial.prototype.set_background_on_show = function () {
        var self = this;
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.hw_qg) {
            //后台到前台
            syyx_sdk_api_1.syyx_sdk_api.on_show(function () {
                if (self && cc.isValid(self.node)) {
                    console.log("igc----- native_inner_interstitial set_background_on_show");
                    self.report_show();
                }
            });
        }
    };
    __decorate([
        property(cc.Node)
    ], syyx_ui_inner_interstitial.prototype, "icon_close", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_inner_interstitial.prototype, "native_node", void 0);
    __decorate([
        property(cc.Label)
    ], syyx_ui_inner_interstitial.prototype, "lb_title", void 0);
    __decorate([
        property(cc.Label)
    ], syyx_ui_inner_interstitial.prototype, "lb_desc", void 0);
    __decorate([
        property(cc.Sprite)
    ], syyx_ui_inner_interstitial.prototype, "img_icon", void 0);
    syyx_ui_inner_interstitial = __decorate([
        ccclass
    ], syyx_ui_inner_interstitial);
    return syyx_ui_inner_interstitial;
}(cc.Component));
exports.default = syyx_ui_inner_interstitial;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXHN5eXhfdWlcXGFkXFxzeXl4X3VpX2lubmVyX2ludGVyc3RpdGlhbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpRUFBMkQ7QUFDM0QsNkRBQXlFO0FBQ3pFLGlHQUFnRztBQUNoRyx5RUFBd0U7QUFDeEUsOERBQTZEO0FBRTdELG1EQUFrRDtBQUNsRCw2REFBNEQ7QUFFdEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBd0QsOENBQVk7SUE2QmhFO1FBQUEsWUFDSSxpQkFBTyxTQUdWO1FBOUJELGdCQUFVLEdBQVksSUFBSSxDQUFDO1FBRzNCLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBRzVCLGNBQVEsR0FBYSxJQUFJLENBQUM7UUFHMUIsYUFBTyxHQUFhLElBQUksQ0FBQztRQUd6QixjQUFRLEdBQWMsSUFBSSxDQUFDO1FBTzNCLFVBQVU7UUFDVixnQkFBVSxHQUFhLFNBQVMsQ0FBQTtRQVM1QixLQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQTs7SUFDakMsQ0FBQztJQUVELGlEQUFZLEdBQVo7UUFDSSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUE7SUFFdkIsQ0FBQztJQUVELG1EQUFjLEdBQWQ7UUFDSSxJQUFJLHFCQUFxQixHQUFHLDJCQUFZLENBQUMsbUJBQW1CLEVBQUUsQ0FBQTtRQUM5RCxJQUFJLHFCQUFxQixJQUFJLHFCQUFxQixDQUFDLHdDQUF3QyxDQUFDLEVBQUU7WUFDMUYsSUFBSSxRQUFRLEdBQUcscUJBQXFCLENBQUMsd0NBQXdDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQyxJQUFJO1lBQzVGLElBQUksUUFBUSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksUUFBUSxFQUFFO2dCQUM1QyxJ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SUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO29CQUMvQixPQUFPLENBQUMsR0FBRyxDQUFDLDJEQUEyRCxDQUFDLENBQUE7b0JBQ3hFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQTtpQkFDckI7WUFDTCxDQUFDLENBQ0osQ0FBQTtTQUNKO0lBQ0wsQ0FBQztJQWpKRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tFQUNTO0lBRzNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7bUVBQ1U7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztnRUFDTztJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOytEQUNNO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0VBQ087SUFmViwwQkFBMEI7UUFEOUMsT0FBTztPQUNhLDBCQUEwQixDQXNKOUM7SUFBRCxpQ0FBQztDQXRKRCxBQXNKQyxDQXRKdUQsRUFBRSxDQUFDLFNBQVMsR0FzSm5FO2tCQXRKb0IsMEJBQTBCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3l5eF9jb25zdCB9IGZyb20gXCIuLi8uLi9jb25maWdzL3N5eXhfc2RrX2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBlX2FkX2lkLCBlX2FkX25hdGl2ZV9zdGF0ZSB9IGZyb20gXCIuLi8uLi9jb25maWdzL3N5eXhfc2RrX2VudW1cIjtcclxuaW1wb3J0IHsgYWRfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVyL2FkL2FkX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWxcIjtcclxuaW1wb3J0IHsgc3l5eF9hZHZfbWFuYWdlciB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVyL2FkL3N5eXhfYWR2X21hbmFnZXJcIjtcclxuaW1wb3J0IHsgc3l5eF9tYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXIvc3l5eF9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IG5hdGl2ZV9hZF9kYXRhIH0gZnJvbSBcIi4uLy4uL21vZGVsL21vZGVsXCI7XHJcbmltcG9ydCB7IHN5eXhfc2RrX2FwaSB9IGZyb20gXCIuLi8uLi9zeXl4X3Nka19hcGlcIjtcclxuaW1wb3J0IHsgc3l5eF9zZGtfdXRpbHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvc3l5eF9zZGtfdXRpbHNcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBzeXl4X3VpX2lubmVyX2ludGVyc3RpdGlhbCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBpY29uX2Nsb3NlOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIG5hdGl2ZV9ub2RlOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBsYl90aXRsZTogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGxiX2Rlc2M6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaW1nX2ljb246IGNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDljp/nlJ/lub/lkYrmlbDmja5cclxuICAgICAqL1xyXG4gICAgbmF0aXZlX2RhdGE6IG5hdGl2ZV9hZF9kYXRhXHJcblxyXG4gICAgLy/ngrnlh7vnu5Pnrpfljp/nlJ/lm57osINcclxuICAgIGNsaWNrX2JhY2s6IEZ1bmN0aW9uID0gdW5kZWZpbmVkXHJcbiAgICAvL+e7k+eul+WOn+eUn+aYvuekuuWbnuiwg1xyXG4gICAgc2hvd19iYWNrXHJcbiAgICAvL+e7k+eul+WOn+eUn+makOiXj+Wbnuiwg1xyXG4gICAgaGlkZV9iYWNrXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG5cclxuICAgICAgICB0aGlzLnNldF9iYWNrZ3JvdW5kX29uX3Nob3coKVxyXG4gICAgfVxyXG5cclxuICAgIG9uX2NsaWNrX2FkdigpIHtcclxuICAgICAgICB0aGlzLnJlcG9ydF9jbGljaygpXHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uX2NsaWNrX2Nsb3NlKCkge1xyXG4gICAgICAgIGxldCBfYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKF9idXNpbmVzc19jb25maWdfZGF0YSAmJiBfYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfaW5uZXJfaW5zdGl0aWFsX2NsaWNrX2Nsb3NlX3Byb1wiXSkge1xyXG4gICAgICAgICAgICBsZXQgdHJhcF9wcm8gPSBfYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfaW5uZXJfaW5zdGl0aWFsX2NsaWNrX2Nsb3NlX3Byb1wiXS52YWx1ZVswXSAvLyAwXHJcbiAgICAgICAgICAgIGlmICh0cmFwX3BybyA+PSAwICYmIE1hdGgucmFuZG9tKCkgPD0gdHJhcF9wcm8pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0X2NsaWNrKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog5bm/5ZGK6KKr54K55Ye7XHJcbiAgICAqL1xyXG4gICAgcmVwb3J0X2NsaWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpY2tfYmFjayAmJiB0aGlzLmNsaWNrX2JhY2soKVxyXG4gICAgICAgICAgICBzeXl4X21hbmFnZXIucmVwb3J0X2FkX2NsaWNrKGVfYWRfaWQubmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbF9zdWNjZXNzLCB0aGlzLm5hdGl2ZV9kYXRhKSAvLyAxMDMwMjAwMVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGhhcyBjbGlja2VkIG5hdGl2ZSBpbm5lciBpbnRlcnN0aXRpYWxcIilcclxuICAgICAgICAgICAgLy8gdGhpcy5oaWRlKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHN5eXhfdWlfaW5uZXJfaW50ZXJzdGl0aWFsIHJlcG9ydF9jbGljayBuYXRpdmVfZGF0YSBpcyBudWxsIVwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog5bm/5ZGK6KKr5pud5YWJXHJcbiAgICAqL1xyXG4gICAgcmVwb3J0X3Nob3coKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubmF0aXZlX2RhdGEpIHtcclxuICAgICAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5yZXBvcnRfYWRfc2hvdyhlX2FkX2lkLm5hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWxfc3VjY2VzcywgdGhpcy5uYXRpdmVfZGF0YSkgLy8gLy8gMTAzMDIwMDFcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHN5eXhfdWlfaW5uZXJfaW50ZXJzdGl0aWFsIHJlcG9ydF9zaG93IG5hdGl2ZV9kYXRhIGlzIG51bGwhXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3cocGFyZW50LCBuYXRpdmVfZGF0YSwgY2xpY2tfYmFjaz86IEZ1bmN0aW9uLCBzaG93X2JhY2s/OiBGdW5jdGlvbiwgaGlkZV9iYWNrPzogRnVuY3Rpb24sIGlzX25ld190eXBlPzogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUgJiYgIXRoaXMubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5uYXRpdmVfZGF0YSA9IG5hdGl2ZV9kYXRhXHJcbiAgICAgICAgICAgIHRoaXMuc2hvd19iYWNrID0gc2hvd19iYWNrIHx8IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICB0aGlzLmhpZGVfYmFjayA9IGhpZGVfYmFjayB8fCB1bmRlZmluZWRcclxuICAgICAgICAgICAgdGhpcy5jbGlja19iYWNrID0gY2xpY2tfYmFjayB8fCB1bmRlZmluZWRcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnBhcmVudCA9IHBhcmVudFxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuWbnuiwg+Wbnuiwg+OAguOAguOAguOAguOAguOAguOAguOAglwiKVxyXG4gICAgICAgICAgICB0aGlzLm9uX3Nob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOS4iuaKpeeCueWHu+WQjiAg6YeN5paw5ouJ5Y+W5Y6f55Sf5pWw5o2u5Yi35paw55WM6Z2iXHJcbiAgICAqL1xyXG4gICAgcmVwb3J0X2NsaWNrX3VwZGF0ZV92aWV3KG5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubm9kZSAmJiB0aGlzLm5vZGUucGFyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMubmF0aXZlX2RhdGEgPSBuYXRpdmVfZGF0YVxyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbl9zaG93KCkge1xyXG4gICAgICAgIHRoaXMuaWNvbl9jbG9zZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMub25fY2xpY2tfY2xvc2UsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5pbWdfaWNvbi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGlja19hZHYsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKClcclxuICAgICAgICBhZF9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsLnNob3dfY291bnQrK1xyXG4gICAgICAgIHRoaXMuc2hvd19iYWNrICYmIHRoaXMuc2hvd19iYWNrKClcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoKCkge1xyXG4gICAgICAgIHN5eXhfc2RrX3V0aWxzLnNldF90ZXh0dXJlX3VybCh0aGlzLmltZ19pY29uLCB0aGlzLm5hdGl2ZV9kYXRhLmltZ1VybExpc3QsIHRoaXMuaGlkZS5iaW5kKHRoaXMpKVxyXG4gICAgICAgIHRoaXMubGJfdGl0bGUuc3RyaW5nID0gdGhpcy5uYXRpdmVfZGF0YS50aXRsZSArIFwiXCJcclxuICAgICAgICB0aGlzLmxiX2Rlc2Muc3RyaW5nID0gdGhpcy5uYXRpdmVfZGF0YS5kZXNjICsgXCJcIlxyXG4gICAgICAgIHRoaXMucmVwb3J0X3Nob3coKVxyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubm9kZSAmJiB0aGlzLm5vZGUucGFyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5ub2RlKVxyXG4gICAgICAgICAgICB0aGlzLm9uX2hpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25faGlkZSgpIHtcclxuICAgICAgICB0aGlzLmljb25fY2xvc2Uub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGlja19jbG9zZSwgdGhpcylcclxuICAgICAgICB0aGlzLmltZ19pY29uLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGlja19hZHYsIHRoaXMpXHJcblxyXG4gICAgICAgIHRoaXMuaGlkZV9iYWNrICYmIHRoaXMuaGlkZV9iYWNrKClcclxuICAgIH1cclxuXHJcbiAgICBzZXRfZGVmYXVsdF9wb3Moc3R5bGUpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0X3N0eWxlX3Bvcyh4LCB5KSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldF9iYWNrZ3JvdW5kX29uX3Nob3coKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcbiAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLmh3X3FnKSB7XHJcbiAgICAgICAgICAgIC8v5ZCO5Y+w5Yiw5YmN5Y+wXHJcbiAgICAgICAgICAgIHN5eXhfc2RrX2FwaS5vbl9zaG93KFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmICYmIGNjLmlzVmFsaWQoc2VsZi5ub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIG5hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwgc2V0X2JhY2tncm91bmRfb25fc2hvd1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlcG9ydF9zaG93KClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/E18controller.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4f53ag9w9ZAg6ZLS5et8u2a', 'E18controller');
// scripts/game/E18controller.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["attack"] = 0] = "attack";
})(damageCollider || (damageCollider = {}));
var E18controller = /** @class */ (function (_super) {
    __extends(E18controller, _super);
    function E18controller() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.attackCollider = null;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.hpNode = null;
        _this.hpBar = null;
        _this.dieEffectName = "";
        _this.moveSpeed = 100; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 1; //ai间隔
        _this.stopDistance = 200; //停止距离
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 25000; //手里剑攻击作用力
        _this.beHitForce_x = 25000; //普通攻击作用力
        _this.beHitForce_y_shuriken = 50000; //普通攻击作用力
        _this.beHitForce_x_attack3 = 350000; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isMove = false; //是否处于移动状态
        _this.dmgCollider = null;
        return _this;
    }
    E18controller.prototype.onLoad = function () {
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    E18controller.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
    };
    E18controller.prototype.init = function () {
        this.initData();
        this.attackCollider.getComponent(enemyHitCollider_1.default).enemyControl = this;
        this.hp = this.hpMax * this.hpTimes;
        this.idle();
    };
    E18controller.prototype.update = function () {
        if (this.isMove == false)
            return;
        var distance = this.getDistanceX();
        if (Math.abs(distance) < this.stopDistance) {
            this.attack();
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.attack)
                return;
            this.moveToPlayer();
        }
    };
    E18controller.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "ground") {
        }
    };
    E18controller.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    E18controller.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    E18controller.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    E18controller.prototype.AI_start = function () {
        var _this = this;
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.changeMovState(false);
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            return;
        }
        var distance = Math.abs(this.getDistanceX());
        if (distance < this.stopDistance) {
            this.attack();
        }
        else {
            this.changeDirection();
            this.enemyAnimation.changeState(animationState_1.enemyState.Move, 1, true, true, true);
            this.changeMovState(true);
            this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.moveSpeed : this.moveSpeed;
        }
    };
    E18controller.prototype.AI_stop = function () {
        this.idle();
    };
    E18controller.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    E18controller.prototype.idle = function () {
        var _this = this;
        this.changeMovState(false);
        //this.changeDirection();
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.Idle, 1, true, true, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.Idle)
                return;
            _this.AI_start();
        }, this.AI_interval);
    };
    E18controller.prototype.changeDirection = function () {
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x - this.node.x > 0 ? -this.scaleX_skeleton : this.scaleX_skeleton;
        //this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    E18controller.prototype.die = function () {
        this.isDie = true;
        this.node.active = false;
        this.hideHp();
        this.dieCount();
    };
    E18controller.prototype.getUp = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.get_up, 1, false, true);
    };
    E18controller.prototype.moveToPlayer = function () {
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    E18controller.prototype.attack = function () {
        var _this = this;
        if (animationState_1.enemyState[this.enemyAnimation.state].includes("get_hurt"))
            return;
        this.changeDirection();
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.Atk, 1, false, true, true);
        this.scheduleOnce(function () {
            _this.showDamageCollider(damageCollider.attack);
        }, 0.5);
    };
    E18controller.prototype.Shake = function (trackEntry, event) {
        if (event.data.name == "Shake") {
            audioManager_1.default.playAudio(audioNameMgr_1.audioName.E18_Attack);
            this.hideDamageCollider();
            Events_1.default.instance.screenShake(8, 0, 16);
        }
    };
    E18controller.prototype.hit = function () {
        if (this.enemyAnimation.state == animationState_1.enemyState.Atk) {
            this.attackCollider.getComponent(enemyHitCollider_1.default).hit(this.node, this.damage);
            this.hideDamageCollider();
        }
    };
    E18controller.prototype.beHit = function (damage, dmgType) {
        this.changeMovState(false);
        this.setRigibodySpeed(0);
        var isContinue = this.checkIsSwordRain(dmgType); //设置剑雨攻击间隔
        // if (isContinue == 0) return;
        // this.highLight();
        this.showHp();
        this.changeState_beHit(dmgType);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        this.updateHp(damage);
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
    };
    E18controller.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    E18controller.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.get_hurt2;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.knock_down;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.get_hurt1;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    E18controller.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    E18controller.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    E18controller.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    E18controller.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    E18controller.prototype.updateHp = function (damage) {
        this.hp -= damage;
        this.hpBar.progress = this.hp / this.hpMax;
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    E18controller.prototype.showHp = function () {
        this.unschedule(this.hideHp);
        this.hpNode.active = true;
        this.scheduleOnce(this.hideHp, 2);
    };
    E18controller.prototype.hideHp = function () {
        this.hpNode.active = false;
    };
    E18controller.prototype.highLight = function () {
        this.unschedule(this.closeHighLight);
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        this.scheduleOnce(this.closeHighLight, 0.15);
    };
    E18controller.prototype.closeHighLight = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    E18controller.prototype.getDistanceX = function () {
        return this.node.x - GameManager_1.default.instance.player.x;
    };
    __decorate([
        property(cc.Node)
    ], E18controller.prototype, "attackCollider", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], E18controller.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], E18controller.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.Node)
    ], E18controller.prototype, "hpNode", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], E18controller.prototype, "hpBar", void 0);
    __decorate([
        property(cc.String)
    ], E18controller.prototype, "dieEffectName", void 0);
    E18controller = __decorate([
        ccclass
    ], E18controller);
    return E18controller;
}(enemyBase_1.default));
exports.default = E18controller;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRTE4Y29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnREFBNEM7QUFFNUMscURBQWdEO0FBQ2hELG1EQUEwRDtBQUMxRCxtREFBOEM7QUFDOUMseUNBQW9DO0FBQ3BDLHVEQUFrRDtBQUNsRCxtQ0FBOEI7QUFDOUIsNkNBQXdDO0FBRWxDLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBQzVDLElBQUssY0FFSjtBQUZELFdBQUssY0FBYztJQUNmLHVEQUFNLENBQUE7QUFDVixDQUFDLEVBRkksY0FBYyxLQUFkLGNBQWMsUUFFbEI7QUFFRDtJQUEyQyxpQ0FBUztJQUFwRDtRQUFBLHFFQTZRQztRQTFRRyxvQkFBYyxHQUFTLElBQUksQ0FBQztRQUc1Qix3QkFBa0IsR0FBVyxDQUFDLENBQUM7UUFFL0Isd0JBQWtCLEdBQVcsQ0FBQyxDQUFDO1FBRS9CLFlBQU0sR0FBWSxJQUFJLENBQUM7UUFFdkIsV0FBSyxHQUFtQixJQUFJLENBQUM7UUFFN0IsbUJBQWEsR0FBVyxFQUFFLENBQUM7UUFFM0IsZUFBUyxHQUFXLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDOUIsY0FBUSxHQUFXLENBQUMsQ0FBQyxDQUFBLE1BQU07UUFDM0IsaUJBQVcsR0FBVyxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQzlCLGtCQUFZLEdBQVEsR0FBRyxDQUFDLENBQUEsTUFBTTtRQUM5QixRQUFFLEdBQVcsQ0FBQyxDQUFDO1FBQ2YsYUFBTyxHQUFRLENBQUMsQ0FBQyxDQUFBLE1BQU07UUFDdkIsa0JBQVksR0FBVyxLQUFLLENBQUMsQ0FBQSxVQUFVO1FBQ3ZDLGtCQUFZLEdBQVcsS0FBSyxDQUFBLENBQUEsU0FBUztRQUNyQywyQkFBcUIsR0FBVyxLQUFLLENBQUEsQ0FBQSxTQUFTO1FBQzlDLDBCQUFvQixHQUFXLE1BQU0sQ0FBQyxDQUFBLFFBQVE7UUFDOUMsMEJBQW9CLEdBQVcsQ0FBQyxDQUFDLENBQUEsUUFBUTtRQUN6QyxxQkFBZSxHQUFXLENBQUMsQ0FBQztRQUM1QixXQUFLLEdBQVksS0FBSyxDQUFDO1FBQ3ZCLGNBQVEsR0FBZ0IsSUFBSSxDQUFDO1FBQzdCLG9CQUFjLEdBQW1CLElBQUksQ0FBQztRQUN0QyxjQUFRLEdBQWlCLElBQUksQ0FBQztRQUM5QixpQkFBVyxHQUEwQixJQUFJLENBQUM7UUFDMUMsbUJBQWEsR0FBWSxLQUFLLENBQUM7UUFDL0IsWUFBTSxHQUFZLEtBQUssQ0FBQyxDQUFBLFVBQVU7UUFDbEMsaUJBQVcsR0FBZ0IsSUFBSSxDQUFDOztJQTBPcEMsQ0FBQztJQXhPRyw4QkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hFLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyx3QkFBYyxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO1FBQzNDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDckUsQ0FBQztJQUNELDZCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDWixZQUFZO1FBQ1osb0VBQW9FO0lBQ3hFLENBQUM7SUFDRCw0QkFBSSxHQUFKO1FBQ0ksSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUMsWUFBWSxHQUFDLElBQUksQ0FBQztRQUNyRSxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUNsQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUNELDhCQUFNLEdBQU47UUFDSSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksS0FBSztZQUFFLE9BQU87UUFDakMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ25DLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNqQjthQUFNO1lBQ0gsSUFBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssSUFBRSwyQkFBVSxDQUFDLE1BQU07Z0JBQUUsT0FBTztZQUN4RCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBQ0Qsc0NBQWMsR0FBZCxVQUFlLE9BQTBCLEVBQUUsWUFBZ0MsRUFBRSxhQUFpQztRQUMxRyxJQUFJLEtBQUssR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDO1FBQy9CLGtEQUFrRDtRQUNsRCxxQ0FBcUM7UUFDckMsSUFBSSxLQUFLLENBQUMsS0FBSyxJQUFJLFFBQVEsRUFBRTtTQUM1QjtJQUNMLENBQUM7SUFDRCwwQ0FBa0IsR0FBbEIsVUFBbUIsUUFBdUI7UUFDdEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sR0FBQyxJQUFJLENBQUM7UUFDbEQsSUFBSSxDQUFDLFdBQVcsR0FBQyxRQUFRLENBQUM7SUFDOUIsQ0FBQztJQUNELHlDQUFpQixHQUFqQjtRQUNJLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBQ0QsMENBQWtCLEdBQWxCO1FBQ0ksSUFBRyxJQUFJLENBQUMsV0FBVyxJQUFFLElBQUk7WUFBRSxPQUFPO1FBQ2xDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxHQUFDLEtBQUssQ0FBQztRQUMzRCxJQUFJLENBQUMsV0FBVyxHQUFDLElBQUksQ0FBQztJQUMxQixDQUFDO0lBQ0QsZ0NBQVEsR0FBUjtRQUFBLGlCQWtCQztRQWpCRyxJQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEtBQUssRUFBQztZQUMzQyxXQUFXO1lBQ1gsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMzQixJQUFJLENBQUMsWUFBWSxDQUFDO2dCQUNkLEtBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNwQixDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDTCxPQUFPO1NBQ1Y7UUFDRCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO1FBQzdDLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDOUIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1NBQ2pCO2FBQU07WUFDSCxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsMkJBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztTQUNwRjtJQUNMLENBQUM7SUFDRCwrQkFBTyxHQUFQO1FBQ0ksSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFDRCxzQ0FBYyxHQUFkLFVBQWUsTUFBZTtRQUMxQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBQ0QsNEJBQUksR0FBSjtRQUFBLGlCQVVDO1FBVEcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQix5QkFBeUI7UUFDekIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsMkJBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEUsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNkLElBQUcsS0FBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLElBQUUsMkJBQVUsQ0FBQyxJQUFJO2dCQUFFLE9BQU87WUFDdEQsS0FBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLENBQUMsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUNELHVDQUFlLEdBQWY7UUFDSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQztRQUMzSCwyREFBMkQ7SUFDL0QsQ0FBQztJQUNELDJCQUFHLEdBQUg7UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUFDRCw2QkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsMkJBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQTtJQUN0RSxDQUFDO0lBQ0Qsb0NBQVksR0FBWjtRQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxHQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQyxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBQ0QsOEJBQU0sR0FBTjtRQUFBLGlCQVNDO1FBUkcsSUFBRywyQkFBVSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQztZQUFFLE9BQU87UUFDdEUsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQywyQkFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFDLElBQUksRUFBQyxJQUFJLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsS0FBSSxDQUFDLGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuRCxDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUM7SUFDWCxDQUFDO0lBQ0QsNkJBQUssR0FBTCxVQUFNLFVBQVUsRUFBRSxLQUFLO1FBQ25CLElBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUUsT0FBTyxFQUFDO1lBQ3hCLHNCQUFZLENBQUMsU0FBUyxDQUFDLHdCQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFDMUIsZ0JBQU0sQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxDQUFDLENBQUM7U0FDdkM7SUFDTCxDQUFDO0lBQ0QsMkJBQUcsR0FBSDtRQUNJLElBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLElBQUUsMkJBQVUsQ0FBQyxHQUFHLEVBQUM7WUFDekMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsMEJBQWdCLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDOUUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7U0FDN0I7SUFDTCxDQUFDO0lBQ0QsNkJBQUssR0FBTCxVQUFNLE1BQWMsRUFBRSxPQUFtQjtRQUNyQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQSxVQUFVO1FBQzFELCtCQUErQjtRQUMvQixvQkFBb0I7UUFDcEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUM7UUFDN0csSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDO1FBQzlDLGdCQUFNLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN0QixJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFO1lBQ2QsZ0JBQU0sQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEY7SUFDTCxDQUFDO0lBQ0Qsd0NBQWdCLEdBQWhCLFVBQWlCLENBQVEsRUFBQyxDQUFVO1FBQVYsa0JBQUEsRUFBQSxLQUFVO1FBQ2hDLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxHQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFDRCx5Q0FBaUIsR0FBakIsVUFBa0IsT0FBbUI7UUFBckMsaUJBd0NDO1FBdkNHLElBQUcsSUFBSSxDQUFDLFlBQVk7WUFBRSxPQUFPO1FBQzdCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLFdBQVcsR0FBRyxPQUFPLElBQUksMkJBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQy9ELFFBQVEsT0FBTyxFQUFFO1lBQ2IsS0FBSywyQkFBVSxDQUFDLE9BQU87Z0JBQ25CLEtBQUssR0FBRywyQkFBVSxDQUFDLFNBQVMsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNoSCxNQUFNO1lBQ1YsS0FBSywyQkFBVSxDQUFDLE9BQU87Z0JBQ25CLEtBQUssR0FBRywyQkFBVSxDQUFDLFNBQVMsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNoSCxNQUFNO1lBQ1YsS0FBSywyQkFBVSxDQUFDLE9BQU87Z0JBQ25CLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekIsSUFBSSxDQUFDLFlBQVksQ0FBQztvQkFDZCxLQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDUixLQUFLLEdBQUcsMkJBQVUsQ0FBQyxVQUFVLENBQUM7Z0JBQzlCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7b0JBQy9HLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO2lCQUNqRjtxQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLHFCQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUkscUJBQVcsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO29CQUN0SCxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUM7aUJBQ2hGO2dCQUNELE1BQU07WUFDVixLQUFLLDJCQUFVLENBQUMsT0FBTztnQkFDbkIsS0FBSyxHQUFHLDJCQUFVLENBQUMsU0FBUyxDQUFDO2dCQUM3QixJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hILE1BQU07WUFDVixLQUFLLDJCQUFVLENBQUMsUUFBUTtnQkFDcEIsS0FBSyxHQUFHLDJCQUFVLENBQUMsU0FBUyxDQUFDO2dCQUM3QixJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUN0RyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDO2dCQUNqQyxNQUFNO1lBQ1YsS0FBSywyQkFBVSxDQUFDLFNBQVM7Z0JBQ3JCLEtBQUssR0FBRywyQkFBVSxDQUFDLFNBQVMsQ0FBQztnQkFDN0IsTUFBTTtZQUNWLFFBQVE7U0FDWDtRQUNELElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFDRCx3Q0FBZ0IsR0FBaEIsVUFBaUIsT0FBZTtRQUM1QixJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsR0FBRyxPQUFPLENBQUM7SUFDMUMsQ0FBQztJQUNELG1DQUFXLEdBQVgsVUFBWSxRQUFvQjtRQUFwQix5QkFBQSxFQUFBLFlBQW9CO1FBQzVCLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUNyQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFDRCxrQ0FBVSxHQUFWLFVBQVcsS0FBYztRQUNyQixJQUFJLElBQUksQ0FBQyxZQUFZO1lBQUUsT0FBTztRQUM5QixJQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBQ0Qsd0NBQWdCLEdBQWhCLFVBQWlCLE9BQW1CO1FBQXBDLGlCQVNDO1FBUkcsSUFBSSxPQUFPLElBQUksMkJBQVUsQ0FBQyxTQUFTLEVBQUU7WUFDakMsSUFBSSxJQUFJLENBQUMsYUFBYTtnQkFBRSxPQUFPLENBQUMsQ0FBQztZQUNqQyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztZQUMxQixJQUFJLENBQUMsWUFBWSxDQUFDO2dCQUNkLEtBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO1lBQy9CLENBQUMsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7U0FDM0I7UUFDRCxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUFDRCxnQ0FBUSxHQUFSLFVBQVMsTUFBYztRQUNuQixJQUFJLENBQUMsRUFBRSxJQUFJLE1BQU0sQ0FBQztRQUNsQixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDM0MsSUFBSSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRTtZQUNkLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ1osSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQ2Q7SUFDTCxDQUFDO0lBQ0QsOEJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUMxQixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNELDhCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDL0IsQ0FBQztJQUNELGlDQUFTLEdBQVQ7UUFDSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDOUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFDRCxzQ0FBYyxHQUFkO1FBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBQ0Qsb0NBQVksR0FBWjtRQUNJLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcscUJBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBelFEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7eURBQ1U7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLENBQUM7NkRBQ3BCO0lBRS9CO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDOzZEQUNwQjtJQUUvQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2lEQUNLO0lBRXZCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7Z0RBQ0k7SUFFN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt3REFDTztJQWRWLGFBQWE7UUFEakMsT0FBTztPQUNhLGFBQWEsQ0E2UWpDO0lBQUQsb0JBQUM7Q0E3UUQsQUE2UUMsQ0E3UTBDLG1CQUFTLEdBNlFuRDtrQkE3UW9CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdWRpb05hbWUgfSBmcm9tIFwiLi4vYXVkaW9OYW1lTWdyXCI7XG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4uL2NhaWppVG9vbHNcIjtcbmltcG9ydCBhdWRpb01hbmFnZXIgZnJvbSBcIi4uL21haW4vYXVkaW9NYW5hZ2VyXCI7XG5pbXBvcnQgeyBhdHRhY2tUeXBlLCBlbmVteVN0YXRlIH0gZnJvbSBcIi4vYW5pbWF0aW9uU3RhdGVcIjtcbmltcG9ydCBlbmVteUFuaW1hdGlvbiBmcm9tIFwiLi9lbmVteUFuaW1hdGlvblwiO1xuaW1wb3J0IGVuZW15QmFzZSBmcm9tIFwiLi9lbmVteUJhc2VcIjtcbmltcG9ydCBlbmVteUhpdENvbGxpZGVyIGZyb20gXCIuL2VuZW15SGl0Q29sbGlkZXJcIjtcbmltcG9ydCBFdmVudHMgZnJvbSBcIi4vRXZlbnRzXCI7XG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4vR2FtZU1hbmFnZXJcIjtcblxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcbmVudW0gZGFtYWdlQ29sbGlkZXJ7XG4gICAgYXR0YWNrXG59XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRTE4Y29udHJvbGxlciBleHRlbmRzIGVuZW15QmFzZSB7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBhdHRhY2tDb2xsaWRlcjpjYy5Ob2RlPW51bGw7XG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5GbG9hdCwgdG9vbHRpcDogXCLkvKTlrrPmlYjmnpx46L205YGP56e75YC8XCIgfSlcbiAgICBkYW1hZ2VMYWJlbE9mZnNldFg6IG51bWJlciA9IDA7XG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuRmxvYXQsIHRvb2x0aXA6IFwi5Lyk5a6z5pWI5p6ceei9tOWBj+enu+WAvFwiIH0pXG4gICAgZGFtYWdlTGFiZWxPZmZzZXRZOiBudW1iZXIgPSAwO1xuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIGhwTm9kZTogY2MuTm9kZSA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLlByb2dyZXNzQmFyKVxuICAgIGhwQmFyOiBjYy5Qcm9ncmVzc0JhciA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLlN0cmluZylcbiAgICBkaWVFZmZlY3ROYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG4gICAgbW92ZVNwZWVkOiBudW1iZXIgPSAxMDA7Ly/np7vliqjpgJ/luqZcbiAgICBub3dTcGVlZDogbnVtYmVyID0gMDsvL+W9k+WJjemAn+W6plxuICAgIEFJX2ludGVydmFsOiBudW1iZXIgPSAxOy8vYWnpl7TpmpRcbiAgICBzdG9wRGlzdGFuY2U6bnVtYmVyPTIwMDsvL+WBnOatoui3neemu1xuICAgIGhwOiBudW1iZXIgPSAwO1xuICAgIGhwVGltZXM6bnVtYmVyPTE7Ly/ooYDph4/lgI3mlbBcbiAgICBiZUhpdEZvcmNlX3k6IG51bWJlciA9IDI1MDAwOy8v5omL6YeM5YmR5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94OiBudW1iZXIgPSAyNTAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV95X3NodXJpa2VuOiBudW1iZXIgPSA1MDAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94X2F0dGFjazM6IG51bWJlciA9IDM1MDAwMDsvL+iiq+WHu+mjnuS9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeV9hdHRhY2szOiBudW1iZXIgPSAwOy8v6KKr5Ye76aOe5L2c55So5YqbXG4gICAgc2NhbGVYX3NrZWxldG9uOiBudW1iZXIgPSAwO1xuICAgIGlzRGllOiBib29sZWFuID0gZmFsc2U7XG4gICAgc2tlbGV0b246IHNwLlNrZWxldG9uID0gbnVsbDtcbiAgICBlbmVteUFuaW1hdGlvbjogZW5lbXlBbmltYXRpb24gPSBudWxsO1xuICAgIHJpZ2lib2R5OiBjYy5SaWdpZEJvZHkgPSBudWxsO1xuICAgIGJveENvbGxpZGVyOiBjYy5QaHlzaWNzQm94Q29sbGlkZXIgPSBudWxsO1xuICAgIGlzU3dvcmRSYWluQ2Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc01vdmU6IGJvb2xlYW4gPSBmYWxzZTsvL+aYr+WQpuWkhOS6juenu+WKqOeKtuaAgVxuICAgIGRtZ0NvbGxpZGVyOmRhbWFnZUNvbGxpZGVyPW51bGw7XG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24gPSB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcbiAgICAgICAgdGhpcy5zY2FsZVhfc2tlbGV0b24gPSBNYXRoLmFicyh0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbiA9IHRoaXMubm9kZS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoZW5lbXlBbmltYXRpb24pO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmVuZW15Q29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgIHRoaXMucmlnaWJvZHkgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlJpZ2lkQm9keSk7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlBoeXNpY3NCb3hDb2xsaWRlcik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5za2VsZXRvbi5za2VsZXRvbkRhdGEuX3NrZWxldG9uQ2FjaGUuYW5pbWF0aW9ucyk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICAgICAgdGhpcy5hdHRhY2tDb2xsaWRlci5nZXRDb21wb25lbnQoZW5lbXlIaXRDb2xsaWRlcikuZW5lbXlDb250cm9sPXRoaXM7XG4gICAgICAgIHRoaXMuaHAgPSB0aGlzLmhwTWF4KnRoaXMuaHBUaW1lcztcbiAgICAgICAgdGhpcy5pZGxlKCk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZlID09IGZhbHNlKSByZXR1cm47XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHRoaXMuZ2V0RGlzdGFuY2VYKCk7XG4gICAgICAgIGlmIChNYXRoLmFicyhkaXN0YW5jZSkgPCB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5hdHRhY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGU9PWVuZW15U3RhdGUuYXR0YWNrKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLm1vdmVUb1BsYXllcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQmVnaW5Db250YWN0KGNvbnRhY3Q6IGNjLlBoeXNpY3NDb250YWN0LCBzZWxmQ29sbGlkZXI6IGNjLlBoeXNpY3NDb2xsaWRlciwgb3RoZXJDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyKSB7XG4gICAgICAgIGxldCBvdGhlciA9IG90aGVyQ29sbGlkZXIubm9kZTtcbiAgICAgICAgLy8gbGV0IHdvcmxkTWFuaWZvbGQgPSBjb250YWN0LmdldFdvcmxkTWFuaWZvbGQoKTtcbiAgICAgICAgLy8gbGV0IG5vcm1hbCA9IHdvcmxkTWFuaWZvbGQubm9ybWFsO1xuICAgICAgICBpZiAob3RoZXIuZ3JvdXAgPT0gXCJncm91bmRcIikge1xuICAgICAgICB9XG4gICAgfVxuICAgIHNob3dEYW1hZ2VDb2xsaWRlcihjb2xsaWRlcjpkYW1hZ2VDb2xsaWRlcil7XG4gICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5jaGlsZHJlbltjb2xsaWRlcl0uYWN0aXZlPXRydWU7XG4gICAgICAgIHRoaXMuZG1nQ29sbGlkZXI9Y29sbGlkZXI7XG4gICAgfVxuICAgIGdldERhbWFnZUNvbGxpZGVyKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bdGhpcy5kbWdDb2xsaWRlcl07XG4gICAgfVxuICAgIGhpZGVEYW1hZ2VDb2xsaWRlcigpe1xuICAgICAgICBpZih0aGlzLmRtZ0NvbGxpZGVyPT1udWxsKSByZXR1cm47XG4gICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5jaGlsZHJlblt0aGlzLmRtZ0NvbGxpZGVyXS5hY3RpdmU9ZmFsc2U7XG4gICAgICAgIHRoaXMuZG1nQ29sbGlkZXI9bnVsbDtcbiAgICB9XG4gICAgQUlfc3RhcnQoKSB7XG4gICAgICAgIGlmKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuaXNEaWUpe1xuICAgICAgICAgICAgLy/njqnlrrblt7Lmrbsg5YGc5q2i56e75YqoXG4gICAgICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5BSV9zdGFydCgpO1xuICAgICAgICAgICAgfSwxKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLmFicyh0aGlzLmdldERpc3RhbmNlWCgpKTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgdGhpcy5zdG9wRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLk1vdmUsIDEsIHRydWUsdHJ1ZSx0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLm5vd1NwZWVkID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtdGhpcy5tb3ZlU3BlZWQgOiB0aGlzLm1vdmVTcGVlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBBSV9zdG9wKCkge1xuICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICB9XG4gICAgY2hhbmdlTW92U3RhdGUoaXNNb3ZlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNNb3ZlID0gaXNNb3ZlO1xuICAgIH1cbiAgICBpZGxlKCkge1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgLy90aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoMCk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwLDApO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKGVuZW15U3RhdGUuSWRsZSwgMSwgdHJ1ZSx0cnVlLHRydWUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICBpZih0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlIT1lbmVteVN0YXRlLklkbGUpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuQUlfc3RhcnQoKTtcbiAgICAgICAgfSwgdGhpcy5BSV9pbnRlcnZhbCk7XG4gICAgfVxuICAgIGNoYW5nZURpcmVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54IC0gdGhpcy5ub2RlLnggPiAwID8gLXRoaXMuc2NhbGVYX3NrZWxldG9uIDogdGhpcy5zY2FsZVhfc2tlbGV0b247XG4gICAgICAgIC8vdGhpcy5ocE5vZGUueCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gLTI4IDogMjg7XG4gICAgfVxuICAgIGRpZSgpIHtcbiAgICAgICAgdGhpcy5pc0RpZSA9IHRydWU7XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oaWRlSHAoKTtcbiAgICAgICAgdGhpcy5kaWVDb3VudCgpO1xuICAgIH1cbiAgICBnZXRVcCgpIHtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmdldF91cCwgMSwgZmFsc2UsIHRydWUpXG4gICAgfVxuICAgIG1vdmVUb1BsYXllcigpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52Mih0aGlzLm5vd1NwZWVkLDApO1xuICAgIH1cbiAgICBhdHRhY2soKXtcbiAgICAgICAgaWYoZW5lbXlTdGF0ZVt0aGlzLmVuZW15QW5pbWF0aW9uLnN0YXRlXS5pbmNsdWRlcyhcImdldF9odXJ0XCIpKSByZXR1cm47XG4gICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCwwKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLkF0aywgMSwgZmFsc2UsdHJ1ZSx0cnVlKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIHRoaXMuc2hvd0RhbWFnZUNvbGxpZGVyKGRhbWFnZUNvbGxpZGVyLmF0dGFjayk7XG4gICAgICAgIH0sMC41KTtcbiAgICB9XG4gICAgU2hha2UodHJhY2tFbnRyeSwgZXZlbnQpe1xuICAgICAgICBpZihldmVudC5kYXRhLm5hbWU9PVwiU2hha2VcIil7XG4gICAgICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5FMThfQXR0YWNrKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZURhbWFnZUNvbGxpZGVyKCk7XG4gICAgICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc2NyZWVuU2hha2UoOCwwLDE2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoaXQoKSB7XG4gICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGU9PWVuZW15U3RhdGUuQXRrKXtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNrQ29sbGlkZXIuZ2V0Q29tcG9uZW50KGVuZW15SGl0Q29sbGlkZXIpLmhpdCh0aGlzLm5vZGUsdGhpcy5kYW1hZ2UpO1xuICAgICAgICAgICAgdGhpcy5oaWRlRGFtYWdlQ29sbGlkZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBiZUhpdChkYW1hZ2U6IG51bWJlciwgZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDApO1xuICAgICAgICBsZXQgaXNDb250aW51ZSA9IHRoaXMuY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlKTsvL+iuvue9ruWJkembqOaUu+WHu+mXtOmalFxuICAgICAgICAvLyBpZiAoaXNDb250aW51ZSA9PSAwKSByZXR1cm47XG4gICAgICAgIC8vIHRoaXMuaGlnaExpZ2h0KCk7XG4gICAgICAgIHRoaXMuc2hvd0hwKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGVfYmVIaXQoZG1nVHlwZSk7XG4gICAgICAgIGxldCB4ID0gdGhpcy5ub2RlLnNjYWxlWCA8IDAgPyB0aGlzLm5vZGUueCArIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRYIDogdGhpcy5ub2RlLnggLSB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLm5vZGUueSArIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRZO1xuICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc2hvd0RhbWFnZUxhYmVsX2VuZW15KHRoaXMubm9kZSwgZGFtYWdlLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIHRoaXMudXBkYXRlSHAoZGFtYWdlKTtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgRXZlbnRzLmluc3RhbmNlLmNyZWF0ZUVuZW15RGllRWZmZWN0KHRoaXMubm9kZSwgdGhpcy5kaWVFZmZlY3ROYW1lLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UmlnaWJvZHlTcGVlZCh4Om51bWJlcix5Om51bWJlcj0wKXtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52Mih4LHkpO1xuICAgIH1cbiAgICBjaGFuZ2VTdGF0ZV9iZUhpdChkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIGlmKHRoaXMuaXNTdXBlckFybW9yKSByZXR1cm47XG4gICAgICAgIGxldCBzdGF0ZSA9IG51bGw7XG4gICAgICAgIGxldCBpc0tub2NrRG93biA9IGRtZ1R5cGUgPT0gYXR0YWNrVHlwZS5hdHRhY2szID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKGRtZ1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2sxOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDI7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazI6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoNSk7XG4gICAgICAgICAgICAgICAgfSwgMC40KTtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUua25vY2tfZG93bjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlLnggPCBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAmJiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoLXRoaXMuYmVIaXRGb3JjZV94X2F0dGFjazMsIHRoaXMuYmVIaXRGb3JjZV95X2F0dGFjazMpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubm9kZS54ID4gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggJiYgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKHRoaXMuYmVIaXRGb3JjZV94X2F0dGFjazMsIHRoaXMuYmVIaXRGb3JjZV95X2F0dGFjazMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuanVtcEhpdDpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsIDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5zaHVyaWtlbjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmVIaXRGb3JjZV95X3NodXJpa2VuKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuc3dvcmRSYWluOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoc3RhdGUsIDEsIGZhbHNlLCBpc0tub2NrRG93bik7XG4gICAgfVxuICAgIHNldExpbmVhckRhbXBpbmcoZGFtcGluZzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyRGFtcGluZyA9IGRhbXBpbmc7XG4gICAgfVxuICAgIHNldEZyaWN0aW9uKGZyaWN0aW9uOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIuZnJpY3Rpb24gPSBmcmljdGlvbjtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5hcHBseSgpO1xuICAgIH1cbiAgICBhcHBseUZvcmNlKGZvcmNlOiBjYy5WZWMyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwZXJBcm1vcikgcmV0dXJuO1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmFwcGx5Rm9yY2VUb0NlbnRlcihmb3JjZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGNoZWNrSXNTd29yZFJhaW4oZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICBpZiAoZG1nVHlwZSA9PSBhdHRhY2tUeXBlLnN3b3JkUmFpbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTd29yZFJhaW5DZCkgcmV0dXJuIDA7XG4gICAgICAgICAgICB0aGlzLmlzU3dvcmRSYWluQ2QgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTd29yZFJhaW5DZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgdGhpcy5zd29yZFJhaW5IaXRDZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHVwZGF0ZUhwKGRhbWFnZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaHAgLT0gZGFtYWdlO1xuICAgICAgICB0aGlzLmhwQmFyLnByb2dyZXNzID0gdGhpcy5ocCAvIHRoaXMuaHBNYXg7XG4gICAgICAgIGlmICh0aGlzLmhwIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuaHAgPSAwO1xuICAgICAgICAgICAgdGhpcy5kaWUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG93SHAoKSB7XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLmhpZGVIcCk7XG4gICAgICAgIHRoaXMuaHBOb2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuaGlkZUhwLDIpO1xuICAgIH1cbiAgICBoaWRlSHAoKSB7XG4gICAgICAgIHRoaXMuaHBOb2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBoaWdoTGlnaHQoKSB7XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLmNsb3NlSGlnaExpZ2h0KTtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImJlSGl0XCIsIDEpO1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiaGlnaExpZ2h0Q29sb3JcIiwgWzEuMCwxLjAsMS4wLDAuNV0pO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLmNsb3NlSGlnaExpZ2h0LCAwLjE1KTtcbiAgICB9XG4gICAgY2xvc2VIaWdoTGlnaHQoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJiZUhpdFwiLCAwKTtcbiAgICB9XG4gICAgZ2V0RGlzdGFuY2VYKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLnggLSBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueDtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/syyx_ui/ad/syyx_ui_toast.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1331aW+1BxN97IWTXDMeSk3', 'syyx_ui_toast');
// syyx_sdk/syyx_ui/ad/syyx_ui_toast.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var syyx_ui_toast = /** @class */ (function (_super) {
    __extends(syyx_ui_toast, _super);
    function syyx_ui_toast() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        _this.tips_box = null;
        return _this;
    }
    syyx_ui_toast.prototype.show = function (desc) {
        if (this.node && !this.node.parent) {
            var order = syyx_sdk_utils_1.syyx_sdk_utils.get_largest_zorder();
            this.node.parent = syyx_sdk_utils_1.syyx_sdk_utils.get_stage();
            this.node.zIndex = order;
            this.on_show(desc);
        }
    };
    syyx_ui_toast.prototype.on_hide = function () {
    };
    syyx_ui_toast.prototype.on_show = function (desc) {
        this.show_tips(desc);
    };
    syyx_ui_toast.prototype.show_tips = function (desc) {
        var self = this;
        this.label.string = desc;
        this.tips_tween = null;
        this.tips_tween = cc.moveBy(1.5, cc.v2(0, 150)).easing(cc.easeSineIn());
        var call_back = cc.callFunc(function () {
            if (cc.isValid(self)) {
                self.hide();
            }
        });
        this.tips_box.runAction(cc.sequence(this.tips_tween, call_back));
    };
    /**
     * 应用默认的位置
     */
    syyx_ui_toast.prototype.set_default_pos = function () {
    };
    syyx_ui_toast.prototype.set_style_pos = function (x, y) {
    };
    /**
    * 移除，并回收
    */
    syyx_ui_toast.prototype.hide = function () {
        if (this.node && this.node.parent) {
            this.tips_box.y = 0;
            this.node.parent.removeChild(this.node);
            this.on_hide();
        }
    };
    __decorate([
        property(cc.Label)
    ], syyx_ui_toast.prototype, "label", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_toast.prototype, "tips_box", void 0);
    syyx_ui_toast = __decorate([
        ccclass
    ], syyx_ui_toast);
    return syyx_ui_toast;
}(cc.Component));
exports.default = syyx_ui_toast;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXHN5eXhfdWlcXGFkXFxzeXl4X3VpX3RvYXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZEQUE0RDtBQUd0RCxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUEyQyxpQ0FBWTtJQUF2RDtRQUFBLHFFQXNEQztRQW5ERyxXQUFLLEdBQWEsSUFBSSxDQUFDO1FBRXZCLGNBQVEsR0FBWSxJQUFJLENBQUM7O0lBaUQ3QixDQUFDO0lBaERHLDRCQUFJLEdBQUosVUFBSyxJQUFJO1FBQ0wsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDaEMsSUFBSSxLQUFLLEdBQUcsK0JBQWMsQ0FBQyxrQkFBa0IsRUFBRSxDQUFBO1lBQy9DLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLCtCQUFjLENBQUMsU0FBUyxFQUFFLENBQUE7WUFDN0MsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFBO1lBQ3hCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUE7U0FDckI7SUFDTCxDQUFDO0lBQ0QsK0JBQU8sR0FBUDtJQUVBLENBQUM7SUFFRCwrQkFBTyxHQUFQLFVBQVEsSUFBSTtRQUNSLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDeEIsQ0FBQztJQUVELGlDQUFTLEdBQVQsVUFBVSxJQUFJO1FBQ1YsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFBO1FBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBO1FBQ3hCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFBO1FBQ3RCLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUE7UUFDdkUsSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQztZQUN4QixJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ2xCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNkO1FBQ0wsQ0FBQyxDQUFDLENBQUE7UUFDRixJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQTtJQUNwRSxDQUFDO0lBQ0Q7O09BRUc7SUFDTyx1Q0FBZSxHQUF6QjtJQUVBLENBQUM7SUFFUyxxQ0FBYSxHQUF2QixVQUF3QixDQUFDLEVBQUUsQ0FBQztJQUU1QixDQUFDO0lBQ0Q7O01BRUU7SUFDRiw0QkFBSSxHQUFKO1FBQ0ksSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQy9CLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtZQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ3ZDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQTtTQUNqQjtJQUNMLENBQUM7SUFsREQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztnREFDSTtJQUV2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO21EQUNPO0lBTFIsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQXNEakM7SUFBRCxvQkFBQztDQXRERCxBQXNEQyxDQXREMEMsRUFBRSxDQUFDLFNBQVMsR0FzRHREO2tCQXREb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN5eXhfc2RrX3V0aWxzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3N5eXhfc2RrX3V0aWxzXCI7XHJcblxyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHN5eXhfdWlfdG9hc3QgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHRpcHNfYm94OiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIHNob3coZGVzYykge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUgJiYgIXRoaXMubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgbGV0IG9yZGVyID0gc3l5eF9zZGtfdXRpbHMuZ2V0X2xhcmdlc3Rfem9yZGVyKClcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnBhcmVudCA9IHN5eXhfc2RrX3V0aWxzLmdldF9zdGFnZSgpXHJcbiAgICAgICAgICAgIHRoaXMubm9kZS56SW5kZXggPSBvcmRlclxyXG4gICAgICAgICAgICB0aGlzLm9uX3Nob3coZGVzYylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbl9oaWRlKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBvbl9zaG93KGRlc2MpIHtcclxuICAgICAgICB0aGlzLnNob3dfdGlwcyhkZXNjKVxyXG4gICAgfVxyXG4gICAgdGlwc190d2VlblxyXG4gICAgc2hvd190aXBzKGRlc2MpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuICAgICAgICB0aGlzLmxhYmVsLnN0cmluZyA9IGRlc2NcclxuICAgICAgICB0aGlzLnRpcHNfdHdlZW4gPSBudWxsXHJcbiAgICAgICAgdGhpcy50aXBzX3R3ZWVuID0gY2MubW92ZUJ5KDEuNSwgY2MudjIoMCwgMTUwKSkuZWFzaW5nKGNjLmVhc2VTaW5lSW4oKSlcclxuICAgICAgICBsZXQgY2FsbF9iYWNrID0gY2MuY2FsbEZ1bmMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY2MuaXNWYWxpZChzZWxmKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy50aXBzX2JveC5ydW5BY3Rpb24oY2Muc2VxdWVuY2UodGhpcy50aXBzX3R3ZWVuLCBjYWxsX2JhY2spKVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlupTnlKjpu5jorqTnmoTkvY3nva5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIHNldF9kZWZhdWx0X3BvcygpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHNldF9zdHlsZV9wb3MoeCwgeSkge1xyXG5cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgKiDnp7vpmaTvvIzlubblm57mlLZcclxuICAgICovXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUgJiYgdGhpcy5ub2RlLnBhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpcHNfYm94LnkgPSAwXHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5ub2RlKVxyXG4gICAgICAgICAgICB0aGlzLm9uX2hpZGUoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/syyx_ui/ctr_test/syyx_ui_ctr_item.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f2419yo42VJQZHYc6P9a6sW', 'syyx_ui_ctr_item');
// syyx_sdk/syyx_ui/ctr_test/syyx_ui_ctr_item.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var syyx_ctr_manager_1 = require("../../controller/ctr_test/syyx_ctr_manager");
var syyx_manager_1 = require("../../controller/syyx_manager");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var syyx_api_1 = require("../../utils/syyx_api");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var syyx_ui_ctr_item = /** @class */ (function (_super) {
    __extends(syyx_ui_ctr_item, _super);
    function syyx_ui_ctr_item() {
        var _this = _super.call(this) || this;
        _this.game_icon = null;
        _this.game_name = null;
        _this.reward_icon = null;
        _this.rewardNum = null;
        _this.label_bg1 = null;
        _this.label_bg2 = null;
        _this.label_bg3 = null;
        _this.label_bg4 = null;
        _this.label_bg5 = null;
        _this.index = undefined;
        _this.click_back = undefined;
        _this.app = undefined;
        return _this;
    }
    syyx_ui_ctr_item_1 = syyx_ui_ctr_item;
    syyx_ui_ctr_item.prototype.on_click = function () {
        if (syyx_ctr_manager_1.syyx_ctr_manager.check_is_ctr_test_compelete()) {
            return;
        }
        if (!this.app) {
            return;
        }
        var self = this;
        var dot_data = {
            location_id: syyx_ctr_manager_1.syyx_ctr_manager.new_product_location_id,
            uid: syyx_manager_1.syyx_manager.login_user_id,
            config_id: self.app.gc_id,
            icon_id: self.app.iconid
        };
        syyx_ui_ctr_item_1.click_navigation_dot('AdvertisingClick', dot_data);
        // // 点击了icon，跳转游戏
        if (window['qg'] && (window['qg'].getSystemInfoSync().platformVersionCode >= 1050) && window['qg'].navigateToMiniGame) {
            window['qg'].navigateToMiniGame({
                pkgName: this.app.package,
                success: function () {
                    syyx_ui_ctr_item_1.click_navigation_dot('AdvertisingJump', dot_data);
                },
                fail: function (res) {
                    console.log(JSON.stringify(res));
                }
            });
        }
        var reward_num = syyx_ctr_manager_1.syyx_ctr_manager.get_new_products_reward();
        if (reward_num != 0) {
            this.reward_icon.active = true;
            this.rewardNum.node.active = true;
            this.rewardNum.string = syyx_ctr_manager_1.syyx_ctr_manager.get_new_products_reward() + ""; // 100
            this.reward_icon.getComponent(cc.Animation).play("zuanshixiaoshi");
        }
        this.click_back && this.click_back();
    };
    syyx_ui_ctr_item.click_navigation_dot = function (type, params) {
        var reqD = {
            log_type: type,
            data: JSON.stringify(params)
        };
        syyx_api_1.syyx_api_request.apiPost('da_dot', syyx_sdk_config_1.syyx_const.guobao_da_dot_url, reqD, function (res) {
            console.log('跳转打点回调结果-->', res);
        });
    };
    syyx_ui_ctr_item.prototype.refresh = function (index, data, click_back) {
        this.app = data;
        if (!this.app) {
            this.node.active = false;
            return;
        }
        this.node.off(cc.Node.EventType.TOUCH_END, this.on_click, this);
        this.node.on(cc.Node.EventType.TOUCH_END, this.on_click, this);
        this.label_bg1.active = false;
        this.label_bg2.active = false;
        this.label_bg3.active = false;
        this.label_bg4.active = false;
        this.label_bg5.active = false;
        this.node.active = true;
        this.game_icon.node.active = true;
        this.reward_icon.active = false;
        this.rewardNum.node.active = false;
        syyx_sdk_utils_1.syyx_sdk_utils.set_texture_url(this.game_icon, this.app.icon);
        this.game_name.string = this.app.name;
        // this.game_name.string = '测试名字';
        this.index = index;
        this.click_back = click_back;
        this.set_label_bg_skin(index);
        var dot_data = {
            location_id: syyx_ctr_manager_1.syyx_ctr_manager.new_product_location_id,
            uid: syyx_manager_1.syyx_manager.login_user_id,
            config_id: this.app.gc_id,
            icon_id: this.app.iconid
        };
        syyx_ui_ctr_item_1.click_navigation_dot('AdvertisingExposure', dot_data); // 曝光打点
    };
    syyx_ui_ctr_item.prototype.set_label_bg_skin = function (index) {
        if (index != null) {
            switch (index) {
                case 0:
                case 3:
                    this.label_bg5.active = true;
                    break;
                case 1:
                    this.label_bg4.active = true;
                    break;
                case 2:
                    this.label_bg3.active = true;
                    break;
                case 4:
                    this.label_bg2.active = true;
                    break;
                case 5:
                    this.label_bg1.active = true;
                    break;
                case 6:
                    this.label_bg2.active = true;
                    break;
                case 7:
                    this.label_bg5.active = true;
                    break;
            }
        }
    };
    var syyx_ui_ctr_item_1;
    __decorate([
        property(cc.Sprite)
    ], syyx_ui_ctr_item.prototype, "game_icon", void 0);
    __decorate([
        property(cc.Label)
    ], syyx_ui_ctr_item.prototype, "game_name", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr_item.prototype, "reward_icon", void 0);
    __decorate([
        property(cc.Label)
    ], syyx_ui_ctr_item.prototype, "rewardNum", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr_item.prototype, "label_bg1", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr_item.prototype, "label_bg2", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr_item.prototype, "label_bg3", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr_item.prototype, "label_bg4", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_ctr_item.prototype, "label_bg5", void 0);
    syyx_ui_ctr_item = syyx_ui_ctr_item_1 = __decorate([
        ccclass
    ], syyx_ui_ctr_item);
    return syyx_ui_ctr_item;
}(cc.Component));
exports.default = syyx_ui_ctr_item;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXHN5eXhfdWlcXGN0cl90ZXN0XFxzeXl4X3VpX2N0cl9pdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGlFQUEyRDtBQUkzRCwrRUFBOEU7QUFDOUUsOERBQTZEO0FBRzdELDZEQUE0RDtBQUM1RCxpREFBd0Q7QUFHbEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBOEMsb0NBQVk7SUFpQ3REO1FBQUEsWUFDSSxpQkFBTyxTQUNWO1FBaENELGVBQVMsR0FBYyxJQUFJLENBQUM7UUFHNUIsZUFBUyxHQUFhLElBQUksQ0FBQztRQUczQixpQkFBVyxHQUFZLElBQUksQ0FBQztRQUc1QixlQUFTLEdBQWEsSUFBSSxDQUFDO1FBRzNCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsZUFBUyxHQUFZLElBQUksQ0FBQztRQUcxQixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRzFCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsZUFBUyxHQUFZLElBQUksQ0FBQztRQUVsQixXQUFLLEdBQUcsU0FBUyxDQUFBO1FBQ2pCLGdCQUFVLEdBQUcsU0FBUyxDQUFBO1FBQ3RCLFNBQUcsR0FBRyxTQUFTLENBQUE7O0lBSXZCLENBQUM7eUJBbkNnQixnQkFBZ0I7SUFxQ2pDLG1DQUFRLEdBQVI7UUFFSSxJQUFJLG1DQUFnQixDQUFDLDJCQUEyQixFQUFFLEVBQUU7WUFDaEQsT0FBTTtTQUNUO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDWCxPQUFNO1NBQ1Q7UUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUE7UUFFZixJQUFJLFFBQVEsR0FBRztZQUNYLFdBQVcsRUFBRSxtQ0FBZ0IsQ0FBQyx1QkFBdUI7WUFDckQsR0FBRyxFQUFFLDJCQUFZLENBQUMsYUFBYTtZQUMvQixTQUFTLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLO1lBQ3pCLE9BQU8sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU07U0FDM0IsQ0FBQTtRQUNELGtCQUFnQixDQUFDLG9CQUFvQixDQUFDLGtCQUFrQixFQUFFLFFBQVEsQ0FBQyxDQUFBO1FBRW5FLGtCQUFrQjtRQUNsQixJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLG1CQUFtQixJQUFJLElBQUksQ0FBQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxrQkFBa0IsRUFBRTtZQUNuSCxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsa0JBQWtCLENBQUM7Z0JBQzVCLE9BQU8sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU87Z0JBQ3pCLE9BQU8sRUFBRTtvQkFDTCxrQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQyxpQkFBaUIsRUFBRSxRQUFRLENBQUMsQ0FBQTtnQkFDdEUsQ0FBQztnQkFDRCxJQUFJLEVBQUUsVUFBVSxHQUFHO29CQUNmLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO2dCQUNwQyxDQUFDO2FBQ0osQ0FBQyxDQUFBO1NBQ0w7UUFFRCxJQUFJLFVBQVUsR0FBRyxtQ0FBZ0IsQ0FBQyx1QkFBdUIsRUFBRSxDQUFBO1FBQzNELElBQUksVUFBVSxJQUFJLENBQUMsRUFBRTtZQUNqQixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUE7WUFDOUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQTtZQUNqQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxtQ0FBZ0IsQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUUsQ0FBQSxDQUFDLE1BQU07WUFDOUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO1NBQ3JFO1FBRUQsSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUE7SUFFeEMsQ0FBQztJQUVNLHFDQUFvQixHQUEzQixVQUE0QixJQUFJLEVBQUUsTUFBTTtRQUNwQyxJQUFJLElBQUksR0FBRztZQUNQLFFBQVEsRUFBRSxJQUFJO1lBQ2QsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO1NBQy9CLENBQUE7UUFDRCwyQkFBZ0IsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLDRCQUFVLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxFQUFFLFVBQUMsR0FBRztZQUN0RSxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQTtRQUNwQyxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCxrQ0FBTyxHQUFQLFVBQVEsS0FBSyxFQUFFLElBQUksRUFBRSxVQUFXO1FBRTVCLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFBO1FBRWYsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUE7WUFDeEIsT0FBTTtTQUNUO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFDL0QsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFFOUQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFBO1FBQzdCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQTtRQUM3QixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUE7UUFDN0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFBO1FBQzdCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQTtRQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUE7UUFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQTtRQUNqQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUE7UUFDL0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQTtRQUVsQywrQkFBYyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDN0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFDdEMsa0NBQWtDO1FBQ2xDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO1FBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFBO1FBQzVCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUU3QixJQUFJLFFBQVEsR0FBRztZQUNYLFdBQVcsRUFBRSxtQ0FBZ0IsQ0FBQyx1QkFBdUI7WUFDckQsR0FBRyxFQUFFLDJCQUFZLENBQUMsYUFBYTtZQUMvQixTQUFTLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLO1lBQ3pCLE9BQU8sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU07U0FDM0IsQ0FBQTtRQUVELGtCQUFnQixDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixFQUFFLFFBQVEsQ0FBQyxDQUFBLENBQUMsT0FBTztJQUNsRixDQUFDO0lBRUQsNENBQWlCLEdBQWpCLFVBQWtCLEtBQWE7UUFDM0IsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO1lBQ2YsUUFBUSxLQUFLLEVBQUU7Z0JBQ1gsS0FBSyxDQUFDLENBQUM7Z0JBQ1AsS0FBSyxDQUFDO29CQUNGLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQTtvQkFDNUIsTUFBTTtnQkFDVixLQUFLLENBQUM7b0JBQ0YsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBO29CQUM1QixNQUFNO2dCQUNWLEtBQUssQ0FBQztvQkFDRixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUE7b0JBQzVCLE1BQU07Z0JBQ1YsS0FBSyxDQUFDO29CQUNGLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQTtvQkFDNUIsTUFBTTtnQkFDVixLQUFLLENBQUM7b0JBQ0YsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBO29CQUM1QixNQUFNO2dCQUNWLEtBQUssQ0FBQztvQkFDRixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUE7b0JBQzVCLE1BQU07Z0JBQ1YsS0FBSyxDQUFDO29CQUNGLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQTtvQkFDNUIsTUFBTTthQUNiO1NBQ0o7SUFDTCxDQUFDOztJQTFKRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3VEQUNRO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7dURBQ1E7SUFHM0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt5REFDVTtJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3VEQUNRO0lBRzNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7dURBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt1REFDUTtJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3VEQUNRO0lBRzFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7dURBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt1REFDUTtJQTNCVCxnQkFBZ0I7UUFEcEMsT0FBTztPQUNhLGdCQUFnQixDQStKcEM7SUFBRCx1QkFBQztDQS9KRCxBQStKQyxDQS9KNkMsRUFBRSxDQUFDLFNBQVMsR0ErSnpEO2tCQS9Kb0IsZ0JBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3l5eF9jb25zdCB9IGZyb20gXCIuLi8uLi9jb25maWdzL3N5eXhfc2RrX2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBlX2FkX2lkLCBlX3N5eXhfY3RyX2V2ZW50X3R5cGUgfSBmcm9tIFwiLi4vLi4vY29uZmlncy9zeXl4X3Nka19lbnVtXCI7XHJcbmltcG9ydCB7IGFkX25hdGl2ZV9pbnRlcnN0aXRpYWwgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlci9hZC9hZF9uYXRpdmVfaW50ZXJzdGl0aWFsXCI7XHJcbmltcG9ydCB7IHN5eXhfYWR2X21hbmFnZXIgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlci9hZC9zeXl4X2Fkdl9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHN5eXhfY3RyX21hbmFnZXIgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlci9jdHJfdGVzdC9zeXl4X2N0cl9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHN5eXhfbWFuYWdlciB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVyL3N5eXhfbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBuYXRpdmVfYWRfZGF0YSB9IGZyb20gXCIuLi8uLi9tb2RlbC9tb2RlbFwiO1xyXG5pbXBvcnQgeyBzeXl4X3Nka19hcGkgfSBmcm9tIFwiLi4vLi4vc3l5eF9zZGtfYXBpXCI7XHJcbmltcG9ydCB7IHN5eXhfc2RrX3V0aWxzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3N5eXhfc2RrX3V0aWxzXCI7XHJcbmltcG9ydCB7IHN5eXhfYXBpX3JlcXVlc3QgfSBmcm9tIFwiLi4vLi4vdXRpbHMvc3l5eF9hcGlcIjtcclxuXHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc3l5eF91aV9jdHJfaXRlbSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGdhbWVfaWNvbjogY2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBnYW1lX25hbWU6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHJld2FyZF9pY29uOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICByZXdhcmROdW06IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGxhYmVsX2JnMTogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBsYWJlbF9iZzI6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgbGFiZWxfYmczOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGxhYmVsX2JnNDogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBsYWJlbF9iZzU6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgaW5kZXggPSB1bmRlZmluZWRcclxuICAgIHByaXZhdGUgY2xpY2tfYmFjayA9IHVuZGVmaW5lZFxyXG4gICAgcHJpdmF0ZSBhcHAgPSB1bmRlZmluZWRcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICB9XHJcblxyXG4gICAgb25fY2xpY2soKSB7XHJcblxyXG4gICAgICAgIGlmIChzeXl4X2N0cl9tYW5hZ2VyLmNoZWNrX2lzX2N0cl90ZXN0X2NvbXBlbGV0ZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmFwcCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcblxyXG4gICAgICAgIGxldCBkb3RfZGF0YSA9IHsgLy8g5omT54K55Y+C5pWwXHJcbiAgICAgICAgICAgIGxvY2F0aW9uX2lkOiBzeXl4X2N0cl9tYW5hZ2VyLm5ld19wcm9kdWN0X2xvY2F0aW9uX2lkLFxyXG4gICAgICAgICAgICB1aWQ6IHN5eXhfbWFuYWdlci5sb2dpbl91c2VyX2lkLFxyXG4gICAgICAgICAgICBjb25maWdfaWQ6IHNlbGYuYXBwLmdjX2lkLCBcclxuICAgICAgICAgICAgaWNvbl9pZDogc2VsZi5hcHAuaWNvbmlkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN5eXhfdWlfY3RyX2l0ZW0uY2xpY2tfbmF2aWdhdGlvbl9kb3QoJ0FkdmVydGlzaW5nQ2xpY2snLCBkb3RfZGF0YSlcclxuXHJcbiAgICAgICAgLy8gLy8g54K55Ye75LqGaWNvbu+8jOi3s+i9rOa4uOaIj1xyXG4gICAgICAgIGlmICh3aW5kb3dbJ3FnJ10gJiYgKHdpbmRvd1sncWcnXS5nZXRTeXN0ZW1JbmZvU3luYygpLnBsYXRmb3JtVmVyc2lvbkNvZGUgPj0gMTA1MCkgJiYgd2luZG93WydxZyddLm5hdmlnYXRlVG9NaW5pR2FtZSkge1xyXG4gICAgICAgICAgICB3aW5kb3dbJ3FnJ10ubmF2aWdhdGVUb01pbmlHYW1lKHtcclxuICAgICAgICAgICAgICAgIHBrZ05hbWU6IHRoaXMuYXBwLnBhY2thZ2UsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHsgLy8g6Lez6L2s5oiQ5Yqf5omT54K5XHJcbiAgICAgICAgICAgICAgICAgICAgc3l5eF91aV9jdHJfaXRlbS5jbGlja19uYXZpZ2F0aW9uX2RvdCgnQWR2ZXJ0aXNpbmdKdW1wJywgZG90X2RhdGEpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcykpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmV3YXJkX251bSA9IHN5eXhfY3RyX21hbmFnZXIuZ2V0X25ld19wcm9kdWN0c19yZXdhcmQoKVxyXG4gICAgICAgIGlmIChyZXdhcmRfbnVtICE9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5yZXdhcmRfaWNvbi5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgICAgIHRoaXMucmV3YXJkTnVtLm5vZGUuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICB0aGlzLnJld2FyZE51bS5zdHJpbmcgPSBzeXl4X2N0cl9tYW5hZ2VyLmdldF9uZXdfcHJvZHVjdHNfcmV3YXJkKCkgKyBcIlwiIC8vIDEwMFxyXG4gICAgICAgICAgICB0aGlzLnJld2FyZF9pY29uLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pLnBsYXkoXCJ6dWFuc2hpeGlhb3NoaVwiKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbGlja19iYWNrICYmIHRoaXMuY2xpY2tfYmFjaygpXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjbGlja19uYXZpZ2F0aW9uX2RvdCh0eXBlLCBwYXJhbXMpIHtcclxuICAgICAgICBsZXQgcmVxRCA9IHtcclxuICAgICAgICAgICAgbG9nX3R5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHBhcmFtcylcclxuICAgICAgICB9XHJcbiAgICAgICAgc3l5eF9hcGlfcmVxdWVzdC5hcGlQb3N0KCdkYV9kb3QnLCBzeXl4X2NvbnN0Lmd1b2Jhb19kYV9kb3RfdXJsLCByZXFELCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICBjb25zb2xlLmxvZygn6Lez6L2s5omT54K55Zue6LCD57uT5p6cLS0+JywgcmVzKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaChpbmRleCwgZGF0YSwgY2xpY2tfYmFjaz8pIHtcclxuXHJcbiAgICAgICAgdGhpcy5hcHAgPSBkYXRhXHJcblxyXG4gICAgICAgIGlmICghdGhpcy5hcHApIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMub25fY2xpY2ssIHRoaXMpXHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGljaywgdGhpcylcclxuXHJcbiAgICAgICAgdGhpcy5sYWJlbF9iZzEuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICB0aGlzLmxhYmVsX2JnMi5hY3RpdmUgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMubGFiZWxfYmczLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgdGhpcy5sYWJlbF9iZzQuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICB0aGlzLmxhYmVsX2JnNS5hY3RpdmUgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5nYW1lX2ljb24ubm9kZS5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5yZXdhcmRfaWNvbi5hY3RpdmUgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMucmV3YXJkTnVtLm5vZGUuYWN0aXZlID0gZmFsc2VcclxuXHJcbiAgICAgICAgc3l5eF9zZGtfdXRpbHMuc2V0X3RleHR1cmVfdXJsKHRoaXMuZ2FtZV9pY29uLCB0aGlzLmFwcC5pY29uKVxyXG4gICAgICAgIHRoaXMuZ2FtZV9uYW1lLnN0cmluZyA9IHRoaXMuYXBwLm5hbWU7XHJcbiAgICAgICAgLy8gdGhpcy5nYW1lX25hbWUuc3RyaW5nID0gJ+a1i+ivleWQjeWtlyc7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4XHJcbiAgICAgICAgdGhpcy5jbGlja19iYWNrID0gY2xpY2tfYmFja1xyXG4gICAgICAgIHRoaXMuc2V0X2xhYmVsX2JnX3NraW4oaW5kZXgpXHJcblxyXG4gICAgICAgIGxldCBkb3RfZGF0YSA9IHsgLy8g5omT54K55Y+C5pWwXHJcbiAgICAgICAgICAgIGxvY2F0aW9uX2lkOiBzeXl4X2N0cl9tYW5hZ2VyLm5ld19wcm9kdWN0X2xvY2F0aW9uX2lkLFxyXG4gICAgICAgICAgICB1aWQ6IHN5eXhfbWFuYWdlci5sb2dpbl91c2VyX2lkLFxyXG4gICAgICAgICAgICBjb25maWdfaWQ6IHRoaXMuYXBwLmdjX2lkLCBcclxuICAgICAgICAgICAgaWNvbl9pZDogdGhpcy5hcHAuaWNvbmlkXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzeXl4X3VpX2N0cl9pdGVtLmNsaWNrX25hdmlnYXRpb25fZG90KCdBZHZlcnRpc2luZ0V4cG9zdXJlJywgZG90X2RhdGEpIC8vIOabneWFieaJk+eCuVxyXG4gICAgfVxyXG5cclxuICAgIHNldF9sYWJlbF9iZ19za2luKGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYWJlbF9iZzUuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFiZWxfYmc0LmFjdGl2ZSA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhYmVsX2JnMy5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYWJlbF9iZzIuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFiZWxfYmcxLmFjdGl2ZSA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhYmVsX2JnMi5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYWJlbF9iZzUuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/E1controller.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '678c6psmBlMFaSYGCoDQdQ4', 'E1controller');
// scripts/game/E1controller.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var enemyHitCollider_1 = require("./enemyHitCollider");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["attack"] = 0] = "attack";
})(damageCollider || (damageCollider = {}));
var E1controller = /** @class */ (function (_super) {
    __extends(E1controller, _super);
    function E1controller() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.hpNode = null;
        _this.hpBar = null;
        _this.dieEffectName = "";
        _this.moveSpeed = 150; //移动速度
        _this.nowSpeed = 0; //当前速度
        _this.AI_interval = 1; //ai间隔
        _this.stopDistance = 130; //停止距离
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 25000; //手里剑攻击作用力
        _this.beHitForce_x = 25000; //普通攻击作用力
        _this.beHitForce_y_shuriken = 50000; //普通攻击作用力
        _this.beHitForce_x_attack3 = 350000; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isMove = false; //是否处于移动状态
        _this.dmgCollider = null;
        return _this;
    }
    E1controller.prototype.onLoad = function () {
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    E1controller.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
    };
    E1controller.prototype.init = function () {
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        this.AI_interval += Math.random();
        this.idle();
    };
    E1controller.prototype.update = function () {
        if (this.isMove == false)
            return;
        var distance = this.getDistanceX();
        if (Math.abs(distance) < this.stopDistance) {
            this.hit();
        }
        else {
            if (this.enemyAnimation.state == animationState_1.enemyState.attack)
                return;
            this.moveToPlayer();
        }
    };
    E1controller.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "ground") {
        }
    };
    E1controller.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    E1controller.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    E1controller.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    E1controller.prototype.AI_start = function () {
        var _this = this;
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.changeMovState(false);
            this.scheduleOnce(function () {
                _this.AI_start();
            }, this.AI_interval);
            return;
        }
        var distance = Math.abs(this.getDistanceX());
        if (distance < this.stopDistance) {
            this.hit();
        }
        else {
            this.changeDirection();
            var moveState = ["move", "move2", "run"];
            var randomState = moveState[caijiTools_1.caijiTools.random_int(0, moveState.length - 1)];
            this.enemyAnimation.changeState(animationState_1.enemyState[randomState], 1, true);
            switch (this.enemyAnimation.state) {
                case animationState_1.enemyState.move:
                    this.nowSpeed = this.moveSpeed;
                    break;
                case animationState_1.enemyState.move2:
                    this.nowSpeed = this.moveSpeed;
                    break;
                case animationState_1.enemyState.run:
                    this.nowSpeed = this.moveSpeed * 1.8;
                    break;
            }
            this.changeMovState(moveState.includes(this.skeleton.animation));
            this.nowSpeed = this.skeleton.node.scaleX > 0 ? -this.nowSpeed : this.nowSpeed;
        }
    };
    E1controller.prototype.AI_stop = function () {
        this.idle();
    };
    E1controller.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    E1controller.prototype.idle = function () {
        var _this = this;
        this.changeMovState(false);
        //this.changeDirection();
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.idle, 1, true, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.idle)
                return;
            _this.AI_start();
        }, this.AI_interval);
    };
    E1controller.prototype.changeDirection = function () {
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x - this.node.x > 0 ? -this.scaleX_skeleton : this.scaleX_skeleton;
        this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    E1controller.prototype.die = function () {
        this.isDie = true;
        this.node.active = false;
        this.hideHp();
        this.dieCount();
    };
    E1controller.prototype.getUp = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.get_up, 1, false, true);
    };
    E1controller.prototype.moveToPlayer = function () {
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    E1controller.prototype.hit = function () {
        var _this = this;
        if (animationState_1.enemyState[this.enemyAnimation.state].includes("get_hurt"))
            return;
        this.changeDirection();
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        this.showDamageCollider(damageCollider.attack);
        this.enemyAnimation.changeState(animationState_1.enemyState.attack, 1, false);
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.E1_Sword);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state == animationState_1.enemyState.attack) {
                _this.getDamageCollider().getComponent(enemyHitCollider_1.default).hit(_this.node, _this.damage);
            }
        }, 0.5);
    };
    E1controller.prototype.beHit = function (damage, dmgType) {
        this.changeMovState(false);
        this.setRigibodySpeed(0);
        //let isContinue = this.checkIsSwordRain(dmgType);//设置剑雨攻击间隔
        //if (isContinue == 0) return;
        this.highLight();
        this.showHp();
        this.changeState_beHit(dmgType);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        this.updateHp(damage);
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
    };
    E1controller.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    E1controller.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.get_hurt2;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.knock_down;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.get_hurt1;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    E1controller.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    E1controller.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    E1controller.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    E1controller.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    E1controller.prototype.updateHp = function (damage) {
        this.hp -= damage;
        this.hpBar.progress = this.hp / this.hpMax;
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    E1controller.prototype.showHp = function () {
        this.unschedule(this.hideHp);
        this.hpNode.active = true;
        this.scheduleOnce(this.hideHp, 2);
    };
    E1controller.prototype.hideHp = function () {
        this.hpNode.active = false;
    };
    E1controller.prototype.highLight = function () {
        this.unschedule(this.closeHighLight);
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        this.scheduleOnce(this.closeHighLight, 0.15);
    };
    E1controller.prototype.closeHighLight = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    E1controller.prototype.getDistanceX = function () {
        return this.node.x - GameManager_1.default.instance.player.x;
    };
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], E1controller.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], E1controller.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.Node)
    ], E1controller.prototype, "hpNode", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], E1controller.prototype, "hpBar", void 0);
    __decorate([
        property(cc.String)
    ], E1controller.prototype, "dieEffectName", void 0);
    E1controller = __decorate([
        ccclass
    ], E1controller);
    return E1controller;
}(enemyBase_1.default));
exports.default = E1controller;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRTFjb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdEQUE0QztBQUM1Qyw0Q0FBMkM7QUFDM0MscURBQWdEO0FBQ2hELG1EQUEwRDtBQUMxRCxtREFBOEM7QUFDOUMseUNBQW9DO0FBQ3BDLHVEQUFrRDtBQUNsRCxtQ0FBOEI7QUFDOUIsNkNBQXdDO0FBRWxDLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBQzVDLElBQUssY0FFSjtBQUZELFdBQUssY0FBYztJQUNmLHVEQUFNLENBQUE7QUFDVixDQUFDLEVBRkksY0FBYyxLQUFkLGNBQWMsUUFFbEI7QUFFRDtJQUEwQyxnQ0FBUztJQUFuRDtRQUFBLHFFQThRQztRQTNRRyx3QkFBa0IsR0FBVyxDQUFDLENBQUM7UUFFL0Isd0JBQWtCLEdBQVcsQ0FBQyxDQUFDO1FBRS9CLFlBQU0sR0FBWSxJQUFJLENBQUM7UUFFdkIsV0FBSyxHQUFtQixJQUFJLENBQUM7UUFFN0IsbUJBQWEsR0FBVyxFQUFFLENBQUM7UUFFM0IsZUFBUyxHQUFXLEdBQUcsQ0FBQyxDQUFBLE1BQU07UUFDOUIsY0FBUSxHQUFXLENBQUMsQ0FBQyxDQUFBLE1BQU07UUFDM0IsaUJBQVcsR0FBVyxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQzlCLGtCQUFZLEdBQVEsR0FBRyxDQUFDLENBQUEsTUFBTTtRQUM5QixRQUFFLEdBQVcsQ0FBQyxDQUFDO1FBQ2YsYUFBTyxHQUFRLENBQUMsQ0FBQyxDQUFBLE1BQU07UUFDdkIsa0JBQVksR0FBVyxLQUFLLENBQUMsQ0FBQSxVQUFVO1FBQ3ZDLGtCQUFZLEdBQVcsS0FBSyxDQUFBLENBQUEsU0FBUztRQUNyQywyQkFBcUIsR0FBVyxLQUFLLENBQUEsQ0FBQSxTQUFTO1FBQzlDLDBCQUFvQixHQUFX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QixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IHsgYXR0YWNrVHlwZSwgZW5lbXlTdGF0ZSB9IGZyb20gXCIuL2FuaW1hdGlvblN0YXRlXCI7XG5pbXBvcnQgZW5lbXlBbmltYXRpb24gZnJvbSBcIi4vZW5lbXlBbmltYXRpb25cIjtcbmltcG9ydCBlbmVteUJhc2UgZnJvbSBcIi4vZW5lbXlCYXNlXCI7XG5pbXBvcnQgZW5lbXlIaXRDb2xsaWRlciBmcm9tIFwiLi9lbmVteUhpdENvbGxpZGVyXCI7XG5pbXBvcnQgRXZlbnRzIGZyb20gXCIuL0V2ZW50c1wiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5lbnVtIGRhbWFnZUNvbGxpZGVye1xuICAgIGF0dGFja1xufVxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEUxY29udHJvbGxlciBleHRlbmRzIGVuZW15QmFzZSB7XG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5GbG9hdCwgdG9vbHRpcDogXCLkvKTlrrPmlYjmnpx46L205YGP56e75YC8XCIgfSlcbiAgICBkYW1hZ2VMYWJlbE9mZnNldFg6IG51bWJlciA9IDA7XG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuRmxvYXQsIHRvb2x0aXA6IFwi5Lyk5a6z5pWI5p6ceei9tOWBj+enu+WAvFwiIH0pXG4gICAgZGFtYWdlTGFiZWxPZmZzZXRZOiBudW1iZXIgPSAwO1xuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIGhwTm9kZTogY2MuTm9kZSA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLlByb2dyZXNzQmFyKVxuICAgIGhwQmFyOiBjYy5Qcm9ncmVzc0JhciA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLlN0cmluZylcbiAgICBkaWVFZmZlY3ROYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG4gICAgbW92ZVNwZWVkOiBudW1iZXIgPSAxNTA7Ly/np7vliqjpgJ/luqZcbiAgICBub3dTcGVlZDogbnVtYmVyID0gMDsvL+W9k+WJjemAn+W6plxuICAgIEFJX2ludGVydmFsOiBudW1iZXIgPSAxOy8vYWnpl7TpmpRcbiAgICBzdG9wRGlzdGFuY2U6bnVtYmVyPTEzMDsvL+WBnOatoui3neemu1xuICAgIGhwOiBudW1iZXIgPSAwO1xuICAgIGhwVGltZXM6bnVtYmVyPTE7Ly/ooYDph4/lgI3mlbBcbiAgICBiZUhpdEZvcmNlX3k6IG51bWJlciA9IDI1MDAwOy8v5omL6YeM5YmR5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94OiBudW1iZXIgPSAyNTAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV95X3NodXJpa2VuOiBudW1iZXIgPSA1MDAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94X2F0dGFjazM6IG51bWJlciA9IDM1MDAwMDsvL+iiq+WHu+mjnuS9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeV9hdHRhY2szOiBudW1iZXIgPSAwOy8v6KKr5Ye76aOe5L2c55So5YqbXG4gICAgc2NhbGVYX3NrZWxldG9uOiBudW1iZXIgPSAwO1xuICAgIGlzRGllOiBib29sZWFuID0gZmFsc2U7XG4gICAgc2tlbGV0b246IHNwLlNrZWxldG9uID0gbnVsbDtcbiAgICBlbmVteUFuaW1hdGlvbjogZW5lbXlBbmltYXRpb24gPSBudWxsO1xuICAgIHJpZ2lib2R5OiBjYy5SaWdpZEJvZHkgPSBudWxsO1xuICAgIGJveENvbGxpZGVyOiBjYy5QaHlzaWNzQm94Q29sbGlkZXIgPSBudWxsO1xuICAgIGlzU3dvcmRSYWluQ2Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc01vdmU6IGJvb2xlYW4gPSBmYWxzZTsvL+aYr+WQpuWkhOS6juenu+WKqOeKtuaAgVxuICAgIGRtZ0NvbGxpZGVyOmRhbWFnZUNvbGxpZGVyPW51bGw7XG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24gPSB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcbiAgICAgICAgdGhpcy5zY2FsZVhfc2tlbGV0b24gPSBNYXRoLmFicyh0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbiA9IHRoaXMubm9kZS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoZW5lbXlBbmltYXRpb24pO1xuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmVuZW15Q29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgIHRoaXMucmlnaWJvZHkgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlJpZ2lkQm9keSk7XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlBoeXNpY3NCb3hDb2xsaWRlcik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5za2VsZXRvbi5za2VsZXRvbkRhdGEuX3NrZWxldG9uQ2FjaGUuYW5pbWF0aW9ucyk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICAgICAgdGhpcy5ocCA9IHRoaXMuaHBNYXgqdGhpcy5ocFRpbWVzO1xuICAgICAgICB0aGlzLkFJX2ludGVydmFsKz1NYXRoLnJhbmRvbSgpO1xuICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5pc01vdmUgPT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gdGhpcy5nZXREaXN0YW5jZVgoKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRpc3RhbmNlKSA8IHRoaXMuc3RvcERpc3RhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmhpdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZT09ZW5lbXlTdGF0ZS5hdHRhY2spIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvUGxheWVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25CZWdpbkNvbnRhY3QoY29udGFjdDogY2MuUGh5c2ljc0NvbnRhY3QsIHNlbGZDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyLCBvdGhlckNvbGxpZGVyOiBjYy5QaHlzaWNzQ29sbGlkZXIpIHtcbiAgICAgICAgbGV0IG90aGVyID0gb3RoZXJDb2xsaWRlci5ub2RlO1xuICAgICAgICAvLyBsZXQgd29ybGRNYW5pZm9sZCA9IGNvbnRhY3QuZ2V0V29ybGRNYW5pZm9sZCgpO1xuICAgICAgICAvLyBsZXQgbm9ybWFsID0gd29ybGRNYW5pZm9sZC5ub3JtYWw7XG4gICAgICAgIGlmIChvdGhlci5ncm91cCA9PSBcImdyb3VuZFwiKSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd0RhbWFnZUNvbGxpZGVyKGNvbGxpZGVyOmRhbWFnZUNvbGxpZGVyKXtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW2NvbGxpZGVyXS5hY3RpdmU9dHJ1ZTtcbiAgICAgICAgdGhpcy5kbWdDb2xsaWRlcj1jb2xsaWRlcjtcbiAgICB9XG4gICAgZ2V0RGFtYWdlQ29sbGlkZXIoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2tlbGV0b24ubm9kZS5jaGlsZHJlblt0aGlzLmRtZ0NvbGxpZGVyXTtcbiAgICB9XG4gICAgaGlkZURhbWFnZUNvbGxpZGVyKCl7XG4gICAgICAgIGlmKHRoaXMuZG1nQ29sbGlkZXI9PW51bGwpIHJldHVybjtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdLmFjdGl2ZT1mYWxzZTtcbiAgICAgICAgdGhpcy5kbWdDb2xsaWRlcj1udWxsO1xuICAgIH1cbiAgICBBSV9zdGFydCgpIHtcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5pc0RpZSl7XG4gICAgICAgICAgICAvL+eOqeWutuW3suatuyDlgZzmraLnp7vliqhcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLkFJX3N0YXJ0KCk7XG4gICAgICAgICAgICB9LHRoaXMuQUlfaW50ZXJ2YWwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguYWJzKHRoaXMuZ2V0RGlzdGFuY2VYKCkpO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgICAgICBsZXQgbW92ZVN0YXRlID0gW1wibW92ZVwiLCBcIm1vdmUyXCIsIFwicnVuXCJdO1xuICAgICAgICAgICAgbGV0IHJhbmRvbVN0YXRlID0gbW92ZVN0YXRlW2NhaWppVG9vbHMucmFuZG9tX2ludCgwLCBtb3ZlU3RhdGUubGVuZ3RoIC0gMSldO1xuICAgICAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlW3JhbmRvbVN0YXRlXSwgMSwgdHJ1ZSk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVuZW15U3RhdGUubW92ZTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3dTcGVlZD10aGlzLm1vdmVTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbmVteVN0YXRlLm1vdmUyOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vd1NwZWVkPXRoaXMubW92ZVNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgZW5lbXlTdGF0ZS5ydW46XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm93U3BlZWQ9dGhpcy5tb3ZlU3BlZWQqMS44O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUobW92ZVN0YXRlLmluY2x1ZGVzKHRoaXMuc2tlbGV0b24uYW5pbWF0aW9uKSk7XG4gICAgICAgICAgICB0aGlzLm5vd1NwZWVkID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtdGhpcy5ub3dTcGVlZCA6IHRoaXMubm93U3BlZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQUlfc3RvcCgpIHtcbiAgICAgICAgdGhpcy5pZGxlKCk7XG4gICAgfVxuICAgIGNoYW5nZU1vdlN0YXRlKGlzTW92ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzTW92ZSA9IGlzTW92ZTtcbiAgICB9XG4gICAgaWRsZSgpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgIC8vdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5zZXRMaW5lYXJEYW1waW5nKDApO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCwwKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmlkbGUsIDEsIHRydWUsdHJ1ZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIGlmKHRoaXMuZW5lbXlBbmltYXRpb24uc3RhdGUhPWVuZW15U3RhdGUuaWRsZSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5BSV9zdGFydCgpO1xuICAgICAgICB9LCB0aGlzLkFJX2ludGVydmFsKTtcbiAgICB9XG4gICAgY2hhbmdlRGlyZWN0aW9uKCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggLSB0aGlzLm5vZGUueCA+IDAgPyAtdGhpcy5zY2FsZVhfc2tlbGV0b24gOiB0aGlzLnNjYWxlWF9za2VsZXRvbjtcbiAgICAgICAgdGhpcy5ocE5vZGUueCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gLTI4IDogMjg7XG4gICAgfVxuICAgIGRpZSgpIHtcbiAgICAgICAgdGhpcy5pc0RpZSA9IHRydWU7XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oaWRlSHAoKTtcbiAgICAgICAgdGhpcy5kaWVDb3VudCgpO1xuICAgIH1cbiAgICBnZXRVcCgpIHtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmdldF91cCwgMSwgZmFsc2UsIHRydWUpXG4gICAgfVxuICAgIG1vdmVUb1BsYXllcigpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52Mih0aGlzLm5vd1NwZWVkLDApO1xuICAgIH1cbiAgICBoaXQoKSB7XG4gICAgICAgIGlmKGVuZW15U3RhdGVbdGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZV0uaW5jbHVkZXMoXCJnZXRfaHVydFwiKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigpO1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDAsMCk7XG4gICAgICAgIHRoaXMuc2hvd0RhbWFnZUNvbGxpZGVyKGRhbWFnZUNvbGxpZGVyLmF0dGFjayk7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5hdHRhY2ssIDEsIGZhbHNlKTtcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuRTFfU3dvcmQpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZT09ZW5lbXlTdGF0ZS5hdHRhY2spe1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGFtYWdlQ29sbGlkZXIoKS5nZXRDb21wb25lbnQoZW5lbXlIaXRDb2xsaWRlcikuaGl0KHRoaXMubm9kZSx0aGlzLmRhbWFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sMC41KTtcbiAgICB9XG4gICAgYmVIaXQoZGFtYWdlOiBudW1iZXIsIGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VNb3ZTdGF0ZShmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0UmlnaWJvZHlTcGVlZCgwKTtcbiAgICAgICAgLy9sZXQgaXNDb250aW51ZSA9IHRoaXMuY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlKTsvL+iuvue9ruWJkembqOaUu+WHu+mXtOmalFxuICAgICAgICAvL2lmIChpc0NvbnRpbnVlID09IDApIHJldHVybjtcbiAgICAgICAgdGhpcy5oaWdoTGlnaHQoKTtcbiAgICAgICAgdGhpcy5zaG93SHAoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZV9iZUhpdChkbWdUeXBlKTtcbiAgICAgICAgbGV0IHggPSB0aGlzLm5vZGUuc2NhbGVYIDwgMCA/IHRoaXMubm9kZS54ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFggOiB0aGlzLm5vZGUueCAtIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRYO1xuICAgICAgICBsZXQgeSA9IHRoaXMubm9kZS55ICsgdGhpcy5kYW1hZ2VMYWJlbE9mZnNldFk7XG4gICAgICAgIEV2ZW50cy5pbnN0YW5jZS5zaG93RGFtYWdlTGFiZWxfZW5lbXkodGhpcy5ub2RlLCBkYW1hZ2UsIGNjLnYyKHgsIHkpKTtcbiAgICAgICAgdGhpcy51cGRhdGVIcChkYW1hZ2UpO1xuICAgICAgICBpZiAodGhpcy5ocCA8PSAwKSB7XG4gICAgICAgICAgICBFdmVudHMuaW5zdGFuY2UuY3JlYXRlRW5lbXlEaWVFZmZlY3QodGhpcy5ub2RlLCB0aGlzLmRpZUVmZmVjdE5hbWUsIGNjLnYyKHgsIHkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRSaWdpYm9keVNwZWVkKHg6bnVtYmVyLHk6bnVtYmVyPTApe1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5PWNjLnYyKHgseSk7XG4gICAgfVxuICAgIGNoYW5nZVN0YXRlX2JlSGl0KGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYodGhpcy5pc1N1cGVyQXJtb3IpIHJldHVybjtcbiAgICAgICAgbGV0IHN0YXRlID0gbnVsbDtcbiAgICAgICAgbGV0IGlzS25vY2tEb3duID0gZG1nVHlwZSA9PSBhdHRhY2tUeXBlLmF0dGFjazMgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoZG1nVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazE6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MjtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+IHRoaXMubm9kZS54ID8gLXRoaXMuYmVIaXRGb3JjZV94IDogdGhpcy5iZUhpdEZvcmNlX3gsIDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2szOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZygwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZyg1KTtcbiAgICAgICAgICAgICAgICB9LCAwLjQpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5rbm9ja19kb3duO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGUueCA8IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ICYmIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tlbGV0b24ubm9kZS5zY2FsZVggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52MigtdGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ub2RlLnggPiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCAmJiBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIodGhpcy5iZUhpdEZvcmNlX3hfYXR0YWNrMywgdGhpcy5iZUhpdEZvcmNlX3lfYXR0YWNrMykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5qdW1wSGl0OlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLnNodXJpa2VuOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iZUhpdEZvcmNlX3lfc2h1cmlrZW4pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5zd29yZFJhaW46XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShzdGF0ZSwgMSwgZmFsc2UsIGlzS25vY2tEb3duKTtcbiAgICB9XG4gICAgc2V0TGluZWFyRGFtcGluZyhkYW1waW5nOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJEYW1waW5nID0gZGFtcGluZztcbiAgICB9XG4gICAgc2V0RnJpY3Rpb24oZnJpY3Rpb246IG51bWJlciA9IDApIHtcbiAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5mcmljdGlvbiA9IGZyaWN0aW9uO1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmFwcGx5KCk7XG4gICAgfVxuICAgIGFwcGx5Rm9yY2UoZm9yY2U6IGNjLlZlYzIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBlckFybW9yKSByZXR1cm47XG4gICAgICAgIHRoaXMucmlnaWJvZHkuYXBwbHlGb3JjZVRvQ2VudGVyKGZvcmNlLCB0cnVlKTtcbiAgICB9XG4gICAgY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIGlmIChkbWdUeXBlID09IGF0dGFja1R5cGUuc3dvcmRSYWluKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1N3b3JkUmFpbkNkKSByZXR1cm4gMDtcbiAgICAgICAgICAgIHRoaXMuaXNTd29yZFJhaW5DZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1N3b3JkUmFpbkNkID0gZmFsc2U7XG4gICAgICAgICAgICB9LCB0aGlzLnN3b3JkUmFpbkhpdENkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgdXBkYXRlSHAoZGFtYWdlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ocCAtPSBkYW1hZ2U7XG4gICAgICAgIHRoaXMuaHBCYXIucHJvZ3Jlc3MgPSB0aGlzLmhwIC8gdGhpcy5ocE1heDtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5ocCA9IDA7XG4gICAgICAgICAgICB0aGlzLmRpZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNob3dIcCgpIHtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuaGlkZUhwKTtcbiAgICAgICAgdGhpcy5ocE5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5oaWRlSHAsMik7XG4gICAgfVxuICAgIGhpZGVIcCgpIHtcbiAgICAgICAgdGhpcy5ocE5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICAgIGhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuY2xvc2VIaWdoTGlnaHQpO1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMSk7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJoaWdoTGlnaHRDb2xvclwiLCBbMS4wLDEuMCwxLjAsMC41XSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuY2xvc2VIaWdoTGlnaHQsIDAuMTUpO1xuICAgIH1cbiAgICBjbG9zZUhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImJlSGl0XCIsIDApO1xuICAgIH1cbiAgICBnZXREaXN0YW5jZVgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUueCAtIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54O1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/dontDestroy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '78688IvLOJD5bJjjgJ7Gmkb', 'dontDestroy');
// scripts/dontDestroy.ts

"use strict";
// Learn TypeScript:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var caijiTools_1 = require("./caijiTools");
var data_1 = require("./sdk/data");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var dontDestroy = /** @class */ (function (_super) {
    __extends(dontDestroy, _super);
    function dontDestroy() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.loadingPanel = null;
        _this.times = 120; //增加体力间隔
        _this.Timer = 0; //当前倒计时
        _this.nowPower = 0; //当前体力
        _this.maxPower = 5; //自增体力上限
        _this.isTimer = false; //是否正在倒计时
        _this.min = 0;
        _this.sec = 0;
        _this.rainBowData = {
            istart: false,
            timerMax: 300,
            timer: 300
        };
        return _this;
    }
    dontDestroy_1 = dontDestroy;
    Object.defineProperty(dontDestroy, "instance", {
        get: function () {
            if (this._instance == null) {
                this._instance = new dontDestroy_1;
            }
            return this._instance;
        },
        enumerable: false,
        configurable: true
    });
    dontDestroy.prototype.onLoad = function () {
        this.Timer = this.times;
    };
    dontDestroy.prototype.start = function () {
        cc.game.addPersistRootNode(this.node);
        this.schedule(function () {
            var date = new Date();
            var time = date.getTime() / 1000;
            data_1.data.updateCache("Base", "exitTime", time); //保存退出游戏时的时间
        }, 1);
    };
    dontDestroy.prototype.getLoadingPanel = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prefab;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefab/loading")];
                    case 1:
                        prefab = _a.sent();
                        dontDestroy_1.instance.loadingPanel = cc.instantiate(prefab);
                        dontDestroy_1.instance.loadingPanel.setParent(cc.find("dontDestroy"));
                        dontDestroy_1.instance.loadingPanel.setPosition(cc.winSize.width / 2, cc.winSize.height / 2);
                        dontDestroy_1.instance.loadingPanel.children[0].setContentSize(cc.winSize);
                        return [2 /*return*/];
                }
            });
        });
    };
    dontDestroy.prototype.checkPowerIsFull = function () {
        this.nowPower = Number(data_1.data.getCache("Base", "power"));
        if (dontDestroy_1.instance.isTimer == false) {
            if (this.nowPower < this.maxPower) {
                dontDestroy_1.instance.isTimer = true;
                this.startTimer();
            }
            return;
        }
        if (this.nowPower >= this.maxPower) {
            this.unschedule(this.scheduleFun);
            dontDestroy_1.instance.isTimer = false;
        }
    };
    dontDestroy.prototype.startTimer = function () {
        dontDestroy_1.instance.min = 0;
        dontDestroy_1.instance.min = 0;
        this.Timer = this.times;
        this.unschedule(this.scheduleFun);
        this.schedule(this.scheduleFun, 1, this.times);
    };
    dontDestroy.prototype.scheduleFun = function () {
        this.Timer = this.Timer - 1;
        dontDestroy_1.instance.min = Math.floor(this.Timer / 60);
        dontDestroy_1.instance.sec = this.Timer % 60;
        if (this.Timer == 0) {
            this.nowPower++;
            data_1.data.updateCache("Base", "power", this.nowPower);
            this.Timer = this.times;
            if (this.nowPower < this.maxPower) {
                this.startTimer();
            }
            else {
                this.Timer = this.times;
                dontDestroy_1.instance.isTimer = false;
            }
        }
    };
    dontDestroy.prototype.rainBowSchedule = function () {
        if (dontDestroy_1.instance.rainBowData.istart == true)
            return;
        dontDestroy_1.instance.rainBowData.istart = true;
        dontDestroy_1.instance.rainBowData.timer = dontDestroy_1.instance.rainBowData.timerMax;
        this.schedule(function () {
            dontDestroy_1.instance.rainBowData.timer--;
        }, 1, dontDestroy_1.instance.rainBowData.timerMax - 1);
    };
    var dontDestroy_1;
    dontDestroy = dontDestroy_1 = __decorate([
        ccclass
    ], dontDestroy);
    return dontDestroy;
}(cc.Component));
exports.default = dontDestroy;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZG9udERlc3Ryb3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLG9CQUFvQjtBQUNwQixrRkFBa0Y7QUFDbEYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiw0RkFBNEY7QUFDNUYsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5Qiw0RkFBNEY7QUFDNUYsbUdBQW1HOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbkcsMkNBQTBDO0FBQzFDLG1DQUFrQztBQUc1QixJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUF5QywrQkFBWTtJQUFyRDtRQUFBLHFFQXlGQztRQS9FRyxrQkFBWSxHQUFTLElBQUksQ0FBQztRQUMxQixXQUFLLEdBQVcsR0FBRyxDQUFDLENBQUEsUUFBUTtRQUM1QixXQUFLLEdBQVcsQ0FBQyxDQUFDLENBQUEsT0FBTztRQUN6QixjQUFRLEdBQVcsQ0FBQyxDQUFDLENBQUMsTUFBTTtRQUM1QixjQUFRLEdBQVcsQ0FBQyxDQUFDLENBQUUsUUFBUTtRQUMvQixhQUFPLEdBQVksS0FBSyxDQUFDLENBQUEsU0FBUztRQUNsQyxTQUFHLEdBQVcsQ0FBQyxDQUFDO1FBQ2hCLFNBQUcsR0FBVyxDQUFDLENBQUM7UUFDaEIsaUJBQVcsR0FBQztZQUNSLE1BQU0sRUFBQyxLQUFLO1lBQ1osUUFBUSxFQUFDLEdBQUc7WUFDWixLQUFLLEVBQUMsR0FBRztTQUNaLENBQUE7O0lBbUVMLENBQUM7b0JBekZvQixXQUFXO0lBSTVCLHNCQUFrQix1QkFBUTthQUExQjtZQUNJLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxhQUFXLENBQUM7YUFDcEM7WUFDRCxPQUFPLElBQUks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QUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBeUYvQjtJQUFELGtCQUFDO0NBekZELEFBeUZDLENBekZ3QyxFQUFFLENBQUMsU0FBUyxHQXlGcEQ7a0JBekZvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBjYWlqaVRvb2xzIH0gZnJvbSBcIi4vY2FpamlUb29sc1wiO1xuaW1wb3J0IHsgZGF0YSB9IGZyb20gXCIuL3Nkay9kYXRhXCI7XG5cblxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGRvbnREZXN0cm95IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBkb250RGVzdHJveTtcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IGRvbnREZXN0cm95O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICB9XG4gICAgbG9hZGluZ1BhbmVsOmNjLk5vZGU9bnVsbDtcbiAgICB0aW1lczogbnVtYmVyID0gMTIwOy8v5aKe5Yqg5L2T5Yqb6Ze06ZqUXG4gICAgVGltZXI6IG51bWJlciA9IDA7Ly/lvZPliY3lgJLorqHml7ZcbiAgICBub3dQb3dlcjogbnVtYmVyID0gMDsgLy/lvZPliY3kvZPliptcbiAgICBtYXhQb3dlcjogbnVtYmVyID0gNTsgIC8v6Ieq5aKe5L2T5Yqb5LiK6ZmQXG4gICAgaXNUaW1lcjogYm9vbGVhbiA9IGZhbHNlOy8v5piv5ZCm5q2j5Zyo5YCS6K6h5pe2XG4gICAgbWluOiBudW1iZXIgPSAwO1xuICAgIHNlYzogbnVtYmVyID0gMDtcbiAgICByYWluQm93RGF0YT17XG4gICAgICAgIGlzdGFydDpmYWxzZSxcbiAgICAgICAgdGltZXJNYXg6MzAwLFxuICAgICAgICB0aW1lcjozMDBcbiAgICB9XG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHRoaXMuVGltZXIgPSB0aGlzLnRpbWVzO1xuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICBjYy5nYW1lLmFkZFBlcnNpc3RSb290Tm9kZSh0aGlzLm5vZGUpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGxldCB0aW1lID0gZGF0ZS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICAgICAgICAgZGF0YS51cGRhdGVDYWNoZShcIkJhc2VcIiwgXCJleGl0VGltZVwiLCB0aW1lKTsgIC8v5L+d5a2Y6YCA5Ye65ri45oiP5pe255qE5pe26Ze0XG4gICAgICAgIH0sIDEpO1xuICAgIH1cbiAgICBhc3luYyBnZXRMb2FkaW5nUGFuZWwoKXtcbiAgICAgICAgbGV0IHByZWZhYj1hd2FpdCBjYWlqaVRvb2xzLmxvYWRQcmVmYWIoXCJwcmVmYWIvbG9hZGluZ1wiKTtcbiAgICAgICAgZG9udERlc3Ryb3kuaW5zdGFuY2UubG9hZGluZ1BhbmVsPWNjLmluc3RhbnRpYXRlKHByZWZhYik7XG4gICAgICAgIGRvbnREZXN0cm95Lmluc3RhbmNlLmxvYWRpbmdQYW5lbC5zZXRQYXJlbnQoY2MuZmluZChcImRvbnREZXN0cm95XCIpKTtcbiAgICAgICAgZG9udERlc3Ryb3kuaW5zdGFuY2UubG9hZGluZ1BhbmVsLnNldFBvc2l0aW9uKGNjLndpblNpemUud2lkdGgvMixjYy53aW5TaXplLmhlaWdodC8yKTtcbiAgICAgICAgZG9udERlc3Ryb3kuaW5zdGFuY2UubG9hZGluZ1BhbmVsLmNoaWxkcmVuWzBdLnNldENvbnRlbnRTaXplKGNjLndpblNpemUpO1xuICAgIH1cbiAgICBjaGVja1Bvd2VySXNGdWxsKCl7XG4gICAgICAgIHRoaXMubm93UG93ZXIgPSBOdW1iZXIoZGF0YS5nZXRDYWNoZShcIkJhc2VcIiwgXCJwb3dlclwiKSk7XG4gICAgICAgIGlmKGRvbnREZXN0cm95Lmluc3RhbmNlLmlzVGltZXI9PWZhbHNlKXtcbiAgICAgICAgICAgIGlmICh0aGlzLm5vd1Bvd2VyIDwgdGhpcy5tYXhQb3dlcikge1xuICAgICAgICAgICAgICAgIGRvbnREZXN0cm95Lmluc3RhbmNlLmlzVGltZXI9dHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ub3dQb3dlciA+PSB0aGlzLm1heFBvd2VyKSB7XG4gICAgICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5zY2hlZHVsZUZ1bik7XG4gICAgICAgICAgICBkb250RGVzdHJveS5pbnN0YW5jZS5pc1RpbWVyPWZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0VGltZXIoKSB7XG4gICAgICAgIGRvbnREZXN0cm95Lmluc3RhbmNlLm1pbiA9IDA7XG4gICAgICAgIGRvbnREZXN0cm95Lmluc3RhbmNlLm1pbiA9IDA7XG4gICAgICAgIHRoaXMuVGltZXIgPSB0aGlzLnRpbWVzO1xuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5zY2hlZHVsZUZ1bik7XG4gICAgICAgIHRoaXMuc2NoZWR1bGUodGhpcy5zY2hlZHVsZUZ1biwgMSwgdGhpcy50aW1lcyk7XG4gICAgfVxuICAgIHNjaGVkdWxlRnVuKCkge1xuICAgICAgICB0aGlzLlRpbWVyID0gdGhpcy5UaW1lciAtIDE7XG4gICAgICAgIGRvbnREZXN0cm95Lmluc3RhbmNlLm1pbiA9IE1hdGguZmxvb3IodGhpcy5UaW1lciAvIDYwKTtcbiAgICAgICAgZG9udERlc3Ryb3kuaW5zdGFuY2Uuc2VjID0gdGhpcy5UaW1lciAlIDYwO1xuICAgICAgICBpZiAodGhpcy5UaW1lciA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm5vd1Bvd2VyKys7XG4gICAgICAgICAgICBkYXRhLnVwZGF0ZUNhY2hlKFwiQmFzZVwiLCBcInBvd2VyXCIsIHRoaXMubm93UG93ZXIpO1xuICAgICAgICAgICAgdGhpcy5UaW1lciA9IHRoaXMudGltZXM7XG4gICAgICAgICAgICBpZiAodGhpcy5ub3dQb3dlciA8IHRoaXMubWF4UG93ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuVGltZXIgPSB0aGlzLnRpbWVzO1xuICAgICAgICAgICAgICAgIGRvbnREZXN0cm95Lmluc3RhbmNlLmlzVGltZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByYWluQm93U2NoZWR1bGUoKXtcbiAgICAgICAgaWYoZG9udERlc3Ryb3kuaW5zdGFuY2UucmFpbkJvd0RhdGEuaXN0YXJ0PT10cnVlKSByZXR1cm47XG4gICAgICAgIGRvbnREZXN0cm95Lmluc3RhbmNlLnJhaW5Cb3dEYXRhLmlzdGFydD10cnVlO1xuICAgICAgICBkb250RGVzdHJveS5pbnN0YW5jZS5yYWluQm93RGF0YS50aW1lcj1kb250RGVzdHJveS5pbnN0YW5jZS5yYWluQm93RGF0YS50aW1lck1heDtcbiAgICAgICAgdGhpcy5zY2hlZHVsZSgoKT0+e1xuICAgICAgICAgICAgZG9udERlc3Ryb3kuaW5zdGFuY2UucmFpbkJvd0RhdGEudGltZXItLTtcbiAgICAgICAgfSwxLGRvbnREZXN0cm95Lmluc3RhbmNlLnJhaW5Cb3dEYXRhLnRpbWVyTWF4LTEpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/E2controller.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f9a40xSQqJKM4RqNHl6mG72', 'E2controller');
// scripts/game/E2controller.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var audioManager_1 = require("../main/audioManager");
var animationState_1 = require("./animationState");
var enemyAnimation_1 = require("./enemyAnimation");
var enemyBase_1 = require("./enemyBase");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["attack"] = 0] = "attack";
})(damageCollider || (damageCollider = {}));
var E2controller = /** @class */ (function (_super) {
    __extends(E2controller, _super);
    function E2controller() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.damageLabelOffsetX = 0;
        _this.damageLabelOffsetY = 0;
        _this.hpNode = null;
        _this.hpBar = null;
        _this.dieEffectName = "";
        _this.moveSpeed_fast = 180; //移动速度
        _this.moveSpeed_slow = 100;
        _this.nowSpeed = 0; //当前速度
        _this.lastSpeed = 100; //上一次移动速度
        _this.AI_interval = 1; //ai间隔
        _this.stopDistance = 250; //停止距离
        _this.hp = 0;
        _this.hpTimes = 1; //血量倍数
        _this.beHitForce_y = 25000; //手里剑攻击作用力
        _this.beHitForce_x = 25000; //普通攻击作用力
        _this.beHitForce_y_shuriken = 50000; //普通攻击作用力
        _this.beHitForce_x_attack3 = 350000; //被击飞作用力
        _this.beHitForce_y_attack3 = 0; //被击飞作用力
        _this.scaleX_skeleton = 0;
        _this.isDie = false;
        _this.skeleton = null;
        _this.enemyAnimation = null;
        _this.rigibody = null;
        _this.boxCollider = null;
        _this.isSwordRainCd = false;
        _this.isMove = false; //是否处于移动状态
        _this.dmgCollider = null;
        _this.playerPosition = null;
        return _this;
    }
    E2controller.prototype.onLoad = function () {
        this.lastSpeed = this.moveSpeed_slow;
        this.skeleton = this.node.children[0].getComponent(sp.Skeleton);
        this.scaleX_skeleton = Math.abs(this.skeleton.node.scaleX);
        this.enemyAnimation = this.node.children[0].getComponent(enemyAnimation_1.default);
        this.enemyAnimation.enemyController = this;
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.boxCollider = this.node.getComponent(cc.PhysicsBoxCollider);
    };
    E2controller.prototype.start = function () {
        this.init();
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
    };
    E2controller.prototype.init = function () {
        this.initData();
        this.hp = this.hpMax * this.hpTimes;
        this.AI_interval += Math.random();
        this.AI_start();
    };
    E2controller.prototype.update = function () {
        if (this.isMove == false)
            return;
        this.farAwayPlayer();
    };
    E2controller.prototype.lateUpdate = function () {
        if (this.isMove == false)
            return;
    };
    E2controller.prototype.onBeginContact = function (contact, selfCollider, otherCollider) {
        var other = otherCollider.node;
        // let worldManifold = contact.getWorldManifold();
        // let normal = worldManifold.normal;
        if (other.group == "wall") {
            this.skeleton.node.scaleX = -this.skeleton.node.scaleX;
        }
    };
    E2controller.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    E2controller.prototype.getDamageCollider = function () {
        return this.skeleton.node.children[this.dmgCollider];
    };
    E2controller.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    E2controller.prototype.AI_start = function () {
        var _this = this;
        if (GameManager_1.default.instance.playerController.isDie) {
            //玩家已死 停止移动
            this.scheduleOnce(function () {
                _this.AI_start();
            }, 1);
            return;
        }
        var distance = Math.abs(this.getDistanceX());
        if (distance > this.stopDistance) {
            this.hit();
        }
        else {
            this.changeDirection();
            this.changeMovState(true);
            this.nowSpeed = this.lastSpeed == this.moveSpeed_slow ? this.moveSpeed_fast : this.moveSpeed_slow;
            var timeScale = this.nowSpeed == this.moveSpeed_fast ? 2 : 1;
            this.enemyAnimation.changeState(animationState_1.enemyState.move, timeScale, true);
            this.lastSpeed = this.nowSpeed;
            this.scheduleOnce(function () {
                if (_this.enemyAnimation.state != animationState_1.enemyState.move)
                    return;
                _this.idle();
            }, 2);
        }
    };
    E2controller.prototype.AI_stop = function () {
        this.idle();
    };
    E2controller.prototype.changeMovState = function (isMove) {
        this.isMove = isMove;
    };
    E2controller.prototype.idle = function (isComeBackHead) {
        var _this = this;
        if (isComeBackHead === void 0) { isComeBackHead = true; }
        this.changeMovState(false);
        if (isComeBackHead) {
            this.comeBackHead();
        }
        this.setLinearDamping(0);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.idle, 1, true, true);
        this.scheduleOnce(function () {
            if (_this.enemyAnimation.state != animationState_1.enemyState.idle)
                return;
            _this.AI_start();
        }, this.AI_interval);
    };
    E2controller.prototype.changeDirection = function () {
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x > this.node.x ? this.scaleX_skeleton : -this.scaleX_skeleton;
        this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    E2controller.prototype.comeBackHead = function () {
        this.skeleton.node.scaleX = GameManager_1.default.instance.player.x > this.node.x ? -this.scaleX_skeleton : this.scaleX_skeleton;
        this.hpNode.x = this.skeleton.node.scaleX > 0 ? -28 : 28;
    };
    E2controller.prototype.die = function () {
        this.isDie = true;
        this.node.active = false;
        this.hideHp();
        this.dieCount();
    };
    E2controller.prototype.knockDown2 = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.knock_down2, 1, false, true);
    };
    E2controller.prototype.getUp = function () {
        this.enemyAnimation.changeState(animationState_1.enemyState.get_up, 1, false, true);
    };
    E2controller.prototype.farAwayPlayer = function () {
        this.nowSpeed = this.skeleton.node.scaleX > 0 ? -Math.abs(this.nowSpeed) : Math.abs(this.nowSpeed);
        this.rigibody.linearVelocity = cc.v2(this.nowSpeed, 0);
    };
    E2controller.prototype.hit = function () {
        if (animationState_1.enemyState[this.enemyAnimation.state].includes("get_hurt"))
            return;
        this.playerPosition = cc.v2(GameManager_1.default.instance.player.position);
        this.comeBackHead();
        this.changeMovState(false);
        this.setRigibodySpeed(0, 0);
        this.enemyAnimation.changeState(animationState_1.enemyState.attack, 1, false);
    };
    E2controller.prototype.shootArrow = function (trackEntry, event) {
        if (event.data.name == "Fire") {
            audioManager_1.default.playAudio(audioNameMgr_1.audioName.E2Shoot);
            var x = this.skeleton.node.scaleX > 0 ? this.node.x - 35 : this.node.x + 35;
            var y = this.node.y + 110;
            var angle = this.skeleton.node.scaleX > 0 ? -25 : -155;
            Events_1.default.instance.createArrow(this.node, cc.v2(x, y), this.playerPosition, angle, this.damage);
        }
    };
    E2controller.prototype.beHit = function (damage, dmgType) {
        this.changeMovState(false);
        this.setRigibodySpeed(0);
        // let isContinue = this.checkIsSwordRain(dmgType);//设置剑雨攻击间隔
        // if (isContinue == 0) return;
        this.highLight();
        this.showHp();
        this.changeState_beHit(dmgType);
        var x = this.node.scaleX < 0 ? this.node.x + this.damageLabelOffsetX : this.node.x - this.damageLabelOffsetX;
        var y = this.node.y + this.damageLabelOffsetY;
        Events_1.default.instance.showDamageLabel_enemy(this.node, damage, cc.v2(x, y));
        this.updateHp(damage);
        if (this.hp <= 0) {
            Events_1.default.instance.createEnemyDieEffect(this.node, this.dieEffectName, cc.v2(x, y));
        }
    };
    E2controller.prototype.setRigibodySpeed = function (x, y) {
        if (y === void 0) { y = 0; }
        this.rigibody.linearVelocity = cc.v2(x, y);
    };
    E2controller.prototype.changeState_beHit = function (dmgType) {
        var _this = this;
        if (this.isSuperArmor)
            return;
        var state = null;
        var isKnockDown = dmgType == animationState_1.attackType.attack3 ? true : false;
        switch (dmgType) {
            case animationState_1.attackType.attack1:
                state = animationState_1.enemyState.get_hurt2;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack2:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.attack3:
                this.setLinearDamping(0);
                this.scheduleOnce(function () {
                    _this.setLinearDamping(5);
                }, 0.4);
                state = animationState_1.enemyState.knock_down1;
                if (this.node.x < GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX < 0) {
                    this.applyForce(cc.v2(-this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                else if (this.node.x > GameManager_1.default.instance.player.x && GameManager_1.default.instance.playerController.skeleton.node.scaleX > 0) {
                    this.applyForce(cc.v2(this.beHitForce_x_attack3, this.beHitForce_y_attack3));
                }
                break;
            case animationState_1.attackType.jumpHit:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, 0));
                break;
            case animationState_1.attackType.shuriken:
                state = animationState_1.enemyState.get_hurt1;
                this.applyForce(cc.v2(GameManager_1.default.instance.player.x > this.node.x ? -this.beHitForce_x : this.beHitForce_x, this.beHitForce_y_shuriken));
                break;
            case animationState_1.attackType.swordRain:
                state = animationState_1.enemyState.get_hurt1;
                break;
            default:
        }
        this.enemyAnimation.changeState(state, 1, false, isKnockDown);
    };
    E2controller.prototype.setLinearDamping = function (damping) {
        this.rigibody.linearDamping = damping;
    };
    E2controller.prototype.setFriction = function (friction) {
        if (friction === void 0) { friction = 0; }
        this.boxCollider.friction = friction;
        this.boxCollider.apply();
    };
    E2controller.prototype.applyForce = function (force) {
        if (this.isSuperArmor)
            return;
        this.rigibody.applyForceToCenter(force, true);
    };
    E2controller.prototype.checkIsSwordRain = function (dmgType) {
        var _this = this;
        if (dmgType == animationState_1.attackType.swordRain) {
            if (this.isSwordRainCd)
                return 0;
            this.isSwordRainCd = true;
            this.scheduleOnce(function () {
                _this.isSwordRainCd = false;
            }, this.swordRainHitCd);
        }
        return 1;
    };
    E2controller.prototype.updateHp = function (damage) {
        this.hp -= damage;
        this.hpBar.progress = this.hp / this.hpMax;
        if (this.hp <= 0) {
            this.hp = 0;
            this.die();
        }
    };
    E2controller.prototype.showHp = function () {
        this.unschedule(this.hideHp);
        this.hpNode.active = true;
        this.scheduleOnce(this.hideHp, 2);
    };
    E2controller.prototype.hideHp = function () {
        this.hpNode.active = false;
    };
    E2controller.prototype.highLight = function () {
        this.unschedule(this.closeHighLight);
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [1.0, 1.0, 1.0, 0.5]);
        this.scheduleOnce(this.closeHighLight, 0.15);
    };
    E2controller.prototype.closeHighLight = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    E2controller.prototype.getDistanceX = function () {
        return this.node.x - GameManager_1.default.instance.player.x;
    };
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果x轴偏移值" })
    ], E2controller.prototype, "damageLabelOffsetX", void 0);
    __decorate([
        property({ type: cc.Float, tooltip: "伤害效果y轴偏移值" })
    ], E2controller.prototype, "damageLabelOffsetY", void 0);
    __decorate([
        property(cc.Node)
    ], E2controller.prototype, "hpNode", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], E2controller.prototype, "hpBar", void 0);
    __decorate([
        property(cc.String)
    ], E2controller.prototype, "dieEffectName", void 0);
    E2controller = __decorate([
        ccclass
    ], E2controller);
    return E2controller;
}(enemyBase_1.default));
exports.default = E2controller;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcRTJjb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGdEQUE0QztBQUM1QyxxREFBZ0Q7QUFDaEQsbURBQTBEO0FBQzFELG1EQUE4QztBQUM5Qyx5Q0FBb0M7QUFDcEMsbUNBQThCO0FBQzlCLDZDQUF3QztBQUVsQyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUM1QyxJQUFLLGNBRUo7QUFGRCxXQUFLLGNBQWM7SUFDZix1REFBTSxDQUFBO0FBQ1YsQ0FBQyxFQUZJLGNBQWMsS0FBZCxjQUFjLFFBRWxCO0FBRUQ7SUFBMEMsZ0NBQVM7SUFBbkQ7UUFBQSxxRUFzUkM7UUFuUkcsd0JBQWtCLEdBQVcsQ0FBQyxDQUFDO1FBRS9CLHdCQUFrQixHQUFXLENBQUMsQ0FBQztRQUUvQixZQUFNLEdBQVksSUFBSSxDQUFDO1FBRXZCLFdBQUssR0FBbUIsSUFBSSxDQUFDO1FBRTdCLG1CQUFhLEdBQVcsRUFBRSxDQUFDO1FBRzNCLG9CQUFjLEdBQVcsR0FBRyxDQUFDLENBQUEsTUFBTTtRQUNuQyxvQkFBYyxHQUFRLEdBQUcsQ0FBQztRQUMxQixjQUFRLEdBQVcsQ0FBQyxDQUFDLENBQUEsTUFBTTtRQUMzQixlQUFTLEdBQVEsR0FBRyxDQUFDLENBQUEsU0FBUztRQUM5QixpQkFBVyxHQUFXLENBQUMsQ0FBQyxDQUFBLE1BQU07UUFDOUIsa0JBQVksR0FBUSxHQUFHLENBQUMsQ0FBQSxNQUFNO1FBQzlCLFFBQUUsR0FBVyxDQUFDLENBQUM7UUFDZixhQUFPLEdBQVEsQ0FBQyxDQUFDLENBQUEsTUFBTTtRQUN2QixrQkFBWSxHQUFXLEtBQUssQ0FBQyxDQUFBLFVBQVU7UUFDdkMsa0JBQVksR0FBVyxLQUFLLENBQUEsQ0FBQSxTQUFTO1FBQ3JDLDJCQUFxQixHQUFX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dXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBhdWRpb05hbWUgfSBmcm9tIFwiLi4vYXVkaW9OYW1lTWdyXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IHsgYXR0YWNrVHlwZSwgZW5lbXlTdGF0ZSB9IGZyb20gXCIuL2FuaW1hdGlvblN0YXRlXCI7XG5pbXBvcnQgZW5lbXlBbmltYXRpb24gZnJvbSBcIi4vZW5lbXlBbmltYXRpb25cIjtcbmltcG9ydCBlbmVteUJhc2UgZnJvbSBcIi4vZW5lbXlCYXNlXCI7XG5pbXBvcnQgRXZlbnRzIGZyb20gXCIuL0V2ZW50c1wiO1xuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XG5cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5lbnVtIGRhbWFnZUNvbGxpZGVye1xuICAgIGF0dGFja1xufVxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEUyY29udHJvbGxlciBleHRlbmRzIGVuZW15QmFzZSB7XG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5GbG9hdCwgdG9vbHRpcDogXCLkvKTlrrPmlYjmnpx46L205YGP56e75YC8XCIgfSlcbiAgICBkYW1hZ2VMYWJlbE9mZnNldFg6IG51bWJlciA9IDA7XG4gICAgQHByb3BlcnR5KHsgdHlwZTogY2MuRmxvYXQsIHRvb2x0aXA6IFwi5Lyk5a6z5pWI5p6ceei9tOWBj+enu+WAvFwiIH0pXG4gICAgZGFtYWdlTGFiZWxPZmZzZXRZOiBudW1iZXIgPSAwO1xuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIGhwTm9kZTogY2MuTm9kZSA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLlByb2dyZXNzQmFyKVxuICAgIGhwQmFyOiBjYy5Qcm9ncmVzc0JhciA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLlN0cmluZylcbiAgICBkaWVFZmZlY3ROYW1lOiBzdHJpbmcgPSBcIlwiO1xuICAgIFxuXG4gICAgbW92ZVNwZWVkX2Zhc3Q6IG51bWJlciA9IDE4MDsvL+enu+WKqOmAn+W6plxuICAgIG1vdmVTcGVlZF9zbG93Om51bWJlcj0xMDA7XG4gICAgbm93U3BlZWQ6IG51bWJlciA9IDA7Ly/lvZPliY3pgJ/luqZcbiAgICBsYXN0U3BlZWQ6bnVtYmVyPTEwMDsvL+S4iuS4gOasoeenu+WKqOmAn+W6plxuICAgIEFJX2ludGVydmFsOiBudW1iZXIgPSAxOy8vYWnpl7TpmpRcbiAgICBzdG9wRGlzdGFuY2U6bnVtYmVyPTI1MDsvL+WBnOatoui3neemu1xuICAgIGhwOiBudW1iZXIgPSAwO1xuICAgIGhwVGltZXM6bnVtYmVyPTE7Ly/ooYDph4/lgI3mlbBcbiAgICBiZUhpdEZvcmNlX3k6IG51bWJlciA9IDI1MDAwOy8v5omL6YeM5YmR5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94OiBudW1iZXIgPSAyNTAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV95X3NodXJpa2VuOiBudW1iZXIgPSA1MDAwMC8v5pmu6YCa5pS75Ye75L2c55So5YqbXG4gICAgYmVIaXRGb3JjZV94X2F0dGFjazM6IG51bWJlciA9IDM1MDAwMDsvL+iiq+WHu+mjnuS9nOeUqOWKm1xuICAgIGJlSGl0Rm9yY2VfeV9hdHRhY2szOiBudW1iZXIgPSAwOy8v6KKr5Ye76aOe5L2c55So5YqbXG4gICAgc2NhbGVYX3NrZWxldG9uOiBudW1iZXIgPSAwO1xuICAgIGlzRGllOiBib29sZWFuID0gZmFsc2U7XG4gICAgc2tlbGV0b246IHNwLlNrZWxldG9uID0gbnVsbDtcbiAgICBlbmVteUFuaW1hdGlvbjogZW5lbXlBbmltYXRpb24gPSBudWxsO1xuICAgIHJpZ2lib2R5OiBjYy5SaWdpZEJvZHkgPSBudWxsO1xuICAgIGJveENvbGxpZGVyOiBjYy5QaHlzaWNzQm94Q29sbGlkZXIgPSBudWxsO1xuICAgIGlzU3dvcmRSYWluQ2Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc01vdmU6IGJvb2xlYW4gPSBmYWxzZTsvL+aYr+WQpuWkhOS6juenu+WKqOeKtuaAgVxuICAgIGRtZ0NvbGxpZGVyOmRhbWFnZUNvbGxpZGVyPW51bGw7XG4gICAgcGxheWVyUG9zaXRpb246Y2MuVmVjMj1udWxsO1xuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB0aGlzLmxhc3RTcGVlZD10aGlzLm1vdmVTcGVlZF9zbG93O1xuICAgICAgICB0aGlzLnNrZWxldG9uID0gdGhpcy5ub2RlLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbik7XG4gICAgICAgIHRoaXMuc2NhbGVYX3NrZWxldG9uID0gTWF0aC5hYnModGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCk7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24gPSB0aGlzLm5vZGUuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGVuZW15QW5pbWF0aW9uKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5lbmVteUNvbnRyb2xsZXIgPSB0aGlzO1xuICAgICAgICB0aGlzLnJpZ2lib2R5ID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5SaWdpZEJvZHkpO1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5QaHlzaWNzQm94Q29sbGlkZXIpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuc2tlbGV0b24uc2tlbGV0b25EYXRhLl9za2VsZXRvbkNhY2hlLmFuaW1hdGlvbnMpO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmluaXREYXRhKCk7XG4gICAgICAgIHRoaXMuaHAgPSB0aGlzLmhwTWF4KnRoaXMuaHBUaW1lcztcbiAgICAgICAgdGhpcy5BSV9pbnRlcnZhbCs9TWF0aC5yYW5kb20oKTtcbiAgICAgICAgdGhpcy5BSV9zdGFydCgpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTW92ZSA9PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmZhckF3YXlQbGF5ZXIoKTtcbiAgICB9XG4gICAgbGF0ZVVwZGF0ZSgpe1xuICAgICAgICBpZiAodGhpcy5pc01vdmUgPT0gZmFsc2UpIHJldHVybjtcbiAgICB9XG4gICAgb25CZWdpbkNvbnRhY3QoY29udGFjdDogY2MuUGh5c2ljc0NvbnRhY3QsIHNlbGZDb2xsaWRlcjogY2MuUGh5c2ljc0NvbGxpZGVyLCBvdGhlckNvbGxpZGVyOiBjYy5QaHlzaWNzQ29sbGlkZXIpIHtcbiAgICAgICAgbGV0IG90aGVyID0gb3RoZXJDb2xsaWRlci5ub2RlO1xuICAgICAgICAvLyBsZXQgd29ybGRNYW5pZm9sZCA9IGNvbnRhY3QuZ2V0V29ybGRNYW5pZm9sZCgpO1xuICAgICAgICAvLyBsZXQgbm9ybWFsID0gd29ybGRNYW5pZm9sZC5ub3JtYWw7XG4gICAgICAgIGlmIChvdGhlci5ncm91cCA9PSBcIndhbGxcIikge1xuICAgICAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWD0tdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG93RGFtYWdlQ29sbGlkZXIoY29sbGlkZXI6ZGFtYWdlQ29sbGlkZXIpe1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bY29sbGlkZXJdLmFjdGl2ZT10cnVlO1xuICAgICAgICB0aGlzLmRtZ0NvbGxpZGVyPWNvbGxpZGVyO1xuICAgIH1cbiAgICBnZXREYW1hZ2VDb2xsaWRlcigpe1xuICAgICAgICByZXR1cm4gdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdO1xuICAgIH1cbiAgICBoaWRlRGFtYWdlQ29sbGlkZXIoKXtcbiAgICAgICAgaWYodGhpcy5kbWdDb2xsaWRlcj09bnVsbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bdGhpcy5kbWdDb2xsaWRlcl0uYWN0aXZlPWZhbHNlO1xuICAgICAgICB0aGlzLmRtZ0NvbGxpZGVyPW51bGw7XG4gICAgfVxuICAgIEFJX3N0YXJ0KCkge1xuICAgICAgICBpZihHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLmlzRGllKXtcbiAgICAgICAgICAgIC8v546p5a625bey5q27IOWBnOatouenu+WKqFxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLkFJX3N0YXJ0KCk7XG4gICAgICAgICAgICB9LDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguYWJzKHRoaXMuZ2V0RGlzdGFuY2VYKCkpO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPiB0aGlzLnN0b3BEaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5oaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5ub3dTcGVlZCA9dGhpcy5sYXN0U3BlZWQ9PXRoaXMubW92ZVNwZWVkX3Nsb3c/dGhpcy5tb3ZlU3BlZWRfZmFzdDp0aGlzLm1vdmVTcGVlZF9zbG93O1xuICAgICAgICAgICAgbGV0IHRpbWVTY2FsZT10aGlzLm5vd1NwZWVkPT10aGlzLm1vdmVTcGVlZF9mYXN0PzI6MTtcbiAgICAgICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5tb3ZlLCB0aW1lU2NhbGUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5sYXN0U3BlZWQ9dGhpcy5ub3dTcGVlZDtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSE9ZW5lbXlTdGF0ZS5tb3ZlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5pZGxlKCk7XG4gICAgICAgICAgICB9LDIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEFJX3N0b3AoKSB7XG4gICAgICAgIHRoaXMuaWRsZSgpO1xuICAgIH1cbiAgICBjaGFuZ2VNb3ZTdGF0ZShpc01vdmU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5pc01vdmUgPSBpc01vdmU7XG4gICAgfVxuICAgIGlkbGUoaXNDb21lQmFja0hlYWQ6Ym9vbGVhbj10cnVlKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICBpZihpc0NvbWVCYWNrSGVhZCl7XG4gICAgICAgICAgICB0aGlzLmNvbWVCYWNrSGVhZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0TGluZWFyRGFtcGluZygwKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDAsMCk7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5pZGxlLCAxLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgaWYodGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZSE9ZW5lbXlTdGF0ZS5pZGxlKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLkFJX3N0YXJ0KCk7XG4gICAgICAgIH0sIHRoaXMuQUlfaW50ZXJ2YWwpO1xuICAgIH1cbiAgICBjaGFuZ2VEaXJlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXIueCA+dGhpcy5ub2RlLnggPyB0aGlzLnNjYWxlWF9za2VsZXRvbiA6IC10aGlzLnNjYWxlWF9za2VsZXRvbjtcbiAgICAgICAgdGhpcy5ocE5vZGUueCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gLTI4IDogMjg7XG4gICAgfVxuICAgIGNvbWVCYWNrSGVhZCgpe1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLnNjYWxlWF9za2VsZXRvbiA6IHRoaXMuc2NhbGVYX3NrZWxldG9uO1xuICAgICAgICB0aGlzLmhwTm9kZS54ID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyAtMjggOiAyODtcbiAgICB9XG4gICAgZGllKCkge1xuICAgICAgICB0aGlzLmlzRGllID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhpZGVIcCgpO1xuICAgICAgICB0aGlzLmRpZUNvdW50KCk7XG4gICAgfVxuICAgIGtub2NrRG93bjIoKXtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmtub2NrX2Rvd24yLCAxLCBmYWxzZSwgdHJ1ZSlcbiAgICB9XG4gICAgZ2V0VXAoKSB7XG4gICAgICAgIHRoaXMuZW5lbXlBbmltYXRpb24uY2hhbmdlU3RhdGUoZW5lbXlTdGF0ZS5nZXRfdXAsIDEsIGZhbHNlLCB0cnVlKVxuICAgIH1cbiAgICBmYXJBd2F5UGxheWVyKCl7XG4gICAgICAgIHRoaXMubm93U3BlZWQ9dGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWD4wPy1NYXRoLmFicyh0aGlzLm5vd1NwZWVkKTpNYXRoLmFicyh0aGlzLm5vd1NwZWVkKTtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52Mih0aGlzLm5vd1NwZWVkLDApO1xuICAgIH1cbiAgICBoaXQoKSB7XG4gICAgICAgIGlmKGVuZW15U3RhdGVbdGhpcy5lbmVteUFuaW1hdGlvbi5zdGF0ZV0uaW5jbHVkZXMoXCJnZXRfaHVydFwiKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnBsYXllclBvc2l0aW9uPWNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci5wb3NpdGlvbik7XG4gICAgICAgIHRoaXMuY29tZUJhY2tIZWFkKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlTW92U3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFJpZ2lib2R5U3BlZWQoMCwwKTtcbiAgICAgICAgdGhpcy5lbmVteUFuaW1hdGlvbi5jaGFuZ2VTdGF0ZShlbmVteVN0YXRlLmF0dGFjaywgMSwgZmFsc2UpO1xuICAgIH1cbiAgICBzaG9vdEFycm93KHRyYWNrRW50cnksZXZlbnQpe1xuICAgICAgICBpZihldmVudC5kYXRhLm5hbWU9PVwiRmlyZVwiKXtcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLkUyU2hvb3QpO1xuICAgICAgICAgICAgbGV0IHg9dGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWD4wP3RoaXMubm9kZS54LTM1OnRoaXMubm9kZS54KzM1O1xuICAgICAgICAgICAgbGV0IHk9dGhpcy5ub2RlLnkrMTEwO1xuICAgICAgICAgICAgbGV0IGFuZ2xlPXRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVg+MD8tMjU6LTE1NTtcbiAgICAgICAgICAgIEV2ZW50cy5pbnN0YW5jZS5jcmVhdGVBcnJvdyh0aGlzLm5vZGUsY2MudjIoeCx5KSx0aGlzLnBsYXllclBvc2l0aW9uLGFuZ2xlLHRoaXMuZGFtYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBiZUhpdChkYW1hZ2U6IG51bWJlciwgZG1nVHlwZTogYXR0YWNrVHlwZSkge1xuICAgICAgICB0aGlzLmNoYW5nZU1vdlN0YXRlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRSaWdpYm9keVNwZWVkKDApO1xuICAgICAgICAvLyBsZXQgaXNDb250aW51ZSA9IHRoaXMuY2hlY2tJc1N3b3JkUmFpbihkbWdUeXBlKTsvL+iuvue9ruWJkembqOaUu+WHu+mXtOmalFxuICAgICAgICAvLyBpZiAoaXNDb250aW51ZSA9PSAwKSByZXR1cm47XG4gICAgICAgIHRoaXMuaGlnaExpZ2h0KCk7XG4gICAgICAgIHRoaXMuc2hvd0hwKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGVfYmVIaXQoZG1nVHlwZSk7XG4gICAgICAgIGxldCB4ID0gdGhpcy5ub2RlLnNjYWxlWCA8IDAgPyB0aGlzLm5vZGUueCArIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRYIDogdGhpcy5ub2RlLnggLSB0aGlzLmRhbWFnZUxhYmVsT2Zmc2V0WDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLm5vZGUueSArIHRoaXMuZGFtYWdlTGFiZWxPZmZzZXRZO1xuICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc2hvd0RhbWFnZUxhYmVsX2VuZW15KHRoaXMubm9kZSwgZGFtYWdlLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIHRoaXMudXBkYXRlSHAoZGFtYWdlKTtcbiAgICAgICAgaWYgKHRoaXMuaHAgPD0gMCkge1xuICAgICAgICAgICAgRXZlbnRzLmluc3RhbmNlLmNyZWF0ZUVuZW15RGllRWZmZWN0KHRoaXMubm9kZSwgdGhpcy5kaWVFZmZlY3ROYW1lLCBjYy52Mih4LCB5KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UmlnaWJvZHlTcGVlZCh4Om51bWJlcix5Om51bWJlcj0wKXtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eT1jYy52Mih4LHkpO1xuICAgIH1cbiAgICBjaGFuZ2VTdGF0ZV9iZUhpdChkbWdUeXBlOiBhdHRhY2tUeXBlKSB7XG4gICAgICAgIGlmKHRoaXMuaXNTdXBlckFybW9yKSByZXR1cm47XG4gICAgICAgIGxldCBzdGF0ZSA9IG51bGw7XG4gICAgICAgIGxldCBpc0tub2NrRG93biA9IGRtZ1R5cGUgPT0gYXR0YWNrVHlwZS5hdHRhY2szID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKGRtZ1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgYXR0YWNrVHlwZS5hdHRhY2sxOlxuICAgICAgICAgICAgICAgIHN0YXRlID0gZW5lbXlTdGF0ZS5nZXRfaHVydDI7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ID4gdGhpcy5ub2RlLnggPyAtdGhpcy5iZUhpdEZvcmNlX3ggOiB0aGlzLmJlSGl0Rm9yY2VfeCwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmF0dGFjazI6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuYXR0YWNrMzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldExpbmVhckRhbXBpbmcoNSk7XG4gICAgICAgICAgICAgICAgfSwgMC40KTtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUua25vY2tfZG93bjE7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZS54IDwgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggJiYgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci5za2VsZXRvbi5ub2RlLnNjYWxlWCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUZvcmNlKGNjLnYyKC10aGlzLmJlSGl0Rm9yY2VfeF9hdHRhY2szLCB0aGlzLmJlSGl0Rm9yY2VfeV9hdHRhY2szKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5vZGUueCA+IEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci54ICYmIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZShjYy52Mih0aGlzLmJlSGl0Rm9yY2VfeF9hdHRhY2szLCB0aGlzLmJlSGl0Rm9yY2VfeV9hdHRhY2szKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLmp1bXBIaXQ6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LCAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGF0dGFja1R5cGUuc2h1cmlrZW46XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBlbmVteVN0YXRlLmdldF9odXJ0MTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Rm9yY2UoY2MudjIoR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLnggPiB0aGlzLm5vZGUueCA/IC10aGlzLmJlSGl0Rm9yY2VfeCA6IHRoaXMuYmVIaXRGb3JjZV94LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJlSGl0Rm9yY2VfeV9zaHVyaWtlbikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBhdHRhY2tUeXBlLnN3b3JkUmFpbjpcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGVuZW15U3RhdGUuZ2V0X2h1cnQxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZW15QW5pbWF0aW9uLmNoYW5nZVN0YXRlKHN0YXRlLCAxLCBmYWxzZSwgaXNLbm9ja0Rvd24pO1xuICAgIH1cbiAgICBzZXRMaW5lYXJEYW1waW5nKGRhbXBpbmc6IG51bWJlcikge1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhckRhbXBpbmcgPSBkYW1waW5nO1xuICAgIH1cbiAgICBzZXRGcmljdGlvbihmcmljdGlvbjogbnVtYmVyID0gMCkge1xuICAgICAgICB0aGlzLmJveENvbGxpZGVyLmZyaWN0aW9uID0gZnJpY3Rpb247XG4gICAgICAgIHRoaXMuYm94Q29sbGlkZXIuYXBwbHkoKTtcbiAgICB9XG4gICAgYXBwbHlGb3JjZShmb3JjZTogY2MuVmVjMikge1xuICAgICAgICBpZiAodGhpcy5pc1N1cGVyQXJtb3IpIHJldHVybjtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5hcHBseUZvcmNlVG9DZW50ZXIoZm9yY2UsIHRydWUpO1xuICAgIH1cbiAgICBjaGVja0lzU3dvcmRSYWluKGRtZ1R5cGU6IGF0dGFja1R5cGUpIHtcbiAgICAgICAgaWYgKGRtZ1R5cGUgPT0gYXR0YWNrVHlwZS5zd29yZFJhaW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3dvcmRSYWluQ2QpIHJldHVybiAwO1xuICAgICAgICAgICAgdGhpcy5pc1N3b3JkUmFpbkNkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU3dvcmRSYWluQ2QgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIHRoaXMuc3dvcmRSYWluSGl0Q2QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICB1cGRhdGVIcChkYW1hZ2U6IG51bWJlcikge1xuICAgICAgICB0aGlzLmhwIC09IGRhbWFnZTtcbiAgICAgICAgdGhpcy5ocEJhci5wcm9ncmVzcyA9IHRoaXMuaHAgLyB0aGlzLmhwTWF4O1xuICAgICAgICBpZiAodGhpcy5ocCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmhwID0gMDtcbiAgICAgICAgICAgIHRoaXMuZGllKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd0hwKCkge1xuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5oaWRlSHApO1xuICAgICAgICB0aGlzLmhwTm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLmhpZGVIcCwyKTtcbiAgICB9XG4gICAgaGlkZUhwKCkge1xuICAgICAgICB0aGlzLmhwTm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gICAgaGlnaExpZ2h0KCkge1xuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5jbG9zZUhpZ2hMaWdodCk7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJiZUhpdFwiLCAxKTtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eShcImhpZ2hMaWdodENvbG9yXCIsIFsxLjAsMS4wLDEuMCwwLjVdKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5jbG9zZUhpZ2hMaWdodCwgMC4xNSk7XG4gICAgfVxuICAgIGNsb3NlSGlnaExpZ2h0KCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMCk7XG4gICAgfVxuICAgIGdldERpc3RhbmNlWCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS54IC0gR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyLng7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/thunder_chase.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b5fabPzTzxMcruHZb3LiQ8O', 'thunder_chase');
// scripts/game/thunder_chase.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var enemyHitCollider_1 = require("./enemyHitCollider");
var GameManager_1 = require("./GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var thunder_chase = /** @class */ (function (_super) {
    __extends(thunder_chase, _super);
    function thunder_chase() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.damage = 0;
        _this.isOpenCollider = false;
        _this.interval = 0.2;
        _this.isCD = false;
        _this.player = null;
        return _this;
    }
    // onLoad () {}
    thunder_chase.prototype.start = function () {
        var _this = this;
        this.scheduleOnce(function () {
            _this.isOpenCollider = true;
            if (_this.player != null && _this.isCD == false) {
                _this.hit();
            }
        }, 0.5);
        this.scheduleOnce(function () {
            _this.isOpenCollider = false;
        }, 2);
        this.scheduleOnce(function () {
            _this.node.destroy();
        }, 2.5);
    };
    thunder_chase.prototype.onCollisionEnter = function (other, self) {
        //if(this.isOpenCollider==false ||this.isCD) return;
        if (other.node.group == "player") {
            this.player = other.node;
            this.hit();
        }
    };
    /*     onCollisionStay(other:cc.Collider,self:cc.Collider){
            if(this.isOpenCollider==false ||this.isCD) return;
            if(other.node.group=="player"){
                this.hit();
            }
        } */
    thunder_chase.prototype.onCollisionExit = function (other, self) {
        //if(this.isOpenCollider==false ||this.isCD) return;
        if (other.node.group == "player") {
            this.player = null;
        }
    };
    thunder_chase.prototype.hit = function () {
        var _this = this;
        if (this.isOpenCollider == false || GameManager_1.default.instance.playerController.thunder_chase_cd) {
            this.scheduleOnce(function () {
                if (_this.player == null)
                    return;
                _this.hit();
            }, this.interval);
            return;
        }
        this.enterCD();
        this.playerEnterCd();
        this.node.getComponent(enemyHitCollider_1.default).hit(this.node, this.damage);
        this.scheduleOnce(function () {
            if (_this.player == null)
                return;
            _this.hit();
        }, this.interval);
    };
    thunder_chase.prototype.enterCD = function () {
        var _this = this;
        this.isCD = true;
        this.scheduleOnce(function () {
            _this.isCD = false;
        }, this.interval);
    };
    thunder_chase.prototype.playerEnterCd = function () {
        GameManager_1.default.instance.playerController.thunder_chase_cd = true;
        this.scheduleOnce(function () {
            GameManager_1.default.instance.playerController.thunder_chase_cd = false;
        }, this.interval);
    };
    thunder_chase = __decorate([
        ccclass
    ], thunder_chase);
    return thunder_chase;
}(cc.Component));
exports.default = thunder_chase;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcdGh1bmRlcl9jaGFzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRix1REFBa0Q7QUFDbEQsNkNBQXdDO0FBRWxDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTJDLGlDQUFZO0lBQXZEO1FBQUEscUVBdUVDO1FBckVHLFlBQU0sR0FBUSxDQUFDLENBQUM7UUFDaEIsb0JBQWMsR0FBUyxLQUFLLENBQUM7UUFDN0IsY0FBUSxHQUFRLEdBQUcsQ0FBQztRQUNwQixVQUFJLEdBQVMsS0FBSyxDQUFDO1FBQ25CLFlBQU0sR0FBUyxJQUFJLENBQUM7O0lBaUV4QixDQUFDO0lBaEVHLGVBQWU7SUFFZiw2QkFBSyxHQUFMO1FBQUEsaUJBYUM7UUFaRyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsS0FBSSxDQUFDLGNBQWMsR0FBQyxJQUFJLENBQUM7WUFDekIsSUFBRyxLQUFJLENBQUMsTUFBTSxJQUFFLElBQUksSUFBSSxLQUFJLENBQUMsSUFBSSxJQUFFLEtBQUssRUFBQztnQkFDckMsS0FBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO2FBQ2Q7UUFDTCxDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUM7UUFDUCxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsS0FBSSxDQUFDLGNBQWMsR0FBQyxLQUFLLENBQUM7UUFDOUIsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ0wsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNkLEtBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDeEIsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUVELHdDQUFnQixHQUFoQixVQUFpQixLQUFpQixFQUFDLElBQWdCO1FBQy9DLG9EQUFvRDtRQUNwRCxJQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFFLFFBQVEsRUFBQztZQUMxQixJQUFJLENBQUMsTUFBTSxHQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFDdkIsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQ2Q7SUFDTCxDQUFDO0lBQ0w7Ozs7O1lBS1E7SUFDSix1Q0FBZSxHQUFmLFVBQWdCLEtBQWlCLEVBQUMsSUFBZ0I7UUFDOUMsb0RBQW9EO1FBQ3BELElBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUUsUUFBUSxFQUFDO1lBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDO1NBQ3BCO0lBQ0wsQ0FBQztJQUNELDJCQUFHLEdBQUg7UUFBQSxpQkFlQztRQWRHLElBQUcsSUFBSSxDQUFDLGNBQWMsSUFBRSxLQUFLLElBQUUscUJBQVcsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsZ0JBQWdCLEVBQUM7WUFDbEYsSUFBSSxDQUFDLFlBQVksQ0FBQztnQkFDZCxJQUFHLEtBQUksQ0FBQyxNQUFNLElBQUUsSUFBSTtvQkFBRSxPQUFPO2dCQUM3QixLQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDZixDQUFDLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2pCLE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQywwQkFBZ0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsSUFBRyxLQUFJLENBQUMsTUFBTSxJQUFFLElBQUk7Z0JBQUUsT0FBTztZQUM3QixLQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDZixDQUFDLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFDRCwrQkFBTyxHQUFQO1FBQUEsaUJBS0M7UUFKRyxJQUFJLENBQUMsSUFBSSxHQUFDLElBQUksQ0FBQztRQUNmLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxLQUFJLENBQUMsSUFBSSxHQUFDLEtBQUssQ0FBQztRQUNwQixDQUFDLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFDRCxxQ0FBYSxHQUFiO1FBQ0kscUJBQVcsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsZ0JBQWdCLEdBQUMsSUFBSSxDQUFDO1FBQzVELElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsR0FBQyxLQUFLLENBQUM7UUFDakUsQ0FBQyxFQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNyQixDQUFDO0lBdEVnQixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBdUVqQztJQUFELG9CQUFDO0NBdkVELEFBdUVDLENBdkUwQyxFQUFFLENBQUMsU0FBUyxHQXVFdEQ7a0JBdkVvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmltcG9ydCBlbmVteUhpdENvbGxpZGVyIGZyb20gXCIuL2VuZW15SGl0Q29sbGlkZXJcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHRodW5kZXJfY2hhc2UgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgZGFtYWdlOm51bWJlcj0wO1xuICAgIGlzT3BlbkNvbGxpZGVyOmJvb2xlYW49ZmFsc2U7XG4gICAgaW50ZXJ2YWw6bnVtYmVyPTAuMjtcbiAgICBpc0NEOmJvb2xlYW49ZmFsc2U7XG4gICAgcGxheWVyOmNjLk5vZGU9bnVsbDtcbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuQ29sbGlkZXI9dHJ1ZTtcbiAgICAgICAgICAgIGlmKHRoaXMucGxheWVyIT1udWxsICYmIHRoaXMuaXNDRD09ZmFsc2Upe1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sMC41KTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuQ29sbGlkZXI9ZmFsc2U7XG4gICAgICAgIH0sMik7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XG4gICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xuICAgICAgICB9LDIuNSk7XG4gICAgfVxuXG4gICAgb25Db2xsaXNpb25FbnRlcihvdGhlcjpjYy5Db2xsaWRlcixzZWxmOmNjLkNvbGxpZGVyKXtcbiAgICAgICAgLy9pZih0aGlzLmlzT3BlbkNvbGxpZGVyPT1mYWxzZSB8fHRoaXMuaXNDRCkgcmV0dXJuO1xuICAgICAgICBpZihvdGhlci5ub2RlLmdyb3VwPT1cInBsYXllclwiKXtcbiAgICAgICAgICAgIHRoaXMucGxheWVyPW90aGVyLm5vZGU7XG4gICAgICAgICAgICB0aGlzLmhpdCgpO1xuICAgICAgICB9XG4gICAgfVxuLyogICAgIG9uQ29sbGlzaW9uU3RheShvdGhlcjpjYy5Db2xsaWRlcixzZWxmOmNjLkNvbGxpZGVyKXtcbiAgICAgICAgaWYodGhpcy5pc09wZW5Db2xsaWRlcj09ZmFsc2UgfHx0aGlzLmlzQ0QpIHJldHVybjtcbiAgICAgICAgaWYob3RoZXIubm9kZS5ncm91cD09XCJwbGF5ZXJcIil7XG4gICAgICAgICAgICB0aGlzLmhpdCgpO1xuICAgICAgICB9XG4gICAgfSAqL1xuICAgIG9uQ29sbGlzaW9uRXhpdChvdGhlcjpjYy5Db2xsaWRlcixzZWxmOmNjLkNvbGxpZGVyKXtcbiAgICAgICAgLy9pZih0aGlzLmlzT3BlbkNvbGxpZGVyPT1mYWxzZSB8fHRoaXMuaXNDRCkgcmV0dXJuO1xuICAgICAgICBpZihvdGhlci5ub2RlLmdyb3VwPT1cInBsYXllclwiKXtcbiAgICAgICAgICAgIHRoaXMucGxheWVyPW51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGl0KCl7XG4gICAgICAgIGlmKHRoaXMuaXNPcGVuQ29sbGlkZXI9PWZhbHNlfHxHYW1lTWFuYWdlci5pbnN0YW5jZS5wbGF5ZXJDb250cm9sbGVyLnRodW5kZXJfY2hhc2VfY2Qpe1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgICAgICBpZih0aGlzLnBsYXllcj09bnVsbCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0KCk7XG4gICAgICAgICAgICB9LHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW50ZXJDRCgpO1xuICAgICAgICB0aGlzLnBsYXllckVudGVyQ2QoKTtcbiAgICAgICAgdGhpcy5ub2RlLmdldENvbXBvbmVudChlbmVteUhpdENvbGxpZGVyKS5oaXQodGhpcy5ub2RlLHRoaXMuZGFtYWdlKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgIGlmKHRoaXMucGxheWVyPT1udWxsKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmhpdCgpO1xuICAgICAgICB9LHRoaXMuaW50ZXJ2YWwpO1xuICAgIH1cbiAgICBlbnRlckNEKCl7XG4gICAgICAgIHRoaXMuaXNDRD10cnVlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgdGhpcy5pc0NEPWZhbHNlO1xuICAgICAgICB9LHRoaXMuaW50ZXJ2YWwpO1xuICAgIH1cbiAgICBwbGF5ZXJFbnRlckNkKCl7XG4gICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllckNvbnRyb2xsZXIudGh1bmRlcl9jaGFzZV9jZD10cnVlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xuICAgICAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UucGxheWVyQ29udHJvbGxlci50aHVuZGVyX2NoYXNlX2NkPWZhbHNlO1xuICAgICAgICB9LHRoaXMuaW50ZXJ2YWwpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/swordRainCollider.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '03977qAxU9L96D1Gfk1qnPV', 'swordRainCollider');
// scripts/game/swordRainCollider.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var data_1 = require("../sdk/data");
var animationState_1 = require("./animationState");
var playerHp_1 = require("./ui/playerHp");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var swordRainCollider = /** @class */ (function (_super) {
    __extends(swordRainCollider, _super);
    function swordRainCollider() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.damage = 0;
        _this.interval = 0;
        _this.enemyTemp = [];
        return _this;
    }
    swordRainCollider.prototype.onEnable = function () {
        this.damage = playerHp_1.default.instance.damageSowrdRain;
        this.interval = Number(data_1.data.gameJson("swordRainInterval"));
    };
    swordRainCollider.prototype.start = function () {
        var _this = this;
        this.scheduleOnce(function () {
            _this.schedule(_this.hit, _this.interval);
        }, 0.2);
    };
    swordRainCollider.prototype.hit = function () {
        for (var _i = 0, _a = this.enemyTemp; _i < _a.length; _i++) {
            var enemy = _a[_i];
            //@ts-ignore
            enemy.getComponent(animationState_1.enemyScript[enemy.name]).beHit(this.damage, animationState_1.attackType.swordRain);
            //@ts-ignore
            //enemy.getComponent(enemyScript[enemy.name]).playBeHitSound(audioName.slash2);
        }
    };
    swordRainCollider.prototype.onCollisionEnter = function (other, self) {
        if (this.enemyTemp.includes(other.node))
            return;
        this.enemyTemp.push(other.node);
    };
    swordRainCollider.prototype.onCollisionExit = function (other, self) {
        var index = this.enemyTemp.indexOf(other.node);
        this.enemyTemp.splice(index, 1);
    };
    swordRainCollider = __decorate([
        ccclass
    ], swordRainCollider);
    return swordRainCollider;
}(cc.Component));
exports.default = swordRainCollider;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxcc3dvcmRSYWluQ29sbGlkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHbEYsb0NBQW1DO0FBQ25DLG1EQUEyRDtBQUMzRCwwQ0FBcUM7QUFFL0IsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBK0MscUNBQVk7SUFBM0Q7UUFBQSxxRUFnQ0M7UUE5QkcsWUFBTSxHQUFXLENBQUMsQ0FBQztRQUNuQixjQUFRLEdBQVcsQ0FBQyxDQUFDO1FBQ3JCLGVBQVMsR0FBYyxFQUFFLENBQUM7O0lBNEI5QixDQUFDO0lBMUJHLG9DQUFRLEdBQVI7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLGtCQUFRLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQztRQUNoRCxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxXQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBQ0QsaUNBQUssR0FBTDtRQUFBLGlCQUlDO1FBSEcsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNkLEtBQUksQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLEdBQUcsRUFBRSxLQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0MsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1osQ0FBQztJQUVELCtCQUFHLEdBQUg7UUFDSSxLQUFrQixVQUFjLEVBQWQsS0FBQSxJQUFJLENBQUMsU0FBUyxFQUFkLGNBQWMsRUFBZCxJQUFjLEVBQUU7WUFBN0IsSUFBSSxLQUFLLFNBQUE7WUFDVixZQUFZO1lBQ1osS0FBSyxDQUFDLFlBQVksQ0FBQyw0QkFBVyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLDJCQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDckYsWUFBWTtZQUNaLCtFQUErRTtTQUNsRjtJQUNMLENBQUM7SUFDRCw0Q0FBZ0IsR0FBaEIsVUFBaUIsS0FBa0IsRUFBRSxJQUFpQjtRQUNsRCxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFBRSxPQUFPO1FBQ2hELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBQ0QsMkNBQWUsR0FBZixVQUFnQixLQUFrQixFQUFFLElBQWlCO1FBQ2pELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQS9CZ0IsaUJBQWlCO1FBRHJDLE9BQU87T0FDYSxpQkFBaUIsQ0FnQ3JDO0lBQUQsd0JBQUM7Q0FoQ0QsQUFnQ0MsQ0FoQzhDLEVBQUUsQ0FBQyxTQUFTLEdBZ0MxRDtrQkFoQ29CLGlCQUFpQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5pbXBvcnQgeyBhdWRpb05hbWUgfSBmcm9tIFwiLi4vYXVkaW9OYW1lTWdyXCI7XG5pbXBvcnQgeyBkYXRhIH0gZnJvbSBcIi4uL3Nkay9kYXRhXCI7XG5pbXBvcnQgeyBhdHRhY2tUeXBlLCBlbmVteVNjcmlwdCB9IGZyb20gXCIuL2FuaW1hdGlvblN0YXRlXCI7XG5pbXBvcnQgcGxheWVySHAgZnJvbSBcIi4vdWkvcGxheWVySHBcIjtcblxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHN3b3JkUmFpbkNvbGxpZGVyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIGRhbWFnZTogbnVtYmVyID0gMDtcbiAgICBpbnRlcnZhbDogbnVtYmVyID0gMDtcbiAgICBlbmVteVRlbXA6IGNjLk5vZGVbXSA9IFtdO1xuXG4gICAgb25FbmFibGUoKSB7XG4gICAgICAgIHRoaXMuZGFtYWdlID0gcGxheWVySHAuaW5zdGFuY2UuZGFtYWdlU293cmRSYWluO1xuICAgICAgICB0aGlzLmludGVydmFsID0gTnVtYmVyKGRhdGEuZ2FtZUpzb24oXCJzd29yZFJhaW5JbnRlcnZhbFwiKSk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlKHRoaXMuaGl0LCB0aGlzLmludGVydmFsKTtcbiAgICAgICAgfSwgMC4yKTtcbiAgICB9XG5cbiAgICBoaXQoKSB7XG4gICAgICAgIGZvciAobGV0IGVuZW15IG9mIHRoaXMuZW5lbXlUZW1wKSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGVuZW15LmdldENvbXBvbmVudChlbmVteVNjcmlwdFtlbmVteS5uYW1lXSkuYmVIaXQodGhpcy5kYW1hZ2UsIGF0dGFja1R5cGUuc3dvcmRSYWluKTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgLy9lbmVteS5nZXRDb21wb25lbnQoZW5lbXlTY3JpcHRbZW5lbXkubmFtZV0pLnBsYXlCZUhpdFNvdW5kKGF1ZGlvTmFtZS5zbGFzaDIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ29sbGlzaW9uRW50ZXIob3RoZXI6IGNjLkNvbGxpZGVyLCBzZWxmOiBjYy5Db2xsaWRlcikge1xuICAgICAgICBpZiAodGhpcy5lbmVteVRlbXAuaW5jbHVkZXMob3RoZXIubm9kZSkpIHJldHVybjtcbiAgICAgICAgdGhpcy5lbmVteVRlbXAucHVzaChvdGhlci5ub2RlKTtcbiAgICB9XG4gICAgb25Db2xsaXNpb25FeGl0KG90aGVyOiBjYy5Db2xsaWRlciwgc2VsZjogY2MuQ29sbGlkZXIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5lbmVteVRlbXAuaW5kZXhPZihvdGhlci5ub2RlKTtcbiAgICAgICAgdGhpcy5lbmVteVRlbXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/configs/syyx_sdk_config.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6a660kouH9LHJs5I4q8x25q', 'syyx_sdk_config');
// syyx_sdk/configs/syyx_sdk_config.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.syyx_const = exports.e_syyx_sdk_publish_type = exports.init_config = void 0;
exports.init_config = {
    web: {
        app_id: 600000,
        app_version: "1.0.0.0",
        pkg_name: "",
        channel_type: 1,
        channel_id: 0,
        engin_type: 2,
        engin_version: "2.0.10",
        log_level: 0,
        pay_key: "",
        login_key: "",
        plat_key: "123",
        stat_key: "",
        pay_url: "",
        pay_query_url: "",
        pay_last_query_url: "",
        login_url: "",
        ws_url: "",
        ws_cert_url: "",
        // stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",
        // batch_stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",
        // configUrl: "https://tpf-common-config-api.syyx.com:37110/api/config",
        stat_event_url: "",
        batch_stat_event_url: "",
        configUrl: "",
        configAppSecKey: "",
        retry_connect: false,
        basic_config_version: "",
        is_login_soon: false,
        is_auto_relogin_full: false,
        has_red_envelop: false,
        has_multual_push: false
    },
    oppo_qg: {
        app_id: 600000,
        ad_app_id: 0,
        app_version: "1.0.0.0",
        pkg_name: "",
        channel_type: 2,
        channel_id: 1,
        engin_type: 2,
        engin_version: "2.0.10",
        log_level: 0,
        pay_key: "",
        login_key: "",
        plat_key: "123",
        stat_key: "",
        pay_url: "",
        pay_query_url: "",
        pay_last_query_url: "",
        login_url: "",
        ws_url: "",
        ws_cert_url: "",
        // stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",
        // batch_stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",
        // configUrl: "https://tpf-common-config-api.syyx.com:37110/api/config",
        stat_event_url: "",
        batch_stat_event_url: "",
        configUrl: "",
        configAppSecKey: "",
        retry_connect: false,
        basic_config_version: "",
        is_login_soon: false,
        is_auto_relogin_full: false,
        has_red_envelop: false,
        has_multual_push: false
    },
    vivo_qg: {
        app_id: 600000,
        ad_app_id: 0,
        app_version: "1.0.0.0",
        pkg_name: "",
        channel_type: 4,
        channel_id: 2,
        engin_type: 1,
        engin_version: "2.0.10",
        log_level: 0,
        pay_key: "",
        login_key: "",
        plat_key: "123",
        stat_key: "",
        pay_url: "",
        pay_query_url: "",
        pay_last_query_url: "",
        login_url: "",
        ws_url: "",
        ws_cert_url: "",
        // stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",
        // batch_stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",
        // configUrl: "https://tpf-common-config-api.syyx.com:37110/api/config",
        stat_event_url: "",
        batch_stat_event_url: "",
        configUrl: "",
        configAppSecKey: "",
        retry_connect: false,
        basic_config_version: "",
        is_login_soon: false,
        is_auto_relogin_full: false,
        has_red_envelop: false,
        has_multual_push: false,
        needAuth: false,
    },
    tt: {
        app_id: 600000,
        ad_app_id: 0,
        app_version: "1.0.0.0",
        pkg_name: "",
        channel_type: 8,
        channel_id: 10,
        engin_type: 2,
        engin_version: "2.0.10",
        log_level: 0,
        pay_key: "",
        login_key: "",
        plat_key: "123",
        stat_key: "",
        pay_url: "",
        pay_query_url: "",
        pay_last_query_url: "",
        login_url: "",
        ws_url: "",
        ws_cert_url: "",
        stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",
        batch_stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",
        configUrl: "https://tpf-common-config-api.syyx.com:37110/api/config",
        configAppSecKey: "",
        retry_connect: false,
        basic_config_version: "",
        is_login_soon: false,
        is_auto_relogin_full: false,
        has_red_envelop: false,
        has_multual_push: false,
        needAuth: false,
    },
    qq: {
        app_id: 600000,
        ad_app_id: 0,
        app_version: "1.0.0.0",
        pkg_name: "",
        channel_type: 5,
        channel_id: 8,
        engin_type: 2,
        engin_version: "2.0.10",
        log_level: 0,
        pay_key: "",
        login_key: "",
        plat_key: "123",
        stat_key: "",
        pay_url: "",
        pay_query_url: "",
        pay_last_query_url: "",
        login_url: "",
        ws_url: "",
        ws_cert_url: "",
        stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",
        batch_stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",
        configUrl: "https://tpf-common-config-api.syyx.com:37110/api/config",
        configAppSecKey: "",
        retry_connect: false,
        basic_config_version: "",
        is_login_soon: false,
        is_auto_relogin_full: false,
        has_red_envelop: false,
        has_multual_push: false,
        needAuth: false,
    },
    apk: {
        app_id: 600000,
        ad_app_id: 0,
        app_version: "1.0.0.0",
        pkg_name: "",
        channel_type: 7,
        channel_id: 11,
        engin_type: 2,
        engin_version: "2.0.10",
        log_level: 0,
        pay_key: "",
        login_key: "",
        plat_key: "123",
        stat_key: "",
        pay_url: "",
        pay_query_url: "",
        pay_last_query_url: "",
        login_url: "",
        ws_url: "",
        ws_cert_url: "",
        stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",
        batch_stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",
        configUrl: "https://tpf-common-config-api.syyx.com:37110/api/config",
        configAppSecKey: "",
        retry_connect: false,
        basic_config_version: "",
        is_login_soon: false,
        is_auto_relogin_full: false,
        has_red_envelop: false,
        has_multual_push: false
    },
    wx: {
        app_id: 600000,
        ad_app_id: 0,
        app_version: "1.0.0.0",
        pkg_name: "",
        channel_type: 5,
        channel_id: 8,
        engin_type: 2,
        engin_version: "2.0.10",
        log_level: 0,
        pay_key: "",
        login_key: "",
        plat_key: "123",
        stat_key: "",
        pay_url: "",
        pay_query_url: "",
        pay_last_query_url: "",
        login_url: "",
        ws_url: "",
        ws_cert_url: "",
        stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",
        batch_stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",
        configUrl: "https://tpf-common-config-api.syyx.com:37110/api/config",
        configAppSecKey: "",
        retry_connect: false,
        basic_config_version: "",
        is_login_soon: false,
        is_auto_relogin_full: false,
        has_red_envelop: false,
        has_multual_push: false,
        needAuth: false,
    },
    hw_qg: {
        app_id: 103490213,
        ad_app_id: 0,
        app_version: "1.0.0.0",
        pkg_name: "",
        channel_type: 10,
        channel_id: 14,
        engin_type: 2,
        engin_version: "2.0.10",
        log_level: 0,
        pay_key: "",
        login_key: "",
        plat_key: "123",
        stat_key: "",
        pay_url: "",
        pay_query_url: "",
        pay_last_query_url: "",
        login_url: "",
        ws_url: "",
        ws_cert_url: "",
        stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/gameEvent",
        batch_stat_event_url: "https://tpfdata.syyx.com:35002/bigdata/record/batchGameEvent",
        configUrl: "https://tpf-common-config-api.syyx.com:37110/api/config",
        configAppSecKey: "",
        retry_connect: false,
        basic_config_version: "",
        is_login_soon: false,
        is_auto_relogin_full: false,
        has_red_envelop: false,
        has_multual_push: false,
        needAuth: false,
    },
    _debug: false,
};
var e_syyx_sdk_publish_type;
(function (e_syyx_sdk_publish_type) {
    e_syyx_sdk_publish_type[e_syyx_sdk_publish_type["in"] = 1] = "in";
    e_syyx_sdk_publish_type[e_syyx_sdk_publish_type["out"] = 2] = "out";
})(e_syyx_sdk_publish_type = exports.e_syyx_sdk_publish_type || (exports.e_syyx_sdk_publish_type = {}));
exports.syyx_const = {
    syyx_sdk_version: "1.0.0.0",
    syyx_sdk_publish: e_syyx_sdk_publish_type.out,
    syyx_sdk_channel: igc.e_channel_type.oppo_qg,
    // syyx_sdk_channel: 2, // 默认是2，初始化完成后 syyx_const.syyx_sdk_channel 被替换 可能是2，或者4
    syyx_sdk_tag: "2021_05_07_15_50",
    //远端运营策略配置key
    remote_business_config_key: "business_config",
    //本地缓存运营策略配置版本key
    local_business_config_version: "syyx_business_config_version",
    //本地缓存运营策略数据key
    local_business_config_data: "syyx_business_config_data",
    //ctr配置key
    remote_ctr_config_key: "multual_push_v5",
    //本地缓存ctr配置版本key
    local_ctr_config_version: "syyx_ctr_config_version",
    //本地缓存ctr配置
    local_ctr_config_data: "syyx_ctr_config_data",
    guobao_init_apiUrl: 'https://game.llewan.com:1899/config/getCommon',
    guobao_da_dot_url: 'https://log.llewan.com:1999/Log/common',
    version: '1.0.0',
    llewan_sdk_version: '1.0.0',
    //.接口加密key,切勿修改
    md5_key: '$5dfjr$%dsadsfdsii',
    guobao_init_game: '',
    // game_name_oppo: 'erguangceshis-oppo', // oppo游戏编码 用这款游戏测试用的
    // game_name_vivo: 'erguangceshis-vivo', // vivo游戏编码  用这款游戏测试用的 
    // game_name_oppo: 'juntuanfenzheng-oppo', 
    game_name_oppo: 'daxiachuanshuo-oppo',
    game_name_vivo: 'konmgbuhuayuan-vivo',
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbmZpZ3NcXHN5eXhfc2RrX2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDVyxRQUFBLFdBQVcsR0FDdEI7SUFDSSxHQUFHLEVBQUU7UUFDRCxNQUFNLEVBQUUsTUFBTTtRQUNkLFdBQVcsRUFBRSxTQUFTO1FBQ3RCLFFBQVEsRUFBRSxFQUFFO1FBQ1osWUFBWSxFQUFFLENBQUM7UUFDZixVQUFVLEVBQUUsQ0FBQztRQUNiLFVBQVUsRUFBRSxDQUFDO1FBQ2IsYUFBYSxFQUFFLFFBQVE7UUFDdkIsU0FBUyxFQUFFLENBQUM7UUFDWixPQUFPLEVBQUUsRUFBRTtRQUNYLFNBQVMsRUFBRSxFQUFFO1FBQ2IsUUFBUSxFQUFFLEtBQUs7UUFDZixRQUFRLEVBQUUsRUFBRTtRQUNaLE9BQU8sRUFBRSxFQUFFO1FBQ1gsYUFBYSxFQUFFLEVBQUU7UUFDakIsa0JBQWtCLEVBQUUsRUFBRTtRQUN0QixTQUFTLEVBQUUsRUFBRTtRQUNiLE1BQU0sRUFBRSxFQUFFO1FBQ1YsV0FBVyxFQUFFLEVBQUU7UUFDZiw2RUFBNkU7UUFDN0Usd0ZBQXdGO1FBQ3hGLHdFQUF3RTtRQUN4RSxjQUFjLEVBQUUsRUFBRTtRQUNsQixvQkFBb0IsRUFBRSxFQUFFO1FBQ3hCLFNBQVMsRUFBRSxFQUFFO1FBRWIsZUFBZSxFQUFFLEVBQUU7UUFDbkIsYUFBYSxFQUFFLEtBQUs7UUFDcEIsb0JBQW9CLEVBQUUsRUFBRTtRQUN4QixhQUFhLEVBQUUsS0FBSztRQUNwQixvQkFBb0IsRUFBRSxLQUFLO1FBQzNCLGVBQWUsRUFBRSxLQUFLO1FBQ3RCLGdCQUFnQixFQUFFLEtBQUs7S0FDMUI7SUFDRCxPQUFPLEVBQUU7UUFDTCxNQUFNLEVBQUUsTUFBTTtRQUNkLFNBQVMsRUFBRSxDQUFDO1FBQ1osV0FBVyxFQUFFLFNBQVM7UUFDdEIsUUFBUSxFQUFFLEVBQUU7UUFDWixZQUFZLEVBQUUsQ0FBQztRQUNmLFVB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QkFHWDtBQUhELFdBQVksdUJBQXVCO0lBQy9CLGlFQUFNLENBQUE7SUFDTixtRUFBTyxDQUFBO0FBQ1gsQ0FBQyxFQUhXLHVCQUF1QixHQUF2QiwrQkFBdUIsS0FBdkIsK0JBQXVCLFFBR2xDO0FBRVUsUUFBQSxVQUFVLEdBQUc7SUFDcEIsZ0JBQWdCLEVBQUUsU0FBUztJQUUzQixnQkFBZ0IsRUFBRSx1QkFBdUIsQ0FBQyxHQUFHO0lBRTdDLGdCQUFnQixFQUFFLEdBQUcsQ0FBQyxjQUFjLENBQUMsT0FBTztJQUM1QywrRUFBK0U7SUFFL0UsWUFBWSxFQUFFLGtCQUFrQjtJQUNoQyxhQUFhO0lBQ2IsMEJBQTBCLEVBQUUsaUJBQWlCO0lBQzdDLGlCQUFpQjtJQUNqQiw2QkFBNkIsRUFBRSw4QkFBOEI7SUFDN0QsZUFBZTtJQUNmLDBCQUEwQixFQUFFLDJCQUEyQjtJQUN2RCxVQUFVO0lBQ1YscUJBQXFCLEVBQUUsaUJBQWlCO0lBQ3hDLGdCQUFnQjtJQUNoQix3QkFBd0IsRUFBRSx5QkFBeUI7SUFDbkQsV0FBVztJQUNYLHFCQUFxQixFQUFFLHNCQUFzQjtJQUM3QyxrQkFBa0IsRUFBRSwrQ0FBK0M7SUFDbkUsaUJBQWlCLEVBQUUsd0NBQXdDO0lBQzNELE9BQU8sRUFBRSxPQUFPO0lBQ2hCLGtCQUFrQixFQUFFLE9BQU87SUFDM0IsZUFBZTtJQUNmLE9BQU8sRUFBRSxvQkFBb0I7SUFDN0IsZ0JBQWdCLEVBQUUsRUFBRTtJQUNwQiw4REFBOEQ7SUFDOUQsZ0VBQWdFO0lBQ2hFLDJDQUEyQztJQUMzQyxjQUFjLEVBQUUscUJBQXFCO0lBQ3JDLGNBQWMsRUFBRSxxQkFBcUI7Q0FDeEMsQ0FBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5leHBvcnQgdmFyIGluaXRfY29uZmlnID1cclxue1xyXG4gICAgd2ViOiB7XHJcbiAgICAgICAgYXBwX2lkOiA2MDAwMDAsXHJcbiAgICAgICAgYXBwX3ZlcnNpb246IFwiMS4wLjAuMFwiLFxyXG4gICAgICAgIHBrZ19uYW1lOiBcIlwiLCAvL3Rlc3RcclxuICAgICAgICBjaGFubmVsX3R5cGU6IDEsXHJcbiAgICAgICAgY2hhbm5lbF9pZDogMCxcclxuICAgICAgICBlbmdpbl90eXBlOiAyLFxyXG4gICAgICAgIGVuZ2luX3ZlcnNpb246IFwiMi4wLjEwXCIsXHJcbiAgICAgICAgbG9nX2xldmVsOiAwLFxyXG4gICAgICAgIHBheV9rZXk6IFwiXCIsXHJcbiAgICAgICAgbG9naW5fa2V5OiBcIlwiLFxyXG4gICAgICAgIHBsYXRfa2V5OiBcIjEyM1wiLFxyXG4gICAgICAgIHN0YXRfa2V5OiBcIlwiLFxyXG4gICAgICAgIHBheV91cmw6IFwiXCIsXHJcbiAgICAgICAgcGF5X3F1ZXJ5X3VybDogXCJcIixcclxuICAgICAgICBwYXlfbGFzdF9xdWVyeV91cmw6IFwiXCIsXHJcbiAgICAgICAgbG9naW5fdXJsOiBcIlwiLFxyXG4gICAgICAgIHdzX3VybDogXCJcIixcclxuICAgICAgICB3c19jZXJ0X3VybDogXCJcIixcclxuICAgICAgICAvLyBzdGF0X2V2ZW50X3VybDogXCJodHRwczovL3RwZmRhdGEuc3l5eC5jb206MzUwMDIvYmlnZGF0YS9yZWNvcmQvZ2FtZUV2ZW50XCIsXHJcbiAgICAgICAgLy8gYmF0Y2hfc3RhdF9ldmVudF91cmw6IFwiaHR0cHM6Ly90cGZkYXRhLnN5eXguY29tOjM1MDAyL2JpZ2RhdGEvcmVjb3JkL2JhdGNoR2FtZUV2ZW50XCIsXHJcbiAgICAgICAgLy8gY29uZmlnVXJsOiBcImh0dHBzOi8vdHBmLWNvbW1vbi1jb25maWctYXBpLnN5eXguY29tOjM3MTEwL2FwaS9jb25maWdcIixcclxuICAgICAgICBzdGF0X2V2ZW50X3VybDogXCJcIixcclxuICAgICAgICBiYXRjaF9zdGF0X2V2ZW50X3VybDogXCJcIixcclxuICAgICAgICBjb25maWdVcmw6IFwiXCIsXHJcblxyXG4gICAgICAgIGNvbmZpZ0FwcFNlY0tleTogXCJcIixcclxuICAgICAgICByZXRyeV9jb25uZWN0OiBmYWxzZSxcclxuICAgICAgICBiYXNpY19jb25maWdfdmVyc2lvbjogXCJcIixcclxuICAgICAgICBpc19sb2dpbl9zb29uOiBmYWxzZSxcclxuICAgICAgICBpc19hdXRvX3JlbG9naW5fZnVsbDogZmFsc2UsXHJcbiAgICAgICAgaGFzX3JlZF9lbnZlbG9wOiBmYWxzZSxcclxuICAgICAgICBoYXNfbXVsdHVhbF9wdXNoOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIG9wcG9fcWc6IHtcclxuICAgICAgICBhcHBfaWQ6IDYwMDAwMCxcclxuICAgICAgICBhZF9hcHBfaWQ6IDAsXHJcbiAgICAgICAgYXBwX3ZlcnNpb246IFwiMS4wLjAuMFwiLFxyXG4gICAgICAgIHBrZ19uYW1lOiBcIlwiLCAvL3Rlc3RcclxuICAgICAgICBjaGFubmVsX3R5cGU6IDIsXHJcbiAgICAgICAgY2hhbm5lbF9pZDogMSxcclxuICAgICAgICBlbmdpbl90eXBlOiAyLFxyXG4gICAgICAgIGVuZ2luX3ZlcnNpb246IFwiMi4wLjEwXCIsXHJcbiAgICAgICAgbG9nX2xldmVsOiAwLFxyXG4gICAgICAgIHBheV9rZXk6IFwiXCIsXHJcbiAgICAgICAgbG9naW5fa2V5OiBcIlwiLFxyXG4gICAgICAgIHBsYXRfa2V5OiBcIjEyM1wiLFxyXG4gICAgICAgIHN0YXRfa2V5OiBcIlwiLFxyXG4gICAgICAgIHBheV91cmw6IFwiXCIsXHJcbiAgICAgICAgcGF5X3F1ZXJ5X3VybDogXCJcIixcclxuICAgICAgICBwYXlfbGFzdF9xdWVyeV91cmw6IFwiXCIsXHJcbiAgICAgICAgbG9naW5fdXJsOiBcIlwiLFxyXG4gICAgICAgIHdzX3VybDogXCJcIixcclxuICAgICAgICB3c19jZXJ0X3VybDogXCJcIixcclxuICAgICAgICAvLyBzdGF0X2V2ZW50X3VybDogXCJodHRwczovL3RwZmRhdGEuc3l5eC5jb206MzUwMDIvYmlnZGF0YS9yZWNvcmQvZ2FtZUV2ZW50XCIsXHJcbiAgICAgICAgLy8gYmF0Y2hfc3RhdF9ldmVudF91cmw6IFwiaHR0cHM6Ly90cGZkYXRhLnN5eXguY29tOjM1MDAyL2JpZ2RhdGEvcmVjb3JkL2JhdGNoR2FtZUV2ZW50XCIsXHJcbiAgICAgICAgLy8gY29uZmlnVXJsOiBcImh0dHBzOi8vdHBmLWNvbW1vbi1jb25maWctYXBpLnN5eXguY29tOjM3MTEwL2FwaS9jb25maWdcIixcclxuICAgICAgICBzdGF0X2V2ZW50X3VybDogXCJcIixcclxuICAgICAgICBiYXRjaF9zdGF0X2V2ZW50X3VybDogXCJcIixcclxuICAgICAgICBjb25maWdVcmw6IFwiXCIsXHJcblxyXG4gICAgICAgIGNvbmZpZ0FwcFNlY0tleTogXCJcIixcclxuICAgICAgICByZXRyeV9jb25uZWN0OiBmYWxzZSxcclxuICAgICAgICBiYXNpY19jb25maWdfdmVyc2lvbjogXCJcIixcclxuICAgICAgICBpc19sb2dpbl9zb29uOiBmYWxzZSxcclxuICAgICAgICBpc19hdXRvX3JlbG9naW5fZnVsbDogZmFsc2UsXHJcbiAgICAgICAgaGFzX3JlZF9lbnZlbG9wOiBmYWxzZSxcclxuICAgICAgICBoYXNfbXVsdHVhbF9wdXNoOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIHZpdm9fcWc6IHtcclxuICAgICAgICBhcHBfaWQ6IDYwMDAwMCxcclxuICAgICAgICBhZF9hcHBfaWQ6IDAsXHJcbiAgICAgICAgYXBwX3ZlcnNpb246IFwiMS4wLjAuMFwiLFxyXG4gICAgICAgIHBrZ19uYW1lOiBcIlwiLCAvL3Rlc3RcclxuICAgICAgICBjaGFubmVsX3R5cGU6IDQsXHJcbiAgICAgICAgY2hhbm5lbF9pZDogMixcclxuICAgICAgICBlbmdpbl90eXBlOiAxLFxyXG4gICAgICAgIGVuZ2luX3ZlcnNpb246IFwiMi4wLjEwXCIsXHJcbiAgICAgICAgbG9nX2xldmVsOiAwLFxyXG4gICAgICAgIHBheV9rZXk6IFwiXCIsXHJcbiAgICAgICAgbG9naW5fa2V5OiBcIlwiLFxyXG4gICAgICAgIHBsYXRfa2V5OiBcIjEyM1wiLFxyXG4gICAgICAgIHN0YXRfa2V5OiBcIlwiLFxyXG4gICAgICAgIHBheV91cmw6IFwiXCIsXHJcbiAgICAgICAgcGF5X3F1ZXJ5X3VybDogXCJcIixcclxuICAgICAgICBwYXlfbGFzdF9xdWVyeV91cmw6IFwiXCIsXHJcbiAgICAgICAgbG9naW5fdXJsOiBcIlwiLFxyXG4gICAgICAgIHdzX3VybDogXCJcIixcclxuICAgICAgICB3c19jZXJ0X3VybDogXCJcIixcclxuICAgICAgICAvLyBzdGF0X2V2ZW50X3VybDogXCJodHRwczovL3RwZmRhdGEuc3l5eC5jb206MzUwMDIvYmlnZGF0YS9yZWNvcmQvZ2FtZUV2ZW50XCIsXHJcbiAgICAgICAgLy8gYmF0Y2hfc3RhdF9ldmVudF91cmw6IFwiaHR0cHM6Ly90cGZkYXRhLnN5eXguY29tOjM1MDAyL2JpZ2RhdGEvcmVjb3JkL2JhdGNoR2FtZUV2ZW50XCIsXHJcbiAgICAgICAgLy8gY29uZmlnVXJsOiBcImh0dHBzOi8vdHBmLWNvbW1vbi1jb25maWctYXBpLnN5eXguY29tOjM3MTEwL2FwaS9jb25maWdcIixcclxuXHJcbiAgICAgICAgc3RhdF9ldmVudF91cmw6IFwiXCIsXHJcbiAgICAgICAgYmF0Y2hfc3RhdF9ldmVudF91cmw6IFwiXCIsXHJcbiAgICAgICAgY29uZmlnVXJsOiBcIlwiLFxyXG5cclxuICAgICAgICBjb25maWdBcHBTZWNLZXk6IFwiXCIsXHJcbiAgICAgICAgcmV0cnlfY29ubmVjdDogZmFsc2UsXHJcbiAgICAgICAgYmFzaWNfY29uZmlnX3ZlcnNpb246IFwiXCIsXHJcbiAgICAgICAgaXNfbG9naW5fc29vbjogZmFsc2UsXHJcbiAgICAgICAgaXNfYXV0b19yZWxvZ2luX2Z1bGw6IGZhbHNlLFxyXG4gICAgICAgIGhhc19yZWRfZW52ZWxvcDogZmFsc2UsXHJcbiAgICAgICAgaGFzX211bHR1YWxfcHVzaDogZmFsc2UsXHJcbiAgICAgICAgbmVlZEF1dGg6IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIHR0OiB7XHJcbiAgICAgICAgYXBwX2lkOiA2MDAwMDAsXHJcbiAgICAgICAgYWRfYXBwX2lkOiAwLFxyXG4gICAgICAgIGFwcF92ZXJzaW9uOiBcIjEuMC4wLjBcIixcclxuICAgICAgICBwa2dfbmFtZTogXCJcIiwgLy90ZXN0XHJcbiAgICAgICAgY2hhbm5lbF90eXBlOiA4LFxyXG4gICAgICAgIGNoYW5uZWxfaWQ6IDEwLFxyXG4gICAgICAgIGVuZ2luX3R5cGU6IDIsXHJcbiAgICAgICAgZW5naW5fdmVyc2lvbjogXCIyLjAuMTBcIixcclxuICAgICAgICBsb2dfbGV2ZWw6IDAsXHJcbiAgICAgICAgcGF5X2tleTogXCJcIixcclxuICAgICAgICBsb2dpbl9rZXk6IFwiXCIsXHJcbiAgICAgICAgcGxhdF9rZXk6IFwiMTIzXCIsXHJcbiAgICAgICAgc3RhdF9rZXk6IFwiXCIsXHJcbiAgICAgICAgcGF5X3VybDogXCJcIixcclxuICAgICAgICBwYXlfcXVlcnlfdXJsOiBcIlwiLFxyXG4gICAgICAgIHBheV9sYXN0X3F1ZXJ5X3VybDogXCJcIixcclxuICAgICAgICBsb2dpbl91cmw6IFwiXCIsXHJcbiAgICAgICAgd3NfdXJsOiBcIlwiLFxyXG4gICAgICAgIHdzX2NlcnRfdXJsOiBcIlwiLFxyXG4gICAgICAgIHN0YXRfZXZlbnRfdXJsOiBcImh0dHBzOi8vdHBmZGF0YS5zeXl4LmNvbTozNTAwMi9iaWdkYXRhL3JlY29yZC9nYW1lRXZlbnRcIixcclxuICAgICAgICBiYXRjaF9zdGF0X2V2ZW50X3VybDogXCJodHRwczovL3RwZmRhdGEuc3l5eC5jb206MzUwMDIvYmlnZGF0YS9yZWNvcmQvYmF0Y2hHYW1lRXZlbnRcIixcclxuICAgICAgICBjb25maWdVcmw6IFwiaHR0cHM6Ly90cGYtY29tbW9uLWNvbmZpZy1hcGkuc3l5eC5jb206MzcxMTAvYXBpL2NvbmZpZ1wiLFxyXG4gICAgICAgIGNvbmZpZ0FwcFNlY0tleTogXCJcIixcclxuICAgICAgICByZXRyeV9jb25uZWN0OiBmYWxzZSxcclxuICAgICAgICBiYXNpY19jb25maWdfdmVyc2lvbjogXCJcIixcclxuICAgICAgICBpc19sb2dpbl9zb29uOiBmYWxzZSxcclxuICAgICAgICBpc19hdXRvX3JlbG9naW5fZnVsbDogZmFsc2UsXHJcbiAgICAgICAgaGFzX3JlZF9lbnZlbG9wOiBmYWxzZSxcclxuICAgICAgICBoYXNfbXVsdHVhbF9wdXNoOiBmYWxzZSxcclxuICAgICAgICBuZWVkQXV0aDogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgcXE6IHtcclxuICAgICAgICBhcHBfaWQ6IDYwMDAwMCxcclxuICAgICAgICBhZF9hcHBfaWQ6IDAsXHJcbiAgICAgICAgYXBwX3ZlcnNpb246IFwiMS4wLjAuMFwiLFxyXG4gICAgICAgIHBrZ19uYW1lOiBcIlwiLCAvL3Rlc3RcclxuICAgICAgICBjaGFubmVsX3R5cGU6IDUsXHJcbiAgICAgICAgY2hhbm5lbF9pZDogOCxcclxuICAgICAgICBlbmdpbl90eXBlOiAyLFxyXG4gICAgICAgIGVuZ2luX3ZlcnNpb246IFwiMi4wLjEwXCIsXHJcbiAgICAgICAgbG9nX2xldmVsOiAwLFxyXG4gICAgICAgIHBheV9rZXk6IFwiXCIsXHJcbiAgICAgICAgbG9naW5fa2V5OiBcIlwiLFxyXG4gICAgICAgIHBsYXRfa2V5OiBcIjEyM1wiLFxyXG4gICAgICAgIHN0YXRfa2V5OiBcIlwiLFxyXG4gICAgICAgIHBheV91cmw6IFwiXCIsXHJcbiAgICAgICAgcGF5X3F1ZXJ5X3VybDogXCJcIixcclxuICAgICAgICBwYXlfbGFzdF9xdWVyeV91cmw6IFwiXCIsXHJcbiAgICAgICAgbG9naW5fdXJsOiBcIlwiLFxyXG4gICAgICAgIHdzX3VybDogXCJcIixcclxuICAgICAgICB3c19jZXJ0X3VybDogXCJcIixcclxuICAgICAgICBzdGF0X2V2ZW50X3VybDogXCJodHRwczovL3RwZmRhdGEuc3l5eC5jb206MzUwMDIvYmlnZGF0YS9yZWNvcmQvZ2FtZUV2ZW50XCIsXHJcbiAgICAgICAgYmF0Y2hfc3RhdF9ldmVudF91cmw6IFwiaHR0cHM6Ly90cGZkYXRhLnN5eXguY29tOjM1MDAyL2JpZ2RhdGEvcmVjb3JkL2JhdGNoR2FtZUV2ZW50XCIsXHJcbiAgICAgICAgY29uZmlnVXJsOiBcImh0dHBzOi8vdHBmLWNvbW1vbi1jb25maWctYXBpLnN5eXguY29tOjM3MTEwL2FwaS9jb25maWdcIixcclxuICAgICAgICBjb25maWdBcHBTZWNLZXk6IFwiXCIsXHJcbiAgICAgICAgcmV0cnlfY29ubmVjdDogZmFsc2UsXHJcbiAgICAgICAgYmFzaWNfY29uZmlnX3ZlcnNpb246IFwiXCIsXHJcbiAgICAgICAgaXNfbG9naW5fc29vbjogZmFsc2UsXHJcbiAgICAgICAgaXNfYXV0b19yZWxvZ2luX2Z1bGw6IGZhbHNlLFxyXG4gICAgICAgIGhhc19yZWRfZW52ZWxvcDogZmFsc2UsXHJcbiAgICAgICAgaGFzX211bHR1YWxfcHVzaDogZmFsc2UsXHJcbiAgICAgICAgbmVlZEF1dGg6IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIGFwazoge1xyXG4gICAgICAgIGFwcF9pZDogNjAwMDAwLFxyXG4gICAgICAgIGFkX2FwcF9pZDogMCxcclxuICAgICAgICBhcHBfdmVyc2lvbjogXCIxLjAuMC4wXCIsXHJcbiAgICAgICAgcGtnX25hbWU6IFwiXCIsIC8vdGVzdFxyXG4gICAgICAgIGNoYW5uZWxfdHlwZTogNyxcclxuICAgICAgICBjaGFubmVsX2lkOiAxMSxcclxuICAgICAgICBlbmdpbl90eXBlOiAyLFxyXG4gICAgICAgIGVuZ2luX3ZlcnNpb246IFwiMi4wLjEwXCIsXHJcbiAgICAgICAgbG9nX2xldmVsOiAwLFxyXG4gICAgICAgIHBheV9rZXk6IFwiXCIsXHJcbiAgICAgICAgbG9naW5fa2V5OiBcIlwiLFxyXG4gICAgICAgIHBsYXRfa2V5OiBcIjEyM1wiLFxyXG4gICAgICAgIHN0YXRfa2V5OiBcIlwiLFxyXG4gICAgICAgIHBheV91cmw6IFwiXCIsXHJcbiAgICAgICAgcGF5X3F1ZXJ5X3VybDogXCJcIixcclxuICAgICAgICBwYXlfbGFzdF9xdWVyeV91cmw6IFwiXCIsXHJcbiAgICAgICAgbG9naW5fdXJsOiBcIlwiLFxyXG4gICAgICAgIHdzX3VybDogXCJcIixcclxuICAgICAgICB3c19jZXJ0X3VybDogXCJcIixcclxuICAgICAgICBzdGF0X2V2ZW50X3VybDogXCJodHRwczovL3RwZmRhdGEuc3l5eC5jb206MzUwMDIvYmlnZGF0YS9yZWNvcmQvZ2FtZUV2ZW50XCIsXHJcbiAgICAgICAgYmF0Y2hfc3RhdF9ldmVudF91cmw6IFwiaHR0cHM6Ly90cGZkYXRhLnN5eXguY29tOjM1MDAyL2JpZ2RhdGEvcmVjb3JkL2JhdGNoR2FtZUV2ZW50XCIsXHJcbiAgICAgICAgY29uZmlnVXJsOiBcImh0dHBzOi8vdHBmLWNvbW1vbi1jb25maWctYXBpLnN5eXguY29tOjM3MTEwL2FwaS9jb25maWdcIixcclxuICAgICAgICBjb25maWdBcHBTZWNLZXk6IFwiXCIsXHJcbiAgICAgICAgcmV0cnlfY29ubmVjdDogZmFsc2UsXHJcbiAgICAgICAgYmFzaWNfY29uZmlnX3ZlcnNpb246IFwiXCIsXHJcbiAgICAgICAgaXNfbG9naW5fc29vbjogZmFsc2UsXHJcbiAgICAgICAgaXNfYXV0b19yZWxvZ2luX2Z1bGw6IGZhbHNlLFxyXG4gICAgICAgIGhhc19yZWRfZW52ZWxvcDogZmFsc2UsXHJcbiAgICAgICAgaGFzX211bHR1YWxfcHVzaDogZmFsc2VcclxuICAgIH0sXHJcbiAgICB3eDoge1xyXG4gICAgICAgIGFwcF9pZDogNjAwMDAwLFxyXG4gICAgICAgIGFkX2FwcF9pZDogMCxcclxuICAgICAgICBhcHBfdmVyc2lvbjogXCIxLjAuMC4wXCIsXHJcbiAgICAgICAgcGtnX25hbWU6IFwiXCIsIC8vdGVzdFxyXG4gICAgICAgIGNoYW5uZWxfdHlwZTogNSxcclxuICAgICAgICBjaGFubmVsX2lkOiA4LFxyXG4gICAgICAgIGVuZ2luX3R5cGU6IDIsXHJcbiAgICAgICAgZW5naW5fdmVyc2lvbjogXCIyLjAuMTBcIixcclxuICAgICAgICBsb2dfbGV2ZWw6IDAsXHJcbiAgICAgICAgcGF5X2tleTogXCJcIixcclxuICAgICAgICBsb2dpbl9rZXk6IFwiXCIsXHJcbiAgICAgICAgcGxhdF9rZXk6IFwiMTIzXCIsXHJcbiAgICAgICAgc3RhdF9rZXk6IFwiXCIsXHJcbiAgICAgICAgcGF5X3VybDogXCJcIixcclxuICAgICAgICBwYXlfcXVlcnlfdXJsOiBcIlwiLFxyXG4gICAgICAgIHBheV9sYXN0X3F1ZXJ5X3VybDogXCJcIixcclxuICAgICAgICBsb2dpbl91cmw6IFwiXCIsXHJcbiAgICAgICAgd3NfdXJsOiBcIlwiLFxyXG4gICAgICAgIHdzX2NlcnRfdXJsOiBcIlwiLFxyXG4gICAgICAgIHN0YXRfZXZlbnRfdXJsOiBcImh0dHBzOi8vdHBmZGF0YS5zeXl4LmNvbTozNTAwMi9iaWdkYXRhL3JlY29yZC9nYW1lRXZlbnRcIixcclxuICAgICAgICBiYXRjaF9zdGF0X2V2ZW50X3VybDogXCJodHRwczovL3RwZmRhdGEuc3l5eC5jb206MzUwMDIvYmlnZGF0YS9yZWNvcmQvYmF0Y2hHYW1lRXZlbnRcIixcclxuICAgICAgICBjb25maWdVcmw6IFwiaHR0cHM6Ly90cGYtY29tbW9uLWNvbmZpZy1hcGkuc3l5eC5jb206MzcxMTAvYXBpL2NvbmZpZ1wiLFxyXG4gICAgICAgIGNvbmZpZ0FwcFNlY0tleTogXCJcIixcclxuICAgICAgICByZXRyeV9jb25uZWN0OiBmYWxzZSxcclxuICAgICAgICBiYXNpY19jb25maWdfdmVyc2lvbjogXCJcIixcclxuICAgICAgICBpc19sb2dpbl9zb29uOiBmYWxzZSxcclxuICAgICAgICBpc19hdXRvX3JlbG9naW5fZnVsbDogZmFsc2UsXHJcbiAgICAgICAgaGFzX3JlZF9lbnZlbG9wOiBmYWxzZSxcclxuICAgICAgICBoYXNfbXVsdHVhbF9wdXNoOiBmYWxzZSxcclxuICAgICAgICBuZWVkQXV0aDogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgaHdfcWc6IHtcclxuICAgICAgICBhcHBfaWQ6IDEwMzQ5MDIxMyxcclxuICAgICAgICBhZF9hcHBfaWQ6IDAsXHJcbiAgICAgICAgYXBwX3ZlcnNpb246IFwiMS4wLjAuMFwiLFxyXG4gICAgICAgIHBrZ19uYW1lOiBcIlwiLCAvL3Rlc3RcclxuICAgICAgICBjaGFubmVsX3R5cGU6IDEwLFxyXG4gICAgICAgIGNoYW5uZWxfaWQ6IDE0LFxyXG4gICAgICAgIGVuZ2luX3R5cGU6IDIsXHJcbiAgICAgICAgZW5naW5fdmVyc2lvbjogXCIyLjAuMTBcIixcclxuICAgICAgICBsb2dfbGV2ZWw6IDAsXHJcbiAgICAgICAgcGF5X2tleTogXCJcIixcclxuICAgICAgICBsb2dpbl9rZXk6IFwiXCIsXHJcbiAgICAgICAgcGxhdF9rZXk6IFwiMTIzXCIsXHJcbiAgICAgICAgc3RhdF9rZXk6IFwiXCIsXHJcbiAgICAgICAgcGF5X3VybDogXCJcIixcclxuICAgICAgICBwYXlfcXVlcnlfdXJsOiBcIlwiLFxyXG4gICAgICAgIHBheV9sYXN0X3F1ZXJ5X3VybDogXCJcIixcclxuICAgICAgICBsb2dpbl91cmw6IFwiXCIsXHJcbiAgICAgICAgd3NfdXJsOiBcIlwiLFxyXG4gICAgICAgIHdzX2NlcnRfdXJsOiBcIlwiLFxyXG4gICAgICAgIHN0YXRfZXZlbnRfdXJsOiBcImh0dHBzOi8vdHBmZGF0YS5zeXl4LmNvbTozNTAwMi9iaWdkYXRhL3JlY29yZC9nYW1lRXZlbnRcIixcclxuICAgICAgICBiYXRjaF9zdGF0X2V2ZW50X3VybDogXCJodHRwczovL3RwZmRhdGEuc3l5eC5jb206MzUwMDIvYmlnZGF0YS9yZWNvcmQvYmF0Y2hHYW1lRXZlbnRcIixcclxuICAgICAgICBjb25maWdVcmw6IFwiaHR0cHM6Ly90cGYtY29tbW9uLWNvbmZpZy1hcGkuc3l5eC5jb206MzcxMTAvYXBpL2NvbmZpZ1wiLFxyXG4gICAgICAgIGNvbmZpZ0FwcFNlY0tleTogXCJcIixcclxuICAgICAgICByZXRyeV9jb25uZWN0OiBmYWxzZSxcclxuICAgICAgICBiYXNpY19jb25maWdfdmVyc2lvbjogXCJcIixcclxuICAgICAgICBpc19sb2dpbl9zb29uOiBmYWxzZSxcclxuICAgICAgICBpc19hdXRvX3JlbG9naW5fZnVsbDogZmFsc2UsXHJcbiAgICAgICAgaGFzX3JlZF9lbnZlbG9wOiBmYWxzZSxcclxuICAgICAgICBoYXNfbXVsdHVhbF9wdXNoOiBmYWxzZSxcclxuICAgICAgICBuZWVkQXV0aDogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgX2RlYnVnOiBmYWxzZSxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gZV9zeXl4X3Nka19wdWJsaXNoX3R5cGUge1xyXG4gICAgaW4gPSAxLCAvL+WGhemDqOS9v+eUqFxyXG4gICAgb3V0ID0gMiwvL+WklumDqOS9v+eUqFxyXG59XHJcblxyXG5leHBvcnQgdmFyIHN5eXhfY29uc3QgPSB7XHJcbiAgICBzeXl4X3Nka192ZXJzaW9uOiBcIjEuMC4wLjBcIixcclxuXHJcbiAgICBzeXl4X3Nka19wdWJsaXNoOiBlX3N5eXhfc2RrX3B1Ymxpc2hfdHlwZS5vdXQsIFxyXG5cclxuICAgIHN5eXhfc2RrX2NoYW5uZWw6IGlnYy5lX2NoYW5uZWxfdHlwZS5vcHBvX3FnLCAvLyDpu5jorqTmmK8y77yM5Yid5aeL5YyW5a6M5oiQ5ZCOIHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCDooqvmm7/mjaIg5Y+v6IO95pivMu+8jOaIluiAhTRcclxuICAgIC8vIHN5eXhfc2RrX2NoYW5uZWw6IDIsIC8vIOm7mOiupOaYrzLvvIzliJ3lp4vljJblrozmiJDlkI4gc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsIOiiq+abv+aNoiDlj6/og73mmK8y77yM5oiW6ICFNFxyXG5cclxuICAgIHN5eXhfc2RrX3RhZzogXCIyMDIxXzA1XzA3XzE1XzUwXCIsXHJcbiAgICAvL+i/nOerr+i/kOiQpeetlueVpemFjee9rmtleVxyXG4gICAgcmVtb3RlX2J1c2luZXNzX2NvbmZpZ19rZXk6IFwiYnVzaW5lc3NfY29uZmlnXCIsXHJcbiAgICAvL+acrOWcsOe8k+WtmOi/kOiQpeetlueVpemFjee9rueJiOacrGtleVxyXG4gICAgbG9jYWxfYnVzaW5lc3NfY29uZmlnX3ZlcnNpb246IFwic3l5eF9idXNpbmVzc19jb25maWdfdmVyc2lvblwiLFxyXG4gICAgLy/mnKzlnLDnvJPlrZjov5DokKXnrZbnlaXmlbDmja5rZXlcclxuICAgIGxvY2FsX2J1c2luZXNzX2NvbmZpZ19kYXRhOiBcInN5eXhfYnVzaW5lc3NfY29uZmlnX2RhdGFcIixcclxuICAgIC8vY3Ry6YWN572ua2V5XHJcbiAgICByZW1vdGVfY3RyX2NvbmZpZ19rZXk6IFwibXVsdHVhbF9wdXNoX3Y1XCIsXHJcbiAgICAvL+acrOWcsOe8k+WtmGN0cumFjee9rueJiOacrGtleVxyXG4gICAgbG9jYWxfY3RyX2NvbmZpZ192ZXJzaW9uOiBcInN5eXhfY3RyX2NvbmZpZ192ZXJzaW9uXCIsXHJcbiAgICAvL+acrOWcsOe8k+WtmGN0cumFjee9rlxyXG4gICAgbG9jYWxfY3RyX2NvbmZpZ19kYXRhOiBcInN5eXhfY3RyX2NvbmZpZ19kYXRhXCIsXHJcbiAgICBndW9iYW9faW5pdF9hcGlVcmw6ICdodHRwczovL2dhbWUubGxld2FuLmNvbToxODk5L2NvbmZpZy9nZXRDb21tb24nLFxyXG4gICAgZ3VvYmFvX2RhX2RvdF91cmw6ICdodHRwczovL2xvZy5sbGV3YW4uY29tOjE5OTkvTG9nL2NvbW1vbicsXHJcbiAgICB2ZXJzaW9uOiAnMS4wLjAnLFxyXG4gICAgbGxld2FuX3Nka192ZXJzaW9uOiAnMS4wLjAnLFxyXG4gICAgLy8u5o6l5Y+j5Yqg5a+Ga2V5LOWIh+WLv+S/ruaUuVxyXG4gICAgbWQ1X2tleTogJyQ1ZGZqciQlZHNhZHNmZHNpaScsXHJcbiAgICBndW9iYW9faW5pdF9nYW1lOiAnJywgLy8g5Yik5patb3blubPlj7DvvIzlpoLkvZXkvb/nlKjlr7nlupTmuLjmiI/nvJbnoIFcclxuICAgIC8vIGdhbWVfbmFtZV9vcHBvOiAnZXJndWFuZ2Nlc2hpcy1vcHBvJywgLy8gb3Bwb+a4uOaIj+e8lueggSDnlKjov5nmrL7muLjmiI/mtYvor5XnlKjnmoRcclxuICAgIC8vIGdhbWVfbmFtZV92aXZvOiAnZXJndWFuZ2Nlc2hpcy12aXZvJywgLy8gdml2b+a4uOaIj+e8lueggSAg55So6L+Z5qy+5ri45oiP5rWL6K+V55So55qEIFxyXG4gICAgLy8gZ2FtZV9uYW1lX29wcG86ICdqdW50dWFuZmVuemhlbmctb3BwbycsIFxyXG4gICAgZ2FtZV9uYW1lX29wcG86ICdkYXhpYWNodWFuc2h1by1vcHBvJywgLy8gb3Bwb+a4uOaIj+e8lueggSDmraPlvI/nlKjnmoRcclxuICAgIGdhbWVfbmFtZV92aXZvOiAna29ubWdidWh1YXl1YW4tdml2bycsIC8vIHZpdm/muLjmiI/nvJbnoIEg5q2j5byP55So55qEXHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/controller/ad/ad_native_icon.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f723a+cF1VHgKqwDDNUF9YK', 'ad_native_icon');
// syyx_sdk/controller/ad/ad_native_icon.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ad_native_icon = void 0;
var model_1 = require("../../model/model");
var syyx_sdk_enum_1 = require("../../configs/syyx_sdk_enum");
var syyx_manager_1 = require("../syyx_manager");
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var syyx_adv_manager_1 = require("./syyx_adv_manager");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var ad_banner_1 = require("./ad_banner");
var ad_native_icon = /** @class */ (function () {
    function ad_native_icon() {
    }
    /**
     * 自动刷新定时器
     */
    ad_native_icon.run_timer = function () {
        if (!this.is_run_timer && this.is_oppo_vivo()) { // 一开始is_run_timerfalse
            this.is_run_timer = true;
            this.timer_func();
        }
    };
    ad_native_icon.timer_func = function () {
        var self = this;
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["native_icon_cool_time"]) {
            this.auto_update_cd = this._business_config_data["native_icon_cool_time"].value;
        }
        this.load_native_icon();
        var cd = syyx_sdk_utils_1.syyx_sdk_utils.get_random_number(this.auto_update_cd); // 20秒
        this.timer_id && clearTimeout(this.timer_id);
        this.timer_id = setTimeout(function () {
            self.timer_func();
        }, cd * 1000);
    };
    ad_native_icon.report_ad_click = function (ad_pos_id, native_data) {
        if (this._ad_pos_id != ad_pos_id) {
            return;
        }
        console.log("igc ----- has in native icon 's report click ");
        //上报的是原生banner点击  隐藏原生bannerUi 重新请求新的原生banner数据
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["native_icon_report_click_update_switch"]) {
            if (this._business_config_data["native_icon_report_click_update_switch"].value[0] == 1) { // 原生icon点击上报后立即刷新
                this.destroy_timer();
                this.icon_parent && this.show_native_icon(this.icon_parent, this._ad_param.ad_type, this._ad_param.ad_pos_id, this._ad_param.onLoad, this._ad_param.onShow, this._ad_param.onClose, this._ad_param.onError);
            }
        }
    };
    ad_native_icon.report_ad_show = function (ad_pos_id, native_data) {
        if (this._ad_pos_id == ad_pos_id) {
        }
    };
    ad_native_icon.show_native_icon = function (parent, ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        this._ad_pos_id = ad_pos_id;
        this._ad_param = {
            ad_type: ad_type,
            ad_pos_id: ad_pos_id,
            onLoad: onLoad,
            onShow: onShow,
            onClose: onClose,
            onError: onError,
        };
        this.need_show = true;
        this.icon_parent = parent;
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id) {
            return;
        }
        //原生icon远端配置开关是否开启
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["native_icon_switch"]) {
            if (this._business_config_data["native_icon_switch"].value[0] == 1) {
                this.run_timer();
            }
            else {
                console.log("sdk----- config - native icon is close");
            }
        }
    };
    ad_native_icon.hide_native_icon = function () {
        this.need_show = false;
        this.icon_parent = undefined;
        this.hide_native_icon_ui();
        this.destroy_timer();
    };
    ad_native_icon.destroy_timer = function () {
        this.is_run_timer = false;
        //销毁定时器
        this.timer_id && clearTimeout(this.timer_id);
        this.timer_id = undefined;
    };
    /**
    * 加载原生插屏
    * @param call_back 加载数据成功回调
    */
    ad_native_icon.load_native_icon = function (call_back) {
        var self = this;
        if (!ad_banner_1.ad_banner.can_show_first) {
            console.log("igc----- is in oppo first ad cd");
            return;
        }
        //当前不需要展示任何banner
        if (!this.need_show) {
            this.hide_native_icon_ui();
            return;
        }
        var native_data = this.get_native_data();
        //上一个加载的原生banner没有展示过
        if (native_data && native_data.state == syyx_sdk_enum_1.e_ad_native_state.need_show) {
            this.show_native_icon_ui();
            return;
        }
        //web渠道  返回假数据
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {
            var data = new model_1.native_ad_data();
            data.id = igc.utils_manager.get_random_name();
            data.adPosId = this._ad_pos_id;
            data.adId = syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([100, 200]);
            data.adUnitId = syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([0, 100000]);
            data.imgUrlList = "https://static-cdn.llewan.com/h5/ddsdk/plugin/share_img.jpg";
            data.title = "原生icon标题" + syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([100, 200]);
            data.desc = "原生icon描述" + syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([100, 200]);
            data.state = syyx_sdk_enum_1.e_ad_native_state.need_show;
            data.native_type = syyx_sdk_enum_1.e_ad_native_type.native_icon;
            this.add_native_data(data);
            this._ad_param.onLoad && this._ad_param.onLoad({}, data);
            this.show_native_icon_ui();
            call_back && call_back();
            return;
        }
        syyx_manager_1.syyx_manager.create_ad(igc.e_ad_type.native, this._ad_pos_id, function on_load(param, ad_data_list) {
            console.log("igc-----syyx_adv_manager-------load_native_icon on_load", ad_data_list);
            //返回数据异常
            if (ad_data_list == undefined || !ad_data_list[0]) {
            }
            else {
                var length = 0;
                if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {
                    //vivo渠道只取最后一个位置
                    length = ad_data_list.length - 1;
                }
                var imgUrlList = void 0;
                if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg) {
                    imgUrlList = syyx_sdk_utils_1.syyx_sdk_utils.format_remote_texture_url(ad_data_list[length].iconUrlList[0]);
                }
                else {
                    imgUrlList = syyx_sdk_utils_1.syyx_sdk_utils.format_remote_texture_url(ad_data_list[length].imgUrlList[0]);
                }
                var data = new model_1.native_ad_data();
                data.id = igc.utils_manager.get_random_name();
                data.adPosId = self._ad_pos_id;
                data.adId = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(self._ad_pos_id);
                data.adUnitId = ad_data_list[length].adUnitId;
                data.imgUrlList = imgUrlList;
                data.title = ad_data_list[length].title;
                data.desc = ad_data_list[length].desc;
                data.state = syyx_sdk_enum_1.e_ad_native_state.need_show;
                data.native_type = syyx_sdk_enum_1.e_ad_native_type.native_icon;
                self.add_native_data(data); // 存好数据
                self._ad_param.onLoad && self._ad_param.onLoad({}, data);
                self.show_native_icon_ui(); // 展示数据
            }
        }, function on_show() {
        }, function on_close(param, res) {
        }, function on_error(param, err) {
            console.error("igc-----syyx_adv_manager-------load_native_icon onError", err);
            //原生icon报错就用之前的老数据
            var native_data = self.get_native_data();
            if (native_data) {
                self.show_native_icon_ui();
            }
            self._ad_param.onError && self._ad_param.onError();
        });
    };
    /**
    * 展示原生IconUi
    */
    ad_native_icon.show_native_icon_ui = function () {
        var self = this;
        self.hide_native_icon_ui();
        if (!this.need_show) {
            console.log("igc----- the current interface doesn't need to show native icon so that do not refresh native data");
            return;
        }
        if (!this.icon_parent) {
            console.log("igc----- the native icon's parent node is not exist");
            return;
        }
        if (this.is_oppo_vivo()) {
            var native_data_1 = this.get_native_data();
            //展示原生IconUI
            if (this.need_show && native_data_1) {
                syyx_manager_1.syyx_manager.create_native_icon(function (view) {
                    view.show && view.show(self.icon_parent, native_data_1);
                });
            }
        }
    };
    /**
     * 隐藏原生IconUi
     */
    ad_native_icon.hide_native_icon_ui = function () {
        if (this.is_oppo_vivo()) {
            //隐藏原生iconUI
            syyx_manager_1.syyx_manager.create_native_icon(function (view) {
                view.hide && view.hide();
            });
        }
    };
    ad_native_icon.is_oppo_vivo = function () {
        var is_oppo = syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg
            || syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg
            || syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web;
        return is_oppo;
    };
    /**
     * 获取最新的原生Banner数据
     */
    ad_native_icon.get_native_data = function () {
        //是否启动OPPO新规
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_open_oppo_rule()) { // ov为ture
            if (syyx_adv_manager_1.syyx_adv_manager.check_native_data_list_is_reprot(this._native_data_list)) {
                //全部数据都上报曝光过了
                console.log("igc----- ad_native_icon use old load native data");
                return syyx_adv_manager_1.syyx_adv_manager.get_min_order_native_data(this._native_data_list);
            }
            else {
                //有数据没有上报过曝光  用最新数据
                return syyx_adv_manager_1.syyx_adv_manager.get_latest_native_data(this._native_data_list);
            }
        }
        else {
            return this._native_data_list[0];
        }
    };
    /**
     * 储存原生数据
     * @param native_data 原生数据
     */
    ad_native_icon.add_native_data = function (native_data) {
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_open_oppo_rule()) {
            for (var i in this._native_data_list) {
                if (this._native_data_list[i].adUnitId == native_data.adUnitId) {
                    return;
                }
            }
            var length = syyx_adv_manager_1.syyx_adv_manager.get_oppo_native_cache_max_length(); // 20
            //判断缓存数组长度是否超标
            if (this._native_data_list.length >= length) {
                this._native_data_list.splice(0, 1);
            }
            this._native_data_list.push(native_data);
        }
        else {
            this._native_data_list[0] = native_data;
        }
    };
    /**
      * 原生数据
      */
    ad_native_icon._native_data_list = [];
    /**
    * 远端运营配置
    */
    ad_native_icon._business_config_data = {};
    /**
     * banner自动刷新时间
     */
    ad_native_icon.auto_update_cd = [20, 20];
    /**
     * 刷新定时器是否开启
     */
    ad_native_icon.is_run_timer = false;
    /**
     * 当前是否需要展示banner
     */
    ad_native_icon.need_show = true;
    return ad_native_icon;
}());
exports.ad_native_icon = ad_native_icon;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbnRyb2xsZXJcXGFkXFxhZF9uYXRpdmVfaWNvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBbUQ7QUFDbkQsNkRBQWtGO0FBQ2xGLGdEQUErQztBQUMvQyxpRUFBMkQ7QUFDM0QsdURBQXNEO0FBQ3RELDZEQUE0RDtBQUM1RCx5Q0FBd0M7QUFFeEM7SUFBQTtJQThUQSxDQUFDO0lBclJHOztPQUVHO0lBQ0ksd0JBQVMsR0FBaEI7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsRUFBRSx1QkFBdUI7WUFDcEUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUE7WUFDeEIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQ3BCO0lBQ0wsQ0FBQztJQUdNLHlCQUFVLEdBQWpCO1FBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFBO1FBQ2YsSUFBSSxDQUFDLHFCQUFxQixHQUFHLDJCQUFZLENBQUMsbUJBQW1CLEVBQUUsQ0FBQTtRQUMvRCxJQUFJLElBQUksQ0FBQyxxQkFBcUIsSUFBSSxJQUFJLENBQUMscUJBQXFCLENBQUMsdUJBQXVCLENBQUMsRUFBRTtZQUNuRixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLEtBQUssQ0FBQTtTQUNsRjtRQUNELElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFBO1FBQ3ZCLElBQUksRUFBRSxHQUFHLCtCQUFjLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFBLENBQUMsTUFBTTtRQUVyRSxJQUFJLENBQUMsUUFBUSxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDNUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUM7WUFDdkIsSUFBSSxDQUFDLFVBQVUs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SUFFN0I7O01BRUU7SUFDSyxvQ0FBcUIsR0FBRyxFQUFFLENBQUM7SUFZbEM7O09BRUc7SUFDSSw2QkFBYyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFBO0lBRWhDOztPQUVHO0lBQ0ksMkJBQVksR0FBRyxLQUFLLENBQUE7SUFPM0I7O09BRUc7SUFDSSx3QkFBUyxHQUFHLElBQUksQ0FBQTtJQXVSM0IscUJBQUM7Q0E5VEQsQUE4VEMsSUFBQTtBQTlUWSx3Q0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG5hdGl2ZV9hZF9kYXRhIH0gZnJvbSBcIi4uLy4uL21vZGVsL21vZGVsXCI7XHJcbmltcG9ydCB7IGVfYWRfbmF0aXZlX3N0YXRlLCBlX2FkX25hdGl2ZV90eXBlIH0gZnJvbSBcIi4uLy4uL2NvbmZpZ3Mvc3l5eF9zZGtfZW51bVwiO1xyXG5pbXBvcnQgeyBzeXl4X21hbmFnZXIgfSBmcm9tIFwiLi4vc3l5eF9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHN5eXhfY29uc3QgfSBmcm9tIFwiLi4vLi4vY29uZmlncy9zeXl4X3Nka19jb25maWdcIjtcclxuaW1wb3J0IHsgc3l5eF9hZHZfbWFuYWdlciB9IGZyb20gXCIuL3N5eXhfYWR2X21hbmFnZXJcIjtcclxuaW1wb3J0IHsgc3l5eF9zZGtfdXRpbHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvc3l5eF9zZGtfdXRpbHNcIjtcclxuaW1wb3J0IHsgYWRfYmFubmVyIH0gZnJvbSBcIi4vYWRfYmFubmVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgYWRfbmF0aXZlX2ljb24ge1xyXG4gICAgLyoqXHJcbiAgICAgICog5Y6f55Sf5pWw5o2uXHJcbiAgICAgICovXHJcbiAgICBzdGF0aWMgX25hdGl2ZV9kYXRhX2xpc3QgPSBbXVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDov5znq6/ov5DokKXphY3nva5cclxuICAgICovXHJcbiAgICBzdGF0aWMgX2J1c2luZXNzX2NvbmZpZ19kYXRhID0ge307XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDphY3nva7ooajlub/lkYppZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX2FkX3Bvc19pZFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65bm/5ZGK5pe25Lyg5YWl55qE5Y+C5pWwXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfYWRfcGFyYW1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGJhbm5lcuiHquWKqOWIt+aWsOaXtumXtFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXV0b191cGRhdGVfY2QgPSBbMjAsIDIwXVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yi35paw5a6a5pe25Zmo5piv5ZCm5byA5ZCvXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc19ydW5fdGltZXIgPSBmYWxzZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y6f55SfaWNvbiDniLboioLngrlcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGljb25fcGFyZW50XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvZPliY3mmK/lkKbpnIDopoHlsZXnpLpiYW5uZXJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG5lZWRfc2hvdyA9IHRydWVcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiHquWKqOWIt+aWsOWumuaXtuWZqFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcnVuX3RpbWVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc19ydW5fdGltZXIgJiYgdGhpcy5pc19vcHBvX3Zpdm8oKSkgeyAvLyDkuIDlvIDlp4tpc19ydW5fdGltZXJmYWxzZVxyXG4gICAgICAgICAgICB0aGlzLmlzX3J1bl90aW1lciA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy50aW1lcl9mdW5jKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHRpbWVyX2lkXHJcbiAgICBzdGF0aWMgdGltZXJfZnVuYygpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuICAgICAgICB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YSA9IHN5eXhfbWFuYWdlci5nZXRfYnVzaW5lc3NfY29uZmlnKClcclxuICAgICAgICBpZiAodGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfaWNvbl9jb29sX3RpbWVcIl0pIHtcclxuICAgICAgICAgICAgdGhpcy5hdXRvX3VwZGF0ZV9jZCA9IHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2ljb25fY29vbF90aW1lXCJdLnZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9hZF9uYXRpdmVfaWNvbigpXHJcbiAgICAgICAgbGV0IGNkID0gc3l5eF9zZGtfdXRpbHMuZ2V0X3JhbmRvbV9udW1iZXIodGhpcy5hdXRvX3VwZGF0ZV9jZCkgLy8gMjDnp5JcclxuXHJcbiAgICAgICAgdGhpcy50aW1lcl9pZCAmJiBjbGVhclRpbWVvdXQodGhpcy50aW1lcl9pZClcclxuICAgICAgICB0aGlzLnRpbWVyX2lkID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHNlbGYudGltZXJfZnVuYygpXHJcbiAgICAgICAgfSwgY2QgKiAxMDAwKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZXBvcnRfYWRfY2xpY2soYWRfcG9zX2lkOiBzdHJpbmcsIG5hdGl2ZV9kYXRhPykge1xyXG4gICAgICAgIGlmICh0aGlzLl9hZF9wb3NfaWQgIT0gYWRfcG9zX2lkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcImlnYyAtLS0tLSBoYXMgaW4gbmF0aXZlIGljb24gJ3MgcmVwb3J0IGNsaWNrIFwiKVxyXG5cclxuICAgICAgICAvL+S4iuaKpeeahOaYr+WOn+eUn2Jhbm5lcueCueWHuyAg6ZqQ6JeP5Y6f55SfYmFubmVyVWkg6YeN5paw6K+35rGC5paw55qE5Y6f55SfYmFubmVy5pWw5o2uXHJcbiAgICAgICAgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2ljb25fcmVwb3J0X2NsaWNrX3VwZGF0ZV9zd2l0Y2hcIl0pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2ljb25fcmVwb3J0X2NsaWNrX3VwZGF0ZV9zd2l0Y2hcIl0udmFsdWVbMF0gPT0gMSkgeyAvLyDljp/nlJ9pY29u54K55Ye75LiK5oql5ZCO56uL5Y2z5Yi35pawXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lfdGltZXIoKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pY29uX3BhcmVudCAmJiB0aGlzLnNob3dfbmF0aXZlX2ljb24odGhpcy5pY29uX3BhcmVudCwgdGhpcy5fYWRfcGFyYW0uYWRfdHlwZSwgdGhpcy5fYWRfcGFyYW0uYWRfcG9zX2lkLCB0aGlzLl9hZF9wYXJhbS5vbkxvYWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRfcGFyYW0ub25TaG93LCB0aGlzLl9hZF9wYXJhbS5vbkNsb3NlLCB0aGlzLl9hZF9wYXJhbS5vbkVycm9yKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZXBvcnRfYWRfc2hvdyhhZF9wb3NfaWQ6IHN0cmluZywgbmF0aXZlX2RhdGEpIHtcclxuICAgICAgICBpZiAodGhpcy5fYWRfcG9zX2lkID09IGFkX3Bvc19pZCkge1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2hvd19uYXRpdmVfaWNvbihwYXJlbnQsIGFkX3R5cGU/OiBpZ2MuZV9hZF90eXBlLCBhZF9wb3NfaWQ/OiBzdHJpbmcsIG9uTG9hZD86IEZ1bmN0aW9uLCBvblNob3c/OiBGdW5jdGlvbiwgb25DbG9zZT86IEZ1bmN0aW9uLCBvbkVycm9yPzogRnVuY3Rpb24pIHtcclxuICAgICAgICB0aGlzLl9hZF9wb3NfaWQgPSBhZF9wb3NfaWRcclxuICAgICAgICB0aGlzLl9hZF9wYXJhbSA9IHtcclxuICAgICAgICAgICAgYWRfdHlwZTogYWRfdHlwZSxcclxuICAgICAgICAgICAgYWRfcG9zX2lkOiBhZF9wb3NfaWQsXHJcbiAgICAgICAgICAgIG9uTG9hZDogb25Mb2FkLFxyXG4gICAgICAgICAgICBvblNob3c6IG9uU2hvdyxcclxuICAgICAgICAgICAgb25DbG9zZTogb25DbG9zZSxcclxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvcixcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubmVlZF9zaG93ID0gdHJ1ZVxyXG4gICAgICAgIHRoaXMuaWNvbl9wYXJlbnQgPSBwYXJlbnRcclxuXHJcbiAgICAgICAgbGV0IGFkX2lkID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfY2hhbm5lbF9hZF9pZChhZF9wb3NfaWQpXHJcbiAgICAgICAgaWYgKCFhZF9pZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/ljp/nlJ9pY29u6L+c56uv6YWN572u5byA5YWz5piv5ZCm5byA5ZCvXHJcbiAgICAgICAgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2ljb25fc3dpdGNoXCJdKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9pY29uX3N3aXRjaFwiXS52YWx1ZVswXSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bl90aW1lcigpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNkay0tLS0tIGNvbmZpZyAtIG5hdGl2ZSBpY29uIGlzIGNsb3NlXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGhpZGVfbmF0aXZlX2ljb24oKSB7XHJcbiAgICAgICAgdGhpcy5uZWVkX3Nob3cgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMuaWNvbl9wYXJlbnQgPSB1bmRlZmluZWRcclxuICAgICAgICB0aGlzLmhpZGVfbmF0aXZlX2ljb25fdWkoKVxyXG4gICAgICAgIHRoaXMuZGVzdHJveV90aW1lcigpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRlc3Ryb3lfdGltZXIoKSB7XHJcbiAgICAgICAgdGhpcy5pc19ydW5fdGltZXIgPSBmYWxzZVxyXG4gICAgICAgIC8v6ZSA5q+B5a6a5pe25ZmoXHJcbiAgICAgICAgdGhpcy50aW1lcl9pZCAmJiBjbGVhclRpbWVvdXQodGhpcy50aW1lcl9pZClcclxuICAgICAgICB0aGlzLnRpbWVyX2lkID0gdW5kZWZpbmVkXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOWKoOi9veWOn+eUn+aPkuWxj1xyXG4gICAgKiBAcGFyYW0gY2FsbF9iYWNrIOWKoOi9veaVsOaNruaIkOWKn+Wbnuiwg1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBsb2FkX25hdGl2ZV9pY29uKGNhbGxfYmFjaz8pIHtcclxuXHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcblxyXG4gICAgICAgIGlmICghYWRfYmFubmVyLmNhbl9zaG93X2ZpcnN0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gaXMgaW4gb3BwbyBmaXJzdCBhZCBjZFwiKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5b2T5YmN5LiN6ZyA6KaB5bGV56S65Lu75L2VYmFubmVyXHJcbiAgICAgICAgaWYgKCF0aGlzLm5lZWRfc2hvdykge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVfbmF0aXZlX2ljb25fdWkoKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBuYXRpdmVfZGF0YSA9IHRoaXMuZ2V0X25hdGl2ZV9kYXRhKClcclxuXHJcbiAgICAgICAgLy/kuIrkuIDkuKrliqDovb3nmoTljp/nlJ9iYW5uZXLmsqHmnInlsZXnpLrov4dcclxuICAgICAgICBpZiAobmF0aXZlX2RhdGEgJiYgbmF0aXZlX2RhdGEuc3RhdGUgPT0gZV9hZF9uYXRpdmVfc3RhdGUubmVlZF9zaG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd19uYXRpdmVfaWNvbl91aSgpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy93ZWLmuKDpgZMgIOi/lOWbnuWBh+aVsOaNrlxyXG4gICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS53ZWIpIHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgbmF0aXZlX2FkX2RhdGEoKVxyXG4gICAgICAgICAgICBkYXRhLmlkID0gaWdjLnV0aWxzX21hbmFnZXIuZ2V0X3JhbmRvbV9uYW1lKClcclxuICAgICAgICAgICAgZGF0YS5hZFBvc0lkID0gdGhpcy5fYWRfcG9zX2lkXHJcbiAgICAgICAgICAgIGRhdGEuYWRJZCA9IHN5eXhfc2RrX3V0aWxzLmdldF9yYW5kb21fbnVtYmVyKFsxMDAsIDIwMF0pXHJcbiAgICAgICAgICAgIGRhdGEuYWRVbml0SWQgPSBzeXl4X3Nka191dGlscy5nZXRfcmFuZG9tX251bWJlcihbMCwgMTAwMDAwXSlcclxuICAgICAgICAgICAgZGF0YS5pbWdVcmxMaXN0ID0gXCJodHRwczovL3N0YXRpYy1jZG4ubGxld2FuLmNvbS9oNS9kZHNkay9wbHVnaW4vc2hhcmVfaW1nLmpwZ1wiXHJcbiAgICAgICAgICAgIGRhdGEudGl0bGUgPSBcIuWOn+eUn2ljb27moIfpophcIiArIHN5eXhfc2RrX3V0aWxzLmdldF9yYW5kb21fbnVtYmVyKFsxMDAsIDIwMF0pXHJcbiAgICAgICAgICAgIGRhdGEuZGVzYyA9IFwi5Y6f55SfaWNvbuaPj+i/sFwiICsgc3l5eF9zZGtfdXRpbHMuZ2V0X3JhbmRvbV9udW1iZXIoWzEwMCwgMjAwXSlcclxuICAgICAgICAgICAgZGF0YS5zdGF0ZSA9IGVfYWRfbmF0aXZlX3N0YXRlLm5lZWRfc2hvd1xyXG4gICAgICAgICAgICBkYXRhLm5hdGl2ZV90eXBlID0gZV9hZF9uYXRpdmVfdHlwZS5uYXRpdmVfaWNvblxyXG4gICAgICAgICAgICB0aGlzLmFkZF9uYXRpdmVfZGF0YShkYXRhKVxyXG4gICAgICAgICAgICB0aGlzLl9hZF9wYXJhbS5vbkxvYWQgJiYgdGhpcy5fYWRfcGFyYW0ub25Mb2FkKHt9LCBkYXRhKVxyXG4gICAgICAgICAgICB0aGlzLnNob3dfbmF0aXZlX2ljb25fdWkoKVxyXG4gICAgICAgICAgICBjYWxsX2JhY2sgJiYgY2FsbF9iYWNrKClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzeXl4X21hbmFnZXIuY3JlYXRlX2FkKGlnYy5lX2FkX3R5cGUubmF0aXZlLCB0aGlzLl9hZF9wb3NfaWQsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uX2xvYWQocGFyYW0sIGFkX2RhdGFfbGlzdCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLXN5eXhfYWR2X21hbmFnZXItLS0tLS0tbG9hZF9uYXRpdmVfaWNvbiBvbl9sb2FkXCIsIGFkX2RhdGFfbGlzdClcclxuICAgICAgICAgICAgICAgIC8v6L+U5Zue5pWw5o2u5byC5bi4XHJcbiAgICAgICAgICAgICAgICBpZiAoYWRfZGF0YV9saXN0ID09IHVuZGVmaW5lZCB8fCAhYWRfZGF0YV9saXN0WzBdKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoID0gMFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS52aXZvX3FnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdml2b+a4oOmBk+WPquWPluacgOWQjuS4gOS4quS9jee9rlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBhZF9kYXRhX2xpc3QubGVuZ3RoIC0gMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGltZ1VybExpc3RcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUub3Bwb19xZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdVcmxMaXN0ID0gc3l5eF9zZGtfdXRpbHMuZm9ybWF0X3JlbW90ZV90ZXh0dXJlX3VybChhZF9kYXRhX2xpc3RbbGVuZ3RoXS5pY29uVXJsTGlzdFswXSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdVcmxMaXN0ID0gc3l5eF9zZGtfdXRpbHMuZm9ybWF0X3JlbW90ZV90ZXh0dXJlX3VybChhZF9kYXRhX2xpc3RbbGVuZ3RoXS5pbWdVcmxMaXN0WzBdKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgbmF0aXZlX2FkX2RhdGEoKVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuaWQgPSBpZ2MudXRpbHNfbWFuYWdlci5nZXRfcmFuZG9tX25hbWUoKVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuYWRQb3NJZCA9IHNlbGYuX2FkX3Bvc19pZFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuYWRJZCA9IHN5eXhfYWR2X21hbmFnZXIuZ2V0X2NoYW5uZWxfYWRfaWQoc2VsZi5fYWRfcG9zX2lkKVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuYWRVbml0SWQgPSBhZF9kYXRhX2xpc3RbbGVuZ3RoXS5hZFVuaXRJZFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuaW1nVXJsTGlzdCA9IGltZ1VybExpc3RcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnRpdGxlID0gYWRfZGF0YV9saXN0W2xlbmd0aF0udGl0bGVcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRlc2MgPSBhZF9kYXRhX2xpc3RbbGVuZ3RoXS5kZXNjXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zdGF0ZSA9IGVfYWRfbmF0aXZlX3N0YXRlLm5lZWRfc2hvd1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEubmF0aXZlX3R5cGUgPSBlX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9pY29uXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRfbmF0aXZlX2RhdGEoZGF0YSkgLy8g5a2Y5aW95pWw5o2uXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYWRfcGFyYW0ub25Mb2FkICYmIHNlbGYuX2FkX3BhcmFtLm9uTG9hZCh7fSwgZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNob3dfbmF0aXZlX2ljb25fdWkoKSAvLyDlsZXnpLrmlbDmja5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25fc2hvdygpIHtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25fY2xvc2UocGFyYW0sIHJlcykge1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBvbl9lcnJvcihwYXJhbSwgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaWdjLS0tLS1zeXl4X2Fkdl9tYW5hZ2VyLS0tLS0tLWxvYWRfbmF0aXZlX2ljb24gb25FcnJvclwiLCBlcnIpXHJcblxyXG4gICAgICAgICAgICAgICAgLy/ljp/nlJ9pY29u5oql6ZSZ5bCx55So5LmL5YmN55qE6ICB5pWw5o2uXHJcbiAgICAgICAgICAgICAgICBsZXQgbmF0aXZlX2RhdGEgPSBzZWxmLmdldF9uYXRpdmVfZGF0YSgpXHJcbiAgICAgICAgICAgICAgICBpZiAobmF0aXZlX2RhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNob3dfbmF0aXZlX2ljb25fdWkoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNlbGYuX2FkX3BhcmFtLm9uRXJyb3IgJiYgc2VsZi5fYWRfcGFyYW0ub25FcnJvcigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOWxleekuuWOn+eUn0ljb25VaVxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBzaG93X25hdGl2ZV9pY29uX3VpKCkge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIHNlbGYuaGlkZV9uYXRpdmVfaWNvbl91aSgpXHJcbiAgICAgICAgaWYgKCF0aGlzLm5lZWRfc2hvdykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHRoZSBjdXJyZW50IGludGVyZmFjZSBkb2Vzbid0IG5lZWQgdG8gc2hvdyBuYXRpdmUgaWNvbiBzbyB0aGF0IGRvIG5vdCByZWZyZXNoIG5hdGl2ZSBkYXRhXCIpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmljb25fcGFyZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gdGhlIG5hdGl2ZSBpY29uJ3MgcGFyZW50IG5vZGUgaXMgbm90IGV4aXN0XCIpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNfb3Bwb192aXZvKCkpIHtcclxuICAgICAgICAgICAgbGV0IG5hdGl2ZV9kYXRhID0gdGhpcy5nZXRfbmF0aXZlX2RhdGEoKVxyXG4gICAgICAgICAgICAvL+WxleekuuWOn+eUn0ljb25VSVxyXG4gICAgICAgICAgICBpZiAodGhpcy5uZWVkX3Nob3cgJiYgbmF0aXZlX2RhdGEpIHtcclxuICAgICAgICAgICAgICAgIHN5eXhfbWFuYWdlci5jcmVhdGVfbmF0aXZlX2ljb24oZnVuY3Rpb24gKHZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3LnNob3cgJiYgdmlldy5zaG93KHNlbGYuaWNvbl9wYXJlbnQsIG5hdGl2ZV9kYXRhKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmakOiXj+WOn+eUn0ljb25VaVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaGlkZV9uYXRpdmVfaWNvbl91aSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc19vcHBvX3Zpdm8oKSkge1xyXG4gICAgICAgICAgICAvL+makOiXj+WOn+eUn2ljb25VSVxyXG4gICAgICAgICAgICBzeXl4X21hbmFnZXIuY3JlYXRlX25hdGl2ZV9pY29uKGZ1bmN0aW9uICh2aWV3KSB7XHJcbiAgICAgICAgICAgICAgICB2aWV3LmhpZGUgJiYgdmlldy5oaWRlKClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzX29wcG9fdml2bygpIHtcclxuICAgICAgICBsZXQgaXNfb3BwbyA9IHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLm9wcG9fcWdcclxuICAgICAgICAgICAgfHwgc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUudml2b19xZ1xyXG4gICAgICAgICAgICB8fCBzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS53ZWJcclxuXHJcbiAgICAgICAgcmV0dXJuIGlzX29wcG9cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluacgOaWsOeahOWOn+eUn0Jhbm5lcuaVsOaNrlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X25hdGl2ZV9kYXRhKCkge1xyXG4gICAgICAgIC8v5piv5ZCm5ZCv5YqoT1BQT+aWsOinhFxyXG4gICAgICAgIGlmIChzeXl4X2Fkdl9tYW5hZ2VyLmNoZWNrX2lzX29wZW5fb3Bwb19ydWxlKCkpIHsgLy8gb3bkuLp0dXJlXHJcbiAgICAgICAgICAgIGlmIChzeXl4X2Fkdl9tYW5hZ2VyLmNoZWNrX25hdGl2ZV9kYXRhX2xpc3RfaXNfcmVwcm90KHRoaXMuX25hdGl2ZV9kYXRhX2xpc3QpKSB7XHJcbiAgICAgICAgICAgICAgICAvL+WFqOmDqOaVsOaNrumDveS4iuaKpeabneWFiei/h+S6hlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBhZF9uYXRpdmVfaWNvbiB1c2Ugb2xkIGxvYWQgbmF0aXZlIGRhdGFcIilcclxuICAgICAgICAgICAgICAgIHJldHVybiBzeXl4X2Fkdl9tYW5hZ2VyLmdldF9taW5fb3JkZXJfbmF0aXZlX2RhdGEodGhpcy5fbmF0aXZlX2RhdGFfbGlzdClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8v5pyJ5pWw5o2u5rKh5pyJ5LiK5oql6L+H5pud5YWJICDnlKjmnIDmlrDmlbDmja5cclxuICAgICAgICAgICAgICAgIHJldHVybiBzeXl4X2Fkdl9tYW5hZ2VyLmdldF9sYXRlc3RfbmF0aXZlX2RhdGEodGhpcy5fbmF0aXZlX2RhdGFfbGlzdClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVfZGF0YV9saXN0WzBdXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YKo5a2Y5Y6f55Sf5pWw5o2uXHJcbiAgICAgKiBAcGFyYW0gbmF0aXZlX2RhdGEg5Y6f55Sf5pWw5o2uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhZGRfbmF0aXZlX2RhdGEobmF0aXZlX2RhdGEpIHtcclxuICAgICAgICBpZiAoc3l5eF9hZHZfbWFuYWdlci5jaGVja19pc19vcGVuX29wcG9fcnVsZSgpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5fbmF0aXZlX2RhdGFfbGlzdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX25hdGl2ZV9kYXRhX2xpc3RbaV0uYWRVbml0SWQgPT0gbmF0aXZlX2RhdGEuYWRVbml0SWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbGVuZ3RoID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfb3Bwb19uYXRpdmVfY2FjaGVfbWF4X2xlbmd0aCgpIC8vIDIwXHJcbiAgICAgICAgICAgIC8v5Yik5pat57yT5a2Y5pWw57uE6ZW/5bqm5piv5ZCm6LaF5qCHXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9uYXRpdmVfZGF0YV9saXN0Lmxlbmd0aCA+PSBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZV9kYXRhX2xpc3Quc3BsaWNlKDAsIDEpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbmF0aXZlX2RhdGFfbGlzdC5wdXNoKG5hdGl2ZV9kYXRhKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZV9kYXRhX2xpc3RbMF0gPSBuYXRpdmVfZGF0YVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/controller/ad/ad_native_inner_interstitial.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e99f1odQZ1M3Z/ZTQyYK1KD', 'ad_native_inner_interstitial');
// syyx_sdk/controller/ad/ad_native_inner_interstitial.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ad_native_inner_interstitial = void 0;
var model_1 = require("../../model/model");
var syyx_sdk_enum_1 = require("../../configs/syyx_sdk_enum");
var syyx_manager_1 = require("../syyx_manager");
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var syyx_adv_manager_1 = require("./syyx_adv_manager");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var ad_native_inner_interstitial = /** @class */ (function () {
    function ad_native_inner_interstitial() {
    }
    ad_native_inner_interstitial.report_ad_click = function (ad_pos_id, native_data) {
        var self = this;
        if (!this._ad_pos_id) {
            console.log("igc----- ad_native_inner_interstitial  report_ad_click this.ad_pos_id is null!!");
            this._ad_pos_id = syyx_sdk_enum_1.e_ad_id.native_inner_interstitial_success;
        }
        if (this._ad_pos_id != ad_pos_id) {
            return;
        }
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.hw_qg) {
            console.log("igc ------ hw hide inner interstitial");
            syyx_manager_1.syyx_manager.hide_native_inner_interstitial();
            return;
        }
        console.log("igc ----- has in inner interstitial's report click ");
        //上报的是原生banner点击  隐藏原生bannerUi 重新请求新的原生banner数据
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["native_inner_report_click_update_switch"]) {
            if (this._business_config_data["native_inner_report_click_update_switch"].value[0] == 1) {
                this.preload_native_inner_interstitial(igc.e_ad_type.native, ad_pos_id, function onLoad(args, native_data) {
                    //由于结算原生的原生插屏需要设置父节点  所以上报点击时不隐藏UI
                    //刷新已经打开的原生插屏界面
                    console.log("igc----- ad_native_inner_interstitial click update success");
                    self.update_native_inner_interstitial_ui(native_data);
                }, function () { }, function () { }, function onError() {
                    //点击加载原生失败的话 能否在新规条件下获取到数据
                    var native_data = self.get_native_data();
                    if (native_data) {
                        self.update_native_inner_interstitial_ui(native_data);
                    }
                    else {
                        //自己没有数据 也没办法用原生Banner的数据的话 只能隐藏
                        //刷新结算原生失败时，隐藏结算原生
                        syyx_manager_1.syyx_manager.hide_native_inner_interstitial();
                    }
                });
            }
            else {
                syyx_manager_1.syyx_manager.hide_native_inner_interstitial();
            }
        }
    };
    ad_native_inner_interstitial.report_ad_show = function (ad_pos_id, native_data) {
        if (!this._ad_pos_id) {
            console.log("igc----- ad_native_inner_interstitial  report_ad_click this.ad_pos_id is null!!");
            this._ad_pos_id = syyx_sdk_enum_1.e_ad_id.native_inner_interstitial_success;
        }
        if (this._ad_pos_id == ad_pos_id) {
            this._last_ad_id = native_data.id;
        }
    };
    /**
    * 加载结算原生插屏
    * onLoad回调一般用于点击刷新  和  cp传入的onLoad
    */
    ad_native_inner_interstitial.preload_native_inner_interstitial = function (ad_type, ad_pos_id, onLoad, onShow, onClose, onError) {
        var self = this;
        this._ad_pos_id = ad_pos_id;
        this._ad_param = {
            ad_type: ad_type,
            ad_pos_id: ad_pos_id,
            onLoad: onLoad,
            onShow: onShow,
            onClose: onClose,
            onError: onError,
        };
        // 检查点击率超标 一开始为false
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_click_limit(syyx_sdk_enum_1.e_ad_native_type.native_inner_interstitial)) { // e_ad_native_type.native_inner_interstitial 为 2
            //自己点击率超标的话  去找原生Banner数据
            var native_banner_data = this.get_native_data();
            if (native_banner_data) {
                onLoad && onLoad({}, native_banner_data);
            }
            else {
                onError && onError();
            }
            return;
        }
        //华为可能需要用到结算原生开关 14
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["native_inner_interstitial_switch"]) {
            if (this._business_config_data["native_inner_interstitial_switch"].value[0] == 0) { // 0是关，1是开，根据gc_status开关
                console.log("sdk-----remote - config -ysjs- is close!!!");
                return;
            }
        }
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id) {
            return;
        }
        //上一个加载的原生banner没有展示过
        var latest_data = syyx_adv_manager_1.syyx_adv_manager.get_latest_native_data(this._native_data_list); // 一开始为underfind
        if (latest_data && latest_data.state == syyx_sdk_enum_1.e_ad_native_state.need_show) {
            onLoad && onLoad({}, latest_data);
            return;
        }
        //检查当前展示是否达到限制
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_show_count_limit()) {
            //达到限制  用之前的数据
            console.log("igc----- ad_native_inner_interstitial preload_native_inner_interstitial is show limit!!");
            var native_data = this.get_native_data();
            if (native_data) {
                onLoad && onLoad({}, native_data);
            }
            else {
                syyx_manager_1.syyx_manager.hide_native_inner_interstitial();
            }
            return;
        }
        //-----------加载结算原生数据---------------------//
        //web渠道  返回假数据
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {
            var data = new model_1.native_ad_data();
            data.id = igc.utils_manager.get_random_name();
            data.adPosId = ad_pos_id;
            data.adId = syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([100, 200]) + "";
            data.adUnitId = syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([0, 100000]) + "";
            data.imgUrlList = "https://static-cdn.llewan.com/h5/ddsdk/plugin/share_img.jpg";
            data.title = "结算原生标题" + syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([100, 200]);
            data.desc = "结算原生描述" + syyx_sdk_utils_1.syyx_sdk_utils.get_random_number([100, 200]);
            data.state = syyx_sdk_enum_1.e_ad_native_state.need_show;
            data.native_type = syyx_sdk_enum_1.e_ad_native_type.native_inner_interstitial;
            this.add_native_data(data);
            onLoad && onLoad({}, data);
            syyx_adv_manager_1.syyx_adv_manager.add_native_show_count();
            this.update_native_inner_interstitial_ui(data);
            console.log("igc-----syyx_adv_manager-------load_native_inner_interstitial on_load", data);
            return;
        }
        syyx_manager_1.syyx_manager.create_ad(igc.e_ad_type.native, ad_pos_id, function on_load(param, ad_data_list) {
            console.log("igc-----syyx_adv_manager-------load_native_inner_interstitial on_load", ad_data_list);
            //返回数据异常
            if (ad_data_list == undefined || !ad_data_list[0]) {
                onError && onError();
            }
            else {
                var length = 0;
                if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {
                    //vivo渠道只取最后一个位置
                    length = ad_data_list.length - 1;
                }
                var data = new model_1.native_ad_data();
                data.id = igc.utils_manager.get_random_name();
                data.adPosId = ad_pos_id;
                data.adId = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
                data.adUnitId = ad_data_list[length].adUnitId;
                data.imgUrlList = syyx_sdk_utils_1.syyx_sdk_utils.format_remote_texture_url(ad_data_list[length].imgUrlList[0]);
                data.title = ad_data_list[length].title;
                data.desc = ad_data_list[length].desc;
                data.state = syyx_sdk_enum_1.e_ad_native_state.need_show;
                data.native_type = syyx_sdk_enum_1.e_ad_native_type.native_inner_interstitial;
                self.add_native_data(data);
                onLoad && onLoad({}, data);
                syyx_adv_manager_1.syyx_adv_manager.add_native_show_count();
                syyx_sdk_utils_1.syyx_sdk_utils.preload_native_texture(data.imgUrlList);
                self.update_native_inner_interstitial_ui(data);
            }
        }, function on_show() {
        }, function on_close(param, res) {
        }, function on_error(param, err) {
            console.error("igc-----syyx_adv_manager-------load_native_inner_interstitial onError", err);
            onError && onError();
        });
    };
    /**
     * 刷新结算原生界面
     * 必须要结算原生正在展示才会执行
     */
    ad_native_inner_interstitial.update_native_inner_interstitial_ui = function (native_data) {
        syyx_manager_1.syyx_manager.load_view(model_1.syyx_view.inner_interstitial, function (view) {
            if (native_data) {
                view.report_click_update_view(native_data);
            }
        });
    };
    /**
     * 处于展示上限的情况下
     * 根据一定规则选择缓存的原生数据
     */
    ad_native_inner_interstitial.get_native_data_by_limit_model = function () {
        if (syyx_adv_manager_1.syyx_adv_manager.check_native_data_list_is_reprot(this._native_data_list)) {
            //全部数据都上报曝光过了
            console.log("igc----- ad_native_inner_interstitial use old load native data");
            return syyx_adv_manager_1.syyx_adv_manager.get_min_order_native_data(this._native_data_list);
        }
        else {
            //有数据没有上报过曝光  用最新数据
            return syyx_adv_manager_1.syyx_adv_manager.get_latest_native_data(this._native_data_list);
        }
    };
    /**
    * 获取最新的原生数据
    */
    ad_native_inner_interstitial.get_native_data = function () {
        return syyx_adv_manager_1.syyx_adv_manager.get_native_data();
    };
    /**
     * 储存原生数据
     * @param native_data 原生数据
     */
    ad_native_inner_interstitial.add_native_data = function (native_data) {
        if (syyx_adv_manager_1.syyx_adv_manager.check_is_open_oppo_rule()) {
            syyx_adv_manager_1.syyx_adv_manager.add_native_data(native_data);
        }
        else {
            this._native_data_list[0] = native_data;
        }
    };
    ad_native_inner_interstitial.set_on_click_inner_interstitial_btn = function (click_back) {
        if (click_back === void 0) { click_back = undefined; }
        this._business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (this._business_config_data && this._business_config_data["native_inner_institial_click_wrap"]) {
            var rule = this._business_config_data["native_inner_institial_click_wrap"].value;
            if (rule) {
                if (this.next_click_wrap_count == -1) {
                    this.next_click_wrap_count = rule[0];
                }
                if (this.show_count >= this.next_click_wrap_count) {
                    console.log("igc----- native_inner_interstitial is easy click!");
                    this.next_click_wrap_count = this.show_count + rule[1] + Math.floor(Math.random() * (rule[2] - rule[1] + 1));
                    if (this.next_click_wrap_count < rule[0]) {
                        this.next_click_wrap_count = rule[0];
                    }
                    console.log("igc----- native_inner_interstitial next easy click count：", this.next_click_wrap_count);
                    syyx_manager_1.syyx_manager.click_native_inner_interstitial(click_back);
                    return;
                }
            }
        }
        console.log("igc----- native_inner_interstitial easy click is close!");
        click_back && click_back();
    };
    /**
     * 上一次显示的id
     */
    ad_native_inner_interstitial._last_ad_id = undefined;
    /**
      * 原生数据
      */
    ad_native_inner_interstitial._native_data_list = [];
    /**
    * 远端运营配置
    */
    ad_native_inner_interstitial._business_config_data = {};
    ad_native_inner_interstitial.next_click_wrap_count = -1;
    ad_native_inner_interstitial.show_count = 0;
    return ad_native_inner_interstitial;
}());
exports.ad_native_inner_interstitial = ad_native_inner_interstitial;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbnRyb2xsZXJcXGFkXFxhZF9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUE4RDtBQUM5RCw2REFBMkY7QUFDM0YsZ0RBQStDO0FBQy9DLGlFQUEyRDtBQUMzRCx1REFBc0Q7QUFDdEQsNkRBQTREO0FBRzVEO0lBQUE7SUErUkEsQ0FBQztJQXRRVSw0Q0FBZSxHQUF0QixVQUF1QixTQUFpQixFQUFFLFdBQVk7UUFDbEQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFBO1FBRWYsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDbEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpRkFBaUYsQ0FBQyxDQUFBO1lBQzlGLElBQUksQ0FBQyxVQUFVLEdBQUcsdUJBQU8sQ0FBQyxpQ0FBaUMsQ0FBQTtTQUM5RDtRQUVELElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxTQUFTLEVBQUU7WUFDOUIsT0FBTTtTQUNUO1FBRUQsSUFBSSw0QkFBVSxDQUFDLGdCQUFnQixLQUFLLEdBQUcsQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFO1lBQzFELE9BQU8sQ0FBQyxHQUFHLENBQUMsdUNBQXVDLENBQUMsQ0FBQTtZQUNwRCwyQkFBWSxDQUFDLDhCQUE4QixFQUFFLENBQUE7WUFDN0MsT0FBTTtTQUNUO1FBRUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxREFBcUQsQ0FBQyxDQUFBO1FBQ2xFLCtDQUErQztRQUMvQyxJQUFJLENBQUMscUJBQXFCLEdBQUcsMkJBQVksQ0FBQyxtQkFBbUIsRUFBRSxDQUFBO1FBQy9ELElBQUksSUFBSSxDQUFDLHFCQUFxQixJQUFJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyx5Q0FBeUMsQ0FBQyxFQUFFO1lBQ3JHLElBQUksSUFBSSxDQUFDLHFCQUFxQixDQUFDLHlDQUF5QyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FB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QUFDLENBQUMsQ0FBQTtvQkFDNUcsSUFBSSxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFO3dCQUN0QyxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO3FCQUN2QztvQkFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLDJEQUEyRCxFQUFFLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO29CQUNwRywyQkFBWSxDQUFDLCtCQUErQixDQUFDLFVBQVUsQ0FBQyxDQUFBO29CQUN4RCxPQUFNO2lCQUNUO2FBQ0o7U0FDSjtRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMseURBQXlELENBQUMsQ0FBQTtRQUN0RSxVQUFVLElBQUksVUFBVSxFQUFFLENBQUE7SUFDOUIsQ0FBQztJQTdSRDs7T0FFRztJQUNJLHdDQUFXLEdBQUcsU0FBUyxDQUFBO0lBQzlCOztRQUVJO0lBQ0csOENBQWlCLEdBQUcsRUFBRSxDQUFBO0lBRTdCOztNQUVFO0lBQ0ssa0RBQXFCLEdBQUcsRUFBRSxDQUFDO0lBeVAzQixrREFBcUIsR0FBRyxDQUFDLENBQUMsQ0FBQTtJQUMxQix1Q0FBVSxHQUFHLENBQUMsQ0FBQTtJQXdCekIsbUNBQUM7Q0EvUkQsQUErUkMsSUFBQTtBQS9SWSxvRUFBNEIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBuYXRpdmVfYWRfZGF0YSwgc3l5eF92aWV3IH0gZnJvbSBcIi4uLy4uL21vZGVsL21vZGVsXCI7XHJcbmltcG9ydCB7IGVfYWRfaWQsIGVfYWRfbmF0aXZlX3N0YXRlLCBlX2FkX25hdGl2ZV90eXBlIH0gZnJvbSBcIi4uLy4uL2NvbmZpZ3Mvc3l5eF9zZGtfZW51bVwiO1xyXG5pbXBvcnQgeyBzeXl4X21hbmFnZXIgfSBmcm9tIFwiLi4vc3l5eF9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHN5eXhfY29uc3QgfSBmcm9tIFwiLi4vLi4vY29uZmlncy9zeXl4X3Nka19jb25maWdcIjtcclxuaW1wb3J0IHsgc3l5eF9hZHZfbWFuYWdlciB9IGZyb20gXCIuL3N5eXhfYWR2X21hbmFnZXJcIjtcclxuaW1wb3J0IHsgc3l5eF9zZGtfdXRpbHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvc3l5eF9zZGtfdXRpbHNcIjtcclxuaW1wb3J0IHsgYWRfYmFubmVyIH0gZnJvbSBcIi4vYWRfYmFubmVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgYWRfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCB7XHJcbiAgICAvKipcclxuICAgICAqIOS4iuS4gOasoeaYvuekuueahGlkXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfbGFzdF9hZF9pZCA9IHVuZGVmaW5lZFxyXG4gICAgLyoqXHJcbiAgICAgICog5Y6f55Sf5pWw5o2uXHJcbiAgICAgICovXHJcbiAgICBzdGF0aWMgX25hdGl2ZV9kYXRhX2xpc3QgPSBbXVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDov5znq6/ov5DokKXphY3nva5cclxuICAgICovXHJcbiAgICBzdGF0aWMgX2J1c2luZXNzX2NvbmZpZ19kYXRhID0ge307XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDphY3nva7ooajlub/lkYppZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX2FkX3Bvc19pZFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65bm/5ZGK5pe25Lyg5YWl55qE5Y+C5pWwXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfYWRfcGFyYW1cclxuXHJcbiAgICBzdGF0aWMgcmVwb3J0X2FkX2NsaWNrKGFkX3Bvc19pZDogc3RyaW5nLCBuYXRpdmVfZGF0YT8pIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9hZF9wb3NfaWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBhZF9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsICByZXBvcnRfYWRfY2xpY2sgdGhpcy5hZF9wb3NfaWQgaXMgbnVsbCEhXCIpXHJcbiAgICAgICAgICAgIHRoaXMuX2FkX3Bvc19pZCA9IGVfYWRfaWQubmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbF9zdWNjZXNzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fYWRfcG9zX2lkICE9IGFkX3Bvc19pZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS5od19xZykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYyAtLS0tLS0gaHcgaGlkZSBpbm5lciBpbnRlcnN0aXRpYWxcIilcclxuICAgICAgICAgICAgc3l5eF9tYW5hZ2VyLmhpZGVfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCgpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJpZ2MgLS0tLS0gaGFzIGluIGlubmVyIGludGVyc3RpdGlhbCdzIHJlcG9ydCBjbGljayBcIilcclxuICAgICAgICAvL+S4iuaKpeeahOaYr+WOn+eUn2Jhbm5lcueCueWHuyAg6ZqQ6JeP5Y6f55SfYmFubmVyVWkg6YeN5paw6K+35rGC5paw55qE5Y6f55SfYmFubmVy5pWw5o2uXHJcbiAgICAgICAgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wibmF0aXZlX2lubmVyX3JlcG9ydF9jbGlja191cGRhdGVfc3dpdGNoXCJdKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9pbm5lcl9yZXBvcnRfY2xpY2tfdXBkYXRlX3N3aXRjaFwiXS52YWx1ZVswXSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWRfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbChcclxuICAgICAgICAgICAgICAgICAgICBpZ2MuZV9hZF90eXBlLm5hdGl2ZSxcclxuICAgICAgICAgICAgICAgICAgICBhZF9wb3NfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gb25Mb2FkKGFyZ3MsIG5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v55Sx5LqO57uT566X5Y6f55Sf55qE5Y6f55Sf5o+S5bGP6ZyA6KaB6K6+572u54i26IqC54K5ICDmiYDku6XkuIrmiqXngrnlh7vml7bkuI3pmpDol49VSVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+WIt+aWsOW3sue7j+aJk+W8gOeahOWOn+eUn+aPkuWxj+eVjOmdolxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGFkX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwgY2xpY2sgdXBkYXRlIHN1Y2Nlc3NcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGVfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbF91aShuYXRpdmVfZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgfSxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gb25FcnJvcigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/ngrnlh7vliqDovb3ljp/nlJ/lpLHotKXnmoTor50g6IO95ZCm5Zyo5paw6KeE5p2h5Lu25LiL6I635Y+W5Yiw5pWw5o2uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYXRpdmVfZGF0YSA9IHNlbGYuZ2V0X25hdGl2ZV9kYXRhKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZV9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsX3VpKG5hdGl2ZV9kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/oh6rlt7HmsqHmnInmlbDmja4g5Lmf5rKh5Yqe5rOV55So5Y6f55SfQmFubmVy55qE5pWw5o2u55qE6K+dIOWPquiDvemakOiXj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/liLfmlrDnu5Pnrpfljp/nlJ/lpLHotKXml7bvvIzpmpDol4/nu5Pnrpfljp/nlJ9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5eXhfbWFuYWdlci5oaWRlX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3l5eF9tYW5hZ2VyLmhpZGVfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlcG9ydF9hZF9zaG93KGFkX3Bvc19pZDogc3RyaW5nLCBuYXRpdmVfZGF0YSkge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuX2FkX3Bvc19pZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGFkX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwgIHJlcG9ydF9hZF9jbGljayB0aGlzLmFkX3Bvc19pZCBpcyBudWxsISFcIilcclxuICAgICAgICAgICAgdGhpcy5fYWRfcG9zX2lkID0gZV9hZF9pZC5uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsX3N1Y2Nlc3NcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9hZF9wb3NfaWQgPT0gYWRfcG9zX2lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xhc3RfYWRfaWQgPSBuYXRpdmVfZGF0YS5pZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog5Yqg6L2957uT566X5Y6f55Sf5o+S5bGPXHJcbiAgICAqIG9uTG9hZOWbnuiwg+S4gOiIrOeUqOS6jueCueWHu+WIt+aWsCAg5ZKMICBjcOS8oOWFpeeahG9uTG9hZFxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBwcmVsb2FkX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwoYWRfdHlwZT86IGlnYy5lX2FkX3R5cGUsIGFkX3Bvc19pZD86IHN0cmluZywgb25Mb2FkPzogRnVuY3Rpb24sIG9uU2hvdz86IEZ1bmN0aW9uLCBvbkNsb3NlPzogRnVuY3Rpb24sIG9uRXJyb3I/OiBGdW5jdGlvbikge1xyXG5cclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuICAgICAgICB0aGlzLl9hZF9wb3NfaWQgPSBhZF9wb3NfaWRcclxuICAgICAgICB0aGlzLl9hZF9wYXJhbSA9IHtcclxuICAgICAgICAgICAgYWRfdHlwZTogYWRfdHlwZSxcclxuICAgICAgICAgICAgYWRfcG9zX2lkOiBhZF9wb3NfaWQsXHJcbiAgICAgICAgICAgIG9uTG9hZDogb25Mb2FkLFxyXG4gICAgICAgICAgICBvblNob3c6IG9uU2hvdyxcclxuICAgICAgICAgICAgb25DbG9zZTogb25DbG9zZSxcclxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvcixcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOajgOafpeeCueWHu+eOh+i2heaghyDkuIDlvIDlp4vkuLpmYWxzZVxyXG4gICAgICAgIGlmIChzeXl4X2Fkdl9tYW5hZ2VyLmNoZWNrX2lzX2NsaWNrX2xpbWl0KGVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCkpIHsgLy8gZV9hZF9uYXRpdmVfdHlwZS5uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsIOS4uiAyXHJcbiAgICAgICAgICAgIC8v6Ieq5bex54K55Ye7546H6LaF5qCH55qE6K+dICDljrvmib7ljp/nlJ9CYW5uZXLmlbDmja5cclxuICAgICAgICAgICAgbGV0IG5hdGl2ZV9iYW5uZXJfZGF0YSA9IHRoaXMuZ2V0X25hdGl2ZV9kYXRhKClcclxuICAgICAgICAgICAgaWYgKG5hdGl2ZV9iYW5uZXJfZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgb25Mb2FkICYmIG9uTG9hZCh7fSwgbmF0aXZlX2Jhbm5lcl9kYXRhKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5Y2O5Li65Y+v6IO96ZyA6KaB55So5Yiw57uT566X5Y6f55Sf5byA5YWzIDE0XHJcbiAgICAgICAgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YSAmJiB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWxfc3dpdGNoXCJdKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWxfc3dpdGNoXCJdLnZhbHVlWzBdID09IDApIHsgLy8gMOaYr+WFs++8jDHmmK/lvIDvvIzmoLnmja5nY19zdGF0dXPlvIDlhbNcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2RrLS0tLS1yZW1vdGUgLSBjb25maWcgLXlzanMtIGlzIGNsb3NlISEhXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGFkX2lkID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfY2hhbm5lbF9hZF9pZChhZF9wb3NfaWQpXHJcbiAgICAgICAgaWYgKCFhZF9pZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5LiK5LiA5Liq5Yqg6L2955qE5Y6f55SfYmFubmVy5rKh5pyJ5bGV56S66L+HXHJcbiAgICAgICAgbGV0IGxhdGVzdF9kYXRhID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfbGF0ZXN0X25hdGl2ZV9kYXRhKHRoaXMuX25hdGl2ZV9kYXRhX2xpc3QpIC8vIOS4gOW8gOWni+S4unVuZGVyZmluZFxyXG4gICAgICAgIGlmIChsYXRlc3RfZGF0YSAmJiBsYXRlc3RfZGF0YS5zdGF0ZSA9PSBlX2FkX25hdGl2ZV9zdGF0ZS5uZWVkX3Nob3cpIHtcclxuICAgICAgICAgICAgb25Mb2FkICYmIG9uTG9hZCh7fSwgbGF0ZXN0X2RhdGEpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/mo4Dmn6XlvZPliY3lsZXnpLrmmK/lkKbovr7liLDpmZDliLZcclxuICAgICAgICBpZiAoc3l5eF9hZHZfbWFuYWdlci5jaGVja19pc19zaG93X2NvdW50X2xpbWl0KCkpIHtcclxuICAgICAgICAgICAgLy/ovr7liLDpmZDliLYgIOeUqOS5i+WJjeeahOaVsOaNrlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGFkX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwgcHJlbG9hZF9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsIGlzIHNob3cgbGltaXQhIVwiKVxyXG4gICAgICAgICAgICBsZXQgbmF0aXZlX2RhdGEgPSB0aGlzLmdldF9uYXRpdmVfZGF0YSgpXHJcbiAgICAgICAgICAgIGlmIChuYXRpdmVfZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgb25Mb2FkICYmIG9uTG9hZCh7fSwgbmF0aXZlX2RhdGEpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzeXl4X21hbmFnZXIuaGlkZV9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLS0tLS0tLS0tLS3liqDovb3nu5Pnrpfljp/nlJ/mlbDmja4tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG5cclxuICAgICAgICAvL3dlYua4oOmBkyAg6L+U5Zue5YGH5pWw5o2uXHJcbiAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLndlYikge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBuYXRpdmVfYWRfZGF0YSgpXHJcbiAgICAgICAgICAgIGRhdGEuaWQgPSBpZ2MudXRpbHNfbWFuYWdlci5nZXRfcmFuZG9tX25hbWUoKVxyXG4gICAgICAgICAgICBkYXRhLmFkUG9zSWQgPSBhZF9wb3NfaWRcclxuICAgICAgICAgICAgZGF0YS5hZElkID0gc3l5eF9zZGtfdXRpbHMuZ2V0X3JhbmRvbV9udW1iZXIoWzEwMCwgMjAwXSkgKyBcIlwiXHJcbiAgICAgICAgICAgIGRhdGEuYWRVbml0SWQgPSBzeXl4X3Nka191dGlscy5nZXRfcmFuZG9tX251bWJlcihbMCwgMTAwMDAwXSkgKyBcIlwiXHJcbiAgICAgICAgICAgIGRhdGEuaW1nVXJsTGlzdCA9IFwiaHR0cHM6Ly9zdGF0aWMtY2RuLmxsZXdhbi5jb20vaDUvZGRzZGsvcGx1Z2luL3NoYXJlX2ltZy5qcGdcIlxyXG4gICAgICAgICAgICBkYXRhLnRpdGxlID0gXCLnu5Pnrpfljp/nlJ/moIfpophcIiArIHN5eXhfc2RrX3V0aWxzLmdldF9yYW5kb21fbnVtYmVyKFsxMDAsIDIwMF0pXHJcbiAgICAgICAgICAgIGRhdGEuZGVzYyA9IFwi57uT566X5Y6f55Sf5o+P6L+wXCIgKyBzeXl4X3Nka191dGlscy5nZXRfcmFuZG9tX251bWJlcihbMTAwLCAyMDBdKVxyXG4gICAgICAgICAgICBkYXRhLnN0YXRlID0gZV9hZF9uYXRpdmVfc3RhdGUubmVlZF9zaG93XHJcbiAgICAgICAgICAgIGRhdGEubmF0aXZlX3R5cGUgPSBlX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWxcclxuICAgICAgICAgICAgdGhpcy5hZGRfbmF0aXZlX2RhdGEoZGF0YSlcclxuICAgICAgICAgICAgb25Mb2FkICYmIG9uTG9hZCh7fSwgZGF0YSlcclxuICAgICAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5hZGRfbmF0aXZlX3Nob3dfY291bnQoKVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZV9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsX3VpKGRhdGEpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS1zeXl4X2Fkdl9tYW5hZ2VyLS0tLS0tLWxvYWRfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCBvbl9sb2FkXCIsIGRhdGEpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3l5eF9tYW5hZ2VyLmNyZWF0ZV9hZChpZ2MuZV9hZF90eXBlLm5hdGl2ZSwgYWRfcG9zX2lkLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBvbl9sb2FkKHBhcmFtLCBhZF9kYXRhX2xpc3QpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS1zeXl4X2Fkdl9tYW5hZ2VyLS0tLS0tLWxvYWRfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCBvbl9sb2FkXCIsIGFkX2RhdGFfbGlzdClcclxuICAgICAgICAgICAgICAgIC8v6L+U5Zue5pWw5o2u5byC5bi4XHJcbiAgICAgICAgICAgICAgICBpZiAoYWRfZGF0YV9saXN0ID09IHVuZGVmaW5lZCB8fCAhYWRfZGF0YV9saXN0WzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IDBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUudml2b19xZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Zpdm/muKDpgZPlj6rlj5bmnIDlkI7kuIDkuKrkvY3nva5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoID0gYWRfZGF0YV9saXN0Lmxlbmd0aCAtIDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgbmF0aXZlX2FkX2RhdGEoKVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuaWQgPSBpZ2MudXRpbHNfbWFuYWdlci5nZXRfcmFuZG9tX25hbWUoKVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuYWRQb3NJZCA9IGFkX3Bvc19pZFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuYWRJZCA9IHN5eXhfYWR2X21hbmFnZXIuZ2V0X2NoYW5uZWxfYWRfaWQoYWRfcG9zX2lkKVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuYWRVbml0SWQgPSBhZF9kYXRhX2xpc3RbbGVuZ3RoXS5hZFVuaXRJZFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuaW1nVXJsTGlzdCA9IHN5eXhfc2RrX3V0aWxzLmZvcm1hdF9yZW1vdGVfdGV4dHVyZV91cmwoYWRfZGF0YV9saXN0W2xlbmd0aF0uaW1nVXJsTGlzdFswXSlcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnRpdGxlID0gYWRfZGF0YV9saXN0W2xlbmd0aF0udGl0bGVcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRlc2MgPSBhZF9kYXRhX2xpc3RbbGVuZ3RoXS5kZXNjXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zdGF0ZSA9IGVfYWRfbmF0aXZlX3N0YXRlLm5lZWRfc2hvd1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEubmF0aXZlX3R5cGUgPSBlX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZF9uYXRpdmVfZGF0YShkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIG9uTG9hZCAmJiBvbkxvYWQoe30sIGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5hZGRfbmF0aXZlX3Nob3dfY291bnQoKVxyXG4gICAgICAgICAgICAgICAgICAgIHN5eXhfc2RrX3V0aWxzLnByZWxvYWRfbmF0aXZlX3RleHR1cmUoZGF0YS5pbWdVcmxMaXN0KVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWxfdWkoZGF0YSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25fc2hvdygpIHtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gb25fY2xvc2UocGFyYW0sIHJlcykge1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBvbl9lcnJvcihwYXJhbSwgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaWdjLS0tLS1zeXl4X2Fkdl9tYW5hZ2VyLS0tLS0tLWxvYWRfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCBvbkVycm9yXCIsIGVycilcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliLfmlrDnu5Pnrpfljp/nlJ/nlYzpnaJcclxuICAgICAqIOW/hemhu+imgee7k+eul+WOn+eUn+ato+WcqOWxleekuuaJjeS8muaJp+ihjFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdXBkYXRlX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWxfdWkobmF0aXZlX2RhdGEpIHtcclxuICAgICAgICBzeXl4X21hbmFnZXIubG9hZF92aWV3KHN5eXhfdmlldy5pbm5lcl9pbnRlcnN0aXRpYWwsIGZ1bmN0aW9uICh2aWV3KSB7XHJcbiAgICAgICAgICAgIGlmIChuYXRpdmVfZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmlldy5yZXBvcnRfY2xpY2tfdXBkYXRlX3ZpZXcobmF0aXZlX2RhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlpITkuo7lsZXnpLrkuIrpmZDnmoTmg4XlhrXkuItcclxuICAgICAqIOagueaNruS4gOWumuinhOWImemAieaLqee8k+WtmOeahOWOn+eUn+aVsOaNrlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X25hdGl2ZV9kYXRhX2J5X2xpbWl0X21vZGVsKCkge1xyXG4gICAgICAgIGlmIChzeXl4X2Fkdl9tYW5hZ2VyLmNoZWNrX25hdGl2ZV9kYXRhX2xpc3RfaXNfcmVwcm90KHRoaXMuX25hdGl2ZV9kYXRhX2xpc3QpKSB7XHJcbiAgICAgICAgICAgIC8v5YWo6YOo5pWw5o2u6YO95LiK5oql5pud5YWJ6L+H5LqGXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gYWRfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCB1c2Ugb2xkIGxvYWQgbmF0aXZlIGRhdGFcIilcclxuICAgICAgICAgICAgcmV0dXJuIHN5eXhfYWR2X21hbmFnZXIuZ2V0X21pbl9vcmRlcl9uYXRpdmVfZGF0YSh0aGlzLl9uYXRpdmVfZGF0YV9saXN0KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v5pyJ5pWw5o2u5rKh5pyJ5LiK5oql6L+H5pud5YWJICDnlKjmnIDmlrDmlbDmja5cclxuICAgICAgICAgICAgcmV0dXJuIHN5eXhfYWR2X21hbmFnZXIuZ2V0X2xhdGVzdF9uYXRpdmVfZGF0YSh0aGlzLl9uYXRpdmVfZGF0YV9saXN0KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog6I635Y+W5pyA5paw55qE5Y6f55Sf5pWw5o2uXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGdldF9uYXRpdmVfZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4gc3l5eF9hZHZfbWFuYWdlci5nZXRfbmF0aXZlX2RhdGEoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YKo5a2Y5Y6f55Sf5pWw5o2uXHJcbiAgICAgKiBAcGFyYW0gbmF0aXZlX2RhdGEg5Y6f55Sf5pWw5o2uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhZGRfbmF0aXZlX2RhdGEobmF0aXZlX2RhdGEpIHtcclxuICAgICAgICBpZiAoc3l5eF9hZHZfbWFuYWdlci5jaGVja19pc19vcGVuX29wcG9fcnVsZSgpKSB7XHJcbiAgICAgICAgICAgIHN5eXhfYWR2X21hbmFnZXIuYWRkX25hdGl2ZV9kYXRhKG5hdGl2ZV9kYXRhKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZV9kYXRhX2xpc3RbMF0gPSBuYXRpdmVfZGF0YVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbmV4dF9jbGlja193cmFwX2NvdW50ID0gLTFcclxuICAgIHN0YXRpYyBzaG93X2NvdW50ID0gMFxyXG4gICAgc3RhdGljIHNldF9vbl9jbGlja19pbm5lcl9pbnRlcnN0aXRpYWxfYnRuKGNsaWNrX2JhY2sgPSB1bmRlZmluZWQpIHtcclxuICAgICAgICB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YSA9IHN5eXhfbWFuYWdlci5nZXRfYnVzaW5lc3NfY29uZmlnKClcclxuICAgICAgICBpZiAodGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgdGhpcy5fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfaW5uZXJfaW5zdGl0aWFsX2NsaWNrX3dyYXBcIl0pIHtcclxuICAgICAgICAgICAgbGV0IHJ1bGUgPSB0aGlzLl9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9pbm5lcl9pbnN0aXRpYWxfY2xpY2tfd3JhcFwiXS52YWx1ZVxyXG4gICAgICAgICAgICBpZiAocnVsZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dF9jbGlja193cmFwX2NvdW50ID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0X2NsaWNrX3dyYXBfY291bnQgPSBydWxlWzBdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93X2NvdW50ID49IHRoaXMubmV4dF9jbGlja193cmFwX2NvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBuYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsIGlzIGVhc3kgY2xpY2shXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0X2NsaWNrX3dyYXBfY291bnQgPSB0aGlzLnNob3dfY291bnQgKyBydWxlWzFdICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHJ1bGVbMl0gLSBydWxlWzFdICsgMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dF9jbGlja193cmFwX2NvdW50IDwgcnVsZVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRfY2xpY2tfd3JhcF9jb3VudCA9IHJ1bGVbMF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBuYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsIG5leHQgZWFzeSBjbGljayBjb3VudO+8mlwiLCB0aGlzLm5leHRfY2xpY2tfd3JhcF9jb3VudClcclxuICAgICAgICAgICAgICAgICAgICBzeXl4X21hbmFnZXIuY2xpY2tfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbChjbGlja19iYWNrKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCBlYXN5IGNsaWNrIGlzIGNsb3NlIVwiKVxyXG4gICAgICAgIGNsaWNrX2JhY2sgJiYgY2xpY2tfYmFjaygpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/script/ui-manager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '73b92FKbC1CGJnGoHrDlsci', 'ui-manager');
// framework/script/ui-manager.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.uiMgr = void 0;
var ui_base_1 = require("./ui-base");
var TAG = 'ui-manager.ts';
var UIROOT_ZINDEX = 999;
var UIROOT_NAME = 'ui-root';
var DEFAULT_CANVAS = 'ui-default-node';
var UIMap = /** @class */ (function () {
    function UIMap() {
    }
    return UIMap;
}());
var uiManager = /** @class */ (function () {
    /**
    构造函数 */
    function uiManager() {
        /**
        UI 根节点 */
        this._uiRoot = null;
        /**
        UI 配置表 Map */
        this._uiConfigMap = null;
        /**
        UI 配置信息 Map */
        this._uiMap = null;
        /**
        UI 画布节点 Map*/
        this._canvasMap = null;
        this._uiConfigMap = new Map();
        this._uiMap = new Map();
        this._canvasMap = new Map();
    }
    /**
     * 获取UI配置信息
     * @param uiname
     */
    uiManager.prototype._getMUI = function (uiname) {
        return __awaiter(this, void 0, void 0, function () {
            var mui, config, prefab;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        mui = this._uiMap.get(uiname);
                        if (!!mui) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.getConfig(uiname)];
                    case 1:
                        config = _a.sent();
                        if (!config) return [3 /*break*/, 3];
                        return [4 /*yield*/, loadPrefab(config.file_url, config.bundle)];
                    case 2:
                        prefab = _a.sent();
                        mui = new UIMap();
                        mui.prefab = prefab;
                        mui.config = config;
                        mui.ui = null;
                        prefab.addRef();
                        this._uiMap.set(uiname, mui);
                        return [3 /*break*/, 4];
                    case 3:
                        cc.warn(TAG, "not find " + uiname + " in file: ui-config");
                        _a.label = 4;
                    case 4: return [2 /*return*/, mui];
                }
            });
        });
    };
    /**
     * 获得UI根节点
     * @returns cc.Node
     */
    uiManager.prototype.getUIRoot = function () {
        if (!this._uiRoot) {
            this._uiRoot = new cc.Node(UIROOT_NAME);
            cc.director.getScene().addChild(this._uiRoot, UIROOT_ZINDEX);
            cc.game.addPersistRootNode(this._uiRoot);
            this._uiRoot.setAnchorPoint(cc.v2(0, 0));
            this._uiRoot.setPosition(cc.v2(0, 0));
            this._uiRoot.setContentSize(cc.winSize);
        }
        return this._uiRoot;
    };
    /**
     * 构建一个UI画布节点
     * @param cname 画布节点名称
     * @returns cc.Node
     */
    uiManager.prototype._getCanvas = function (cname) {
        if (cname === void 0) { cname = DEFAULT_CANVAS; }
        if (!cname) {
            cname = DEFAULT_CANVAS;
        }
        var canvas = this._canvasMap.get(cname);
        if (!canvas) {
            canvas = new cc.Node(cname);
            this.getUIRoot().addChild(canvas);
            canvas.setAnchorPoint(cc.v2(0, 0));
            var widget = canvas.addComponent(cc.Widget);
            widget.alignMode = cc.Widget.AlignMode.ON_WINDOW_RESIZE;
            widget.isAlignTop = true;
            widget.isAlignBottom = true;
            widget.isAlignLeft = true;
            widget.isAlignRight = true;
            widget.top = 0;
            widget.bottom = 0;
            widget.left = 0;
            widget.right = 0;
            this._canvasMap.set(cname, canvas);
        }
        return canvas;
    };
    /**
     * 构建一个UI
     * @param uiname UI名称
     * @param mui UI配置信息
     * @param rootNode 自定义根节点
     * @param create 是否创建
     * @returns UIBase
     */
    uiManager.prototype._getUI = function (uiname, mui, rootNode, create) {
        if (create === void 0) { create = false; }
        return __awaiter(this, void 0, void 0, function () {
            var ui, node, canvas;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        ui = mui.ui;
                        if (!(!ui && create)) return [3 /*break*/, 2];
                        node = cc.instantiate(mui.prefab);
                        canvas = rootNode ? rootNode : this._getCanvas(mui.config.canvas);
                        canvas.addChild(node);
                        node.active = false;
                        node.setPosition(rootNode ? cc.v2(0, 0) : cc.v2(cc.winSize.width / 2, cc.winSize.height / 2));
                        ui = node.getComponent(ui_base_1.default) || node.getComponentInChildren(ui_base_1.default);
                        if (!ui) {
                            ui = node.addComponent(ui_base_1.default);
                        }
                        ui._setRootNode(node);
                        ui._setCanvas(canvas);
                        ui._setUIName(uiname);
                        return [4 /*yield*/, ui.onUICreate()];
                    case 1:
                        _a.sent();
                        mui.ui = ui;
                        this._uiMap.set(uiname, mui);
                        _a.label = 2;
                    case 2: return [2 /*return*/, ui];
                }
            });
        });
    };
    /**
     * 打开指定UI
     * @param uiname UI名称
     * @param rootNode 根节点
     * @param preload 预加载
     * @param args 启动参数
     * @returns Promise<UIBase>
     */
    uiManager.prototype.openUI = function (uiname, rootNode, preload) {
        if (rootNode === void 0) { rootNode = null; }
        if (preload === void 0) { preload = false; }
        var args = [];
        for (var _i = 3; _i < arguments.length; _i++) {
            args[_i - 3] = arguments[_i];
        }
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
                        var ui, mui;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    ui = null;
                                    return [4 /*yield*/, this._getMUI(uiname)];
                                case 1:
                                    mui = _a.sent();
                                    if (!mui) return [3 /*break*/, 4];
                                    ui = mui.ui;
                                    mui.preload = preload;
                                    if (!!ui) return [3 /*break*/, 3];
                                    return [4 /*yield*/, this._getUI(uiname, mui, rootNode, true)];
                                case 2:
                                    ui = _a.sent();
                                    mui.relyon_scnene = rootNode ? true : false;
                                    _a.label = 3;
                                case 3:
                                    if (ui && !preload) {
                                        ui._setActive(true);
                                        ui.onUILaunch.apply(ui, args);
                                    }
                                    _a.label = 4;
                                case 4:
                                    resolve(ui);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    /**
     * 关闭指定UI
     * @param uiname UI名称
     * @param release 释放对象
     */
    uiManager.prototype.closeUI = function (uiname, release) {
        if (release === void 0) { release = false; }
        var mui = this._uiMap.get(uiname);
        if (mui) {
            var ui = mui.ui;
            if (ui) {
                ui.onUIClose();
                ui._setActive(false);
            }
            if (release) {
                console.log('release: ' + uiname);
                this.releaseUI(uiname);
            }
        }
    };
    /**
     * 设置UI索引,UI不会被关闭释放
     * @param uiname
     * @param z_index
     */
    uiManager.prototype.setUIzIndex = function (uiname, z_index) {
        if (z_index === void 0) { z_index = 0; }
        var mui = this._uiMap.get(uiname);
        if (mui) {
            var ui = mui.ui;
            if (ui) {
                ui._setSiblingIndex(z_index);
                ui.onIndexChange(z_index);
            }
        }
    };
    /**
     * 释放指定UI
     * @param uiname
     */
    uiManager.prototype.releaseUI = function (uiname) {
        var mui = this._uiMap.get(uiname);
        if (mui) {
            var ui = mui.ui;
            if (ui) {
                ui.onUIRelease();
                ui.node.destroy();
                mui.prefab.decRef();
                mui.prefab = null;
                mui.ui = null;
                mui.config = null;
                this._uiMap.delete(uiname);
            }
        }
    };
    /**
     * 自动释放依赖场景的UI
     */
    uiManager.prototype.autoRelease = function () {
        var delete_keys = [];
        this._uiMap.forEach(function (mui, key) {
            if (mui.relyon_scnene) {
                delete_keys.push(key);
            }
        });
        if (delete_keys.length > 0) {
            for (var i = 0; i < delete_keys.length; i++) {
                console.log('auto release: ' + delete_keys[i]);
                this.releaseUI(delete_keys[i]);
            }
        }
    };
    /**
     * 获取UI配置表单
     * @param uiname
     */
    uiManager.prototype.getConfig = function (uiname) {
        var _this = this;
        return new Promise(function (resolve) {
            var uiconf = _this._uiConfigMap.get(uiname);
            if (uiconf) {
                resolve(uiconf);
            }
            else {
                cc.resources.load('json/ui-config', cc.JsonAsset, function (err, asset) {
                    if (!err && asset) {
                        _this._uiConfigMap.set(uiname, asset.json.ui[uiname]);
                        resolve(_this._uiConfigMap.get(uiname));
                    }
                    else {
                        cc.warn(TAG, "not find ui-config in " + cc.resources.name);
                        resolve(null);
                    }
                });
            }
        });
    };
    return uiManager;
}());
/**
* 加载预制体
* @param url
* @param bundle
* @returns Promise<cc.Prefab>
*/
function loadPrefab(url, bundle) {
    return new Promise(function (resolve) {
        if (bundle) {
            var asset_bundle = cc.assetManager.getBundle(bundle);
            if (asset_bundle) {
                asset_bundle.load(url, cc.Prefab, function (err, prefab) {
                    if (!err && prefab) {
                        resolve(prefab);
                    }
                    else {
                        resolve(null);
                        cc.warn(TAG, "not find " + url + " in " + bundle);
                    }
                });
            }
            else {
                cc.assetManager.loadBundle(bundle, function (err, _bundle) {
                    if (!err && _bundle) {
                        _bundle.load(url, cc.Prefab, function (err, prefab) {
                            if (!err && prefab) {
                                resolve(prefab);
                            }
                            else {
                                resolve(null);
                                cc.warn(TAG, "not find " + url + " in " + bundle);
                            }
                        });
                    }
                    else {
                        cc.warn(TAG, "not find bundle " + bundle);
                    }
                });
            }
        }
        else {
            cc.resources.load(url, cc.Prefab, function (err, prefab) {
                if (!err && prefab) {
                    resolve(prefab);
                }
                else {
                    resolve(null);
                    console.log(TAG, "not find " + url + " in " + cc.resources.name);
                }
            });
        }
    });
}
exports.uiMgr = new uiManager();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxzY3JpcHRcXHVpLW1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscUNBQStCO0FBQy9CLElBQU0sR0FBRyxHQUFHLGVBQWUsQ0FBQztBQUM1QixJQUFNLGFBQWEsR0FBRyxHQUFHLENBQUM7QUFDMUIsSUFBTSxXQUFXLEdBQUcsU0FBUyxDQUFDO0FBQzlCLElBQU0sY0FBYyxHQUFHLGlCQUFpQixDQUFDO0FBWXpDO0lBQUE7SUFnQkEsQ0FBQztJQUFELFlBQUM7QUFBRCxDQWhCQSxBQWdCQyxJQUFBO0FBQ0Q7SUFhSTtXQUNPO0lBQ1A7UUFkQTtpQkFDUztRQUNELFlBQU8sR0FBWSxJQUFJLENBQUM7UUFDaEM7cUJBQ2E7UUFDTCxpQkFBWSxHQUEwQixJQUFJLENBQUM7UUFDbkQ7c0JBQ2M7UUFDTixXQUFNLEdBQXVCLElBQUksQ0FBQztRQUMxQztxQkFDYTtRQUNMLGVBQVUsR0FBeUIsSUFBSSxDQUFDO1FBSTVDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxHQUFHLEVBQW9CLENBQUM7UUFDaEQsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBaUIsQ0FBQztRQUN2QyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksR0FBRyxFQUFtQixDQUFDO0lBQ2pELENBQUM7SUFDRDs7O09BR0c7SUFDVywyQkFBTyxHQUFyQixVQUFzQixNQUFjOzs7Ozs7d0JBQzVCLEdBQUcsR0FBVSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQzs2QkFDckMsQ0FBQyxHQUFHLEVBQUosd0JBQUk7d0JBQ1MscUJBQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBQTs7d0JBQXJDLE1BQU0sR0FBRyxTQUE0Qjs2QkFDckMsTUFBTSxFQUFOLHdCQUFNO3dCQUNPLHFCQUFN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SSxDQUFDLEdBQUcsRUFBRSxxQkFBbUIsTUFBUSxDQUFDLENBQUM7cUJBQzdDO2dCQUNMLENBQUMsQ0FBQyxDQUFDO2FBQ047U0FDSjthQUFNO1lBQ0gsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxNQUFNLEVBQUUsVUFBQyxHQUFHLEVBQUUsTUFBaUI7Z0JBQ3JELElBQUksQ0FBQyxHQUFHLElBQUksTUFBTSxFQUFFO29CQUNoQixPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQ25CO3FCQUFNO29CQUNILE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxjQUFZLEdBQUcsWUFBTyxFQUFFLENBQUMsU0FBUyxDQUFDLElBQU0sQ0FBQyxDQUFDO2lCQUMvRDtZQUNMLENBQUMsQ0FBQyxDQUFDO1NBQ047SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFDWSxRQUFBLEtBQUssR0FBRyxJQUFJLFNBQVMsRUFBRSxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVJQmFzZSBmcm9tIFwiLi91aS1iYXNlXCI7XG5jb25zdCBUQUcgPSAndWktbWFuYWdlci50cyc7XG5jb25zdCBVSVJPT1RfWklOREVYID0gOTk5O1xuY29uc3QgVUlST09UX05BTUUgPSAndWktcm9vdCc7XG5jb25zdCBERUZBVUxUX0NBTlZBUyA9ICd1aS1kZWZhdWx0LW5vZGUnO1xuaW50ZXJmYWNlIHVpQ29uZmlnIHtcbiAgICAvKiogXG4gICAg6aKE5Yi25L2T5paH5Lu25L2N572uICovXG4gICAgZmlsZV91cmw6IHN0cmluZztcbiAgICAvKipcbiAgICDmiYDlsZ7otYTmupDljIUqL1xuICAgIGJ1bmRsZTogc3RyaW5nO1xuICAgIC8qKlxuICAgIOaJgOWxnueUu+W4g+iKgueCuSovXG4gICAgY2FudmFzOiBzdHJpbmc7XG59XG5jbGFzcyBVSU1hcCB7XG4gICAgLyoqIFxuICAgIOmihOWItuS9kyAqL1xuICAgIHByZWZhYjogY2MuUHJlZmFiO1xuICAgIC8qKiBcbiAgICBVSeWvueixoSAqL1xuICAgIHVpOiBVSUJhc2U7XG4gICAgLyoqXG4gICAgVUnphY3nva7kv6Hmga8qL1xuICAgIGNvbmZpZzogdWlDb25maWc7XG4gICAgLyoqIFxuICAgIOmihOWKoOi9vSAqL1xuICAgIHByZWxvYWQ/OiBib29sZWFuO1xuICAgIC8qKlxuICAgIOaYr+WQpuS+nei1luWcuuaZryovXG4gICAgcmVseW9uX3NjbmVuZT86IGJvb2xlYW5cbn1cbmNsYXNzIHVpTWFuYWdlciB7XG4gICAgLyoqIFxuICAgIFVJIOagueiKgueCuSAqL1xuICAgIHByaXZhdGUgX3VpUm9vdDogY2MuTm9kZSA9IG51bGw7XG4gICAgLyoqXG4gICAgVUkg6YWN572u6KGoIE1hcCAqL1xuICAgIHByaXZhdGUgX3VpQ29uZmlnTWFwOiBNYXA8c3RyaW5nLCB1aUNvbmZpZz4gPSBudWxsO1xuICAgIC8qKiBcbiAgICBVSSDphY3nva7kv6Hmga8gTWFwICovXG4gICAgcHJpdmF0ZSBfdWlNYXA6IE1hcDxzdHJpbmcsIFVJTWFwPiA9IG51bGw7XG4gICAgLyoqXG4gICAgVUkg55S75biD6IqC54K5IE1hcCovXG4gICAgcHJpdmF0ZSBfY2FudmFzTWFwOiBNYXA8c3RyaW5nLCBjYy5Ob2RlPiA9IG51bGw7XG4gICAgLyoqIFxuICAgIOaehOmAoOWHveaVsCAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl91aUNvbmZpZ01hcCA9IG5ldyBNYXA8c3RyaW5nLCB1aUNvbmZpZz4oKTtcbiAgICAgICAgdGhpcy5fdWlNYXAgPSBuZXcgTWFwPHN0cmluZywgVUlNYXA+KCk7XG4gICAgICAgIHRoaXMuX2NhbnZhc01hcCA9IG5ldyBNYXA8c3RyaW5nLCBjYy5Ob2RlPigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDojrflj5ZVSemFjee9ruS/oeaBr1xuICAgICAqIEBwYXJhbSB1aW5hbWUgXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBfZ2V0TVVJKHVpbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBtdWk6IFVJTWFwID0gdGhpcy5fdWlNYXAuZ2V0KHVpbmFtZSk7XG4gICAgICAgIGlmICghbXVpKSB7XG4gICAgICAgICAgICBsZXQgY29uZmlnID0gYXdhaXQgdGhpcy5nZXRDb25maWcodWluYW1lKTtcbiAgICAgICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJlZmFiID0gYXdhaXQgbG9hZFByZWZhYihjb25maWcuZmlsZV91cmwsIGNvbmZpZy5idW5kbGUpO1xuICAgICAgICAgICAgICAgIG11aSA9IG5ldyBVSU1hcCgpO1xuICAgICAgICAgICAgICAgIG11aS5wcmVmYWIgPSBwcmVmYWI7XG4gICAgICAgICAgICAgICAgbXVpLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgICAgICAgICBtdWkudWkgPSBudWxsO1xuICAgICAgICAgICAgICAgIHByZWZhYi5hZGRSZWYoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91aU1hcC5zZXQodWluYW1lLCBtdWkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYy53YXJuKFRBRywgYG5vdCBmaW5kICR7dWluYW1lfSBpbiBmaWxlOiB1aS1jb25maWdgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbXVpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDojrflvpdVSeagueiKgueCuVxuICAgICAqIEByZXR1cm5zIGNjLk5vZGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldFVJUm9vdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl91aVJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3VpUm9vdCA9IG5ldyBjYy5Ob2RlKFVJUk9PVF9OQU1FKTtcbiAgICAgICAgICAgIGNjLmRpcmVjdG9yLmdldFNjZW5lKCkuYWRkQ2hpbGQodGhpcy5fdWlSb290LCBVSVJPT1RfWklOREVYKTtcbiAgICAgICAgICAgIGNjLmdhbWUuYWRkUGVyc2lzdFJvb3ROb2RlKHRoaXMuX3VpUm9vdCk7XG4gICAgICAgICAgICB0aGlzLl91aVJvb3Quc2V0QW5jaG9yUG9pbnQoY2MudjIoMCwgMCkpO1xuICAgICAgICAgICAgdGhpcy5fdWlSb290LnNldFBvc2l0aW9uKGNjLnYyKDAsIDApKTtcbiAgICAgICAgICAgIHRoaXMuX3VpUm9vdC5zZXRDb250ZW50U2l6ZShjYy53aW5TaXplKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdWlSb290O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDmnoTlu7rkuIDkuKpVSeeUu+W4g+iKgueCuVxuICAgICAqIEBwYXJhbSBjbmFtZSDnlLvluIPoioLngrnlkI3np7BcbiAgICAgKiBAcmV0dXJucyBjYy5Ob2RlXG4gICAgICovXG4gICAgcHJpdmF0ZSBfZ2V0Q2FudmFzKGNuYW1lOiBzdHJpbmcgPSBERUZBVUxUX0NBTlZBUykge1xuICAgICAgICBpZiAoIWNuYW1lKSB7XG4gICAgICAgICAgICBjbmFtZSA9IERFRkFVTFRfQ0FOVkFTO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjYW52YXM6IGNjLk5vZGUgPSB0aGlzLl9jYW52YXNNYXAuZ2V0KGNuYW1lKTtcbiAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgIGNhbnZhcyA9IG5ldyBjYy5Ob2RlKGNuYW1lKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VUlSb290KCkuYWRkQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgICAgIGNhbnZhcy5zZXRBbmNob3JQb2ludChjYy52MigwLCAwKSk7XG4gICAgICAgICAgICBsZXQgd2lkZ2V0ID0gY2FudmFzLmFkZENvbXBvbmVudChjYy5XaWRnZXQpO1xuICAgICAgICAgICAgd2lkZ2V0LmFsaWduTW9kZSA9IGNjLldpZGdldC5BbGlnbk1vZGUuT05fV0lORE9XX1JFU0laRTtcbiAgICAgICAgICAgIHdpZGdldC5pc0FsaWduVG9wID0gdHJ1ZTtcbiAgICAgICAgICAgIHdpZGdldC5pc0FsaWduQm90dG9tID0gdHJ1ZTtcbiAgICAgICAgICAgIHdpZGdldC5pc0FsaWduTGVmdCA9IHRydWU7XG4gICAgICAgICAgICB3aWRnZXQuaXNBbGlnblJpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHdpZGdldC50b3AgPSAwO1xuICAgICAgICAgICAgd2lkZ2V0LmJvdHRvbSA9IDA7XG4gICAgICAgICAgICB3aWRnZXQubGVmdCA9IDA7XG4gICAgICAgICAgICB3aWRnZXQucmlnaHQgPSAwO1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzTWFwLnNldChjbmFtZSwgY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDmnoTlu7rkuIDkuKpVSVxuICAgICAqIEBwYXJhbSB1aW5hbWUgVUnlkI3np7BcbiAgICAgKiBAcGFyYW0gbXVpIFVJ6YWN572u5L+h5oGvXG4gICAgICogQHBhcmFtIHJvb3ROb2RlIOiHquWumuS5ieagueiKgueCuVxuICAgICAqIEBwYXJhbSBjcmVhdGUg5piv5ZCm5Yib5bu6XG4gICAgICogQHJldHVybnMgVUlCYXNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBfZ2V0VUkodWluYW1lOiBzdHJpbmcsIG11aTogVUlNYXAsIHJvb3ROb2RlOiBjYy5Ob2RlLCBjcmVhdGU6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBsZXQgdWkgPSBtdWkudWk7XG4gICAgICAgIGlmICghdWkgJiYgY3JlYXRlKSB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKG11aS5wcmVmYWIpO1xuICAgICAgICAgICAgbGV0IGNhbnZhcyA9IHJvb3ROb2RlID8gcm9vdE5vZGUgOiB0aGlzLl9nZXRDYW52YXMobXVpLmNvbmZpZy5jYW52YXMpO1xuICAgICAgICAgICAgY2FudmFzLmFkZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIG5vZGUuc2V0UG9zaXRpb24ocm9vdE5vZGUgPyBjYy52MigwLCAwKSA6IGNjLnYyKGNjLndpblNpemUud2lkdGggLyAyLCBjYy53aW5TaXplLmhlaWdodCAvIDIpKTtcbiAgICAgICAgICAgIHVpID0gbm9kZS5nZXRDb21wb25lbnQoVUlCYXNlKSB8fCBub2RlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oVUlCYXNlKTtcbiAgICAgICAgICAgIGlmICghdWkpIHtcbiAgICAgICAgICAgICAgICB1aSA9IG5vZGUuYWRkQ29tcG9uZW50KFVJQmFzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1aS5fc2V0Um9vdE5vZGUobm9kZSk7XG4gICAgICAgICAgICB1aS5fc2V0Q2FudmFzKGNhbnZhcyk7XG4gICAgICAgICAgICB1aS5fc2V0VUlOYW1lKHVpbmFtZSk7XG4gICAgICAgICAgICBhd2FpdCB1aS5vblVJQ3JlYXRlKCk7XG4gICAgICAgICAgICBtdWkudWkgPSB1aTtcbiAgICAgICAgICAgIHRoaXMuX3VpTWFwLnNldCh1aW5hbWUsIG11aSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDmiZPlvIDmjIflrppVSVxuICAgICAqIEBwYXJhbSB1aW5hbWUgVUnlkI3np7BcbiAgICAgKiBAcGFyYW0gcm9vdE5vZGUg5qC56IqC54K5XG4gICAgICogQHBhcmFtIHByZWxvYWQg6aKE5Yqg6L29XG4gICAgICogQHBhcmFtIGFyZ3Mg5ZCv5Yqo5Y+C5pWwXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxVSUJhc2U+XG4gICAgICovXG4gICAgYXN5bmMgb3BlblVJKHVpbmFtZTogc3RyaW5nLCByb290Tm9kZTogY2MuTm9kZSA9IG51bGwsIHByZWxvYWQ6IGJvb2xlYW4gPSBmYWxzZSwgLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPFVJQmFzZT4oYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGxldCB1aTogVUlCYXNlID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBtdWk6IFVJTWFwID0gYXdhaXQgdGhpcy5fZ2V0TVVJKHVpbmFtZSk7XG4gICAgICAgICAgICBpZiAobXVpKSB7XG4gICAgICAgICAgICAgICAgdWkgPSBtdWkudWk7XG4gICAgICAgICAgICAgICAgbXVpLnByZWxvYWQgPSBwcmVsb2FkO1xuICAgICAgICAgICAgICAgIGlmICghdWkpIHtcbiAgICAgICAgICAgICAgICAgICAgdWkgPSBhd2FpdCB0aGlzLl9nZXRVSSh1aW5hbWUsIG11aSwgcm9vdE5vZGUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBtdWkucmVseW9uX3NjbmVuZSA9IHJvb3ROb2RlID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodWkgJiYgIXByZWxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdWkuX3NldEFjdGl2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdWkub25VSUxhdW5jaCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKHVpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWFs+mXreaMh+WumlVJXG4gICAgICogQHBhcmFtIHVpbmFtZSBVSeWQjeensFxuICAgICAqIEBwYXJhbSByZWxlYXNlIOmHiuaUvuWvueixoVxuICAgICAqL1xuICAgIGNsb3NlVUkodWluYW1lOiBzdHJpbmcsIHJlbGVhc2U6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBsZXQgbXVpOiBVSU1hcCA9IHRoaXMuX3VpTWFwLmdldCh1aW5hbWUpO1xuICAgICAgICBpZiAobXVpKSB7XG4gICAgICAgICAgICBsZXQgdWkgPSBtdWkudWk7XG4gICAgICAgICAgICBpZiAodWkpIHtcbiAgICAgICAgICAgICAgICB1aS5vblVJQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICB1aS5fc2V0QWN0aXZlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWxlYXNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlbGVhc2U6ICcgKyB1aW5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZVVJKHVpbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog6K6+572uVUnntKLlvJUsVUnkuI3kvJrooqvlhbPpl63ph4rmlL5cbiAgICAgKiBAcGFyYW0gdWluYW1lIFxuICAgICAqIEBwYXJhbSB6X2luZGV4XG4gICAgICovXG4gICAgc2V0VUl6SW5kZXgodWluYW1lOiBzdHJpbmcsIHpfaW5kZXg6IG51bWJlciA9IDApIHtcbiAgICAgICAgbGV0IG11aTogVUlNYXAgPSB0aGlzLl91aU1hcC5nZXQodWluYW1lKTtcbiAgICAgICAgaWYgKG11aSkge1xuICAgICAgICAgICAgbGV0IHVpID0gbXVpLnVpO1xuICAgICAgICAgICAgaWYgKHVpKSB7XG4gICAgICAgICAgICAgICAgdWkuX3NldFNpYmxpbmdJbmRleCh6X2luZGV4KTtcbiAgICAgICAgICAgICAgICB1aS5vbkluZGV4Q2hhbmdlKHpfaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOmHiuaUvuaMh+WumlVJXG4gICAgICogQHBhcmFtIHVpbmFtZSBcbiAgICAgKi9cbiAgICByZWxlYXNlVUkodWluYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IG11aTogVUlNYXAgPSB0aGlzLl91aU1hcC5nZXQodWluYW1lKTtcbiAgICAgICAgaWYgKG11aSkge1xuICAgICAgICAgICAgbGV0IHVpID0gbXVpLnVpO1xuICAgICAgICAgICAgaWYgKHVpKSB7XG4gICAgICAgICAgICAgICAgdWkub25VSVJlbGVhc2UoKTtcbiAgICAgICAgICAgICAgICB1aS5ub2RlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBtdWkucHJlZmFiLmRlY1JlZigpO1xuICAgICAgICAgICAgICAgIG11aS5wcmVmYWIgPSBudWxsO1xuICAgICAgICAgICAgICAgIG11aS51aSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbXVpLmNvbmZpZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fdWlNYXAuZGVsZXRlKHVpbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog6Ieq5Yqo6YeK5pS+5L6d6LWW5Zy65pmv55qEVUlcbiAgICAgKi9cbiAgICBhdXRvUmVsZWFzZSgpIHtcbiAgICAgICAgbGV0IGRlbGV0ZV9rZXlzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICB0aGlzLl91aU1hcC5mb3JFYWNoKChtdWk6IFVJTWFwLCBrZXk6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgaWYgKG11aS5yZWx5b25fc2NuZW5lKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlX2tleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGRlbGV0ZV9rZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsZXRlX2tleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYXV0byByZWxlYXNlOiAnICsgZGVsZXRlX2tleXNbaV0pO1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZVVJKGRlbGV0ZV9rZXlzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDojrflj5ZVSemFjee9ruihqOWNlVxuICAgICAqIEBwYXJhbSB1aW5hbWUgXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRDb25maWcodWluYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHVpQ29uZmlnPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHVpY29uZiA9IHRoaXMuX3VpQ29uZmlnTWFwLmdldCh1aW5hbWUpO1xuICAgICAgICAgICAgaWYgKHVpY29uZikge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodWljb25mKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2MucmVzb3VyY2VzLmxvYWQoJ2pzb24vdWktY29uZmlnJywgY2MuSnNvbkFzc2V0LCAoZXJyLCBhc3NldDogY2MuSnNvbkFzc2V0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXJyICYmIGFzc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl91aUNvbmZpZ01hcC5zZXQodWluYW1lLCBhc3NldC5qc29uLnVpW3VpbmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLl91aUNvbmZpZ01hcC5nZXQodWluYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYy53YXJuKFRBRywgYG5vdCBmaW5kIHVpLWNvbmZpZyBpbiAke2NjLnJlc291cmNlcy5uYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiog5Yqg6L296aKE5Yi25L2TXG4qIEBwYXJhbSB1cmwgXG4qIEBwYXJhbSBidW5kbGUgXG4qIEByZXR1cm5zIFByb21pc2U8Y2MuUHJlZmFiPlxuKi9cbmZ1bmN0aW9uIGxvYWRQcmVmYWIodXJsOiBzdHJpbmcsIGJ1bmRsZT86IHN0cmluZykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxjYy5QcmVmYWI+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGlmIChidW5kbGUpIHtcbiAgICAgICAgICAgIGxldCBhc3NldF9idW5kbGUgPSBjYy5hc3NldE1hbmFnZXIuZ2V0QnVuZGxlKGJ1bmRsZSk7XG4gICAgICAgICAgICBpZiAoYXNzZXRfYnVuZGxlKSB7XG4gICAgICAgICAgICAgICAgYXNzZXRfYnVuZGxlLmxvYWQodXJsLCBjYy5QcmVmYWIsIChlcnIsIHByZWZhYjogY2MuUHJlZmFiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXJyICYmIHByZWZhYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwcmVmYWIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLndhcm4oVEFHLCBgbm90IGZpbmQgJHt1cmx9IGluICR7YnVuZGxlfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNjLmFzc2V0TWFuYWdlci5sb2FkQnVuZGxlKGJ1bmRsZSwgKGVyciwgX2J1bmRsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVyciAmJiBfYnVuZGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYnVuZGxlLmxvYWQodXJsLCBjYy5QcmVmYWIsIChlcnIsIHByZWZhYjogY2MuUHJlZmFiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnIgJiYgcHJlZmFiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocHJlZmFiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy53YXJuKFRBRywgYG5vdCBmaW5kICR7dXJsfSBpbiAke2J1bmRsZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLndhcm4oVEFHLCBgbm90IGZpbmQgYnVuZGxlICR7YnVuZGxlfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYy5yZXNvdXJjZXMubG9hZCh1cmwsIGNjLlByZWZhYiwgKGVyciwgcHJlZmFiOiBjYy5QcmVmYWIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVyciAmJiBwcmVmYWIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwcmVmYWIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRywgYG5vdCBmaW5kICR7dXJsfSBpbiAke2NjLnJlc291cmNlcy5uYW1lfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgdWlNZ3IgPSBuZXcgdWlNYW5hZ2VyKCk7XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/syyx_ui/ad/syyx_ui_interstitial.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f2742523sVO662SYa0J5ix1', 'syyx_ui_interstitial');
// syyx_sdk/syyx_ui/ad/syyx_ui_interstitial.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var syyx_sdk_config_1 = require("../../configs/syyx_sdk_config");
var syyx_sdk_enum_1 = require("../../configs/syyx_sdk_enum");
var ad_native_interstitial_1 = require("../../controller/ad/ad_native_interstitial");
var syyx_adv_manager_1 = require("../../controller/ad/syyx_adv_manager");
var syyx_manager_1 = require("../../controller/syyx_manager");
var syyx_sdk_api_1 = require("../../syyx_sdk_api");
var syyx_sdk_utils_1 = require("../../utils/syyx_sdk_utils");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var syyx_ui_interstitial = /** @class */ (function (_super) {
    __extends(syyx_ui_interstitial, _super);
    function syyx_ui_interstitial() {
        var _this = _super.call(this) || this;
        _this.game_node = null;
        _this.icon_close = null;
        _this.native_click = null;
        _this.lb_title = null;
        _this.lb_desc = null;
        _this.img_icon = null;
        _this.btn_check = null;
        _this.set_background_on_show();
        return _this;
    }
    syyx_ui_interstitial.prototype.on_click_adv2 = function () {
        if (this.easy_click || ad_native_interstitial_1.ad_native_interstitial.check_is_click_wrap()) {
            this.report_click();
        }
    };
    syyx_ui_interstitial.prototype.on_click_adv = function () {
        this.report_click();
    };
    syyx_ui_interstitial.prototype.on_click_close = function () {
        if (ad_native_interstitial_1.ad_native_interstitial.check_is_click_wrap()) {
            this.report_click();
            return;
        }
        var _business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (_business_config_data && _business_config_data["native_institial_click_close_pro"]) {
            var trap_pro = _business_config_data["native_institial_click_close_pro"].value[0];
            if (trap_pro >= 0 && Math.random() <= trap_pro) {
                this.report_click();
            }
        }
        this.hide();
    };
    /**
    * 广告被点击
    */
    syyx_ui_interstitial.prototype.report_click = function () {
        if (this.native_data && this.native_data.adPosId) {
            syyx_sdk_api_1.syyx_sdk_api.send_other_event(syyx_sdk_enum_1.e_ad_id.native_interstitial_hall, igc.igc_stat_ids.native_interstitial_click, this.native_data.native_type);
            syyx_adv_manager_1.syyx_adv_manager.report_ad_click(syyx_sdk_enum_1.e_ad_id.native_interstitial_hall, this.native_data);
        }
    };
    /**
    * 广告被曝光
    */
    syyx_ui_interstitial.prototype.report_show = function () {
        if (this.native_data && this.native_data.adPosId) {
            syyx_adv_manager_1.syyx_adv_manager.report_ad_show(syyx_sdk_enum_1.e_ad_id.native_interstitial_hall, this.native_data);
        }
    };
    syyx_ui_interstitial.prototype.show = function (native_data) {
        if (this.node && !this.node.parent) {
            this.native_data = native_data;
            var order = syyx_sdk_utils_1.syyx_sdk_utils.get_largest_zorder();
            this.node.parent = syyx_sdk_utils_1.syyx_sdk_utils.get_stage();
            this.node.zIndex = order;
            this.on_show();
        }
    };
    syyx_ui_interstitial.prototype.on_show = function () {
        this.icon_close.on(cc.Node.EventType.TOUCH_END, this.on_click_close, this);
        this.img_icon.node.on(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        this.btn_check.on(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        this.native_click.on(cc.Node.EventType.TOUCH_END, this.on_click_adv2, this);
        this.refresh();
        ad_native_interstitial_1.ad_native_interstitial.show_count++;
        this.easy_click = false;
        var _business_config_data = syyx_manager_1.syyx_manager.get_business_config();
        if (_business_config_data && _business_config_data["native_institial_white_easy_click"]) {
            var easy_click_pro = _business_config_data["native_institial_white_easy_click"].value[0];
            if (easy_click_pro > 0 && Math.random() <= easy_click_pro) {
                this.easy_click = true;
            }
        }
    };
    syyx_ui_interstitial.prototype.refresh = function () {
        syyx_sdk_utils_1.syyx_sdk_utils.set_texture_url(this.img_icon, this.native_data.imgUrlList);
        this.lb_title.string = this.native_data.title + "";
        this.lb_desc.string = this.native_data.desc + "";
        this.report_show();
    };
    syyx_ui_interstitial.prototype.hide = function () {
        if (this.node && this.node.parent) {
            this.node.parent.removeChild(this.node);
            this.on_hide();
        }
    };
    syyx_ui_interstitial.prototype.on_hide = function () {
        this.icon_close.off(cc.Node.EventType.TOUCH_END, this.on_click_close, this);
        this.img_icon.node.off(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        this.btn_check.off(cc.Node.EventType.TOUCH_END, this.on_click_adv, this);
        this.native_click.off(cc.Node.EventType.TOUCH_END, this.on_click_adv2, this);
    };
    syyx_ui_interstitial.prototype.set_default_pos = function (style) {
    };
    syyx_ui_interstitial.prototype.set_style_pos = function (x, y) {
        x > -10000 && (this.game_node.x = x);
        y > -10000 && (this.game_node.y = y);
    };
    syyx_ui_interstitial.prototype.set_background_on_show = function () {
        var self = this;
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.hw_qg) {
            //后台到前台
            syyx_sdk_api_1.syyx_sdk_api.on_show(function () {
                if (self && cc.isValid(self.node)) {
                    console.log("igc----- native_interstitial set_background_on_show");
                    self.report_show();
                }
            });
        }
    };
    __decorate([
        property(cc.Node)
    ], syyx_ui_interstitial.prototype, "game_node", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_interstitial.prototype, "icon_close", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_interstitial.prototype, "native_click", void 0);
    __decorate([
        property(cc.Label)
    ], syyx_ui_interstitial.prototype, "lb_title", void 0);
    __decorate([
        property(cc.Label)
    ], syyx_ui_interstitial.prototype, "lb_desc", void 0);
    __decorate([
        property(cc.Sprite)
    ], syyx_ui_interstitial.prototype, "img_icon", void 0);
    __decorate([
        property(cc.Node)
    ], syyx_ui_interstitial.prototype, "btn_check", void 0);
    syyx_ui_interstitial = __decorate([
        ccclass
    ], syyx_ui_interstitial);
    return syyx_ui_interstitial;
}(cc.Component));
exports.default = syyx_ui_interstitial;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXHN5eXhfdWlcXGFkXFxzeXl4X3VpX2ludGVyc3RpdGlhbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpRUFBMkQ7QUFDM0QsNkRBQXNEO0FBQ3RELHFGQUFvRjtBQUNwRix5RUFBd0U7QUFDeEUsOERBQTZEO0FBRTdELG1EQUFrRDtBQUNsRCw2REFBNEQ7QUFHdEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBa0Qsd0NBQVk7SUE0QjFEO1FBQUEsWUFDSSxpQkFBTyxTQUdWO1FBN0JELGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFHM0Isa0JBQVksR0FBWSxJQUFJLENBQUM7UUFHN0IsY0FBUSxHQUFhLElBQUksQ0FBQztRQUcxQixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBR3pCLGNBQVEsR0FBYyxJQUFJLENBQUM7UUFHM0IsZUFBUyxHQUFZLElBQUksQ0FBQztRQVV0QixLQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQTs7SUFDakMsQ0FBQztJQUdELDRDQUFhLEdBQWI7UUFDSSxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksK0NBQXNCLENBQUMsbUJBQW1CLEVBQUUsRUFBRTtZQUNqRSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBRUQsMkNBQVksR0FBWjtRQUNJLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsNkNBQWMsR0FBZDtRQUNJLElBQUksK0NBQXNCLENBQUMsbUJBQW1CLEVBQUUsRUFBRTtZQUM5QyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUE7WUFDbkIsT0FBTTtTQUNUO1FBRUQsSUFBSSxxQkFBcUIsR0FBRywyQkFBWSxDQUFDLG1CQUFtQixFQUFF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QUczQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzhEQUNXO0lBRzdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7MERBQ087SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt5REFDTTtJQUd6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzBEQUNPO0lBRzNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7MkRBQ1E7SUFyQlQsb0JBQW9CO1FBRHhDLE9BQU87T0FDYSxvQkFBb0IsQ0F3SnhDO0lBQUQsMkJBQUM7Q0F4SkQsQUF3SkMsQ0F4SmlELEVBQUUsQ0FBQyxTQUFTLEdBd0o3RDtrQkF4Sm9CLG9CQUFvQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN5eXhfY29uc3QgfSBmcm9tIFwiLi4vLi4vY29uZmlncy9zeXl4X3Nka19jb25maWdcIjtcclxuaW1wb3J0IHsgZV9hZF9pZCB9IGZyb20gXCIuLi8uLi9jb25maWdzL3N5eXhfc2RrX2VudW1cIjtcclxuaW1wb3J0IHsgYWRfbmF0aXZlX2ludGVyc3RpdGlhbCB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVyL2FkL2FkX25hdGl2ZV9pbnRlcnN0aXRpYWxcIjtcclxuaW1wb3J0IHsgc3l5eF9hZHZfbWFuYWdlciB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVyL2FkL3N5eXhfYWR2X21hbmFnZXJcIjtcclxuaW1wb3J0IHsgc3l5eF9tYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXIvc3l5eF9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IG5hdGl2ZV9hZF9kYXRhIH0gZnJvbSBcIi4uLy4uL21vZGVsL21vZGVsXCI7XHJcbmltcG9ydCB7IHN5eXhfc2RrX2FwaSB9IGZyb20gXCIuLi8uLi9zeXl4X3Nka19hcGlcIjtcclxuaW1wb3J0IHsgc3l5eF9zZGtfdXRpbHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvc3l5eF9zZGtfdXRpbHNcIjtcclxuXHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc3l5eF91aV9pbnRlcnN0aXRpYWwgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ2FtZV9ub2RlOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGljb25fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgbmF0aXZlX2NsaWNrOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBsYl90aXRsZTogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGxiX2Rlc2M6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaW1nX2ljb246IGNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2hlY2s6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiDljp/nlJ/lub/lkYrmlbDmja5cclxuICAgICovXHJcbiAgICBuYXRpdmVfZGF0YTogbmF0aXZlX2FkX2RhdGFcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpXHJcblxyXG4gICAgICAgIHRoaXMuc2V0X2JhY2tncm91bmRfb25fc2hvdygpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uX2NsaWNrX2FkdjIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZWFzeV9jbGljayB8fCBhZF9uYXRpdmVfaW50ZXJzdGl0aWFsLmNoZWNrX2lzX2NsaWNrX3dyYXAoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlcG9ydF9jbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbl9jbGlja19hZHYoKSB7XHJcbiAgICAgICAgdGhpcy5yZXBvcnRfY2xpY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBvbl9jbGlja19jbG9zZSgpIHtcclxuICAgICAgICBpZiAoYWRfbmF0aXZlX2ludGVyc3RpdGlhbC5jaGVja19pc19jbGlja193cmFwKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXBvcnRfY2xpY2soKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBfYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKF9idXNpbmVzc19jb25maWdfZGF0YSAmJiBfYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfaW5zdGl0aWFsX2NsaWNrX2Nsb3NlX3Byb1wiXSkge1xyXG4gICAgICAgICAgICBsZXQgdHJhcF9wcm8gPSBfYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfaW5zdGl0aWFsX2NsaWNrX2Nsb3NlX3Byb1wiXS52YWx1ZVswXVxyXG4gICAgICAgICAgICBpZiAodHJhcF9wcm8gPj0gMCAmJiBNYXRoLnJhbmRvbSgpIDw9IHRyYXBfcHJvKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydF9jbGljaygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOW5v+WRiuiiq+eCueWHu1xyXG4gICAgKi9cclxuICAgIHJlcG9ydF9jbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5uYXRpdmVfZGF0YSAmJiB0aGlzLm5hdGl2ZV9kYXRhLmFkUG9zSWQpIHtcclxuICAgICAgICAgICAgc3l5eF9zZGtfYXBpLnNlbmRfb3RoZXJfZXZlbnQoZV9hZF9pZC5uYXRpdmVfaW50ZXJzdGl0aWFsX2hhbGwsIGlnYy5pZ2Nfc3RhdF9pZHMubmF0aXZlX2ludGVyc3RpdGlhbF9jbGljaywgdGhpcy5uYXRpdmVfZGF0YS5uYXRpdmVfdHlwZSlcclxuICAgICAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5yZXBvcnRfYWRfY2xpY2soZV9hZF9pZC5uYXRpdmVfaW50ZXJzdGl0aWFsX2hhbGwsIHRoaXMubmF0aXZlX2RhdGEpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDlub/lkYrooqvmm53lhYlcclxuICAgICovXHJcbiAgICByZXBvcnRfc2hvdygpIHtcclxuICAgICAgICBpZiAodGhpcy5uYXRpdmVfZGF0YSAmJiB0aGlzLm5hdGl2ZV9kYXRhLmFkUG9zSWQpIHtcclxuICAgICAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5yZXBvcnRfYWRfc2hvdyhlX2FkX2lkLm5hdGl2ZV9pbnRlcnN0aXRpYWxfaGFsbCwgdGhpcy5uYXRpdmVfZGF0YSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdyhuYXRpdmVfZGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUgJiYgIXRoaXMubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5uYXRpdmVfZGF0YSA9IG5hdGl2ZV9kYXRhXHJcbiAgICAgICAgICAgIGxldCBvcmRlciA9IHN5eXhfc2RrX3V0aWxzLmdldF9sYXJnZXN0X3pvcmRlcigpXHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5wYXJlbnQgPSBzeXl4X3Nka191dGlscy5nZXRfc3RhZ2UoKVxyXG4gICAgICAgICAgICB0aGlzLm5vZGUuekluZGV4ID0gb3JkZXJcclxuICAgICAgICAgICAgdGhpcy5vbl9zaG93KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZWFzeV9jbGlja1xyXG4gICAgb25fc2hvdygpIHtcclxuICAgICAgICB0aGlzLmljb25fY2xvc2Uub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uX2NsaWNrX2Nsb3NlLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaW1nX2ljb24ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMub25fY2xpY2tfYWR2LCB0aGlzKVxyXG4gICAgICAgIHRoaXMuYnRuX2NoZWNrLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGlja19hZHYsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5uYXRpdmVfY2xpY2sub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uX2NsaWNrX2FkdjIsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKClcclxuICAgICAgICBhZF9uYXRpdmVfaW50ZXJzdGl0aWFsLnNob3dfY291bnQrK1xyXG4gICAgICAgIHRoaXMuZWFzeV9jbGljayA9IGZhbHNlXHJcbiAgICAgICAgbGV0IF9idXNpbmVzc19jb25maWdfZGF0YSA9IHN5eXhfbWFuYWdlci5nZXRfYnVzaW5lc3NfY29uZmlnKClcclxuICAgICAgICBpZiAoX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIF9idXNpbmVzc19jb25maWdfZGF0YVtcIm5hdGl2ZV9pbnN0aXRpYWxfd2hpdGVfZWFzeV9jbGlja1wiXSkge1xyXG4gICAgICAgICAgICBsZXQgZWFzeV9jbGlja19wcm8gPSBfYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJuYXRpdmVfaW5zdGl0aWFsX3doaXRlX2Vhc3lfY2xpY2tcIl0udmFsdWVbMF1cclxuICAgICAgICAgICAgaWYgKGVhc3lfY2xpY2tfcHJvID4gMCAmJiBNYXRoLnJhbmRvbSgpIDw9IGVhc3lfY2xpY2tfcHJvKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVhc3lfY2xpY2sgPSB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaCgpIHtcclxuICAgICAgICBzeXl4X3Nka191dGlscy5zZXRfdGV4dHVyZV91cmwodGhpcy5pbWdfaWNvbiwgdGhpcy5uYXRpdmVfZGF0YS5pbWdVcmxMaXN0KVxyXG4gICAgICAgIHRoaXMubGJfdGl0bGUuc3RyaW5nID0gdGhpcy5uYXRpdmVfZGF0YS50aXRsZSArIFwiXCJcclxuICAgICAgICB0aGlzLmxiX2Rlc2Muc3RyaW5nID0gdGhpcy5uYXRpdmVfZGF0YS5kZXNjICsgXCJcIlxyXG4gICAgICAgIHRoaXMucmVwb3J0X3Nob3coKVxyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubm9kZSAmJiB0aGlzLm5vZGUucGFyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5ub2RlKVxyXG4gICAgICAgICAgICB0aGlzLm9uX2hpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25faGlkZSgpIHtcclxuICAgICAgICB0aGlzLmljb25fY2xvc2Uub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGlja19jbG9zZSwgdGhpcylcclxuICAgICAgICB0aGlzLmltZ19pY29uLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGlja19hZHYsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5idG5fY2hlY2sub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGlja19hZHYsIHRoaXMpXHJcbiAgICAgICAgdGhpcy5uYXRpdmVfY2xpY2sub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbl9jbGlja19hZHYyLCB0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIHNldF9kZWZhdWx0X3BvcyhzdHlsZSkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRfc3R5bGVfcG9zKHgsIHkpIHtcclxuICAgICAgICB4ID4gLTEwMDAwICYmICh0aGlzLmdhbWVfbm9kZS54ID0geClcclxuICAgICAgICB5ID4gLTEwMDAwICYmICh0aGlzLmdhbWVfbm9kZS55ID0geSlcclxuICAgIH1cclxuXHJcbiAgICBzZXRfYmFja2dyb3VuZF9vbl9zaG93KCkge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS5od19xZykge1xyXG4gICAgICAgICAgICAvL+WQjuWPsOWIsOWJjeWPsFxyXG4gICAgICAgICAgICBzeXl4X3Nka19hcGkub25fc2hvdyhcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZiAmJiBjYy5pc1ZhbGlkKHNlbGYubm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ2MtLS0tLSBuYXRpdmVfaW50ZXJzdGl0aWFsIHNldF9iYWNrZ3JvdW5kX29uX3Nob3dcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXBvcnRfc2hvdygpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/3rd/tpfsdk/sdk/tpfstat.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5eddbbHuPhEUa02MMZZqmux', 'tpfstat');
// syyx_sdk/3rd/tpfsdk/sdk/tpfstat.js

"use strict";

var tpfstat = function tpfstat(t) {
  function r(t, e, n, s, p) {
    return "appId=" + t + "&random=" + n + "&timestamp=" + s + "&sign=" + md5("appId=" + t + "&json=" + p + "&random=" + n + "&timestamp=" + s + "&appKey=" + e).toUpperCase();
  }

  this.appId = t.appId, this.appKey = t.appKey, this.version = t.version, this.sversion = t.sversion, this.channelId = t.channelId, this.eventUrl = t.eventUrl, this.batchEventUrl = t.batchEventUrl, this.debug = t.debug, tpfstat.prototype.GAME_EVENT_API_VERSION = "2.2", tpfstat.prototype.GAME_EVENT_CLIENT_SOURCE = "client", tpfstat.prototype.EventType = {
    APP_START: "app_start",
    USER_REGISTER: "register",
    USER_LOGIN: "login",
    HEART_BEAT: "heart",
    COIN_PAY: "coin_pay",
    COIN_TRADE: "coin_trade",
    COIN_BROKEN: "coin_broken",
    ITEM_TRADE: "item_trade",
    GAME_QUEST: "game_quest",
    GAME_LEVEL: "game_level",
    AD: "ad",
    USER_CUSTOM: "user_event"
  }, tpfstat.prototype.GenderType = {
    UNKNOWN: 0,
    MALE: 1,
    FEMALE: 2
  }, tpfstat.prototype.LoginType = {
    USER_LOGIN: 0,
    USER_LOGOUT: 1,
    USER_SUB_ACCOUNT_LOGIN: 2,
    USER_SUB_ACCOUNT_LOGOUT: 3
  }, tpfstat.prototype.AccountType = {
    USER_ACCOUNT: 0,
    SUB_USER_ACCOUNT: 1
  }, tpfstat.prototype.QuestStatus = {
    START: "A",
    WIN: "S",
    FAIL: "F"
  }, tpfstat.prototype.FreeType = {
    NOT_FREE: 0,
    SYSTEM_FREE: 1
  }, tpfstat.prototype.setUrl = function (t) {}, tpfstat.prototype.onEvent = function (t, e, n) {}, tpfstat.prototype.sendAppStart = function (t, e) {
    this._sendGameEvent(this.EventType.APP_START, t, e);
  }, tpfstat.prototype.sendUserRegister = function (t, e) {
    this._sendGameEvent(this.EventType.USER_REGISTER, t, e);
  }, tpfstat.prototype.sendUserLogin = function (t, e) {
    this._sendGameEvent(this.EventType.USER_LOGIN, t, e);
  }, tpfstat.prototype.sendHeartBeat = function (t, e) {
    this._sendGameEvent(this.EventType.HEART_BEAT, t, e);
  }, tpfstat.prototype.sendCoinPay = function (t, e) {
    this._sendGameEvent(this.EventType.COIN_PAY, t, e);
  }, tpfstat.prototype.sendCoinTrade = function (t, e) {
    this._sendGameEvent(this.EventType.COIN_TRADE, t, e);
  }, tpfstat.prototype.sendCoinBroken = function (t, e) {
    this._sendGameEvent(this.EventType.COIN_BROKEN, t, e);
  }, tpfstat.prototype.sendItemTrade = function (t, e) {
    this._sendGameEvent(this.EventType.ITEM_TRADE, t, e);
  }, tpfstat.prototype.sendGameQuest = function (t, e) {
    this._sendGameEvent(this.EventType.GAME_QUEST, t, e);
  }, tpfstat.prototype.sendGameLevel = function (t, e) {
    this._sendGameEvent(this.EventType.GAME_LEVEL, t, e);
  }, tpfstat.prototype.sendAd = function (t, e) {
    this._sendGameEvent(this.EventType.AD, t, e);
  }, tpfstat.prototype.sendUserCustom = function (t, e) {
    this._sendGameEvent(this.EventType.USER_CUSTOM, t, e);
  }, tpfstat.prototype._post = function (t, e, n) {
    this.debug || HttpUtils.http_request("POST", t, e, n, !1, function (t, e) {
      200 == t ? console.log("Stat: post request success, respBody=", e) : console.warn("Stat: post return httpCode=" + t + ", respBody=" + e);
    });
  }, tpfstat.prototype._sendGameEvent = function (t, e, n) {
    var s,
        p,
        o = (s = 0, p = 4294967295, s = Math.ceil(s), p = Math.floor(p), Math.floor(Math.random() * (p - s)) + s),
        i = {
      appId: this.appId,
      version: this.version,
      sversion: this.sversion,
      source: this.GAME_EVENT_CLIENT_SOURCE,
      ettime: n,
      channelId: this.channelId,
      event: t,
      context: e
    },
        a = JSON.stringify(i),
        E = {
      "Content-Type": "application/json; charset=utf-8",
      Authorization: r(this.appId, this.appKey, o + "", n, a)
    };

    this._post(this.eventUrl, E, a);
  };
};

window.tpfstat = tpfstat;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXDNyZFxcdHBmc2RrXFxzZGtcXHRwZnN0YXQuanMiXSwibmFtZXMiOlsidHBmc3RhdCIsInQiLCJyIiwiZSIsIm4iLCJzIiwicCIsIm1kNSIsInRvVXBwZXJDYXNlIiwiYXBwSWQiLCJhcHBLZXkiLCJ2ZXJzaW9uIiwic3ZlcnNpb24iLCJjaGFubmVsSWQiLCJldmVudFVybCIsImJhdGNoRXZlbnRVcmwiLCJkZWJ1ZyIsInByb3RvdHlwZSIsIkdBTUVfRVZFTlRfQVBJX1ZFUlNJT04iLCJHQU1FX0VWRU5UX0NMSUVOVF9TT1VSQ0UiLCJFdmVudFR5cGUiLCJBUFBfU1RBUlQiLCJVU0VSX1JFR0lTVEVSIiwiVVNFUl9MT0dJTiIsIkhFQVJUX0JFQVQiLCJDT0lOX1BBWSIsIkNPSU5fVFJBREUiLCJDT0lOX0JST0tFTiIsIklURU1fVFJBREUiLCJHQU1FX1FVRVNUIiwiR0FNRV9MRVZFTCIsIkFEIiwiVVNFUl9DVVNUT00iLCJHZW5kZXJUeXBlIiwiVU5LTk9XTiIsIk1BTEUiLCJGRU1BTEUiLCJMb2dpblR5cGUiLCJVU0VSX0xPR09VVCIsIlVTRVJfU1VCX0FDQ09VTlRfTE9HSU4iLCJVU0VSX1NVQl9BQ0NPVU5UX0xPR09VVCIsIkFjY291bnRUeXBlIiwiVVNFUl9BQ0NPVU5UIiwiU1VCX1VTRVJfQUNDT1VOVCIsIlF1ZXN0U3RhdHVzIiwiU1RBUlQiLCJXSU4iLCJGQUlMIiwiRnJlZVR5cGUiLCJOT1RfRlJFRSIsIlNZU1RFTV9GUkVFIiwic2V0VXJsIiwib25FdmVudCIsInNlbmRBcHBTdGFydCIsIl9zZW5kR2FtZUV2ZW50Iiwic2VuZFVzZXJSZWdpc3RlciIsInNlbmRVc2VyTG9naW4iLCJzZW5kSGVhcnRCZWF0Iiwic2VuZENvaW5QYXkiLCJzZW5kQ29pblRyYWRlIiwic2VuZENvaW5Ccm9rZW4iLCJzZW5kSXRlbVRyYWRlIiwic2VuZEdhbWVRdWVzdCIsInNlbmRHYW1lTGV2ZWwiLCJzZW5kQWQiLCJzZW5kVXNlckN1c3RvbSIsIl9wb3N0IiwiSHR0cFV0aWxzIiwiaHR0cF9yZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsIndhcm4iLCJvIiwiTWF0aCIsImNlaWwiLCJmbG9vciIsInJhbmRvbSIsImkiLCJzb3VyY2UiLCJldHRpbWUiLCJldmVudCIsImNvbnRleHQiLCJhIiwiSlNPTiIsInN0cmluZ2lmeSIsIkUiLCJBdXRob3JpemF0aW9uIiwid2luZG93Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFBYSxJQUFJQSxPQUFPLEdBQUMsU0FBUkEsT0FBUSxDQUFTQyxDQUFULEVBQVc7QUFBQyxXQUFTQyxDQUFULENBQVdELENBQVgsRUFBYUUsQ0FBYixFQUFlQyxDQUFmLEVBQWlCQyxDQUFqQixFQUFtQkMsQ0FBbkIsRUFBcUI7QUFBQyxXQUFNLFdBQVNMLENBQVQsR0FBVyxVQUFYLEdBQXNCRyxDQUF0QixHQUF3QixhQUF4QixHQUFzQ0MsQ0FBdEMsR0FBd0MsUUFBeEMsR0FBaURFLEdBQUcsQ0FBQyxXQUFTTixDQUFULEdBQVcsUUFBWCxHQUFvQkssQ0FBcEIsR0FBc0IsVUFBdEIsR0FBaUNGLENBQWpDLEdBQW1DLGFBQW5DLEdBQWlEQyxDQUFqRCxHQUFtRCxVQUFuRCxHQUE4REYsQ0FBL0QsQ0FBSCxDQUFxRUssV0FBckUsRUFBdkQ7QUFBMEk7O0FBQUEsT0FBS0MsS0FBTCxHQUFXUixDQUFDLENBQUNRLEtBQWIsRUFBbUIsS0FBS0MsTUFBTCxHQUFZVCxDQUFDLENBQUNTLE1BQWpDLEVBQXdDLEtBQUtDLE9BQUwsR0FBYVYsQ0FBQyxDQUFDVSxPQUF2RCxFQUErRCxLQUFLQyxRQUFMLEdBQWNYLENBQUMsQ0FBQ1csUUFBL0UsRUFBd0YsS0FBS0MsU0FBTCxHQUFlWixDQUFDLENBQUNZLFNBQXpHLEVBQW1ILEtBQUtDLFFBQUwsR0FBY2IsQ0FBQyxDQUFDYSxRQUFuSSxFQUE0SSxLQUFLQyxhQUFMLEdBQW1CZCxDQUFDLENBQUNjLGFBQWpLLEVBQStLLEtBQUtDLEtBQUwsR0FBV2YsQ0FBQyxD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QUF3QjhELENBQUMsR0FBQyxFQUExQixFQUE2QnBFLENBQTdCLEVBQStCOEUsQ0FBL0I7QUFBakUsS0FBOVE7O0FBQWtYLFNBQUtoQixLQUFMLENBQVcsS0FBS3BELFFBQWhCLEVBQXlCdUUsQ0FBekIsRUFBMkJILENBQTNCO0FBQThCLEdBQXh5RjtBQUF5eUYsQ0FBaitGOztBQUFrK0ZLLE1BQU0sQ0FBQ3ZGLE9BQVAsR0FBZUEsT0FBZiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7dmFyIHRwZnN0YXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcih0LGUsbixzLHApe3JldHVyblwiYXBwSWQ9XCIrdCtcIiZyYW5kb209XCIrbitcIiZ0aW1lc3RhbXA9XCIrcytcIiZzaWduPVwiK21kNShcImFwcElkPVwiK3QrXCImanNvbj1cIitwK1wiJnJhbmRvbT1cIituK1wiJnRpbWVzdGFtcD1cIitzK1wiJmFwcEtleT1cIitlKS50b1VwcGVyQ2FzZSgpfXRoaXMuYXBwSWQ9dC5hcHBJZCx0aGlzLmFwcEtleT10LmFwcEtleSx0aGlzLnZlcnNpb249dC52ZXJzaW9uLHRoaXMuc3ZlcnNpb249dC5zdmVyc2lvbix0aGlzLmNoYW5uZWxJZD10LmNoYW5uZWxJZCx0aGlzLmV2ZW50VXJsPXQuZXZlbnRVcmwsdGhpcy5iYXRjaEV2ZW50VXJsPXQuYmF0Y2hFdmVudFVybCx0aGlzLmRlYnVnPXQuZGVidWcsdHBmc3RhdC5wcm90b3R5cGUuR0FNRV9FVkVOVF9BUElfVkVSU0lPTj1cIjIuMlwiLHRwZnN0YXQucHJvdG90eXBlLkdBTUVfRVZFTlRfQ0xJRU5UX1NPVVJDRT1cImNsaWVudFwiLHRwZnN0YXQucHJvdG90eXBlLkV2ZW50VHlwZT17QVBQX1NUQVJUOlwiYXBwX3N0YXJ0XCIsVVNFUl9SRUdJU1RFUjpcInJlZ2lzdGVyXCIsVVNFUl9MT0dJTjpcImxvZ2luXCIsSEVBUlRfQkVBVDpcImhlYXJ0XCIsQ09JTl9QQVk6XCJjb2luX3BheVwiLENPSU5fVFJBREU6XCJjb2luX3RyYWRlXCIsQ09JTl9CUk9LRU46XCJjb2luX2Jyb2tlblwiLElURU1fVFJBREU6XCJpdGVtX3RyYWRlXCIsR0FNRV9RVUVTVDpcImdhbWVfcXVlc3RcIixHQU1FX0xFVkVMOlwiZ2FtZV9sZXZlbFwiLEFEOlwiYWRcIixVU0VSX0NVU1RPTTpcInVzZXJfZXZlbnRcIn0sdHBmc3RhdC5wcm90b3R5cGUuR2VuZGVyVHlwZT17VU5LTk9XTjowLE1BTEU6MSxGRU1BTEU6Mn0sdHBmc3RhdC5wcm90b3R5cGUuTG9naW5UeXBlPXtVU0VSX0xPR0lOOjAsVVNFUl9MT0dPVVQ6MSxVU0VSX1NVQl9BQ0NPVU5UX0xPR0lOOjIsVVNFUl9TVUJfQUNDT1VOVF9MT0dPVVQ6M30sdHBmc3RhdC5wcm90b3R5cGUuQWNjb3VudFR5cGU9e1VTRVJfQUNDT1VOVDowLFNVQl9VU0VSX0FDQ09VTlQ6MX0sdHBmc3RhdC5wcm90b3R5cGUuUXVlc3RTdGF0dXM9e1NUQVJUOlwiQVwiLFdJTjpcIlNcIixGQUlMOlwiRlwifSx0cGZzdGF0LnByb3RvdHlwZS5GcmVlVHlwZT17Tk9UX0ZSRUU6MCxTWVNURU1fRlJFRToxfSx0cGZzdGF0LnByb3RvdHlwZS5zZXRVcmw9ZnVuY3Rpb24odCl7fSx0cGZzdGF0LnByb3RvdHlwZS5vbkV2ZW50PWZ1bmN0aW9uKHQsZSxuKXt9LHRwZnN0YXQucHJvdG90eXBlLnNlbmRBcHBTdGFydD1mdW5jdGlvbih0LGUpe3RoaXMuX3NlbmRHYW1lRXZlbnQodGhpcy5FdmVudFR5cGUuQVBQX1NUQVJULHQsZSl9LHRwZnN0YXQucHJvdG90eXBlLnNlbmRVc2VyUmVnaXN0ZXI9ZnVuY3Rpb24odCxlKXt0aGlzLl9zZW5kR2FtZUV2ZW50KHRoaXMuRXZlbnRUeXBlLlVTRVJfUkVHSVNURVIsdCxlKX0sdHBmc3RhdC5wcm90b3R5cGUuc2VuZFVzZXJMb2dpbj1mdW5jdGlvbih0LGUpe3RoaXMuX3NlbmRHYW1lRXZlbnQodGhpcy5FdmVudFR5cGUuVVNFUl9MT0dJTix0LGUpfSx0cGZzdGF0LnByb3RvdHlwZS5zZW5kSGVhcnRCZWF0PWZ1bmN0aW9uKHQsZSl7dGhpcy5fc2VuZEdhbWVFdmVudCh0aGlzLkV2ZW50VHlwZS5IRUFSVF9CRUFULHQsZSl9LHRwZnN0YXQucHJvdG90eXBlLnNlbmRDb2luUGF5PWZ1bmN0aW9uKHQsZSl7dGhpcy5fc2VuZEdhbWVFdmVudCh0aGlzLkV2ZW50VHlwZS5DT0lOX1BBWSx0LGUpfSx0cGZzdGF0LnByb3RvdHlwZS5zZW5kQ29pblRyYWRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc2VuZEdhbWVFdmVudCh0aGlzLkV2ZW50VHlwZS5DT0lOX1RSQURFLHQsZSl9LHRwZnN0YXQucHJvdG90eXBlLnNlbmRDb2luQnJva2VuPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc2VuZEdhbWVFdmVudCh0aGlzLkV2ZW50VHlwZS5DT0lOX0JST0tFTix0LGUpfSx0cGZzdGF0LnByb3RvdHlwZS5zZW5kSXRlbVRyYWRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc2VuZEdhbWVFdmVudCh0aGlzLkV2ZW50VHlwZS5JVEVNX1RSQURFLHQsZSl9LHRwZnN0YXQucHJvdG90eXBlLnNlbmRHYW1lUXVlc3Q9ZnVuY3Rpb24odCxlKXt0aGlzLl9zZW5kR2FtZUV2ZW50KHRoaXMuRXZlbnRUeXBlLkdBTUVfUVVFU1QsdCxlKX0sdHBmc3RhdC5wcm90b3R5cGUuc2VuZEdhbWVMZXZlbD1mdW5jdGlvbih0LGUpe3RoaXMuX3NlbmRHYW1lRXZlbnQodGhpcy5FdmVudFR5cGUuR0FNRV9MRVZFTCx0LGUpfSx0cGZzdGF0LnByb3RvdHlwZS5zZW5kQWQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9zZW5kR2FtZUV2ZW50KHRoaXMuRXZlbnRUeXBlLkFELHQsZSl9LHRwZnN0YXQucHJvdG90eXBlLnNlbmRVc2VyQ3VzdG9tPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc2VuZEdhbWVFdmVudCh0aGlzLkV2ZW50VHlwZS5VU0VSX0NVU1RPTSx0LGUpfSx0cGZzdGF0LnByb3RvdHlwZS5fcG9zdD1mdW5jdGlvbih0LGUsbil7dGhpcy5kZWJ1Z3x8SHR0cFV0aWxzLmh0dHBfcmVxdWVzdChcIlBPU1RcIix0LGUsbiwhMSxmdW5jdGlvbih0LGUpezIwMD09dD9jb25zb2xlLmxvZyhcIlN0YXQ6IHBvc3QgcmVxdWVzdCBzdWNjZXNzLCByZXNwQm9keT1cIixlKTpjb25zb2xlLndhcm4oXCJTdGF0OiBwb3N0IHJldHVybiBodHRwQ29kZT1cIit0K1wiLCByZXNwQm9keT1cIitlKX0pfSx0cGZzdGF0LnByb3RvdHlwZS5fc2VuZEdhbWVFdmVudD1mdW5jdGlvbih0LGUsbil7dmFyIHMscCxvPShzPTAscD00Mjk0OTY3Mjk1LHM9TWF0aC5jZWlsKHMpLHA9TWF0aC5mbG9vcihwKSxNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKHAtcykpK3MpLGk9e2FwcElkOnRoaXMuYXBwSWQsdmVyc2lvbjp0aGlzLnZlcnNpb24sc3ZlcnNpb246dGhpcy5zdmVyc2lvbixzb3VyY2U6dGhpcy5HQU1FX0VWRU5UX0NMSUVOVF9TT1VSQ0UsZXR0aW1lOm4sY2hhbm5lbElkOnRoaXMuY2hhbm5lbElkLGV2ZW50OnQsY29udGV4dDplfSxhPUpTT04uc3RyaW5naWZ5KGkpLEU9e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsQXV0aG9yaXphdGlvbjpyKHRoaXMuYXBwSWQsdGhpcy5hcHBLZXksbytcIlwiLG4sYSl9O3RoaXMuX3Bvc3QodGhpcy5ldmVudFVybCxFLGEpfX07d2luZG93LnRwZnN0YXQ9dHBmc3RhdDsiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/game/playerController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9b86dezfV1Hpq8QB97rPm4O', 'playerController');
// scripts/game/playerController.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var audioNameMgr_1 = require("../audioNameMgr");
var caijiTools_1 = require("../caijiTools");
var audioManager_1 = require("../main/audioManager");
var data_1 = require("../sdk/data");
var animationState_1 = require("./animationState");
var Events_1 = require("./Events");
var GameManager_1 = require("./GameManager");
var playerCollider_1 = require("./playerCollider");
var playerColliderAttack1_1 = require("./playerColliderAttack1");
var playerColliderAttack2_1 = require("./playerColliderAttack2");
var playerPandant_1 = require("./playerPandant");
var swordRain_1 = require("./swordRain");
var Joystick_1 = require("./ui/Joystick");
var playerControlEvent_1 = require("./ui/playerControlEvent");
var playerHp_1 = require("./ui/playerHp");
var uiManager_1 = require("./ui/uiManager");
var damageCollider;
(function (damageCollider) {
    damageCollider[damageCollider["attack1"] = 0] = "attack1";
    damageCollider[damageCollider["attack2"] = 1] = "attack2";
    damageCollider[damageCollider["attack3"] = 2] = "attack3";
    damageCollider[damageCollider["jumpHit"] = 3] = "jumpHit";
})(damageCollider || (damageCollider = {}));
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var playerController = /** @class */ (function (_super) {
    __extends(playerController, _super);
    function playerController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.skeleton = null;
        _this.damageScaleZoom = 1; //伤害缩放系数
        _this.damage2ScaleTimes = 1.3; //普攻2伤害倍数
        _this.damage3ScaleTimes = 2.5; //普攻3伤害倍数
        _this.damageShurikenScaleTimes = 5; //手里剑伤害倍数
        _this.damageSwordRainScaleTimes = 1; //剑雨伤害倍数
        _this.playerCollider = null;
        _this.moveSpeedBase = 460;
        _this.speed = 460;
        _this.offesetX_aatack3 = 250; //攻击三位移量
        _this.rigibody = null;
        _this.moveVector = cc.v2(0, 0);
        _this.scaleX = 0;
        _this.state = animationState_1.playerAnimationState.idle;
        _this.comboAttack = 0;
        _this.jumpTimes = 0;
        _this.jumpForce_y = 340000; //跳跃y轴力
        _this.jumpForce_x = 30000; //移动跳跃时x轴力
        _this.roll1Force = 400000; //普通翻滚力
        _this.roll2Force = 260000; //跳跃上升中翻滚力
        _this.rollDirection = 0;
        _this.lastAttackTime = 0;
        _this.attack1Finish = true;
        _this.dmgCollider = null;
        _this.isDie = false;
        _this.isWuDi = true;
        _this.finalEnemy = null;
        _this.jumpSoundId = -1;
        _this.thunder_chase_cd = false;
        _this.ground = null;
        //可x轴移动状态
        _this.moveState = [
            animationState_1.playerAnimationState.move,
            animationState_1.playerAnimationState.idle_to_move,
            animationState_1.playerAnimationState.double_jump,
            animationState_1.playerAnimationState.jump_to_move,
            animationState_1.playerAnimationState.jump_start,
            animationState_1.playerAnimationState.jump_down,
            animationState_1.playerAnimationState.jump_attack1,
            animationState_1.playerAnimationState.jump_attack2,
            animationState_1.playerAnimationState.jump_attack3,
            animationState_1.playerAnimationState.roll_to_move
        ];
        //不可改方向状态
        _this.disallowChangeScalex = [
            animationState_1.playerAnimationState.attack1,
            animationState_1.playerAnimationState.attack2,
            animationState_1.playerAnimationState.pose_shadow,
            animationState_1.playerAnimationState.attack3,
            animationState_1.playerAnimationState.get_up,
            animationState_1.playerAnimationState.skill203_air,
            animationState_1.playerAnimationState.skill203_ground,
            animationState_1.playerAnimationState.skill207_air,
            animationState_1.playerAnimationState.skill207_ground,
            animationState_1.playerAnimationState.revive,
            animationState_1.playerAnimationState.die,
            animationState_1.playerAnimationState.knock_up1,
            animationState_1.playerAnimationState.knock_up2,
            animationState_1.playerAnimationState.knock_up3,
            animationState_1.playerAnimationState.bow_attack_fast
        ];
        //不可翻滚状态
        _this.disallowRoll = [
            animationState_1.playerAnimationState.skill203_air,
            animationState_1.playerAnimationState.skill203_ground,
            animationState_1.playerAnimationState.skill207_air,
            animationState_1.playerAnimationState.skill207_ground,
            animationState_1.playerAnimationState.revive,
            animationState_1.playerAnimationState.die,
            animationState_1.playerAnimationState.knock_up1,
            animationState_1.playerAnimationState.knock_up2,
            animationState_1.playerAnimationState.knock_up3,
            animationState_1.playerAnimationState.ultimate
        ];
        //无敌状态
        _this.wudi = [
            animationState_1.playerAnimationState.roll,
            animationState_1.playerAnimationState.roll_air,
            animationState_1.playerAnimationState.skill203_air,
            animationState_1.playerAnimationState.skill203_ground,
            animationState_1.playerAnimationState.skill207_air,
            animationState_1.playerAnimationState.revive,
            animationState_1.playerAnimationState.die,
            animationState_1.playerAnimationState.skill207_ground,
        ];
        _this.jumpSoundState = [
            animationState_1.playerAnimationState.jump_attack1,
            animationState_1.playerAnimationState.jump_attack2,
            animationState_1.playerAnimationState.jump_attack3
        ];
        return _this;
    }
    playerController.prototype.onLoad = function () {
        this.scaleX = Math.abs(this.skeleton.node.scaleX);
        this.rigibody = this.node.getComponent(cc.RigidBody);
        this.playerCollider = this.node.getComponent(playerCollider_1.default);
        this.speed = Number(data_1.data.getCache("Base", "playerMoveSpeed"));
        this.ground = this.node.parent.getChildByName("ground");
    };
    playerController.prototype.start = function () {
        //@ts-ignore
        //console.log(this.skeleton.skeletonData._skeletonCache.animations);
        this.setAnimationCompleteEvent();
        this.setFrameEventTime(); //改变帧事件响应时间
    };
    //登场动画完
    playerController.prototype.appearEnd = function () {
        this.isWuDi = false;
        uiManager_1.default.ins.showUi();
        Joystick_1.default.instance.init();
        playerControlEvent_1.default.instance.init();
        GameManager_1.default.instance.enemySpawnM.startSpwan();
        this.idle();
        this.createPandant();
        ///////////
        setTimeout(function () {
            uiManager_1.default.ins.showDoubleDamagePopup();
        }, 3000);
    };
    playerController.prototype.createPandant = function () {
        return __awaiter(this, void 0, void 0, function () {
            var pre, pandant;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/pendant")];
                    case 1:
                        pre = _a.sent();
                        pandant = cc.instantiate(pre);
                        pandant.setParent(this.node.parent);
                        pandant.setSiblingIndex(this.node.getSiblingIndex() + 1);
                        pandant.getComponent(playerPandant_1.default).player = this.node;
                        pandant.getComponent(playerPandant_1.default).init();
                        return [2 /*return*/];
                }
            });
        });
    };
    playerController.prototype.update = function () {
        //console.log(this.getAnimationName(this.state),this.skeleton.animation);
        this.playerMove();
    };
    playerController.prototype.playerMove = function () {
        if (this.state == animationState_1.playerAnimationState.die)
            return;
        if (this.moveVector.x == 0 && this.state == animationState_1.playerAnimationState.move) {
            this.idle();
            return;
        }
        if (this.moveState.includes(this.state) && this.moveVector.x != 0) {
            this.changeDirection();
            var speed = this.skeleton.node.scaleX > 0 ? this.speed : -this.speed;
            this.rigibody.linearVelocity = cc.v2(speed, this.rigibody.linearVelocity.y);
        }
        if (this.skeleton.animation == animationState_1.playerAnimationState[animationState_1.playerAnimationState.idle]
            && this.moveVector.x != 0
            && this.attack1Finish) {
            this.changeState(animationState_1.playerAnimationState.idle_to_move);
        }
    };
    //摇杆监听事件
    playerController.prototype.move = function (vector) {
        this.moveVector = vector;
        if (this.moveVector.x != 0) {
            if (this.disallowChangeScalex.includes(this.state))
                return;
            this.skeleton.node.scaleX = vector.x > 0 ? this.scaleX : -this.scaleX;
            if (this.skeleton.node.scaleX == this.rollDirection)
                return;
            switch (this.state) {
                case animationState_1.playerAnimationState.roll:
                    if (this.playerCollider.isFlying) {
                        this.changeState(animationState_1.playerAnimationState.jump_down);
                    }
                    else {
                        this.changeState(animationState_1.playerAnimationState.move);
                    }
                    break;
                case animationState_1.playerAnimationState.roll_air:
                    if (this.playerCollider.isFlying) {
                        this.changeState(animationState_1.playerAnimationState.jump_down);
                    }
                    else {
                        this.changeState(animationState_1.playerAnimationState.move);
                    }
                    break;
                case animationState_1.playerAnimationState.roll_to_idle:
                    this.changeState(animationState_1.playerAnimationState.move);
                    break;
                case animationState_1.playerAnimationState.roll_to_move:
                    this.changeState(animationState_1.playerAnimationState.move);
                    break;
            }
        }
    };
    playerController.prototype.changeDirection = function () {
        if (this.moveVector.x != 0) {
            this.skeleton.node.scaleX = this.moveVector.x > 0 ? this.scaleX : -this.scaleX;
        }
    };
    playerController.prototype.showDamageCollider = function (collider) {
        this.skeleton.node.children[collider].active = true;
        this.dmgCollider = collider;
    };
    playerController.prototype.hideDamageCollider = function () {
        if (this.dmgCollider == null)
            return;
        this.skeleton.node.children[this.dmgCollider].active = false;
        this.dmgCollider = null;
    };
    playerController.prototype.beHit = function (enemy, dmg, isKnockDown) {
        if (isKnockDown === void 0) { isKnockDown = false; }
        /*         if (this.state == playerAnimationState.idle) {
                    let force = 40000;
                    force = this.node.x > enemy.x ? force : -force;
                    this.rigibody.applyForceToCenter(cc.v2(force, 0), true);
                } */
        if (this.isDie)
            return;
        var scalex = enemy.x > this.node.x ? -1 : 1;
        var offsetX = caijiTools_1.caijiTools.random_int(-40, 40);
        if (this.wudi.includes(this.state) || this.isWuDi) {
            if (this.isWuDi) {
                Events_1.default.instance.showDamageLabel_player(this.node, 0, offsetX);
                Events_1.default.instance.showEnemyHitEffect(this.node.parent, cc.v2(this.node.x + caijiTools_1.caijiTools.random_int(-15, 15), this.node.y + 60), scalex);
            }
            return;
        }
        this.finalEnemy = enemy;
        this.highLight();
        playerHp_1.default.instance.updateHp(dmg);
        Events_1.default.instance.showDamageLabel_player(this.node, dmg, offsetX);
        Events_1.default.instance.showEnemyHitEffect(this.node.parent, cc.v2(this.node.x + caijiTools_1.caijiTools.random_int(-15, 15), this.node.y + 60), scalex);
        if (isKnockDown && this.isDie == false) {
            playerControlEvent_1.default.instance.removeEvent();
            this.changeState(animationState_1.playerAnimationState.knock_up1);
        }
    };
    playerController.prototype.highLight = function () {
        this.unschedule(this.closeHighLight);
        this.skeleton.getMaterial(0).setProperty("beHit", 1);
        this.skeleton.getMaterial(0).setProperty("highLightColor", [0.8, 0.0, 0.0, 0.5]);
        this.scheduleOnce(this.closeHighLight, 0.2);
    };
    playerController.prototype.closeHighLight = function () {
        this.skeleton.getMaterial(0).setProperty("beHit", 0);
    };
    playerController.prototype.die = function () {
        playerControlEvent_1.default.instance.removeEvent();
        uiManager_1.default.ins.lose();
        this.changeState(animationState_1.playerAnimationState.die);
        this.closeBoxCollider();
        this.skeleton.node.scaleX = this.finalEnemy.x > this.node.x ? this.scaleX : -this.scaleX;
    };
    playerController.prototype.revive = function () {
        this.changeState(animationState_1.playerAnimationState.revive);
        Events_1.default.instance.showReviveFx(this.node);
    };
    playerController.prototype.closeBoxCollider = function () {
        this.isDie = true;
        this.node.getComponent(cc.BoxCollider).enabled = false;
    };
    playerController.prototype.openBoxCollider = function () {
        this.isDie = false;
        this.node.getComponent(cc.BoxCollider).enabled = true;
        playerHp_1.default.instance.addHp(playerHp_1.default.instance.hp_max, true);
        this.changeState(animationState_1.playerAnimationState.idle);
        this.openWuDi(5);
        playerControlEvent_1.default.instance.bindingEvent();
    };
    playerController.prototype.openWuDi = function (wudiTime) {
        var _this = this;
        this.isWuDi = true;
        var shieldNode = this.node.getChildByName("shield");
        shieldNode.active = true;
        for (var _i = 0, _a = shieldNode.children; _i < _a.length; _i++) {
            var child = _a[_i];
            if (child.getComponent(cc.ParticleSystem3D)) {
                child.getComponent(cc.ParticleSystem3D).loop = true;
            }
        }
        this.scheduleOnce(function () {
            _this.closeWuDi();
        }, wudiTime - 2);
    };
    playerController.prototype.closeWuDi = function () {
        var _this = this;
        var shieldNode = this.node.getChildByName("shield");
        for (var _i = 0, _a = shieldNode.children; _i < _a.length; _i++) {
            var child = _a[_i];
            if (child.getComponent(cc.ParticleSystem3D)) {
                child.getComponent(cc.ParticleSystem3D).loop = false;
            }
        }
        this.scheduleOnce(function () {
            _this.isWuDi = false;
            shieldNode.active = false;
        }, 2);
    };
    playerController.prototype.idle = function () {
        this.jumpTimes = 0;
        this.changeState(animationState_1.playerAnimationState.idle);
    };
    playerController.prototype.attack = function () {
        if (this.playerCollider.isFlying == false) {
            this.addCombo();
        }
        switch (this.state) {
            case animationState_1.playerAnimationState.move:
                this.changeState(animationState_1.playerAnimationState.attack1);
                break;
            case animationState_1.playerAnimationState.idle:
                this.changeState(animationState_1.playerAnimationState.attack1);
                break;
            case animationState_1.playerAnimationState.idle_to_move:
                this.changeState(animationState_1.playerAnimationState.attack1);
                break;
            default:
                if (this.playerCollider.isFlying) {
                    //空中时
                    if (this.getAnimationName(this.state).includes("jump_attack")
                        || this.getAnimationName(this.state).includes("skill"))
                        return;
                    this.jumpAttack();
                }
        }
    };
    playerController.prototype.addCombo = function () {
        this.lastAttackTime = this.lastAttackTime == 0 ? cc.director.getTotalTime() / 1000 : this.lastAttackTime;
        if ((cc.director.getTotalTime() / 1000 - this.lastAttackTime) < 0.3 / playerHp_1.default.instance.speedTimes || this.comboAttack == 0) {
            this.comboAttack++;
        }
        this.comboAttack = this.comboAttack > 3 ? 3 : this.comboAttack;
        this.lastAttackTime = cc.director.getTotalTime() / 1000;
        //console.log(cc.director.getTotalTime()/1000-this.lastAttackTime,this.comboAttack);
    };
    playerController.prototype.resetCombo = function () {
        this.comboAttack = 0;
    };
    playerController.prototype.roll = function () {
        if (this.disallowRoll.includes(this.state))
            return;
        this.rollDirection = this.skeleton.node.scaleX;
        if (this.playerCollider.isFlying == false) {
            this.roll_1();
        }
        else {
            if (this.rigibody.linearVelocity.y > 0) {
                this.roll_2();
            }
            else {
                this.roll_1();
            }
        }
    };
    //地面和降落中翻滚
    playerController.prototype.roll_1 = function () {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.rolldash);
        this.rigibody.linearDamping = 3;
        var forceX = this.skeleton.node.scaleX > 0 ? this.roll1Force : -this.roll1Force;
        this.rigibody.linearVelocity = cc.v2(0, this.rigibody.linearVelocity.y);
        this.rigibody.applyForce(cc.v2(forceX, 0), this.rigibody.getWorldCenter(), true);
        if (this.jumpTimes == 2) {
            this.rigibody.applyForce(cc.v2(0, -100000), this.rigibody.getWorldCenter(), true);
        }
        this.changeState(animationState_1.playerAnimationState.roll);
    };
    //起跳中翻滚
    playerController.prototype.roll_2 = function () {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.rolldash);
        this.rigibody.linearDamping = -0.5;
        var forceX = this.skeleton.node.scaleX > 0 ? this.roll2Force : -this.roll2Force;
        this.rigibody.linearVelocity = cc.v2(0, this.rigibody.linearVelocity.y);
        this.rigibody.applyForce(cc.v2(forceX, 10000), this.rigibody.getWorldCenter(), true);
        this.changeState(animationState_1.playerAnimationState.roll_air);
    };
    playerController.prototype.jump = function () {
        if (this.jumpTimes >= 2)
            return;
        var forceX = this.skeleton.node.scaleX > 0 ? this.jumpForce_x : -this.jumpForce_x;
        forceX = this.moveVector.x == 0 ? 0 : forceX;
        this.rigibody.linearDamping = 1;
        switch (this.state) {
            case animationState_1.playerAnimationState.idle:
                this.jump_1(forceX);
                break;
            case animationState_1.playerAnimationState.idle_to_move:
                this.jump_1(forceX);
                break;
            case animationState_1.playerAnimationState.move:
                this.jump_1(forceX);
                break;
            case animationState_1.playerAnimationState.jump_start:
                this.jump_2(forceX);
                break;
            case animationState_1.playerAnimationState.jump_down:
                this.jump_2(forceX);
                break;
            case animationState_1.playerAnimationState.jump_end:
                this.jump_1(forceX);
                break;
            case animationState_1.playerAnimationState.jump_to_move:
                this.jump_1(forceX);
                break;
            default:
                var num = this.jumpTimes + 1;
                if (this.getAnimationName(this.state).includes("roll")) {
                    //翻滚->跳跃
                    this["jump_" + num](forceX);
                    return;
                }
                else if (this.getAnimationName(this.state).includes("jump_attack")) {
                    //空中攻击->跳跃
                    this["jump_" + num](forceX);
                    return;
                }
                else if (this.getAnimationName(this.state).includes("attack")) {
                    //地面攻击->跳跃
                    this.jump_1(forceX);
                    return;
                }
        }
    };
    //第一段跳跃
    playerController.prototype.jump_1 = function (forceX) {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.jump, false, 0.6);
        this.jumpTimes++;
        this.rigibody.applyForce(cc.v2(forceX, this.jumpForce_y), this.rigibody.getWorldCenter(), true);
        this.changeState(animationState_1.playerAnimationState.jump_start);
    };
    //第二段跳跃
    playerController.prototype.jump_2 = function (forceX) {
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.jump, false, 0.6);
        this.jumpTimes++;
        this.rigibody.linearVelocity = cc.v2(this.rigibody.linearVelocity.x, 0);
        this.rigibody.applyForce(cc.v2(forceX, this.jumpForce_y), this.rigibody.getWorldCenter(), true);
        this.changeState(animationState_1.playerAnimationState.double_jump);
    };
    playerController.prototype.jumpAttack = function () {
        return __awaiter(this, void 0, void 0, function () {
            var forceY, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        forceY = this.rigibody.linearVelocity.y <= 0 ? this.jumpForce_y * 0.7 : this.jumpForce_y;
                        this.rigibody.linearVelocity = cc.v2(this.rigibody.linearVelocity.x, 0);
                        this.rigibody.applyForce(cc.v2(0, forceY), this.rigibody.getWorldCenter(), true);
                        this.rigibody.linearDamping = forceY == 0 ? 12 : 0;
                        this.changeState(animationState_1.playerAnimationState.jump_attack1);
                        _a = this;
                        return [4 /*yield*/, audioManager_1.default.playAudio(audioNameMgr_1.audioName.SpinAttack, false)];
                    case 1:
                        _a.jumpSoundId = _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    playerController.prototype.dropToGround = function () {
        this.jumpTimes = 0;
        this.rigibody.linearDamping = 0; //1;
        this.resetCombo();
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.Jumpland);
        if (this.state == animationState_1.playerAnimationState.idle || this.state == animationState_1.playerAnimationState.die)
            return;
        if (this.getAnimationName(this.state).includes("roll")) {
            if (this.state == animationState_1.playerAnimationState.roll_air) {
                this.rigibody.linearVelocity = cc.v2(0, 0);
                if (this.moveVector.x == 0) {
                    this.changeState(animationState_1.playerAnimationState.jump_end);
                }
                else {
                    this.changeState(animationState_1.playerAnimationState.jump_to_move);
                }
            }
            return;
        }
        if (this.getAnimationName(this.state).includes("jump_attack")) {
            //攻击落地
            this.changeState(animationState_1.playerAnimationState.jump_attack3);
        }
        else {
            //跳跃落地
            if (this.moveVector.x != 0) {
                //跳->跑
                this.changeState(animationState_1.playerAnimationState.jump_to_move);
            }
            else {
                //跳->站立
                this.rigibody.linearVelocity = cc.v2(0, 0);
                this.changeState(animationState_1.playerAnimationState.jump_end);
            }
        }
    };
    playerController.prototype.skill1 = function () {
        if (this.skeleton.animation.includes("skill") == false) {
            this.resetCombo();
            this.rigibody.linearVelocity = cc.v2(0, 0);
            audioManager_1.default.playAudio(audioNameMgr_1.audioName.Skillcast207Shuriken);
            if (this.playerCollider.isFlying) {
                //空中释放 
                this.closeGravity();
                this.changeState(animationState_1.playerAnimationState.skill207_air);
            }
            else {
                this.changeState(animationState_1.playerAnimationState.skill207_ground);
            }
        }
    };
    playerController.prototype.createShuriken = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, shuriken;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/shuriken")];
                    case 1:
                        prefab = _a.sent();
                        shuriken = caijiTools_1.caijiTools.createNode(prefab, this.node.parent);
                        shuriken.setPosition(this.node.x, this.node.y + 70);
                        shuriken.setSiblingIndex(shuriken.getSiblingIndex() - 1);
                        return [2 /*return*/];
                }
            });
        });
    };
    playerController.prototype.skill2 = function () {
        if (this.skeleton.animation.includes("skill") == false) {
            this.resetCombo();
            this.rigibody.linearVelocity = cc.v2(0, 0);
            if (this.playerCollider.isFlying) {
                //空中释放
                this.closeGravity();
                this.changeState(animationState_1.playerAnimationState.skill203_air);
            }
            else {
                this.changeState(animationState_1.playerAnimationState.skill203_ground);
            }
        }
    };
    playerController.prototype.createSwordRain = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, swordRainNode;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, caijiTools_1.caijiTools.loadPrefab("prefabs/swordRain")];
                    case 1:
                        prefab = _a.sent();
                        swordRainNode = caijiTools_1.caijiTools.createNode(prefab, this.node.parent);
                        swordRainNode.setSiblingIndex(this.ground.getSiblingIndex());
                        swordRainNode.setPosition(this.node.x, 230);
                        swordRainNode.getComponent(swordRain_1.default).isRight = this.skeleton.node.scaleX > 0 ? true : false;
                        return [2 /*return*/];
                }
            });
        });
    };
    playerController.prototype.closeGravity = function () {
        this.rigibody.type = cc.RigidBodyType.Kinematic;
    };
    playerController.prototype.openGravity = function () {
        var _this = this;
        this.rigibody.type = cc.RigidBodyType.Dynamic;
        this.scheduleOnce(function () {
            _this.rigibody.applyForce(cc.v2(0, -180000), _this.rigibody.getWorldCenter(), true);
        }, 0);
    };
    playerController.prototype.setFriction = function (friction) {
        this.node.getComponent(cc.PhysicsBoxCollider).friction = friction;
        this.node.getComponent(cc.PhysicsBoxCollider).apply();
    };
    playerController.prototype.changeState = function (state) {
        this.hideDamageCollider();
        if (this.getAnimationName(state).includes("attack") == false) {
            this.resetCombo();
        }
        if (this.jumpSoundId != -1 && this.jumpSoundState.includes(state) == false) {
            audioManager_1.default.stopAudio(this.jumpSoundId);
            this.jumpSoundId = -1;
        }
        this.state = state;
        this['enterStateEvent_' + this.getAnimationName(state)](state);
        if (playerControlEvent_1.default.instance.isContinueAttack && this.state == animationState_1.playerAnimationState.idle) {
            //idle状态下连续攻击
            this.changeDirection();
            this.changeState(animationState_1.playerAnimationState.attack1);
        }
    };
    playerController.prototype.getAnimationName = function (state) {
        return animationState_1.playerAnimationState[state];
    };
    playerController.prototype.playAnimation = function (animationName, timeScale, isLoop) {
        var _this = this;
        if (isLoop === void 0) { isLoop = false; }
        if (animationName == this.skeleton.animation) {
            return;
        }
        if (this.skeleton.animation == "attack1" && animationName == "idle") {
            this.skeleton.setMix(this.skeleton.animation, animationName, 0.3);
            this.scheduleOnce(function () {
                _this.attack1Finish = true;
            }, 0.1);
        }
        else if (this.skeleton.animation == "double_jump" && animationName == "roll_air") {
            //this.skeleton.setMix(this.skeleton.animation, animationName, 0.1);
        }
        var trackEntry = this.skeleton.setAnimation(0, animationName, isLoop);
        this.setTrackEntryEnvet(trackEntry, animationName);
        this.skeleton.timeScale = timeScale;
        // if (animationName == this.getAnimationName(playerAnimationState.attack1)) {
        //     this.skeleton.addAnimation(0, this.getAnimationName(playerAnimationState.attack2), false, 0.2);
        //     this.skeleton.addAnimation(0, this.getAnimationName(playerAnimationState.attack3), false, 0.2);
        // }
    };
    playerController.prototype.setAnimationCompleteEvent = function () {
        var _this = this;
        this.skeleton.setCompleteListener(function () {
            var name = animationState_1.playerAnimationState[_this.skeleton.animation];
            switch (name) {
                case animationState_1.playerAnimationState.appear:
                    _this.appearEnd();
                    break;
                case animationState_1.playerAnimationState.idle_to_move:
                    _this.anyToIdleOrJump();
                    break;
                case animationState_1.playerAnimationState.pose_shadow:
                    _this.changeState(animationState_1.playerAnimationState.attack3);
                    break;
                case animationState_1.playerAnimationState.attack3:
                    _this.idle();
                    break;
                case animationState_1.playerAnimationState.jump_start:
                    _this.changeState(animationState_1.playerAnimationState.jump_down);
                    break;
                case animationState_1.playerAnimationState.double_jump:
                    _this.rigibody.linearDamping = -3;
                    break;
                case animationState_1.playerAnimationState.jump_end:
                    _this.changeState(animationState_1.playerAnimationState.idle);
                    break;
                case animationState_1.playerAnimationState.jump_to_move:
                    _this.changeState(animationState_1.playerAnimationState.move);
                    break;
                case animationState_1.playerAnimationState.jump_attack1:
                    _this.changeState(animationState_1.playerAnimationState.jump_attack2);
                    break;
                case animationState_1.playerAnimationState.jump_attack3:
                    _this.anyToIdleOrJump();
                    break;
                case animationState_1.playerAnimationState.roll:
                    _this.rollToIdleOrMove();
                    break;
                case animationState_1.playerAnimationState.roll_to_idle:
                    _this.idle();
                    break;
                case animationState_1.playerAnimationState.roll_to_move:
                    _this.changeState(animationState_1.playerAnimationState.move);
                    break;
                case animationState_1.playerAnimationState.revive:
                    _this.openBoxCollider();
                    break;
                case animationState_1.playerAnimationState.knock_up1:
                    _this.changeState(animationState_1.playerAnimationState.knock_up2);
                    break;
                case animationState_1.playerAnimationState.knock_up2:
                    _this.changeState(animationState_1.playerAnimationState.knock_up3);
                    break;
                case animationState_1.playerAnimationState.knock_up3:
                    _this.scheduleOnce(function () {
                        if (_this.state == animationState_1.playerAnimationState.knock_up3) {
                            _this.changeState(animationState_1.playerAnimationState.get_up);
                        }
                    }, 0.2);
                    break;
                case animationState_1.playerAnimationState.get_up:
                    _this.idle();
                    playerControlEvent_1.default.instance.bindingEvent();
                    break;
                default:
                    if (_this.skeleton.animation.includes("skill")) {
                        if (_this.playerCollider.isFlying) {
                            _this.openGravity();
                            _this.changeState(animationState_1.playerAnimationState.jump_down);
                        }
                        else {
                            _this.changeState(animationState_1.playerAnimationState.idle);
                        }
                    }
                    break;
            }
        });
    };
    playerController.prototype.rollToIdleOrMove = function () {
        if (this.moveVector.x == 0) {
            this.changeState(animationState_1.playerAnimationState.roll_to_idle);
        }
        else {
            this.changeState(animationState_1.playerAnimationState.roll_to_move);
        }
    };
    playerController.prototype.anyToIdleOrJump = function () {
        if (this.moveVector.x == 0) {
            this.changeState(animationState_1.playerAnimationState.idle);
        }
        else {
            this.changeState(animationState_1.playerAnimationState.move);
        }
    };
    //--------------------以下为动画帧事件事件-------------------------------------------
    playerController.prototype.setAnimationFrameEvent = function (animationName) {
        if (animationState_1.frameEvent[animationName] == undefined)
            return;
        this.skeleton.setEventListener(this[animationState_1.frameEvent[animationName]].bind(this));
    };
    playerController.prototype.setTrackEntryEnvet = function (trackEntry, animationName) {
        if (animationState_1.frameEvent[animationName] == undefined)
            return;
        this.skeleton.setTrackEventListener(trackEntry, this[animationState_1.frameEvent[animationName]].bind(this));
    };
    playerController.prototype.setFrameEventTime = function () {
        this.skeleton.findAnimation("skill207_ground").timelines[59].frames[0] = animationState_1.skillFrameEventTime.skill207_ground;
        this.skeleton.findAnimation("skill207_air").timelines[65].frames[0] = animationState_1.skillFrameEventTime.skill207_air;
        this.skeleton.findAnimation("skill203_ground").timelines[56].frames[0] = animationState_1.skillFrameEventTime.skill203_ground;
        this.skeleton.findAnimation("skill203_air").timelines[58].frames[0] = animationState_1.skillFrameEventTime.skill203_air;
        this.skeleton.findAnimation("attack1").timelines[68].frames[2] = animationState_1.skillFrameEventTime.attack1;
        this.skeleton.findAnimation("attack2").timelines[72].frames[2] = animationState_1.skillFrameEventTime.attack2;
    };
    playerController.prototype.AddForceUp = function (trackEntry, event) {
        console.log("AddForceUp");
    };
    playerController.prototype.AnimationEnd = function (trackEntry, event) {
        console.log("AnimationEnd");
    };
    playerController.prototype.Attack1 = function (trackEntry, event) {
        //console.log(event);//"MoveForward" "LockDirection" "StopMove""AttackComplete"
        if (event.data.name == "StopMove") {
            var dmg = playerHp_1.default.instance.damageScale * this.damageScaleZoom;
            this.skeleton.node.children[this.dmgCollider].getComponent(playerColliderAttack1_1.default).hit(dmg, animationState_1.attackType.attack1);
        }
    };
    playerController.prototype.Attack2 = function (trackEntry, event) {
        //console.log(event);
        if (event.data.name == "StopMove") {
            var dmg = playerHp_1.default.instance.damageScale * this.damageScaleZoom * this.damage2ScaleTimes;
            this.skeleton.node.children[this.dmgCollider].getComponent(playerColliderAttack2_1.default).hit(dmg, animationState_1.attackType.attack2);
        }
    };
    playerController.prototype.Attack3 = function (trackEntry, event) {
        //console.log(trackEntry);
    };
    playerController.prototype.FootStep = function (trackEntry, event) {
        //console.log("FootStep");
        if (event.time > 0.2)
            return;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.Run);
    };
    playerController.prototype.GetUp = function (trackEntry, event) {
        //console.log("GetUp");
    };
    playerController.prototype.LockDirection = function (trackEntry, event) {
        //console.log("LockDirection");
    };
    playerController.prototype.MoveForward = function (trackEntry, event) {
        //console.log("MoveForward");
    };
    playerController.prototype.RollComplete = function (trackEntry, event) {
        //console.log("RollComplete");
    };
    playerController.prototype.SkillComplete = function (trackEntry, event) {
        //技能投掷帧事件
        if (this.skeleton.animation.includes("207")) {
            //console.log("shuriken");
            this.createShuriken();
        }
        else {
            //console.log("swordRain");
            this.createSwordRain();
            audioManager_1.default.playAudio(audioNameMgr_1.audioName.Kunai);
        }
    };
    playerController.prototype.StopMove = function (trackEntry, event) {
        //console.log("StopMove");
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.StopMove);
    };
    //--------------------以下为changeState事件-------------------------------------------
    playerController.prototype.enterStateEvent_idle = function (state) {
        this.rigibody.linearVelocity = cc.v2(0, this.rigibody.linearVelocity.y);
        this.playAnimation(animationState_1.playerAnimationState[state], 1, true);
    };
    playerController.prototype.enterStateEvent_idle_to_move = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 3, false);
    };
    playerController.prototype.enterStateEvent_move = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1.2, true);
    };
    playerController.prototype.enterStateEvent_attack1 = function (state) {
        var _this = this;
        this.showDamageCollider(damageCollider.attack1);
        this.attack1Finish = false;
        this.rigibody.linearVelocity = cc.v2(0, this.rigibody.linearVelocity.y);
        this.node.x = this.skeleton.node.scaleX > 0 ? this.node.x + 0 : this.node.x - 0; //位移
        this.playAnimation(animationState_1.playerAnimationState[state], 1 * playerHp_1.default.instance.speedTimes, false);
        this.scheduleOnce(function () {
            //attack1动作结束
            if (animationState_1.playerAnimationState[_this.skeleton.animation] != animationState_1.playerAnimationState.attack1)
                return;
            if (playerControlEvent_1.default.instance.isContinueAttack || _this.comboAttack > 1) {
                _this.changeState(animationState_1.playerAnimationState.attack2);
            }
            else {
                _this.changeState(animationState_1.playerAnimationState.idle);
            }
        }, 0.26 / playerHp_1.default.instance.speedTimes);
    };
    playerController.prototype.enterStateEvent_attack2 = function (state) {
        var _this = this;
        this.showDamageCollider(damageCollider.attack2);
        this.attack1Finish = true;
        this.playAnimation(animationState_1.playerAnimationState[state], 1 * playerHp_1.default.instance.speedTimes, false);
        this.changeDirection();
        var offsetx = this.skeleton.node.scaleX > 0 ? this.offesetX_aatack3 : -this.offesetX_aatack3; //位移
        this.rigibody.linearVelocity = cc.v2(offsetx, 0);
        this.scheduleOnce(function () {
            //attack2动作结束
            if (animationState_1.playerAnimationState[_this.skeleton.animation] != animationState_1.playerAnimationState.attack2)
                return;
            if (playerControlEvent_1.default.instance.isContinueAttack || _this.comboAttack > 2) {
                _this.changeState(animationState_1.playerAnimationState.pose_shadow);
            }
            else {
                _this.changeState(animationState_1.playerAnimationState.idle);
            }
        }, 0.32 / playerHp_1.default.instance.speedTimes);
    };
    playerController.prototype.enterStateEvent_pose_shadow = function (state) {
        var _this = this;
        audioManager_1.default.playAudio(audioNameMgr_1.audioName.thrust1);
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
        this.changeDirection();
        this.rigibody.linearVelocity = cc.v2(0, 0);
        this.scheduleOnce(function () {
            if (animationState_1.playerAnimationState[_this.skeleton.animation] != animationState_1.playerAnimationState.pose_shadow)
                return;
            _this.changeState(animationState_1.playerAnimationState.attack3);
        }, 0.05);
    };
    playerController.prototype.enterStateEvent_attack3 = function (state) {
        var _this = this;
        this.state = state;
        this.playAnimation(animationState_1.playerAnimationState[state], 1.1 * playerHp_1.default.instance.speedTimes, false);
        this.scheduleOnce(function () {
            //attack3动作冲刺开始
            if (animationState_1.playerAnimationState[_this.skeleton.animation] == animationState_1.playerAnimationState.attack3) {
                var offsetx = _this.skeleton.node.scaleX > 0 ?
                    800 * playerHp_1.default.instance.speedTimes :
                    -800 * playerHp_1.default.instance.speedTimes; //位移
                _this.rigibody.linearVelocity = cc.v2(offsetx, 0);
                _this.showDamageCollider(damageCollider.attack3);
            }
            _this.scheduleOnce(function () {
                //attack3动作冲刺结束
                _this.hideDamageCollider();
                if (animationState_1.playerAnimationState[_this.skeleton.animation] == animationState_1.playerAnimationState.attack3) {
                    _this.rigibody.linearVelocity = cc.v2(0, 0);
                }
            }, 0.2 / playerHp_1.default.instance.speedTimes);
        }, 0.24 / playerHp_1.default.instance.speedTimes);
    };
    playerController.prototype.enterStateEvent_jump_start = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_double_jump = function (state) {
        this.rigibody.linearDamping = 1;
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_jump_down = function (state) {
        this.rigibody.linearDamping = 0;
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_jump_end = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_jump_to_move = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_jump_attack1 = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_jump_attack2 = function (state) {
        this.showDamageCollider(damageCollider.jumpHit);
        this.playAnimation(animationState_1.playerAnimationState[state], 1.3 * playerHp_1.default.instance.speedTimes, true);
    };
    playerController.prototype.enterStateEvent_jump_attack3 = function (state) {
        this.rigibody.linearVelocity = cc.v2(0, 0);
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_roll = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1.3, false);
    };
    playerController.prototype.enterStateEvent_roll_air = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_roll_to_idle = function (state) {
        this.rigibody.linearVelocity = cc.v2(0, this.rigibody.linearVelocity.y);
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_roll_to_move = function (state) {
        this.rigibody.linearVelocity = cc.v2(0, this.rigibody.linearVelocity.y);
        this.playAnimation(animationState_1.playerAnimationState[state], 1.1, false);
    };
    playerController.prototype.enterStateEvent_skill203_air = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1 * playerHp_1.default.instance.speedTimes, false);
    };
    playerController.prototype.enterStateEvent_skill203_ground = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1 * playerHp_1.default.instance.speedTimes, false);
    };
    playerController.prototype.enterStateEvent_skill207_air = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1 * playerHp_1.default.instance.speedTimes, false);
    };
    playerController.prototype.enterStateEvent_skill207_ground = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1 * playerHp_1.default.instance.speedTimes, false);
    };
    playerController.prototype.enterStateEvent_die = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_revive = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_knock_up1 = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_knock_up2 = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_knock_up3 = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    playerController.prototype.enterStateEvent_get_up = function (state) {
        this.playAnimation(animationState_1.playerAnimationState[state], 1, false);
    };
    __decorate([
        property(sp.Skeleton)
    ], playerController.prototype, "skeleton", void 0);
    playerController = __decorate([
        ccclass
    ], playerController);
    return playerController;
}(cc.Component));
exports.default = playerController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcZ2FtZVxccGxheWVyQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRixnREFBNEM7QUFDNUMsNENBQTJDO0FBQzNDLHFEQUFnRDtBQUNoRCxvQ0FBbUM7QUFDbkMsbURBQXFHO0FBQ3JHLG1DQUE4QjtBQUM5Qiw2Q0FBd0M7QUFDeEMsbURBQThDO0FBQzlDLGlFQUE0RDtBQUM1RCxpRUFBNEQ7QUFDNUQsaURBQTRDO0FBQzVDLHlDQUFvQztBQUNwQywwQ0FBcUM7QUFDckMsOERBQXlEO0FBQ3pELDBDQUFxQztBQUNyQyw0Q0FBdUM7QUFFdkMsSUFBSyxjQUtKO0FBTEQsV0FBSyxjQUFjO0lBQ2YseURBQU8sQ0FBQTtJQUNQLHlEQUFPLENBQUE7SUFDUCx5REFBTyxDQUFBO0lBQ1AseURBQU8sQ0FBQTtBQUNYLENBQUMsRUFMSSxjQUFjLEtBQWQsY0FBYyxRQUtsQjtBQUNLLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRTVDO0lBQThDLG9DQUFZO0lBQTFEO1FBQUEscUVBeTFCQztRQXQxQkcsY0FBUSxHQUFnQixJQUFJLENBQUM7UUFHN0IscUJBQWUsR0FBVyxDQUFDLENBQUMsQ0FBQSxRQUFRO1FBQ3BDLHVCQUFpQixHQUFXLEdBQUcsQ0FBQyxDQUFBLFNBQVM7UUFDekMsdUJBQWlCLEdBQVcsR0FBRyxDQUFDLENBQUEsU0FBUztRQUN6Qyw4QkFBd0IsR0FBVyxDQUFDLENBQUMsQ0FBQSxTQUFTO1FBQzlDLCtCQUF5QixHQUFXLENBQUMsQ0FBQyxDQUFBLFFB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SUFDRCxpREFBc0IsR0FBdEIsVUFBdUIsS0FBMkI7UUFDOUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxxQ0FBb0IsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDOUQsQ0FBQztJQXIxQkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQztzREFDTztJQUhaLGdCQUFnQjtRQURwQyxPQUFPO09BQ2EsZ0JBQWdCLENBeTFCcEM7SUFBRCx1QkFBQztDQXoxQkQsQUF5MUJDLENBejFCNkMsRUFBRSxDQUFDLFNBQVMsR0F5MUJ6RDtrQkF6MUJvQixnQkFBZ0IiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuaW1wb3J0IHsgYXVkaW9OYW1lIH0gZnJvbSBcIi4uL2F1ZGlvTmFtZU1nclwiO1xuaW1wb3J0IHsgY2FpamlUb29scyB9IGZyb20gXCIuLi9jYWlqaVRvb2xzXCI7XG5pbXBvcnQgYXVkaW9NYW5hZ2VyIGZyb20gXCIuLi9tYWluL2F1ZGlvTWFuYWdlclwiO1xuaW1wb3J0IHsgZGF0YSB9IGZyb20gXCIuLi9zZGsvZGF0YVwiO1xuaW1wb3J0IHsgYXR0YWNrVHlwZSwgZnJhbWVFdmVudCwgcGxheWVyQW5pbWF0aW9uU3RhdGUsIHNraWxsRnJhbWVFdmVudFRpbWUgfSBmcm9tIFwiLi9hbmltYXRpb25TdGF0ZVwiO1xuaW1wb3J0IEV2ZW50cyBmcm9tIFwiLi9FdmVudHNcIjtcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xuaW1wb3J0IHBsYXllckNvbGxpZGVyIGZyb20gXCIuL3BsYXllckNvbGxpZGVyXCI7XG5pbXBvcnQgcGxheWVyQ29sbGlkZXJBdHRhY2sxIGZyb20gXCIuL3BsYXllckNvbGxpZGVyQXR0YWNrMVwiO1xuaW1wb3J0IHBsYXllckNvbGxpZGVyQXR0YWNrMiBmcm9tIFwiLi9wbGF5ZXJDb2xsaWRlckF0dGFjazJcIjtcbmltcG9ydCBwbGF5ZXJQYW5kYW50IGZyb20gXCIuL3BsYXllclBhbmRhbnRcIjtcbmltcG9ydCBzd29yZFJhaW4gZnJvbSBcIi4vc3dvcmRSYWluXCI7XG5pbXBvcnQgSm95U3RpY2sgZnJvbSBcIi4vdWkvSm95c3RpY2tcIjtcbmltcG9ydCBwbGF5ZXJDb250cm9sRXZlbnQgZnJvbSBcIi4vdWkvcGxheWVyQ29udHJvbEV2ZW50XCI7XG5pbXBvcnQgcGxheWVySHAgZnJvbSBcIi4vdWkvcGxheWVySHBcIjtcbmltcG9ydCB1aU1hbmFnZXIgZnJvbSBcIi4vdWkvdWlNYW5hZ2VyXCI7XG5cbmVudW0gZGFtYWdlQ29sbGlkZXIge1xuICAgIGF0dGFjazEsXG4gICAgYXR0YWNrMixcbiAgICBhdHRhY2szLFxuICAgIGp1bXBIaXRcbn1cbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgcGxheWVyQ29udHJvbGxlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoc3AuU2tlbGV0b24pXG4gICAgc2tlbGV0b246IHNwLlNrZWxldG9uID0gbnVsbDtcblxuXG4gICAgZGFtYWdlU2NhbGVab29tOiBudW1iZXIgPSAxOy8v5Lyk5a6z57yp5pS+57O75pWwXG4gICAgZGFtYWdlMlNjYWxlVGltZXM6IG51bWJlciA9IDEuMzsvL+aZruaUuzLkvKTlrrPlgI3mlbBcbiAgICBkYW1hZ2UzU2NhbGVUaW1lczogbnVtYmVyID0gMi41Oy8v5pmu5pS7M+S8pOWus+WAjeaVsFxuICAgIGRhbWFnZVNodXJpa2VuU2NhbGVUaW1lczogbnVtYmVyID0gNTsvL+aJi+mHjOWJkeS8pOWus+WAjeaVsFxuICAgIGRhbWFnZVN3b3JkUmFpblNjYWxlVGltZXM6IG51bWJlciA9IDE7Ly/liZHpm6jkvKTlrrPlgI3mlbBcbiAgICBwbGF5ZXJDb2xsaWRlcjogcGxheWVyQ29sbGlkZXIgPSBudWxsO1xuICAgIG1vdmVTcGVlZEJhc2U6bnVtYmVyPTQ2MDtcbiAgICBzcGVlZDogbnVtYmVyID0gNDYwO1xuICAgIG9mZmVzZXRYX2FhdGFjazM6IG51bWJlciA9IDI1MDsvL+aUu+WHu+S4ieS9jeenu+mHj1xuICAgIHJpZ2lib2R5OiBjYy5SaWdpZEJvZHkgPSBudWxsO1xuICAgIG1vdmVWZWN0b3I6IGNjLlZlYzIgPSBjYy52MigwLCAwKTtcbiAgICBzY2FsZVg6IG51bWJlciA9IDA7XG4gICAgc3RhdGU6IHBsYXllckFuaW1hdGlvblN0YXRlID0gcGxheWVyQW5pbWF0aW9uU3RhdGUuaWRsZTtcbiAgICBjb21ib0F0dGFjazogbnVtYmVyID0gMDtcbiAgICBqdW1wVGltZXM6IG51bWJlciA9IDA7XG4gICAganVtcEZvcmNlX3k6IG51bWJlciA9IDM0MDAwMDsvL+i3s+i3g3novbTliptcbiAgICBqdW1wRm9yY2VfeDogbnVtYmVyID0gMzAwMDA7Ly/np7vliqjot7Pot4Pml7Z46L205YqbXG4gICAgcm9sbDFGb3JjZTogbnVtYmVyID0gNDAwMDAwOy8v5pmu6YCa57+75rua5YqbXG4gICAgcm9sbDJGb3JjZTogbnVtYmVyID0gMjYwMDAwOy8v6Lez6LeD5LiK5Y2H5Lit57+75rua5YqbXG4gICAgcm9sbERpcmVjdGlvbjogbnVtYmVyID0gMDtcbiAgICBsYXN0QXR0YWNrVGltZTogbnVtYmVyID0gMDtcbiAgICBhdHRhY2sxRmluaXNoOiBib29sZWFuID0gdHJ1ZTtcbiAgICBkbWdDb2xsaWRlcjogZGFtYWdlQ29sbGlkZXIgPSBudWxsO1xuICAgIGlzRGllOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNXdURpOiBib29sZWFuID0gdHJ1ZTtcbiAgICBmaW5hbEVuZW15OiBjYy5Ob2RlID0gbnVsbDtcbiAgICBqdW1wU291bmRJZDpudW1iZXI9LTE7XG4gICAgdGh1bmRlcl9jaGFzZV9jZDpib29sZWFuPWZhbHNlO1xuICAgIGdyb3VuZDpjYy5Ob2RlPW51bGw7XG5cbiAgICAvL+WPr3jovbTnp7vliqjnirbmgIFcbiAgICBtb3ZlU3RhdGU6IEFycmF5PHBsYXllckFuaW1hdGlvblN0YXRlPiA9IFtcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUubW92ZSxcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUuaWRsZV90b19tb3ZlLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5kb3VibGVfanVtcCxcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUuanVtcF90b19tb3ZlLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX3N0YXJ0LFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX2Rvd24sXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLmp1bXBfYXR0YWNrMSxcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUuanVtcF9hdHRhY2syLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX2F0dGFjazMsXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLnJvbGxfdG9fbW92ZVxuICAgIF07XG4gICAgLy/kuI3lj6/mlLnmlrnlkJHnirbmgIFcbiAgICBkaXNhbGxvd0NoYW5nZVNjYWxleDogQXJyYXk8cGxheWVyQW5pbWF0aW9uU3RhdGU+ID0gW1xuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5hdHRhY2sxLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5hdHRhY2syLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5wb3NlX3NoYWRvdyxcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUuYXR0YWNrMyxcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUuZ2V0X3VwLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5za2lsbDIwM19haXIsXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLnNraWxsMjAzX2dyb3VuZCxcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUuc2tpbGwyMDdfYWlyLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5za2lsbDIwN19ncm91bmQsXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLnJldml2ZSxcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUuZGllLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5rbm9ja191cDEsXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLmtub2NrX3VwMixcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUua25vY2tfdXAzLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5ib3dfYXR0YWNrX2Zhc3RcbiAgICBdO1xuICAgIC8v5LiN5Y+v57+75rua54q25oCBXG4gICAgZGlzYWxsb3dSb2xsOiBBcnJheTxwbGF5ZXJBbmltYXRpb25TdGF0ZT4gPSBbXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLnNraWxsMjAzX2FpcixcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUuc2tpbGwyMDNfZ3JvdW5kLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5za2lsbDIwN19haXIsXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLnNraWxsMjA3X2dyb3VuZCxcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUucmV2aXZlLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5kaWUsXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLmtub2NrX3VwMSxcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUua25vY2tfdXAyLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5rbm9ja191cDMsXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLnVsdGltYXRlXG4gICAgXTtcbiAgICAvL+aXoOaVjOeKtuaAgVxuICAgIHd1ZGk6IEFycmF5PHBsYXllckFuaW1hdGlvblN0YXRlPiA9IFtcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUucm9sbCxcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUucm9sbF9haXIsXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLnNraWxsMjAzX2FpcixcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUuc2tpbGwyMDNfZ3JvdW5kLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5za2lsbDIwN19haXIsXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLnJldml2ZSxcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUuZGllLFxuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5za2lsbDIwN19ncm91bmQsXG4gICAgXTtcbiAgICBqdW1wU291bmRTdGF0ZTpBcnJheTxwbGF5ZXJBbmltYXRpb25TdGF0ZT49W1xuICAgICAgICBwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX2F0dGFjazEsXG4gICAgICAgIHBsYXllckFuaW1hdGlvblN0YXRlLmp1bXBfYXR0YWNrMixcbiAgICAgICAgcGxheWVyQW5pbWF0aW9uU3RhdGUuanVtcF9hdHRhY2szXG4gICAgXVxuICAgIG9uTG9hZCgpIHtcbiAgICAgICAgdGhpcy5zY2FsZVggPSBNYXRoLmFicyh0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5yaWdpYm9keSA9IHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuUmlnaWRCb2R5KTtcbiAgICAgICAgdGhpcy5wbGF5ZXJDb2xsaWRlciA9IHRoaXMubm9kZS5nZXRDb21wb25lbnQocGxheWVyQ29sbGlkZXIpO1xuICAgICAgICB0aGlzLnNwZWVkPU51bWJlcihkYXRhLmdldENhY2hlKFwiQmFzZVwiLFwicGxheWVyTW92ZVNwZWVkXCIpKTtcbiAgICAgICAgdGhpcy5ncm91bmQ9dGhpcy5ub2RlLnBhcmVudC5nZXRDaGlsZEJ5TmFtZShcImdyb3VuZFwiKTtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5za2VsZXRvbi5za2VsZXRvbkRhdGEuX3NrZWxldG9uQ2FjaGUuYW5pbWF0aW9ucyk7XG4gICAgICAgIHRoaXMuc2V0QW5pbWF0aW9uQ29tcGxldGVFdmVudCgpO1xuICAgICAgICB0aGlzLnNldEZyYW1lRXZlbnRUaW1lKCk7Ly/mlLnlj5jluKfkuovku7blk43lupTml7bpl7RcbiAgICB9XG4gICAgLy/nmbvlnLrliqjnlLvlroxcbiAgICBhcHBlYXJFbmQoKSB7XG4gICAgICAgIHRoaXMuaXNXdURpPWZhbHNlO1xuICAgICAgICB1aU1hbmFnZXIuaW5zLnNob3dVaSgpO1xuICAgICAgICBKb3lTdGljay5pbnN0YW5jZS5pbml0KCk7XG4gICAgICAgIHBsYXllckNvbnRyb2xFdmVudC5pbnN0YW5jZS5pbml0KCk7XG4gICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLmVuZW15U3Bhd25NLnN0YXJ0U3B3YW4oKTtcbiAgICAgICAgdGhpcy5pZGxlKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUGFuZGFudCgpO1xuICAgICAgICAvLy8vLy8vLy8vL1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHVpTWFuYWdlci5pbnMuc2hvd0RvdWJsZURhbWFnZVBvcHVwKClcbiAgICAgICAgfSwgMzAwMCk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZVBhbmRhbnQoKXtcbiAgICAgICAgbGV0IHByZT1hd2FpdCBjYWlqaVRvb2xzLmxvYWRQcmVmYWIoXCJwcmVmYWJzL3BlbmRhbnRcIik7XG4gICAgICAgIGxldCBwYW5kYW50PWNjLmluc3RhbnRpYXRlKHByZSk7XG4gICAgICAgIHBhbmRhbnQuc2V0UGFyZW50KHRoaXMubm9kZS5wYXJlbnQpO1xuICAgICAgICBwYW5kYW50LnNldFNpYmxpbmdJbmRleCh0aGlzLm5vZGUuZ2V0U2libGluZ0luZGV4KCkrMSk7XG4gICAgICAgIHBhbmRhbnQuZ2V0Q29tcG9uZW50KHBsYXllclBhbmRhbnQpLnBsYXllcj10aGlzLm5vZGU7XG4gICAgICAgIHBhbmRhbnQuZ2V0Q29tcG9uZW50KHBsYXllclBhbmRhbnQpLmluaXQoKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuZ2V0QW5pbWF0aW9uTmFtZSh0aGlzLnN0YXRlKSx0aGlzLnNrZWxldG9uLmFuaW1hdGlvbik7XG4gICAgICAgIHRoaXMucGxheWVyTW92ZSgpO1xuICAgIH1cbiAgICBwbGF5ZXJNb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5kaWUpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMubW92ZVZlY3Rvci54ID09IDAgJiYgdGhpcy5zdGF0ZSA9PSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5tb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tb3ZlU3RhdGUuaW5jbHVkZXModGhpcy5zdGF0ZSkgJiYgdGhpcy5tb3ZlVmVjdG9yLnggIT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgICAgICAgICAgIGxldCBzcGVlZCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gdGhpcy5zcGVlZCA6IC10aGlzLnNwZWVkO1xuICAgICAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eSA9IGNjLnYyKHNwZWVkLCB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5LnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNrZWxldG9uLmFuaW1hdGlvbiA9PSBwbGF5ZXJBbmltYXRpb25TdGF0ZVtwbGF5ZXJBbmltYXRpb25TdGF0ZS5pZGxlXVxuICAgICAgICAgICAgJiYgdGhpcy5tb3ZlVmVjdG9yLnggIT0gMFxuICAgICAgICAgICAgJiYgdGhpcy5hdHRhY2sxRmluaXNoKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmlkbGVfdG9fbW92ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy/mkYfmnYbnm5HlkKzkuovku7ZcbiAgICBtb3ZlKHZlY3RvcjogY2MuVmVjMikge1xuICAgICAgICB0aGlzLm1vdmVWZWN0b3IgPSB2ZWN0b3I7XG4gICAgICAgIGlmICh0aGlzLm1vdmVWZWN0b3IueCAhPSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNhbGxvd0NoYW5nZVNjYWxleC5pbmNsdWRlcyh0aGlzLnN0YXRlKSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA9IHZlY3Rvci54ID4gMCA/IHRoaXMuc2NhbGVYIDogLXRoaXMuc2NhbGVYO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPT0gdGhpcy5yb2xsRGlyZWN0aW9uKSByZXR1cm47XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHBsYXllckFuaW1hdGlvblN0YXRlLnJvbGw6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckNvbGxpZGVyLmlzRmx5aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmp1bXBfZG93bik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLm1vdmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyQW5pbWF0aW9uU3RhdGUucm9sbF9haXI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckNvbGxpZGVyLmlzRmx5aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmp1bXBfZG93bik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLm1vdmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyQW5pbWF0aW9uU3RhdGUucm9sbF90b19pZGxlOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLm1vdmUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHBsYXllckFuaW1hdGlvblN0YXRlLnJvbGxfdG9fbW92ZTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5tb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hhbmdlRGlyZWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5tb3ZlVmVjdG9yLnggIT0gMCkge1xuICAgICAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA9IHRoaXMubW92ZVZlY3Rvci54ID4gMCA/IHRoaXMuc2NhbGVYIDogLXRoaXMuc2NhbGVYO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNob3dEYW1hZ2VDb2xsaWRlcihjb2xsaWRlcjogZGFtYWdlQ29sbGlkZXIpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW2NvbGxpZGVyXS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRtZ0NvbGxpZGVyID0gY29sbGlkZXI7XG4gICAgfVxuICAgIGhpZGVEYW1hZ2VDb2xsaWRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuZG1nQ29sbGlkZXIgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuY2hpbGRyZW5bdGhpcy5kbWdDb2xsaWRlcl0uYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG1nQ29sbGlkZXIgPSBudWxsO1xuICAgIH1cbiAgICBiZUhpdChlbmVteTogY2MuTm9kZSwgZG1nOiBudW1iZXIsIGlzS25vY2tEb3duOiBib29sZWFuID0gZmFsc2UpIHtcbi8qICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gcGxheWVyQW5pbWF0aW9uU3RhdGUuaWRsZSkge1xuICAgICAgICAgICAgbGV0IGZvcmNlID0gNDAwMDA7XG4gICAgICAgICAgICBmb3JjZSA9IHRoaXMubm9kZS54ID4gZW5lbXkueCA/IGZvcmNlIDogLWZvcmNlO1xuICAgICAgICAgICAgdGhpcy5yaWdpYm9keS5hcHBseUZvcmNlVG9DZW50ZXIoY2MudjIoZm9yY2UsIDApLCB0cnVlKTtcbiAgICAgICAgfSAqL1xuICAgICAgICBpZih0aGlzLmlzRGllKSByZXR1cm47XG4gICAgICAgIGxldCBzY2FsZXggPSBlbmVteS54ID4gdGhpcy5ub2RlLnggPyAtMSA6IDE7XG4gICAgICAgIGxldCBvZmZzZXRYID0gY2FpamlUb29scy5yYW5kb21faW50KC00MCwgNDApO1xuICAgICAgICBpZiAodGhpcy53dWRpLmluY2x1ZGVzKHRoaXMuc3RhdGUpIHx8IHRoaXMuaXNXdURpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1d1RGkpIHtcbiAgICAgICAgICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc2hvd0RhbWFnZUxhYmVsX3BsYXllcih0aGlzLm5vZGUsIDAsIG9mZnNldFgpO1xuICAgICAgICAgICAgICAgIEV2ZW50cy5pbnN0YW5jZS5zaG93RW5lbXlIaXRFZmZlY3QodGhpcy5ub2RlLnBhcmVudCwgY2MudjIodGhpcy5ub2RlLnggKyBjYWlqaVRvb2xzLnJhbmRvbV9pbnQoLTE1LCAxNSksIHRoaXMubm9kZS55ICsgNjApLCBzY2FsZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmluYWxFbmVteSA9IGVuZW15O1xuICAgICAgICB0aGlzLmhpZ2hMaWdodCgpO1xuICAgICAgICBwbGF5ZXJIcC5pbnN0YW5jZS51cGRhdGVIcChkbWcpO1xuICAgICAgICBFdmVudHMuaW5zdGFuY2Uuc2hvd0RhbWFnZUxhYmVsX3BsYXllcih0aGlzLm5vZGUsIGRtZywgb2Zmc2V0WCk7XG4gICAgICAgIEV2ZW50cy5pbnN0YW5jZS5zaG93RW5lbXlIaXRFZmZlY3QodGhpcy5ub2RlLnBhcmVudCwgY2MudjIodGhpcy5ub2RlLnggKyBjYWlqaVRvb2xzLnJhbmRvbV9pbnQoLTE1LCAxNSksIHRoaXMubm9kZS55ICsgNjApLCBzY2FsZXgpO1xuICAgICAgICBpZiAoaXNLbm9ja0Rvd24gJiYgdGhpcy5pc0RpZT09ZmFsc2UpIHtcbiAgICAgICAgICAgIHBsYXllckNvbnRyb2xFdmVudC5pbnN0YW5jZS5yZW1vdmVFdmVudCgpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5rbm9ja191cDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhpZ2hMaWdodCgpIHtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuY2xvc2VIaWdoTGlnaHQpO1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMSk7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZ2V0TWF0ZXJpYWwoMCkuc2V0UHJvcGVydHkoXCJoaWdoTGlnaHRDb2xvclwiLCBbMC44LCAwLjAsIDAuMCwgMC41XSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuY2xvc2VIaWdoTGlnaHQsIDAuMik7XG4gICAgfVxuICAgIGNsb3NlSGlnaExpZ2h0KCkge1xuICAgICAgICB0aGlzLnNrZWxldG9uLmdldE1hdGVyaWFsKDApLnNldFByb3BlcnR5KFwiYmVIaXRcIiwgMCk7XG4gICAgfVxuICAgIGRpZSgpIHtcbiAgICAgICAgcGxheWVyQ29udHJvbEV2ZW50Lmluc3RhbmNlLnJlbW92ZUV2ZW50KCk7XG4gICAgICAgIHVpTWFuYWdlci5pbnMubG9zZSgpO1xuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmRpZSk7XG4gICAgICAgIHRoaXMuY2xvc2VCb3hDb2xsaWRlcigpO1xuICAgICAgICB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID0gdGhpcy5maW5hbEVuZW15LnggPiB0aGlzLm5vZGUueCA/IHRoaXMuc2NhbGVYIDogLXRoaXMuc2NhbGVYO1xuICAgIH1cbiAgICByZXZpdmUoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUucmV2aXZlKTtcbiAgICAgICAgRXZlbnRzLmluc3RhbmNlLnNob3dSZXZpdmVGeCh0aGlzLm5vZGUpO1xuICAgIH1cbiAgICBjbG9zZUJveENvbGxpZGVyKCkge1xuICAgICAgICB0aGlzLmlzRGllID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5Cb3hDb2xsaWRlcikuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBvcGVuQm94Q29sbGlkZXIoKSB7XG4gICAgICAgIHRoaXMuaXNEaWUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5Cb3hDb2xsaWRlcikuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHBsYXllckhwLmluc3RhbmNlLmFkZEhwKHBsYXllckhwLmluc3RhbmNlLmhwX21heCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUuaWRsZSk7XG4gICAgICAgIHRoaXMub3Blbld1RGkoNSk7XG4gICAgICAgIHBsYXllckNvbnRyb2xFdmVudC5pbnN0YW5jZS5iaW5kaW5nRXZlbnQoKTtcbiAgICB9XG4gICAgb3Blbld1RGkod3VkaVRpbWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmlzV3VEaSA9IHRydWU7XG4gICAgICAgIGxldCBzaGllbGROb2RlOiBjYy5Ob2RlID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2hpZWxkXCIpO1xuICAgICAgICBzaGllbGROb2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHNoaWVsZE5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5nZXRDb21wb25lbnQoY2MuUGFydGljbGVTeXN0ZW0zRCkpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5nZXRDb21wb25lbnQoY2MuUGFydGljbGVTeXN0ZW0zRCkubG9vcCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVd1RGkoKTtcbiAgICAgICAgfSwgd3VkaVRpbWUgLSAyKTtcbiAgICB9XG4gICAgY2xvc2VXdURpKCkge1xuICAgICAgICBsZXQgc2hpZWxkTm9kZTogY2MuTm9kZSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNoaWVsZFwiKTtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2Ygc2hpZWxkTm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGNoaWxkLmdldENvbXBvbmVudChjYy5QYXJ0aWNsZVN5c3RlbTNEKSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLmdldENvbXBvbmVudChjYy5QYXJ0aWNsZVN5c3RlbTNEKS5sb29wID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1d1RGkgPSBmYWxzZTtcbiAgICAgICAgICAgIHNoaWVsZE5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH0sIDIpO1xuICAgIH1cbiAgICBpZGxlKCkge1xuICAgICAgICB0aGlzLmp1bXBUaW1lcyA9IDA7XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUuaWRsZSk7XG4gICAgfVxuICAgIGF0dGFjaygpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyQ29sbGlkZXIuaXNGbHlpbmcgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29tYm8oKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgcGxheWVyQW5pbWF0aW9uU3RhdGUubW92ZTpcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmF0dGFjazEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5pZGxlOlxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUuYXR0YWNrMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHBsYXllckFuaW1hdGlvblN0YXRlLmlkbGVfdG9fbW92ZTpcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmF0dGFjazEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJDb2xsaWRlci5pc0ZseWluZykge1xuICAgICAgICAgICAgICAgICAgICAvL+epuuS4reaXtlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRBbmltYXRpb25OYW1lKHRoaXMuc3RhdGUpLmluY2x1ZGVzKFwianVtcF9hdHRhY2tcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRoaXMuZ2V0QW5pbWF0aW9uTmFtZSh0aGlzLnN0YXRlKS5pbmNsdWRlcyhcInNraWxsXCIpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuanVtcEF0dGFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRDb21ibygpIHtcbiAgICAgICAgdGhpcy5sYXN0QXR0YWNrVGltZSA9IHRoaXMubGFzdEF0dGFja1RpbWUgPT0gMCA/IGNjLmRpcmVjdG9yLmdldFRvdGFsVGltZSgpIC8gMTAwMCA6IHRoaXMubGFzdEF0dGFja1RpbWU7XG4gICAgICAgIGlmICgoY2MuZGlyZWN0b3IuZ2V0VG90YWxUaW1lKCkgLyAxMDAwIC0gdGhpcy5sYXN0QXR0YWNrVGltZSkgPCAwLjMvcGxheWVySHAuaW5zdGFuY2Uuc3BlZWRUaW1lcyB8fCB0aGlzLmNvbWJvQXR0YWNrID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29tYm9BdHRhY2srKztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbWJvQXR0YWNrID0gdGhpcy5jb21ib0F0dGFjayA+IDMgPyAzIDogdGhpcy5jb21ib0F0dGFjaztcbiAgICAgICAgdGhpcy5sYXN0QXR0YWNrVGltZSA9IGNjLmRpcmVjdG9yLmdldFRvdGFsVGltZSgpIC8gMTAwMDtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhjYy5kaXJlY3Rvci5nZXRUb3RhbFRpbWUoKS8xMDAwLXRoaXMubGFzdEF0dGFja1RpbWUsdGhpcy5jb21ib0F0dGFjayk7XG4gICAgfVxuICAgIHJlc2V0Q29tYm8oKSB7XG4gICAgICAgIHRoaXMuY29tYm9BdHRhY2sgPSAwO1xuICAgIH1cbiAgICByb2xsKCkge1xuICAgICAgICBpZiAodGhpcy5kaXNhbGxvd1JvbGwuaW5jbHVkZXModGhpcy5zdGF0ZSkpIHJldHVybjtcbiAgICAgICAgdGhpcy5yb2xsRGlyZWN0aW9uID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWDtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyQ29sbGlkZXIuaXNGbHlpbmcgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMucm9sbF8xKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eS55ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucm9sbF8yKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucm9sbF8xKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy/lnLDpnaLlkozpmY3okL3kuK3nv7vmu5pcbiAgICByb2xsXzEoKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLnJvbGxkYXNoKTtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJEYW1waW5nID0gMztcbiAgICAgICAgbGV0IGZvcmNlWCA9IHRoaXMuc2tlbGV0b24ubm9kZS5zY2FsZVggPiAwID8gdGhpcy5yb2xsMUZvcmNlIDogLXRoaXMucm9sbDFGb3JjZTtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eSA9IGNjLnYyKDAsIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkueSk7XG4gICAgICAgIHRoaXMucmlnaWJvZHkuYXBwbHlGb3JjZShjYy52Mihmb3JjZVgsIDApLCB0aGlzLnJpZ2lib2R5LmdldFdvcmxkQ2VudGVyKCksIHRydWUpO1xuICAgICAgICBpZiAodGhpcy5qdW1wVGltZXMgPT0gMikge1xuICAgICAgICAgICAgdGhpcy5yaWdpYm9keS5hcHBseUZvcmNlKGNjLnYyKDAsIC0xMDAwMDApLCB0aGlzLnJpZ2lib2R5LmdldFdvcmxkQ2VudGVyKCksIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUucm9sbCk7XG4gICAgfVxuICAgIC8v6LW36Lez5Lit57+75ruaXG4gICAgcm9sbF8yKCkge1xuICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5yb2xsZGFzaCk7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyRGFtcGluZyA9IC0wLjU7XG4gICAgICAgIGxldCBmb3JjZVggPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IHRoaXMucm9sbDJGb3JjZSA6IC10aGlzLnJvbGwyRm9yY2U7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52MigwLCB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5LnkpO1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmFwcGx5Rm9yY2UoY2MudjIoZm9yY2VYLCAxMDAwMCksIHRoaXMucmlnaWJvZHkuZ2V0V29ybGRDZW50ZXIoKSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUucm9sbF9haXIpO1xuICAgIH1cbiAgICBqdW1wKCkge1xuICAgICAgICBpZiAodGhpcy5qdW1wVGltZXMgPj0gMikgcmV0dXJuO1xuICAgICAgICBsZXQgZm9yY2VYID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyB0aGlzLmp1bXBGb3JjZV94IDogLXRoaXMuanVtcEZvcmNlX3g7XG4gICAgICAgIGZvcmNlWCA9IHRoaXMubW92ZVZlY3Rvci54ID09IDAgPyAwIDogZm9yY2VYO1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhckRhbXBpbmcgPSAxO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgcGxheWVyQW5pbWF0aW9uU3RhdGUuaWRsZTpcbiAgICAgICAgICAgICAgICB0aGlzLmp1bXBfMShmb3JjZVgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5pZGxlX3RvX21vdmU6XG4gICAgICAgICAgICAgICAgdGhpcy5qdW1wXzEoZm9yY2VYKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgcGxheWVyQW5pbWF0aW9uU3RhdGUubW92ZTpcbiAgICAgICAgICAgICAgICB0aGlzLmp1bXBfMShmb3JjZVgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX3N0YXJ0OlxuICAgICAgICAgICAgICAgIHRoaXMuanVtcF8yKGZvcmNlWCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHBsYXllckFuaW1hdGlvblN0YXRlLmp1bXBfZG93bjpcbiAgICAgICAgICAgICAgICB0aGlzLmp1bXBfMihmb3JjZVgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX2VuZDpcbiAgICAgICAgICAgICAgICB0aGlzLmp1bXBfMShmb3JjZVgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX3RvX21vdmU6XG4gICAgICAgICAgICAgICAgdGhpcy5qdW1wXzEoZm9yY2VYKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbGV0IG51bSA9IHRoaXMuanVtcFRpbWVzICsgMTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRBbmltYXRpb25OYW1lKHRoaXMuc3RhdGUpLmluY2x1ZGVzKFwicm9sbFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAvL+e/u+a7mi0+6Lez6LeDXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbXCJqdW1wX1wiICsgbnVtXShmb3JjZVgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdldEFuaW1hdGlvbk5hbWUodGhpcy5zdGF0ZSkuaW5jbHVkZXMoXCJqdW1wX2F0dGFja1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAvL+epuuS4reaUu+WHuy0+6Lez6LeDXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbXCJqdW1wX1wiICsgbnVtXShmb3JjZVgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdldEFuaW1hdGlvbk5hbWUodGhpcy5zdGF0ZSkuaW5jbHVkZXMoXCJhdHRhY2tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy/lnLDpnaLmlLvlh7stPui3s+i3g1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmp1bXBfMShmb3JjZVgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8v56ys5LiA5q616Lez6LeDXG4gICAganVtcF8xKGZvcmNlWDogbnVtYmVyKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLmp1bXAsZmFsc2UsMC42KTtcbiAgICAgICAgdGhpcy5qdW1wVGltZXMrKztcbiAgICAgICAgdGhpcy5yaWdpYm9keS5hcHBseUZvcmNlKGNjLnYyKGZvcmNlWCwgdGhpcy5qdW1wRm9yY2VfeSksIHRoaXMucmlnaWJvZHkuZ2V0V29ybGRDZW50ZXIoKSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUuanVtcF9zdGFydCk7XG4gICAgfVxuICAgIC8v56ys5LqM5q616Lez6LeDXG4gICAganVtcF8yKGZvcmNlWDogbnVtYmVyKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLmp1bXAsZmFsc2UsMC42KTtcbiAgICAgICAgdGhpcy5qdW1wVGltZXMrKztcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eSA9IGNjLnYyKHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkueCwgMCk7XG4gICAgICAgIHRoaXMucmlnaWJvZHkuYXBwbHlGb3JjZShjYy52Mihmb3JjZVgsIHRoaXMuanVtcEZvcmNlX3kpLCB0aGlzLnJpZ2lib2R5LmdldFdvcmxkQ2VudGVyKCksIHRydWUpO1xuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmRvdWJsZV9qdW1wKTtcbiAgICB9XG4gICAgYXN5bmMganVtcEF0dGFjaygpIHtcbiAgICAgICAgbGV0IGZvcmNlWSA9IHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkueSA8PSAwID8gdGhpcy5qdW1wRm9yY2VfeSAqIDAuNyA6IHRoaXMuanVtcEZvcmNlX3k7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52Mih0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5LngsIDApO1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmFwcGx5Rm9yY2UoY2MudjIoMCwgZm9yY2VZKSwgdGhpcy5yaWdpYm9keS5nZXRXb3JsZENlbnRlcigpLCB0cnVlKTtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJEYW1waW5nID0gZm9yY2VZID09IDAgPyAxMiA6IDA7XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUuanVtcF9hdHRhY2sxKTtcbiAgICAgICAgdGhpcy5qdW1wU291bmRJZD1hd2FpdCBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5TcGluQXR0YWNrLGZhbHNlKTtcbiAgICB9XG4gICAgZHJvcFRvR3JvdW5kKCkge1xuICAgICAgICB0aGlzLmp1bXBUaW1lcyA9IDA7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyRGFtcGluZyA9IDA7Ly8xO1xuICAgICAgICB0aGlzLnJlc2V0Q29tYm8oKTtcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuSnVtcGxhbmQpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5pZGxlIHx8IHRoaXMuc3RhdGUgPT0gcGxheWVyQW5pbWF0aW9uU3RhdGUuZGllKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmdldEFuaW1hdGlvbk5hbWUodGhpcy5zdGF0ZSkuaW5jbHVkZXMoXCJyb2xsXCIpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5yb2xsX2Fpcikge1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52MigwLCAwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb3ZlVmVjdG9yLnggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmp1bXBfZW5kKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmp1bXBfdG9fbW92ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdldEFuaW1hdGlvbk5hbWUodGhpcy5zdGF0ZSkuaW5jbHVkZXMoXCJqdW1wX2F0dGFja1wiKSkge1xuICAgICAgICAgICAgLy/mlLvlh7vokL3lnLBcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUuanVtcF9hdHRhY2szKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8v6Lez6LeD6JC95ZywXG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlVmVjdG9yLnggIT0gMCkge1xuICAgICAgICAgICAgICAgIC8v6LezLT7ot5FcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmp1bXBfdG9fbW92ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8v6LezLT7nq5nnq4tcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5ID0gY2MudjIoMCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX2VuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2tpbGwxKCkge1xuICAgICAgICBpZiAodGhpcy5za2VsZXRvbi5hbmltYXRpb24uaW5jbHVkZXMoXCJza2lsbFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldENvbWJvKCk7XG4gICAgICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5ID0gY2MudjIoMCwgMCk7XG4gICAgICAgICAgICBhdWRpb01hbmFnZXIucGxheUF1ZGlvKGF1ZGlvTmFtZS5Ta2lsbGNhc3QyMDdTaHVyaWtlbik7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJDb2xsaWRlci5pc0ZseWluZykge1xuICAgICAgICAgICAgICAgIC8v56m65Lit6YeK5pS+IFxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VHcmF2aXR5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5za2lsbDIwN19haXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLnNraWxsMjA3X2dyb3VuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlU2h1cmlrZW4oKSB7XG4gICAgICAgIGxldCBwcmVmYWIgPSBhd2FpdCBjYWlqaVRvb2xzLmxvYWRQcmVmYWIoXCJwcmVmYWJzL3NodXJpa2VuXCIpO1xuICAgICAgICBsZXQgc2h1cmlrZW4gPSBjYWlqaVRvb2xzLmNyZWF0ZU5vZGUocHJlZmFiLCB0aGlzLm5vZGUucGFyZW50KTtcbiAgICAgICAgc2h1cmlrZW4uc2V0UG9zaXRpb24odGhpcy5ub2RlLngsIHRoaXMubm9kZS55ICsgNzApO1xuICAgICAgICBzaHVyaWtlbi5zZXRTaWJsaW5nSW5kZXgoc2h1cmlrZW4uZ2V0U2libGluZ0luZGV4KCkgLSAxKTtcbiAgICB9XG4gICAgc2tpbGwyKCkge1xuICAgICAgICBpZiAodGhpcy5za2VsZXRvbi5hbmltYXRpb24uaW5jbHVkZXMoXCJza2lsbFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldENvbWJvKCk7XG4gICAgICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5ID0gY2MudjIoMCwgMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJDb2xsaWRlci5pc0ZseWluZykge1xuICAgICAgICAgICAgICAgIC8v56m65Lit6YeK5pS+XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUdyYXZpdHkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLnNraWxsMjAzX2Fpcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUuc2tpbGwyMDNfZ3JvdW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjcmVhdGVTd29yZFJhaW4oKSB7XG4gICAgICAgIGxldCBwcmVmYWIgPSBhd2FpdCBjYWlqaVRvb2xzLmxvYWRQcmVmYWIoXCJwcmVmYWJzL3N3b3JkUmFpblwiKTtcbiAgICAgICAgbGV0IHN3b3JkUmFpbk5vZGUgPSBjYWlqaVRvb2xzLmNyZWF0ZU5vZGUocHJlZmFiLCB0aGlzLm5vZGUucGFyZW50KTtcbiAgICAgICAgc3dvcmRSYWluTm9kZS5zZXRTaWJsaW5nSW5kZXgodGhpcy5ncm91bmQuZ2V0U2libGluZ0luZGV4KCkpO1xuICAgICAgICBzd29yZFJhaW5Ob2RlLnNldFBvc2l0aW9uKHRoaXMubm9kZS54LCAyMzApO1xuICAgICAgICBzd29yZFJhaW5Ob2RlLmdldENvbXBvbmVudChzd29yZFJhaW4pLmlzUmlnaHQgPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG4gICAgY2xvc2VHcmF2aXR5KCkge1xuICAgICAgICB0aGlzLnJpZ2lib2R5LnR5cGUgPSBjYy5SaWdpZEJvZHlUeXBlLktpbmVtYXRpYztcbiAgICB9XG4gICAgb3BlbkdyYXZpdHkoKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkudHlwZSA9IGNjLlJpZ2lkQm9keVR5cGUuRHluYW1pYztcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yaWdpYm9keS5hcHBseUZvcmNlKGNjLnYyKDAsIC0xODAwMDApLCB0aGlzLnJpZ2lib2R5LmdldFdvcmxkQ2VudGVyKCksIHRydWUpO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG4gICAgc2V0RnJpY3Rpb24oZnJpY3Rpb246IG51bWJlcikge1xuICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlBoeXNpY3NCb3hDb2xsaWRlcikuZnJpY3Rpb24gPSBmcmljdGlvbjtcbiAgICAgICAgdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5QaHlzaWNzQm94Q29sbGlkZXIpLmFwcGx5KCk7XG4gICAgfVxuICAgIGNoYW5nZVN0YXRlKHN0YXRlOiBwbGF5ZXJBbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLmhpZGVEYW1hZ2VDb2xsaWRlcigpO1xuICAgICAgICBpZiAodGhpcy5nZXRBbmltYXRpb25OYW1lKHN0YXRlKS5pbmNsdWRlcyhcImF0dGFja1wiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldENvbWJvKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5qdW1wU291bmRJZCE9LTEmJnRoaXMuanVtcFNvdW5kU3RhdGUuaW5jbHVkZXMoc3RhdGUpPT1mYWxzZSl7XG4gICAgICAgICAgICBhdWRpb01hbmFnZXIuc3RvcEF1ZGlvKHRoaXMuanVtcFNvdW5kSWQpO1xuICAgICAgICAgICAgdGhpcy5qdW1wU291bmRJZD0tMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXNbJ2VudGVyU3RhdGVFdmVudF8nICsgdGhpcy5nZXRBbmltYXRpb25OYW1lKHN0YXRlKV0oc3RhdGUpO1xuICAgICAgICBpZiAocGxheWVyQ29udHJvbEV2ZW50Lmluc3RhbmNlLmlzQ29udGludWVBdHRhY2sgJiYgdGhpcy5zdGF0ZSA9PSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5pZGxlKSB7XG4gICAgICAgICAgICAvL2lkbGXnirbmgIHkuIvov57nu63mlLvlh7tcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmF0dGFjazEpO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgZ2V0QW5pbWF0aW9uTmFtZShzdGF0ZTogcGxheWVyQW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHBsYXllckFuaW1hdGlvblN0YXRlW3N0YXRlXTtcbiAgICB9XG4gICAgcGxheUFuaW1hdGlvbihhbmltYXRpb25OYW1lOiBzdHJpbmcsIHRpbWVTY2FsZSwgaXNMb29wOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbk5hbWUgPT0gdGhpcy5za2VsZXRvbi5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5za2VsZXRvbi5hbmltYXRpb24gPT0gXCJhdHRhY2sxXCIgJiYgYW5pbWF0aW9uTmFtZSA9PSBcImlkbGVcIikge1xuICAgICAgICAgICAgdGhpcy5za2VsZXRvbi5zZXRNaXgodGhpcy5za2VsZXRvbi5hbmltYXRpb24sIGFuaW1hdGlvbk5hbWUsIDAuMyk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2sxRmluaXNoID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sIDAuMSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5za2VsZXRvbi5hbmltYXRpb24gPT0gXCJkb3VibGVfanVtcFwiICYmIGFuaW1hdGlvbk5hbWUgPT0gXCJyb2xsX2FpclwiKSB7XG4gICAgICAgICAgICAvL3RoaXMuc2tlbGV0b24uc2V0TWl4KHRoaXMuc2tlbGV0b24uYW5pbWF0aW9uLCBhbmltYXRpb25OYW1lLCAwLjEpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0cmFja0VudHJ5ID0gdGhpcy5za2VsZXRvbi5zZXRBbmltYXRpb24oMCwgYW5pbWF0aW9uTmFtZSwgaXNMb29wKTtcbiAgICAgICAgdGhpcy5zZXRUcmFja0VudHJ5RW52ZXQodHJhY2tFbnRyeSwgYW5pbWF0aW9uTmFtZSk7XG4gICAgICAgIHRoaXMuc2tlbGV0b24udGltZVNjYWxlID0gdGltZVNjYWxlO1xuICAgICAgICAvLyBpZiAoYW5pbWF0aW9uTmFtZSA9PSB0aGlzLmdldEFuaW1hdGlvbk5hbWUocGxheWVyQW5pbWF0aW9uU3RhdGUuYXR0YWNrMSkpIHtcbiAgICAgICAgLy8gICAgIHRoaXMuc2tlbGV0b24uYWRkQW5pbWF0aW9uKDAsIHRoaXMuZ2V0QW5pbWF0aW9uTmFtZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5hdHRhY2syKSwgZmFsc2UsIDAuMik7XG4gICAgICAgIC8vICAgICB0aGlzLnNrZWxldG9uLmFkZEFuaW1hdGlvbigwLCB0aGlzLmdldEFuaW1hdGlvbk5hbWUocGxheWVyQW5pbWF0aW9uU3RhdGUuYXR0YWNrMyksIGZhbHNlLCAwLjIpO1xuICAgICAgICAvLyB9XG4gICAgfVxuICAgIHNldEFuaW1hdGlvbkNvbXBsZXRlRXZlbnQoKSB7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uc2V0Q29tcGxldGVMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IHBsYXllckFuaW1hdGlvblN0YXRlW3RoaXMuc2tlbGV0b24uYW5pbWF0aW9uXTtcbiAgICAgICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyQW5pbWF0aW9uU3RhdGUuYXBwZWFyOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVhckVuZCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHBsYXllckFuaW1hdGlvblN0YXRlLmlkbGVfdG9fbW92ZTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbnlUb0lkbGVPckp1bXAoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5wb3NlX3NoYWRvdzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5hdHRhY2szKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5hdHRhY2szOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX3N0YXJ0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmp1bXBfZG93bik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyQW5pbWF0aW9uU3RhdGUuZG91YmxlX2p1bXA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyRGFtcGluZyA9IC0zO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHBsYXllckFuaW1hdGlvblN0YXRlLmp1bXBfZW5kOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmlkbGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHBsYXllckFuaW1hdGlvblN0YXRlLmp1bXBfdG9fbW92ZTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5tb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX2F0dGFjazE6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUuanVtcF9hdHRhY2syKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX2F0dGFjazM6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW55VG9JZGxlT3JKdW1wKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyQW5pbWF0aW9uU3RhdGUucm9sbDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xsVG9JZGxlT3JNb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyQW5pbWF0aW9uU3RhdGUucm9sbF90b19pZGxlOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5yb2xsX3RvX21vdmU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUubW92ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyQW5pbWF0aW9uU3RhdGUucmV2aXZlOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5Cb3hDb2xsaWRlcigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHBsYXllckFuaW1hdGlvblN0YXRlLmtub2NrX3VwMTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5rbm9ja191cDIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHBsYXllckFuaW1hdGlvblN0YXRlLmtub2NrX3VwMjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5rbm9ja191cDMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHBsYXllckFuaW1hdGlvblN0YXRlLmtub2NrX3VwMzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdGU9PXBsYXllckFuaW1hdGlvblN0YXRlLmtub2NrX3VwMyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5nZXRfdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LDAuMik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyQW5pbWF0aW9uU3RhdGUuZ2V0X3VwOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyQ29udHJvbEV2ZW50Lmluc3RhbmNlLmJpbmRpbmdFdmVudCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5za2VsZXRvbi5hbmltYXRpb24uaW5jbHVkZXMoXCJza2lsbFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyQ29sbGlkZXIuaXNGbHlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5HcmF2aXR5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5qdW1wX2Rvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmlkbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcm9sbFRvSWRsZU9yTW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubW92ZVZlY3Rvci54ID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUucm9sbF90b19pZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUucm9sbF90b19tb3ZlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhbnlUb0lkbGVPckp1bXAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdmVWZWN0b3IueCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmlkbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5tb3ZlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0t5Lul5LiL5Li65Yqo55S75bin5LqL5Lu25LqL5Lu2LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHNldEFuaW1hdGlvbkZyYW1lRXZlbnQoYW5pbWF0aW9uTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmIChmcmFtZUV2ZW50W2FuaW1hdGlvbk5hbWVdID09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnNrZWxldG9uLnNldEV2ZW50TGlzdGVuZXIodGhpc1tmcmFtZUV2ZW50W2FuaW1hdGlvbk5hbWVdXS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgc2V0VHJhY2tFbnRyeUVudmV0KHRyYWNrRW50cnk6IGFueSwgYW5pbWF0aW9uTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmIChmcmFtZUV2ZW50W2FuaW1hdGlvbk5hbWVdID09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnNrZWxldG9uLnNldFRyYWNrRXZlbnRMaXN0ZW5lcih0cmFja0VudHJ5LCB0aGlzW2ZyYW1lRXZlbnRbYW5pbWF0aW9uTmFtZV1dLmJpbmQodGhpcykpO1xuICAgIH1cbiAgICBzZXRGcmFtZUV2ZW50VGltZSgpIHtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5maW5kQW5pbWF0aW9uKFwic2tpbGwyMDdfZ3JvdW5kXCIpLnRpbWVsaW5lc1s1OV0uZnJhbWVzWzBdID0gc2tpbGxGcmFtZUV2ZW50VGltZS5za2lsbDIwN19ncm91bmQ7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZmluZEFuaW1hdGlvbihcInNraWxsMjA3X2FpclwiKS50aW1lbGluZXNbNjVdLmZyYW1lc1swXSA9IHNraWxsRnJhbWVFdmVudFRpbWUuc2tpbGwyMDdfYWlyO1xuICAgICAgICB0aGlzLnNrZWxldG9uLmZpbmRBbmltYXRpb24oXCJza2lsbDIwM19ncm91bmRcIikudGltZWxpbmVzWzU2XS5mcmFtZXNbMF0gPSBza2lsbEZyYW1lRXZlbnRUaW1lLnNraWxsMjAzX2dyb3VuZDtcbiAgICAgICAgdGhpcy5za2VsZXRvbi5maW5kQW5pbWF0aW9uKFwic2tpbGwyMDNfYWlyXCIpLnRpbWVsaW5lc1s1OF0uZnJhbWVzWzBdID0gc2tpbGxGcmFtZUV2ZW50VGltZS5za2lsbDIwM19haXI7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZmluZEFuaW1hdGlvbihcImF0dGFjazFcIikudGltZWxpbmVzWzY4XS5mcmFtZXNbMl0gPSBza2lsbEZyYW1lRXZlbnRUaW1lLmF0dGFjazE7XG4gICAgICAgIHRoaXMuc2tlbGV0b24uZmluZEFuaW1hdGlvbihcImF0dGFjazJcIikudGltZWxpbmVzWzcyXS5mcmFtZXNbMl0gPSBza2lsbEZyYW1lRXZlbnRUaW1lLmF0dGFjazI7XG4gICAgfVxuICAgIEFkZEZvcmNlVXAodHJhY2tFbnRyeSwgZXZlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBZGRGb3JjZVVwXCIpO1xuICAgIH1cbiAgICBBbmltYXRpb25FbmQodHJhY2tFbnRyeSwgZXZlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBbmltYXRpb25FbmRcIik7XG4gICAgfVxuICAgIEF0dGFjazEodHJhY2tFbnRyeSwgZXZlbnQpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhldmVudCk7Ly9cIk1vdmVGb3J3YXJkXCIgXCJMb2NrRGlyZWN0aW9uXCIgXCJTdG9wTW92ZVwiXCJBdHRhY2tDb21wbGV0ZVwiXG4gICAgICAgIGlmIChldmVudC5kYXRhLm5hbWUgPT0gXCJTdG9wTW92ZVwiKSB7XG4gICAgICAgICAgICBsZXQgZG1nOiBudW1iZXIgPSBwbGF5ZXJIcC5pbnN0YW5jZS5kYW1hZ2VTY2FsZSAqIHRoaXMuZGFtYWdlU2NhbGVab29tO1xuICAgICAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdLmdldENvbXBvbmVudChwbGF5ZXJDb2xsaWRlckF0dGFjazEpLmhpdChkbWcsIGF0dGFja1R5cGUuYXR0YWNrMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQXR0YWNrMih0cmFja0VudHJ5LCBldmVudCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKGV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEubmFtZSA9PSBcIlN0b3BNb3ZlXCIpIHtcbiAgICAgICAgICAgIGxldCBkbWc6IG51bWJlciA9IHBsYXllckhwLmluc3RhbmNlLmRhbWFnZVNjYWxlICogdGhpcy5kYW1hZ2VTY2FsZVpvb20gKiB0aGlzLmRhbWFnZTJTY2FsZVRpbWVzO1xuICAgICAgICAgICAgdGhpcy5za2VsZXRvbi5ub2RlLmNoaWxkcmVuW3RoaXMuZG1nQ29sbGlkZXJdLmdldENvbXBvbmVudChwbGF5ZXJDb2xsaWRlckF0dGFjazIpLmhpdChkbWcsIGF0dGFja1R5cGUuYXR0YWNrMik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQXR0YWNrMyh0cmFja0VudHJ5LCBldmVudCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKHRyYWNrRW50cnkpO1xuICAgIH1cbiAgICBGb290U3RlcCh0cmFja0VudHJ5LCBldmVudCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiRm9vdFN0ZXBcIik7XG4gICAgICAgIGlmKGV2ZW50LnRpbWU+MC4yKSByZXR1cm47XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLlJ1bik7XG4gICAgfVxuICAgIEdldFVwKHRyYWNrRW50cnksIGV2ZW50KSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJHZXRVcFwiKTtcbiAgICB9XG4gICAgTG9ja0RpcmVjdGlvbih0cmFja0VudHJ5LCBldmVudCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiTG9ja0RpcmVjdGlvblwiKTtcbiAgICB9XG4gICAgTW92ZUZvcndhcmQodHJhY2tFbnRyeSwgZXZlbnQpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIk1vdmVGb3J3YXJkXCIpO1xuICAgIH1cbiAgICBSb2xsQ29tcGxldGUodHJhY2tFbnRyeSwgZXZlbnQpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlJvbGxDb21wbGV0ZVwiKTtcbiAgICB9XG4gICAgU2tpbGxDb21wbGV0ZSh0cmFja0VudHJ5LCBldmVudCkge1xuICAgICAgICAvL+aKgOiDveaKleaOt+W4p+S6i+S7tlxuICAgICAgICBpZiAodGhpcy5za2VsZXRvbi5hbmltYXRpb24uaW5jbHVkZXMoXCIyMDdcIikpIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJzaHVyaWtlblwiKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU2h1cmlrZW4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJzd29yZFJhaW5cIik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVN3b3JkUmFpbigpO1xuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuS3VuYWkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFN0b3BNb3ZlKHRyYWNrRW50cnksIGV2ZW50KSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJTdG9wTW92ZVwiKTtcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXlBdWRpbyhhdWRpb05hbWUuU3RvcE1vdmUpO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0t5Lul5LiL5Li6Y2hhbmdlU3RhdGXkuovku7YtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgZW50ZXJTdGF0ZUV2ZW50X2lkbGUoc3RhdGU6IHBsYXllckFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52MigwLCB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5LnkpO1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLCB0cnVlKTtcbiAgICB9XG4gICAgZW50ZXJTdGF0ZUV2ZW50X2lkbGVfdG9fbW92ZShzdGF0ZTogcGxheWVyQW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHBsYXllckFuaW1hdGlvblN0YXRlW3N0YXRlXSwgMywgZmFsc2UpO1xuICAgIH1cbiAgICBlbnRlclN0YXRlRXZlbnRfbW92ZShzdGF0ZTogcGxheWVyQW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHBsYXllckFuaW1hdGlvblN0YXRlW3N0YXRlXSwgMS4yLCB0cnVlKTtcbiAgICB9XG4gICAgZW50ZXJTdGF0ZUV2ZW50X2F0dGFjazEoc3RhdGU6IHBsYXllckFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIHRoaXMuc2hvd0RhbWFnZUNvbGxpZGVyKGRhbWFnZUNvbGxpZGVyLmF0dGFjazEpO1xuICAgICAgICB0aGlzLmF0dGFjazFGaW5pc2ggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eSA9IGNjLnYyKDAsIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkueSk7XG4gICAgICAgIHRoaXMubm9kZS54ID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyB0aGlzLm5vZGUueCArIDAgOiB0aGlzLm5vZGUueCAtIDA7Ly/kvY3np7tcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHBsYXllckFuaW1hdGlvblN0YXRlW3N0YXRlXSwgMSpwbGF5ZXJIcC5pbnN0YW5jZS5zcGVlZFRpbWVzLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgLy9hdHRhY2sx5Yqo5L2c57uT5p2fXG4gICAgICAgICAgICBpZiAocGxheWVyQW5pbWF0aW9uU3RhdGVbdGhpcy5za2VsZXRvbi5hbmltYXRpb25dICE9IHBsYXllckFuaW1hdGlvblN0YXRlLmF0dGFjazEpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJDb250cm9sRXZlbnQuaW5zdGFuY2UuaXNDb250aW51ZUF0dGFjayB8fCB0aGlzLmNvbWJvQXR0YWNrID4gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUuYXR0YWNrMik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUuaWRsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDAuMjYvcGxheWVySHAuaW5zdGFuY2Uuc3BlZWRUaW1lcyk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9hdHRhY2syKHN0YXRlOiBwbGF5ZXJBbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLnNob3dEYW1hZ2VDb2xsaWRlcihkYW1hZ2VDb2xsaWRlci5hdHRhY2syKTtcbiAgICAgICAgdGhpcy5hdHRhY2sxRmluaXNoID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHBsYXllckFuaW1hdGlvblN0YXRlW3N0YXRlXSwgMSpwbGF5ZXJIcC5pbnN0YW5jZS5zcGVlZFRpbWVzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgIGxldCBvZmZzZXR4ID0gdGhpcy5za2VsZXRvbi5ub2RlLnNjYWxlWCA+IDAgPyB0aGlzLm9mZmVzZXRYX2FhdGFjazMgOiAtdGhpcy5vZmZlc2V0WF9hYXRhY2szOy8v5L2N56e7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52MihvZmZzZXR4LCAwKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgLy9hdHRhY2sy5Yqo5L2c57uT5p2fXG4gICAgICAgICAgICBpZiAocGxheWVyQW5pbWF0aW9uU3RhdGVbdGhpcy5za2VsZXRvbi5hbmltYXRpb25dICE9IHBsYXllckFuaW1hdGlvblN0YXRlLmF0dGFjazIpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJDb250cm9sRXZlbnQuaW5zdGFuY2UuaXNDb250aW51ZUF0dGFjayB8fCB0aGlzLmNvbWJvQXR0YWNrID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUocGxheWVyQW5pbWF0aW9uU3RhdGUucG9zZV9zaGFkb3cpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHBsYXllckFuaW1hdGlvblN0YXRlLmlkbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwLjMyL3BsYXllckhwLmluc3RhbmNlLnNwZWVkVGltZXMpO1xuICAgIH1cbiAgICBlbnRlclN0YXRlRXZlbnRfcG9zZV9zaGFkb3coc3RhdGU6IHBsYXllckFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5QXVkaW8oYXVkaW9OYW1lLnRocnVzdDEpO1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCk7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52MigwLCAwKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBsYXllckFuaW1hdGlvblN0YXRlW3RoaXMuc2tlbGV0b24uYW5pbWF0aW9uXSAhPSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5wb3NlX3NoYWRvdykgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShwbGF5ZXJBbmltYXRpb25TdGF0ZS5hdHRhY2szKTtcbiAgICAgICAgfSwgMC4wNSk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9hdHRhY2szKHN0YXRlOiBwbGF5ZXJBbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbihwbGF5ZXJBbmltYXRpb25TdGF0ZVtzdGF0ZV0sIDEuMSpwbGF5ZXJIcC5pbnN0YW5jZS5zcGVlZFRpbWVzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgIC8vYXR0YWNrM+WKqOS9nOWGsuWIuuW8gOWni1xuICAgICAgICAgICAgaWYgKHBsYXllckFuaW1hdGlvblN0YXRlW3RoaXMuc2tlbGV0b24uYW5pbWF0aW9uXSA9PSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5hdHRhY2szKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9mZnNldHggPSB0aGlzLnNrZWxldG9uLm5vZGUuc2NhbGVYID4gMCA/IFxuICAgICAgICAgICAgICAgIDgwMCpwbGF5ZXJIcC5pbnN0YW5jZS5zcGVlZFRpbWVzIDpcbiAgICAgICAgICAgICAgICAgLTgwMCpwbGF5ZXJIcC5pbnN0YW5jZS5zcGVlZFRpbWVzOy8v5L2N56e7XG4gICAgICAgICAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eSA9IGNjLnYyKG9mZnNldHgsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0RhbWFnZUNvbGxpZGVyKGRhbWFnZUNvbGxpZGVyLmF0dGFjazMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vYXR0YWNrM+WKqOS9nOWGsuWIuue7k+adn1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZURhbWFnZUNvbGxpZGVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllckFuaW1hdGlvblN0YXRlW3RoaXMuc2tlbGV0b24uYW5pbWF0aW9uXSA9PSBwbGF5ZXJBbmltYXRpb25TdGF0ZS5hdHRhY2szKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52MigwLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAwLjIvcGxheWVySHAuaW5zdGFuY2Uuc3BlZWRUaW1lcyk7XG4gICAgICAgIH0sIDAuMjQvcGxheWVySHAuaW5zdGFuY2Uuc3BlZWRUaW1lcyk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9qdW1wX3N0YXJ0KHN0YXRlOiBwbGF5ZXJBbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLCBmYWxzZSk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9kb3VibGVfanVtcChzdGF0ZTogcGxheWVyQW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJEYW1waW5nID0gMTtcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHBsYXllckFuaW1hdGlvblN0YXRlW3N0YXRlXSwgMSwgZmFsc2UpO1xuICAgIH1cbiAgICBlbnRlclN0YXRlRXZlbnRfanVtcF9kb3duKHN0YXRlOiBwbGF5ZXJBbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLnJpZ2lib2R5LmxpbmVhckRhbXBpbmcgPSAwO1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLCBmYWxzZSk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9qdW1wX2VuZChzdGF0ZTogcGxheWVyQW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHBsYXllckFuaW1hdGlvblN0YXRlW3N0YXRlXSwgMSwgZmFsc2UpO1xuICAgIH1cbiAgICBlbnRlclN0YXRlRXZlbnRfanVtcF90b19tb3ZlKHN0YXRlOiBwbGF5ZXJBbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLCBmYWxzZSk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9qdW1wX2F0dGFjazEoc3RhdGU6IHBsYXllckFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbihwbGF5ZXJBbmltYXRpb25TdGF0ZVtzdGF0ZV0sIDEsIGZhbHNlKTtcbiAgICB9XG4gICAgZW50ZXJTdGF0ZUV2ZW50X2p1bXBfYXR0YWNrMihzdGF0ZTogcGxheWVyQW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdGhpcy5zaG93RGFtYWdlQ29sbGlkZXIoZGFtYWdlQ29sbGlkZXIuanVtcEhpdCk7XG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbihwbGF5ZXJBbmltYXRpb25TdGF0ZVtzdGF0ZV0sIDEuMypwbGF5ZXJIcC5pbnN0YW5jZS5zcGVlZFRpbWVzLCB0cnVlKTtcbiAgICB9XG4gICAgZW50ZXJTdGF0ZUV2ZW50X2p1bXBfYXR0YWNrMyhzdGF0ZTogcGxheWVyQW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdGhpcy5yaWdpYm9keS5saW5lYXJWZWxvY2l0eSA9IGNjLnYyKDAsIDApO1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLCBmYWxzZSk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9yb2xsKHN0YXRlOiBwbGF5ZXJBbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLjMsIGZhbHNlKTtcbiAgICB9XG4gICAgZW50ZXJTdGF0ZUV2ZW50X3JvbGxfYWlyKHN0YXRlOiBwbGF5ZXJBbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLCBmYWxzZSk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9yb2xsX3RvX2lkbGUoc3RhdGU6IHBsYXllckFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52MigwLCB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5LnkpO1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLCBmYWxzZSk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9yb2xsX3RvX21vdmUoc3RhdGU6IHBsYXllckFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIHRoaXMucmlnaWJvZHkubGluZWFyVmVsb2NpdHkgPSBjYy52MigwLCB0aGlzLnJpZ2lib2R5LmxpbmVhclZlbG9jaXR5LnkpO1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLjEsIGZhbHNlKTtcbiAgICB9XG4gICAgZW50ZXJTdGF0ZUV2ZW50X3NraWxsMjAzX2FpcihzdGF0ZTogcGxheWVyQW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHBsYXllckFuaW1hdGlvblN0YXRlW3N0YXRlXSwgMSpwbGF5ZXJIcC5pbnN0YW5jZS5zcGVlZFRpbWVzLCBmYWxzZSk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9za2lsbDIwM19ncm91bmQoc3RhdGU6IHBsYXllckFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbihwbGF5ZXJBbmltYXRpb25TdGF0ZVtzdGF0ZV0sIDEqcGxheWVySHAuaW5zdGFuY2Uuc3BlZWRUaW1lcywgZmFsc2UpO1xuICAgIH1cbiAgICBlbnRlclN0YXRlRXZlbnRfc2tpbGwyMDdfYWlyKHN0YXRlOiBwbGF5ZXJBbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxKnBsYXllckhwLmluc3RhbmNlLnNwZWVkVGltZXMsIGZhbHNlKTtcbiAgICB9XG4gICAgZW50ZXJTdGF0ZUV2ZW50X3NraWxsMjA3X2dyb3VuZChzdGF0ZTogcGxheWVyQW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHBsYXllckFuaW1hdGlvblN0YXRlW3N0YXRlXSwgMSpwbGF5ZXJIcC5pbnN0YW5jZS5zcGVlZFRpbWVzLCBmYWxzZSk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9kaWUoc3RhdGU6IHBsYXllckFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbihwbGF5ZXJBbmltYXRpb25TdGF0ZVtzdGF0ZV0sIDEsIGZhbHNlKTtcbiAgICB9XG4gICAgZW50ZXJTdGF0ZUV2ZW50X3Jldml2ZShzdGF0ZTogcGxheWVyQW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHBsYXllckFuaW1hdGlvblN0YXRlW3N0YXRlXSwgMSwgZmFsc2UpO1xuICAgIH1cbiAgICBlbnRlclN0YXRlRXZlbnRfa25vY2tfdXAxKHN0YXRlOiBwbGF5ZXJBbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLCBmYWxzZSk7XG4gICAgfVxuICAgIGVudGVyU3RhdGVFdmVudF9rbm9ja191cDIoc3RhdGU6IHBsYXllckFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbihwbGF5ZXJBbmltYXRpb25TdGF0ZVtzdGF0ZV0sIDEsIGZhbHNlKTtcbiAgICB9XG4gICAgZW50ZXJTdGF0ZUV2ZW50X2tub2NrX3VwMyhzdGF0ZTogcGxheWVyQW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHBsYXllckFuaW1hdGlvblN0YXRlW3N0YXRlXSwgMSwgZmFsc2UpO1xuICAgIH1cbiAgICBlbnRlclN0YXRlRXZlbnRfZ2V0X3VwKHN0YXRlOiBwbGF5ZXJBbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24ocGxheWVyQW5pbWF0aW9uU3RhdGVbc3RhdGVdLCAxLCBmYWxzZSk7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/3rd/tpfsdk/3rd/md5.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f24edcNJ/RFR63miKZCkVWa', 'md5');
// syyx_sdk/3rd/tpfsdk/3rd/md5.js

"use strict";

var MD5 = function MD5(n) {
  function A(n, r, t) {
    return n & r | ~n & t;
  }

  function g(n, r, t) {
    return t & n | ~t & r;
  }

  function v(n, r, t) {
    return n ^ r ^ t;
  }

  function d(n, r, t) {
    return r ^ (n | ~t);
  }

  function U(n, r) {
    return n[r + 3] << 24 | n[r + 2] << 16 | n[r + 1] << 8 | n[r];
  }

  function e(n) {
    for (var r = [], t = 0; t < n.length; t++) {
      if (n.charCodeAt(t) <= 127) r.push(n.charCodeAt(t));else for (var e = encodeURIComponent(n.charAt(t)).substr(1).split("%"), o = 0; o < e.length; o++) {
        r.push(parseInt(e[o], 16));
      }
    }

    return r;
  }

  function r(n) {
    for (var r = new Array(n.length), t = 0; t < n.length; t++) {
      r[t] = n[t];
    }

    return r;
  }

  var m = null,
      t = null;

  function w(n, r) {
    return 4294967295 & n + r;
  }

  return "string" == typeof n ? m = e(n) : n.constructor == Array ? 0 === n.length ? m = n : "string" == typeof n[0] ? m = function o(n) {
    for (var r = [], t = 0; t < n.length; t++) {
      r = r.concat(e(n[t]));
    }

    return r;
  }(n) : "number" == typeof n[0] ? m = n : t = typeof n[0] : "undefined" != typeof ArrayBuffer ? n instanceof ArrayBuffer ? m = r(new Uint8Array(n)) : n instanceof Uint8Array || n instanceof Int8Array ? m = r(n) : n instanceof Uint32Array || n instanceof Int32Array || n instanceof Uint16Array || n instanceof Int16Array || n instanceof Float32Array || n instanceof Float64Array ? m = r(new Uint8Array(n.buffer)) : t = typeof n : t = typeof n, t && alert("MD5 type mismatch, cannot process " + t), function I() {
    function n(n, r, t, e) {
      var o = y;
      y = s, c = w(s = c, function a(n, r) {
        return n << r & 4294967295 | n >>> 32 - r;
      }(w(i, w(n, w(r, t))), e)), i = o;
    }

    var r = m.length;
    m.push(128);
    var t = m.length % 64;

    if (56 < t) {
      for (var e = 0; e < 64 - t; e++) {
        m.push(0);
      }

      t = m.length % 64;
    }

    for (e = 0; e < 56 - t; e++) {
      m.push(0);
    }

    m = m.concat(function l(n) {
      for (var r = [], t = 0; t < 8; t++) {
        r.push(255 & n), n >>>= 8;
      }

      return r;
    }(8 * r));
    var o = 1732584193,
        a = 4023233417,
        f = 2562383102,
        u = 271733878,
        i = 0,
        c = 0,
        s = 0,
        y = 0;

    for (e = 0; e < m.length / 64; e++) {
      i = o;
      var h = 64 * e;
      n(A(c = a, s = f, y = u), 3614090360, U(m, h), 7), n(A(c, s, y), 3905402710, U(m, 4 + h), 12), n(A(c, s, y), 606105819, U(m, 8 + h), 17), n(A(c, s, y), 3250441966, U(m, 12 + h), 22), n(A(c, s, y), 4118548399, U(m, 16 + h), 7), n(A(c, s, y), 1200080426, U(m, 20 + h), 12), n(A(c, s, y), 2821735955, U(m, 24 + h), 17), n(A(c, s, y), 4249261313, U(m, 28 + h), 22), n(A(c, s, y), 1770035416, U(m, 32 + h), 7), n(A(c, s, y), 2336552879, U(m, 36 + h), 12), n(A(c, s, y), 4294925233, U(m, 40 + h), 17), n(A(c, s, y), 2304563134, U(m, 44 + h), 22), n(A(c, s, y), 1804603682, U(m, 48 + h), 7), n(A(c, s, y), 4254626195, U(m, 52 + h), 12), n(A(c, s, y), 2792965006, U(m, 56 + h), 17), n(A(c, s, y), 1236535329, U(m, 60 + h), 22), n(g(c, s, y), 4129170786, U(m, 4 + h), 5), n(g(c, s, y), 3225465664, U(m, 24 + h), 9), n(g(c, s, y), 643717713, U(m, 44 + h), 14), n(g(c, s, y), 3921069994, U(m, h), 20), n(g(c, s, y), 3593408605, U(m, 20 + h), 5), n(g(c, s, y), 38016083, U(m, 40 + h), 9), n(g(c, s, y), 3634488961, U(m, 60 + h), 14), n(g(c, s, y), 3889429448, U(m, 16 + h), 20), n(g(c, s, y), 568446438, U(m, 36 + h), 5), n(g(c, s, y), 3275163606, U(m, 56 + h), 9), n(g(c, s, y), 4107603335, U(m, 12 + h), 14), n(g(c, s, y), 1163531501, U(m, 32 + h), 20), n(g(c, s, y), 2850285829, U(m, 52 + h), 5), n(g(c, s, y), 4243563512, U(m, 8 + h), 9), n(g(c, s, y), 1735328473, U(m, 28 + h), 14), n(g(c, s, y), 2368359562, U(m, 48 + h), 20), n(v(c, s, y), 4294588738, U(m, 20 + h), 4), n(v(c, s, y), 2272392833, U(m, 32 + h), 11), n(v(c, s, y), 1839030562, U(m, 44 + h), 16), n(v(c, s, y), 4259657740, U(m, 56 + h), 23), n(v(c, s, y), 2763975236, U(m, 4 + h), 4), n(v(c, s, y), 1272893353, U(m, 16 + h), 11), n(v(c, s, y), 4139469664, U(m, 28 + h), 16), n(v(c, s, y), 3200236656, U(m, 40 + h), 23), n(v(c, s, y), 681279174, U(m, 52 + h), 4), n(v(c, s, y), 3936430074, U(m, h), 11), n(v(c, s, y), 3572445317, U(m, 12 + h), 16), n(v(c, s, y), 76029189, U(m, 24 + h), 23), n(v(c, s, y), 3654602809, U(m, 36 + h), 4), n(v(c, s, y), 3873151461, U(m, 48 + h), 11), n(v(c, s, y), 530742520, U(m, 60 + h), 16), n(v(c, s, y), 3299628645, U(m, 8 + h), 23), n(d(c, s, y), 4096336452, U(m, h), 6), n(d(c, s, y), 1126891415, U(m, 28 + h), 10), n(d(c, s, y), 2878612391, U(m, 56 + h), 15), n(d(c, s, y), 4237533241, U(m, 20 + h), 21), n(d(c, s, y), 1700485571, U(m, 48 + h), 6), n(d(c, s, y), 2399980690, U(m, 12 + h), 10), n(d(c, s, y), 4293915773, U(m, 40 + h), 15), n(d(c, s, y), 2240044497, U(m, 4 + h), 21), n(d(c, s, y), 1873313359, U(m, 32 + h), 6), n(d(c, s, y), 4264355552, U(m, 60 + h), 10), n(d(c, s, y), 2734768916, U(m, 24 + h), 15), n(d(c, s, y), 1309151649, U(m, 52 + h), 21), n(d(c, s, y), 4149444226, U(m, 16 + h), 6), n(d(c, s, y), 3174756917, U(m, 44 + h), 10), n(d(c, s, y), 718787259, U(m, 8 + h), 15), n(d(c, s, y), 3951481745, U(m, 36 + h), 21), o = w(o, i), a = w(a, c), f = w(f, s), u = w(u, y);
    }

    return function p(n, r, t, e) {
      for (var o, a = "", f = 0, u = 0, i = 3; 0 <= i; i--) {
        f = 255 & (u = arguments[i]), f <<= 8, f |= 255 & (u >>>= 8), f <<= 8, f |= 255 & (u >>>= 8), f <<= 8, a += (o = ((f |= u >>>= 8) >>> 0).toString(16), "00000000".substr(0, 8 - o.length) + o);
      }

      return a;
    }(u, f, a, o).toUpperCase();
  }();
};

window.md5 = MD5;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXDNyZFxcdHBmc2RrXFwzcmRcXG1kNS5qcyJdLCJuYW1lcyI6WyJNRDUiLCJuIiwiQSIsInIiLCJ0IiwiZyIsInYiLCJkIiwiVSIsImUiLCJsZW5ndGgiLCJjaGFyQ29kZUF0IiwicHVzaCIsImVuY29kZVVSSUNvbXBvbmVudCIsImNoYXJBdCIsInN1YnN0ciIsInNwbGl0IiwibyIsInBhcnNlSW50IiwiQXJyYXkiLCJtIiwidyIsImNvbnN0cnVjdG9yIiwiY29uY2F0IiwiQXJyYXlCdWZmZXIiLCJVaW50OEFycmF5IiwiSW50OEFycmF5IiwiVWludDMyQXJyYXkiLCJJbnQzMkFycmF5IiwiVWludDE2QXJyYXkiLCJJbnQxNkFycmF5IiwiRmxvYXQzMkFycmF5IiwiRmxvYXQ2NEFycmF5IiwiYnVmZmVyIiwiYWxlcnQiLCJJIiwieSIsInMiLCJjIiwiYSIsImkiLCJsIiwiZiIsInUiLCJoIiwicCIsImFyZ3VtZW50cyIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJ3aW5kb3ciLCJtZDUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsR0FBRyxHQUFDLFNBQUpBLEdBQUksQ0FBU0MsQ0FBVCxFQUFXO0FBQUMsV0FBU0MsQ0FBVCxDQUFXRCxDQUFYLEVBQWFFLENBQWIsRUFBZUMsQ0FBZixFQUFpQjtBQUFDLFdBQU9ILENBQUMsR0FBQ0UsQ0FBRixHQUFJLENBQUNGLENBQUQsR0FBR0csQ0FBZDtBQUFnQjs7QUFBQSxXQUFTQyxDQUFULENBQVdKLENBQVgsRUFBYUUsQ0FBYixFQUFlQyxDQUFmLEVBQWlCO0FBQUMsV0FBT0EsQ0FBQyxHQUFDSCxDQUFGLEdBQUksQ0FBQ0csQ0FBRCxHQUFHRCxDQUFkO0FBQWdCOztBQUFBLFdBQVNHLENBQVQsQ0FBV0wsQ0FBWCxFQUFhRSxDQUFiLEVBQWVDLENBQWYsRUFBaUI7QUFBQyxXQUFPSCxDQUFDLEdBQUNFLENBQUYsR0FBSUMsQ0FBWDtBQUFhOztBQUFBLFdBQVNHLENBQVQsQ0FBV04sQ0FBWCxFQUFhRSxDQUFiLEVBQWVDLENBQWYsRUFBaUI7QUFBQyxXQUFPRCxDQUFDLElBQUVGLENBQUMsR0FBQyxDQUFDRyxDQUFMLENBQVI7QUFBZ0I7O0FBQUEsV0FBU0ksQ0FBVCxDQUFXUCxDQUFYLEVBQWFFLENBQWIsRUFBZTtBQUFDLFdBQU9GLENBQUMsQ0FBQ0UsQ0FBQyxHQUFDLENBQUgsQ0FBRCxJQUFRLEVBQVIsR0FBV0YsQ0FBQyxDQUFDRSxDQUFDLEdBQUMsQ0FBSCxDQUFELElBQVEsRUFBbkIsR0FBc0JGLENBQUMsQ0FBQ0UsQ0FBQyxHQUFDLENBQUgsQ0FBRCxJQUFRLENBQTlCLEdBQWdDRixDQUFDLENBQUNFLENBQUQsQ0FBeEM7QUFBNEM7O0FBQUEsV0FBU00sQ0FBVCxDQUFXUixDQUFYLEVBQWE7QUFBQyxTQUFJLElBQUlFLENBQUMsR0FBQyxFQUFOLEVBQVNDLENBQUMsR0FBQyxDQUFmLEVBQWlCQSxDQUFDLEdBQUNILENBQUMsQ0FBQ1MsTUFBckIsRUFBNEJOLENBQUMsRUFBN0I7QUFBZ0MsVUFBR0gsQ0FBQyxDQUFDVSxVQUFGLENBQWFQLENBQWIsS0FBaUIsR0FBcEIsRUFBd0JELENBQUMsQ0FBQ1MsSUFBRixDQUFPWCxDQUFDLENBQUNVLFVBQUYsQ0FBYVAsQ0FBYixDQUFQLEVBQXhCLEtBQXFELEtBQUksSUFBSUssQ0FBQyxHQUFDSSxrQkFBa0IsQ0FBQ1osQ0FBQyxDQUFDYSxNQUFGLENBQVNWLENBQVQsQ0FBRCxDQUFsQixDQUFnQ1csTUFBaEMsQ0FBdUMsQ0FBdkMsRUFBMENDLEtBQTFDLENBQWdELEdBQWhELENBQU4sRUFBMkRDLENBQUMsR0FBQyxDQUFqRSxFQUFtRUEsQ0FBQyxHQUFDUixDQUFDLENBQUNDLE1BQXZFLEVBQThFTyxDQUFDLEVBQS9FO0FBQWtGZCxRQUFBQSxDQUFDLENBQUNTLElBQUYsQ0FBT00sUUFBUSxDQUFDVCxDQUFDLENBQUNRLENBQUQsQ0FBRixFQUFNLEVBQU4sQ0FBZjtBQUFsRjtBQUFyRjs7QUFBaU0sV0FBT2QsQ0FBUDtBQUFTOztBQUFBLFdBQVNBLENBQVQsQ0FBV0YsQ0FBWCxFQUFhO0FBQUMsU0FBSSxJQUFJRSxDQUFDLEdBQUMsSUFBSWdCLEtBQUosQ0FBVWxCLENBQUMsQ0FBQ1MsTUFBWixDQUFOLEVBQTBCTixDQUFDLEdBQUMsQ0FBaEMsRUFBa0NBLENBQUMsR0FBQ0gsQ0FBQyxDQUFDUyxNQUF0QyxFQUE2Q04sQ0FBQyxFQUE5QztBQUFpREQsTUFBQUEsQ0FBQyxDQUFDQyxDQUFELENBQUQsR0FBS0gsQ0FBQyxDQUFDRyxDQUFELENBQU47QUFBakQ7O0FBQTJELFdBQU9ELENBQVA7QUFBUzs7QUFBQSxNQUFJaUIsQ0FBQyxHQUFDLElBQU47QUFBQSxNQUFXaEIsQ0FBQyxHQUFDLElBQWI7O0FBQWtCLFdBQVNpQixDQUFULENBQVdwQixDQUFYLEVBQWFFLENBQWIsRUFBZTtBQUFDLFdBQU8sYUFBV0YsQ0FBQyxHQUFDRSxDQUFwQjtBQUFzQjs7QUFBQSxTQUFNLFlBQVUsT0FBT0YsQ0FBakIsR0FBbUJtQixDQUFDLEdBQUNYLENBQUMsQ0FBQ1IsQ0FBRCxDQUF0QixHQUEwQkEsQ0FBQyxDQUFDcUIsV0FBRixJQUFlSCxLQUFmLEdBQXFCLE1BQUlsQixDQUFDLENBQUNTLE1BQU4sR0FBYVUsQ0FBQyxHQUFDbkIsQ0FBZixHQUFpQixZQUFVLE9BQU9BLENBQUMsQ0FBQyxDQUFELENBQWxCLEdBQXNCbUIsQ0FBQyxHQUFDLFNBQVNILENBQVQsQ0FBV2hCLENBQVgsRUFBYTtBQUFDLFNBQUksSUFBSUUsQ0FBQyxHQUFDLEVBQU4sRUFBU0MsQ0FBQyxHQUFDLENBQWYsRUFBaUJBLENBQUMsR0FBQ0gsQ0FBQyxDQUFDUyxNQUFyQixFQUE0Qk4sQ0FBQyxFQUE3QjtBQUFnQ0QsTUFBQUEsQ0FBQyxHQUFDQSxDQUFDLENBQUNvQixNQUFGLENBQVNkLENBQUMsQ0FBQ1IsQ0FBQyxDQUFDRyxDQUFELENBQUYsQ0FBVixDQUFGO0FBQWhDOztBQUFvRCxXQUFPRCxDQUFQO0FBQVMsR0FBM0UsQ0FBNEVGLENBQTVFLENBQXhCLEdBQXVHLFlBQVUsT0FBT0EsQ0FBQyxDQUFDLENBQUQsQ0FBbEIsR0FBc0JtQixDQUFDLEdBQUNuQixDQUF4QixHQUEwQkcsQ0FBQyxHQUFDLE9BQU9ILENBQUMsQ0FBQyxDQUFELENBQWpMLEdBQXFMLGVBQWEsT0FBT3VCLFdBQXBCLEdBQWdDdkIsQ0FBQyxZQUFZdUIsV0FBYixHQUF5QkosQ0FBQyxHQUFDakIsQ0FBQyxDQUFDLElBQUlzQixVQUFKLENBQWV4QixDQUFmLENBQUQsQ0FBNUIsR0FBZ0RBLENBQUMsWUFBWXdCLFVBQWIsSUFBeUJ4QixDQUFDLFlBQVl5QixTQUF0QyxHQUFnRE4sQ0FBQyxHQUFDakIsQ0FBQyxDQUFDRixDQUFELENBQW5ELEdBQXVEQSxDQUFDLFlBQVkwQixXQUFiLElBQTBCMUIsQ0FBQyxZQUFZMkIsVUFBdkMsSUFBbUQzQixDQUFDLFlBQVk0QixXQUFoRSxJQUE2RTVCLENBQUMsWUFBWTZCLFVBQTFGLElBQXNHN0IsQ0FBQyxZQUFZOEIsWUFBbkgsSUFBaUk5QixDQUFDLFlBQVkrQixZQUE5SSxHQUEySlosQ0FBQyxHQUFDakIsQ0FBQyxDQUFDLElBQUlzQixVQUFKLENBQWV4QixDQUFDLENBQUNnQyxNQUFqQixDQUFELENBQTlKLEdBQXlMN0IsQ0FBQyxHQUFDLE9BQU9ILENBQXpVLEdBQTJVRyxDQUFDLEdBQUMsT0FBT0gsQ0FBbmlCLEVBQXFpQkcsQ0FBQyxJQUFFOEIsS0FBSyxDQUFDLHVDQUFxQzlCLENBQXRDLENBQTdpQixFQUFzbEIsU0FBUytCLENBQVQsR0FBWTtBQUFDLGFBQVNsQyxDQUFULENBQVdBLENBQVgsRUFBYUUsQ0FBYixFQUFlQyxDQUFmLEVBQWlCSyxDQUFqQixFQUFtQjtBQUFDLFVBQUlRLENBQUMsR0FBQ21CLENBQU47QUFBUUEsTUFBQUEsQ0FBQyxHQUFDQyxDQUFGLEVBQUlDLENBQUMsR0FBQ2pCLENBQUMsQ0FBQ2dCLENBQUMsR0FBQ0MsQ0FBSCxFQUFLLFNBQVNDLENBQVQsQ0FBV3RDLENBQVgsRUFBYUUsQ0FBYixFQUFlO0FBQUMsZUFBT0YsQ0FBQyxJQUFFRSxDQUFILEdBQUssVUFBTCxHQUFnQkYsQ0FBQyxLQUFHLEtBQUdFLENBQTlCO0FBQWdDLE9BQWhELENBQWlEa0IsQ0FBQyxDQUFDbUIsQ0FBRCxFQUFHbkIsQ0FBQyxDQUFDcEIsQ0FBRCxFQUFHb0IsQ0FBQyxDQUFDbEIsQ0FBRCxFQUFHQyxDQUFILENBQUosQ0FBSixDQUFsRCxFQUFrRUssQ0FBbEUsQ0FBTCxDQUFQLEVBQWtGK0IsQ0FBQyxHQUFDdkIsQ0FBcEY7QUFBc0Y7O0FBQUEsUUFBSWQsQ0FBQyxHQUFDaUIsQ0FBQyxDQUFDVixNQUFSO0FBQWVVLElBQUFBLENBQUMsQ0FBQ1IsSUFBRixDQUFPLEdBQVA7QUFBWSxRQUFJUixDQUFDLEdBQUNnQixDQUFDLENBQUNWLE1BQUYsR0FBUyxFQUFmOztBQUFrQixRQUFHLEtBQUdOLENBQU4sRUFBUTtBQUFDLFdBQUksSUFBSUssQ0FBQyxHQUFDLENBQVYsRUFBWUEsQ0FBQyxHQUFDLEtBQUdMLENBQWpCLEVBQW1CSyxDQUFDLEVBQXBCO0FBQXVCVyxRQUFBQSxDQUFDLENBQUNSLElBQUYsQ0FBTyxDQUFQO0FBQXZCOztBQUFpQ1IsTUFBQUEsQ0FBQyxHQUFDZ0IsQ0FBQyxDQUFDVixNQUFGLEdBQVMsRUFBWDtBQUFjOztBQUFBLFNBQUlELENBQUMsR0FBQyxDQUFOLEVBQVFBLENBQUMsR0FBQyxLQUFHTCxDQUFiLEVBQWVLLENBQUMsRUFBaEI7QUFBbUJXLE1BQUFBLENBQUMsQ0FBQ1IsSUFBRixDQUFPLENBQVA7QUFBbkI7O0FBQTZCUSxJQUFBQSxDQUFDLEdBQUNBLENBQUMsQ0FBQ0csTUFBRixDQUFTLFNBQVNrQixDQUFULENBQVd4QyxDQUFYLEVBQWE7QUFBQyxXQUFJLElBQUlFLENBQUMsR0FBQyxFQUFOLEVBQVNDLENBQUMsR0FBQyxDQUFmLEVBQWlCQSxDQUFDLEdBQUMsQ0FBbkIsRUFBcUJBLENBQUMsRUFBdEI7QUFBeUJELFFBQUFBLENBQUMsQ0FBQ1MsSUFBRixDQUFPLE1BQUlYLENBQVgsR0FBY0EsQ0FBQyxNQUFJLENBQW5CO0FBQXpCOztBQUE4QyxhQUFPRSxDQUFQO0FBQVMsS0FBckUsQ0FBc0UsSUFBRUEsQ0FBeEUsQ0FBVCxDQUFGO0FBQXVGLFFBQUljLENBQUMsR0FBQyxVQUFOO0FBQUEsUUFBaUJzQixDQUFDLEdBQUMsVUFBbkI7QUFBQSxRQUE4QkcsQ0FBQyxHQUFDLFVBQWhDO0FBQUEsUUFBMkNDLENBQUMsR0FBQyxTQUE3QztBQUFBLFFBQXVESCxDQUFDLEdBQUMsQ0FBekQ7QUFBQSxRQUEyREYsQ0FBQyxHQUFDLENBQTdEO0FBQUEsUUFBK0RELENBQUMsR0FBQyxDQUFqRTtBQUFBLFFBQW1FRCxDQUFDLEdBQUMsQ0FBckU7O0FBQXVFLFNBQUkzQixDQUFDLEdBQUMsQ0FBTixFQUFRQSxDQUFDLEdBQUNXLENBQUMsQ0FBQ1YsTUFBRixHQUFTLEVBQW5CLEVBQXNCRCxDQUFDLEVBQXZCLEVBQTBCO0FBQUMrQixNQUFBQSxDQUFDLEdBQUN2QixDQUFGO0FBQUksVUFBSTJCLENBQUMsR0FBQyxLQUFHbkMsQ0FBVDtBQUFXUixNQUFBQSxDQUFDLENBQUNDLENBQUMsQ0FBQ29DLENBQUMsR0FBQ0MsQ0FBSCxFQUFLRixDQUFDLEdBQUNLLENBQVAsRUFBU04sQ0FBQyxHQUFDTyxDQUFYLENBQUYsRUFBZ0IsVUFBaEIsRUFBMkJuQyxDQUFDLENBQUNZLENBQUQsRUFBR3dCLENBQUgsQ0FBNUIsRUFBa0MsQ0FBbEMsQ0FBRCxFQUFzQzNDLENBQUMsQ0FBQ0MsQ0FBQyxDQUFDb0MsQ0FBRCxFQUFHRCxDQUFILEVBQUtELENBQUwsQ0FBRixFQUFVLFVBQVYsRUFBcUI1QixDQUFDLENBQUNZLENBQUQsRUFBRyxJQUFFd0IsQ0FBTCxDQUF0QixFQUE4QixFQUE5QixDQUF2QyxFQUF5RTNDLENBQUMsQ0FBQ0MsQ0FBQyxDQUFDb0MsQ0FBRCxFQUFHRCxDQUFILEVBQUtELENBQUwsQ0FBRixFQUFVLFNBQVYsRUFBb0I1QixDQUFDLENBQUNZLENBQUQsRUFBRyxJQUFFd0IsQ0FBTCxDQUFyQixFQUE2QixFQUE3QixDQUExRSxFQUEyRzNDLENBQUMsQ0FBQ0MsQ0FBQyxDQUFDb0MsQ0FBRCxFQUFHRCxDQUFILEVBQUtELENBQUwsQ0FBRixFQUFVLFVBQVYsRUFBcUI1QixDQUFDLENBQUNZLENBQUQsRUFBRyxLQUFHd0IsQ0FBTixDQUF0QixFQUErQixFQUEvQixDQUE1RyxFQUErSTNDLENBQUMsQ0FBQ0MsQ0FBQyxDQUFDb0MsQ0FBRCxFQUFHRCxDQUFILEVBQUtELENBQUwsQ0FBRixFQUFVLFVBQVYsRUFBcUI1QixDQUFDLENBQUNZLENBQUQsRUFBRyxLQUFHd0IsQ0FBTixDQUF0QixFQUErQixDQUEvQixDQUFoSixFQUFrTDNDLENBQUMsQ0FBQ0MsQ0FBQyxDQUFDb0MsQ0FBRCxFQUFHRCxDQUFILEVBQUtELENBQUwsQ0FBRixFQUFVLFVBQVYsRUFBcUI1QixDQUFDLENBQUNZLENBQUQsRUFBRyxLQUFHd0IsQ0FBTixDQUF0QixFQUErQixFQUEvQixDQUFuTCxFQUFzTjNDLENBQUMsQ0FBQ0MsQ0FBQyxDQUFDb0MsQ0FBRCxFQUFHRCxDQUFILEVBQUtELENBQUwsQ0FBRixFQUFVLFVBQVYsRUFBcUI1QixDQUFDLENBQUNZLENBQUQsRUFBRyxLQUFHd0IsQ0FBTixDQUF0QixFQUErQixFQUEvQixDQUF2TixFQUEwUDNDLENBQUMsQ0FBQ0MsQ0FBQyxDQUFDb0MsQ0FBRCxFQUFHRCxDQUFILEVBQUtELENBQUwsQ0FBRixFQUFVLFVBQVYsRUFBcUI1QixDQUFDLENBQUNZLENBQUQsRUFBRyxLQUFHd0IsQ0FBTixDQUF0QixFQUErQixFQUEvQixDQUEzUCxFQUE4UjNDLENBQUMsQ0FBQ0MsQ0FBQyxDQUFDb0MsQ0FBRCxFQUFHRCxDQUFILEVBQUtELENBQUwsQ0FBRixFQUFVLFVBQVYsRUFBcUI1QixDQUFDLENBQUNZLENBQUQsRUFBRyxLQUFHd0IsQ0FBTixDQUF0QixFQUErQixDQUEvQixDQUEvUixFQUFpVTNDLENBQUMsQ0FBQ0MsQ0FBQyxDQUFDb0MsQ0FBRCxFQUFHRCxDQUFILEVBQUtELENB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QUFDRyxTQUFTLENBQUNOLENBQUQsQ0FBaEIsQ0FBRixFQUF1QkUsQ0FBQyxLQUFHLENBQTNCLEVBQTZCQSxDQUFDLElBQUUsT0FBS0MsQ0FBQyxNQUFJLENBQVYsQ0FBaEMsRUFBNkNELENBQUMsS0FBRyxDQUFqRCxFQUFtREEsQ0FBQyxJQUFFLE9BQUtDLENBQUMsTUFBSSxDQUFWLENBQXRELEVBQW1FRCxDQUFDLEtBQUcsQ0FBdkUsRUFBeUVILENBQUMsS0FBR3RCLENBQUMsR0FBQyxDQUFDLENBQUN5QixDQUFDLElBQUVDLENBQUMsTUFBSSxDQUFULE1BQWMsQ0FBZixFQUFrQkksUUFBbEIsQ0FBMkIsRUFBM0IsQ0FBRixFQUFpQyxXQUFXaEMsTUFBWCxDQUFrQixDQUFsQixFQUFvQixJQUFFRSxDQUFDLENBQUNQLE1BQXhCLElBQWdDTyxDQUFwRSxDQUExRTtBQUFwQzs7QUFBcUwsYUFBT3NCLENBQVA7QUFBUyxLQUFsTixDQUFtTkksQ0FBbk4sRUFBcU5ELENBQXJOLEVBQXVOSCxDQUF2TixFQUF5TnRCLENBQXpOLEVBQTROK0IsV0FBNU4sRUFBUDtBQUFpUCxHQUFsN0YsRUFBNWxCO0FBQWloSCxDQUF4a0k7O0FBQXlrSUMsTUFBTSxDQUFDQyxHQUFQLEdBQVdsRCxHQUFYIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTUQ1PWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIEEobixyLHQpe3JldHVybiBuJnJ8fm4mdH1mdW5jdGlvbiBnKG4scix0KXtyZXR1cm4gdCZufH50JnJ9ZnVuY3Rpb24gdihuLHIsdCl7cmV0dXJuIG5ecl50fWZ1bmN0aW9uIGQobixyLHQpe3JldHVybiByXihufH50KX1mdW5jdGlvbiBVKG4scil7cmV0dXJuIG5bciszXTw8MjR8bltyKzJdPDwxNnxuW3IrMV08PDh8bltyXX1mdW5jdGlvbiBlKG4pe2Zvcih2YXIgcj1bXSx0PTA7dDxuLmxlbmd0aDt0KyspaWYobi5jaGFyQ29kZUF0KHQpPD0xMjcpci5wdXNoKG4uY2hhckNvZGVBdCh0KSk7ZWxzZSBmb3IodmFyIGU9ZW5jb2RlVVJJQ29tcG9uZW50KG4uY2hhckF0KHQpKS5zdWJzdHIoMSkuc3BsaXQoXCIlXCIpLG89MDtvPGUubGVuZ3RoO28rKylyLnB1c2gocGFyc2VJbnQoZVtvXSwxNikpO3JldHVybiByfWZ1bmN0aW9uIHIobil7Zm9yKHZhciByPW5ldyBBcnJheShuLmxlbmd0aCksdD0wO3Q8bi5sZW5ndGg7dCsrKXJbdF09blt0XTtyZXR1cm4gcn12YXIgbT1udWxsLHQ9bnVsbDtmdW5jdGlvbiB3KG4scil7cmV0dXJuIDQyOTQ5NjcyOTUmbityfXJldHVyblwic3RyaW5nXCI9PXR5cGVvZiBuP209ZShuKTpuLmNvbnN0cnVjdG9yPT1BcnJheT8wPT09bi5sZW5ndGg/bT1uOlwic3RyaW5nXCI9PXR5cGVvZiBuWzBdP209ZnVuY3Rpb24gbyhuKXtmb3IodmFyIHI9W10sdD0wO3Q8bi5sZW5ndGg7dCsrKXI9ci5jb25jYXQoZShuW3RdKSk7cmV0dXJuIHJ9KG4pOlwibnVtYmVyXCI9PXR5cGVvZiBuWzBdP209bjp0PXR5cGVvZiBuWzBdOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlcj9uIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bT1yKG5ldyBVaW50OEFycmF5KG4pKTpuIGluc3RhbmNlb2YgVWludDhBcnJheXx8biBpbnN0YW5jZW9mIEludDhBcnJheT9tPXIobik6biBpbnN0YW5jZW9mIFVpbnQzMkFycmF5fHxuIGluc3RhbmNlb2YgSW50MzJBcnJheXx8biBpbnN0YW5jZW9mIFVpbnQxNkFycmF5fHxuIGluc3RhbmNlb2YgSW50MTZBcnJheXx8biBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8biBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheT9tPXIobmV3IFVpbnQ4QXJyYXkobi5idWZmZXIpKTp0PXR5cGVvZiBuOnQ9dHlwZW9mIG4sdCYmYWxlcnQoXCJNRDUgdHlwZSBtaXNtYXRjaCwgY2Fubm90IHByb2Nlc3MgXCIrdCksZnVuY3Rpb24gSSgpe2Z1bmN0aW9uIG4obixyLHQsZSl7dmFyIG89eTt5PXMsYz13KHM9YyxmdW5jdGlvbiBhKG4scil7cmV0dXJuIG48PHImNDI5NDk2NzI5NXxuPj4+MzItcn0odyhpLHcobix3KHIsdCkpKSxlKSksaT1vfXZhciByPW0ubGVuZ3RoO20ucHVzaCgxMjgpO3ZhciB0PW0ubGVuZ3RoJTY0O2lmKDU2PHQpe2Zvcih2YXIgZT0wO2U8NjQtdDtlKyspbS5wdXNoKDApO3Q9bS5sZW5ndGglNjR9Zm9yKGU9MDtlPDU2LXQ7ZSsrKW0ucHVzaCgwKTttPW0uY29uY2F0KGZ1bmN0aW9uIGwobil7Zm9yKHZhciByPVtdLHQ9MDt0PDg7dCsrKXIucHVzaCgyNTUmbiksbj4+Pj04O3JldHVybiByfSg4KnIpKTt2YXIgbz0xNzMyNTg0MTkzLGE9NDAyMzIzMzQxNyxmPTI1NjIzODMxMDIsdT0yNzE3MzM4NzgsaT0wLGM9MCxzPTAseT0wO2ZvcihlPTA7ZTxtLmxlbmd0aC82NDtlKyspe2k9bzt2YXIgaD02NCplO24oQShjPWEscz1mLHk9dSksMzYxNDA5MDM2MCxVKG0saCksNyksbihBKGMscyx5KSwzOTA1NDAyNzEwLFUobSw0K2gpLDEyKSxuKEEoYyxzLHkpLDYwNjEwNTgxOSxVKG0sOCtoKSwxNyksbihBKGMscyx5KSwzMjUwNDQxOTY2LFUobSwxMitoKSwyMiksbihBKGMscyx5KSw0MTE4NTQ4Mzk5LFUobSwxNitoKSw3KSxuKEEoYyxzLHkpLDEyMDAwODA0MjYsVShtLDIwK2gpLDEyKSxuKEEoYyxzLHkpLDI4MjE3MzU5NTUsVShtLDI0K2gpLDE3KSxuKEEoYyxzLHkpLDQyNDkyNjEzMTMsVShtLDI4K2gpLDIyKSxuKEEoYyxzLHkpLDE3NzAwMzU0MTYsVShtLDMyK2gpLDcpLG4oQShjLHMseSksMjMzNjU1Mjg3OSxVKG0sMzYraCksMTIpLG4oQShjLHMseSksNDI5NDkyNTIzMyxVKG0sNDAraCksMTcpLG4oQShjLHMseSksMjMwNDU2MzEzNCxVKG0sNDQraCksMjIpLG4oQShjLHMseSksMTgwNDYwMzY4MixVKG0sNDgraCksNyksbihBKGMscyx5KSw0MjU0NjI2MTk1LFUobSw1MitoKSwxMiksbihBKGMscyx5KSwyNzkyOTY1MDA2LFUobSw1NitoKSwxNyksbihBKGMscyx5KSwxMjM2NTM1MzI5LFUobSw2MCtoKSwyMiksbihnKGMscyx5KSw0MTI5MTcwNzg2LFUobSw0K2gpLDUpLG4oZyhjLHMseSksMzIyNTQ2NTY2NCxVKG0sMjQraCksOSksbihnKGMscyx5KSw2NDM3MTc3MTMsVShtLDQ0K2gpLDE0KSxuKGcoYyxzLHkpLDM5MjEwNjk5OTQsVShtLGgpLDIwKSxuKGcoYyxzLHkpLDM1OTM0MDg2MDUsVShtLDIwK2gpLDUpLG4oZyhjLHMseSksMzgwMTYwODMsVShtLDQwK2gpLDkpLG4oZyhjLHMseSksMzYzNDQ4ODk2MSxVKG0sNjAraCksMTQpLG4oZyhjLHMseSksMzg4OTQyOTQ0OCxVKG0sMTYraCksMjApLG4oZyhjLHMseSksNTY4NDQ2NDM4LFUobSwzNitoKSw1KSxuKGcoYyxzLHkpLDMyNzUxNjM2MDYsVShtLDU2K2gpLDkpLG4oZyhjLHMseSksNDEwNzYwMzMzNSxVKG0sMTIraCksMTQpLG4oZyhjLHMseSksMTE2MzUzMTUwMSxVKG0sMzIraCksMjApLG4oZyhjLHMseSksMjg1MDI4NTgyOSxVKG0sNTIraCksNSksbihnKGMscyx5KSw0MjQzNTYzNTEyLFUobSw4K2gpLDkpLG4oZyhjLHMseSksMTczNTMyODQ3MyxVKG0sMjgraCksMTQpLG4oZyhjLHMseSksMjM2ODM1OTU2MixVKG0sNDgraCksMjApLG4odihjLHMseSksNDI5NDU4ODczOCxVKG0sMjAraCksNCksbih2KGMscyx5KSwyMjcyMzkyODMzLFUobSwzMitoKSwxMSksbih2KGMscyx5KSwxODM5MDMwNTYyLFUobSw0NCtoKSwxNiksbih2KGMscyx5KSw0MjU5NjU3NzQwLFUobSw1NitoKSwyMyksbih2KGMscyx5KSwyNzYzOTc1MjM2LFUobSw0K2gpLDQpLG4odihjLHMseSksMTI3Mjg5MzM1MyxVKG0sMTYraCksMTEpLG4odihjLHMseSksNDEzOTQ2OTY2NCxVKG0sMjgraCksMTYpLG4odihjLHMseSksMzIwMDIzNjY1NixVKG0sNDAraCksMjMpLG4odihjLHMseSksNjgxMjc5MTc0LFUobSw1MitoKSw0KSxuKHYoYyxzLHkpLDM5MzY0MzAwNzQsVShtLGgpLDExKSxuKHYoYyxzLHkpLDM1NzI0NDUzMTcsVShtLDEyK2gpLDE2KSxuKHYoYyxzLHkpLDc2MDI5MTg5LFUobSwyNCtoKSwyMyksbih2KGMscyx5KSwzNjU0NjAyODA5LFUobSwzNitoKSw0KSxuKHYoYyxzLHkpLDM4NzMxNTE0NjEsVShtLDQ4K2gpLDExKSxuKHYoYyxzLHkpLDUzMDc0MjUyMCxVKG0sNjAraCksMTYpLG4odihjLHMseSksMzI5OTYyODY0NSxVKG0sOCtoKSwyMyksbihkKGMscyx5KSw0MDk2MzM2NDUyLFUobSxoKSw2KSxuKGQoYyxzLHkpLDExMjY4OTE0MTUsVShtLDI4K2gpLDEwKSxuKGQoYyxzLHkpLDI4Nzg2MTIzOTEsVShtLDU2K2gpLDE1KSxuKGQoYyxzLHkpLDQyMzc1MzMyNDEsVShtLDIwK2gpLDIxKSxuKGQoYyxzLHkpLDE3MDA0ODU1NzEsVShtLDQ4K2gpLDYpLG4oZChjLHMseSksMjM5OTk4MDY5MCxVKG0sMTIraCksMTApLG4oZChjLHMseSksNDI5MzkxNTc3MyxVKG0sNDAraCksMTUpLG4oZChjLHMseSksMjI0MDA0NDQ5NyxVKG0sNCtoKSwyMSksbihkKGMscyx5KSwxODczMzEzMzU5LFUobSwzMitoKSw2KSxuKGQoYyxzLHkpLDQyNjQzNTU1NTIsVShtLDYwK2gpLDEwKSxuKGQoYyxzLHkpLDI3MzQ3Njg5MTYsVShtLDI0K2gpLDE1KSxuKGQoYyxzLHkpLDEzMDkxNTE2NDksVShtLDUyK2gpLDIxKSxuKGQoYyxzLHkpLDQxNDk0NDQyMjYsVShtLDE2K2gpLDYpLG4oZChjLHMseSksMzE3NDc1NjkxNyxVKG0sNDQraCksMTApLG4oZChjLHMseSksNzE4Nzg3MjU5LFUobSw4K2gpLDE1KSxuKGQoYyxzLHkpLDM5NTE0ODE3NDUsVShtLDM2K2gpLDIxKSxvPXcobyxpKSxhPXcoYSxjKSxmPXcoZixzKSx1PXcodSx5KX1yZXR1cm4gZnVuY3Rpb24gcChuLHIsdCxlKXtmb3IodmFyIG8sYT1cIlwiLGY9MCx1PTAsaT0zOzA8PWk7aS0tKWY9MjU1Jih1PWFyZ3VtZW50c1tpXSksZjw8PTgsZnw9MjU1Jih1Pj4+PTgpLGY8PD04LGZ8PTI1NSYodT4+Pj04KSxmPDw9OCxhKz0obz0oKGZ8PXU+Pj49OCk+Pj4wKS50b1N0cmluZygxNiksXCIwMDAwMDAwMFwiLnN1YnN0cigwLDgtby5sZW5ndGgpK28pO3JldHVybiBhfSh1LGYsYSxvKS50b1VwcGVyQ2FzZSgpfSgpfTt3aW5kb3cubWQ1PU1ENTsiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/3rd/tpfsdk/communication/httputils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c606dYj5MlEIIf1EFZ8BrCH', 'httputils');
// syyx_sdk/3rd/tpfsdk/communication/httputils.js

"use strict";

var HttpUtils = {
  http_request_wx: function http_request_wx(t, e, s, o, a, l, n) {
    wx.request({
      url: e,
      method: t,
      data: o,
      header: s,
      success: function success(t) {
        console.log(" console.log(res.header);"), console.log(t.s), console.log(t.data), n ? l.call(n, t.statusCode, t.data) : l(t.statusCode, t.data);
      },
      fail: function fail(t) {
        console.log("http_request_wx fail", t), t && t.statusCode && 304 === t.statusCode ? n ? l.call(n, t.statusCode, t.data) : l(t.statusCode, t.data) : n ? l.call(n, -1, null) : l(-1, null);
      }
    });
  },
  http_request_qq_new: function http_request_qq_new(t, e, s, o, a, l, n) {
    qq.request({
      url: e,
      method: t,
      data: o,
      header: s,
      success: function success(t) {
        console.log(" console.log(res.header);"), console.log(t.s), console.log(t.data), n ? l.call(n, t.statusCode, t.data) : l(t.statusCode, t.data);
      },
      fail: function fail(t) {
        console.log("http_request_qq fail", t), t && t.statusCode && 304 === t.statusCode ? n ? l.call(n, t.statusCode, t.data) : l(t.statusCode, t.data) : n ? l.call(n, -1, null) : l(-1, null);
      }
    });
  },
  http_request_qq: function http_request_qq(t, e, s, o, a, l, n) {
    console.log("http_request_qq:", t, e, s, o), BK.Http.request({
      url: e,
      method: t,
      headers: s,
      body: o,
      success: function success(t) {
        console.log("statusCode", JSON.stringify(t), t.statusCode), n ? l.call(n, t.statusCode, t.jsonObject()) : l(t.statusCode, t.jsonObject());
      },
      fail: function fail(t) {
        console.log("http_request_qq fail", t.msg), res && res.statusCode && 304 === res.statusCode ? n ? l.call(n, res.statusCode, res.data) : l(res.statusCode, res.data) : n ? l.call(n, -1, null) : l(-1, null);
      },
      complete: function complete() {
        console.log("http_request_qq complete");
      },
      uploadProgress: function uploadProgress(t, e) {
        console.log("http_request_qq upload progress", t / e);
      },
      downloadProgress: function downloadProgress(t, e) {
        console.log("http_request_qq download progress", t / e);
      }
    }), console.log("http_request_qq finished:", n);
  },
  http_request: function http_request(t, e, s, o, a, l, n) {
    if (l) {
      var u = new XMLHttpRequest();
      if (u.onreadystatechange = function () {
        var t;
        4 == u.readyState && (a ? 200 == this.status && ((t = new ByteBuffer(u.response.length, !1)).writeBytes(u.response, "binary"), t = t.view) : t = u.responseText, n ? l.call(n, u.status, t) : l(u.status, t));
      }, u.open(t, e, !0), null != s) for (var r in s) {
        u.setRequestHeader(r, s[r]);
      }

      if (null != a && a && (u.responseType = "arraybuffer"), o) {
        var d = o;
        u.send(d);
      } else u.send();
    }
  },
  decode: function decode(t) {
    var e,
        s,
        o,
        a,
        l,
        n,
        u = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
        r = new Array(),
        d = 0;

    for (t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""); d < t.length;) {
      (e = u.indexOf(t.charAt(d++)) << 2 | (a = u.indexOf(t.charAt(d++))) >> 4) > 128 && (e -= 256), (s = (15 & a) << 4 | (l = u.indexOf(t.charAt(d++))) >> 2) > 128 && (s -= 256), (o = (3 & l) << 6 | (n = u.indexOf(t.charAt(d++)))) > 128 && (o -= 256), r.push(e), 64 != l && r.push(s), 64 != n && r.push(o);
    }

    return r;
  }
};
window.HttpUtils = HttpUtils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXDNyZFxcdHBmc2RrXFxjb21tdW5pY2F0aW9uXFxodHRwdXRpbHMuanMiXSwibmFtZXMiOlsiSHR0cFV0aWxzIiwiaHR0cF9yZXF1ZXN0X3d4IiwidCIsImUiLCJzIiwibyIsImEiLCJsIiwibiIsInd4IiwicmVxdWVzdCIsInVybCIsIm1ldGhvZCIsImRhdGEiLCJoZWFkZXIiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsImNhbGwiLCJzdGF0dXNDb2RlIiwiZmFpbCIsImh0dHBfcmVxdWVzdF9xcV9uZXciLCJxcSIsImh0dHBfcmVxdWVzdF9xcSIsIkJLIiwiSHR0cCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImpzb25PYmplY3QiLCJtc2ciLCJyZXMiLCJjb21wbGV0ZSIsInVwbG9hZFByb2dyZXNzIiwiZG93bmxvYWRQcm9ncmVzcyIsImh0dHBfcmVxdWVzdCIsInUiLCJYTUxIdHRwUmVxdWVzdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJCeXRlQnVmZmVyIiwicmVzcG9uc2UiLCJsZW5ndGgiLCJ3cml0ZUJ5dGVzIiwidmlldyIsInJlc3BvbnNlVGV4dCIsIm9wZW4iLCJyIiwic2V0UmVxdWVzdEhlYWRlciIsInJlc3BvbnNlVHlwZSIsImQiLCJzZW5kIiwiZGVjb2RlIiwiQXJyYXkiLCJyZXBsYWNlIiwiaW5kZXhPZiIsImNoYXJBdCIsInB1c2giLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUFhLElBQUlBLFNBQVMsR0FBQztBQUFDQyxFQUFBQSxlQUFlLEVBQUMseUJBQVNDLENBQVQsRUFBV0MsQ0FBWCxFQUFhQyxDQUFiLEVBQWVDLENBQWYsRUFBaUJDLENBQWpCLEVBQW1CQyxDQUFuQixFQUFxQkMsQ0FBckIsRUFBdUI7QUFBQ0MsSUFBQUEsRUFBRSxDQUFDQyxPQUFILENBQVc7QUFBQ0MsTUFBQUEsR0FBRyxF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QUEzQyxJQUE4QyxHQUE5QyxLQUFvRGhELENBQUMsSUFBRSxHQUF2RCxDQUE5RSxFQUEwSSxDQUFDQyxDQUFDLEdBQUMsQ0FBQyxJQUFFRSxDQUFILEtBQU8sQ0FBUCxJQUFVQyxDQUFDLEdBQUM2QixDQUFDLENBQUNvQixPQUFGLENBQVV2RCxDQUFDLENBQUN3RCxNQUFGLENBQVNOLENBQUMsRUFBVixDQUFWLENBQVosQ0FBSCxJQUEwQyxHQUExQyxLQUFnRC9DLENBQUMsSUFBRSxHQUFuRCxDQUExSSxFQUFrTTRDLENBQUMsQ0FBQ1UsSUFBRixDQUFPeEQsQ0FBUCxDQUFsTSxFQUE0TSxNQUFJSSxDQUFKLElBQU8wQyxDQUFDLENBQUNVLElBQUYsQ0FBT3ZELENBQVAsQ0FBbk4sRUFBNk4sTUFBSUksQ0FBSixJQUFPeUMsQ0FBQyxDQUFDVSxJQUFGLENBQU90RCxDQUFQLENBQXBPO0FBQXREOztBQUFvUyxXQUFPNEMsQ0FBUDtBQUFTO0FBQTc0RSxDQUFkO0FBQTY1RVcsTUFBTSxDQUFDNUQsU0FBUCxHQUFpQkEsU0FBakIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO3ZhciBIdHRwVXRpbHM9e2h0dHBfcmVxdWVzdF93eDpmdW5jdGlvbih0LGUscyxvLGEsbCxuKXt3eC5yZXF1ZXN0KHt1cmw6ZSxtZXRob2Q6dCxkYXRhOm8saGVhZGVyOnMsc3VjY2VzczpmdW5jdGlvbih0KXtjb25zb2xlLmxvZyhcIiBjb25zb2xlLmxvZyhyZXMuaGVhZGVyKTtcIiksY29uc29sZS5sb2codC5zKSxjb25zb2xlLmxvZyh0LmRhdGEpLG4/bC5jYWxsKG4sdC5zdGF0dXNDb2RlLHQuZGF0YSk6bCh0LnN0YXR1c0NvZGUsdC5kYXRhKX0sZmFpbDpmdW5jdGlvbih0KXtjb25zb2xlLmxvZyhcImh0dHBfcmVxdWVzdF93eCBmYWlsXCIsdCksdCYmdC5zdGF0dXNDb2RlJiYzMDQ9PT10LnN0YXR1c0NvZGU/bj9sLmNhbGwobix0LnN0YXR1c0NvZGUsdC5kYXRhKTpsKHQuc3RhdHVzQ29kZSx0LmRhdGEpOm4/bC5jYWxsKG4sLTEsbnVsbCk6bCgtMSxudWxsKX19KX0saHR0cF9yZXF1ZXN0X3FxX25ldzpmdW5jdGlvbih0LGUscyxvLGEsbCxuKXtxcS5yZXF1ZXN0KHt1cmw6ZSxtZXRob2Q6dCxkYXRhOm8saGVhZGVyOnMsc3VjY2VzczpmdW5jdGlvbih0KXtjb25zb2xlLmxvZyhcIiBjb25zb2xlLmxvZyhyZXMuaGVhZGVyKTtcIiksY29uc29sZS5sb2codC5zKSxjb25zb2xlLmxvZyh0LmRhdGEpLG4/bC5jYWxsKG4sdC5zdGF0dXNDb2RlLHQuZGF0YSk6bCh0LnN0YXR1c0NvZGUsdC5kYXRhKX0sZmFpbDpmdW5jdGlvbih0KXtjb25zb2xlLmxvZyhcImh0dHBfcmVxdWVzdF9xcSBmYWlsXCIsdCksdCYmdC5zdGF0dXNDb2RlJiYzMDQ9PT10LnN0YXR1c0NvZGU/bj9sLmNhbGwobix0LnN0YXR1c0NvZGUsdC5kYXRhKTpsKHQuc3RhdHVzQ29kZSx0LmRhdGEpOm4/bC5jYWxsKG4sLTEsbnVsbCk6bCgtMSxudWxsKX19KX0saHR0cF9yZXF1ZXN0X3FxOmZ1bmN0aW9uKHQsZSxzLG8sYSxsLG4pe2NvbnNvbGUubG9nKFwiaHR0cF9yZXF1ZXN0X3FxOlwiLHQsZSxzLG8pLEJLLkh0dHAucmVxdWVzdCh7dXJsOmUsbWV0aG9kOnQsaGVhZGVyczpzLGJvZHk6byxzdWNjZXNzOmZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKFwic3RhdHVzQ29kZVwiLEpTT04uc3RyaW5naWZ5KHQpLHQuc3RhdHVzQ29kZSksbj9sLmNhbGwobix0LnN0YXR1c0NvZGUsdC5qc29uT2JqZWN0KCkpOmwodC5zdGF0dXNDb2RlLHQuanNvbk9iamVjdCgpKX0sZmFpbDpmdW5jdGlvbih0KXtjb25zb2xlLmxvZyhcImh0dHBfcmVxdWVzdF9xcSBmYWlsXCIsdC5tc2cpLHJlcyYmcmVzLnN0YXR1c0NvZGUmJjMwND09PXJlcy5zdGF0dXNDb2RlP24/bC5jYWxsKG4scmVzLnN0YXR1c0NvZGUscmVzLmRhdGEpOmwocmVzLnN0YXR1c0NvZGUscmVzLmRhdGEpOm4/bC5jYWxsKG4sLTEsbnVsbCk6bCgtMSxudWxsKX0sY29tcGxldGU6ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcImh0dHBfcmVxdWVzdF9xcSBjb21wbGV0ZVwiKX0sdXBsb2FkUHJvZ3Jlc3M6ZnVuY3Rpb24odCxlKXtjb25zb2xlLmxvZyhcImh0dHBfcmVxdWVzdF9xcSB1cGxvYWQgcHJvZ3Jlc3NcIix0L2UpfSxkb3dubG9hZFByb2dyZXNzOmZ1bmN0aW9uKHQsZSl7Y29uc29sZS5sb2coXCJodHRwX3JlcXVlc3RfcXEgZG93bmxvYWQgcHJvZ3Jlc3NcIix0L2UpfX0pLGNvbnNvbGUubG9nKFwiaHR0cF9yZXF1ZXN0X3FxIGZpbmlzaGVkOlwiLG4pfSxodHRwX3JlcXVlc3Q6ZnVuY3Rpb24odCxlLHMsbyxhLGwsbil7aWYobCl7dmFyIHU9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKHUub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHQ7ND09dS5yZWFkeVN0YXRlJiYoYT8yMDA9PXRoaXMuc3RhdHVzJiYoKHQ9bmV3IEJ5dGVCdWZmZXIodS5yZXNwb25zZS5sZW5ndGgsITEpKS53cml0ZUJ5dGVzKHUucmVzcG9uc2UsXCJiaW5hcnlcIiksdD10LnZpZXcpOnQ9dS5yZXNwb25zZVRleHQsbj9sLmNhbGwobix1LnN0YXR1cyx0KTpsKHUuc3RhdHVzLHQpKX0sdS5vcGVuKHQsZSwhMCksbnVsbCE9cylmb3IodmFyIHIgaW4gcyl1LnNldFJlcXVlc3RIZWFkZXIocixzW3JdKTtpZihudWxsIT1hJiZhJiYodS5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiKSxvKXt2YXIgZD1vO3Uuc2VuZChkKX1lbHNlIHUuc2VuZCgpfX0sZGVjb2RlOmZ1bmN0aW9uKHQpe3ZhciBlLHMsbyxhLGwsbix1PVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixyPW5ldyBBcnJheSxkPTA7Zm9yKHQ9dC5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL1xcPV0vZyxcIlwiKTtkPHQubGVuZ3RoOykoZT11LmluZGV4T2YodC5jaGFyQXQoZCsrKSk8PDJ8KGE9dS5pbmRleE9mKHQuY2hhckF0KGQrKykpKT4+NCk+MTI4JiYoZS09MjU2KSwocz0oMTUmYSk8PDR8KGw9dS5pbmRleE9mKHQuY2hhckF0KGQrKykpKT4+Mik+MTI4JiYocy09MjU2KSwobz0oMyZsKTw8Nnwobj11LmluZGV4T2YodC5jaGFyQXQoZCsrKSkpKT4xMjgmJihvLT0yNTYpLHIucHVzaChlKSw2NCE9bCYmci5wdXNoKHMpLDY0IT1uJiZyLnB1c2gobyk7cmV0dXJuIHJ9fTt3aW5kb3cuSHR0cFV0aWxzPUh0dHBVdGlsczsiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/3rd/tpfsdk/sdk/tpfclientsdk.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0e718fPbY5Mzq9MmbHL2JTx', 'tpfclientsdk');
// syyx_sdk/3rd/tpfsdk/sdk/tpfclientsdk.js

"use strict";

var tpfClientSdkImpl = function tpfClientSdkImpl() {
  function n(t) {
    return t !== undefined && null !== t ? String(t) : t;
  }

  this.appId = 0, this.channelId = 0, this.statAppKey = "", this.configAppSecKey = "", this.account = "", this.stat = null, this._tpfconfig = null, this.version = null, tpfClientSdkImpl.prototype.setEventHandler = function (t, n) {
    this.eventHandler[t] = n;
  }, tpfClientSdkImpl.prototype.init = function (t) {
    return this.stat = new tpfstat({
      appId: n(this.appId),
      appKey: n(this.statAppKey),
      version: n(this.version),
      sversion: n(this.sversion),
      channelId: n(this.channelId),
      eventUrl: n(this.statEventUrl),
      batchEventUrl: n(this.batchStatEventUrl)
    }), this._tpfconfig = new tpfconfig({
      appId: n(this.appId),
      appKey: n(this.configAppSecKey),
      channelId: n(this.channelId),
      configUrl: n(this.configUrl)
    }), 0;
  }, tpfClientSdkImpl.prototype.getClientVersion = function () {
    return this.version;
  }, tpfClientSdkImpl.prototype.uninit = function () {
    this.stat = null, this._tpfconfig = null;
  }, tpfClientSdkImpl.prototype.setEventHandler = function (t, n) {
    this.eventHandler[t] = n;
  }, tpfClientSdkImpl.prototype.getTpfConfig = function () {
    return this._tpfconfig;
  }, tpfClientSdkImpl.prototype.getStat = function () {
    return this.stat;
  };
},
    tpfClientSdkBuilder = function tpfClientSdkBuilder() {
  this.param = {}, tpfClientSdkBuilder.prototype.setParam = function (t, n) {
    return this.param[t] = n, this;
  }, tpfClientSdkBuilder.prototype.build = function () {
    var t = new tpfClientSdkImpl();
    return null == this.param.appId && console.log("appId is null!"), t.appId = this.param.appId, null == this.param.channelId && console.log("channelId is null!"), t.channelId = this.param.channelId, null == this.param.appKey && console.log("appKey is null!"), t.appKey = this.param.appKey, null == this.param.platType && console.error("platType is null"), t.platType = this.param.platType, this.param.version ? t.version = this.param.version : console.log(""), this.param.sversion ? t.sversion = this.param.sversion : console.info("sversion is null"), this.param.statAppKey ? t.statAppKey = this.param.statAppKey : console.log("statAppKey is null"), this.param.statEventUrl ? t.statEventUrl = this.param.statEventUrl : console.log(""), this.param.batchStatEventUrl ? t.batchStatEventUrl = this.param.batchStatEventUrl : console.log("batchStatEventUrl is null"), this.param.subChannelId ? t.subChannelId = this.param.subChannelId : t.subChannelId = "", this.param.configAppSecKey ? t.configAppSecKey = this.param.configAppSecKey : (console.log("configAppSecKey is null"), t.configAppSecKey = "0164619900d242b59e59f474e0294e4e"), this.param.configUrl ? t.configUrl = this.param.configUrl : (console.log(""), t.configUrl = ""), t;
  };
},
    tpfclientsdk = {
  getBuilder: function getBuilder() {
    return new tpfClientSdkBuilder();
  }
};

window.tpfclientsdk = tpfclientsdk;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXDNyZFxcdHBmc2RrXFxzZGtcXHRwZmNsaWVudHNkay5qcyJdLCJuYW1lcyI6WyJ0cGZDbGllbnRTZGtJbXBsIiwibiIsInQiLCJ1bmRlZmluZWQiLCJTdHJpbmciLCJhcHBJZCIsImNoYW5uZWxJZCIsInN0YXRBcHBLZXkiLCJjb25maWdBcHBTZWNLZXkiLCJhY2NvdW50Iiwic3RhdCIsIl90cGZjb25maWciLCJ2ZXJzaW9uIiwicHJvdG90eXBlIiwic2V0RXZlbnRIYW5kbGVyIiwiZXZlbnRIYW5kbGVyIiwiaW5pdCIsInRwZnN0YXQiLCJhcHBLZXkiLCJzdmVyc2lvbiIsImV2ZW50VXJsIiwic3RhdEV2ZW50VXJsIiwiYmF0Y2hFdmVudFVybCIsImJhdGNoU3RhdEV2ZW50VXJsIiwidHBmY29uZmlnIiwiY29uZmlnVXJsIiwiZ2V0Q2xpZW50VmVyc2lvbiIsInVuaW5pdCIsImdldFRwZkNvbmZpZyIsImdldFN0YXQiLCJ0cGZDbGllbnRTZGtCdWlsZGVyIiwicGFyYW0iLCJzZXRQYXJhbSIsImJ1aWxkIiwiY29uc29sZSIsImxvZyIsInBsYXRUeXBlIiwiZXJyb3IiLCJpbmZvIiwic3ViQ2hhbm5lbElkIiwidHBmY2xpZW50c2RrIiwiZ2V0QnVpbGRlciIsIndpbmRvdyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQWEsSUFBSUEsZ0JBQWdCLEdBQUMsU0FBakJBLGdCQUFpQixHQUFVO0FBQUMsV0FBU0MsQ0FBVCxDQUFXQyxDQUFYLEVBQWE7QUFBQyxXQUFPQSxDQUFDLEtBQUdDLFNBQUosSUFBZSxTQUFPRCxDQUF0QixHQUF3QkUsTUFBTSxDQUFDRixDQUFELENBQTlCLEdBQWtDQSxDQUF6QztBQUEyQzs7QUFBQSxPQUFLRyxLQUFMLEdBQVcsQ0FBWCxFQUFhLEtBQUtDLFNBQUwsR0FBZSxDQUE1QixFQUE4QixLQUFLQyxVQUFMLEdBQWdCLEVBQTlDLEVBQWlELEtBQUtDLGVBQUwsR0FBcUIsRUFB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OiIvIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7dmFyIHRwZkNsaWVudFNka0ltcGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKHQpe3JldHVybiB0IT09dW5kZWZpbmVkJiZudWxsIT09dD9TdHJpbmcodCk6dH10aGlzLmFwcElkPTAsdGhpcy5jaGFubmVsSWQ9MCx0aGlzLnN0YXRBcHBLZXk9XCJcIix0aGlzLmNvbmZpZ0FwcFNlY0tleT1cIlwiLHRoaXMuYWNjb3VudD1cIlwiLHRoaXMuc3RhdD1udWxsLHRoaXMuX3RwZmNvbmZpZz1udWxsLHRoaXMudmVyc2lvbj1udWxsLHRwZkNsaWVudFNka0ltcGwucHJvdG90eXBlLnNldEV2ZW50SGFuZGxlcj1mdW5jdGlvbih0LG4pe3RoaXMuZXZlbnRIYW5kbGVyW3RdPW59LHRwZkNsaWVudFNka0ltcGwucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdD1uZXcgdHBmc3RhdCh7YXBwSWQ6bih0aGlzLmFwcElkKSxhcHBLZXk6bih0aGlzLnN0YXRBcHBLZXkpLHZlcnNpb246bih0aGlzLnZlcnNpb24pLHN2ZXJzaW9uOm4odGhpcy5zdmVyc2lvbiksY2hhbm5lbElkOm4odGhpcy5jaGFubmVsSWQpLGV2ZW50VXJsOm4odGhpcy5zdGF0RXZlbnRVcmwpLGJhdGNoRXZlbnRVcmw6bih0aGlzLmJhdGNoU3RhdEV2ZW50VXJsKX0pLHRoaXMuX3RwZmNvbmZpZz1uZXcgdHBmY29uZmlnKHthcHBJZDpuKHRoaXMuYXBwSWQpLGFwcEtleTpuKHRoaXMuY29uZmlnQXBwU2VjS2V5KSxjaGFubmVsSWQ6bih0aGlzLmNoYW5uZWxJZCksY29uZmlnVXJsOm4odGhpcy5jb25maWdVcmwpfSksMH0sdHBmQ2xpZW50U2RrSW1wbC5wcm90b3R5cGUuZ2V0Q2xpZW50VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnNpb259LHRwZkNsaWVudFNka0ltcGwucHJvdG90eXBlLnVuaW5pdD1mdW5jdGlvbigpe3RoaXMuc3RhdD1udWxsLHRoaXMuX3RwZmNvbmZpZz1udWxsfSx0cGZDbGllbnRTZGtJbXBsLnByb3RvdHlwZS5zZXRFdmVudEhhbmRsZXI9ZnVuY3Rpb24odCxuKXt0aGlzLmV2ZW50SGFuZGxlclt0XT1ufSx0cGZDbGllbnRTZGtJbXBsLnByb3RvdHlwZS5nZXRUcGZDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHBmY29uZmlnfSx0cGZDbGllbnRTZGtJbXBsLnByb3RvdHlwZS5nZXRTdGF0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdH19LHRwZkNsaWVudFNka0J1aWxkZXI9ZnVuY3Rpb24oKXt0aGlzLnBhcmFtPXt9LHRwZkNsaWVudFNka0J1aWxkZXIucHJvdG90eXBlLnNldFBhcmFtPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHRoaXMucGFyYW1bdF09bix0aGlzfSx0cGZDbGllbnRTZGtCdWlsZGVyLnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbigpe3ZhciB0PW5ldyB0cGZDbGllbnRTZGtJbXBsO3JldHVybiBudWxsPT10aGlzLnBhcmFtLmFwcElkJiZjb25zb2xlLmxvZyhcImFwcElkIGlzIG51bGwhXCIpLHQuYXBwSWQ9dGhpcy5wYXJhbS5hcHBJZCxudWxsPT10aGlzLnBhcmFtLmNoYW5uZWxJZCYmY29uc29sZS5sb2coXCJjaGFubmVsSWQgaXMgbnVsbCFcIiksdC5jaGFubmVsSWQ9dGhpcy5wYXJhbS5jaGFubmVsSWQsbnVsbD09dGhpcy5wYXJhbS5hcHBLZXkmJmNvbnNvbGUubG9nKFwiYXBwS2V5IGlzIG51bGwhXCIpLHQuYXBwS2V5PXRoaXMucGFyYW0uYXBwS2V5LG51bGw9PXRoaXMucGFyYW0ucGxhdFR5cGUmJmNvbnNvbGUuZXJyb3IoXCJwbGF0VHlwZSBpcyBudWxsXCIpLHQucGxhdFR5cGU9dGhpcy5wYXJhbS5wbGF0VHlwZSx0aGlzLnBhcmFtLnZlcnNpb24/dC52ZXJzaW9uPXRoaXMucGFyYW0udmVyc2lvbjpjb25zb2xlLmxvZyhcIlwiKSx0aGlzLnBhcmFtLnN2ZXJzaW9uP3Quc3ZlcnNpb249dGhpcy5wYXJhbS5zdmVyc2lvbjpjb25zb2xlLmluZm8oXCJzdmVyc2lvbiBpcyBudWxsXCIpLHRoaXMucGFyYW0uc3RhdEFwcEtleT90LnN0YXRBcHBLZXk9dGhpcy5wYXJhbS5zdGF0QXBwS2V5OmNvbnNvbGUubG9nKFwic3RhdEFwcEtleSBpcyBudWxsXCIpLHRoaXMucGFyYW0uc3RhdEV2ZW50VXJsP3Quc3RhdEV2ZW50VXJsPXRoaXMucGFyYW0uc3RhdEV2ZW50VXJsOmNvbnNvbGUubG9nKFwiXCIpLHRoaXMucGFyYW0uYmF0Y2hTdGF0RXZlbnRVcmw/dC5iYXRjaFN0YXRFdmVudFVybD10aGlzLnBhcmFtLmJhdGNoU3RhdEV2ZW50VXJsOmNvbnNvbGUubG9nKFwiYmF0Y2hTdGF0RXZlbnRVcmwgaXMgbnVsbFwiKSx0aGlzLnBhcmFtLnN1YkNoYW5uZWxJZD90LnN1YkNoYW5uZWxJZD10aGlzLnBhcmFtLnN1YkNoYW5uZWxJZDp0LnN1YkNoYW5uZWxJZD1cIlwiLHRoaXMucGFyYW0uY29uZmlnQXBwU2VjS2V5P3QuY29uZmlnQXBwU2VjS2V5PXRoaXMucGFyYW0uY29uZmlnQXBwU2VjS2V5Oihjb25zb2xlLmxvZyhcImNvbmZpZ0FwcFNlY0tleSBpcyBudWxsXCIpLHQuY29uZmlnQXBwU2VjS2V5PVwiMDE2NDYxOTkwMGQyNDJiNTllNTlmNDc0ZTAyOTRlNGVcIiksdGhpcy5wYXJhbS5jb25maWdVcmw/dC5jb25maWdVcmw9dGhpcy5wYXJhbS5jb25maWdVcmw6KGNvbnNvbGUubG9nKFwiXCIpLHQuY29uZmlnVXJsPVwiXCIpLHR9fSx0cGZjbGllbnRzZGs9e2dldEJ1aWxkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRwZkNsaWVudFNka0J1aWxkZXJ9fTt3aW5kb3cudHBmY2xpZW50c2RrPXRwZmNsaWVudHNkazsiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/3rd/tpfsdk/sdk/tpfconfig.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '88b612jW7FE8YNjGjTEQ72h', 'tpfconfig');
// syyx_sdk/3rd/tpfsdk/sdk/tpfconfig.js

"use strict";

var tpfconfig = function tpfconfig(t) {
  function u(t, n) {
    return t = Math.ceil(t), n = Math.floor(n), Math.floor(Math.random() * (n - t)) + t;
  }

  function g(t, n, e, p, o) {
    return md5("appId=" + t + "&json=" + o + "&random=" + e + "&timestamp=" + p + "&appKey=" + n).toUpperCase();
  }

  this.appId = t.appId, this.appKey = t.appKey, this.channelId = t.channelId, this.configUrl = t.configUrl, tpfstat.prototype.CONFIG_API_VERSION = "2.2", tpfstat.prototype.CONFIG_CLIENT_SOURCE = "client", tpfconfig.prototype.httpGetconfig = function (o, t, n, i) {
    var e,
        p,
        a,
        r,
        l = u(0, 4294967295),
        s = {
      appId: this.appId,
      channelId: this.channelId,
      version: t,
      configKey: o,
      userId: ""
    },
        f = JSON.stringify(s),
        c = {
      "Content-Type": "application/json; charset=utf-8",
      Authorization: (e = this.appId, p = this.appKey, "appId=" + e + "&random=" + (a = l + "") + "&timestamp=" + (r = n) + "&sign=" + g(e, p, a, r, f))
    },
        h = this.configUrl;
    HttpUtils.http_request("POST", h, c, f, !1, function (t, n) {
      var e, p;
      console.log("test111111111111"), 200 == t ? (p = (e = JSON.parse(n)).version, i(!0, o, p, e.configValue)) : 304 == t ? i(!1, o, p, null) : i(!1, null, null, null);
    });
  }, tpfconfig.prototype.httpGetconfigWx = function (p, t, n, o) {
    var e = u(0, 4294967295),
        i = {
      appId: this.appId,
      channelId: this.channelId,
      version: t,
      configKey: p,
      userId: ""
    },
        a = JSON.stringify(i),
        r = {
      "Content-Type": "application/json; charset=utf-8",
      Authorization: g(this.appId, this.appKey, e + "", n, a)
    },
        l = this.configUrl;
    HttpUtils.http_request_wx("POST", l, r, a, !1, function (t, n) {
      var e;
      console.log("test111111111111", t, n), 200 == t ? (e = n.version, o(!0, p, e, n.configValue)) : 304 == t ? o(!1, p, !0, null) : o(!1, null, null, null);
    });
  }, tpfconfig.prototype.parse_csv = function (t, n) {
    if ("" == t) return {};

    for (var e = new RegExp('(\\,|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\,\\r\\n]*))', "gi"), p = [[]], o = null; o = e.exec(t);) {
      var i,
          a = o[1];
      a.length && "," !== a && p.push([]), i = o[2] ? o[2].replace(new RegExp('""', "g"), '"') : o[3], p[p.length - 1].push(i);
    }

    var r = {};

    if (3 < p.length) {
      for (var l = p[1], s = -1, f = 0; f < l.length; ++f) {
        if (l[f] == n) {
          s = f;
          break;
        }
      }

      for (var c = p[2], f = 3; f < p.length; ++f) {
        if (1 !== p[f].length || "" !== p[f][0]) {
          var h = null;
          r[h = -1 != s ? p[f][s] : f - 3] = {};

          for (var u = 0; u < l.length; ++u) {
            "string" == c[u] ? r[h][l[u]] = p[f][u] || "" : "int" == c[u] ? r[h][l[u]] = parseInt(p[f][u] || 0) : "float" == c[u] ? r[h][l[u]] = parseFloat(p[f][u] || 0) : "boolean" == c[u] ? r[h][l[u]] = "TRUE" == p[f][u] : "json" == c[u] && "" != p[f][u] && (r[h][l[u]] = JSON.parse(p[f][u]));
          }
        }
      }
    }

    return r;
  };
};

window.tpfconfig = tpfconfig;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXDNyZFxcdHBmc2RrXFxzZGtcXHRwZmNvbmZpZy5qcyJdLCJuYW1lcyI6WyJ0cGZjb25maWciLCJ0IiwidSIsIm4iLCJNYXRoIiwiY2VpbCIsImZsb29yIiwicmFuZG9tIiwiZyIsImUiLCJwIiwibyIsIm1kNSIsInRvVXBwZXJDYXNlIiwiYXBwSWQiLCJhcHBLZXkiLCJjaGFubmVsSWQiLCJjb25maWdVcmwiLCJ0cGZzdGF0IiwicHJvdG90eXBlIiwiQ09ORklHX0FQSV9WRVJTSU9OIiwiQ09ORklHX0NMSUVOVF9TT1VSQ0UiLCJodHRwR2V0Y29uZmlnIiwiaSIsImEiLCJyIiwibCIsInMiLCJ2ZXJzaW9uIiwiY29uZmlnS2V5IiwidXNlcklkIiwiZiIsIkpTT04iLCJzdHJpbmdpZnkiLCJjIiwiQXV0aG9yaXphdGlvbiIsImgiLCJIdHRwVXRpbHMiLCJodHRwX3JlcXVlc3QiLCJjb25zb2xlIiwibG9nIiwicGFyc2UiLCJjb25maWdWYWx1ZSIsImh0dHBHZXRjb25maWdXeCIsImh0dHBfcmVxdWVzdF93eCIsInBhcnNlX2NzdiIsIlJlZ0V4cCIsImV4ZWMiLCJsZW5ndGgiLCJwdXNoIiwicmVwbGFjZSIsInBhcnNlSW50IiwicGFyc2VGbG9hdCIsIndpbmRvdyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQWEsSUFBSUEsU0FBUyxHQUFDLFNBQVZBLFNBQVUsQ0FBU0MsQ0FBVCxFQUFXO0FBQUMsV0FBU0MsQ0FBVCxDQUFXRCxDQUFYLEVBQWFFLENBQWIsRUFBZTtBQUFDLFdBQU9GLENBQUMsR0FBQ0csSUFBSSxDQUFDQyxJQUFMLENBQVVKLENBQVYsQ0FBRixFQUFlRSxDQUFDLEdBQUNDLElBQUksQ0FBQ0UsS0FBTCxDQUFXSCxDQUFYLENBQWpCLEVBQStCQyxJQUFJLENBQUNFLEtBQUwsQ0FBV0YsSUFBSSxDQUFDRyxNQUFMLE1BQWVKLENBQUMsR0FBQ0YsQ0FBakIsQ0FBWCxJQUFnQ0EsQ0FBdEU7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Iiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjt2YXIgdHBmY29uZmlnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHUodCxuKXtyZXR1cm4gdD1NYXRoLmNlaWwodCksbj1NYXRoLmZsb29yKG4pLE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoobi10KSkrdH1mdW5jdGlvbiBnKHQsbixlLHAsbyl7cmV0dXJuIG1kNShcImFwcElkPVwiK3QrXCImanNvbj1cIitvK1wiJnJhbmRvbT1cIitlK1wiJnRpbWVzdGFtcD1cIitwK1wiJmFwcEtleT1cIituKS50b1VwcGVyQ2FzZSgpfXRoaXMuYXBwSWQ9dC5hcHBJZCx0aGlzLmFwcEtleT10LmFwcEtleSx0aGlzLmNoYW5uZWxJZD10LmNoYW5uZWxJZCx0aGlzLmNvbmZpZ1VybD10LmNvbmZpZ1VybCx0cGZzdGF0LnByb3RvdHlwZS5DT05GSUdfQVBJX1ZFUlNJT049XCIyLjJcIix0cGZzdGF0LnByb3RvdHlwZS5DT05GSUdfQ0xJRU5UX1NPVVJDRT1cImNsaWVudFwiLHRwZmNvbmZpZy5wcm90b3R5cGUuaHR0cEdldGNvbmZpZz1mdW5jdGlvbihvLHQsbixpKXt2YXIgZSxwLGEscixsPXUoMCw0Mjk0OTY3Mjk1KSxzPXthcHBJZDp0aGlzLmFwcElkLGNoYW5uZWxJZDp0aGlzLmNoYW5uZWxJZCx2ZXJzaW9uOnQsY29uZmlnS2V5Om8sdXNlcklkOlwiXCJ9LGY9SlNPTi5zdHJpbmdpZnkocyksYz17XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixBdXRob3JpemF0aW9uOihlPXRoaXMuYXBwSWQscD10aGlzLmFwcEtleSxcImFwcElkPVwiK2UrXCImcmFuZG9tPVwiKyhhPWwrXCJcIikrXCImdGltZXN0YW1wPVwiKyhyPW4pK1wiJnNpZ249XCIrZyhlLHAsYSxyLGYpKX0saD10aGlzLmNvbmZpZ1VybDtIdHRwVXRpbHMuaHR0cF9yZXF1ZXN0KFwiUE9TVFwiLGgsYyxmLCExLGZ1bmN0aW9uKHQsbil7dmFyIGUscDtjb25zb2xlLmxvZyhcInRlc3QxMTExMTExMTExMTFcIiksMjAwPT10PyhwPShlPUpTT04ucGFyc2UobikpLnZlcnNpb24saSghMCxvLHAsZS5jb25maWdWYWx1ZSkpOjMwND09dD9pKCExLG8scCxudWxsKTppKCExLG51bGwsbnVsbCxudWxsKX0pfSx0cGZjb25maWcucHJvdG90eXBlLmh0dHBHZXRjb25maWdXeD1mdW5jdGlvbihwLHQsbixvKXt2YXIgZT11KDAsNDI5NDk2NzI5NSksaT17YXBwSWQ6dGhpcy5hcHBJZCxjaGFubmVsSWQ6dGhpcy5jaGFubmVsSWQsdmVyc2lvbjp0LGNvbmZpZ0tleTpwLHVzZXJJZDpcIlwifSxhPUpTT04uc3RyaW5naWZ5KGkpLHI9e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsQXV0aG9yaXphdGlvbjpnKHRoaXMuYXBwSWQsdGhpcy5hcHBLZXksZStcIlwiLG4sYSl9LGw9dGhpcy5jb25maWdVcmw7SHR0cFV0aWxzLmh0dHBfcmVxdWVzdF93eChcIlBPU1RcIixsLHIsYSwhMSxmdW5jdGlvbih0LG4pe3ZhciBlO2NvbnNvbGUubG9nKFwidGVzdDExMTExMTExMTExMVwiLHQsbiksMjAwPT10PyhlPW4udmVyc2lvbixvKCEwLHAsZSxuLmNvbmZpZ1ZhbHVlKSk6MzA0PT10P28oITEscCwhMCxudWxsKTpvKCExLG51bGwsbnVsbCxudWxsKX0pfSx0cGZjb25maWcucHJvdG90eXBlLnBhcnNlX2Nzdj1mdW5jdGlvbih0LG4pe2lmKFwiXCI9PXQpcmV0dXJue307Zm9yKHZhciBlPW5ldyBSZWdFeHAoJyhcXFxcLHxcXFxccj9cXFxcbnxcXFxccnxeKSg/OlwiKFteXCJdKig/OlwiXCJbXlwiXSopKilcInwoW15cIlxcXFwsXFxcXHJcXFxcbl0qKSknLFwiZ2lcIikscD1bW11dLG89bnVsbDtvPWUuZXhlYyh0KTspe3ZhciBpLGE9b1sxXTthLmxlbmd0aCYmXCIsXCIhPT1hJiZwLnB1c2goW10pLGk9b1syXT9vWzJdLnJlcGxhY2UobmV3IFJlZ0V4cCgnXCJcIicsXCJnXCIpLCdcIicpOm9bM10scFtwLmxlbmd0aC0xXS5wdXNoKGkpfXZhciByPXt9O2lmKDM8cC5sZW5ndGgpe2Zvcih2YXIgbD1wWzFdLHM9LTEsZj0wO2Y8bC5sZW5ndGg7KytmKWlmKGxbZl09PW4pe3M9ZjticmVha31mb3IodmFyIGM9cFsyXSxmPTM7ZjxwLmxlbmd0aDsrK2YpaWYoMSE9PXBbZl0ubGVuZ3RofHxcIlwiIT09cFtmXVswXSl7dmFyIGg9bnVsbDtyW2g9LTEhPXM/cFtmXVtzXTpmLTNdPXt9O2Zvcih2YXIgdT0wO3U8bC5sZW5ndGg7Kyt1KVwic3RyaW5nXCI9PWNbdV0/cltoXVtsW3VdXT1wW2ZdW3VdfHxcIlwiOlwiaW50XCI9PWNbdV0/cltoXVtsW3VdXT1wYXJzZUludChwW2ZdW3VdfHwwKTpcImZsb2F0XCI9PWNbdV0/cltoXVtsW3VdXT1wYXJzZUZsb2F0KHBbZl1bdV18fDApOlwiYm9vbGVhblwiPT1jW3VdP3JbaF1bbFt1XV09XCJUUlVFXCI9PXBbZl1bdV06XCJqc29uXCI9PWNbdV0mJlwiXCIhPXBbZl1bdV0mJihyW2hdW2xbdV1dPUpTT04ucGFyc2UocFtmXVt1XSkpfX1yZXR1cm4gcn19O3dpbmRvdy50cGZjb25maWc9dHBmY29uZmlnOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/syyx_sdk/controller/syyx_manager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f45d9w9PTpJYqKH+oHpCxSM', 'syyx_manager');
// syyx_sdk/controller/syyx_manager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.syyx_manager = void 0;
var syyx_sdk_config_1 = require("../configs/syyx_sdk_config");
var syyx_sdk_enum_1 = require("../configs/syyx_sdk_enum");
var model_1 = require("../model/model");
var syyx_sdk_utils_1 = require("../utils/syyx_sdk_utils");
var ad_banner_1 = require("./ad/ad_banner");
var syyx_adv_manager_1 = require("./ad/syyx_adv_manager");
var syyx_ctr_manager_1 = require("./ctr_test/syyx_ctr_manager");
var syyx_cc_ui_manager_1 = require("./syyx_cc_ui_manager");
var syyx_api_1 = require("../utils/syyx_api");
var syyx_manager = /** @class */ (function () {
    function syyx_manager() {
    }
    /**
     * 初始化
     * @param init_config_path syyx_game_init.json 本地地址
     * @param init_callback syyx_game_init.json加载成功回调
     */
    syyx_manager.init = function (init_callback) {
        var self = this;
        var path = this.__game_init_file_path;
        //区分渠道
        var channel_type;
        if (window['qq']) {
            channel_type = igc.e_channel_type.qq;
        }
        else if (window["hbs"]) {
            channel_type = igc.e_channel_type.hw_qg;
        }
        else if (window["tt"]) {
            channel_type = igc.e_channel_type.tt;
        }
        else if (window["qg"] && !window["hbs"]) {
            var qg = window["qg"];
            var provider = qg.getProvider();
            if (provider == "OPPO") {
                channel_type = igc.e_channel_type.oppo_qg; // 2
            }
            else if (provider == "vivo") {
                channel_type = igc.e_channel_type.vivo_qg; // 4
            }
        }
        else if (window["wx"]) {
            channel_type = igc.e_channel_type.wx;
        }
        else if (window["loadingView"]) {
            channel_type = igc.e_channel_type.apk;
        }
        else {
            channel_type = igc.e_channel_type.web;
        }
        console.log("sdk-----channel type 1.web 2.oppo 4.vivo 5.qq 7.apk  8.tt  10:hw_qg ：", channel_type);
        syyx_sdk_config_1.syyx_const.syyx_sdk_channel = channel_type;
        //先加载游戏初始化配置表
        syyx_sdk_utils_1.syyx_sdk_utils.load_resource(path, function (data) {
            console.log("sdk-----syyx_game_init.json", data);
            if (syyx_sdk_config_1.syyx_const.syyx_sdk_publish === syyx_sdk_config_1.e_syyx_sdk_publish_type.out) {
                if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg) {
                    syyx_sdk_config_1.init_config.oppo_qg.app_id = data.syyx_app_id;
                    syyx_sdk_config_1.init_config.oppo_qg.app_version = data.channel[channel_type].app_version;
                    syyx_sdk_config_1.init_config.oppo_qg.pkg_name = data.channel[channel_type].pkg_name;
                    syyx_sdk_config_1.init_config.oppo_qg.stat_key = data.stat_key;
                    syyx_sdk_config_1.init_config.oppo_qg.configAppSecKey = data.config_key;
                    // 获取oppo用户id
                    syyx_sdk_config_1.syyx_const.guobao_init_game = syyx_sdk_config_1.syyx_const.game_name_oppo; // oppo渠道获取游戏编码，初始化使用，获取广告id
                    window["qg"] && window["qg"].login({
                        pkgName: syyx_sdk_config_1.init_config.oppo_qg.pkg_name,
                        success: function (res) {
                            self.login_user_id = res.uid; // oppo.uid
                        },
                        fail: function (res) {
                            self.login_user_id = '4444444';
                        }
                    });
                }
                else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {
                    syyx_sdk_config_1.init_config.vivo_qg.app_id = data.syyx_app_id;
                    syyx_sdk_config_1.init_config.vivo_qg.app_version = data.channel[channel_type].app_version;
                    syyx_sdk_config_1.init_config.vivo_qg.pkg_name = data.channel[channel_type].pkg_name;
                    syyx_sdk_config_1.init_config.vivo_qg.stat_key = data.stat_key;
                    syyx_sdk_config_1.init_config.vivo_qg.configAppSecKey = data.config_key;
                    syyx_sdk_config_1.syyx_const.guobao_init_game = syyx_sdk_config_1.syyx_const.game_name_vivo; // oppo渠道获取游戏编码，初始化使用
                }
                else {
                    //网页调试
                    syyx_sdk_config_1.init_config.web.app_id = data.syyx_app_id;
                    syyx_sdk_config_1.init_config.web.app_version = "123";
                    syyx_sdk_config_1.init_config.web.pkg_name = "123";
                    syyx_sdk_config_1.init_config.web.stat_key = data.stat_key;
                    syyx_sdk_config_1.init_config.web.configAppSecKey = data.config_key;
                    syyx_sdk_config_1.syyx_const.guobao_init_game = syyx_sdk_config_1.syyx_const.game_name_oppo; // web默认用oppo的游戏编码
                    // syyx_const.guobao_init_game = syyx_const.game_name_vivo // web默认用vivo的游戏编码
                }
                igc.igc_main.instance.init_wrap(syyx_sdk_config_1.syyx_const.syyx_sdk_channel, syyx_sdk_config_1.init_config);
            }
            self.__syyx_app_id = data.syyx_app_id;
            self.__game_init_data = data;
            self.__business_config_file_path = data.business_config_file_path;
            self.__adv_config_file_path = data.adv_config_file_path;
            self.__ui_prefab_config_path = data.ui_prefab_config_path;
            self.__init_callback = init_callback;
            if (self.__init_callback) {
                // 到这里只是初始化完成，加载了.json
                console.log("igc ----- game_init.json has loaded");
                self.__init_callback(true, { business_config: null, load_init_complete: true, load_local_complete: false, load_remote_complete: false });
            }
            syyx_api_1.syyx_api_request.apiPost('init', syyx_sdk_config_1.syyx_const.guobao_init_apiUrl, { game: syyx_sdk_config_1.syyx_const.guobao_init_game }, function (res) {
                console.log('res------------', res);
                if (res.c == 1) {
                    self._guobao_init_config_data = res.d;
                    var ads = self._guobao_init_config_data;
                    for (var _i = 0, ads_1 = ads; _i < ads_1.length; _i++) {
                        var i = ads_1[_i];
                        if (i.type == "official") {
                            if (!self.adIdMap.has(i.key)) {
                                var temp = [];
                                self.adIdMap.set(i.key, temp);
                            }
                            var obj = {
                                adv_id: i.adv_id,
                                gc_status: i.gc_status
                            };
                            self.adIdMap.get(i.key).push(JSON.stringify(obj));
                        }
                    }
                }
                else {
                    console.log('sdk初始化失败, 用默认的');
                }
                self.load_config(); // 有了guobao_init_config_data，可以替换其中的一些配置
            });
        }, this);
    };
    syyx_manager.get_app_version = function () {
        var channel_type = syyx_sdk_config_1.syyx_const.syyx_sdk_channel + "";
        var version = "";
        if (this.__game_init_data && this.__game_init_data.channel[channel_type]) {
            version = this.__game_init_data.channel[channel_type].app_version;
        }
        else {
            version = "0.0.0.0";
            console.error("igc----- can not find app_version in syyx_game_init.json");
            console.error("igc----- channel_type  ", channel_type);
        }
        return version;
    };
    syyx_manager.get_syyx_app_id = function () {
        return this.__syyx_app_id || "";
    };
    syyx_manager.GetButtonsData = function () {
        var resdata = [];
        if (this._guobao_init_config_data) {
            for (var _i = 0, _a = this._guobao_init_config_data; _i < _a.length; _i++) {
                var i = _a[_i];
                if (i.type == "button") {
                    resdata.push(i);
                }
            }
        }
        return resdata;
    };
    syyx_manager.get_is_new_player = function () {
        return this.__is_new_player || 0;
    };
    syyx_manager.get_user_id = function () {
        return this.__user_id || "";
    };
    /**
     * 远端配置和互推配置远端拉取完毕
     */
    syyx_manager.init_remote_config_compelete = function () {
        if (this.__local_business_config_inited == true && !this.init_completed_tag) {
            syyx_adv_manager_1.syyx_adv_manager.load_adv_config();
            syyx_adv_manager_1.syyx_adv_manager.init_first_banner_cd();
            this.__inited = true;
            if (this.__init_callback) {
                this.init_completed_tag = true;
                console.log("igc ----- local data has been back");
                this.__init_callback(true, { business_config: this.__business_config_data, load_init_complete: false, load_local_complete: true, load_remote_complete: false });
            }
        }
        else if (this.__remote_business_config_inited && !this.refresh_completed_tag) {
            syyx_adv_manager_1.syyx_adv_manager.load_adv_config();
            syyx_adv_manager_1.syyx_adv_manager.init_first_banner_cd();
            this.__inited = true;
            if (this.__init_callback) {
                this.refresh_completed_tag = true;
                console.log("igc ----- remote data has been back");
                this.__init_callback(true, { business_config: this.__business_config_data, load_init_complete: false, load_local_complete: false, load_remote_complete: true });
            }
        }
    };
    /**
     * 判断用户启动游戏类型  是否通过分享进入
     */
    syyx_manager.check_user_start_game_type = function () {
        var is_old_player = localStorage.getItem("is_old_player");
        this.__is_new_player = is_old_player != "1";
        if (is_old_player == "1") {
            //老玩家
            console.log("igc----- old bird--------------");
        }
        else {
            //新玩家
            console.log("igc----- new fish--------------");
            localStorage.setItem("is_old_player", "1");
        }
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {
            return;
        }
        var options = this.get_launch_options_sync();
        if (options && options.query) {
            if (options.query.type == igc.e_share_type.card || options.query.type == igc.e_share_type.record) {
                var event_id = is_old_player == "1" ? igc.e_share_event_id.old_player : igc.e_share_event_id.new_player;
                // this.send_user_event(event_id, igc.e_share_event_type.share, 0, 0, options.query.type + "");
            }
        }
    };
    //
    /**如果是外部登录 这里传入一下账号id和用户id，设置了之后就可以调用 打点了
     * stat_manager 是只要 调用了sdk的init后，不需要等待init的callback就可以使用打点了
     * @param account
     * @param user_id
     */
    syyx_manager.init_param = function (account, user_id) {
        if (account == "" || account == undefined || user_id == "" || user_id == undefined) {
            console.error("igc----- init_param user_id is undefined!");
            return;
        }
        if (this.has_init_param) {
            return;
        }
        else {
            this.has_init_param = true;
        }
        this.__user_id = user_id + "";
        igc.stat_manager.instance.set_uid(account, user_id, "1");
        //////////////////////////////////
        //sdk里面打一下点
        var save = localStorage.getItem("syyx_igc_uid" + igc.igc_main.instance.app_config.game_param.app_id);
        if (save && save != "") {
            //只打login的点
            this.send_user_login();
        }
        else {
            //打register的点
            this.send_user_register();
            //打login的点,延迟
            setTimeout(this.send_user_login, 1000);
            localStorage.setItem("syyx_igc_uid" + igc.igc_main.instance.app_config.game_param.app_id, user_id);
        }
        this.check_user_start_game_type();
        this.set_stat_inited();
    };
    /**
     * 是否启动ok
     */
    syyx_manager.is_inited = function () {
        return this.__inited;
    };
    /**
     * 上报用户注册
     */
    syyx_manager.send_user_register = function () {
        // igc.stat_manager.instance.send_user_register();
    };
    /**
      * 上报自定义事件
      */
    syyx_manager.send_user_event = function (event_id, event_type, place_id, place_type, extra, str1, str2, extra2, str3) {
        if (!this.__stat_inited) {
            this.__stat_data_cache.unshift({
                "event_id": event_id,
                "event_type": event_type,
                "place_id": place_id,
                "place_type": place_type,
                "extra": extra,
                "str1": str1,
                "str2": str2,
                "extra2": extra2,
                "str3": str3,
            });
            return;
        }
    };
    /**
    * 打点未初始化完成
    */
    syyx_manager.set_stat_inited = function () {
        if (!this.__is_stat_delay) {
            var self_1 = this;
            this.__is_stat_delay = true;
            setTimeout(function () {
                self_1.__stat_inited = true;
                self_1.send_stat_event_cache();
            }, 1000);
        }
    };
    /**
     * 补充 打点未初始化完成前的打点
     */
    syyx_manager.send_stat_event_cache = function () {
        if (this.__stat_data_cache && this.__stat_data_cache.length > 0) {
            var self = this;
            var stat_data = this.__stat_data_cache.pop();
            setTimeout(function () {
                // self.send_stat_event_cache()
            }, 100);
        }
    };
    /**
     * 隐藏指定类型的视图
     * @param viewType
     */
    syyx_manager.hide = function (viewType) {
        this.load_view(viewType, function (view) {
            view.hide && view.hide();
        });
    };
    /**
     * 显示指定视图
     * @param viewType 视图类型
     * @param zOrder    层级
     * @param scene     当前所在场景的名字          运营使用
     * @param chapter   当前所在关卡或者玩法id      运营使用
     */
    syyx_manager.show = function (viewType, zOrder, scene, chapter) {
        if (zOrder === void 0) { zOrder = -1; }
        if (chapter === void 0) { chapter = 0; }
        this.load_view(viewType, function (view) {
            view.show(zOrder, scene, chapter);
        });
    };
    /**
     * 上报用户登录
     */
    syyx_manager.send_user_login = function () {
        // igc.stat_manager.instance.send_user_login();
    };
    /**
    * 拉到功能配置的处理函数(远端数据完全覆盖)
    * @param ret  操作结果
    * @param key  要拉取的配置key
    * @param version 这个配置本次的版本，可以本地保存，下次拉取的时候传这个保存的version，后台比较如果version一致，则不会返回数据，由客户端使用本地缓存
    * @param data 返回的数据
    */
    syyx_manager.on_load_game_configs = function (ret, key, version, data) {
        if (ret == true) {
            localStorage.setItem(syyx_sdk_config_1.syyx_const.local_business_config_version, version);
            this.__remote_business_config_inited = true;
        }
        this.init_remote_config_compelete();
    };
    /**
     * 加载配置
     */
    syyx_manager.load_config = function () {
        //加载ui预制体的配置
        var self = this;
        syyx_sdk_utils_1.syyx_sdk_utils.load_resource(syyx_manager.__ui_prefab_config_path, function (data) {
            self._ui_prefab_config = igc.igc_resources_utils.parse_csv(data, "id"); // 这配置用了一次
            console.log("sdk-----ui prefabs have loaded", self._ui_prefab_config);
            self.load_business_config();
            syyx_ctr_manager_1.syyx_ctr_manager.load_ctr_config(); // 已经搞定，用了guobao数据
        }, this, function () {
            console.log("igc-----ui prefabs loading failed");
            self.load_business_config();
            syyx_ctr_manager_1.syyx_ctr_manager.load_ctr_config(); // 已经搞定，用了guobao数据
        });
    };
    /**
     * 加载商业化配置
     */
    syyx_manager.load_business_config = function () {
        var business_data;
        var cur_business_version = this.get_app_version();
        var key = this.get_syyx_app_id() + this.__business_version;
        //版本号不一致 之前的缓存数值置空
        localStorage.setItem(syyx_sdk_config_1.syyx_const.local_business_config_version, null);
        //刷新本地保存的远端配置版本号
        localStorage.setItem(key, cur_business_version);
        this.on_load_local_business_config(); // 这里面有 init_remote_config_compelete
        this.on_load_game_configs(true, '', 3, ''); // 就做了一些保存缓存
    };
    /**
     * 获取一个banner广告
     * @param viewType
     */
    syyx_manager.create_native_banner = function (call_back) {
        if (!syyx_adv_manager_1.syyx_adv_manager.__adv_config_inited) {
            return null;
        }
        return this.create_view(model_1.syyx_view.native_banner, call_back);
    };
    /**
     * 创建一个结算原生
     */
    syyx_manager.create_inner_interstitial = function (call_back) {
        if (!syyx_adv_manager_1.syyx_adv_manager.__adv_config_inited) {
            return null;
        }
        return this.create_view(model_1.syyx_view.inner_interstitial, call_back);
    };
    /**
     * 创建一个结算原生- 原生banner
     */
    syyx_manager.create_inner_interstitial_bn = function (call_back) {
        if (!syyx_adv_manager_1.syyx_adv_manager.__adv_config_inited) {
            return null;
        }
        return this.create_view(model_1.syyx_view.inner_interstitial_bn, call_back);
    };
    /**
    * 创建一个需要遮罩的插屏
    */
    syyx_manager.create_interstitial = function (call_back) {
        if (!syyx_adv_manager_1.syyx_adv_manager.__adv_config_inited) {
            return null;
        }
        return this.create_view(model_1.syyx_view.interstitial, call_back);
    };
    /**
    * 创建一个需要遮罩的插屏
    */
    syyx_manager.create_native_icon = function (call_back) {
        if (!syyx_adv_manager_1.syyx_adv_manager.__adv_config_inited) {
            console.log("igc----- ad initialization is not achieve--->do not call interface too early  :create_native_icon");
            return null;
        }
        return this.create_view(model_1.syyx_view.native_icon, call_back);
    };
    /**
    * 创建一个tips
    */
    syyx_manager.create_toast = function (desc) {
        this.create_view(model_1.syyx_view.toast, function (view) {
            view && view.show && view.show(desc);
        });
    };
    /**
     * 使用样式创建视图
     */
    syyx_manager.create_view = function (viewType, call_back) {
        this.load_view(viewType, call_back);
    };
    /**
     * 根据类型获取视图对象
     */
    syyx_manager.load_view = function (viewType, call_back) {
        if (window["Laya"]) {
        }
        else {
            syyx_cc_ui_manager_1.syyx_cc_ui_manager.load_ui_prefabs(viewType, call_back);
        }
    };
    syyx_manager.get_business_config = function () {
        if (!this.__local_business_config_inited && !this.__remote_business_config_inited) {
            return undefined;
        }
        return this.__business_config_data;
    };
    syyx_manager.login_channel = function (callback) {
        var self = this;
        if (this.has_login_channel) {
            return;
        }
        else {
            this.has_login_channel = true;
        }
        igc.igc_main.instance.only_login_channel(function back(res) {
            if (res && res.channel_user_info && res.channel_user_info.uid) {
                //sdk里面打一下点
                var save = localStorage.getItem("syyx_igc_uid" + igc.igc_main.instance.app_config.game_param.app_id);
                if (save && save != "") {
                    //只打login的点
                    // self.send_user_login();
                }
                else {
                    //打register的点
                    self.send_user_register();
                    //打login的点
                    setTimeout(self.send_user_login, 1000);
                    self.__user_id = res.channel_user_info.uid;
                    localStorage.setItem("syyx_igc_uid" + igc.igc_main.instance.app_config.game_param.app_id, res.channel_user_info.uid);
                }
            }
            self.check_user_start_game_type();
            self.set_stat_inited();
            callback && callback(res);
        });
    };
    /**
     * 获取运营配置对应key的值
     * @param key business_config 的 id值
     */
    syyx_manager.get_business_data_by_key = function (key) {
        var business_config_data = syyx_manager.get_business_config();
        if (business_config_data && business_config_data[key]) {
            return business_config_data[key].value;
        }
        return undefined;
    };
    /**
     * 展示广告，
     * @param ad_type 广告类型 根据 igc.e_ad_type 传入
     *  interstitial = 1,   插屏
        video = 2,          视频
        native = 3,         原生
        banner = 4,         banner
     * @param ad_pos_id     配置表广告ID
     * @param onLoad    广告加载成功
     * 1：视频加载成功通过此接口返回信息，游戏可做一些相应逻辑处理，比如停止音乐
     * 2：原生通过此接口返回信息
     * onLoad: function (param, res) {
     *      //原生广告返回信息：res 是一个list 使用list里的第一个即可 如果list为空 或 长度为零，则代表没有拉取到数据
     *      let native_data = res[0]
     *      native_data = {
                adUnitId: 此原生广告资源的子id，上报曝光和点击使用
                title: 广告标题,
                desc:广告描述,
                //icon
                iconUrlList:// 版本兼容, 小图ICON
                icon: 小图ICON,
                imgUrlList: 大图ICON, 目前一般都用这个
                logoUrl: 目前拼界面没用到,
                clickBtnTxt:目前拼界面没用到,
                //creativeType
                creativeType: 目前拼界面没用到,
                interactionType:目前拼界面没用到
            }
     * }
     * @param onShow  广告显示出来了
     * 1:banner 显示出来 有回调
     * 2:插屏 显示出来 有回调
     * 其他广告类型如果有回调 是属于框架伪造，看场景考虑是否使用
     * onShow: function () {
     * }
     *
     * @param onClose 关闭的回调
     * 1：banner 如果有onClose的返回，则代表用户关闭banner 此功能oppo需要
     * 2: 插屏关闭
     * 3: 原生无此回调
     * 4：视频 判断 res.isEnded 为true则代表视频看完，为false则代表视频没看完
     * onClose: function (param, res){
     * }
     *
     * @param onError : 报错
     * 报错，或无广告则此接口回调，各广告类型都有此回调，比如视频有此回调，则可弹tips 目前无广告
     * err为报错信息 可 JSON.stringify(err) 打印调试
     * onError : function (param, err) {
     *
     * }
     */
    syyx_manager.create_ad = function (ad_type, ad_pos_id, onLoad, onShow, onClose, onError, sub_ad_type) {
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id) {
            console.log("sdk----- syyx_manager create_ad ad_id no configure in adv.csv");
            return;
        }
        var param = {
            ad_type: ad_type,
            ad_id: ad_id,
            ad_pos_id: ad_pos_id,
            ad_event: ad_id,
            ad_scene: ad_id,
            top_offset: 0,
            sub_ad_type: sub_ad_type || igc.e_ad_native_type.native_banner_normal,
            onLoad: onLoad,
            onShow: onShow,
            onClose: onClose,
            onError: onError
        };
        return igc.igc_main.instance.create_ad(param);
    };
    syyx_manager.create_heng_fu_ad = function (ad_type, ad_pos_id, onLoad, onShow, onClose, onError, sub_ad_type) {
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id) {
            return;
        }
        // vivo横幅开关
        if (this.__business_config_data && this.__business_config_data["vivo_hengfu_switch"]) {
            if (this.__business_config_data["vivo_hengfu_switch"].value[0] == 0) {
                onError && onError();
                return;
            }
        }
        var self = this;
        // 结算页、游戏开始页等适合展示的场景调用
        if (window['qg'].getSystemInfoSync().platformVersionCode >= 1092) {
            var boxBannerAd = null;
            boxBannerAd = window['qg'].createBoxBannerAd({
                posId: ad_id
            });
            boxBannerAd.onLoad(function () {
                console.log("互推盒子横幅广告加载成功");
                onLoad && onLoad();
            });
            boxBannerAd.onError(function (err) {
                console.log("盒子横幅广告加载失败", err);
                // syyx_manager.create_toast(JSON.stringify(err))
                onError && onError(err);
            });
            // 广告数据加载成功后展示
            boxBannerAd.show().then(function () {
                onShow && onShow();
            }).catch(function (error) {
                onError && onError(error);
            });
            self.boxBannerAd_vivo = boxBannerAd;
        }
        else {
            console.log('暂不支持互推盒子相关 API');
        }
    };
    syyx_manager.hide_boxBannerAd_vivo = function () {
        var boxBannerAd_vivo_instance = this.boxBannerAd_vivo;
        if (boxBannerAd_vivo_instance) {
            boxBannerAd_vivo_instance.destroy();
        }
    };
    syyx_manager.hide_game_portal_box_vivo = function () {
        var game_portal_box_vivo_instance = this.game_portal_box_vivo;
        if (game_portal_box_vivo_instance) {
            game_portal_box_vivo_instance.isDestroyed = true;
            game_portal_box_vivo_instance.destroy();
        }
    };
    /**
     * 显示广告  各参数意义和create_ad相同
     * @param ad_type
     * @param ad_pos_id
     * @param onLoad
     * @param onShow
     * @param onClose
     * @param onError
     * @param sub_ad_type
     */
    syyx_manager.show_ad = function (ad_type, ad_pos_id, onLoad, onShow, onClose, onError, sub_ad_type) {
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id || ad_id == "1" || ad_id == "0") {
            console.log("igc----- syyx_manager show_ad ad_id no configure in adv.csv");
            return;
        }
        var param = {
            ad_type: ad_type,
            ad_id: ad_id,
            ad_pos_id: ad_pos_id,
            ad_event: ad_id,
            ad_scene: ad_id,
            sub_ad_type: sub_ad_type || igc.e_ad_native_type.native_banner_normal,
            onLoad: onLoad,
            onShow: onShow,
            onClose: onClose,
            onError: onError
        };
        return igc.igc_main.instance.show_ad(param);
    };
    /**
     * 销毁广告 主要也就是 banner 使用了 一般目前Oppo和vivo隐藏banner 也就是调用destroy了
     * @param ad_type 广告类型 根据 igc.e_ad_type 传入
     *  interstitial = 1,   插屏
        video = 2,          视频
        native = 3,         原生
        banner = 4,         banner
     * @param ad_pos_id     配置表广告ID
     */
    syyx_manager.destroy_ad = function (ad_type, ad_pos_id, sub_ad_type) {
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id) {
            return;
        }
        var param = {
            ad_type: ad_type,
            ad_id: ad_id,
            ad_pos_id: ad_pos_id,
            sub_ad_type: sub_ad_type || igc.e_ad_native_type.native_banner_normal,
            ad_event: ad_id,
            ad_scene: ad_id,
        };
        return igc.igc_main.instance.destroy_ad(param);
    };
    /*
    static show_ad(param) {
        return igc.igc_main.instance.show_ad(param)
    }
    */
    /**
     * 隐藏广告 主要也就是 banner 目前也不怎么使用了
     * @param ad_type 广告类型 根据 igc.e_ad_type 传入
     *  interstitial = 1,   插屏
        video = 2,          视频
        native = 3,         原生
        banner = 4,         banner
     * @param ad_pos_id     配置表广告位ID
     */
    syyx_manager.hide_ad = function (ad_type, ad_pos_id) {
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id || ad_id == "1" || ad_id == "0") {
            console.log("igc----- syyx_manager hide_ad ad_id no configure in adv.csv");
            return;
        }
        var param = {
            ad_type: ad_type,
            ad_id: ad_id,
            ad_pos_id: ad_pos_id,
            ad_event: ad_id,
            ad_scene: ad_id,
        };
        return igc.igc_main.instance.hide_ad(param);
    };
    /**
     * 结算原生————上报点击
     */
    syyx_manager.report_native_inner_interstitial_click = function (ad_pos_id) {
        if (!ad_banner_1.ad_banner.can_show_first) {
            console.log("igc----- is in oppo first ad cd ");
            return;
        }
        var native_data = this.get_local_native_data(ad_pos_id);
        this.create_inner_interstitial(function (view) {
            if (native_data) {
                view.report_click();
            }
        });
    };
    /**
     * 隐藏结算原生
     *
     */
    syyx_manager.hide_native_inner_interstitial = function () {
        this.load_view(model_1.syyx_view.inner_interstitial, function (view) {
            if (view.node.parent) {
                view.hide && view.hide();
            }
        });
    };
    /**
     * 隐藏原生banner
     *
     */
    syyx_manager.hide_native_banner = function () {
        this.load_view(model_1.syyx_view.inner_interstitial_bn, function (view) {
            if (view.node.parent) {
                view.hide && view.hide();
            }
        });
    };
    /**
     * 是否使用oppo的互推盒子
     * 快应用版本号大于等于1076则可以使用互推盒子
     */
    syyx_manager.support_game_box = function () {
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.oppo_qg) {
            var systeminfo = syyx_manager.get_system_info_sync();
            if (systeminfo && systeminfo.platformVersion) {
                return systeminfo.platformVersion >= 1076;
            }
        }
        return false;
    };
    /**
     * 原生广告 上报曝光
     * @param ad_pos_id 配置表广告位ID
     * @param native_data 原生数据
     */
    syyx_manager.report_ad_show = function (ad_pos_id, native_data) {
        return syyx_adv_manager_1.syyx_adv_manager.report_ad_show(ad_pos_id, native_data);
    };
    /**
     * 原生广告  上报点击
     * @param ad_pos_id 配置表广告位ID
     * @param ad_unit_id create_ad的onload返回的原生广告信息里面的adUnitId 这个单位ID
     */
    syyx_manager.report_ad_click = function (ad_pos_id, native_data) {
        return syyx_adv_manager_1.syyx_adv_manager.report_ad_click(ad_pos_id, native_data);
    };
    /**
     * 预加载视频广告（华为）
     * @param ad_pos_id
     * @param onLoad
     * @param onShow
     * @param onClose
     * @param onError
     */
    syyx_manager.preload_video = function () {
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.hw_qg) {
            syyx_manager.create_ad(igc.e_ad_type.video, syyx_sdk_enum_1.e_ad_id.video_add_gold, function () { }, function () { }, function () { }, function () { });
        }
    };
    syyx_manager.show_native_inner_interstitial = function (ad_pos_id, parent, click_back, show_back, hide_back, is_new_type) {
        if (is_new_type === void 0) { is_new_type = true; }
        if (!ad_banner_1.ad_banner.can_show_first) {
            console.log("igc----- is in oppo first ad cd ");
            return;
        }
        var native_data = this.get_local_native_data(ad_pos_id); // ad_pos_id no use
        if (ad_pos_id == '10304001') { // 原生banner
            this.create_inner_interstitial_bn(function (view) {
                if (native_data) {
                    view.show(parent, native_data, click_back, show_back, hide_back, is_new_type);
                }
            });
        }
        else {
            this.create_inner_interstitial(function (view) {
                if (native_data) {
                    view.show(parent, native_data, click_back, show_back, hide_back, is_new_type);
                }
            });
        }
    };
    syyx_manager.click_native_inner_interstitial = function (call_back) {
        this.create_inner_interstitial(function (view) {
            if (view && view.node && view.node.parent) {
                view.report_click();
            }
            else {
                call_back && call_back();
            }
        });
    };
    syyx_manager.click_native_banner = function (call_back) {
        this.create_inner_interstitial_bn(function (view) {
            if (view && view.node && view.node.parent) {
                view.report_click();
            }
            else {
                call_back && call_back();
            }
        });
    };
    /**
    * 获取加载好的原生数据
    * @param ad_pos_id 配置表原生id
    */
    syyx_manager.get_local_native_data = function (ad_pos_id) {
        return syyx_adv_manager_1.syyx_adv_manager.get_local_native_data(ad_pos_id);
    };
    /**
     * 展示视频
     */
    syyx_manager.show_video = function (ad_pos_id, onLoad, onShow, onClose, onError, need_err_tips) {
        if (need_err_tips === void 0) { need_err_tips = false; }
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {
            onClose && onClose(null, { isEnded: true });
            return;
        }
        else if (this.__business_config_data && this.__business_config_data["video_open_switch"] && this.__business_config_data["video_open_switch"].value[0] == 0) { // 视频开关
            {
                need_err_tips && syyx_manager.create_toast("目前暂无广告，请稍后再试");
                onError && onError();
                return;
            }
        }
        else if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.hw_qg) {
            syyx_manager.show_ad(igc.e_ad_type.video, ad_pos_id, onLoad, onShow, function (param, res) {
                if (res.isEnded) { }
                else { }
                onClose && onClose(param, res);
            }, function () {
                need_err_tips && syyx_manager.create_toast("暂无广告，请稍后再试");
                onError && onError();
            });
        }
        else {
            syyx_manager.create_ad(igc.e_ad_type.video, ad_pos_id, onLoad, onShow, function (param, res) {
                if (res.isEnded) {
                }
                else {
                }
                onClose && onClose(param, res);
            }, function (params, err) {
                // code: 2000, msg: your request ad too often
                // need_err_tips && syyx_manager.create_toast( JSON.stringify(err.error))  // 有时新设备第一次打开会报错,官方返回了调取台频繁
                need_err_tips && syyx_manager.create_toast("目前暂时无广告，请稍后再试");
                onError && onError();
            });
        }
    };
    /**
     * 判断平台版本号，看是否支持添加桌面功能
     * platformVersion >= 1044;
     */
    syyx_manager.check_can_add_desktop = function () {
        return igc.igc_main.instance.check_can_add_desktop({});
    };
    /**
     * 检查有没有添加桌面
     * @param can_add  没有添加
     * @param has_add  添加了
     */
    syyx_manager.check_is_add_desktop = function (can_add, has_add) {
        var param = {
            can_add: can_add,
            has_add: has_add
        };
        return igc.igc_main.instance.check_is_add_desktop(param);
    };
    /**
     * 添加桌面操作
     * @param on_success   可以添加桌面 添加桌面的系统界面弹出
     * @param on_failed     不能添加桌面 比如平台版本较低
     * @param on_failed_back  弹出添加桌面的系统界面失败
     * @param has_create    图标已经创建过了
     * ps：当接收到on_success回调后，定时器一秒之后 再调用 check_is_add_desktop 来判断用户是否添加了桌面
     * 如果回调是 can_add 则代表用户取消 如果回调是has_add ，则代表用户添加桌面 可发放奖励
     */
    syyx_manager.add_desktop = function (on_success, on_failed, on_failed_back, has_create) {
        var param = {
            on_success: on_success,
            on_failed: on_failed,
            on_failed_back: on_failed_back,
            has_create: has_create
        };
        return igc.igc_main.instance.add_desktop(param);
    };
    /**
     * 后台转前台监听
     * @param callback
     * callback：function(res){
     * }
     */
    syyx_manager.on_show = function (callback) {
        return igc.igc_main.instance.on_show({
            on_show: callback
        });
    };
    /**
     * 转后台监听
     * @param callback
     * callback：function(res){
     * }
     */
    syyx_manager.on_hide = function (callback) {
        return igc.igc_main.instance.on_hide({
            on_hide: callback
        });
    };
    /**
     * 获取系统信息
     *  {
     *  brand：设备品牌
        model：手机型号
        pixelRatio：设备像素比
        screenWidth：屏幕宽度
        screenHeight：屏幕高度
        windowWidth：可使用窗口宽度
        windowHeight：可使用窗口高度
        statusBarHeight：状态栏/异性缺口高度
        language：环境语言
        version：版本号
        platform：客户端平台
        system：操作系统版本
        platformVersion：平台版本号/客户端基础库版本
        extra:getSystemInfoSync返回的参数
        }
     */
    syyx_manager.get_system_info_sync = function () {
        return igc.igc_main.instance.get_system_info_sync();
    };
    /**
     * 获取游戏启动参数
     * scene：场景值
     * query：查询参数
     * referrerInfo：小游戏启动来源
     * entryDataHash：群入口信息
     * extra 小游戏基本信息，包括宿主 Id，gameId，启动场景等参数
    */
    syyx_manager.get_launch_options_sync = function () {
        return igc.igc_main.instance.get_launch_options_sync();
    };
    /**
     * 关闭小游戏
     */
    syyx_manager.exit_mini_program = function () {
        return igc.igc_main.instance.exit_mini_program();
    };
    /**
     * 小游戏跳转
     * @param param
     * {
     *   app_id:小游戏包名
     *   success:成功回调
     * }
     */
    syyx_manager.navigate_to_mini_program = function (app_id, success) {
        var param = {
            app_id: app_id,
            success: success
        };
        return igc.igc_main.instance.navigate_to_mini_program(param);
    };
    /**
     * 分享卡片
     * @param param
     * {
     *   *  channel：转发内容类型
         *  templateId：分享素材模板id
         *  desc:分享文案
         *  title:标题   （必须）
         *  imageUrl：图片   （必须）
         *  query:查询字符串
         *  extra：附加信息
         *  success:成功回调
         *  fail:失败回调
         *  extra:附加信息
     * }
     */
    syyx_manager.share = function (title, imageUrl, query, desc, success, fail) {
        var param = {
            title: title,
            imageUrl: imageUrl,
            query: query,
            desc: desc,
            success: success,
            fail: fail
        };
        return igc.igc_main.instance.share(param);
    };
    /**
     * 监听右上角分享
     * @param param
     * {
     *  title:标题
        imageUrl：图片
     * }
     */
    syyx_manager.on_share_app_message = function (title, imageUrl) {
        var param = {
            title: title,
            imageUrl: imageUrl
        };
        return igc.igc_main.instance.on_share_app_message(param);
    };
    /**
     * 开始录屏
     * @param param
     * {
     *  time: 录屏最大时间  （非必须）
        is_clip_end: 是否截取最后x秒录屏   （非必须）
        clip_time: 截取最后录屏的时间  例如：截取最后30s   （非必须）
     * }
     */
    syyx_manager.start_record_screen = function (time, is_clip_end, clip_time) {
        var param = {
            time: time,
            is_clip_end: is_clip_end,
            clip_time: clip_time
        };
        return igc.igc_main.instance.start_record_screen(param);
    };
    /**
     * 结束录屏
     */
    syyx_manager.stop_record_screen = function () {
        return igc.igc_main.instance.stop_record_screen();
    };
    /**
     * 暂停录屏
     */
    syyx_manager.pause_record_screen = function () {
        return igc.igc_main.instance.pause_record_screen();
    };
    /**
     * 恢复录屏
     */
    syyx_manager.resume_record_screen = function () {
        return igc.igc_main.instance.resume_record_screen();
    };
    /**
       * 分享录屏
       * @param param
       * {
       *  videoTopics: ["画线大作战","有人@你，就喜欢看你追上我又杀不了我，我的画线秘籍就是..","抖音小游戏",]  话题
       *  title:标题
       *  desc:描述
       *  imageUrl:大图
       *  query:查询字符串
       *  fail:失败回调
       *  success:成功回调
       * }
       */
    syyx_manager.share_record_screen = function (videoTopics, title, desc, imageUrl, query, fail, success) {
        var param = {
            videoTopics: videoTopics,
            title: title,
            desc: desc,
            imageUrl: imageUrl,
            query: query,
            fail: fail,
            success: success,
        };
        return igc.igc_main.instance.share_record_screen(param);
    };
    /**
     * 获取录屏文件
     */
    syyx_manager.get_record_video = function () {
        return igc.igc_main.instance.get_record_video();
    };
    syyx_manager.get_adid_gc_statuc = function (_type) {
        if (this.adIdMap.has(_type)) {
            var array = this.adIdMap.get(_type);
            var res = JSON.parse(array[0]);
            if (Boolean(res)) {
                return res.gc_status;
            }
            else
                return null;
        }
        else
            return null;
    };
    syyx_manager.guobao_get_channel_ad_id = function (_type) {
        if (this.adIdMap.has(_type)) {
            var array = this.adIdMap.get(_type);
            var res = JSON.parse(array[0]);
            if (Boolean(res)) {
                return res.adv_id;
            }
            else
                return null;
        }
        else
            return null;
    };
    /**
     * 加载本地的商业化配置
     */
    syyx_manager.on_load_local_business_config = function () {
        var self = this;
        syyx_sdk_utils_1.syyx_sdk_utils.load_resource(this.__business_config_file_path, function (data) {
            var new_data = igc.igc_resources_utils.parse_csv(data, "id");
            //拉取远端配置失败 则使用本地配置
            new_data["native_icon_switch"] = {
                desc: "原生icon开关",
                id: "native_icon_switch",
                value: [1]
            };
            new_data["native_icon_trap_pro"] = {
                desc: "原生icon易点击概率",
                id: "native_icon_trap_pro",
                value: [1]
            };
            new_data["banner_cool_time"] = {
                desc: "banner自动刷新时间",
                id: "banner_cool_time",
                value: [20, 20]
            };
            new_data["native_icon_cool_time"] = {
                desc: "原生icon自动刷新时间",
                id: "native_icon_cool_time",
                value: [20, 20]
            };
            new_data["adv_banner_cd"] = {
                desc: "原生及banner广告冷却（秒）",
                id: "adv_banner_cd",
                value: [2]
            };
            new_data["banner_top_offset"] = {
                desc: "手Q渠道普通banner上移距离",
                id: "banner_top_offset",
                value: [0, 0]
            };
            new_data["native_banner_open_switch"] = {
                desc: "是否启用原生banner广告开关",
                id: "native_banner_open_switch",
                value: [1]
            };
            new_data["native_banner_click_switch"] = {
                desc: "是否启用原生banner易点击处理",
                id: "native_banner_click_switch",
                value: [0]
            };
            new_data["native_banner_click_pro"] = {
                desc: "原生banner易点击触发概率",
                id: "native_banner_click_pro",
                value: [0]
            };
            new_data["native_banner_click_protect"] = {
                desc: "原生banner易点击保护",
                id: "native_banner_click_protect",
                value: [3]
            };
            new_data["native_institial_white_easy_click"] = {
                desc: "原生插屏点击空白跳转",
                id: "native_institial_white_easy_click",
                value: [0]
            };
            new_data["native_banner_report_click_update_switch"] = {
                desc: "原生Banner点击上报后立即刷新",
                id: "native_banner_report_click_update_switch",
                value: [1]
            };
            new_data["native_icon_report_click_update_switch"] = {
                desc: "原生icon点击上报后立即刷新",
                id: "native_icon_report_click_update_switch",
                value: [1]
            };
            new_data["native_inner_report_click_update_switch"] = {
                desc: "结算原生点击上报后立即刷新",
                id: "native_inner_report_click_update_switch",
                value: [1]
            };
            new_data["native_interstitial_report_click_update_switch"] = {
                desc: "原生插屏点击上报后立即刷新",
                id: "native_interstitial_report_click_update_switch",
                value: [1]
            };
            new_data["show_normal_banner_switch"] = {
                desc: "是否开启展示普通banner开关",
                id: "show_normal_banner_switch",
                value: [1]
            };
            new_data["native_icon_trap_pro"] = {
                desc: "原生icon易点击概率",
                id: "native_icon_trap_pro",
                value: [0]
            };
            new_data["finger_close_banner_switch"] = {
                desc: "关闭Banner后不再展示",
                id: "finger_close_banner_switch",
                // value: [0, 60]
                value: [0, 60]
            };
            new_data["native_inner_institial_click_close_pro"] = {
                desc: "关闭结算原生易跳转概率",
                id: "native_inner_institial_click_close_pro",
                value: [0]
            };
            new_data["native_institial_click_close_pro"] = {
                desc: "关闭原生插屏易跳转概率",
                id: "native_institial_click_close_pro",
                value: [0]
            };
            new_data["open_oppo_new_rule"] = {
                desc: "是否开启oppo新规",
                id: "open_oppo_new_rule",
                value: [1]
            };
            new_data["oppo_banner_cool_time"] = {
                desc: "oppoBanner累计展示刷新时间",
                id: "oppo_banner_cool_time",
                value: [[0, 120, 10], [121, 180, 11], [181, 240, 12]]
            };
            new_data["oppo_native_show_limit"] = {
                desc: "oppo原生展示限制",
                id: "oppo_native_show_limit",
                value: [60, 60]
            };
            new_data["oppo_native_cache_length"] = {
                desc: "oppo原生数据缓存数组长度",
                id: "oppo_native_cache_length",
                value: [5]
            };
            new_data["native_inner_interstitial_switch"] = {
                desc: "结算原生开关",
                id: "native_inner_interstitial_switch",
                value: [1]
            };
            new_data["native_banner_click_pro_limit"] = {
                desc: "原生banner点击率限制",
                id: "native_banner_click_pro_limit",
                value: [1000, 0.4, 60]
            };
            new_data["native_inner_click_pro_limit"] = {
                desc: "结算原生点击率限制",
                id: "native_inner_click_pro_limit",
                value: [1000, 0.4, 60]
            };
            new_data["native_interstitial_click_pro_limit"] = {
                desc: "原生插屏点击率限制",
                id: "native_interstitial_click_pro_limit",
                value: [1000, 0.4, 60]
            };
            new_data["native_interstitial_click_wrap"] = {
                desc: "原生插屏展示策略",
                id: "native_interstitial_click_wrap",
                value: [1000, 2, 5]
            };
            new_data["native_inner_institial_click_wrap"] = {
                desc: "结算原生展示策略",
                id: "native_inner_institial_click_wrap",
                value: [1000, 2, 5]
            };
            new_data["banner_strong_update_switch"] = {
                desc: "banner强制刷新开关",
                id: "banner_strong_update_switch",
                value: [0]
            };
            new_data["native_banner_height_open_rule"] = {
                desc: "原生banner高度启动规则",
                id: "native_banner_height_open_rule",
                value: [2, 3, 5] // 第一个是展示次数为多少时，会提高banner高度
            };
            new_data["native_banner_height_rule"] = {
                desc: "原生banner高度规则",
                id: "native_banner_height_rule",
                value: [200, 320, 1.3]
            };
            new_data["load_native_interstitial_rule"] = {
                desc: "原生插屏加载规则（第X次去加载）",
                id: "load_native_interstitial_rule",
                value: [3]
            };
            new_data["first_use_natibe_banner"] = {
                desc: "原生插屏优先使用原生Banner",
                id: "first_use_natibe_banner",
                value: [1]
            };
            new_data["ctr_test_open"] = {
                desc: "ctr开启开关",
                id: "ctr_test_open",
                value: [1]
            };
            new_data["ctr_test_close_button_delay"] = {
                desc: "ctr测试关闭按钮延迟",
                id: "ctr_test_close_button_delay",
                value: [1]
            };
            new_data["ctr_test_reward_count"] = {
                desc: "ctr测试奖励数量",
                id: "ctr_test_reward_count",
                value: [100]
            };
            new_data["banner_click_mask_open_rule"] = {
                desc: "banner点击区域缩放规则",
                id: "banner_click_mask_open_rule",
                value: [2, 1, 2]
            };
            new_data["banner_click_mask_scale"] = {
                desc: "banner点击区域缩放倍数",
                id: "banner_click_mask_scale",
                value: [1.5]
            };
            new_data["banner_click_mask_scale"] = {
                desc: "banner点击区域缩放倍数",
                id: "banner_click_mask_scale",
                value: [1.5]
            };
            new_data["video_open_switch"] = {
                desc: "视频开关",
                id: "video_open_switch",
                value: [1]
            };
            new_data["vivo_cp_switch"] = {
                desc: "插屏开关",
                id: "vivo_cp_switch",
                value: [1]
            };
            new_data["vivo_yscp_switch"] = {
                desc: "原生插屏开关",
                id: "vivo_yscp_switch",
                value: [1]
            };
            new_data["vivo_hengfu_switch"] = {
                desc: "vivo横幅互推",
                id: "vivo_hengfu_switch",
                value: [1]
            };
            new_data["jgg_switch"] = {
                desc: "ov九宫格互推",
                id: "jgg_switch",
                value: [1]
            };
            //替换模式加载，remote_business_config_data不为空
            var ysbn_status = self.get_adid_gc_statuc('YSBN'); // 原生banner状态
            var bn_status = self.get_adid_gc_statuc('BN'); // 普通banner状态
            var ysjs_status = self.get_adid_gc_statuc('YSJS'); // 原生结算状态
            var sp_status = self.get_adid_gc_statuc('SP'); // 视频状态
            var jsym_status = self.get_adid_gc_statuc('JSYM'); // 新品尝鲜状态 
            var ysic_status = self.get_adid_gc_statuc('YSIC'); // 原生icon开关
            var ht_status = self.get_adid_gc_statuc('HT') || 0; // vivo互推
            var jgg_status = self.get_adid_gc_statuc('JGG') || 0; // 九宫格互推
            var cp_status = self.get_adid_gc_statuc('CP') || 0; // vivo插屏状态
            var yscp_status = self.get_adid_gc_statuc('YSCP') || 0; // vivo插屏状态
            new_data["native_banner_open_switch"].value[0] = ysbn_status; // 原生banner开关
            new_data["show_normal_banner_switch"].value[0] = bn_status; // 普通banner开关 
            new_data["native_inner_interstitial_switch"].value[0] = ysjs_status; // 结算原生开关 
            new_data["video_open_switch"].value[0] = sp_status; // 视频开启开关 
            new_data["ctr_test_open"].value[0] = jsym_status; // 新品尝鲜开启开关 
            new_data["native_icon_switch"].value[0] = ysic_status; //原生icon开关
            new_data["vivo_cp_switch"].value[0] = cp_status; // vivo普通插屏开关 
            new_data["vivo_yscp_switch"].value[0] = yscp_status; // vivo原生插屏开关 
            new_data["vivo_hengfu_switch"].value[0] = ht_status; // vivo互推开关 
            new_data["jgg_switch"].value[0] = jgg_status; // 九宫格互推开关 
            if (self.__remote_business_config_inited) {
                syyx_sdk_utils_1.syyx_sdk_utils.replace_data(new_data, self.__business_config_data);
                console.log("sdk----- bussiness config is--- ", new_data);
                self.__business_config_data = new_data;
            }
            else {
                self.__business_config_data = new_data;
                console.log("sdk-----local bussiness config is ", new_data);
            }
            self.__local_business_config_inited = true;
            self.init_remote_config_compelete();
        }, this);
    };
    /*
    * 预加载九宫格互推盒子
    * @param ad_pos_id adv配置表广告id
    * @param onLoad 加载成功回调
    * @param onShow 展示成功回调
    * @param onClose 关闭回调
    * @param onError 报错回调
    */
    syyx_manager.pre_load_game_portal_box = function (ad_pos_id, onLoad, onShow, onClose, onError) {
        var self = this;
        if (this.support_game_box()) { // 快应用版本大于1076
            syyx_manager.create_ad(igc.e_ad_type.app_box, ad_pos_id, null, null, function () {
                onClose && onClose();
                setTimeout(function () {
                    self.pre_load_game_portal_box(ad_pos_id, null, null, null, null);
                }, 500);
            }, null, igc.e_ad_app_box_type.portal_box);
        }
    };
    /**
     * oppo九宫格互推盒子
     * @param ad_pos_id adv配置表广告id
     * @param onLoad 加载成功回调
     * @param onShow 展示成功回调
     * @param onClose 关闭回调
     * @param onError 报错回调
     * @param need_err_tips 默认为false，为true时显示sdk自带的报错飘字
     */
    syyx_manager.show_game_portal_box = function (ad_pos_id, onLoad, onShow, onClose, onError, need_err_tips) {
        if (need_err_tips === void 0) { need_err_tips = false; }
        var self = this;
        // 九宫格互推开关
        if (this.__business_config_data && this.__business_config_data["jgg_switch"]) {
            if (this.__business_config_data["jgg_switch"].value[0] == 0) {
                need_err_tips && syyx_manager.create_toast("加载中，稍后再试");
                onError && onError();
                return;
            }
        }
        syyx_manager.show_ad(igc.e_ad_type.app_box, ad_pos_id, onLoad, onShow, function () {
            onClose && onClose();
            setTimeout(function () {
                self.pre_load_game_portal_box(ad_pos_id, null, null, null, null);
            }, 500);
        }, function () {
            need_err_tips && syyx_manager.create_toast("加载中，稍后再试");
            onError && onError();
        }, igc.e_ad_app_box_type.portal_box);
    };
    syyx_manager.show_game_portal_box_vivo = function (ad_pos_id, onLoad, onShow, onClose, onError, need_err_tips) {
        if (need_err_tips === void 0) { need_err_tips = false; }
        var self = this;
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id) {
            return;
        }
        // 九宫格互推开关
        if (this.__business_config_data && this.__business_config_data["jgg_switch"]) {
            if (this.__business_config_data["jgg_switch"].value[0] == 0) {
                need_err_tips && syyx_manager.create_toast("加载中，稍后再试");
                onError && onError();
                return;
            }
        }
        if (window['qg'].getSystemInfoSync().platformVersionCode >= 1092) {
            var boxPortalAd_1 = null;
            boxPortalAd_1 = window['qg'].createBoxPortalAd({
                posId: ad_id
            });
            boxPortalAd_1.onLoad(function () {
                console.log("vivo九宫格广告加载成功");
                onLoad && onLoad();
            });
            boxPortalAd_1.onError(function (err) {
                console.log("vivo九宫格加载失败", err);
                // syyx_manager.create_toast(JSON.stringify(err))
                onError && onError(err);
            });
            boxPortalAd_1.onClose(function () {
                console.log('close');
                if (boxPortalAd_1.isDestroyed) {
                    return;
                }
                // 当九宫格关闭之后，再次展示Icon
                boxPortalAd_1.show();
            });
            // 广告数据加载成功后展示
            boxPortalAd_1.show().then(function () {
                onShow && onShow();
            }).catch(function (error) {
                onError && onError(error);
            });
            self.game_portal_box_vivo = boxPortalAd_1;
        }
        else {
            console.log('暂不支持互推盒子相关 API');
        }
    };
    // vivo 原生模板
    syyx_manager.show_original_module = function (ad_pos_id, onSuccess, onError, onClose, top, left) {
        var self = this;
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id) {
            return;
        }
        if (window['qg'].getSystemInfoSync().platformVersionCode < 1091) {
            onError && onError('低于1092版本不支持');
            return;
        }
        if (top && left) {
            var customAd = window['qg'].createCustomAd({
                posId: ad_id,
                style: {
                    left: left,
                    top: top,
                }
            });
        }
        else {
            var customAd = window['qg'].createCustomAd({
                posId: ad_id
            });
        }
        customAd.onError(function (err) {
            onError && onError(err);
            console.log("原生模板广告加载失败", err);
        });
        customAd.onClose(function () {
            onClose && onClose();
            console.log("原生模板广告关闭事件的回调函数");
        });
        customAd.show().then(function () {
            console.log('原生模板广告展示完成');
            onSuccess && onSuccess();
            // 存储实例，用于关闭使用
            self.original_module_data = customAd;
        }).catch(function (err) {
            onError && onError(err);
            console.log('原生模板广告展示失败', JSON.stringify(err));
        });
    };
    // 原生模板  关闭
    syyx_manager.destory_original_module = function () {
        if (this.original_module_data) {
            this.original_module_data.hide();
            this.original_module_data.destroy();
        }
        this.mCustomAD && this.mCustomAD.hide();
        this.mCustomAD && this.mCustomAD.destroy();
        this.mCustomAD = null;
    };
    syyx_manager.GetSystemInfoSync2 = function () {
        if (this.systemVersion2 == null) {
            this.systemVersion2 = window['qg'].getSystemInfoSync().platformVersionCode;
        }
        return this.systemVersion2;
    };
    // oppo 原生模板
    syyx_manager.show_original_module_oppo = function (ad_pos_id, style, onLoad, onSuccess, onError, onClose) {
        var self = this;
        var ad_id = syyx_adv_manager_1.syyx_adv_manager.get_channel_ad_id(ad_pos_id);
        if (!ad_id) {
            return;
        }
        if (window['qg'].getSystemInfoSync().platformVersionCode < 1092) {
            // syyx_manager.create_toast('版本过低')
            // syyx_manager.create_toast(window['qg'].getSystemInfoSync().platformVersionCode)
            console.log("版本过低 不支持原生模板广告");
            return;
        }
        if (!Boolean(style) || style.length != 3) {
            // syyx_manager.create_toast('style错误')
            console.log("参数检测错误 opencustomad style");
            return;
        }
        if (this.mCustomAD == null) {
            var customAd_1 = window['qg'].createCustomAd({
                adUnitId: ad_id,
                style: {
                    top: style[0],
                    left: style[1],
                    width: style[2],
                }
            });
            var self_2 = this;
            customAd_1.onLoad(function () {
                console.log('原生模板广告加载成功');
                onLoad && onLoad();
                customAd_1.offLoad();
            });
            customAd_1.onShow(function () {
                console.log('原生模板广告显示');
                customAd_1.offShow();
                onSuccess && onSuccess();
            });
            customAd_1.onHide(function () {
                console.log('customAd广告隐藏');
                customAd_1.offHide();
                onClose && onClose();
                customAd_1.destroy();
                self_2.mCustomAD = null;
            });
            customAd_1.show().then(function () {
                console.log('show success');
                self_2.mCustomAD = customAd_1;
            }).catch(function (error) {
                // syyx_manager.create_toast(error.errCode + '错误：' +   error.errMsg)
                console.log('show fail with:' + error.errCode + ',' + error.errMsg);
                self_2.mCustomAD = null;
                onError && onError(error);
            });
            // return;
        }
        // return;
    };
    // 新品尝鲜
    syyx_manager.show_new_products = function (call_back) {
        if (syyx_sdk_config_1.syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {
            return;
        }
        var _business_config_data = syyx_manager.get_business_config();
        //判断新品尝鲜开关
        if (_business_config_data && _business_config_data["ctr_test_open"]) {
            //开关有值  且 值为0 关闭则设置定时器刷新普通banner
            if (_business_config_data["ctr_test_open"].value[0] == 0) {
                return;
            }
        }
        syyx_ctr_manager_1.syyx_ctr_manager.show_new_products(call_back);
    };
    syyx_manager.__syyx_app_id = 0;
    syyx_manager.viewMap = {};
    syyx_manager.func_open = {};
    syyx_manager.boxBannerAd_vivo = null;
    syyx_manager.game_portal_box_vivo = null;
    syyx_manager.adIdMap = new Map();
    //初始化参数
    syyx_manager.__game_init_file_path = "syyx_configs/syyx_game_init.json";
    syyx_manager.__business_config_file_path = "";
    syyx_manager.__adv_config_file_path = "";
    syyx_manager.__business_version = "__business_version";
    syyx_manager.__init_callback = undefined;
    syyx_manager.login_user_id = ''; // oppo登录用户id
    syyx_manager.has_init_param = false;
    syyx_manager.has_login_channel = false;
    syyx_manager.__game_init_data = undefined;
    syyx_manager.__business_config_data = {}; //运营配置,本地商业化配置
    syyx_manager._guobao_init_config_data = []; // guobao初始化配置
    syyx_manager.__local_business_config_inited = false;
    syyx_manager.__remote_business_config_inited = false;
    syyx_manager.remote_business_config_data = null; //远端运营配置暂存 
    syyx_manager.original_module_data = null; // 原生模板广告实例
    syyx_manager.mCustomAD = null; // 原生模板广告实例 oppo
    syyx_manager.__is_new_player = false;
    //回调标记
    syyx_manager.init_completed_tag = false;
    syyx_manager.refresh_completed_tag = false;
    /**
    * 打点初始化完成标记
    */
    syyx_manager.__stat_inited = false;
    /**
     * 打点初始化完成后1s才能打自定义打点
     */
    syyx_manager.__is_stat_delay = false;
    syyx_manager.__stat_data_cache = [];
    ////////////////////
    //渠道封装
    //渠道登录
    syyx_manager.__user_id = "";
    syyx_manager.systemVersion2 = null;
    return syyx_manager;
}());
exports.syyx_manager = syyx_manager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc3l5eF9zZGtcXGNvbnRyb2xsZXJcXHN5eXhfbWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw4REFBOEY7QUFDOUYsMERBQW1EO0FBQ25ELHdDQUEyRDtBQUMzRCwwREFBeUQ7QUFDekQsNENBQTJDO0FBQzNDLDBEQUF5RDtBQUN6RCxnRUFBK0Q7QUFDL0QsMkRBQTBEO0FBQzFELDhDQUFxRDtBQUlyRDtJQUFBO0lBMHdEQSxDQUFDO0lBanRERzs7OztPQUlHO0lBQ0ksaUJBQUksR0FBWCxVQUFZLGFBQXVCO1FBRS9CLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQTtRQUNmLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQTtRQUNyQyxNQUFNO1FBQ04sSUFBSSxZQUFZLENBQUE7UUFFaEIsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDZCxZQUFZLEdBQUcsR0FBRyxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUE7U0FDdkM7YUFDSSxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNwQixZQUFZLEdBQUcsR0FBRyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUE7U0FDMUM7YUFDSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNuQixZQUFZLEdBQUcsR0FBRyxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUE7U0FDdkM7YUFDSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNyQyxJQUFJLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFRLENBQUE7WUFDNUIsSUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2hDLElBQUksUUFBUSxJQUFJLE1BQU0sRUFBRTtnQkFDcEIsWUFBWSxHQUFHLEdBQUcsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFBLENBQUUs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ekIsNkJBQWdCLEdBQUcsU0FBUyxDQUFBO0lBRTVCLG1DQUFzQixHQUFHLEVBQUUsQ0FBQyxDQUFBLGNBQWM7SUFDMUMscUNBQXdCLEdBQUcsRUFBRSxDQUFBLENBQUUsY0FBYztJQUU3QywyQ0FBOEIsR0FBRyxLQUFLLENBQUM7SUFDdkMsNENBQStCLEdBQUcsS0FBSyxDQUFDO0lBQ3hDLHdDQUEyQixHQUFHLElBQUksQ0FBQSxDQUFBLFdBQVc7SUFFN0MsaUNBQW9CLEdBQUcsSUFBSSxDQUFBLENBQUEsV0FBVztJQUN0QyxzQkFBUyxHQUFHLElBQUksQ0FBQSxDQUFDLGdCQUFnQjtJQUVqQyw0QkFBZSxHQUFHLEtBQUssQ0FBQTtJQUU5QixNQUFNO0lBQ0MsK0JBQWtCLEdBQUcsS0FBSyxDQUFBO0lBQzFCLGtDQUFxQixHQUFHLEtBQUssQ0FBQTtJQUtwQzs7TUFFRTtJQUNLLDBCQUFhLEdBQUcsS0FBSyxDQUFBO0lBQzVCOztPQUVHO0lBQ0ksNEJBQWUsR0FBRyxLQUFLLENBQUE7SUFDdkIsOEJBQWlCLEdBQUcsRUFBRSxDQUFBO0lBb2Y3QixvQkFBb0I7SUFDcEIsTUFBTTtJQUVOLE1BQU07SUFDQyxzQkFBUyxHQUFHLEVBQUUsQ0FBQTtJQXVvQ2QsMkJBQWMsR0FBVyxJQUFJLENBQUM7SUFvRnpDLG1CQUFDO0NBMXdERCxBQTB3REMsSUFBQTtBQTF3RFksb0NBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzeXl4X2NvbnN0LCBlX3N5eXhfc2RrX3B1Ymxpc2hfdHlwZSwgaW5pdF9jb25maWcgfSBmcm9tIFwiLi4vY29uZmlncy9zeXl4X3Nka19jb25maWdcIjtcclxuaW1wb3J0IHsgZV9hZF9pZCB9IGZyb20gXCIuLi9jb25maWdzL3N5eXhfc2RrX2VudW1cIjtcclxuaW1wb3J0IHsgc3l5eF92aWV3LCBuYXRpdmVfYWRfZGF0YSB9IGZyb20gXCIuLi9tb2RlbC9tb2RlbFwiO1xyXG5pbXBvcnQgeyBzeXl4X3Nka191dGlscyB9IGZyb20gXCIuLi91dGlscy9zeXl4X3Nka191dGlsc1wiO1xyXG5pbXBvcnQgeyBhZF9iYW5uZXIgfSBmcm9tIFwiLi9hZC9hZF9iYW5uZXJcIjtcclxuaW1wb3J0IHsgc3l5eF9hZHZfbWFuYWdlciB9IGZyb20gXCIuL2FkL3N5eXhfYWR2X21hbmFnZXJcIjtcclxuaW1wb3J0IHsgc3l5eF9jdHJfbWFuYWdlciB9IGZyb20gXCIuL2N0cl90ZXN0L3N5eXhfY3RyX21hbmFnZXJcIjtcclxuaW1wb3J0IHsgc3l5eF9jY191aV9tYW5hZ2VyIH0gZnJvbSBcIi4vc3l5eF9jY191aV9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHN5eXhfYXBpX3JlcXVlc3QgfSBmcm9tIFwiLi4vdXRpbHMvc3l5eF9hcGlcIjtcclxuaW1wb3J0IHsgc3l5eF9zZGtfYXBpIH0gZnJvbSBcIi4uL3N5eXhfc2RrX2FwaVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBzeXl4X21hbmFnZXIge1xyXG5cclxuICAgIC8v5piv5ZCm5Yid5aeL5YyWb2tcclxuICAgIHN0YXRpYyBfX2luaXRlZDtcclxuICAgIHN0YXRpYyBfX3N5eXhfYXBwX2lkID0gMDtcclxuICAgIHN0YXRpYyB2aWV3TWFwOiB7IFtrZXk6IG51bWJlcl06IGFueSB9ID0ge307XHJcbiAgICBzdGF0aWMgZnVuY19vcGVuOiB7IFtrZXk6IG51bWJlcl06IGJvb2xlYW4gfSA9IHt9O1xyXG5cclxuICAgIHN0YXRpYyBib3hCYW5uZXJBZF92aXZvOiBhbnkgPSBudWxsOyBcclxuICAgIHN0YXRpYyBnYW1lX3BvcnRhbF9ib3hfdml2bzogYW55ID0gbnVsbDsgXHJcbiAgICBcclxuICAgIHByaXZhdGUgc3RhdGljIGFkSWRNYXA6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICAvL+WIneWni+WMluWPguaVsFxyXG4gICAgc3RhdGljIF9fZ2FtZV9pbml0X2ZpbGVfcGF0aCA9IFwic3l5eF9jb25maWdzL3N5eXhfZ2FtZV9pbml0Lmpzb25cIjtcclxuICAgIHN0YXRpYyBfX2J1c2luZXNzX2NvbmZpZ19maWxlX3BhdGggPSBcIlwiO1xyXG4gICAgc3RhdGljIF9fYWR2X2NvbmZpZ19maWxlX3BhdGggPSBcIlwiO1xyXG5cclxuICAgIHN0YXRpYyBfX2J1c2luZXNzX3ZlcnNpb24gPSBcIl9fYnVzaW5lc3NfdmVyc2lvblwiO1xyXG5cclxuICAgIHN0YXRpYyBfX2luaXRfY2FsbGJhY2sgPSB1bmRlZmluZWQ7XHJcbiAgICBzdGF0aWMgbG9naW5fdXNlcl9pZCA9ICcnOyAvLyBvcHBv55m75b2V55So5oi3aWRcclxuXHJcbiAgICBzdGF0aWMgaGFzX2luaXRfcGFyYW0gPSBmYWxzZVxyXG4gICAgc3RhdGljIGhhc19sb2dpbl9jaGFubmVsID0gZmFsc2VcclxuXHJcbiAgICBzdGF0aWMgX19nYW1lX2luaXRfZGF0YSA9IHVuZGVmaW5lZFxyXG5cclxuICAgIHN0YXRpYyBfX2J1c2luZXNzX2NvbmZpZ19kYXRhID0ge307Ly/ov5DokKXphY3nva4s5pys5Zyw5ZWG5Lia5YyW6YWN572uXHJcbiAgICBzdGF0aWMgX2d1b2Jhb19pbml0X2NvbmZpZ19kYXRhID0gW10gIC8vIGd1b2Jhb+WIneWni+WMlumFjee9rlxyXG5cclxuICAgIHN0YXRpYyBfX2xvY2FsX2J1c2luZXNzX2NvbmZpZ19pbml0ZWQgPSBmYWxzZTtcclxuICAgIHN0YXRpYyBfX3JlbW90ZV9idXNpbmVzc19jb25maWdfaW5pdGVkID0gZmFsc2U7XHJcbiAgICBzdGF0aWMgcmVtb3RlX2J1c2luZXNzX2NvbmZpZ19kYXRhID0gbnVsbC8v6L+c56uv6L+Q6JCl6YWN572u5pqC5a2YIFxyXG5cclxuICAgIHN0YXRpYyBvcmlnaW5hbF9tb2R1bGVfZGF0YSA9IG51bGwvLyDljp/nlJ/mqKHmnb/lub/lkYrlrp7kvotcclxuICAgIHN0YXRpYyBtQ3VzdG9tQUQgPSBudWxsIC8vIOWOn+eUn+aooeadv+W5v+WRiuWunuS+iyBvcHBvXHJcblxyXG4gICAgc3RhdGljIF9faXNfbmV3X3BsYXllciA9IGZhbHNlXHJcblxyXG4gICAgLy/lm57osIPmoIforrBcclxuICAgIHN0YXRpYyBpbml0X2NvbXBsZXRlZF90YWcgPSBmYWxzZVxyXG4gICAgc3RhdGljIHJlZnJlc2hfY29tcGxldGVkX3RhZyA9IGZhbHNlXHJcbiAgICAvL3Vp6aKE5Yi25L2T6YWN6KGo5L+h5oGvXHJcbiAgICBzdGF0aWMgX3VpX3ByZWZhYl9jb25maWdcclxuICAgIHN0YXRpYyBfX3VpX3ByZWZhYl9jb25maWdfcGF0aFxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDmiZPngrnliJ3lp4vljJblrozmiJDmoIforrBcclxuICAgICovXHJcbiAgICBzdGF0aWMgX19zdGF0X2luaXRlZCA9IGZhbHNlXHJcbiAgICAvKipcclxuICAgICAqIOaJk+eCueWIneWni+WMluWujOaIkOWQjjFz5omN6IO95omT6Ieq5a6a5LmJ5omT54K5XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfX2lzX3N0YXRfZGVsYXkgPSBmYWxzZVxyXG4gICAgc3RhdGljIF9fc3RhdF9kYXRhX2NhY2hlID0gW11cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIneWni+WMllxyXG4gICAgICogQHBhcmFtIGluaXRfY29uZmlnX3BhdGggc3l5eF9nYW1lX2luaXQuanNvbiDmnKzlnLDlnLDlnYBcclxuICAgICAqIEBwYXJhbSBpbml0X2NhbGxiYWNrIHN5eXhfZ2FtZV9pbml0Lmpzb27liqDovb3miJDlip/lm57osINcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGluaXQoaW5pdF9jYWxsYmFjazogRnVuY3Rpb24pIHtcclxuXHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLl9fZ2FtZV9pbml0X2ZpbGVfcGF0aFxyXG4gICAgICAgIC8v5Yy65YiG5rig6YGTXHJcbiAgICAgICAgbGV0IGNoYW5uZWxfdHlwZVxyXG5cclxuICAgICAgICBpZiAod2luZG93WydxcSddKSB7XHJcbiAgICAgICAgICAgIGNoYW5uZWxfdHlwZSA9IGlnYy5lX2NoYW5uZWxfdHlwZS5xcVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh3aW5kb3dbXCJoYnNcIl0pIHtcclxuICAgICAgICAgICAgY2hhbm5lbF90eXBlID0gaWdjLmVfY2hhbm5lbF90eXBlLmh3X3FnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHdpbmRvd1tcInR0XCJdKSB7XHJcbiAgICAgICAgICAgIGNoYW5uZWxfdHlwZSA9IGlnYy5lX2NoYW5uZWxfdHlwZS50dFxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgZWxzZSBpZiAod2luZG93W1wicWdcIl0gJiYgIXdpbmRvd1tcImhic1wiXSkge1xyXG4gICAgICAgICAgICBsZXQgcWcgPSB3aW5kb3dbXCJxZ1wiXSBhcyBhbnlcclxuICAgICAgICAgICAgbGV0IHByb3ZpZGVyID0gcWcuZ2V0UHJvdmlkZXIoKTtcclxuICAgICAgICAgICAgaWYgKHByb3ZpZGVyID09IFwiT1BQT1wiKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGUgPSBpZ2MuZV9jaGFubmVsX3R5cGUub3Bwb19xZyAgLy8gMlxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb3ZpZGVyID09IFwidml2b1wiKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGUgPSBpZ2MuZV9jaGFubmVsX3R5cGUudml2b19xZyAgLy8gNFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBcclxuICAgICAgICBcclxuICAgICAgICBlbHNlIGlmICh3aW5kb3dbXCJ3eFwiXSkge1xyXG4gICAgICAgICAgICBjaGFubmVsX3R5cGUgPSBpZ2MuZV9jaGFubmVsX3R5cGUud3hcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAod2luZG93W1wibG9hZGluZ1ZpZXdcIl0pIHtcclxuICAgICAgICAgICAgY2hhbm5lbF90eXBlID0gaWdjLmVfY2hhbm5lbF90eXBlLmFwa1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoYW5uZWxfdHlwZSA9IGlnYy5lX2NoYW5uZWxfdHlwZS53ZWJcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcInNkay0tLS0tY2hhbm5lbCB0eXBlIDEud2ViIDIub3BwbyA0LnZpdm8gNS5xcSA3LmFwayAgOC50dCAgMTA6aHdfcWcg77yaXCIsIGNoYW5uZWxfdHlwZSlcclxuXHJcbiAgICAgICAgc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID0gY2hhbm5lbF90eXBlXHJcblxyXG4gICAgICAgIC8v5YWI5Yqg6L295ri45oiP5Yid5aeL5YyW6YWN572u6KGoXHJcbiAgICAgICAgc3l5eF9zZGtfdXRpbHMubG9hZF9yZXNvdXJjZShwYXRoLCBkYXRhID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZGstLS0tLXN5eXhfZ2FtZV9pbml0Lmpzb25cIiwgZGF0YSlcclxuICAgICAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfcHVibGlzaCA9PT0gZV9zeXl4X3Nka19wdWJsaXNoX3R5cGUub3V0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLm9wcG9fcWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbml0X2NvbmZpZy5vcHBvX3FnLmFwcF9pZCA9IGRhdGEuc3l5eF9hcHBfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdF9jb25maWcub3Bwb19xZy5hcHBfdmVyc2lvbiA9IGRhdGEuY2hhbm5lbFtjaGFubmVsX3R5cGVdLmFwcF92ZXJzaW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRfY29uZmlnLm9wcG9fcWcucGtnX25hbWUgPSBkYXRhLmNoYW5uZWxbY2hhbm5lbF90eXBlXS5wa2dfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBpbml0X2NvbmZpZy5vcHBvX3FnLnN0YXRfa2V5ID0gZGF0YS5zdGF0X2tleTtcclxuICAgICAgICAgICAgICAgICAgICBpbml0X2NvbmZpZy5vcHBvX3FnLmNvbmZpZ0FwcFNlY0tleSA9IGRhdGEuY29uZmlnX2tleTtcclxuICAgICAgICAgICAgICAgICAgICAvLyDojrflj5ZvcHBv55So5oi3aWRcclxuICAgICAgICAgICAgICAgICAgICBzeXl4X2NvbnN0Lmd1b2Jhb19pbml0X2dhbWUgPSBzeXl4X2NvbnN0LmdhbWVfbmFtZV9vcHBvIC8vIG9wcG/muKDpgZPojrflj5bmuLjmiI/nvJbnoIHvvIzliJ3lp4vljJbkvb/nlKjvvIzojrflj5blub/lkYppZFxyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dbXCJxZ1wiXSAmJiB3aW5kb3dbXCJxZ1wiXS5sb2dpbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBrZ05hbWU6IGluaXRfY29uZmlnLm9wcG9fcWcucGtnX25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9naW5fdXNlcl9pZCA9IHJlcy51aWQgLy8gb3Bwby51aWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2dpbl91c2VyX2lkID0gJzQ0NDQ0NDQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLnZpdm9fcWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbml0X2NvbmZpZy52aXZvX3FnLmFwcF9pZCA9IGRhdGEuc3l5eF9hcHBfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdF9jb25maWcudml2b19xZy5hcHBfdmVyc2lvbiA9IGRhdGEuY2hhbm5lbFtjaGFubmVsX3R5cGVdLmFwcF92ZXJzaW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRfY29uZmlnLnZpdm9fcWcucGtnX25hbWUgPSBkYXRhLmNoYW5uZWxbY2hhbm5lbF90eXBlXS5wa2dfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBpbml0X2NvbmZpZy52aXZvX3FnLnN0YXRfa2V5ID0gZGF0YS5zdGF0X2tleTtcclxuICAgICAgICAgICAgICAgICAgICBpbml0X2NvbmZpZy52aXZvX3FnLmNvbmZpZ0FwcFNlY0tleSA9IGRhdGEuY29uZmlnX2tleTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3l5eF9jb25zdC5ndW9iYW9faW5pdF9nYW1lID0gc3l5eF9jb25zdC5nYW1lX25hbWVfdml2byAvLyBvcHBv5rig6YGT6I635Y+W5ri45oiP57yW56CB77yM5Yid5aeL5YyW5L2/55SoXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+e9kemhteiwg+ivlVxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRfY29uZmlnLndlYi5hcHBfaWQgPSBkYXRhLnN5eXhfYXBwX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdF9jb25maWcud2ViLmFwcF92ZXJzaW9uID0gXCIxMjNcIlxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRfY29uZmlnLndlYi5wa2dfbmFtZSA9IFwiMTIzXCJcclxuICAgICAgICAgICAgICAgICAgICBpbml0X2NvbmZpZy53ZWIuc3RhdF9rZXkgPSBkYXRhLnN0YXRfa2V5XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdF9jb25maWcud2ViLmNvbmZpZ0FwcFNlY0tleSA9IGRhdGEuY29uZmlnX2tleVxyXG4gICAgICAgICAgICAgICAgICAgIHN5eXhfY29uc3QuZ3VvYmFvX2luaXRfZ2FtZSA9IHN5eXhfY29uc3QuZ2FtZV9uYW1lX29wcG8gLy8gd2Vi6buY6K6k55Sob3Bwb+eahOa4uOaIj+e8lueggVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN5eXhfY29uc3QuZ3VvYmFvX2luaXRfZ2FtZSA9IHN5eXhfY29uc3QuZ2FtZV9uYW1lX3Zpdm8gLy8gd2Vi6buY6K6k55Sodml2b+eahOa4uOaIj+e8lueggVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlnYy5pZ2NfbWFpbi5pbnN0YW5jZS5pbml0X3dyYXAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsLCBpbml0X2NvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbGYuX19zeXl4X2FwcF9pZCA9IGRhdGEuc3l5eF9hcHBfaWRcclxuICAgICAgICAgICAgc2VsZi5fX2dhbWVfaW5pdF9kYXRhID0gZGF0YVxyXG4gICAgICAgICAgICBzZWxmLl9fYnVzaW5lc3NfY29uZmlnX2ZpbGVfcGF0aCA9IGRhdGEuYnVzaW5lc3NfY29uZmlnX2ZpbGVfcGF0aFxyXG4gICAgICAgICAgICBzZWxmLl9fYWR2X2NvbmZpZ19maWxlX3BhdGggPSBkYXRhLmFkdl9jb25maWdfZmlsZV9wYXRoXHJcbiAgICAgICAgICAgIHNlbGYuX191aV9wcmVmYWJfY29uZmlnX3BhdGggPSBkYXRhLnVpX3ByZWZhYl9jb25maWdfcGF0aFxyXG5cclxuICAgICAgICAgICAgc2VsZi5fX2luaXRfY2FsbGJhY2sgPSBpbml0X2NhbGxiYWNrXHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZi5fX2luaXRfY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIC8vIOWIsOi/memHjOWPquaYr+WIneWni+WMluWujOaIkO+8jOWKoOi9veS6hi5qc29uXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYyAtLS0tLSBnYW1lX2luaXQuanNvbiBoYXMgbG9hZGVkXCIpXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9faW5pdF9jYWxsYmFjayh0cnVlLCB7IGJ1c2luZXNzX2NvbmZpZzogbnVsbCwgbG9hZF9pbml0X2NvbXBsZXRlOiB0cnVlLCBsb2FkX2xvY2FsX2NvbXBsZXRlOiBmYWxzZSwgbG9hZF9yZW1vdGVfY29tcGxldGU6IGZhbHNlIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN5eXhfYXBpX3JlcXVlc3QuYXBpUG9zdCgnaW5pdCcsIHN5eXhfY29uc3QuZ3VvYmFvX2luaXRfYXBpVXJsLCB7Z2FtZTogc3l5eF9jb25zdC5ndW9iYW9faW5pdF9nYW1lfSwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlcy0tLS0tLS0tLS0tLScsIHJlcylcclxuICAgICAgICAgICAgICAgIGlmKHJlcy5jID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9ndW9iYW9faW5pdF9jb25maWdfZGF0YSA9IHJlcy5kXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFkcyA9IHNlbGYuX2d1b2Jhb19pbml0X2NvbmZpZ19kYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSBvZiBhZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkudHlwZSA9PSBcIm9mZmljaWFsXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5hZElkTWFwLmhhcyhpLmtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcDogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkSWRNYXAuc2V0KGkua2V5LCB0ZW1wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2X2lkOiBpLmFkdl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnY19zdGF0dXM6IGkuZ2Nfc3RhdHVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkSWRNYXAuZ2V0KGkua2V5KS5wdXNoKEpTT04uc3RyaW5naWZ5KG9iaikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2Rr5Yid5aeL5YyW5aSx6LSlLCDnlKjpu5jorqTnmoQnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2FkX2NvbmZpZygpOyAvLyDmnInkuoZndW9iYW9faW5pdF9jb25maWdfZGF0Ye+8jOWPr+S7peabv+aNouWFtuS4reeahOS4gOS6m+mFjee9rlxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9LCB0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRfYXBwX3ZlcnNpb24oKSB7XHJcbiAgICAgICAgbGV0IGNoYW5uZWxfdHlwZSA9IHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCArIFwiXCJcclxuICAgICAgICBsZXQgdmVyc2lvbiA9IFwiXCJcclxuICAgICAgICBpZiAodGhpcy5fX2dhbWVfaW5pdF9kYXRhICYmIHRoaXMuX19nYW1lX2luaXRfZGF0YS5jaGFubmVsW2NoYW5uZWxfdHlwZV0pIHtcclxuICAgICAgICAgICAgdmVyc2lvbiA9IHRoaXMuX19nYW1lX2luaXRfZGF0YS5jaGFubmVsW2NoYW5uZWxfdHlwZV0uYXBwX3ZlcnNpb25cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2ZXJzaW9uID0gXCIwLjAuMC4wXCJcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImlnYy0tLS0tIGNhbiBub3QgZmluZCBhcHBfdmVyc2lvbiBpbiBzeXl4X2dhbWVfaW5pdC5qc29uXCIpXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJpZ2MtLS0tLSBjaGFubmVsX3R5cGUgIFwiLCBjaGFubmVsX3R5cGUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2ZXJzaW9uXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldF9zeXl4X2FwcF9pZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fX3N5eXhfYXBwX2lkIHx8IFwiXCJcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgR2V0QnV0dG9uc0RhdGEoKSB7IC8vIGNw6I635Y+W5LiA5Lqb5oyJ6ZKu5byA5YWzXHJcbiAgICAgICAgbGV0IHJlc2RhdGEgPSBbXTtcclxuICAgICAgICBpZih0aGlzLl9ndW9iYW9faW5pdF9jb25maWdfZGF0YSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpIG9mIHRoaXMuX2d1b2Jhb19pbml0X2NvbmZpZ19kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaS50eXBlID09IFwiYnV0dG9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNkYXRhLnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc2RhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldF9pc19uZXdfcGxheWVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9faXNfbmV3X3BsYXllciB8fCAwXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldF91c2VyX2lkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9fdXNlcl9pZCB8fCBcIlwiXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDov5znq6/phY3nva7lkozkupLmjqjphY3nva7ov5znq6/mi4nlj5blrozmr5VcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGluaXRfcmVtb3RlX2NvbmZpZ19jb21wZWxldGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX19sb2NhbF9idXNpbmVzc19jb25maWdfaW5pdGVkID09IHRydWUgJiYgIXRoaXMuaW5pdF9jb21wbGV0ZWRfdGFnKSB7XHJcbiAgICAgICAgICAgIHN5eXhfYWR2X21hbmFnZXIubG9hZF9hZHZfY29uZmlnKClcclxuICAgICAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5pbml0X2ZpcnN0X2Jhbm5lcl9jZCgpXHJcbiAgICAgICAgICAgIHRoaXMuX19pbml0ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9faW5pdF9jYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0X2NvbXBsZXRlZF90YWcgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYyAtLS0tLSBsb2NhbCBkYXRhIGhhcyBiZWVuIGJhY2tcIilcclxuICAgICAgICAgICAgICAgIHRoaXMuX19pbml0X2NhbGxiYWNrKHRydWUsIHsgYnVzaW5lc3NfY29uZmlnOiB0aGlzLl9fYnVzaW5lc3NfY29uZmlnX2RhdGEsIGxvYWRfaW5pdF9jb21wbGV0ZTogZmFsc2UsIGxvYWRfbG9jYWxfY29tcGxldGU6IHRydWUsIGxvYWRfcmVtb3RlX2NvbXBsZXRlOiBmYWxzZSB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX19yZW1vdGVfYnVzaW5lc3NfY29uZmlnX2luaXRlZCAmJiAhdGhpcy5yZWZyZXNoX2NvbXBsZXRlZF90YWcpIHtcclxuICAgICAgICAgICAgc3l5eF9hZHZfbWFuYWdlci5sb2FkX2Fkdl9jb25maWcoKVxyXG4gICAgICAgICAgICBzeXl4X2Fkdl9tYW5hZ2VyLmluaXRfZmlyc3RfYmFubmVyX2NkKClcclxuICAgICAgICAgICAgdGhpcy5fX2luaXRlZCA9IHRydWVcclxuICAgICAgICAgICAgaWYgKHRoaXMuX19pbml0X2NhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hfY29tcGxldGVkX3RhZyA9IHRydWVcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjIC0tLS0tIHJlbW90ZSBkYXRhIGhhcyBiZWVuIGJhY2tcIilcclxuICAgICAgICAgICAgICAgIHRoaXMuX19pbml0X2NhbGxiYWNrKHRydWUsIHsgYnVzaW5lc3NfY29uZmlnOiB0aGlzLl9fYnVzaW5lc3NfY29uZmlnX2RhdGEsIGxvYWRfaW5pdF9jb21wbGV0ZTogZmFsc2UsIGxvYWRfbG9jYWxfY29tcGxldGU6IGZhbHNlLCBsb2FkX3JlbW90ZV9jb21wbGV0ZTogdHJ1ZSB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKTmlq3nlKjmiLflkK/liqjmuLjmiI/nsbvlnosgIOaYr+WQpumAmui/h+WIhuS6q+i/m+WFpVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY2hlY2tfdXNlcl9zdGFydF9nYW1lX3R5cGUoKSB7XHJcbiAgICAgICAgbGV0IGlzX29sZF9wbGF5ZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImlzX29sZF9wbGF5ZXJcIilcclxuICAgICAgICB0aGlzLl9faXNfbmV3X3BsYXllciA9IGlzX29sZF9wbGF5ZXIgIT0gXCIxXCJcclxuICAgICAgICBpZiAoaXNfb2xkX3BsYXllciA9PSBcIjFcIikge1xyXG4gICAgICAgICAgICAvL+iAgeeOqeWutlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIG9sZCBiaXJkLS0tLS0tLS0tLS0tLS1cIilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+aWsOeOqeWutlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIG5ldyBmaXNoLS0tLS0tLS0tLS0tLS1cIilcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJpc19vbGRfcGxheWVyXCIsIFwiMVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzeXl4X2NvbnN0LnN5eXhfc2RrX2NoYW5uZWwgPT09IGlnYy5lX2NoYW5uZWxfdHlwZS53ZWIpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMuZ2V0X2xhdW5jaF9vcHRpb25zX3N5bmMoKTtcclxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnF1ZXJ5LnR5cGUgPT0gaWdjLmVfc2hhcmVfdHlwZS5jYXJkIHx8IG9wdGlvbnMucXVlcnkudHlwZSA9PSBpZ2MuZV9zaGFyZV90eXBlLnJlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50X2lkID0gaXNfb2xkX3BsYXllciA9PSBcIjFcIiA/IGlnYy5lX3NoYXJlX2V2ZW50X2lkLm9sZF9wbGF5ZXIgOiBpZ2MuZV9zaGFyZV9ldmVudF9pZC5uZXdfcGxheWVyXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnNlbmRfdXNlcl9ldmVudChldmVudF9pZCwgaWdjLmVfc2hhcmVfZXZlbnRfdHlwZS5zaGFyZSwgMCwgMCwgb3B0aW9ucy5xdWVyeS50eXBlICsgXCJcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9cclxuICAgIC8qKuWmguaenOaYr+WklumDqOeZu+W9lSDov5nph4zkvKDlhaXkuIDkuIvotKblj7dpZOWSjOeUqOaIt2lk77yM6K6+572u5LqG5LmL5ZCO5bCx5Y+v5Lul6LCD55SoIOaJk+eCueS6hlxyXG4gICAgICogc3RhdF9tYW5hZ2VyIOaYr+WPquimgSDosIPnlKjkuoZzZGvnmoRpbml05ZCO77yM5LiN6ZyA6KaB562J5b6FaW5pdOeahGNhbGxiYWNr5bCx5Y+v5Lul5L2/55So5omT54K55LqGXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudCBcclxuICAgICAqIEBwYXJhbSB1c2VyX2lkIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaW5pdF9wYXJhbShhY2NvdW50LCB1c2VyX2lkKSB7XHJcbiAgICAgICAgaWYgKGFjY291bnQgPT0gXCJcIiB8fCBhY2NvdW50ID09IHVuZGVmaW5lZCB8fCB1c2VyX2lkID09IFwiXCIgfHwgdXNlcl9pZCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImlnYy0tLS0tIGluaXRfcGFyYW0gdXNlcl9pZCBpcyB1bmRlZmluZWQhXCIpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGFzX2luaXRfcGFyYW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhhc19pbml0X3BhcmFtID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9fdXNlcl9pZCA9IHVzZXJfaWQgKyBcIlwiXHJcbiAgICAgICAgaWdjLnN0YXRfbWFuYWdlci5pbnN0YW5jZS5zZXRfdWlkKGFjY291bnQsIHVzZXJfaWQsIFwiMVwiKTtcclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy9zZGvph4zpnaLmiZPkuIDkuIvngrlcclxuXHJcbiAgICAgICAgbGV0IHNhdmUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInN5eXhfaWdjX3VpZFwiICsgaWdjLmlnY19tYWluLmluc3RhbmNlLmFwcF9jb25maWcuZ2FtZV9wYXJhbS5hcHBfaWQpO1xyXG4gICAgICAgIGlmIChzYXZlICYmIHNhdmUgIT0gXCJcIikge1xyXG4gICAgICAgICAgICAvL+WPquaJk2xvZ2lu55qE54K5XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZF91c2VyX2xvZ2luKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/miZNyZWdpc3RlcueahOeCuVxyXG4gICAgICAgICAgICB0aGlzLnNlbmRfdXNlcl9yZWdpc3RlcigpO1xyXG4gICAgICAgICAgICAvL+aJk2xvZ2lu55qE54K5LOW7tui/n1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuc2VuZF91c2VyX2xvZ2luLCAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic3l5eF9pZ2NfdWlkXCIgKyBpZ2MuaWdjX21haW4uaW5zdGFuY2UuYXBwX2NvbmZpZy5nYW1lX3BhcmFtLmFwcF9pZCwgdXNlcl9pZClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tfdXNlcl9zdGFydF9nYW1lX3R5cGUoKVxyXG4gICAgICAgIHRoaXMuc2V0X3N0YXRfaW5pdGVkKClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpuWQr+WKqG9rXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc19pbml0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX19pbml0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuIrmiqXnlKjmiLfms6jlhoxcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNlbmRfdXNlcl9yZWdpc3RlcigpIHtcclxuICAgICAgICAvLyBpZ2Muc3RhdF9tYW5hZ2VyLmluc3RhbmNlLnNlbmRfdXNlcl9yZWdpc3RlcigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAgKiDkuIrmiqXoh6rlrprkuYnkuovku7ZcclxuICAgICAgKi9cclxuICAgIHN0YXRpYyBzZW5kX3VzZXJfZXZlbnQoZXZlbnRfaWQ/LCBldmVudF90eXBlPywgcGxhY2VfaWQ/LCBwbGFjZV90eXBlPywgZXh0cmE/LCBzdHIxPywgc3RyMj8sIGV4dHJhMj8sIHN0cjM/KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9fc3RhdF9pbml0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fX3N0YXRfZGF0YV9jYWNoZS51bnNoaWZ0KHtcclxuICAgICAgICAgICAgICAgIFwiZXZlbnRfaWRcIjogZXZlbnRfaWQsXHJcbiAgICAgICAgICAgICAgICBcImV2ZW50X3R5cGVcIjogZXZlbnRfdHlwZSxcclxuICAgICAgICAgICAgICAgIFwicGxhY2VfaWRcIjogcGxhY2VfaWQsXHJcbiAgICAgICAgICAgICAgICBcInBsYWNlX3R5cGVcIjogcGxhY2VfdHlwZSxcclxuICAgICAgICAgICAgICAgIFwiZXh0cmFcIjogZXh0cmEsXHJcbiAgICAgICAgICAgICAgICBcInN0cjFcIjogc3RyMSxcclxuICAgICAgICAgICAgICAgIFwic3RyMlwiOiBzdHIyLFxyXG4gICAgICAgICAgICAgICAgXCJleHRyYTJcIjogZXh0cmEyLFxyXG4gICAgICAgICAgICAgICAgXCJzdHIzXCI6IHN0cjMsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICog5omT54K55pyq5Yid5aeL5YyW5a6M5oiQXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIHNldF9zdGF0X2luaXRlZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX19pc19zdGF0X2RlbGF5KSB7XHJcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgICAgICB0aGlzLl9faXNfc3RhdF9kZWxheSA9IHRydWVcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLl9fc3RhdF9pbml0ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICBzZWxmLnNlbmRfc3RhdF9ldmVudF9jYWNoZSgpXHJcbiAgICAgICAgICAgIH0sIDEwMDApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KGl5YWFIOaJk+eCueacquWIneWni+WMluWujOaIkOWJjeeahOaJk+eCuVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2VuZF9zdGF0X2V2ZW50X2NhY2hlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9fc3RhdF9kYXRhX2NhY2hlICYmIHRoaXMuX19zdGF0X2RhdGFfY2FjaGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuICAgICAgICAgICAgbGV0IHN0YXRfZGF0YSA9IHRoaXMuX19zdGF0X2RhdGFfY2FjaGUucG9wKClcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzZWxmLnNlbmRfc3RhdF9ldmVudF9jYWNoZSgpXHJcbiAgICAgICAgICAgIH0sIDEwMClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZqQ6JeP5oyH5a6a57G75Z6L55qE6KeG5Zu+XHJcbiAgICAgKiBAcGFyYW0gdmlld1R5cGUgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBoaWRlKHZpZXdUeXBlOiBzeXl4X3ZpZXcpIHtcclxuICAgICAgICB0aGlzLmxvYWRfdmlldyh2aWV3VHlwZSwgZnVuY3Rpb24gKHZpZXcpIHtcclxuICAgICAgICAgICAgdmlldy5oaWRlICYmIHZpZXcuaGlkZSgpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmL7npLrmjIflrprop4blm75cclxuICAgICAqIEBwYXJhbSB2aWV3VHlwZSDop4blm77nsbvlnotcclxuICAgICAqIEBwYXJhbSB6T3JkZXIgICAg5bGC57qnXHJcbiAgICAgKiBAcGFyYW0gc2NlbmUgICAgIOW9k+WJjeaJgOWcqOWcuuaZr+eahOWQjeWtlyAgICAgICAgICDov5DokKXkvb/nlKhcclxuICAgICAqIEBwYXJhbSBjaGFwdGVyICAg5b2T5YmN5omA5Zyo5YWz5Y2h5oiW6ICF546p5rOVaWQgICAgICDov5DokKXkvb/nlKhcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNob3codmlld1R5cGU6IHN5eXhfdmlldywgek9yZGVyID0gLTEsIHNjZW5lPzogc3RyaW5nLCBjaGFwdGVyID0gMCkge1xyXG4gICAgICAgIHRoaXMubG9hZF92aWV3KHZpZXdUeXBlLCBmdW5jdGlvbiAodmlldykge1xyXG4gICAgICAgICAgICB2aWV3LnNob3coek9yZGVyLCBzY2VuZSwgY2hhcHRlcilcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4iuaKpeeUqOaIt+eZu+W9lVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2VuZF91c2VyX2xvZ2luKCkge1xyXG4gICAgICAgIC8vIGlnYy5zdGF0X21hbmFnZXIuaW5zdGFuY2Uuc2VuZF91c2VyX2xvZ2luKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOaLieWIsOWKn+iDvemFjee9rueahOWkhOeQhuWHveaVsCjov5znq6/mlbDmja7lrozlhajopobnm5YpXHJcbiAgICAqIEBwYXJhbSByZXQgIOaTjeS9nOe7k+aenFxyXG4gICAgKiBAcGFyYW0ga2V5ICDopoHmi4nlj5bnmoTphY3nva5rZXlcclxuICAgICogQHBhcmFtIHZlcnNpb24g6L+Z5Liq6YWN572u5pys5qyh55qE54mI5pys77yM5Y+v5Lul5pys5Zyw5L+d5a2Y77yM5LiL5qyh5ouJ5Y+W55qE5pe25YCZ5Lyg6L+Z5Liq5L+d5a2Y55qEdmVyc2lvbu+8jOWQjuWPsOavlOi+g+WmguaenHZlcnNpb27kuIDoh7TvvIzliJnkuI3kvJrov5Tlm57mlbDmja7vvIznlLHlrqLmiLfnq6/kvb/nlKjmnKzlnLDnvJPlrZhcclxuICAgICogQHBhcmFtIGRhdGEg6L+U5Zue55qE5pWw5o2uXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIG9uX2xvYWRfZ2FtZV9jb25maWdzKHJldCwga2V5LCB2ZXJzaW9uLCBkYXRhKSB7XHJcbiAgICAgICAgaWYgKHJldCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN5eXhfY29uc3QubG9jYWxfYnVzaW5lc3NfY29uZmlnX3ZlcnNpb24sIHZlcnNpb24pO1xyXG4gICAgICAgICAgICB0aGlzLl9fcmVtb3RlX2J1c2luZXNzX2NvbmZpZ19pbml0ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0X3JlbW90ZV9jb25maWdfY29tcGVsZXRlKClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9vemFjee9rlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbG9hZF9jb25maWcoKSB7XHJcbiAgICAgICAgLy/liqDovb11aemihOWItuS9k+eahOmFjee9rlxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIHN5eXhfc2RrX3V0aWxzLmxvYWRfcmVzb3VyY2Uoc3l5eF9tYW5hZ2VyLl9fdWlfcHJlZmFiX2NvbmZpZ19wYXRoLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBzZWxmLl91aV9wcmVmYWJfY29uZmlnID0gaWdjLmlnY19yZXNvdXJjZXNfdXRpbHMucGFyc2VfY3N2KGRhdGEsIFwiaWRcIik7IC8vIOi/memFjee9rueUqOS6huS4gOasoVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNkay0tLS0tdWkgcHJlZmFicyBoYXZlIGxvYWRlZFwiLCBzZWxmLl91aV9wcmVmYWJfY29uZmlnKSAgXHJcblxyXG4gICAgICAgICAgICBzZWxmLmxvYWRfYnVzaW5lc3NfY29uZmlnKClcclxuICAgICAgICAgICAgc3l5eF9jdHJfbWFuYWdlci5sb2FkX2N0cl9jb25maWcoKSAvLyDlt7Lnu4/mkJ7lrprvvIznlKjkuoZndW9iYW/mlbDmja5cclxuXHJcbiAgICAgICAgfSwgdGhpcywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tdWkgcHJlZmFicyBsb2FkaW5nIGZhaWxlZFwiKVxyXG4gICAgICAgICAgICBzZWxmLmxvYWRfYnVzaW5lc3NfY29uZmlnKClcclxuICAgICAgICAgICAgc3l5eF9jdHJfbWFuYWdlci5sb2FkX2N0cl9jb25maWcoKSAvLyDlt7Lnu4/mkJ7lrprvvIznlKjkuoZndW9iYW/mlbDmja5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6L295ZWG5Lia5YyW6YWN572uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBsb2FkX2J1c2luZXNzX2NvbmZpZygpIHtcclxuICAgICAgICBsZXQgYnVzaW5lc3NfZGF0YVxyXG4gICAgICAgIGxldCBjdXJfYnVzaW5lc3NfdmVyc2lvbiA9IHRoaXMuZ2V0X2FwcF92ZXJzaW9uKClcclxuICAgICAgICBsZXQga2V5ID0gdGhpcy5nZXRfc3l5eF9hcHBfaWQoKSArIHRoaXMuX19idXNpbmVzc192ZXJzaW9uXHJcblxyXG4gICAgICAgIC8v54mI5pys5Y+35LiN5LiA6Ie0IOS5i+WJjeeahOe8k+WtmOaVsOWAvOe9ruepulxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN5eXhfY29uc3QubG9jYWxfYnVzaW5lc3NfY29uZmlnX3ZlcnNpb24sIG51bGwpXHJcbiAgICAgICAgLy/liLfmlrDmnKzlnLDkv53lrZjnmoTov5znq6/phY3nva7niYjmnKzlj7dcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIGN1cl9idXNpbmVzc192ZXJzaW9uKVxyXG5cclxuICAgICAgICB0aGlzLm9uX2xvYWRfbG9jYWxfYnVzaW5lc3NfY29uZmlnKCkgIC8vIOi/memHjOmdouaciSBpbml0X3JlbW90ZV9jb25maWdfY29tcGVsZXRlXHJcblxyXG4gICAgICAgIHRoaXMub25fbG9hZF9nYW1lX2NvbmZpZ3ModHJ1ZSwgJycsIDMsICcnKSAvLyDlsLHlgZrkuobkuIDkupvkv53lrZjnvJPlrZhcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluS4gOS4qmJhbm5lcuW5v+WRilxyXG4gICAgICogQHBhcmFtIHZpZXdUeXBlIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlX25hdGl2ZV9iYW5uZXIoY2FsbF9iYWNrPykge1xyXG4gICAgICAgIGlmICghc3l5eF9hZHZfbWFuYWdlci5fX2Fkdl9jb25maWdfaW5pdGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZV92aWV3KHN5eXhfdmlldy5uYXRpdmVfYmFubmVyLCBjYWxsX2JhY2spXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJvlu7rkuIDkuKrnu5Pnrpfljp/nlJ9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNyZWF0ZV9pbm5lcl9pbnRlcnN0aXRpYWwoY2FsbF9iYWNrPykge1xyXG4gICAgICAgIGlmICghc3l5eF9hZHZfbWFuYWdlci5fX2Fkdl9jb25maWdfaW5pdGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZV92aWV3KHN5eXhfdmlldy5pbm5lcl9pbnRlcnN0aXRpYWwsIGNhbGxfYmFjaylcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uuS4gOS4que7k+eul+WOn+eUny0g5Y6f55SfYmFubmVyXHJcbiAgICAgKi9cclxuICAgICAgICBzdGF0aWMgY3JlYXRlX2lubmVyX2ludGVyc3RpdGlhbF9ibihjYWxsX2JhY2s/KSB7XHJcbiAgICAgICAgaWYgKCFzeXl4X2Fkdl9tYW5hZ2VyLl9fYWR2X2NvbmZpZ19pbml0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlX3ZpZXcoc3l5eF92aWV3LmlubmVyX2ludGVyc3RpdGlhbF9ibiwgY2FsbF9iYWNrKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDliJvlu7rkuIDkuKrpnIDopoHpga7nvannmoTmj5LlsY9cclxuICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlX2ludGVyc3RpdGlhbChjYWxsX2JhY2s/KSB7XHJcbiAgICAgICAgaWYgKCFzeXl4X2Fkdl9tYW5hZ2VyLl9fYWR2X2NvbmZpZ19pbml0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlX3ZpZXcoc3l5eF92aWV3LmludGVyc3RpdGlhbCwgY2FsbF9iYWNrKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDliJvlu7rkuIDkuKrpnIDopoHpga7nvannmoTmj5LlsY9cclxuICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlX25hdGl2ZV9pY29uKGNhbGxfYmFjaz8pIHtcclxuICAgICAgICBpZiAoIXN5eXhfYWR2X21hbmFnZXIuX19hZHZfY29uZmlnX2luaXRlZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIGFkIGluaXRpYWxpemF0aW9uIGlzIG5vdCBhY2hpZXZlLS0tPmRvIG5vdCBjYWxsIGludGVyZmFjZSB0b28gZWFybHkgIDpjcmVhdGVfbmF0aXZlX2ljb25cIilcclxuICAgICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlX3ZpZXcoc3l5eF92aWV3Lm5hdGl2ZV9pY29uLCBjYWxsX2JhY2spXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOWIm+W7uuS4gOS4qnRpcHNcclxuICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlX3RvYXN0KGRlc2MpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZV92aWV3KHN5eXhfdmlldy50b2FzdCwgZnVuY3Rpb24gKHZpZXcpIHtcclxuICAgICAgICAgICAgdmlldyAmJiB2aWV3LnNob3cgJiYgdmlldy5zaG93KGRlc2MpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS9v+eUqOagt+W8j+WIm+W7uuinhuWbvlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlX3ZpZXcodmlld1R5cGU6IHN5eXhfdmlldywgY2FsbF9iYWNrPyk6IGFueSB7XHJcbiAgICAgICAgdGhpcy5sb2FkX3ZpZXcodmlld1R5cGUsIGNhbGxfYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmoLnmja7nsbvlnovojrflj5bop4blm77lr7nosaFcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGxvYWRfdmlldyh2aWV3VHlwZTogc3l5eF92aWV3LCBjYWxsX2JhY2s/KSB7XHJcbiAgICAgICAgaWYgKHdpbmRvd1tcIkxheWFcIl0pIHtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3l5eF9jY191aV9tYW5hZ2VyLmxvYWRfdWlfcHJlZmFicyh2aWV3VHlwZSwgY2FsbF9iYWNrKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0X2J1c2luZXNzX2NvbmZpZygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX19sb2NhbF9idXNpbmVzc19jb25maWdfaW5pdGVkICYmICF0aGlzLl9fcmVtb3RlX2J1c2luZXNzX2NvbmZpZ19pbml0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fX2J1c2luZXNzX2NvbmZpZ19kYXRhXHJcbiAgICB9XHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8v5rig6YGT5bCB6KOFXHJcblxyXG4gICAgLy/muKDpgZPnmbvlvZVcclxuICAgIHN0YXRpYyBfX3VzZXJfaWQgPSBcIlwiXHJcbiAgICBzdGF0aWMgbG9naW5fY2hhbm5lbChjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIGlmICh0aGlzLmhhc19sb2dpbl9jaGFubmVsKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oYXNfbG9naW5fY2hhbm5lbCA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgaWdjLmlnY19tYWluLmluc3RhbmNlLm9ubHlfbG9naW5fY2hhbm5lbChmdW5jdGlvbiBiYWNrKHJlcykge1xyXG4gICAgICAgICAgICBpZiAocmVzICYmIHJlcy5jaGFubmVsX3VzZXJfaW5mbyAmJiByZXMuY2hhbm5lbF91c2VyX2luZm8udWlkKSB7XHJcbiAgICAgICAgICAgICAgICAvL3Nka+mHjOmdouaJk+S4gOS4i+eCuVxyXG4gICAgICAgICAgICAgICAgbGV0IHNhdmUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInN5eXhfaWdjX3VpZFwiICsgaWdjLmlnY19tYWluLmluc3RhbmNlLmFwcF9jb25maWcuZ2FtZV9wYXJhbS5hcHBfaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNhdmUgJiYgc2F2ZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lj6rmiZNsb2dpbueahOeCuVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGYuc2VuZF91c2VyX2xvZ2luKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5omTcmVnaXN0ZXLnmoTngrlcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbmRfdXNlcl9yZWdpc3RlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5omTbG9naW7nmoTngrlcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHNlbGYuc2VuZF91c2VyX2xvZ2luLCAxMDAwKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9fdXNlcl9pZCA9IHJlcy5jaGFubmVsX3VzZXJfaW5mby51aWRcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInN5eXhfaWdjX3VpZFwiICsgaWdjLmlnY19tYWluLmluc3RhbmNlLmFwcF9jb25maWcuZ2FtZV9wYXJhbS5hcHBfaWQsIHJlcy5jaGFubmVsX3VzZXJfaW5mby51aWQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZi5jaGVja191c2VyX3N0YXJ0X2dhbWVfdHlwZSgpXHJcbiAgICAgICAgICAgIHNlbGYuc2V0X3N0YXRfaW5pdGVkKClcclxuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W6L+Q6JCl6YWN572u5a+55bqUa2V555qE5YC8XHJcbiAgICAgKiBAcGFyYW0ga2V5IGJ1c2luZXNzX2NvbmZpZyDnmoQgaWTlgLxcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldF9idXNpbmVzc19kYXRhX2J5X2tleShrZXkpIHtcclxuICAgICAgICBsZXQgYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgaWYgKGJ1c2luZXNzX2NvbmZpZ19kYXRhICYmIGJ1c2luZXNzX2NvbmZpZ19kYXRhW2tleV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1c2luZXNzX2NvbmZpZ19kYXRhW2tleV0udmFsdWVcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5bGV56S65bm/5ZGK77yMXHJcbiAgICAgKiBAcGFyYW0gYWRfdHlwZSDlub/lkYrnsbvlnosg5qC55o2uIGlnYy5lX2FkX3R5cGUg5Lyg5YWlXHJcbiAgICAgKiAgaW50ZXJzdGl0aWFsID0gMSwgICDmj5LlsY9cclxuICAgICAgICB2aWRlbyA9IDIsICAgICAgICAgIOinhumikVxyXG4gICAgICAgIG5hdGl2ZSA9IDMsICAgICAgICAg5Y6f55SfXHJcbiAgICAgICAgYmFubmVyID0gNCwgICAgICAgICBiYW5uZXJcclxuICAgICAqIEBwYXJhbSBhZF9wb3NfaWQgICAgIOmFjee9ruihqOW5v+WRiklEXHJcbiAgICAgKiBAcGFyYW0gb25Mb2FkICAgIOW5v+WRiuWKoOi9veaIkOWKnyBcclxuICAgICAqIDHvvJrop4bpopHliqDovb3miJDlip/pgJrov4fmraTmjqXlj6Pov5Tlm57kv6Hmga/vvIzmuLjmiI/lj6/lgZrkuIDkupvnm7jlupTpgLvovpHlpITnkIbvvIzmr5TlpoLlgZzmraLpn7PkuZBcclxuICAgICAqIDLvvJrljp/nlJ/pgJrov4fmraTmjqXlj6Pov5Tlm57kv6Hmga9cclxuICAgICAqIG9uTG9hZDogZnVuY3Rpb24gKHBhcmFtLCByZXMpIHtcclxuICAgICAqICAgICAgLy/ljp/nlJ/lub/lkYrov5Tlm57kv6Hmga/vvJpyZXMg5piv5LiA5LiqbGlzdCDkvb/nlKhsaXN06YeM55qE56ys5LiA5Liq5Y2z5Y+vIOWmguaenGxpc3TkuLrnqbog5oiWIOmVv+W6puS4uumbtu+8jOWImeS7o+ihqOayoeacieaLieWPluWIsOaVsOaNrlxyXG4gICAgICogICAgICBsZXQgbmF0aXZlX2RhdGEgPSByZXNbMF1cclxuICAgICAqICAgICAgbmF0aXZlX2RhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBhZFVuaXRJZDog5q2k5Y6f55Sf5bm/5ZGK6LWE5rqQ55qE5a2QaWTvvIzkuIrmiqXmm53lhYnlkozngrnlh7vkvb/nlKhcclxuICAgICAgICAgICAgICAgIHRpdGxlOiDlub/lkYrmoIfpopgsXHJcbiAgICAgICAgICAgICAgICBkZXNjOuW5v+WRiuaPj+i/sCxcclxuICAgICAgICAgICAgICAgIC8vaWNvblxyXG4gICAgICAgICAgICAgICAgaWNvblVybExpc3Q6Ly8g54mI5pys5YW85a65LCDlsI/lm75JQ09OXHJcbiAgICAgICAgICAgICAgICBpY29uOiDlsI/lm75JQ09OLFxyXG4gICAgICAgICAgICAgICAgaW1nVXJsTGlzdDog5aSn5Zu+SUNPTiwg55uu5YmN5LiA6Iis6YO955So6L+Z5LiqXHJcbiAgICAgICAgICAgICAgICBsb2dvVXJsOiDnm67liY3mi7znlYzpnaLmsqHnlKjliLAsXHJcbiAgICAgICAgICAgICAgICBjbGlja0J0blR4dDrnm67liY3mi7znlYzpnaLmsqHnlKjliLAsXHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0aXZlVHlwZVxyXG4gICAgICAgICAgICAgICAgY3JlYXRpdmVUeXBlOiDnm67liY3mi7znlYzpnaLmsqHnlKjliLAsXHJcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvblR5cGU655uu5YmN5ou855WM6Z2i5rKh55So5YiwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAqIH1cclxuICAgICAqIEBwYXJhbSBvblNob3cgIOW5v+WRiuaYvuekuuWHuuadpeS6hlxyXG4gICAgICogMTpiYW5uZXIg5pi+56S65Ye65p2lIOacieWbnuiwg1xyXG4gICAgICogMjrmj5LlsY8g5pi+56S65Ye65p2lIOacieWbnuiwg1xyXG4gICAgICog5YW25LuW5bm/5ZGK57G75Z6L5aaC5p6c5pyJ5Zue6LCDIOaYr+WxnuS6juahhuaetuS8qumAoO+8jOeci+WcuuaZr+iAg+iZkeaYr+WQpuS9v+eUqFxyXG4gICAgICogb25TaG93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgKiB9XHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBvbkNsb3NlIOWFs+mXreeahOWbnuiwg1xyXG4gICAgICogMe+8mmJhbm5lciDlpoLmnpzmnIlvbkNsb3Nl55qE6L+U5Zue77yM5YiZ5Luj6KGo55So5oi35YWz6ZetYmFubmVyIOatpOWKn+iDvW9wcG/pnIDopoFcclxuICAgICAqIDI6IOaPkuWxj+WFs+mXrVxyXG4gICAgICogMzog5Y6f55Sf5peg5q2k5Zue6LCDXHJcbiAgICAgKiA077ya6KeG6aKRIOWIpOaWrSByZXMuaXNFbmRlZCDkuLp0cnVl5YiZ5Luj6KGo6KeG6aKR55yL5a6M77yM5Li6ZmFsc2XliJnku6Pooajop4bpopHmsqHnnIvlroxcclxuICAgICAqIG9uQ2xvc2U6IGZ1bmN0aW9uIChwYXJhbSwgcmVzKXtcclxuICAgICAqIH1cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIG9uRXJyb3IgOiDmiqXplJlcclxuICAgICAqIOaKpemUme+8jOaIluaXoOW5v+WRiuWImeatpOaOpeWPo+Wbnuiwg++8jOWQhOW5v+WRiuexu+Wei+mDveacieatpOWbnuiwg++8jOavlOWmguinhumikeacieatpOWbnuiwg++8jOWImeWPr+W8uXRpcHMg55uu5YmN5peg5bm/5ZGKXHJcbiAgICAgKiBlcnLkuLrmiqXplJnkv6Hmga8g5Y+vIEpTT04uc3RyaW5naWZ5KGVycikg5omT5Y2w6LCD6K+VXHJcbiAgICAgKiBvbkVycm9yIDogZnVuY3Rpb24gKHBhcmFtLCBlcnIpIHtcclxuICAgICAqIFxyXG4gICAgICogfVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlX2FkKGFkX3R5cGU6IGlnYy5lX2FkX3R5cGUsIGFkX3Bvc19pZDogc3RyaW5nLCBvbkxvYWQ6IEZ1bmN0aW9uLCBvblNob3c6IEZ1bmN0aW9uLCBvbkNsb3NlOiBGdW5jdGlvbiwgb25FcnJvcjogRnVuY3Rpb24sIHN1Yl9hZF90eXBlPzogYW55KSB7XHJcblxyXG4gICAgICAgIGxldCBhZF9pZCA9IHN5eXhfYWR2X21hbmFnZXIuZ2V0X2NoYW5uZWxfYWRfaWQoYWRfcG9zX2lkKVxyXG5cclxuICAgICAgICBpZiAoIWFkX2lkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2RrLS0tLS0gc3l5eF9tYW5hZ2VyIGNyZWF0ZV9hZCBhZF9pZCBubyBjb25maWd1cmUgaW4gYWR2LmNzdlwiKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwYXJhbSA9IHtcclxuICAgICAgICAgICAgYWRfdHlwZTogYWRfdHlwZSxcclxuICAgICAgICAgICAgYWRfaWQ6IGFkX2lkLFxyXG4gICAgICAgICAgICBhZF9wb3NfaWQ6IGFkX3Bvc19pZCxcclxuICAgICAgICAgICAgYWRfZXZlbnQ6IGFkX2lkLCAgLy/lj6rmmK/loavlhYVcclxuICAgICAgICAgICAgYWRfc2NlbmU6IGFkX2lkLFxyXG4gICAgICAgICAgICB0b3Bfb2Zmc2V0OiAwLC8v5omLcWJhbm5lciDkuIrnp7vot53nprtcclxuICAgICAgICAgICAgc3ViX2FkX3R5cGU6IHN1Yl9hZF90eXBlIHx8IGlnYy5lX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9iYW5uZXJfbm9ybWFsLFxyXG4gICAgICAgICAgICBvbkxvYWQ6IG9uTG9hZCxcclxuICAgICAgICAgICAgb25TaG93OiBvblNob3csXHJcbiAgICAgICAgICAgIG9uQ2xvc2U6IG9uQ2xvc2UsXHJcbiAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3JcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2UuY3JlYXRlX2FkKHBhcmFtKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGVfaGVuZ19mdV9hZChhZF90eXBlOiBpZ2MuZV9hZF90eXBlLCBhZF9wb3NfaWQ6IHN0cmluZywgb25Mb2FkOiBGdW5jdGlvbiwgb25TaG93OiBGdW5jdGlvbiwgb25DbG9zZTogRnVuY3Rpb24sIG9uRXJyb3I6IEZ1bmN0aW9uLCBzdWJfYWRfdHlwZT86IGFueSkge1xyXG5cclxuICAgICAgICBsZXQgYWRfaWQgPSBzeXl4X2Fkdl9tYW5hZ2VyLmdldF9jaGFubmVsX2FkX2lkKGFkX3Bvc19pZClcclxuICAgICAgICBpZiAoIWFkX2lkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2aXZv5qiq5bmF5byA5YWzXHJcbiAgICAgICAgaWYodGhpcy5fX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX19idXNpbmVzc19jb25maWdfZGF0YVtcInZpdm9faGVuZ2Z1X3N3aXRjaFwiXSkgeyBcclxuICAgICAgICAgICAgaWYgKHRoaXMuX19idXNpbmVzc19jb25maWdfZGF0YVtcInZpdm9faGVuZ2Z1X3N3aXRjaFwiXS52YWx1ZVswXSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBvbkVycm9yICYmIG9uRXJyb3IoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIC8vIOe7k+eul+mhteOAgea4uOaIj+W8gOWni+mhteetiemAguWQiOWxleekuueahOWcuuaZr+iwg+eUqFxyXG4gICAgICAgIGlmICh3aW5kb3dbJ3FnJ10uZ2V0U3lzdGVtSW5mb1N5bmMoKS5wbGF0Zm9ybVZlcnNpb25Db2RlID49IDEwOTIpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBib3hCYW5uZXJBZCA9IG51bGxcclxuICAgICAgICAgICAgYm94QmFubmVyQWQgPSB3aW5kb3dbJ3FnJ10uY3JlYXRlQm94QmFubmVyQWQoe1xyXG4gICAgICAgICAgICAgICAgcG9zSWQ6IGFkX2lkXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGJveEJhbm5lckFkLm9uTG9hZChmdW5jdGlvbiAoKSB7IFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLkupLmjqjnm5LlrZDmqKrluYXlub/lkYrliqDovb3miJDlip9cIikgXHJcbiAgICAgICAgICAgICAgICBvbkxvYWQgJiYgb25Mb2FkKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGJveEJhbm5lckFkLm9uRXJyb3IoZnVuY3Rpb24gKGVycikgeyBcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi55uS5a2Q5qiq5bmF5bm/5ZGK5Yqg6L295aSx6LSlXCIsIGVycikgXHJcbiAgICAgICAgICAgICAgICAvLyBzeXl4X21hbmFnZXIuY3JlYXRlX3RvYXN0KEpTT04uc3RyaW5naWZ5KGVycikpXHJcbiAgICAgICAgICAgICAgICBvbkVycm9yICYmIG9uRXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8g5bm/5ZGK5pWw5o2u5Yqg6L295oiQ5Yqf5ZCO5bGV56S6XHJcbiAgICAgICAgICAgIGJveEJhbm5lckFkLnNob3coKS50aGVuKGZ1bmN0aW9uICgpIHsgXHJcbiAgICAgICAgICAgICAgICBvblNob3cgJiYgb25TaG93KCk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBvbkVycm9yICYmIG9uRXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgc2VsZi5ib3hCYW5uZXJBZF92aXZvID0gYm94QmFubmVyQWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+aaguS4jeaUr+aMgeS6kuaOqOebkuWtkOebuOWFsyBBUEknKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGhpZGVfYm94QmFubmVyQWRfdml2bygpIHtcclxuICAgICAgICBsZXQgYm94QmFubmVyQWRfdml2b19pbnN0YW5jZSA9IHRoaXMuYm94QmFubmVyQWRfdml2b1xyXG4gICAgICAgIGlmKGJveEJhbm5lckFkX3Zpdm9faW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgYm94QmFubmVyQWRfdml2b19pbnN0YW5jZS5kZXN0cm95KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGhpZGVfZ2FtZV9wb3J0YWxfYm94X3Zpdm8oKSB7IFxyXG4gICAgICAgIGxldCBnYW1lX3BvcnRhbF9ib3hfdml2b19pbnN0YW5jZSA9IHRoaXMuZ2FtZV9wb3J0YWxfYm94X3Zpdm9cclxuICAgICAgICBpZihnYW1lX3BvcnRhbF9ib3hfdml2b19pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBnYW1lX3BvcnRhbF9ib3hfdml2b19pbnN0YW5jZS5pc0Rlc3Ryb3llZCA9IHRydWVcclxuICAgICAgICAgICAgZ2FtZV9wb3J0YWxfYm94X3Zpdm9faW5zdGFuY2UuZGVzdHJveSgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pi+56S65bm/5ZGKICDlkITlj4LmlbDmhI/kuYnlkoxjcmVhdGVfYWTnm7jlkIxcclxuICAgICAqIEBwYXJhbSBhZF90eXBlIFxyXG4gICAgICogQHBhcmFtIGFkX3Bvc19pZCBcclxuICAgICAqIEBwYXJhbSBvbkxvYWQgXHJcbiAgICAgKiBAcGFyYW0gb25TaG93IFxyXG4gICAgICogQHBhcmFtIG9uQ2xvc2UgXHJcbiAgICAgKiBAcGFyYW0gb25FcnJvciBcclxuICAgICAqIEBwYXJhbSBzdWJfYWRfdHlwZSBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNob3dfYWQoYWRfdHlwZTogaWdjLmVfYWRfdHlwZSwgYWRfcG9zX2lkOiBzdHJpbmcsIG9uTG9hZDogRnVuY3Rpb24sIG9uU2hvdzogRnVuY3Rpb24sIG9uQ2xvc2U6IEZ1bmN0aW9uLCBvbkVycm9yOiBGdW5jdGlvbiwgc3ViX2FkX3R5cGU/OiBhbnkpIHtcclxuICAgICAgICBsZXQgYWRfaWQgPSBzeXl4X2Fkdl9tYW5hZ2VyLmdldF9jaGFubmVsX2FkX2lkKGFkX3Bvc19pZClcclxuICAgICAgICBpZiAoIWFkX2lkIHx8IGFkX2lkID09IFwiMVwiIHx8IGFkX2lkID09IFwiMFwiKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gc3l5eF9tYW5hZ2VyIHNob3dfYWQgYWRfaWQgbm8gY29uZmlndXJlIGluIGFkdi5jc3ZcIilcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwYXJhbSA9IHtcclxuICAgICAgICAgICAgYWRfdHlwZTogYWRfdHlwZSxcclxuICAgICAgICAgICAgYWRfaWQ6IGFkX2lkLFxyXG4gICAgICAgICAgICBhZF9wb3NfaWQ6IGFkX3Bvc19pZCxcclxuICAgICAgICAgICAgYWRfZXZlbnQ6IGFkX2lkLCAgLy/lj6rmmK/loavlhYVcclxuICAgICAgICAgICAgYWRfc2NlbmU6IGFkX2lkLFxyXG4gICAgICAgICAgICBzdWJfYWRfdHlwZTogc3ViX2FkX3R5cGUgfHwgaWdjLmVfYWRfbmF0aXZlX3R5cGUubmF0aXZlX2Jhbm5lcl9ub3JtYWwsXHJcbiAgICAgICAgICAgIG9uTG9hZDogb25Mb2FkLFxyXG4gICAgICAgICAgICBvblNob3c6IG9uU2hvdyxcclxuICAgICAgICAgICAgb25DbG9zZTogb25DbG9zZSxcclxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvclxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGlnYy5pZ2NfbWFpbi5pbnN0YW5jZS5zaG93X2FkKHBhcmFtKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZSA5q+B5bm/5ZGKIOS4u+imgeS5n+WwseaYryBiYW5uZXIg5L2/55So5LqGIOS4gOiIrOebruWJjU9wcG/lkox2aXZv6ZqQ6JePYmFubmVyIOS5n+WwseaYr+iwg+eUqGRlc3Ryb3nkuoYgXHJcbiAgICAgKiBAcGFyYW0gYWRfdHlwZSDlub/lkYrnsbvlnosg5qC55o2uIGlnYy5lX2FkX3R5cGUg5Lyg5YWlXHJcbiAgICAgKiAgaW50ZXJzdGl0aWFsID0gMSwgICDmj5LlsY9cclxuICAgICAgICB2aWRlbyA9IDIsICAgICAgICAgIOinhumikVxyXG4gICAgICAgIG5hdGl2ZSA9IDMsICAgICAgICAg5Y6f55SfXHJcbiAgICAgICAgYmFubmVyID0gNCwgICAgICAgICBiYW5uZXJcclxuICAgICAqIEBwYXJhbSBhZF9wb3NfaWQgICAgIOmFjee9ruihqOW5v+WRiklEXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBkZXN0cm95X2FkKGFkX3R5cGU6IGlnYy5lX2FkX3R5cGUsIGFkX3Bvc19pZDogc3RyaW5nLCBzdWJfYWRfdHlwZT86IGFueSkge1xyXG4gICAgICAgIGxldCBhZF9pZCA9IHN5eXhfYWR2X21hbmFnZXIuZ2V0X2NoYW5uZWxfYWRfaWQoYWRfcG9zX2lkKVxyXG4gICAgICAgIGlmICghYWRfaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwYXJhbSA9IHtcclxuICAgICAgICAgICAgYWRfdHlwZTogYWRfdHlwZSxcclxuICAgICAgICAgICAgYWRfaWQ6IGFkX2lkLFxyXG4gICAgICAgICAgICBhZF9wb3NfaWQ6IGFkX3Bvc19pZCxcclxuICAgICAgICAgICAgc3ViX2FkX3R5cGU6IHN1Yl9hZF90eXBlIHx8IGlnYy5lX2FkX25hdGl2ZV90eXBlLm5hdGl2ZV9iYW5uZXJfbm9ybWFsLFxyXG4gICAgICAgICAgICBhZF9ldmVudDogYWRfaWQsXHJcbiAgICAgICAgICAgIGFkX3NjZW5lOiBhZF9pZCxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2UuZGVzdHJveV9hZChwYXJhbSlcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgc3RhdGljIHNob3dfYWQocGFyYW0pIHtcclxuICAgICAgICByZXR1cm4gaWdjLmlnY19tYWluLmluc3RhbmNlLnNob3dfYWQocGFyYW0pXHJcbiAgICB9XHJcbiAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZqQ6JeP5bm/5ZGKIOS4u+imgeS5n+WwseaYryBiYW5uZXIg55uu5YmN5Lmf5LiN5oCO5LmI5L2/55So5LqGXHJcbiAgICAgKiBAcGFyYW0gYWRfdHlwZSDlub/lkYrnsbvlnosg5qC55o2uIGlnYy5lX2FkX3R5cGUg5Lyg5YWlXHJcbiAgICAgKiAgaW50ZXJzdGl0aWFsID0gMSwgICDmj5LlsY9cclxuICAgICAgICB2aWRlbyA9IDIsICAgICAgICAgIOinhumikVxyXG4gICAgICAgIG5hdGl2ZSA9IDMsICAgICAgICAg5Y6f55SfXHJcbiAgICAgICAgYmFubmVyID0gNCwgICAgICAgICBiYW5uZXJcclxuICAgICAqIEBwYXJhbSBhZF9wb3NfaWQgICAgIOmFjee9ruihqOW5v+WRiuS9jUlEXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBoaWRlX2FkKGFkX3R5cGU6IGlnYy5lX2FkX3R5cGUsIGFkX3Bvc19pZDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGFkX2lkID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfY2hhbm5lbF9hZF9pZChhZF9wb3NfaWQpXHJcbiAgICAgICAgaWYgKCFhZF9pZCB8fCBhZF9pZCA9PSBcIjFcIiB8fCBhZF9pZCA9PSBcIjBcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImlnYy0tLS0tIHN5eXhfbWFuYWdlciBoaWRlX2FkIGFkX2lkIG5vIGNvbmZpZ3VyZSBpbiBhZHYuY3N2XCIpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcGFyYW0gPSB7XHJcbiAgICAgICAgICAgIGFkX3R5cGU6IGFkX3R5cGUsXHJcbiAgICAgICAgICAgIGFkX2lkOiBhZF9pZCxcclxuICAgICAgICAgICAgYWRfcG9zX2lkOiBhZF9wb3NfaWQsXHJcbiAgICAgICAgICAgIGFkX2V2ZW50OiBhZF9pZCxcclxuICAgICAgICAgICAgYWRfc2NlbmU6IGFkX2lkLFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaWdjLmlnY19tYWluLmluc3RhbmNlLmhpZGVfYWQocGFyYW0pXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5Pnrpfljp/nlJ/igJTigJTigJTigJTkuIrmiqXngrnlh7tcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlcG9ydF9uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsX2NsaWNrKGFkX3Bvc19pZCkge1xyXG4gICAgICAgIGlmICghYWRfYmFubmVyLmNhbl9zaG93X2ZpcnN0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gaXMgaW4gb3BwbyBmaXJzdCBhZCBjZCBcIilcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbmF0aXZlX2RhdGEgPSB0aGlzLmdldF9sb2NhbF9uYXRpdmVfZGF0YShhZF9wb3NfaWQpXHJcbiAgICAgICAgdGhpcy5jcmVhdGVfaW5uZXJfaW50ZXJzdGl0aWFsKGZ1bmN0aW9uICh2aWV3KSB7XHJcbiAgICAgICAgICAgIGlmIChuYXRpdmVfZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmlldy5yZXBvcnRfY2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZqQ6JeP57uT566X5Y6f55SfXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGhpZGVfbmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbCgpIHtcclxuICAgICAgICB0aGlzLmxvYWRfdmlldyhzeXl4X3ZpZXcuaW5uZXJfaW50ZXJzdGl0aWFsLCBmdW5jdGlvbiAodmlldykgeyBcclxuICAgICAgICAgICAgaWYgKHZpZXcubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZpZXcuaGlkZSAmJiB2aWV3LmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6ZqQ6JeP5Y6f55SfYmFubmVyXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGhpZGVfbmF0aXZlX2Jhbm5lcigpIHtcclxuICAgICAgICB0aGlzLmxvYWRfdmlldyhzeXl4X3ZpZXcuaW5uZXJfaW50ZXJzdGl0aWFsX2JuLCBmdW5jdGlvbiAodmlldykgeyBcclxuICAgICAgICAgICAgaWYgKHZpZXcubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZpZXcuaGlkZSAmJiB2aWV3LmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5piv5ZCm5L2/55Sob3Bwb+eahOS6kuaOqOebkuWtkFxyXG4gICAgICog5b+r5bqU55So54mI5pys5Y+35aSn5LqO562J5LqOMTA3NuWImeWPr+S7peS9v+eUqOS6kuaOqOebkuWtkFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc3VwcG9ydF9nYW1lX2JveCgpIHtcclxuICAgICAgICBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUub3Bwb19xZykge1xyXG4gICAgICAgICAgICBsZXQgc3lzdGVtaW5mbyA9IHN5eXhfbWFuYWdlci5nZXRfc3lzdGVtX2luZm9fc3luYygpXHJcbiAgICAgICAgICAgIGlmIChzeXN0ZW1pbmZvICYmIHN5c3RlbWluZm8ucGxhdGZvcm1WZXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3lzdGVtaW5mby5wbGF0Zm9ybVZlcnNpb24gPj0gMTA3NlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y6f55Sf5bm/5ZGKIOS4iuaKpeabneWFiVxyXG4gICAgICogQHBhcmFtIGFkX3Bvc19pZCDphY3nva7ooajlub/lkYrkvY1JRFxyXG4gICAgICogQHBhcmFtIG5hdGl2ZV9kYXRhIOWOn+eUn+aVsOaNrlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVwb3J0X2FkX3Nob3coYWRfcG9zX2lkOiBzdHJpbmcsIG5hdGl2ZV9kYXRhPykge1xyXG4gICAgICAgIHJldHVybiBzeXl4X2Fkdl9tYW5hZ2VyLnJlcG9ydF9hZF9zaG93KGFkX3Bvc19pZCwgbmF0aXZlX2RhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y6f55Sf5bm/5ZGKICDkuIrmiqXngrnlh7tcclxuICAgICAqIEBwYXJhbSBhZF9wb3NfaWQg6YWN572u6KGo5bm/5ZGK5L2NSURcclxuICAgICAqIEBwYXJhbSBhZF91bml0X2lkIGNyZWF0ZV9hZOeahG9ubG9hZOi/lOWbnueahOWOn+eUn+W5v+WRiuS/oeaBr+mHjOmdoueahGFkVW5pdElkIOi/meS4quWNleS9jUlEXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZXBvcnRfYWRfY2xpY2soYWRfcG9zX2lkOiBzdHJpbmcsIG5hdGl2ZV9kYXRhPykge1xyXG4gICAgICAgIHJldHVybiBzeXl4X2Fkdl9tYW5hZ2VyLnJlcG9ydF9hZF9jbGljayhhZF9wb3NfaWQsIG5hdGl2ZV9kYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmihOWKoOi9veinhumikeW5v+WRiu+8iOWNjuS4uu+8iVxyXG4gICAgICogQHBhcmFtIGFkX3Bvc19pZCBcclxuICAgICAqIEBwYXJhbSBvbkxvYWQgXHJcbiAgICAgKiBAcGFyYW0gb25TaG93IFxyXG4gICAgICogQHBhcmFtIG9uQ2xvc2UgXHJcbiAgICAgKiBAcGFyYW0gb25FcnJvciBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHByZWxvYWRfdmlkZW8oKSB7XHJcbiAgICAgICAgaWYgKHN5eXhfY29uc3Quc3l5eF9zZGtfY2hhbm5lbCA9PT0gaWdjLmVfY2hhbm5lbF90eXBlLmh3X3FnKSB7XHJcbiAgICAgICAgICAgIHN5eXhfbWFuYWdlci5jcmVhdGVfYWQoaWdjLmVfYWRfdHlwZS52aWRlbywgZV9hZF9pZC52aWRlb19hZGRfZ29sZCwgKCkgPT4geyB9LCAoKSA9PiB7IH0sICgpID0+IHsgfSwgKCkgPT4geyB9KVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgc2hvd19uYXRpdmVfaW5uZXJfaW50ZXJzdGl0aWFsKGFkX3Bvc19pZCwgcGFyZW50LCBjbGlja19iYWNrPzogRnVuY3Rpb24sIHNob3dfYmFjaz86IEZ1bmN0aW9uLCBoaWRlX2JhY2s/OiBGdW5jdGlvbiwgaXNfbmV3X3R5cGUgPSB0cnVlKSB7XHJcblxyXG4gICAgICAgIGlmICghYWRfYmFubmVyLmNhbl9zaG93X2ZpcnN0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWdjLS0tLS0gaXMgaW4gb3BwbyBmaXJzdCBhZCBjZCBcIilcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbmF0aXZlX2RhdGEgPSB0aGlzLmdldF9sb2NhbF9uYXRpdmVfZGF0YShhZF9wb3NfaWQpIC8vIGFkX3Bvc19pZCBubyB1c2VcclxuXHJcbiAgICAgICAgaWYoYWRfcG9zX2lkID09ICcxMDMwNDAwMScpIHsgLy8g5Y6f55SfYmFubmVyXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlX2lubmVyX2ludGVyc3RpdGlhbF9ibihmdW5jdGlvbiAodmlldykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zaG93KHBhcmVudCwgbmF0aXZlX2RhdGEsIGNsaWNrX2JhY2ssIHNob3dfYmFjaywgaGlkZV9iYWNrLCBpc19uZXdfdHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlX2lubmVyX2ludGVyc3RpdGlhbChmdW5jdGlvbiAodmlldykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hdGl2ZV9kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zaG93KHBhcmVudCwgbmF0aXZlX2RhdGEsIGNsaWNrX2JhY2ssIHNob3dfYmFjaywgaGlkZV9iYWNrLCBpc19uZXdfdHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNsaWNrX25hdGl2ZV9pbm5lcl9pbnRlcnN0aXRpYWwoY2FsbF9iYWNrPykgeyAvLyDljp/nlJ/kuIrmiqVcclxuICAgICAgICB0aGlzLmNyZWF0ZV9pbm5lcl9pbnRlcnN0aXRpYWwoZnVuY3Rpb24gKHZpZXcpIHtcclxuICAgICAgICAgICAgaWYgKHZpZXcgJiYgdmlldy5ub2RlICYmIHZpZXcubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZpZXcucmVwb3J0X2NsaWNrKClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhbGxfYmFjayAmJiBjYWxsX2JhY2soKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNsaWNrX25hdGl2ZV9iYW5uZXIoY2FsbF9iYWNrPykgeyAvLyDljp/nlJ9iYW5uZXLkuIrmiqVcclxuICAgICAgICB0aGlzLmNyZWF0ZV9pbm5lcl9pbnRlcnN0aXRpYWxfYm4oZnVuY3Rpb24gKHZpZXcpIHtcclxuICAgICAgICAgICAgaWYgKHZpZXcgJiYgdmlldy5ub2RlICYmIHZpZXcubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZpZXcucmVwb3J0X2NsaWNrKClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhbGxfYmFjayAmJiBjYWxsX2JhY2soKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOiOt+WPluWKoOi9veWlveeahOWOn+eUn+aVsOaNrlxyXG4gICAgKiBAcGFyYW0gYWRfcG9zX2lkIOmFjee9ruihqOWOn+eUn2lkXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGdldF9sb2NhbF9uYXRpdmVfZGF0YShhZF9wb3NfaWQpOiBuYXRpdmVfYWRfZGF0YSB7XHJcbiAgICAgICAgcmV0dXJuIHN5eXhfYWR2X21hbmFnZXIuZ2V0X2xvY2FsX25hdGl2ZV9kYXRhKGFkX3Bvc19pZClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWxleekuuinhumikVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2hvd192aWRlbyhhZF9wb3NfaWQ6IHN0cmluZywgb25Mb2FkOiBGdW5jdGlvbiwgb25TaG93OiBGdW5jdGlvbiwgb25DbG9zZTogRnVuY3Rpb24sIG9uRXJyb3I6IEZ1bmN0aW9uLCBuZWVkX2Vycl90aXBzID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUud2ViKSB7XHJcbiAgICAgICAgICAgIG9uQ2xvc2UgJiYgb25DbG9zZShudWxsLCB7IGlzRW5kZWQ6IHRydWUgfSlcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuX19idXNpbmVzc19jb25maWdfZGF0YSAmJiB0aGlzLl9fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJ2aWRlb19vcGVuX3N3aXRjaFwiXSAmJiB0aGlzLl9fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJ2aWRlb19vcGVuX3N3aXRjaFwiXS52YWx1ZVswXSA9PSAwKSB7IC8vIOinhumikeW8gOWFs1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuZWVkX2Vycl90aXBzICYmIHN5eXhfbWFuYWdlci5jcmVhdGVfdG9hc3QoXCLnm67liY3mmoLml6Dlub/lkYrvvIzor7fnqI3lkI7lho3or5VcIilcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcigpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUuaHdfcWcpIHtcclxuICAgICAgICAgICAgc3l5eF9tYW5hZ2VyLnNob3dfYWQoaWdjLmVfYWRfdHlwZS52aWRlbywgYWRfcG9zX2lkLCBvbkxvYWQsIG9uU2hvdyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChwYXJhbSwgcmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5pc0VuZGVkKSB7fSBcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHt9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZSAmJiBvbkNsb3NlKHBhcmFtLCByZXMpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5lZWRfZXJyX3RpcHMgJiYgc3l5eF9tYW5hZ2VyLmNyZWF0ZV90b2FzdChcIuaaguaXoOW5v+WRiu+8jOivt+eojeWQjuWGjeivlVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcigpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzeXl4X21hbmFnZXIuY3JlYXRlX2FkKGlnYy5lX2FkX3R5cGUudmlkZW8sIGFkX3Bvc19pZCwgb25Mb2FkLCBvblNob3csXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocGFyYW0sIHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuaXNFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlICYmIG9uQ2xvc2UocGFyYW0sIHJlcylcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocGFyYW1zLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb2RlOiAyMDAwLCBtc2c6IHlvdXIgcmVxdWVzdCBhZCB0b28gb2Z0ZW5cclxuICAgICAgICAgICAgICAgICAgICAvLyBuZWVkX2Vycl90aXBzICYmIHN5eXhfbWFuYWdlci5jcmVhdGVfdG9hc3QoIEpTT04uc3RyaW5naWZ5KGVyci5lcnJvcikpICAvLyDmnInml7bmlrDorr7lpIfnrKzkuIDmrKHmiZPlvIDkvJrmiqXplJks5a6Y5pa56L+U5Zue5LqG6LCD5Y+W5Y+w6aKR57mBXHJcbiAgICAgICAgICAgICAgICAgICAgbmVlZF9lcnJfdGlwcyAmJiBzeXl4X21hbmFnZXIuY3JlYXRlX3RvYXN0KFwi55uu5YmN5pqC5pe25peg5bm/5ZGK77yM6K+356iN5ZCO5YaN6K+VXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKTmlq3lubPlj7DniYjmnKzlj7fvvIznnIvmmK/lkKbmlK/mjIHmt7vliqDmoYzpnaLlip/og71cclxuICAgICAqIHBsYXRmb3JtVmVyc2lvbiA+PSAxMDQ0O1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY2hlY2tfY2FuX2FkZF9kZXNrdG9wKCkge1xyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2UuY2hlY2tfY2FuX2FkZF9kZXNrdG9wKHt9KVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOajgOafpeacieayoeaciea3u+WKoOahjOmdolxyXG4gICAgICogQHBhcmFtIGNhbl9hZGQgIOayoeaciea3u+WKoFxyXG4gICAgICogQHBhcmFtIGhhc19hZGQgIOa3u+WKoOS6hlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY2hlY2tfaXNfYWRkX2Rlc2t0b3AoY2FuX2FkZDogRnVuY3Rpb24sIGhhc19hZGQ6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtID0ge1xyXG4gICAgICAgICAgICBjYW5fYWRkOiBjYW5fYWRkLFxyXG4gICAgICAgICAgICBoYXNfYWRkOiBoYXNfYWRkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2UuY2hlY2tfaXNfYWRkX2Rlc2t0b3AocGFyYW0pXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vliqDmoYzpnaLmk43kvZxcclxuICAgICAqIEBwYXJhbSBvbl9zdWNjZXNzICAg5Y+v5Lul5re75Yqg5qGM6Z2iIOa3u+WKoOahjOmdoueahOezu+e7n+eVjOmdouW8ueWHuiBcclxuICAgICAqIEBwYXJhbSBvbl9mYWlsZWQgICAgIOS4jeiDvea3u+WKoOahjOmdoiDmr5TlpoLlubPlj7DniYjmnKzovoPkvY5cclxuICAgICAqIEBwYXJhbSBvbl9mYWlsZWRfYmFjayAg5by55Ye65re75Yqg5qGM6Z2i55qE57O757uf55WM6Z2i5aSx6LSlXHJcbiAgICAgKiBAcGFyYW0gaGFzX2NyZWF0ZSAgICDlm77moIflt7Lnu4/liJvlu7rov4fkuoZcclxuICAgICAqIHBz77ya5b2T5o6l5pS25Yiwb25fc3VjY2Vzc+Wbnuiwg+WQju+8jOWumuaXtuWZqOS4gOenkuS5i+WQjiDlho3osIPnlKggY2hlY2tfaXNfYWRkX2Rlc2t0b3Ag5p2l5Yik5pat55So5oi35piv5ZCm5re75Yqg5LqG5qGM6Z2iIFxyXG4gICAgICog5aaC5p6c5Zue6LCD5pivIGNhbl9hZGQg5YiZ5Luj6KGo55So5oi35Y+W5raIIOWmguaenOWbnuiwg+aYr2hhc19hZGQg77yM5YiZ5Luj6KGo55So5oi35re75Yqg5qGM6Z2iIOWPr+WPkeaUvuWlluWKsVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYWRkX2Rlc2t0b3Aob25fc3VjY2VzczogRnVuY3Rpb24sIG9uX2ZhaWxlZDogRnVuY3Rpb24sIG9uX2ZhaWxlZF9iYWNrOiBGdW5jdGlvbiwgaGFzX2NyZWF0ZTogRnVuY3Rpb24pIHtcclxuICAgICAgICBsZXQgcGFyYW0gPSB7XHJcbiAgICAgICAgICAgIG9uX3N1Y2Nlc3M6IG9uX3N1Y2Nlc3MsXHJcbiAgICAgICAgICAgIG9uX2ZhaWxlZDogb25fZmFpbGVkLFxyXG4gICAgICAgICAgICBvbl9mYWlsZWRfYmFjazogb25fZmFpbGVkX2JhY2ssXHJcbiAgICAgICAgICAgIGhhc19jcmVhdGU6IGhhc19jcmVhdGVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2UuYWRkX2Rlc2t0b3AocGFyYW0pXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlkI7lj7DovazliY3lj7Dnm5HlkKxcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xyXG4gICAgICogY2FsbGJhY2vvvJpmdW5jdGlvbihyZXMpe1xyXG4gICAgICogfSBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG9uX3Nob3coY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGlnYy5pZ2NfbWFpbi5pbnN0YW5jZS5vbl9zaG93KHtcclxuICAgICAgICAgICAgb25fc2hvdzogY2FsbGJhY2tcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6L2s5ZCO5Y+w55uR5ZCsXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgXHJcbiAgICAgKiBjYWxsYmFja++8mmZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgKiB9IFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgb25faGlkZShjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2Uub25faGlkZSh7XHJcbiAgICAgICAgICAgIG9uX2hpZGU6IGNhbGxiYWNrXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluezu+e7n+S/oeaBr1xyXG4gICAgICogIHtcclxuICAgICAqICBicmFuZO+8muiuvuWkh+WTgeeJjFxyXG4gICAgICAgIG1vZGVs77ya5omL5py65Z6L5Y+3XHJcbiAgICAgICAgcGl4ZWxSYXRpb++8muiuvuWkh+WDj+e0oOavlFxyXG4gICAgICAgIHNjcmVlbldpZHRo77ya5bGP5bmV5a695bqmXHJcbiAgICAgICAgc2NyZWVuSGVpZ2h077ya5bGP5bmV6auY5bqmXHJcbiAgICAgICAgd2luZG93V2lkdGjvvJrlj6/kvb/nlKjnqpflj6Plrr3luqZcclxuICAgICAgICB3aW5kb3dIZWlnaHTvvJrlj6/kvb/nlKjnqpflj6Ppq5jluqZcclxuICAgICAgICBzdGF0dXNCYXJIZWlnaHTvvJrnirbmgIHmoI8v5byC5oCn57y65Y+j6auY5bqmXHJcbiAgICAgICAgbGFuZ3VhZ2XvvJrnjq/looPor63oqIBcclxuICAgICAgICB2ZXJzaW9u77ya54mI5pys5Y+3XHJcbiAgICAgICAgcGxhdGZvcm3vvJrlrqLmiLfnq6/lubPlj7BcclxuICAgICAgICBzeXN0ZW3vvJrmk43kvZzns7vnu5/niYjmnKxcclxuICAgICAgICBwbGF0Zm9ybVZlcnNpb27vvJrlubPlj7DniYjmnKzlj7cv5a6i5oi356uv5Z+656GA5bqT54mI5pysXHRcclxuICAgICAgICBleHRyYTpnZXRTeXN0ZW1JbmZvU3luY+i/lOWbnueahOWPguaVsFxyXG4gICAgICAgIH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldF9zeXN0ZW1faW5mb19zeW5jKCkge1xyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2UuZ2V0X3N5c3RlbV9pbmZvX3N5bmMoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5ri45oiP5ZCv5Yqo5Y+C5pWwXHJcbiAgICAgKiBzY2VuZe+8muWcuuaZr+WAvFxyXG4gICAgICogcXVlcnnvvJrmn6Xor6Llj4LmlbBcclxuICAgICAqIHJlZmVycmVySW5mb++8muWwj+a4uOaIj+WQr+WKqOadpea6kFxyXG4gICAgICogZW50cnlEYXRhSGFzaO+8mue+pOWFpeWPo+S/oeaBr1xyXG4gICAgICogZXh0cmEg5bCP5ri45oiP5Z+65pys5L+h5oGv77yM5YyF5ous5a6/5Li7IElk77yMZ2FtZUlk77yM5ZCv5Yqo5Zy65pmv562J5Y+C5pWwXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGdldF9sYXVuY2hfb3B0aW9uc19zeW5jKCkge1xyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2UuZ2V0X2xhdW5jaF9vcHRpb25zX3N5bmMoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YWz6Zet5bCP5ri45oiPXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBleGl0X21pbmlfcHJvZ3JhbSgpIHtcclxuICAgICAgICByZXR1cm4gaWdjLmlnY19tYWluLmluc3RhbmNlLmV4aXRfbWluaV9wcm9ncmFtKClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWwj+a4uOaIj+i3s+i9rFxyXG4gICAgICogQHBhcmFtIHBhcmFtXHJcbiAgICAgKiB7XHJcbiAgICAgKiAgIGFwcF9pZDrlsI/muLjmiI/ljIXlkI1cclxuICAgICAqICAgc3VjY2VzczrmiJDlip/lm57osINcclxuICAgICAqIH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIG5hdmlnYXRlX3RvX21pbmlfcHJvZ3JhbShhcHBfaWQ6IHN0cmluZywgc3VjY2VzczogRnVuY3Rpb24pIHtcclxuICAgICAgICBsZXQgcGFyYW0gPSB7XHJcbiAgICAgICAgICAgIGFwcF9pZDogYXBwX2lkLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2UubmF2aWdhdGVfdG9fbWluaV9wcm9ncmFtKHBhcmFtKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YiG5Lqr5Y2h54mHXHJcbiAgICAgKiBAcGFyYW0gcGFyYW0gXHJcbiAgICAgKiB7XHJcbiAgICAgKiAgICogIGNoYW5uZWzvvJrovazlj5HlhoXlrrnnsbvlnotcclxuICAgICAgICAgKiAgdGVtcGxhdGVJZO+8muWIhuS6q+e0oOadkOaooeadv2lkXHJcbiAgICAgICAgICogIGRlc2M65YiG5Lqr5paH5qGIXHJcbiAgICAgICAgICogIHRpdGxlOuagh+mimCAgIO+8iOW/hemhu++8iVxyXG4gICAgICAgICAqICBpbWFnZVVybO+8muWbvueJhyAgIO+8iOW/hemhu++8iVxyXG4gICAgICAgICAqICBxdWVyeTrmn6Xor6LlrZfnrKbkuLJcclxuICAgICAgICAgKiAgZXh0cmHvvJrpmYTliqDkv6Hmga9cclxuICAgICAgICAgKiAgc3VjY2VzczrmiJDlip/lm57osINcclxuICAgICAgICAgKiAgZmFpbDrlpLHotKXlm57osINcclxuICAgICAgICAgKiAgZXh0cmE66ZmE5Yqg5L+h5oGvXHJcbiAgICAgKiB9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzaGFyZSh0aXRsZTogc3RyaW5nLCBpbWFnZVVybDogc3RyaW5nLCBxdWVyeT86IHN0cmluZywgZGVzYz86IHN0cmluZywgc3VjY2Vzcz86IEZ1bmN0aW9uLCBmYWlsPzogRnVuY3Rpb24pIHtcclxuICAgICAgICBsZXQgcGFyYW0gPSB7XHJcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcclxuICAgICAgICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsLFxyXG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXHJcbiAgICAgICAgICAgIGRlc2M6IGRlc2MsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXHJcbiAgICAgICAgICAgIGZhaWw6IGZhaWxcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlnYy5pZ2NfbWFpbi5pbnN0YW5jZS5zaGFyZShwYXJhbSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOebkeWQrOWPs+S4iuinkuWIhuS6q1xyXG4gICAgICogQHBhcmFtIHBhcmFtIFxyXG4gICAgICoge1xyXG4gICAgICogIHRpdGxlOuagh+mimFxyXG4gICAgICAgIGltYWdlVXJs77ya5Zu+54mHXHJcbiAgICAgKiB9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBvbl9zaGFyZV9hcHBfbWVzc2FnZSh0aXRsZTogc3RyaW5nLCBpbWFnZVVybDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtID0ge1xyXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaWdjLmlnY19tYWluLmluc3RhbmNlLm9uX3NoYXJlX2FwcF9tZXNzYWdlKHBhcmFtKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5byA5aeL5b2V5bGPXHJcbiAgICAgKiBAcGFyYW0gcGFyYW0gXHJcbiAgICAgKiB7XHJcbiAgICAgKiAgdGltZTog5b2V5bGP5pyA5aSn5pe26Ze0ICDvvIjpnZ7lv4XpobvvvIlcclxuICAgICAgICBpc19jbGlwX2VuZDog5piv5ZCm5oiq5Y+W5pyA5ZCOeOenkuW9leWxjyAgIO+8iOmdnuW/hemhu++8iVxyXG4gICAgICAgIGNsaXBfdGltZTog5oiq5Y+W5pyA5ZCO5b2V5bGP55qE5pe26Ze0ICDkvovlpoLvvJrmiKrlj5bmnIDlkI4zMHMgICDvvIjpnZ7lv4XpobvvvIlcclxuICAgICAqIH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHN0YXJ0X3JlY29yZF9zY3JlZW4odGltZT86IG51bWJlciwgaXNfY2xpcF9lbmQ/OiBib29sZWFuLCBjbGlwX3RpbWU/OiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcGFyYW0gPSB7XHJcbiAgICAgICAgICAgIHRpbWU6IHRpbWUsXHJcbiAgICAgICAgICAgIGlzX2NsaXBfZW5kOiBpc19jbGlwX2VuZCxcclxuICAgICAgICAgICAgY2xpcF90aW1lOiBjbGlwX3RpbWVcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlnYy5pZ2NfbWFpbi5pbnN0YW5jZS5zdGFydF9yZWNvcmRfc2NyZWVuKHBhcmFtKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57uT5p2f5b2V5bGPXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzdG9wX3JlY29yZF9zY3JlZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIGlnYy5pZ2NfbWFpbi5pbnN0YW5jZS5zdG9wX3JlY29yZF9zY3JlZW4oKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pqC5YGc5b2V5bGPXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBwYXVzZV9yZWNvcmRfc2NyZWVuKCkge1xyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2UucGF1c2VfcmVjb3JkX3NjcmVlbigpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmgaLlpI3lvZXlsY9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlc3VtZV9yZWNvcmRfc2NyZWVuKCkge1xyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2UucmVzdW1lX3JlY29yZF9zY3JlZW4oKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICAgKiDliIbkuqvlvZXlsY9cclxuICAgICAgICogQHBhcmFtIHBhcmFtIFxyXG4gICAgICAgKiB7XHJcbiAgICAgICAqICB2aWRlb1RvcGljczogW1wi55S757q/5aSn5L2c5oiYXCIsXCLmnInkurpA5L2g77yM5bCx5Zac5qyi55yL5L2g6L+95LiK5oiR5Y+I5p2A5LiN5LqG5oiR77yM5oiR55qE55S757q/56eY57GN5bCx5pivLi5cIixcIuaKlumfs+Wwj+a4uOaIj1wiLF0gIOivnemimFxyXG4gICAgICAgKiAgdGl0bGU65qCH6aKYXHJcbiAgICAgICAqICBkZXNjOuaPj+i/sFxyXG4gICAgICAgKiAgaW1hZ2VVcmw65aSn5Zu+XHJcbiAgICAgICAqICBxdWVyeTrmn6Xor6LlrZfnrKbkuLJcclxuICAgICAgICogIGZhaWw65aSx6LSl5Zue6LCDXHJcbiAgICAgICAqICBzdWNjZXNzOuaIkOWKn+Wbnuiwg1xyXG4gICAgICAgKiB9XHJcbiAgICAgICAqL1xyXG4gICAgc3RhdGljIHNoYXJlX3JlY29yZF9zY3JlZW4odmlkZW9Ub3BpY3M6IEFycmF5PHN0cmluZz4sIHRpdGxlOiBzdHJpbmcsIGRlc2M6IHN0cmluZywgaW1hZ2VVcmw6IHN0cmluZywgcXVlcnk6IHN0cmluZywgZmFpbDogRnVuY3Rpb24sIHN1Y2Nlc3M6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtID0ge1xyXG4gICAgICAgICAgICB2aWRlb1RvcGljczogdmlkZW9Ub3BpY3MsXHJcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcclxuICAgICAgICAgICAgZGVzYzogZGVzYyxcclxuICAgICAgICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsLFxyXG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXHJcbiAgICAgICAgICAgIGZhaWw6IGZhaWwsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZ2MuaWdjX21haW4uaW5zdGFuY2Uuc2hhcmVfcmVjb3JkX3NjcmVlbihwYXJhbSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluW9leWxj+aWh+S7tlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0X3JlY29yZF92aWRlbygpIHtcclxuICAgICAgICByZXR1cm4gaWdjLmlnY19tYWluLmluc3RhbmNlLmdldF9yZWNvcmRfdmlkZW8oKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRfYWRpZF9nY19zdGF0dWMoX3R5cGU6IHN0cmluZykge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5hZElkTWFwLmhhcyhfdHlwZSkpIHtcclxuICAgICAgICAgICAgbGV0IGFycmF5ID0gdGhpcy5hZElkTWFwLmdldChfdHlwZSk7XHJcbiAgICAgICAgICAgIGxldCByZXMgPSBKU09OLnBhcnNlKGFycmF5WzBdKTtcclxuICAgICAgICAgICAgaWYgKEJvb2xlYW4ocmVzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5nY19zdGF0dXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ3VvYmFvX2dldF9jaGFubmVsX2FkX2lkKF90eXBlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0aGlzLmFkSWRNYXAuaGFzKF90eXBlKSkge1xyXG4gICAgICAgICAgICBsZXQgYXJyYXkgPSB0aGlzLmFkSWRNYXAuZ2V0KF90eXBlKTtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IEpTT04ucGFyc2UoYXJyYXlbMF0pO1xyXG4gICAgICAgXHJcbiAgICAgICAgICAgIGlmIChCb29sZWFuKHJlcykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuYWR2X2lkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6L295pys5Zyw55qE5ZWG5Lia5YyW6YWN572uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBvbl9sb2FkX2xvY2FsX2J1c2luZXNzX2NvbmZpZygpIHtcclxuXHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcbiAgICAgICAgc3l5eF9zZGtfdXRpbHMubG9hZF9yZXNvdXJjZSh0aGlzLl9fYnVzaW5lc3NfY29uZmlnX2ZpbGVfcGF0aCwgZGF0YSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgbmV3X2RhdGEgPSBpZ2MuaWdjX3Jlc291cmNlc191dGlscy5wYXJzZV9jc3YoZGF0YSwgXCJpZFwiKTtcclxuXHJcbiAgICAgICAgICAgIC8v5ouJ5Y+W6L+c56uv6YWN572u5aSx6LSlIOWImeS9v+eUqOacrOWcsOmFjee9rlxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcIm5hdGl2ZV9pY29uX3N3aXRjaFwiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwi5Y6f55SfaWNvbuW8gOWFs1wiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwibmF0aXZlX2ljb25fc3dpdGNoXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfaWNvbl90cmFwX3Byb1wiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwi5Y6f55SfaWNvbuaYk+eCueWHu+amgueOh1wiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwibmF0aXZlX2ljb25fdHJhcF9wcm9cIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcImJhbm5lcl9jb29sX3RpbWVcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcImJhbm5lcuiHquWKqOWIt+aWsOaXtumXtFwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwiYmFubmVyX2Nvb2xfdGltZVwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFsyMCwgMjBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfaWNvbl9jb29sX3RpbWVcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIuWOn+eUn2ljb27oh6rliqjliLfmlrDml7bpl7RcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcIm5hdGl2ZV9pY29uX2Nvb2xfdGltZVwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFsyMCwgMjBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJhZHZfYmFubmVyX2NkXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLljp/nlJ/lj4piYW5uZXLlub/lkYrlhrfljbTvvIjnp5LvvIlcIiwgLy8g5YmNeOenkuS4jeaYvuekuuW5v+WRilxyXG4gICAgICAgICAgICAgICAgaWQ6IFwiYWR2X2Jhbm5lcl9jZFwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFsyXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wiYmFubmVyX3RvcF9vZmZzZXRcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIuaJi1HmuKDpgZPmma7pgJpiYW5uZXLkuIrnp7vot53nprtcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcImJhbm5lcl90b3Bfb2Zmc2V0XCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzAsIDBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfYmFubmVyX29wZW5fc3dpdGNoXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLmmK/lkKblkK/nlKjljp/nlJ9iYW5uZXLlub/lkYrlvIDlhbNcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcIm5hdGl2ZV9iYW5uZXJfb3Blbl9zd2l0Y2hcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcIm5hdGl2ZV9iYW5uZXJfY2xpY2tfc3dpdGNoXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLmmK/lkKblkK/nlKjljp/nlJ9iYW5uZXLmmJPngrnlh7vlpITnkIZcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcIm5hdGl2ZV9iYW5uZXJfY2xpY2tfc3dpdGNoXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfYmFubmVyX2NsaWNrX3Byb1wiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwi5Y6f55SfYmFubmVy5piT54K55Ye76Kem5Y+R5qaC546HXCIsXHJcbiAgICAgICAgICAgICAgICBpZDogXCJuYXRpdmVfYmFubmVyX2NsaWNrX3Byb1wiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFswXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wibmF0aXZlX2Jhbm5lcl9jbGlja19wcm90ZWN0XCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLljp/nlJ9iYW5uZXLmmJPngrnlh7vkv53miqRcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcIm5hdGl2ZV9iYW5uZXJfY2xpY2tfcHJvdGVjdFwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFszXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wibmF0aXZlX2luc3RpdGlhbF93aGl0ZV9lYXN5X2NsaWNrXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLljp/nlJ/mj5LlsY/ngrnlh7vnqbrnmb3ot7PovaxcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcIm5hdGl2ZV9pbnN0aXRpYWxfd2hpdGVfZWFzeV9jbGlja1wiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFswXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wibmF0aXZlX2Jhbm5lcl9yZXBvcnRfY2xpY2tfdXBkYXRlX3N3aXRjaFwiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwi5Y6f55SfQmFubmVy54K55Ye75LiK5oql5ZCO56uL5Y2z5Yi35pawXCIsXHJcbiAgICAgICAgICAgICAgICBpZDogXCJuYXRpdmVfYmFubmVyX3JlcG9ydF9jbGlja191cGRhdGVfc3dpdGNoXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfaWNvbl9yZXBvcnRfY2xpY2tfdXBkYXRlX3N3aXRjaFwiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwi5Y6f55SfaWNvbueCueWHu+S4iuaKpeWQjueri+WNs+WIt+aWsFwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwibmF0aXZlX2ljb25fcmVwb3J0X2NsaWNrX3VwZGF0ZV9zd2l0Y2hcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcIm5hdGl2ZV9pbm5lcl9yZXBvcnRfY2xpY2tfdXBkYXRlX3N3aXRjaFwiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwi57uT566X5Y6f55Sf54K55Ye75LiK5oql5ZCO56uL5Y2z5Yi35pawXCIsXHJcbiAgICAgICAgICAgICAgICBpZDogXCJuYXRpdmVfaW5uZXJfcmVwb3J0X2NsaWNrX3VwZGF0ZV9zd2l0Y2hcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcIm5hdGl2ZV9pbnRlcnN0aXRpYWxfcmVwb3J0X2NsaWNrX3VwZGF0ZV9zd2l0Y2hcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIuWOn+eUn+aPkuWxj+eCueWHu+S4iuaKpeWQjueri+WNs+WIt+aWsFwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwibmF0aXZlX2ludGVyc3RpdGlhbF9yZXBvcnRfY2xpY2tfdXBkYXRlX3N3aXRjaFwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFsxXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wic2hvd19ub3JtYWxfYmFubmVyX3N3aXRjaFwiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwi5piv5ZCm5byA5ZCv5bGV56S65pmu6YCaYmFubmVy5byA5YWzXCIsXHJcbiAgICAgICAgICAgICAgICBpZDogXCJzaG93X25vcm1hbF9iYW5uZXJfc3dpdGNoXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfaWNvbl90cmFwX3Byb1wiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwi5Y6f55SfaWNvbuaYk+eCueWHu+amgueOh1wiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwibmF0aXZlX2ljb25fdHJhcF9wcm9cIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcImZpbmdlcl9jbG9zZV9iYW5uZXJfc3dpdGNoXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLlhbPpl61CYW5uZXLlkI7kuI3lho3lsZXnpLpcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcImZpbmdlcl9jbG9zZV9iYW5uZXJfc3dpdGNoXCIsXHJcbiAgICAgICAgICAgICAgICAvLyB2YWx1ZTogWzAsIDYwXVxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFswLCA2MF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcIm5hdGl2ZV9pbm5lcl9pbnN0aXRpYWxfY2xpY2tfY2xvc2VfcHJvXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLlhbPpl63nu5Pnrpfljp/nlJ/mmJPot7PovazmpoLnjodcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcIm5hdGl2ZV9pbm5lcl9pbnN0aXRpYWxfY2xpY2tfY2xvc2VfcHJvXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfaW5zdGl0aWFsX2NsaWNrX2Nsb3NlX3Byb1wiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwi5YWz6Zet5Y6f55Sf5o+S5bGP5piT6Lez6L2s5qaC546HXCIsXHJcbiAgICAgICAgICAgICAgICBpZDogXCJuYXRpdmVfaW5zdGl0aWFsX2NsaWNrX2Nsb3NlX3Byb1wiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFswXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wib3Blbl9vcHBvX25ld19ydWxlXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLmmK/lkKblvIDlkK9vcHBv5paw6KeEXCIsXHJcbiAgICAgICAgICAgICAgICBpZDogXCJvcGVuX29wcG9fbmV3X3J1bGVcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcIm9wcG9fYmFubmVyX2Nvb2xfdGltZVwiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwib3Bwb0Jhbm5lcue0r+iuoeWxleekuuWIt+aWsOaXtumXtFwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwib3Bwb19iYW5uZXJfY29vbF90aW1lXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogW1swLCAxMjAsIDEwXSwgWzEyMSwgMTgwLCAxMV0sIFsxODEsIDI0MCwgMTJdXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wib3Bwb19uYXRpdmVfc2hvd19saW1pdFwiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwib3Bwb+WOn+eUn+WxleekuumZkOWItlwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwib3Bwb19uYXRpdmVfc2hvd19saW1pdFwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFs2MCwgNjBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJvcHBvX25hdGl2ZV9jYWNoZV9sZW5ndGhcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIm9wcG/ljp/nlJ/mlbDmja7nvJPlrZjmlbDnu4Tplb/luqZcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcIm9wcG9fbmF0aXZlX2NhY2hlX2xlbmd0aFwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFs1XVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wibmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbF9zd2l0Y2hcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIue7k+eul+WOn+eUn+W8gOWFs1wiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwibmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbF9zd2l0Y2hcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcIm5hdGl2ZV9iYW5uZXJfY2xpY2tfcHJvX2xpbWl0XCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLljp/nlJ9iYW5uZXLngrnlh7vnjofpmZDliLZcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcIm5hdGl2ZV9iYW5uZXJfY2xpY2tfcHJvX2xpbWl0XCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzEwMDAsIDAuNCwgNjBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfaW5uZXJfY2xpY2tfcHJvX2xpbWl0XCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLnu5Pnrpfljp/nlJ/ngrnlh7vnjofpmZDliLZcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcIm5hdGl2ZV9pbm5lcl9jbGlja19wcm9fbGltaXRcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMTAwMCwgMC40LCA2MF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcIm5hdGl2ZV9pbnRlcnN0aXRpYWxfY2xpY2tfcHJvX2xpbWl0XCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLljp/nlJ/mj5LlsY/ngrnlh7vnjofpmZDliLZcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcIm5hdGl2ZV9pbnRlcnN0aXRpYWxfY2xpY2tfcHJvX2xpbWl0XCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzEwMDAsIDAuNCwgNjBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfaW50ZXJzdGl0aWFsX2NsaWNrX3dyYXBcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIuWOn+eUn+aPkuWxj+WxleekuuetlueVpVwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwibmF0aXZlX2ludGVyc3RpdGlhbF9jbGlja193cmFwXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzEwMDAsIDIsIDVdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfaW5uZXJfaW5zdGl0aWFsX2NsaWNrX3dyYXBcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIue7k+eul+WOn+eUn+WxleekuuetlueVpVwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwibmF0aXZlX2lubmVyX2luc3RpdGlhbF9jbGlja193cmFwXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzEwMDAsIDIsIDVdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJiYW5uZXJfc3Ryb25nX3VwZGF0ZV9zd2l0Y2hcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcImJhbm5lcuW8uuWItuWIt+aWsOW8gOWFs1wiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwiYmFubmVyX3N0cm9uZ191cGRhdGVfc3dpdGNoXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfYmFubmVyX2hlaWdodF9vcGVuX3J1bGVcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIuWOn+eUn2Jhbm5lcumrmOW6puWQr+WKqOinhOWImVwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwibmF0aXZlX2Jhbm5lcl9oZWlnaHRfb3Blbl9ydWxlXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzIsIDMsIDVdIC8vIOesrOS4gOS4quaYr+WxleekuuasoeaVsOS4uuWkmuWwkeaXtu+8jOS8muaPkOmrmGJhbm5lcumrmOW6plxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wibmF0aXZlX2Jhbm5lcl9oZWlnaHRfcnVsZVwiXSA9IHsgLy8gc2V0X2Jhbm5lcl9oZWlnaHRcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwi5Y6f55SfYmFubmVy6auY5bqm6KeE5YiZXCIsXHJcbiAgICAgICAgICAgICAgICBpZDogXCJuYXRpdmVfYmFubmVyX2hlaWdodF9ydWxlXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzIwMCwgMzIwLCAxLjNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJsb2FkX25hdGl2ZV9pbnRlcnN0aXRpYWxfcnVsZVwiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwi5Y6f55Sf5o+S5bGP5Yqg6L296KeE5YiZ77yI56ysWOasoeWOu+WKoOi9ve+8iVwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwibG9hZF9uYXRpdmVfaW50ZXJzdGl0aWFsX3J1bGVcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbM11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcImZpcnN0X3VzZV9uYXRpYmVfYmFubmVyXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLljp/nlJ/mj5LlsY/kvJjlhYjkvb/nlKjljp/nlJ9CYW5uZXJcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcImZpcnN0X3VzZV9uYXRpYmVfYmFubmVyXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJjdHJfdGVzdF9vcGVuXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJjdHLlvIDlkK/lvIDlhbNcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcImN0cl90ZXN0X29wZW5cIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcImN0cl90ZXN0X2Nsb3NlX2J1dHRvbl9kZWxheVwiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiY3Ry5rWL6K+V5YWz6Zet5oyJ6ZKu5bu26L+fXCIsXHJcbiAgICAgICAgICAgICAgICBpZDogXCJjdHJfdGVzdF9jbG9zZV9idXR0b25fZGVsYXlcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcImN0cl90ZXN0X3Jld2FyZF9jb3VudFwiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiY3Ry5rWL6K+V5aWW5Yqx5pWw6YePXCIsXHJcbiAgICAgICAgICAgICAgICBpZDogXCJjdHJfdGVzdF9yZXdhcmRfY291bnRcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMTAwXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wiYmFubmVyX2NsaWNrX21hc2tfb3Blbl9ydWxlXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJiYW5uZXLngrnlh7vljLrln5/nvKnmlL7op4TliJlcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcImJhbm5lcl9jbGlja19tYXNrX29wZW5fcnVsZVwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFsyLCAxLCAyXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wiYmFubmVyX2NsaWNrX21hc2tfc2NhbGVcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcImJhbm5lcueCueWHu+WMuuWfn+e8qeaUvuWAjeaVsFwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwiYmFubmVyX2NsaWNrX21hc2tfc2NhbGVcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMS41XVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wiYmFubmVyX2NsaWNrX21hc2tfc2NhbGVcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcImJhbm5lcueCueWHu+WMuuWfn+e8qeaUvuWAjeaVsFwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwiYmFubmVyX2NsaWNrX21hc2tfc2NhbGVcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMS41XVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld19kYXRhW1widmlkZW9fb3Blbl9zd2l0Y2hcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIuinhumikeW8gOWFs1wiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwidmlkZW9fb3Blbl9zd2l0Y2hcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcInZpdm9fY3Bfc3dpdGNoXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLmj5LlsY/lvIDlhbNcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcInZpdm9fY3Bfc3dpdGNoXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJ2aXZvX3lzY3Bfc3dpdGNoXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCLljp/nlJ/mj5LlsY/lvIDlhbNcIixcclxuICAgICAgICAgICAgICAgIGlkOiBcInZpdm9feXNjcF9zd2l0Y2hcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBbMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcInZpdm9faGVuZ2Z1X3N3aXRjaFwiXSA9IHtcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwidml2b+aoquW5heS6kuaOqFwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwidml2b19oZW5nZnVfc3dpdGNoXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogWzFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJqZ2dfc3dpdGNoXCJdID0ge1xyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJvduS5neWuq+agvOS6kuaOqFwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwiamdnX3N3aXRjaFwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFsxXVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL+abv+aNouaooeW8j+WKoOi9ve+8jHJlbW90ZV9idXNpbmVzc19jb25maWdfZGF0YeS4jeS4uuepulxyXG4gICAgICAgICAgICBsZXQgeXNibl9zdGF0dXMgPSBzZWxmLmdldF9hZGlkX2djX3N0YXR1YygnWVNCTicpIC8vIOWOn+eUn2Jhbm5lcueKtuaAgVxyXG4gICAgICAgICAgICBsZXQgYm5fc3RhdHVzID0gc2VsZi5nZXRfYWRpZF9nY19zdGF0dWMoJ0JOJykgLy8g5pmu6YCaYmFubmVy54q25oCBXHJcbiAgICAgICAgICAgIGxldCB5c2pzX3N0YXR1cyA9IHNlbGYuZ2V0X2FkaWRfZ2Nfc3RhdHVjKCdZU0pTJykgLy8g5Y6f55Sf57uT566X54q25oCBXHJcbiAgICAgICAgICAgIGxldCBzcF9zdGF0dXMgPSBzZWxmLmdldF9hZGlkX2djX3N0YXR1YygnU1AnKSAvLyDop4bpopHnirbmgIFcclxuICAgICAgICAgICAgbGV0IGpzeW1fc3RhdHVzID0gc2VsZi5nZXRfYWRpZF9nY19zdGF0dWMoJ0pTWU0nKSAvLyDmlrDlk4HlsJ3pspznirbmgIEgXHJcbiAgICAgICAgICAgIGxldCB5c2ljX3N0YXR1cyA9IHNlbGYuZ2V0X2FkaWRfZ2Nfc3RhdHVjKCdZU0lDJykgLy8g5Y6f55SfaWNvbuW8gOWFs1xyXG4gICAgICAgICAgICBsZXQgaHRfc3RhdHVzID0gc2VsZi5nZXRfYWRpZF9nY19zdGF0dWMoJ0hUJykgfHwgMCAvLyB2aXZv5LqS5o6oXHJcbiAgICAgICAgICAgIGxldCBqZ2dfc3RhdHVzID0gc2VsZi5nZXRfYWRpZF9nY19zdGF0dWMoJ0pHRycpIHx8IDAgLy8g5Lmd5a6r5qC85LqS5o6oXHJcblxyXG4gICAgICAgICAgICBsZXQgY3Bfc3RhdHVzID0gc2VsZi5nZXRfYWRpZF9nY19zdGF0dWMoJ0NQJykgfHwgMC8vIHZpdm/mj5LlsY/nirbmgIFcclxuICAgICAgICAgICAgbGV0IHlzY3Bfc3RhdHVzID0gc2VsZi5nZXRfYWRpZF9nY19zdGF0dWMoJ1lTQ1AnKSB8fCAwLy8gdml2b+aPkuWxj+eKtuaAgVxyXG5cclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJuYXRpdmVfYmFubmVyX29wZW5fc3dpdGNoXCJdLnZhbHVlWzBdID0geXNibl9zdGF0dXMgLy8g5Y6f55SfYmFubmVy5byA5YWzXHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wic2hvd19ub3JtYWxfYmFubmVyX3N3aXRjaFwiXS52YWx1ZVswXSA9IGJuX3N0YXR1cyAvLyDmma7pgJpiYW5uZXLlvIDlhbMgXHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wibmF0aXZlX2lubmVyX2ludGVyc3RpdGlhbF9zd2l0Y2hcIl0udmFsdWVbMF0gPSB5c2pzX3N0YXR1cyAvLyDnu5Pnrpfljp/nlJ/lvIDlhbMgXHJcbiAgICAgICAgICAgIG5ld19kYXRhW1widmlkZW9fb3Blbl9zd2l0Y2hcIl0udmFsdWVbMF0gPSBzcF9zdGF0dXMgLy8g6KeG6aKR5byA5ZCv5byA5YWzIFxyXG4gICAgICAgICAgICBuZXdfZGF0YVtcImN0cl90ZXN0X29wZW5cIl0udmFsdWVbMF0gPSBqc3ltX3N0YXR1cyAvLyDmlrDlk4HlsJ3pspzlvIDlkK/lvIDlhbMgXHJcbiAgICAgICAgICAgIG5ld19kYXRhW1wibmF0aXZlX2ljb25fc3dpdGNoXCJdLnZhbHVlWzBdID0geXNpY19zdGF0dXMgLy/ljp/nlJ9pY29u5byA5YWzXHJcbiAgICAgICAgICAgIG5ld19kYXRhW1widml2b19jcF9zd2l0Y2hcIl0udmFsdWVbMF0gPSBjcF9zdGF0dXMgLy8gdml2b+aZrumAmuaPkuWxj+W8gOWFsyBcclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJ2aXZvX3lzY3Bfc3dpdGNoXCJdLnZhbHVlWzBdID0geXNjcF9zdGF0dXMgLy8gdml2b+WOn+eUn+aPkuWxj+W8gOWFsyBcclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJ2aXZvX2hlbmdmdV9zd2l0Y2hcIl0udmFsdWVbMF0gPSBodF9zdGF0dXMgLy8gdml2b+S6kuaOqOW8gOWFsyBcclxuICAgICAgICAgICAgbmV3X2RhdGFbXCJqZ2dfc3dpdGNoXCJdLnZhbHVlWzBdID0gamdnX3N0YXR1cyAvLyDkuZ3lrqvmoLzkupLmjqjlvIDlhbMgXHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZi5fX3JlbW90ZV9idXNpbmVzc19jb25maWdfaW5pdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBzeXl4X3Nka191dGlscy5yZXBsYWNlX2RhdGEobmV3X2RhdGEsIHNlbGYuX19idXNpbmVzc19jb25maWdfZGF0YSlcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2RrLS0tLS0gYnVzc2luZXNzIGNvbmZpZyBpcy0tLSBcIiwgbmV3X2RhdGEpXHJcbiAgICAgICAgICAgICAgICBzZWxmLl9fYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBuZXdfZGF0YVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fX2J1c2luZXNzX2NvbmZpZ19kYXRhID0gbmV3X2RhdGFcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2RrLS0tLS1sb2NhbCBidXNzaW5lc3MgY29uZmlnIGlzIFwiLCBuZXdfZGF0YSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2VsZi5fX2xvY2FsX2J1c2luZXNzX2NvbmZpZ19pbml0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxmLmluaXRfcmVtb3RlX2NvbmZpZ19jb21wZWxldGUoKVxyXG4gICAgICAgIH0sIHRoaXMpXHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICog6aKE5Yqg6L295Lmd5a6r5qC85LqS5o6o55uS5a2QXHJcbiAgICAqIEBwYXJhbSBhZF9wb3NfaWQgYWR26YWN572u6KGo5bm/5ZGKaWRcclxuICAgICogQHBhcmFtIG9uTG9hZCDliqDovb3miJDlip/lm57osINcclxuICAgICogQHBhcmFtIG9uU2hvdyDlsZXnpLrmiJDlip/lm57osINcclxuICAgICogQHBhcmFtIG9uQ2xvc2Ug5YWz6Zet5Zue6LCDXHJcbiAgICAqIEBwYXJhbSBvbkVycm9yIOaKpemUmeWbnuiwg1xyXG4gICAgKi9cclxuICAgIHN0YXRpYyBwcmVfbG9hZF9nYW1lX3BvcnRhbF9ib3goYWRfcG9zX2lkOiBzdHJpbmcsIG9uTG9hZDogRnVuY3Rpb24sIG9uU2hvdzogRnVuY3Rpb24sIG9uQ2xvc2U6IEZ1bmN0aW9uLCBvbkVycm9yOiBGdW5jdGlvbikge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRfZ2FtZV9ib3goKSkgeyAvLyDlv6vlupTnlKjniYjmnKzlpKfkuo4xMDc2XHJcbiAgICAgICAgICAgIHN5eXhfbWFuYWdlci5jcmVhdGVfYWQoaWdjLmVfYWRfdHlwZS5hcHBfYm94LCBhZF9wb3NfaWQsIG51bGwsIG51bGwsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9uQ2xvc2UgJiYgb25DbG9zZSgpXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnByZV9sb2FkX2dhbWVfcG9ydGFsX2JveChhZF9wb3NfaWQsIG51bGwsIG51bGwsIG51bGwsIG51bGwpXHJcbiAgICAgICAgICAgICAgICB9LCA1MDApXHJcbiAgICAgICAgICAgIH0sIG51bGwsIGlnYy5lX2FkX2FwcF9ib3hfdHlwZS5wb3J0YWxfYm94KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuLyoqXHJcbiAqIG9wcG/kuZ3lrqvmoLzkupLmjqjnm5LlrZBcclxuICogQHBhcmFtIGFkX3Bvc19pZCBhZHbphY3nva7ooajlub/lkYppZFxyXG4gKiBAcGFyYW0gb25Mb2FkIOWKoOi9veaIkOWKn+Wbnuiwg1xyXG4gKiBAcGFyYW0gb25TaG93IOWxleekuuaIkOWKn+Wbnuiwg1xyXG4gKiBAcGFyYW0gb25DbG9zZSDlhbPpl63lm57osINcclxuICogQHBhcmFtIG9uRXJyb3Ig5oql6ZSZ5Zue6LCDXHJcbiAqIEBwYXJhbSBuZWVkX2Vycl90aXBzIOm7mOiupOS4umZhbHNl77yM5Li6dHJ1ZeaXtuaYvuekunNka+iHquW4pueahOaKpemUmemjmOWtl1xyXG4gKi9cclxuICAgIHN0YXRpYyBzaG93X2dhbWVfcG9ydGFsX2JveChhZF9wb3NfaWQ6IHN0cmluZywgb25Mb2FkOiBGdW5jdGlvbiwgb25TaG93OiBGdW5jdGlvbiwgb25DbG9zZTogRnVuY3Rpb24sIG9uRXJyb3I6IEZ1bmN0aW9uLCBuZWVkX2Vycl90aXBzID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuICAgICAgICAvLyDkuZ3lrqvmoLzkupLmjqjlvIDlhbNcclxuICAgICAgICBpZih0aGlzLl9fYnVzaW5lc3NfY29uZmlnX2RhdGEgJiYgdGhpcy5fX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiamdnX3N3aXRjaFwiXSkgeyBcclxuICAgICAgICAgICAgaWYgKHRoaXMuX19idXNpbmVzc19jb25maWdfZGF0YVtcImpnZ19zd2l0Y2hcIl0udmFsdWVbMF0gPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgbmVlZF9lcnJfdGlwcyAmJiBzeXl4X21hbmFnZXIuY3JlYXRlX3RvYXN0KFwi5Yqg6L295Lit77yM56iN5ZCO5YaN6K+VXCIpXHJcbiAgICAgICAgICAgICAgICBvbkVycm9yICYmIG9uRXJyb3IoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3l5eF9tYW5hZ2VyLnNob3dfYWQoaWdjLmVfYWRfdHlwZS5hcHBfYm94LCBhZF9wb3NfaWQsIG9uTG9hZCwgb25TaG93LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG9uQ2xvc2UgJiYgb25DbG9zZSgpXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5wcmVfbG9hZF9nYW1lX3BvcnRhbF9ib3goYWRfcG9zX2lkLCBudWxsLCBudWxsLCBudWxsLCBudWxsKVxyXG4gICAgICAgICAgICB9LCA1MDApXHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZWVkX2Vycl90aXBzICYmIHN5eXhfbWFuYWdlci5jcmVhdGVfdG9hc3QoXCLliqDovb3kuK3vvIznqI3lkI7lho3or5VcIilcclxuICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKClcclxuICAgICAgICB9LCBpZ2MuZV9hZF9hcHBfYm94X3R5cGUucG9ydGFsX2JveClcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2hvd19nYW1lX3BvcnRhbF9ib3hfdml2byhhZF9wb3NfaWQ6IHN0cmluZywgb25Mb2FkOiBGdW5jdGlvbiwgb25TaG93OiBGdW5jdGlvbiwgb25DbG9zZTogRnVuY3Rpb24sIG9uRXJyb3I6IEZ1bmN0aW9uLCBuZWVkX2Vycl90aXBzID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcclxuXHJcbiAgICAgICAgbGV0IGFkX2lkID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfY2hhbm5lbF9hZF9pZChhZF9wb3NfaWQpXHJcbiAgICAgICAgaWYgKCFhZF9pZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5Lmd5a6r5qC85LqS5o6o5byA5YWzXHJcbiAgICAgICAgaWYodGhpcy5fX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIHRoaXMuX19idXNpbmVzc19jb25maWdfZGF0YVtcImpnZ19zd2l0Y2hcIl0pIHsgXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9fYnVzaW5lc3NfY29uZmlnX2RhdGFbXCJqZ2dfc3dpdGNoXCJdLnZhbHVlWzBdID09IDApIHtcclxuICAgICAgICAgICAgICAgIG5lZWRfZXJyX3RpcHMgJiYgc3l5eF9tYW5hZ2VyLmNyZWF0ZV90b2FzdChcIuWKoOi9veS4re+8jOeojeWQjuWGjeivlVwiKVxyXG4gICAgICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKClcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aW5kb3dbJ3FnJ10uZ2V0U3lzdGVtSW5mb1N5bmMoKS5wbGF0Zm9ybVZlcnNpb25Db2RlID49IDEwOTIpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBib3hQb3J0YWxBZCA9IG51bGxcclxuICAgICAgICAgICAgYm94UG9ydGFsQWQgPSB3aW5kb3dbJ3FnJ10uY3JlYXRlQm94UG9ydGFsQWQoe1xyXG4gICAgICAgICAgICAgICAgcG9zSWQ6IGFkX2lkXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGJveFBvcnRhbEFkLm9uTG9hZChmdW5jdGlvbiAoKSB7IFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ2aXZv5Lmd5a6r5qC85bm/5ZGK5Yqg6L295oiQ5YqfXCIpIFxyXG4gICAgICAgICAgICAgICAgb25Mb2FkICYmIG9uTG9hZCgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBib3hQb3J0YWxBZC5vbkVycm9yKGZ1bmN0aW9uIChlcnIpIHsgXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInZpdm/kuZ3lrqvmoLzliqDovb3lpLHotKVcIiwgZXJyKSBcclxuICAgICAgICAgICAgICAgIC8vIHN5eXhfbWFuYWdlci5jcmVhdGVfdG9hc3QoSlNPTi5zdHJpbmdpZnkoZXJyKSlcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBib3hQb3J0YWxBZC5vbkNsb3NlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbG9zZScpXHJcbiAgICAgICAgICAgICAgICBpZiAoYm94UG9ydGFsQWQuaXNEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIOW9k+S5neWuq+agvOWFs+mXreS5i+WQju+8jOWGjeasoeWxleekukljb25cclxuICAgICAgICAgICAgICAgIGJveFBvcnRhbEFkLnNob3coKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvLyDlub/lkYrmlbDmja7liqDovb3miJDlip/lkI7lsZXnpLpcclxuICAgICAgICAgICAgYm94UG9ydGFsQWQuc2hvdygpLnRoZW4oZnVuY3Rpb24gKCkgeyBcclxuICAgICAgICAgICAgICAgIG9uU2hvdyAmJiBvblNob3coKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBzZWxmLmdhbWVfcG9ydGFsX2JveF92aXZvID0gYm94UG9ydGFsQWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+aaguS4jeaUr+aMgeS6kuaOqOebkuWtkOebuOWFsyBBUEknKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdml2byDljp/nlJ/mqKHmnb9cclxuICAgIHN0YXRpYyBzaG93X29yaWdpbmFsX21vZHVsZShhZF9wb3NfaWQ6IHN0cmluZywgb25TdWNjZXNzPzogRnVuY3Rpb24sIG9uRXJyb3I/OiBGdW5jdGlvbiwgb25DbG9zZT86IEZ1bmN0aW9uLCB0b3A/Om51bWJlciwgbGVmdD86bnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzXHJcbiAgICAgICAgbGV0IGFkX2lkID0gc3l5eF9hZHZfbWFuYWdlci5nZXRfY2hhbm5lbF9hZF9pZChhZF9wb3NfaWQpXHJcbiAgICAgICAgaWYgKCFhZF9pZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHdpbmRvd1sncWcnXS5nZXRTeXN0ZW1JbmZvU3luYygpLnBsYXRmb3JtVmVyc2lvbkNvZGUgPCAxMDkxKSB7XHJcbiAgICAgICAgICAgIG9uRXJyb3ImJm9uRXJyb3IoJ+S9juS6jjEwOTLniYjmnKzkuI3mlK/mjIEnKTtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRvcCAmJiBsZWZ0ICl7XHJcbiAgICAgICAgICAgIHZhciBjdXN0b21BZCA9IHdpbmRvd1sncWcnXS5jcmVhdGVDdXN0b21BZCh7XHJcbiAgICAgICAgICAgICAgICBwb3NJZDogYWRfaWQsXHJcbiAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6bGVmdCxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6dG9wLFxyXG4gICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGN1c3RvbUFkID0gd2luZG93WydxZyddLmNyZWF0ZUN1c3RvbUFkKHtcclxuICAgICAgICAgICAgICAgIHBvc0lkOiBhZF9pZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3VzdG9tQWQub25FcnJvcihlcnIgPT4ge1xyXG4gICAgICAgICAgICBvbkVycm9yJiZvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y6f55Sf5qih5p2/5bm/5ZGK5Yqg6L295aSx6LSlXCIsIGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY3VzdG9tQWQub25DbG9zZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIG9uQ2xvc2UmJm9uQ2xvc2UoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLljp/nlJ/mqKHmnb/lub/lkYrlhbPpl63kuovku7bnmoTlm57osIPlh73mlbBcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY3VzdG9tQWQuc2hvdygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn5Y6f55Sf5qih5p2/5bm/5ZGK5bGV56S65a6M5oiQJyk7XHJcbiAgICAgICAgICAgIG9uU3VjY2VzcyYmb25TdWNjZXNzKCk7XHJcbiAgICAgICAgICAgIC8vIOWtmOWCqOWunuS+i++8jOeUqOS6juWFs+mXreS9v+eUqFxyXG4gICAgICAgICAgICBzZWxmLm9yaWdpbmFsX21vZHVsZV9kYXRhID0gY3VzdG9tQWQ7IFxyXG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgb25FcnJvciYmb25FcnJvcihlcnIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn5Y6f55Sf5qih5p2/5bm/5ZGK5bGV56S65aSx6LSlJywgSlNPTi5zdHJpbmdpZnkoZXJyKSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgICBcclxuICAgIC8vIOWOn+eUn+aooeadvyAg5YWz6ZetXHJcbiAgICBzdGF0aWMgZGVzdG9yeV9vcmlnaW5hbF9tb2R1bGUoKSB7XHJcbiAgICAgICAgaWYodGhpcy5vcmlnaW5hbF9tb2R1bGVfZGF0YSl7XHJcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxfbW9kdWxlX2RhdGEuaGlkZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsX21vZHVsZV9kYXRhLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tQ3VzdG9tQUQgJiYgdGhpcy5tQ3VzdG9tQUQuaGlkZSgpO1xyXG4gICAgICAgIHRoaXMubUN1c3RvbUFEICYmIHRoaXMubUN1c3RvbUFELmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLm1DdXN0b21BRCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHN5c3RlbVZlcnNpb24yOiBudW1iZXIgPSBudWxsO1xyXG4gICAgc3RhdGljIEdldFN5c3RlbUluZm9TeW5jMigpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLnN5c3RlbVZlcnNpb24yID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW1WZXJzaW9uMiA9IHdpbmRvd1sncWcnXS5nZXRTeXN0ZW1JbmZvU3luYygpLnBsYXRmb3JtVmVyc2lvbkNvZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnN5c3RlbVZlcnNpb24yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG9wcG8g5Y6f55Sf5qih5p2/XHJcbiAgICBzdGF0aWMgc2hvd19vcmlnaW5hbF9tb2R1bGVfb3BwbyhhZF9wb3NfaWQ6IHN0cmluZywgc3R5bGU6IG51bWJlcltdLCBvbkxvYWQsIG9uU3VjY2VzczogRnVuY3Rpb24sIG9uRXJyb3I6IEZ1bmN0aW9uLCBvbkNsb3NlOiBGdW5jdGlvbikge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIGxldCBhZF9pZCA9IHN5eXhfYWR2X21hbmFnZXIuZ2V0X2NoYW5uZWxfYWRfaWQoYWRfcG9zX2lkKVxyXG4gICAgICAgIGlmICghYWRfaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aW5kb3dbJ3FnJ10uZ2V0U3lzdGVtSW5mb1N5bmMoKS5wbGF0Zm9ybVZlcnNpb25Db2RlIDwgMTA5Mikge1xyXG4gICAgICAgICAgICAvLyBzeXl4X21hbmFnZXIuY3JlYXRlX3RvYXN0KCfniYjmnKzov4fkvY4nKVxyXG4gICAgICAgICAgICAvLyBzeXl4X21hbmFnZXIuY3JlYXRlX3RvYXN0KHdpbmRvd1sncWcnXS5nZXRTeXN0ZW1JbmZvU3luYygpLnBsYXRmb3JtVmVyc2lvbkNvZGUpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi54mI5pys6L+H5L2OIOS4jeaUr+aMgeWOn+eUn+aooeadv+W5v+WRilwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIUJvb2xlYW4oc3R5bGUpIHx8IHN0eWxlLmxlbmd0aCAhPSAzKSB7XHJcbiAgICAgICAgICAgIC8vIHN5eXhfbWFuYWdlci5jcmVhdGVfdG9hc3QoJ3N0eWxl6ZSZ6K+vJylcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLlj4LmlbDmo4DmtYvplJnor68gb3BlbmN1c3RvbWFkIHN0eWxlXCIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubUN1c3RvbUFEID09IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGN1c3RvbUFkID0gd2luZG93WydxZyddLmNyZWF0ZUN1c3RvbUFkKHtcclxuICAgICAgICAgICAgICAgIGFkVW5pdElkOiBhZF9pZCxcclxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBzdHlsZVswXSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBzdHlsZVsxXSxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogc3R5bGVbMl0sXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsZXQgc2VsZiA9dGhpcztcclxuICAgICAgICAgICAgY3VzdG9tQWQub25Mb2FkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfljp/nlJ/mqKHmnb/lub/lkYrliqDovb3miJDlip8nKVxyXG4gICAgICAgICAgICAgICAgb25Mb2FkICYmIG9uTG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgY3VzdG9tQWQub2ZmTG9hZCgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBjdXN0b21BZC5vblNob3coKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WOn+eUn+aooeadv+W5v+WRiuaYvuekuicpXHJcbiAgICAgICAgICAgICAgICBjdXN0b21BZC5vZmZTaG93KCk7XHJcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MgJiYgb25TdWNjZXNzKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFkLm9uSGlkZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY3VzdG9tQWTlub/lkYrpmpDol48nKVxyXG4gICAgICAgICAgICAgICAgY3VzdG9tQWQub2ZmSGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgb25DbG9zZSAmJiBvbkNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21BZC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm1DdXN0b21BRCA9IG51bGw7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFkLnNob3coKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaG93IHN1Y2Nlc3MnKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5tQ3VzdG9tQUQgPSBjdXN0b21BZDtcclxuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBzeXl4X21hbmFnZXIuY3JlYXRlX3RvYXN0KGVycm9yLmVyckNvZGUgKyAn6ZSZ6K+v77yaJyArICAgZXJyb3IuZXJyTXNnKVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nob3cgZmFpbCB3aXRoOicgKyBlcnJvci5lcnJDb2RlICsgJywnICsgZXJyb3IuZXJyTXNnKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5tQ3VzdG9tQUQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5paw5ZOB5bCd6bKcXHJcbiAgICBzdGF0aWMgc2hvd19uZXdfcHJvZHVjdHMoY2FsbF9iYWNrPykge1xyXG5cclxuICAgICAgICBpZiAoc3l5eF9jb25zdC5zeXl4X3Nka19jaGFubmVsID09PSBpZ2MuZV9jaGFubmVsX3R5cGUudml2b19xZykge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBfYnVzaW5lc3NfY29uZmlnX2RhdGEgPSBzeXl4X21hbmFnZXIuZ2V0X2J1c2luZXNzX2NvbmZpZygpXHJcbiAgICAgICAgLy/liKTmlq3mlrDlk4HlsJ3pspzlvIDlhbNcclxuICAgICAgICBpZiAoX2J1c2luZXNzX2NvbmZpZ19kYXRhICYmIF9idXNpbmVzc19jb25maWdfZGF0YVtcImN0cl90ZXN0X29wZW5cIl0pIHtcclxuICAgICAgICAgICAgLy/lvIDlhbPmnInlgLwgIOS4lCDlgLzkuLowIOWFs+mXreWImeiuvue9ruWumuaXtuWZqOWIt+aWsOaZrumAmmJhbm5lclxyXG4gICAgICAgICAgICBpZiAoX2J1c2luZXNzX2NvbmZpZ19kYXRhW1wiY3RyX3Rlc3Rfb3BlblwiXS52YWx1ZVswXSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzeXl4X2N0cl9tYW5hZ2VyLnNob3dfbmV3X3Byb2R1Y3RzKGNhbGxfYmFjaylcclxuICAgIH1cclxufVxyXG5cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

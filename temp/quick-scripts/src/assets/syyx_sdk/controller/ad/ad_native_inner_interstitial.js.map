{"version":3,"sources":["assets\\syyx_sdk\\controller\\ad\\ad_native_inner_interstitial.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { native_ad_data, syyx_view } from \"../../model/model\";\r\nimport { e_ad_id, e_ad_native_state, e_ad_native_type } from \"../../configs/syyx_sdk_enum\";\r\nimport { syyx_manager } from \"../syyx_manager\";\r\nimport { syyx_const } from \"../../configs/syyx_sdk_config\";\r\nimport { syyx_adv_manager } from \"./syyx_adv_manager\";\r\nimport { syyx_sdk_utils } from \"../../utils/syyx_sdk_utils\";\r\nimport { ad_banner } from \"./ad_banner\";\r\n\r\nexport class ad_native_inner_interstitial {\r\n    /**\r\n     * 上一次显示的id\r\n     */\r\n    static _last_ad_id = undefined\r\n    /**\r\n      * 原生数据\r\n      */\r\n    static _native_data_list = []\r\n\r\n    /**\r\n    * 远端运营配置\r\n    */\r\n    static _business_config_data = {};\r\n\r\n    /**\r\n     * 配置表广告id\r\n     */\r\n    static _ad_pos_id\r\n\r\n    /**\r\n     * 创建广告时传入的参数\r\n     */\r\n    static _ad_param\r\n\r\n    static report_ad_click(ad_pos_id: string, native_data?) {\r\n        let self = this\r\n\r\n        if (!this._ad_pos_id) {\r\n            console.log(\"igc----- ad_native_inner_interstitial  report_ad_click this.ad_pos_id is null!!\")\r\n            this._ad_pos_id = e_ad_id.native_inner_interstitial_success\r\n        }\r\n\r\n        if (this._ad_pos_id != ad_pos_id) {\r\n            return\r\n        }\r\n\r\n        if (syyx_const.syyx_sdk_channel === igc.e_channel_type.hw_qg) {\r\n            console.log(\"igc ------ hw hide inner interstitial\")\r\n            syyx_manager.hide_native_inner_interstitial()\r\n            return\r\n        }\r\n\r\n        console.log(\"igc ----- has in inner interstitial's report click \")\r\n        //上报的是原生banner点击  隐藏原生bannerUi 重新请求新的原生banner数据\r\n        this._business_config_data = syyx_manager.get_business_config()\r\n        if (this._business_config_data && this._business_config_data[\"native_inner_report_click_update_switch\"]) {\r\n            if (this._business_config_data[\"native_inner_report_click_update_switch\"].value[0] == 1) {\r\n                this.preload_native_inner_interstitial(\r\n                    igc.e_ad_type.native,\r\n                    ad_pos_id,\r\n                    function onLoad(args, native_data) {\r\n                        //由于结算原生的原生插屏需要设置父节点  所以上报点击时不隐藏UI\r\n                        //刷新已经打开的原生插屏界面\r\n                        console.log(\"igc----- ad_native_inner_interstitial click update success\")\r\n                        self.update_native_inner_interstitial_ui(native_data)\r\n                    },\r\n                    function () { },\r\n                    function () { },\r\n                    function onError() {\r\n                        //点击加载原生失败的话 能否在新规条件下获取到数据\r\n                        let native_data = self.get_native_data()\r\n                        if (native_data) {\r\n                            self.update_native_inner_interstitial_ui(native_data)\r\n                        } else {\r\n                            //自己没有数据 也没办法用原生Banner的数据的话 只能隐藏\r\n                            //刷新结算原生失败时，隐藏结算原生\r\n                            syyx_manager.hide_native_inner_interstitial()\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n            else {\r\n                syyx_manager.hide_native_inner_interstitial()\r\n            }\r\n        }\r\n    }\r\n\r\n    static report_ad_show(ad_pos_id: string, native_data) {\r\n\r\n        if (!this._ad_pos_id) {\r\n            console.log(\"igc----- ad_native_inner_interstitial  report_ad_click this.ad_pos_id is null!!\")\r\n            this._ad_pos_id = e_ad_id.native_inner_interstitial_success\r\n        }\r\n\r\n        if (this._ad_pos_id == ad_pos_id) {\r\n            this._last_ad_id = native_data.id\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 加载结算原生插屏\r\n    * onLoad回调一般用于点击刷新  和  cp传入的onLoad\r\n    */\r\n    static preload_native_inner_interstitial(ad_type?: igc.e_ad_type, ad_pos_id?: string, onLoad?: Function, onShow?: Function, onClose?: Function, onError?: Function) {\r\n\r\n        let self = this\r\n        this._ad_pos_id = ad_pos_id\r\n        this._ad_param = {\r\n            ad_type: ad_type,\r\n            ad_pos_id: ad_pos_id,\r\n            onLoad: onLoad,\r\n            onShow: onShow,\r\n            onClose: onClose,\r\n            onError: onError,\r\n        }\r\n\r\n        // 检查点击率超标 一开始为false\r\n        if (syyx_adv_manager.check_is_click_limit(e_ad_native_type.native_inner_interstitial)) { // e_ad_native_type.native_inner_interstitial 为 2\r\n            //自己点击率超标的话  去找原生Banner数据\r\n            let native_banner_data = this.get_native_data()\r\n            if (native_banner_data) {\r\n                onLoad && onLoad({}, native_banner_data)\r\n            } else {\r\n                onError && onError()\r\n            }\r\n            return\r\n        }\r\n\r\n        //华为可能需要用到结算原生开关 14\r\n        this._business_config_data = syyx_manager.get_business_config()\r\n\r\n        if (this._business_config_data && this._business_config_data[\"native_inner_interstitial_switch\"]) {\r\n            if (this._business_config_data[\"native_inner_interstitial_switch\"].value[0] == 0) { // 0是关，1是开，根据gc_status开关\r\n                console.log(\"sdk-----remote - config -ysjs- is close!!!\")\r\n                return\r\n            }\r\n        }\r\n\r\n        let ad_id = syyx_adv_manager.get_channel_ad_id(ad_pos_id)\r\n        if (!ad_id) {\r\n            return\r\n        }\r\n\r\n        //上一个加载的原生banner没有展示过\r\n        let latest_data = syyx_adv_manager.get_latest_native_data(this._native_data_list) // 一开始为underfind\r\n        if (latest_data && latest_data.state == e_ad_native_state.need_show) {\r\n            onLoad && onLoad({}, latest_data)\r\n            return\r\n        }\r\n\r\n        //检查当前展示是否达到限制\r\n        if (syyx_adv_manager.check_is_show_count_limit()) {\r\n            //达到限制  用之前的数据\r\n            console.log(\"igc----- ad_native_inner_interstitial preload_native_inner_interstitial is show limit!!\")\r\n            let native_data = this.get_native_data()\r\n            if (native_data) {\r\n                onLoad && onLoad({}, native_data)\r\n            } else {\r\n                syyx_manager.hide_native_inner_interstitial()\r\n            }\r\n            return\r\n        }\r\n\r\n        //-----------加载结算原生数据---------------------//\r\n\r\n        //web渠道  返回假数据\r\n        if (syyx_const.syyx_sdk_channel === igc.e_channel_type.web) {\r\n            let data = new native_ad_data()\r\n            data.id = igc.utils_manager.get_random_name()\r\n            data.adPosId = ad_pos_id\r\n            data.adId = syyx_sdk_utils.get_random_number([100, 200]) + \"\"\r\n            data.adUnitId = syyx_sdk_utils.get_random_number([0, 100000]) + \"\"\r\n            data.imgUrlList = \"https://static-cdn.llewan.com/h5/ddsdk/plugin/share_img.jpg\"\r\n            data.title = \"结算原生标题\" + syyx_sdk_utils.get_random_number([100, 200])\r\n            data.desc = \"结算原生描述\" + syyx_sdk_utils.get_random_number([100, 200])\r\n            data.state = e_ad_native_state.need_show\r\n            data.native_type = e_ad_native_type.native_inner_interstitial\r\n            this.add_native_data(data)\r\n            onLoad && onLoad({}, data)\r\n            syyx_adv_manager.add_native_show_count()\r\n            this.update_native_inner_interstitial_ui(data)\r\n            console.log(\"igc-----syyx_adv_manager-------load_native_inner_interstitial on_load\", data)\r\n            return\r\n        }\r\n\r\n        syyx_manager.create_ad(igc.e_ad_type.native, ad_pos_id,\r\n            function on_load(param, ad_data_list) {\r\n                console.log(\"igc-----syyx_adv_manager-------load_native_inner_interstitial on_load\", ad_data_list)\r\n                //返回数据异常\r\n                if (ad_data_list == undefined || !ad_data_list[0]) {\r\n                    onError && onError()\r\n                } else {\r\n                    let length = 0\r\n                    if (syyx_const.syyx_sdk_channel === igc.e_channel_type.vivo_qg) {\r\n                        //vivo渠道只取最后一个位置\r\n                        length = ad_data_list.length - 1\r\n                    }\r\n                    let data = new native_ad_data()\r\n                    data.id = igc.utils_manager.get_random_name()\r\n                    data.adPosId = ad_pos_id\r\n                    data.adId = syyx_adv_manager.get_channel_ad_id(ad_pos_id)\r\n                    data.adUnitId = ad_data_list[length].adUnitId\r\n                    data.imgUrlList = syyx_sdk_utils.format_remote_texture_url(ad_data_list[length].imgUrlList[0])\r\n                    data.title = ad_data_list[length].title\r\n                    data.desc = ad_data_list[length].desc\r\n                    data.state = e_ad_native_state.need_show\r\n                    data.native_type = e_ad_native_type.native_inner_interstitial\r\n                    self.add_native_data(data)\r\n                    onLoad && onLoad({}, data)\r\n                    syyx_adv_manager.add_native_show_count()\r\n                    syyx_sdk_utils.preload_native_texture(data.imgUrlList)\r\n                    self.update_native_inner_interstitial_ui(data)\r\n                }\r\n            },\r\n            function on_show() {\r\n            },\r\n            function on_close(param, res) {\r\n            },\r\n            function on_error(param, err) {\r\n                console.error(\"igc-----syyx_adv_manager-------load_native_inner_interstitial onError\", err)\r\n                onError && onError()\r\n            }\r\n        )\r\n    }\r\n\r\n    /**\r\n     * 刷新结算原生界面\r\n     * 必须要结算原生正在展示才会执行\r\n     */\r\n    static update_native_inner_interstitial_ui(native_data) {\r\n        syyx_manager.load_view(syyx_view.inner_interstitial, function (view) {\r\n            if (native_data) {\r\n                view.report_click_update_view(native_data);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 处于展示上限的情况下\r\n     * 根据一定规则选择缓存的原生数据\r\n     */\r\n    static get_native_data_by_limit_model() {\r\n        if (syyx_adv_manager.check_native_data_list_is_reprot(this._native_data_list)) {\r\n            //全部数据都上报曝光过了\r\n            console.log(\"igc----- ad_native_inner_interstitial use old load native data\")\r\n            return syyx_adv_manager.get_min_order_native_data(this._native_data_list)\r\n        } else {\r\n            //有数据没有上报过曝光  用最新数据\r\n            return syyx_adv_manager.get_latest_native_data(this._native_data_list)\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 获取最新的原生数据\r\n    */\r\n    static get_native_data() {\r\n        return syyx_adv_manager.get_native_data()\r\n    }\r\n\r\n    /**\r\n     * 储存原生数据\r\n     * @param native_data 原生数据\r\n     */\r\n    static add_native_data(native_data) {\r\n        if (syyx_adv_manager.check_is_open_oppo_rule()) {\r\n            syyx_adv_manager.add_native_data(native_data)\r\n        } else {\r\n            this._native_data_list[0] = native_data\r\n        }\r\n    }\r\n\r\n    static next_click_wrap_count = -1\r\n    static show_count = 0\r\n    static set_on_click_inner_interstitial_btn(click_back = undefined) {\r\n        this._business_config_data = syyx_manager.get_business_config()\r\n        if (this._business_config_data && this._business_config_data[\"native_inner_institial_click_wrap\"]) {\r\n            let rule = this._business_config_data[\"native_inner_institial_click_wrap\"].value\r\n            if (rule) {\r\n                if (this.next_click_wrap_count == -1) {\r\n                    this.next_click_wrap_count = rule[0]\r\n                }\r\n                if (this.show_count >= this.next_click_wrap_count) {\r\n                    console.log(\"igc----- native_inner_interstitial is easy click!\")\r\n                    this.next_click_wrap_count = this.show_count + rule[1] + Math.floor(Math.random() * (rule[2] - rule[1] + 1))\r\n                    if (this.next_click_wrap_count < rule[0]) {\r\n                        this.next_click_wrap_count = rule[0]\r\n                    }\r\n                    console.log(\"igc----- native_inner_interstitial next easy click count：\", this.next_click_wrap_count)\r\n                    syyx_manager.click_native_inner_interstitial(click_back)\r\n                    return\r\n                }\r\n            }\r\n        }\r\n        console.log(\"igc----- native_inner_interstitial easy click is close!\")\r\n        click_back && click_back()\r\n    }\r\n}\r\n\r\n\r\n"]}
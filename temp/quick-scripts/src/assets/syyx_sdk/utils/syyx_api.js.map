{"version":3,"sources":["assets\\syyx_sdk\\utils\\syyx_api.ts"],"names":[],"mappings":";;;;;;;AAAA,8DAAwD;AAExD;IAAA;IAgDA,CAAC;IA9CU,wBAAO,GAAd,UAAe,IAAI,EAAE,GAAG,EAAE,OAAO,EAAE,QAAQ;QAEvC,IAAG,IAAI,IAAI,QAAQ,EAAE;YACnB,OAAO,CAAC,IAAI,GAAG,4BAAU,CAAC,gBAAgB,CAAA;YAC1C,OAAO,CAAC,OAAO,GAAG,4BAAU,CAAC,OAAO,CAAA;YACpC,IAAI,EAAE,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YAC9B,OAAO,CAAC,EAAE,GAAG,EAAE,CAAC;YAChB,IAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,4BAAU,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,4BAAU,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,4BAAU,CAAC,OAAO,CAAC,CAAC;YACvJ,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;SACnC;QAED,UAAU;QACV,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,KAAK,IAAI,IAAI,IAAI,OAAO,EAAE;YACtB,IAAI,KAAK,GAAG,OAAO,OAAO,CAAC,IAAI,CAAC,KAAK,QAAQ,IAAI,OAAO,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACxH,KAAK,IAAI,IAAI,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;SACrC;QACD,QAAQ;QACR,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;QAC/B,GAAG,CAAC,kBAAkB,GAAG;YACrB,IAAI,GAAG,CAAC,UAAU,IAAI,CAAC,EAAE;gBACrB,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,GAAG,EAAE;oBACvC,IAAI,QAAQ,GAAG,GAAG,CAAC,YAAY,CAAC;oBAEhC,IAAI,QAAQ,EAAE;wBACV,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;wBACxC,QAAQ,CAAC,YAAY,CAAC,CAAC;qBAC1B;yBACI;wBACD,QAAQ,CAAC,IAAI,CAAC,CAAC;qBAClB;iBACJ;qBACI;oBACD,QAAQ,CAAC,IAAI,CAAC,CAAC;iBAClB;aACJ;QACL,CAAC,CAAC;QACF,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC,SAAS,GAAG;YACxC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACnB,CAAC,CAAC;QAEF,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QAC5B,GAAG,CAAC,gBAAgB,CAAC,cAAc,EAAE,mCAAmC,CAAC,CAAC;QAC1E,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,4BAA4B;IACjD,CAAC;IAEL,uBAAC;AAAD,CAhDA,AAgDC,IAAA;AAhDY,4CAAgB","file":"","sourceRoot":"/","sourcesContent":["import { syyx_const } from \"../configs/syyx_sdk_config\";\r\n\r\nexport class syyx_api_request {\r\n\r\n    static apiPost(type, url, reqData, callback) {\r\n\r\n        if(type == 'da_dot') {\r\n          reqData.game = syyx_const.guobao_init_game\r\n          reqData.version = syyx_const.version\r\n          var ts = new Date().getTime();\r\n          reqData.ts = ts;\r\n          let sign = window['md5'](ts.toString().substr(9, 4) + syyx_const.guobao_init_game.substr(0, 2) + syyx_const.version.substr(0, 1) + syyx_const.md5_key);\r\n          reqData.sign = sign.toLowerCase();\r\n        }\r\n\r\n        //1.拼接请求参数\r\n        var param = \"\";\r\n        for (var item in reqData) {\r\n            var value = typeof reqData[item] === 'object' && reqData[item] !== null ? JSON.stringify(reqData[item]) : reqData[item];\r\n            param += item + \"=\" + value + \"&\";\r\n        }\r\n        //2.发起请求\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState == 4) {\r\n                if (xhr.status >= 200 && xhr.status < 400) {\r\n                    var response = xhr.responseText;\r\n        \r\n                    if (response) {\r\n                        var responseJson = JSON.parse(response);\r\n                        callback(responseJson);\r\n                    }\r\n                    else {\r\n                        callback(null);\r\n                    }\r\n                }\r\n                else {\r\n                    callback(null);\r\n                }\r\n            }\r\n        };\r\n        xhr.onabort = xhr.onerror = xhr.ontimeout = function () {\r\n            callback(null);\r\n        };\r\n      \r\n        xhr.open(\"POST\", url, true);\r\n        xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n        xhr.send(param); //reqData为字符串形式： \"key=value\"\r\n    }\r\n\r\n}\r\n"]}
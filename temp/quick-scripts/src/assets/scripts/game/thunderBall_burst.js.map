{"version":3,"sources":["assets\\scripts\\game\\thunderBall_burst.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAIlF,oCAAmC;AACnC,yCAA6C;AAC7C,uDAAkD;AAClD,yCAAoC;AACpC,sCAAuC;AAEjC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA+C,qCAAY;IAA3D;QAAA,qEAqCC;QAnCG,YAAM,GAAQ,CAAC,CAAC;QAChB,YAAM,GAAS,IAAI,CAAC;;IAkCxB,CAAC;IAhCG,kCAAM,GAAN;QACI,IAAI,KAAK,GAAC,MAAM,CAAC,WAAI,CAAC,QAAQ,CAAC,MAAM,EAAC,YAAY,CAAC,CAAC,CAAC;QACrD,IAAI,IAAI,GAAC,MAAM,CAAC,WAAI,CAAC,QAAQ,CAAC,WAAW,EAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QAC7D,IAAI,KAAK,GAAC,MAAM,CAAC,WAAI,CAAC,QAAQ,CAAC,kBAAkB,EAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAA;QACnE,IAAI,CAAC,MAAM,GAAC,MAAM,CAAC,WAAI,CAAC,QAAQ,CAAC,WAAW,EAAC,iBAAQ,CAAC,QAAQ,EAAC,0BAAc,CAAC,MAAM,CAAC,CAAC,GAAC,KAAK,CAAC;IACjG,CAAC;IAED,oCAAQ,GAAR;QAAA,iBASC;QARG,IAAI,CAAC,YAAY,CAAC;YACd,IAAG,KAAI,CAAC,MAAM,IAAE,IAAI,EAAC;gBAAC,CAAC;gBACnB,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,0BAAgB,CAAC,CAAC,GAAG,CAAC,KAAI,CAAC,IAAI,EAAC,KAAI,CAAC,MAAM,CAAC,CAAC;aACvE;YACD,KAAI,CAAC,YAAY,CAAC;gBACd,mBAAS,CAAC,QAAQ,CAAC,mBAAmB,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;YACtD,CAAC,EAAC,CAAC,CAAC,CAAC;QACT,CAAC,EAAC,IAAI,CAAC,CAAC;IACZ,CAAC;IACD,4CAAgB,GAAhB,UAAiB,KAAiB,EAAC,IAAgB;QAC/C,IAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAE,QAAQ,EAAC;YAC1B,IAAI,CAAC,MAAM,GAAC,KAAK,CAAC,IAAI,CAAC;SAC1B;IACL,CAAC;IACD,2CAAe,GAAf,UAAgB,KAAiB,EAAC,IAAgB;QAC9C,IAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAE,QAAQ,EAAC;YAC1B,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC;SACpB;IACL,CAAC;IACD,iCAAK,GAAL;IACA,CAAC;IACD,iCAAK,GAAL;QACI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,KAAK,CAAC;IAC3B,CAAC;IApCgB,iBAAiB;QADrC,OAAO;OACa,iBAAiB,CAqCrC;IAAD,wBAAC;CArCD,AAqCC,CArC8C,EAAE,CAAC,SAAS,GAqC1D;kBArCoB,iBAAiB","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { audioName } from \"../audioNameMgr\";\nimport audioManager from \"../main/audioManager\";\nimport { data } from \"../sdk/data\";\nimport { enemyAttribute } from \"./enemyBase\";\nimport enemyHitCollider from \"./enemyHitCollider\";\nimport skillPool from \"./skillPool\";\nimport { bossName } from \"./ui/bossHp\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class thunderBall_burst extends cc.Component {\n\n    damage:number=0;\n    player:cc.Node=null;\n\n    onLoad () {\n        let level=Number(data.getCache(\"Base\",\"choseLevel\"));\n        let diff=Number(data.getCache(\"levelStar\",level.toString()));\n        let times=Number(data.gameJson(\"enemyDamageTimes\",diff.toString()))\n        this.damage=Number(data.gameJson(\"enemyData\",bossName.miniBoss,enemyAttribute.damage))*times;\n    }\n\n    onEnable () {\n        this.scheduleOnce(()=>{\n            if(this.player!=null){;\n                this.node.getComponent(enemyHitCollider).hit(this.node,this.damage);\n            }\n            this.scheduleOnce(()=>{\n                skillPool.instance.recoveryThunderball(this.node);\n            },1);\n        },3.05);\n    }\n    onCollisionEnter(other:cc.Collider,self:cc.Collider){\n        if(other.node.group==\"player\"){\n            this.player=other.node;\n        }\n    }\n    onCollisionExit(other:cc.Collider,self:cc.Collider){\n        if(other.node.group==\"player\"){\n            this.player=null;\n        }\n    }\n    reuse(){\n    }\n    unuse(){\n        this.node.active=false;\n    }\n}\n"]}
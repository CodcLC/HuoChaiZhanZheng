{"version":3,"sources":["assets\\scripts\\game\\shuriken.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,gDAA4C;AAE5C,mDAA2D;AAC3D,6CAAwC;AACxC,0CAAqC;AAE/B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAY;IAAlD;QAAA,qEA8BC;QA5BG,YAAM,GAAQ,CAAC,CAAC;QAChB,WAAK,GAAW,IAAI,CAAC;QACrB,cAAQ,GAAiB,IAAI,CAAC;QAC9B,kBAAY,GAAmB,EAAE,CAAC;;IAyBtC,CAAC;IAvBG,yBAAM,GAAN;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;QACrD,IAAI,CAAC,MAAM,GAAC,kBAAQ,CAAC,QAAQ,CAAC,cAAc,CAAC;IACjD,CAAC;IACD,wBAAK,GAAL;QAAA,iBAMC;QALG,IAAI,KAAK,GAAG,qBAAW,CAAC,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;QACtG,IAAI,CAAC,QAAQ,CAAC,cAAc,GAAG,EAAE,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC/C,IAAI,CAAC,YAAY,CAAC;YACd,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC,EAAE,CAAC,CAAC,CAAC;IACV,CAAC;IACD,iCAAc,GAAd,UAAe,OAA0B,EAAE,YAAgC,EAAE,aAAiC;QAC1G,IAAI,KAAK,GAAG,aAAa,CAAC,IAAI,CAAC;QAC/B,IAAI,KAAK,CAAC,KAAK,IAAI,OAAO,EAAE;YACxB,MAAM;YACN,IAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC;gBAAE,OAAO;YAC7C,YAAY;YACZ,KAAK,CAAC,YAAY,CAAC,4BAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,2BAAU,CAAC,QAAQ,CAAC,CAAC;YACpF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9B,YAAY;YACZ,KAAK,CAAC,YAAY,CAAC,4BAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,wBAAS,CAAC,SAAS,CAAC,CAAC;SACnF;IACL,CAAC;IA7BgB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA8B5B;IAAD,eAAC;CA9BD,AA8BC,CA9BqC,EAAE,CAAC,SAAS,GA8BjD;kBA9BoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { audioName } from \"../audioNameMgr\";\nimport audioManager from \"../main/audioManager\";\nimport { attackType, enemyScript } from \"./animationState\";\nimport GameManager from \"./GameManager\";\nimport playerHp from \"./ui/playerHp\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class shuriken extends cc.Component {\n\n    damage:number=0;\n    speed: number = 2300;\n    rigibody: cc.RigidBody = null;\n    enemysHadHit: Array<cc.Node> = [];\n\n    onLoad() {\n        this.rigibody = this.node.getComponent(cc.RigidBody);\n        this.damage=playerHp.instance.damageShuriken;\n    }\n    start() {\n        let speed = GameManager.instance.playerController.skeleton.node.scaleX > 0 ? this.speed : -this.speed;\n        this.rigibody.linearVelocity = cc.v2(speed, 0);\n        this.scheduleOnce(() => {\n            this.node.destroy();\n        }, 3);\n    }\n    onBeginContact(contact: cc.PhysicsContact, selfCollider: cc.PhysicsCollider, otherCollider: cc.PhysicsCollider) {\n        let other = otherCollider.node;\n        if (other.group == \"enemy\") {\n            //击中敌人\n            if(this.enemysHadHit.includes(other)) return;\n            //@ts-ignore\n            other.getComponent(enemyScript[other.name]).beHit(this.damage, attackType.shuriken);\n            this.enemysHadHit.push(other);\n            //@ts-ignore\n            other.getComponent(enemyScript[other.name]).playBeHitSound(audioName.airslash1);\n        }\n    }\n}\n"]}
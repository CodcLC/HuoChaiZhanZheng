{"version":3,"sources":["assets\\scripts\\UIPrivacy.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { data } from \"./sdk/data\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class UIPrivacy extends cc.Component {\n\n    private BackBtn: cc.Node = null;//返回\n    \n    private OKBtn: cc.Node = null;//直接领取    \n    \n    private ScaleNode: cc.Node = null;\n\n    static native_have_show: boolean = false;  // 原生结banner展示\n\n    onLoad(){\n        this._onLoad()\n    }\n\n    private _onLoad() {\n        // this.BackBtn = cc.find(\"ScaleNode/BackBtn\",this.node);        \n        // this.OKBtn = cc.find(\"ScaleNode/OKBtn\",this.node);\n        this.ScaleNode = cc.find(\"ScaleNode\",this.node);\n        this._start();\n      \n    }\n\n    private _start() {        \n        // this.OKBtn.on(cc.Node.EventType.TOUCH_END, this.OneceGet, this);\n        // this.BackBtn.on(cc.Node.EventType.TOUCH_END, this.Back, this);\n      \n        this.onOpen()\n    }\n    protected onOpen() {\n        this.ScaleNode.scale = 0;\n        this.tweeNode(this.ScaleNode);\n    }\n\n    public tweeNode(node: cc.Node) {\n        cc.tween(node)\n            .to(0.3, { scale: 1 }, { easing: \"backOut\" })\n            .start();\n    }\n    /**\n     * 直接领取\n     */\n     OneceGet() {\n        data.setPrivacyOn(true)\n        if (UIPrivacy.okbtn_callback){\n            UIPrivacy.okbtn_callback()\n        }\n        this.close()\n    }\n    /**\n     * 返回\n     */\n     Back() {\n        data.setPrivacyOn(false)   \n        // this.close();\n        try {\n            //@ts-ignore\n            qg.exitApplication({\n                success: () => {\n                    console.log(\"退出成功！\");\n                },\n                fail: () => {\n                    console.log(\"退出失败！\");\n                },\n                complete: () => {\n                    console.log(\"退出执行完成！\");\n                }\n            });\n        } catch (error) {\n            cc.log(\"GameExit erro:\", JSON.stringify(error));\n        }\n    }\n\n    protected close() {\n        cc.game.targetOff(this);\n        this.node.destroy()\n    }\n\n    protected onDestroy() {\n        cc.game.targetOff(this);\n    }\n\n\n    static isShow:boolean = false\n    static okbtn_callback:Function  = null\n            \n    public static ShowPanel(callback: Function = null) {\n        {\n            if (UIPrivacy.isShow){\n                return\n            }\n            UIPrivacy.isShow = true\n            UIPrivacy.okbtn_callback = null\n            cc.loader.loadRes(\"prefabs/ui/UIPrivacy\", cc.Prefab, (error:Error, resource:cc.Prefab) => {\n                UIPrivacy.isShow = false\n                if (callback) {\n                    UIPrivacy.okbtn_callback = callback\n                }\n                if (error) {\n                    cc.error(error)\n                    return\n                }\n                if (resource) {\n                    let node: cc.Node = cc.instantiate(resource);\n                    if (node) {\n                        cc.find(\"Canvas\").addChild(node);\n                        node.active = true;\n                        node.position = cc.Vec3.ZERO;\n                    }\n                }\n            })\n        }\n    }\n}\n"]}
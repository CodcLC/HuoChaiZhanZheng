{"version":3,"sources":["assets\\scripts\\caijiTools.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+CAA2C;AAC3C,6CAAwC;AACxC,oDAA+C;AAC/C,mCAAkC;AAClC,CAAC;IACG,IAAI,KAAK,GAAG,cAAW,CAAC,CAAC;IACzB,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC;IACtC,OAAO;IACP,KAAK,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK;QAC3C,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC9C,IAAI,MAAM,GAAS,KAAK,CAAC,MAAM,CAAC;YAChC,IAAG,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,eAAe,IAAE,UAAU,EAAC;gBACzE,sBAAY,CAAC,SAAS,CAAC,wBAAS,CAAC,MAAM,EAAC,KAAK,EAAC,GAAG,CAAC,CAAC;aACtD;YACD,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;gBAC9D,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;aACjC;YACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,KAAK,CAAC,eAAe,EAAE,CAAC;SAC3B;IACL,CAAC,CAAC;AACN,CAAC,CAAC,EAAE,CAAC;AACL,IAAiB,UAAU,CAoiB1B;AApiBD,WAAiB,UAAU;IACvB;;;MAGE;IACF,SAAsB,aAAa,CAAC,IAAY;;;;;4BAClC,qBAAM,UAAU,CAAC,aAAa,CAAe,IAAI,EAAE,EAAE,CAAC,SAAS,CAAC,EAAA;;wBAAtE,GAAG,GAAG,SAAgE;wBAC1E,sBAAO,GAAG,EAAC;;;;KACd;IAHqB,wBAAa,gBAGlC,CAAA;IACD;;;;;OAKG;IACH,SAAsB,mBAAmB,CAAC,UAAkB,EAAE,IAAY;;;;;4BAC5D,qBAAM,UAAU,CAAC,aAAa,CAAe,UAAU,EAAE,IAAI,EAAE,EAAE,CAAC,SAAS,CAAC,EAAA;;wBAAlF,GAAG,GAAG,SAA4E;wBACtF,sBAAO,GAAG,EAAC;;;;KACd;IAHqB,8BAAmB,sBAGxC,CAAA;IACD,SAAsB,YAAY,CAAC,IAAY;;;;;4BACjC,qBAAM,UAAU,CAAC,aAAa,CAAkB,IAAI,EAAE,EAAE,CAAC,YAAY,CAAC,EAAA;;wBAA5E,GAAG,GAAG,SAAsE;wBAChF,sBAAO,GAAG,EAAC;;;;KACd;IAHqB,uBAAY,eAGjC,CAAA;IACD;;;OAGG;IACH,SAAsB,eAAe,CAAC,IAAY;;;;;4BACpC,qBAAM,UAAU,CAAC,aAAa,CAAiB,IAAI,EAAE,EAAE,CAAC,WAAW,CAAC,EAAA;;wBAA1E,GAAG,GAAG,SAAoE;wBAC9E,sBAAO,GAAG,EAAC;;;;KACd;IAHqB,0BAAe,kBAGpC,CAAA;IACD;;;;;OAKG;IACH,SAAsB,qBAAqB,CAAC,UAAkB,EAAE,IAAY;;;;;4BAC9D,qBAAM,UAAU,CAAC,aAAa,CAAiB,UAAU,EAAE,IAAI,EAAE,EAAE,CAAC,WAAW,CAAC,EAAA;;wBAAtF,GAAG,GAAG,SAAgF;wBAC1F,sBAAO,GAAG,EAAC;;;;KACd;IAHqB,gCAAqB,wBAG1C,CAAA;IACD;;;OAGG;IACH,SAAsB,aAAa,CAAC,IAAY;;;;;4BAClC,qBAAM,UAAU,CAAC,gBAAgB,CAAe,IAAI,EAAE,EAAE,CAAC,SAAS,CAAC,EAAA;;wBAAzE,GAAG,GAAG,SAAmE;wBAC7E,sBAAO,GAAG,EAAC;;;;KACd;IAHqB,wBAAa,gBAGlC,CAAA;IACD;;;MAGE;IACF,SAAsB,UAAU,CAAC,IAAY;;;;;4BAC/B,qBAAM,UAAU,CAAC,aAAa,CAAY,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,EAAA;;wBAAhE,GAAG,GAAG,SAA0D;wBACpE,sBAAO,GAAG,EAAC;;;;KACd;IAHqB,qBAAU,aAG/B,CAAA;IACD,SAAgB,aAAa,CAAI,IAAY,EAAE,IAAI;QAC/C,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC/B,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,UAAU,GAAG,EAAE,GAAgB;gBACzD,IAAI,GAAG,EAAE;oBACL,OAAO,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;oBAC9B,OAAO,CAAC,IAAI,CAAC,CAAC;oBACd,OAAO;iBACV;gBACD,OAAO,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAA;IACN,CAAC;IAXe,wBAAa,gBAW5B,CAAA;IACD;;;;;;OAMG;IACH,SAAgB,aAAa,CAAI,UAAkB,EAAE,IAAY,EAAE,IAAI;QACnE,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC/B,IAAI,MAAM,GAAG,EAAE,CAAC,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YACnD,IAAI,CAAC,MAAM,EAAE;gBACT,EAAE,CAAC,GAAG,CAAC,sBAAsB,EAAC,UAAU,CAAC,CAAA;gBACzC,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,UAAU,EAAE,UAAC,GAAG,EAAE,CAAC;oBAC1C,IAAI,CAAC,GAAG,EAAE;wBACN,MAAM,GAAG,CAAC,CAAC;wBACX,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,UAAC,GAAG,EAAE,GAAgB;4BAC1C,IAAI,GAAG,EAAC;gCACJ,EAAE,CAAC,GAAG,CAAC,sBAAsB,EAAC,UAAU,EAAC,IAAI,EAAC,QAAQ,EAAC,GAAG,CAAC,CAAA;6BAC9D;4BACD,OAAO,CAAC,GAAG,CAAC,CAAC;wBACjB,CAAC,CAAC,CAAC;qBACN;yBAAI;wBACD,EAAE,CAAC,GAAG,CAAC,sBAAsB,EAAC,UAAU,EAAC,QAAQ,EAAC,GAAG,CAAC,CAAA;qBACzD;gBACL,CAAC,CAAC,CAAC;aACN;iBAAM;gBACH,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,UAAC,GAAG,EAAE,GAAgB;oBAC1C,IAAI,GAAG,EAAC;wBACJ,EAAE,CAAC,GAAG,CAAC,gBAAgB,EAAC,UAAU,EAAC,IAAI,EAAC,QAAQ,EAAC,GAAG,CAAC,CAAA;qBACxD;oBACD,OAAO,CAAC,GAAG,CAAC,CAAC;gBACjB,CAAC,CAAC,CAAC;aACN;QACL,CAAC,CAAC,CAAC;IAEP,CAAC;IA5Be,wBAAa,gBA4B5B,CAAA;IACD;;;OAGG;IACH,SAAgB,iBAAiB,CAAC,UAAiB,EAAC,QAAiB;QACjE,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,UAAU,EAAE,UAAC,GAAG,EAAE,MAAM;YAC/C,IAAI,GAAG,EAAE;gBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aACpB;iBAAI;gBACD,QAAQ,CAAC,UAAU,CAAC,CAAC;aACxB;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IARe,4BAAiB,oBAQhC,CAAA;IACD,SAAgB,gBAAgB,CAAI,IAAY,EAAE,IAAI;QAClD,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC/B,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE,UAAU,GAAG,EAAE,GAAgB;gBAClE,IAAI,GAAG,EAAE;oBACL,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC;oBACjC,OAAO;iBACV;gBACD,OAAO,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAA;IACN,CAAC;IAVe,2BAAgB,mBAU/B,CAAA;IACD,SAAgB,OAAO,CAAC,MAAc,EAAE,SAA0B,EAAE,QAAwB;QAApD,0BAAA,EAAA,gBAA0B;QAAE,yBAAA,EAAA,eAAwB;QACxF,IAAI,OAAO,GAAG,MAAM,CAAC,WAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;QACpD,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC;QACzB,OAAO,IAAI,MAAM,CAAC;QAClB,WAAI,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;QAC1C,UAAU,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAClC,IAAI,SAAS,IAAI,IAAI,EAAE;YACnB,SAAS,CAAC,sBAAsB,EAAE,CAAC;YACnC,YAAY;YACZ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;iBACR,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE;gBACnB,QAAQ,EAAE,UAAC,KAAa,EAAE,GAAW,EAAE,OAAY,EAAE,CAAS;oBAC1D,0CAA0C;oBAC1C,UAAU;oBACV,IAAI,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;oBACtC,SAAS,CAAC,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBAClC,OAAO,GAAG,CAAC;gBACf,CAAC;gBAAE,MAAM,EAAE,UAAU;aACxB,CAAC;iBACD,KAAK,EAAE,CAAC;SAChB;QACD,IAAI,QAAQ,IAAI,IAAI;YAAE,OAAO;QAC7B,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,CAAC,MAAM,EAAE,UAAU,GAAG,EAAE,MAAiB;YAC5E,IAAI,GAAG,IAAI,IAAI,EAAC;gBACZ,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;gBACX,OAAM;aACT;YACD,IAAI,QAAQ,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACtC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YAC7B,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YACtE,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YACzF,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;YACvB,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC;iBACb,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;iBACvB,EAAE,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,EAAE,CAAC;iBAClD,IAAI,CAAC;gBACF,QAAQ,CAAC,OAAO,EAAE,CAAC;YACvB,CAAC,CAAC;iBACD,KAAK,EAAE,CAAC;QACjB,CAAC,CAAC,CAAC;IACP,CAAC;IAxCe,kBAAO,UAwCtB,CAAA;IACD,SAAsB,cAAc,CAAC,MAAc;;;;;4BAClC,qBAAM,UAAU,CAAC,UAAU,CAAC,uBAAuB,CAAC,EAAA;;wBAA7D,MAAM,GAAG,SAAoD;wBACjE,IAAI,CAAC,MAAM;4BAAE,sBAAO;wBAChB,IAAI,GAAG,UAAU,CAAC,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAC5D,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC;wBAChD,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;wBACjD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;;;;KACtB;IAPqB,yBAAc,iBAOnC,CAAA;IACD,SAAsB,eAAe,CAAC,MAAc;;;;;4BACnC,qBAAM,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,EAAA;;wBAA9D,MAAM,GAAG,SAAqD;wBAClE,IAAI,CAAC,MAAM;4BAAE,sBAAO;wBAChB,IAAI,GAAG,UAAU,CAAC,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAC5D,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC;wBACjD,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;wBACjD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;;;;KACtB;IAPqB,0BAAe,kBAOpC,CAAA;IACD,SAAgB,QAAQ,CAAC,MAAc,EAAE,UAA2B;QAA3B,2BAAA,EAAA,iBAA2B;QAChE,IAAI,QAAQ,GAAG,MAAM,CAAC,WAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC;QACtD,IAAI,GAAG,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC;QAC1B,QAAQ,IAAI,MAAM,CAAC;QACnB,WAAI,CAAC,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;QAC5C,qBAAW,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC;QACxC,UAAU,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACnC,IAAI,UAAU,IAAI,IAAI,EAAE;YACpB,UAAU,CAAC,sBAAsB,EAAE,CAAC;YACpC,YAAY;YACZ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;iBACR,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;gBACtB,QAAQ,EAAE,UAAC,KAAa,EAAE,GAAW,EAAE,OAAY,EAAE,CAAS;oBAC1D,0CAA0C;oBAC1C,UAAU;oBACV,IAAI,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;oBACtC,UAAU,CAAC,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBACnC,OAAO,GAAG,CAAC;gBACf,CAAC;gBAAE,MAAM,EAAE,UAAU;aACxB,CAAC;iBACD,KAAK,EAAE,CAAC;SAChB;IACL,CAAC;IAtBe,mBAAQ,WAsBvB,CAAA;IACD,SAAgB,YAAY,CAAC,MAAc;QACvC,OAAO,MAAM,CAAC,WAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,IAAI,MAAM,CAAC;IAC3D,CAAC;IAFe,uBAAY,eAE3B,CAAA;IACD,SAAgB,aAAa,CAAC,MAAc;QACxC,OAAO,MAAM,CAAC,WAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,IAAI,MAAM,CAAC;IAC5D,CAAC;IAFe,wBAAa,gBAE5B,CAAA;IACD;;;;OAIG;IACH,SAAsB,cAAc,CAAC,SAAiB,EAAE,MAAc;;;;;;wBAClE,WAAI,CAAC,WAAW,CAAC,MAAM,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC;wBACnD,WAAI,CAAC,WAAW,CAAC,OAAO,EAAE,SAAS,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC;wBACtC,qBAAM,UAAU,CAAC,UAAU,CAAC,aAAa,GAAG,MAAM,CAAC,EAAA;;wBAA5D,MAAM,GAAG,SAAmD;wBAC5D,IAAI,GAAG,UAAU,CAAC,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC,CAAC;wBAClE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC;;;;;KACnD;IANqB,yBAAc,iBAMnC,CAAA;IACD;;;MAGE;IACF,SAAsB,SAAS,CAAC,MAAc,EAAE,MAAe,EAAC,MAAW,EAAC,SAA0B;QAAtC,uBAAA,EAAA,aAAW;QAAC,0BAAA,EAAA,iBAA0B;;;;;4BACrF,qBAAM,UAAU,CAAC,UAAU,CAAC,aAAa,GAAG,MAAM,CAAC,EAAA;;wBAA5D,MAAM,GAAG,SAAmD;wBAChE,IAAG,MAAM;4BACT,sBAAO,UAAU,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAC,SAAS,CAAC,EAAC;;;;;KAClE;IAJqB,oBAAS,YAI9B,CAAA;IACD,SAAgB,UAAU,CAAC,MAAiB,EAAE,MAAe,EAAC,MAAmB,EAAC,SAA0B;QAA9C,uBAAA,EAAA,aAAmB;QAAC,0BAAA,EAAA,iBAA0B;QACxG,IAAI,OAAO,GAAY,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC9C,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC1B,OAAO,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1B,IAAI,SAAS,EAAE;YACX,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC;SACxC;QACD,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;QACxB,OAAO,OAAO,CAAC;IACnB,CAAC;IATe,qBAAU,aASzB,CAAA;IACD,SAAgB,gBAAgB,CAAC,UAAoB,EAAE,eAAyB,EAAC,QAAe;QAC5F,IAAI,QAAQ,GAAG,WAAI,CAAC,QAAQ,CAAS,MAAM,EAAE,OAAO,CAAC,CAAC;QACtD,UAAU,CAAC,MAAM,GAAG,QAAQ,CAAC;QAC7B,IAAI,qBAAW,CAAC,QAAQ,CAAC,OAAO,IAAI,eAAe,CAAC,IAAI,CAAC,MAAM,IAAI,KAAK,EAAE;YACtE,eAAe,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtC;aAAM,IAAI,qBAAW,CAAC,QAAQ,CAAC,OAAO,IAAI,KAAK,IAAI,eAAe,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;YACrF,eAAe,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACvC;QACD,IAAG,MAAM,CAAC,QAAQ,CAAC,IAAE,QAAQ;YAAE,OAAO;QACtC,IAAI,qBAAW,CAAC,QAAQ,CAAC,GAAG,IAAI,EAAE,EAAE;YAChC,eAAe,CAAC,MAAM,GAAG,GAAG,GAAG,qBAAW,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,GAAG,qBAAW,CAAC,QAAQ,CAAC,GAAG,CAAC;SAC5F;aAAM;YACH,eAAe,CAAC,MAAM,GAAG,GAAG,GAAG,qBAAW,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,qBAAW,CAAC,QAAQ,CAAC,GAAG,CAAE;SACnG;IACL,CAAC;IAde,2BAAgB,mBAc/B,CAAA;IACD;;;;;;OAMG;IACH,SAAgB,WAAW,CAAC,UAAmB,EAAE,MAAkB,EAAE,OAAmB,EAAE,OAAoB;QAA7D,uBAAA,EAAA,UAAkB;QAAE,wBAAA,EAAA,WAAmB;QAAE,wBAAA,EAAA,YAAoB;QAC1G,IAAI,KAAK,GAAC,CAAC,CAAC;QACZ,IAAI,IAAI,GAAC,OAAO,CAAC;QACjB,IAAI,IAAI,GAAC,OAAO,CAAC;QACjB,IAAI,KAAK,GAAC,UAAC,EAAE,EAAC,EAAE;YACZ,KAAK,EAAE,CAAC;YACR,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC;iBACnB,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAC,EAAE,EAAE,CAAC;iBAClB,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAC,CAAC,EAAE,EAAE,CAAC;iBACnB,IAAI,CAAC;gBACF,IAAG,KAAK,GAAC,MAAM,EAAC;oBACZ,IAAI,GAAC,IAAI,GAAC,OAAO,GAAC,MAAM,CAAC;oBACzB,IAAI,GAAC,IAAI,GAAC,OAAO,GAAC,MAAM,CAAC;oBACzB,KAAK,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC;iBACpB;YACL,CAAC,CAAC;iBACD,KAAK,EAAE,CAAA;QACZ,CAAC,CAAA;QACD,KAAK,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC;IACrB,CAAC;IAnBe,sBAAW,cAmB1B,CAAA;IACD;;;OAGG;IACH,SAAgB,sBAAsB,CAAC,MAAiB;QACpD,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;QAC3D,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;IACtB,CAAC;IAHe,iCAAsB,yBAGrC,CAAA;IAED;;;;OAIG;IACH,SAAgB,qBAAqB,CAAC,IAAa,EAAE,IAAa;QAC9D,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;IACxE,CAAC;IAFe,gCAAqB,wBAEpC,CAAA;IACD;;;;OAIG;IACH,SAAgB,eAAe,CAAC,CAAC,EAAE,CAAC;QAChC,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,aAAa;QACzC,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAI,cAAc;QAClD,OAAO,KAAK,CAAC;IACjB,CAAC;IAJe,0BAAe,kBAI9B,CAAA;IACD,wCAAwC;IACxC,yCAAyC;IACzC;;;OAGG;IACH,SAAgB,YAAY,CAAC,KAAK;QAC9B,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC;QACzC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC;QACzC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvB,CAAC;IAJe,uBAAY,eAI3B,CAAA;IACD;;;;;;OAMG;IACH,SAAgB,kBAAkB,CAAC,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,QAAQ;QACrE,IAAI,MAAM,GAAG,IAAI,KAAK,EAAE,CAAC;QACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE;YAC/B,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;SACvB;QACD,KAAK,IAAI,GAAC,GAAG,CAAC,EAAE,GAAC,GAAG,QAAQ,EAAE,GAAC,EAAE,EAAE;YAC/B,IAAI,CAAC,GAAG,GAAC,GAAG,QAAQ,CAAC;YACrB,MAAM,CAAC,GAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC;kBAC5D,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC;kBACtD,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACzD,MAAM,CAAC,GAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC;kBAC5D,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC;kBACtD,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;SAC5D;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAfe,6BAAkB,qBAejC,CAAA;IACD;;;;OAIG;IACH,SAAgB,UAAU,CAAC,MAAiB,EAAE,WAAoB,EAAE,IAAoB;QAApB,qBAAA,EAAA,WAAoB;QACpF,IAAM,CAAC,GAAW,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC;QAC/D,IAAM,CAAC,GAAW,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC;QAEjE,IAAI,WAAW,GAAqB,IAAI,EAAE,CAAC,aAAa,EAAE,CAAC;QAC3D,YAAY;QACZ,IAAI,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC;QAChC,YAAY;QACZ,WAAW,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,cAAc,CAAC,CAAC;QAElD,kCAAkC;QAClC,MAAM,CAAC,aAAa,GAAG,WAAW,CAAC;QACnC,YAAY;QACZ,MAAM,CAAC,MAAM,EAAE,CAAC;QAEhB,eAAe;QACf,IAAI,MAAM,GAAG,IAAI,UAAU,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvC,IAAI,IAAI,GAAG,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,MAAM,GAAG,WAAW,CAAC,KAAK,CAAC;QAC/B,IAAI,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC;QACjC,IAAI,OAAO,GAAG,UAAU,CAAC,UAAU,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;QAE3D,IAAI,SAAS,GAAiB,IAAI,EAAE,CAAC,SAAS,EAAE,CAAC;QACjD,YAAY;QACZ,SAAS,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;QAExE,IAAI,WAAW,GAAG,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QACvC,WAAW,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QAElC,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAG,WAAW,CAAC;QAC9D,WAAW,CAAC,cAAc,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC1C,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC;QAC5B;yEACiE;IACrE,CAAC;IAlCe,qBAAU,aAkCzB,CAAA;IACD;;;;;;OAMG;IACH,SAAgB,iBAAiB,CAAC,MAAiB,EAAE,WAAoB,EAAE,MAAc,EAAE,SAAiB;QACxG,IAAM,CAAC,GAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC;QACnC,IAAM,CAAC,GAAW,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC;QAEpC,IAAI,WAAW,GAAqB,IAAI,EAAE,CAAC,aAAa,EAAE,CAAC;QAC3D,YAAY;QACZ,IAAI,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC;QAChC,YAAY;QACZ,WAAW,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,cAAc,CAAC,CAAC;QAElD,kCAAkC;QAClC,MAAM,CAAC,aAAa,GAAG,WAAW,CAAC;QACnC,YAAY;QACZ,MAAM,CAAC,MAAM,EAAE,CAAC;QAEhB,eAAe;QACf,IAAI,MAAM,GAAG,IAAI,UAAU,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvC,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,IAAI,CAAC,GAAG,MAAM,CAAC,CAAO,kBAAkB;QACxC,IAAI,QAAQ,GAAG,SAAS,CAAC,CAAE,MAAM;QACjC,IAAI,IAAI,GAAG,WAAW,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAA,eAAe;QAC5E,IAAI,MAAM,GAAG,WAAW,CAAC,KAAK,CAAC;QAC/B,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;QAEtD,IAAI,SAAS,GAAiB,IAAI,EAAE,CAAC,SAAS,EAAE,CAAC;QACjD,YAAY;QACZ,SAAS,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;QAEzE,IAAI,WAAW,GAAG,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QACvC,WAAW,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QAElC,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAG,WAAW,CAAC;QAC9D,WAAW,CAAC,cAAc,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;IACrD,CAAC;IAjCe,4BAAiB,oBAiChC,CAAA;IACD,SAAgB,UAAU,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM;QAC1C,wBAAwB;QACxB,IAAI,OAAO,GAAG,IAAI,UAAU,CAAC,KAAK,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC;QACjD,IAAI,QAAQ,GAAG,KAAK,GAAG,CAAC,CAAC;QACzB,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,EAAE,EAAE;YACnC,IAAI,IAAI,GAAG,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC;YAC5B,IAAI,KAAK,GAAG,IAAI,GAAG,KAAK,GAAG,CAAC,CAAC;YAC7B,IAAI,OAAO,GAAG,GAAG,GAAG,KAAK,GAAG,CAAC,CAAC;YAC9B,uBAAuB;YACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE;gBAC/B,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;aAC1C;SACJ;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAde,qBAAU,aAczB,CAAA;IACD;;;;OAIG;IACF,SAAgB,gBAAgB,CAAC,MAAiB,EAAE,MAAiB;QAClE,IAAI,OAAO,GAAG,IAAI,EAAE,CAAC,aAAa,EAAE,CAAC;QACrC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC5D,IAAI,WAAW,GAAG,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QACvC,WAAW,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAChC,MAAM,CAAC,aAAa,GAAG,OAAO,CAAC;QAC/B,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC;IACrC,CAAC;IAPgB,2BAAgB,mBAOhC,CAAA;IACD,SAAgB,qBAAqB,CAAC,QAAqB,EAAE,aAAqB,EAAE,SAAS,EAAE,MAAuB;QAAvB,uBAAA,EAAA,cAAuB;QAClH,IAAI,aAAa,IAAI,QAAQ,CAAC,SAAS,EAAE;YACrC,OAAO;SACV;QACD,QAAQ,CAAC,YAAY,CAAC,CAAC,EAAE,aAAa,EAAE,MAAM,CAAC,CAAC;QAChD,QAAQ,CAAC,SAAS,GAAG,SAAS,CAAC;IACnC,CAAC;IANe,gCAAqB,wBAMpC,CAAA;IACD;;;;OAIG;IACH,SAAgB,YAAY,CAAC,QAAmB,EAAE,QAAqB;QACnE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACtC,IAAI,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,IAAI,CAAC,EAAE;gBACR,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;aACzC;iBAAM;gBACH,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;aACzC;YACD,QAAQ,CAAC,MAAM,EAAE,CAAC;SACrB;IACL,CAAC;IAVe,uBAAY,eAU3B,CAAA;IACD;;;MAGE;IACD,SAAgB,aAAa,CAAC,IAAc;QACzC,IAAI,QAAQ,GAAa,UAAU,IAAY;YAC3C,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;gBAC/B,YAAY;gBACZ,EAAE,CAAC,cAAc,CAAC;oBACd,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,UAAU,GAAG;wBAClB,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,EAAE,UAAC,GAAG,EAAE,MAAM;4BACzC,IAAI,GAAG,EAAE;gCACL,MAAM,CAAC,GAAG,CAAC,CAAC;gCACZ,OAAO;6BACV;4BACD,OAAO,CAAC,IAAI,GAAG,MAAM,CAAC,CAAA;wBAC1B,CAAC,CAAC,CAAC;oBACP,CAAC;oBACD,IAAI,EAAE,UAAU,GAAG;wBACf,MAAM,CAAC,GAAG,CAAC,CAAC;oBAChB,CAAC;iBACJ,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QACP,CAAC,CAAA;QACD,IAAI,QAAQ,GAAsB,EAAE,CAAC;QACrC,IAAI,CAAC,OAAO,CAAC,UAAA,IAAI;YACb,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QACH,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;IA1BgB,wBAAa,gBA0B7B,CAAA;IACD;;;;;;;MAOE;IACF,SAAgB,uBAAuB,CAAC,IAAa,EAAE,WAAmB,EAAE,MAAc,EAAE,OAAgB,EAAE,IAAiB;QAAjB,qBAAA,EAAA,SAAiB;QAC3H,IAAI,iBAAiB,GAA8B,IAAI,EAAE,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QACnF,iBAAiB,CAAC,MAAM,GAAG,IAAI,CAAC;QAChC,iBAAiB,CAAC,SAAS,GAAG,WAAW,CAAC;QAC1C,iBAAiB,CAAC,OAAO,GAAG,MAAM,CAAC;QACnC,IAAI,IAAI,IAAI,EAAE,EAAE;YACZ,iBAAiB,CAAC,eAAe,GAAG,IAAI,CAAC;SAC5C;QACD,IAAI,MAAM,GAAc,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QACxD,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC/C,CAAC;IAVe,kCAAuB,0BAUtC,CAAA;IACD,SAAgB,iBAAiB,CAAC,cAAuB,EAAC,mBAAiC;QAAzD,+BAAA,EAAA,kBAAuB;QAAC,oCAAA,EAAA,2BAAiC;QACvF,IAAI,cAAc,GAAC,EAAE,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC;QACnD,IAAI,eAAe,GAAC,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC;QACtD,cAAc,CAAC,OAAO,GAAC,IAAI,CAAC;QAC5B,eAAe,CAAC,OAAO,GAAC,IAAI,CAAC;QAC7B,eAAe,CAAC,gBAAgB,GAAC,mBAAmB,IAAE,KAAK,CAAA,CAAC,CAAA,KAAK,CAAA,CAAC,CAAA,IAAI,CAAC;QACvE,cAAc,CAAC,cAAc,GAAC,cAAc,IAAE,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAC;IACxD,CAAC;IAPe,4BAAiB,oBAOhC,CAAA;IACD;;;;;OAKG;IACH,SAAgB,UAAU,CAAC,GAAG,EAAE,GAAG;QAC/B,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IAC7D,CAAC;IAFe,qBAAU,aAEzB,CAAA;AACL,CAAC,EApiBgB,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAoiB1B","file":"","sourceRoot":"/","sourcesContent":["import { audioName } from \"./audioNameMgr\";\nimport dontDestroy from \"./dontDestroy\";\nimport audioManager from \"./main/audioManager\";\nimport { data } from \"./sdk/data\";\n(function(){\n    var Super = function(){};\n    Super.prototype = cc.Button.prototype;\n    //实例化原型\n    Super.prototype._onTouchBegan = function (event) {\n        if (this.interactable && this.enabledInHierarchy) {\n            let target:cc.Node=event.target;\n            if(target.getComponent(cc.Button).clickEvents[0].customEventData!=\"offsound\"){\n                audioManager.playAudio(audioName.button,false,0.6);\n            }\n            if (this._pressed) {\n                cc.Component.EventHandler.emitEvents(this.clickEvents, event);\n                this.node.emit(\"click\", this);\n            }\n            this._pressed = true;\n            this._updateState();\n            event.stopPropagation();\n        }\n    };\n})();\nexport namespace caijiTools {\n    /**\n     * 加载音频资源\n     * @param path resource下路径\n    */\n    export async function loadAudioClip(path: string) {\n        let res = await caijiTools.loadResources<cc.AudioClip>(path, cc.AudioClip);\n        return res;\n    }\n    /**\n     * 加载分包中音频\n     * @param bundleName 分包名\n     * @param path 分包下路径\n     * @returns \n     */\n    export async function loadAudioClipBundle(bundleName: string, path: string) {\n        let res = await caijiTools.loadBundleRes<cc.AudioClip>(bundleName, path, cc.AudioClip);\n        return res;\n    }\n    export async function loadSkeleton(path: string) {\n        let res = await caijiTools.loadResources<sp.SkeletonData>(path, sp.SkeletonData);\n        return res;\n    }\n    /**\n     * 加载图片资源\n     * @param path resource下路径\n     */\n    export async function loadSpriteFrame(path: string) {\n        let res = await caijiTools.loadResources<cc.SpriteFrame>(path, cc.SpriteFrame);\n        return res;\n    }\n    /**\n     * 加载分包中图片\n     * @param bundleName 分包名\n     * @param path 分包下路径\n     * @returns \n     */\n    export async function loadSpriteFrameBundle(bundleName: string, path: string) {\n        let res = await caijiTools.loadBundleRes<cc.SpriteFrame>(bundleName, path, cc.SpriteFrame);\n        return res;\n    }\n    /**\n     * 加载texture2d资源\n     * @param path 远程链接\n     */\n    export async function loadUrlTxture(path: string) {\n        let res = await caijiTools.loadUrlResources<cc.Texture2D>(path, cc.Texture2D);\n        return res;\n    }\n    /**\n     * 加载预制体资源\n     * @param path resource下路径\n    */\n    export async function loadPrefab(path: string) {\n        let res = await caijiTools.loadResources<cc.Prefab>(path, cc.Prefab);\n        return res;\n    }\n    export function loadResources<T>(path: string, type): Promise<T> {\n        return new Promise((resolve, reject) => {\n            cc.resources.load(path, type, function (err, res: typeof type) {\n                if (err) {\n                    console.log(\"加载资源失败！\" + path);\n                    resolve(null);\n                    return;\n                }\n                resolve(res);\n            });\n        })\n    }\n    /**\n     * 加载分包资源\n     * @param bundleName 分包名\n     * @param path 分包下路径\n     * @param type 文件类型\n     * @returns \n     */\n    export function loadBundleRes<T>(bundleName: string, path: string, type): Promise<T> {\n        return new Promise((resolve, reject) => {\n            let bundle = cc.assetManager.getBundle(bundleName);\n            if (!bundle) {\n                cc.log(\"loadBundleRes first:\",bundleName)\n                cc.assetManager.loadBundle(bundleName, (err, b) => {\n                    if (!err) {\n                        bundle = b;\n                        bundle.load(path, type, (err, res: typeof type) => {\n                            if (err){\n                                cc.log(\"loadBundleRes first:\",bundleName,path,\" fail:\",err)\n                            }\n                            resolve(res);\n                        });\n                    }else{\n                        cc.log(\"loadBundleRes first:\",bundleName,\" fail:\",err)\n                    }\n                });\n            } else {\n                bundle.load(path, type, (err, res: typeof type) => {\n                    if (err){\n                        cc.log(\"loadBundleRes:\",bundleName,path,\" fail:\",err)\n                    }\n                    resolve(res);\n                });\n            }\n        });\n\n    }\n    /**\n     * 加载分包\n     * @param bundleName 分包名\n     */\n    export function loadBundlePackage(bundleName:string,callBack:Function){\n        cc.assetManager.loadBundle(bundleName, (err, bundle) => {\n            if (err) {\n                console.log(err);\n            }else{\n                callBack(bundleName);\n            }\n        });\n    }\n    export function loadUrlResources<T>(path: string, type): Promise<T> {\n        return new Promise((resolve, reject) => {\n            cc.assetManager.loadRemote(path, type, function (err, res: typeof type) {\n                if (err) {\n                    console.log(\"加载url资源失败！\" + path);\n                    return;\n                }\n                resolve(res);\n            });\n        })\n    }\n    export function addCoin(addNum: number, coinLabel: cc.Label = null, coinNode: cc.Node = null) {\n        let nowCoin = Number(data.getCache(\"Base\", \"coin\"));\n        let obj = { a: nowCoin };\n        nowCoin += addNum;\n        data.updateCache(\"Base\", \"coin\", nowCoin);\n        caijiTools.showGetCoinTip(addNum);\n        if (coinLabel != null) {\n            coinLabel.unscheduleAllCallbacks();\n            //@ts-ignore\n            cc.tween(obj)\n                .to(1, { a: nowCoin }, {\n                    progress: (start: number, end: number, current: any, t: number) => {\n                        //start:起始值 end:终点值 current:当前值 t:总时占比0~1 \n                        //返回值为最终赋值\n                        let now = cc.misc.lerp(start, end, t);\n                        coinLabel.string = now.toFixed(0);\n                        return now;\n                    }, easing: \"cubicOut\"\n                })\n                .start();\n        }\n        if (coinNode == null) return;\n        cc.resources.load(\"prefab/addLable\", cc.Prefab, function (err, Prefab: cc.Prefab) {\n            if (err != null){\n                cc.log(err)\n                return\n            }\n            let addLable = cc.instantiate(Prefab);\n            addLable.setParent(coinNode);\n            addLable.setPosition(cc.v2(coinNode.width / 2, -coinNode.height / 2));\n            addLable.getComponent(cc.Label).string = addNum > 0 ? (\"+\" + addNum) : addNum.toString();\n            addLable.active = true;\n            cc.tween(addLable)\n                .to(0.1, { scale: 0.8 })\n                .by(0.5, { position: cc.v3(0, 70), opacity: -255 })\n                .call(() => {\n                    addLable.destroy();\n                })\n                .start();\n        });\n    }\n    export async function showGetCoinTip(addNum: number) {\n        let prefab = await caijiTools.loadPrefab(\"prefabs/ui/getCoinTip\");\n        if (!prefab) return;\n        let node = caijiTools.createNode(prefab, cc.find(\"Canvas\"));\n        node.getComponent(\"getCoinTip\").addNum = addNum;\n        node.setPosition(0, cc.winSize.height / 2 * 0.2);\n        node.active = true;\n    }\n    export async function showGetPowerTip(addNum: number) {\n        let prefab = await caijiTools.loadPrefab(\"prefabs/ui/getPowerTip\");\n        if (!prefab) return;\n        let node = caijiTools.createNode(prefab, cc.find(\"Canvas\"));\n        node.getComponent(\"getPowerTip\").addNum = addNum;\n        node.setPosition(0, cc.winSize.height / 2 * 0.2);\n        node.active = true;\n    }\n    export function addPower(addNum: number, powerLabel: cc.Label = null) {\n        let nowPower = Number(data.getCache(\"Base\", \"power\"));\n        let obj = { a: nowPower };\n        nowPower += addNum;\n        data.updateCache(\"Base\", \"power\", nowPower);\n        dontDestroy.instance.checkPowerIsFull();\n        caijiTools.showGetPowerTip(addNum);\n        if (powerLabel != null) {\n            powerLabel.unscheduleAllCallbacks();\n            //@ts-ignore\n            cc.tween(obj)\n                .to(0.5, { a: nowPower }, {\n                    progress: (start: number, end: number, current: any, t: number) => {\n                        //start:起始值 end:终点值 current:当前值 t:总时占比0~1 \n                        //返回值为最终赋值\n                        let now = cc.misc.lerp(start, end, t);\n                        powerLabel.string = now.toFixed(0);\n                        return now;\n                    }, easing: \"cubicOut\"\n                })\n                .start();\n        }\n    }\n    export function isCoinEnough(number: number) {\n        return Number(data.getCache(\"Base\", \"coin\")) >= number;\n    }\n    export function isPowerEnough(number: number) {\n        return Number(data.getCache(\"Base\", \"power\")) >= number;\n    }\n    /**\n     * 展示解锁皮肤弹窗 \n     * @param skinIndex 下标从0开始\n     * @param uiName 获得皮肤弹窗ui名\n     */\n    export async function showUnlockSkin(skinIndex: number, uiName: string) {\n        data.updateCache(\"Base\", \"inUsingSkin\", skinIndex);\n        data.updateCache(\"skins\", skinIndex.toString(), 1);\n        let prefab = await caijiTools.loadPrefab(\"prefabs/ui/\" + uiName);\n        let ndoe = caijiTools.createNode(prefab, cc.find(\"Canvas\"), true);\n        ndoe.getComponent(uiName).skinIndex = skinIndex;\n    }\n    /**\n    * 弹窗\n    * @param uiName 弹窗ui名\n    */\n    export async function showPopup(uiName: string, parent: cc.Node,isShow=true,zIndexMax: boolean = false) {\n        let prefab = await caijiTools.loadPrefab(\"prefabs/ui/\" + uiName);\n        if(prefab)\n        return caijiTools.createNode(prefab, parent, isShow,zIndexMax);\n    }\n    export function createNode(prefab: cc.Prefab, parent: cc.Node,isShow:boolean=true,zIndexMax: boolean = false) {\n        let newNode: cc.Node = cc.instantiate(prefab);\n        newNode.setParent(parent);\n        newNode.setPosition(0, 0);\n        if (zIndexMax) {\n            newNode.zIndex = cc.macro.MAX_ZINDEX;\n        }\n        newNode.active = isShow;\n        return newNode;\n    }\n    export function updatePowerTimer(powerLabel: cc.Label, powerTimerLabel: cc.Label,maxPower:number) {\n        let nowPower = data.getCache<string>(\"Base\", \"power\");\n        powerLabel.string = nowPower;\n        if (dontDestroy.instance.isTimer && powerTimerLabel.node.active == false) {\n            powerTimerLabel.node.active = true;\n        } else if (dontDestroy.instance.isTimer == false && powerTimerLabel.node.active == true) {\n            powerTimerLabel.node.active = false;\n        }\n        if(Number(nowPower)>=maxPower) return;\n        if (dontDestroy.instance.sec >= 10) {\n            powerTimerLabel.string = \"0\" + dontDestroy.instance.min + \":\" + dontDestroy.instance.sec;\n        } else {\n            powerTimerLabel.string = \"0\" + dontDestroy.instance.min + \":\" + \"0\" + dontDestroy.instance.sec ;\n        }\n    }\n    /**\n     * 抖动相机\n     * @param cameraNode 相机节点\n     * @param repeat 重复次数\n     * @param offsetX x偏移量\n     * @param offsetY y偏移量\n     */\n    export function screenShake(cameraNode: cc.Node, repeat: number = 6, offsetX: number = 5, offsetY: number = 10) {\n        let times=0;\n        let nowX=offsetX;\n        let nowY=offsetY;\n        let tween=(ox,oy)=>{\n            times++;\n            cc.tween(cameraNode)\n            .by(0.03, { y:oy })\n            .by(0.03, { y:-oy })\n            .call(()=>{\n                if(times<repeat){\n                    nowX=nowX-offsetX/repeat;\n                    nowY=nowY-offsetY/repeat;\n                    tween(nowX,nowY);\n                }\n            })\n            .start()\n        }\n        tween(nowX,nowY);\n    }\n    /**\n     * 改变build相机的y轴坐标使其建筑一直保持在最底部\n     * @param camera 目标相机\n     */\n    export function changeBulidCamera_posY(camera: cc.Camera) {\n        let Y = (1 / camera.zoomRatio - 1) * cc.winSize.height / 2;\n        camera.node.y = Y;\n    }\n\n    /**\n     * 获取两向量的夹角\n     * @param vec1 向量1\n     * @param vec2 向量2\n     */\n    export function getAngleBetweenTwoVec(vec1: cc.Vec2, vec2: cc.Vec2) {\n        return vec1.normalize().signAngle(vec2.normalize()) * 180 / Math.PI;\n    }\n    /**\n     * 获取方向角度（以y轴正方向为基准顺时针旋转180°为正，逆时针180°为负）\n     * @param x \n     * @param y \n     */\n    export function getAngleDependY(x, y) {\n        let rad = Math.atan2(x, y); // 反正切函数，得到弧度\n        let angle = 180 * rad / Math.PI;    // 将弧度rad转换为角度\n        return angle;\n    }\n    //cc.misc.degreesToRadians(deg) // 角度转弧度\n    //cc.misc.radiansToDegrees(rad)  // 弧度转角度\n    /**\n     * 获取角度方向向量\n     * @param angle 角度\n     */\n    export function getDirection(angle) {\n        let x = Math.sin(-angle * Math.PI / 180);\n        let y = Math.cos(-angle * Math.PI / 180);\n        return cc.v2(x, y);\n    }\n    /**\n     * 获取贝塞尔曲线轨迹点\n     * @param startPos 起点\n     * @param controlPos 控制点\n     * @param endPos 终点\n     * @param posCount  取点数量\n     */\n    export function getBezierPositions(startPos, controlPos, endPos, posCount) {\n        let result = new Array();\n        for (var i = 0; i < posCount; i++) {\n            result[i] = cc.v2();\n        }\n        for (let i = 0; i < posCount; i++) {\n            let t = i / posCount;\n            result[i].x = 1 * Math.pow(1 - t, 2) * Math.pow(t, 0) * startPos.x\n                + 2 * Math.pow(1 - t, 1) * Math.pow(t, 1) * controlPos.x\n                + 1 * Math.pow(1 - t, 0) * Math.pow(t, 2) * endPos.x;\n            result[i].y = 1 * Math.pow(1 - t, 2) * Math.pow(t, 0) * startPos.y\n                + 2 * Math.pow(1 - t, 1) * Math.pow(t, 1) * controlPos.y\n                + 1 * Math.pow(1 - t, 0) * Math.pow(t, 2) * endPos.y;\n        }\n        return result;\n    }\n    /**\n    * 截屏\n    * @param camera 渲染摄像机\n    * @param showTexture 渲染到目标节点（带sprite组件）\n     */\n    export function cutPicture(camera: cc.Camera, showTexture: cc.Node, size: cc.Size = null) {\n        const w: number = size != null ? size.width : cc.winSize.width;\n        const h: number = size != null ? size.height : cc.winSize.height;\n\n        let rendTexture: cc.RenderTexture = new cc.RenderTexture();\n        //@ts-ignore\n        let gl = cc.game._renderContext;\n        //@ts-ignore\n        rendTexture.initWithSize(w, h, gl.STENCIL_INDEX8);\n\n        //camera.cullingMask = 0xffffffff;\n        camera.targetTexture = rendTexture;\n        //@ts-ignore\n        camera.render();\n\n        // 指定需要读取的区域的像素\n        let pixels = new Uint8Array(w * h * 4);\n        let data = rendTexture.readPixels(pixels);\n        let _width = rendTexture.width;\n        let _height = rendTexture.height;\n        let picData = caijiTools.filpYImage(data, _width, _height);\n\n        let texture2d: cc.Texture2D = new cc.Texture2D();\n        //@ts-ignore\n        texture2d.initWithData(picData, cc.Texture2D.RGBA8888, _width, _height);\n\n        let spriteFrame = new cc.SpriteFrame();\n        spriteFrame.setTexture(texture2d);\n\n        showTexture.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        showTexture.setContentSize(cc.size(w, h));\n        camera.targetTexture = null;\n        /*         console.log(\"size===\"+showTexture.getContentSize());\n                console.log(\"pos===\"+showTexture.position.toString()); */\n    }\n    /**\n     * 截取指定高度的图\n     * @param camera 渲染相机\n     * @param showTexture 渲染至目标节点\n     * @param startY y轴开始坐标（屏幕坐标）\n     * @param cutHeight 截取高度\n     */\n    export function cutPicture_height(camera: cc.Camera, showTexture: cc.Node, startY: number, cutHeight: number) {\n        const w: number = cc.winSize.width;\n        const h: number = cc.winSize.height;\n\n        let rendTexture: cc.RenderTexture = new cc.RenderTexture();\n        //@ts-ignore\n        let gl = cc.game._renderContext;\n        //@ts-ignore\n        rendTexture.initWithSize(w, h, gl.STENCIL_INDEX8);\n\n        //camera.cullingMask = 0xffffffff;\n        camera.targetTexture = rendTexture;\n        //@ts-ignore\n        camera.render();\n\n        // 指定需要读取的区域的像素\n        let pixels = new Uint8Array(w * h * 4);\n        let x = 0;\n        let y = startY;       //（x,y）为开始截取的屏幕坐标点\n        let Pixels_y = cutHeight;  //截取高度\n        let data = rendTexture.readPixels(pixels, x, y, w, Pixels_y);//readPixels();\n        let _width = rendTexture.width;\n        let picData = this.filpYImage(data, _width, Pixels_y);\n\n        let texture2d: cc.Texture2D = new cc.Texture2D();\n        //@ts-ignore\n        texture2d.initWithData(picData, cc.Texture2D.RGBA8888, _width, Pixels_y);\n\n        let spriteFrame = new cc.SpriteFrame();\n        spriteFrame.setTexture(texture2d);\n\n        showTexture.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        showTexture.setContentSize(cc.size(w, Pixels_y));\n    }\n    export function filpYImage(data, width, height) {\n        // create the data array\n        let picData = new Uint8Array(width * height * 4);\n        let rowBytes = width * 4;\n        for (let row = 0; row < height; row++) {\n            let srow = height - 1 - row;\n            let start = srow * width * 4;\n            let reStart = row * width * 4;\n            // save the piexls data\n            for (let i = 0; i < rowBytes; i++) {\n                picData[reStart + i] = data[start + i];\n            }\n        }\n        return picData;\n    }\n    /**\n     * 将相机渲染到节点\n     * @param sprite 目标精灵组件\n     * @param camera 渲染相机\n     */\n     export function setCameraTexture(sprite: cc.Sprite, camera: cc.Camera) {\n        let texture = new cc.RenderTexture();\n        texture.initWithSize(sprite.node.width, sprite.node.height);\n        let spriteFrame = new cc.SpriteFrame();\n        spriteFrame.setTexture(texture);\n        camera.targetTexture = texture;\n        sprite.spriteFrame = spriteFrame;\n    }\n    export function playSkeletonAnimation(skeleton: sp.Skeleton, animationName: string, timeScale, isLoop: boolean = false) {\n        if (animationName == skeleton.animation) {\n            return;\n        }\n        skeleton.setAnimation(0, animationName, isLoop);\n        skeleton.timeScale = timeScale;\n    }\n    /**\n     * graphics画线\n     * @param wordlPos 世界坐标点集\n     * @param graphics graphics组件\n     */\n    export function drawGraphics(wordlPos: cc.Vec2[], graphics: cc.Graphics) {\n        for (let i = 0; i < wordlPos.length; i++) {\n            let nodePos = graphics.node.convertToNodeSpaceAR(wordlPos[i]);\n            if (i == 0) {\n                graphics.moveTo(nodePos.x, nodePos.y);\n            } else {\n                graphics.lineTo(nodePos.x, nodePos.y);\n            }\n            graphics.stroke();\n        }\n    }\n    /**\n     * 依次加载指定的游戏子包(子节跳动)\n     * @param name 子包别名集合\n    */\n     export function loadSubPackge(name: string[]) {\n        let loadFunc: Function = function (name: string) {\n            return new Promise((resolve, reject) => {\n                //@ts-ignore\n                tt.loadSubpackage({\n                    name: name, // name 可以填 name 或者 root\n                    success: function (res) {\n                        cc.assetManager.loadBundle(name, (err, bundle) => {\n                            if (err) {\n                                reject(err);\n                                return;\n                            }\n                            resolve(name + \"加载完成\")\n                        });\n                    },\n                    fail: function (res) {\n                        reject(res);\n                    }\n                });\n            });\n        }\n        let promises: Promise<string>[] = [];\n        name.forEach(root => {\n            promises.push(loadFunc(root));\n        });\n        return Promise.all(promises);\n    }\n    /**\n    * 动态绑定Button点击事件\n    * @param node         脚本所在节点\n    * @param script_name  脚本文件名\n    * @param method       指向脚本文件中的方法 \n    * @param btnNode      button组件所在节点\n    * @param data         传递的参数 \n    */\n    export function BindButtonClickListener(node: cc.Node, script_name: string, method: string, btnNode: cc.Node, data: string = \"\"): void {\n        var clickEventHandler: cc.Component.EventHandler = new cc.Component.EventHandler();\n        clickEventHandler.target = node;\n        clickEventHandler.component = script_name;\n        clickEventHandler.handler = method;\n        if (data != \"\") {\n            clickEventHandler.customEventData = data;\n        }\n        var button: cc.Button = btnNode.getComponent(cc.Button);\n        button.clickEvents.push(clickEventHandler);\n    }\n    export function openPhysicsSystem(isShowDebugPhy:Number=1,isShowDebugCollider:boolean=false){\n        let physicsManager=cc.director.getPhysicsManager();\n        let colliderManager=cc.director.getCollisionManager();\n        physicsManager.enabled=true;\n        colliderManager.enabled=true;\n        colliderManager.enabledDebugDraw=isShowDebugCollider==false?false:true;\n        physicsManager.debugDrawFlags=isShowDebugPhy==1?1:0;\n    }\n    /**\n     * 随机整数\n     * @param min 最小值\n     * @param max 最大值\n     * @returns \n     */\n    export function random_int(min, max): number {  \n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n}\n"]}